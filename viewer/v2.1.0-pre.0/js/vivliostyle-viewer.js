/**
 * @vivliostyle/viewer v2.1.0-pre.0
 * Vivliostyle Viewer - HTML+CSS typesetting and rich paged viewing with EPUB/Web publications support
 *
 * @author Vivliostyle Foundation
 * @license AGPL-3.0
 * @preserve
 */
!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e,t){return e(t={exports:{}},t.exports),t.exports}var t,n,i=e((function(e,t){
/*!
	   * Knockout JavaScript library v3.5.1
	   * (c) The Knockout.js team - http://knockoutjs.com/
	   * License: MIT (http://www.opensource.org/licenses/mit-license.php)
	   */
!function(n){var i=this||(0,eval)("this"),o=i.document,s=i.navigator,r=i.jQuery,a=i.JSON;r||"undefined"==typeof jQuery||(r=jQuery),function(n){n(e.exports||t)}((function(e,t){function l(e,t){return(null===e||typeof e in S)&&e===t}function h(e,t){var i;return function(){i||(i=y.a.setTimeout((function(){i=n,e()}),t))}}function c(e,t){var n;return function(){clearTimeout(n),n=y.a.setTimeout(e,t)}}function u(e,t){t&&"change"!==t?"beforeChange"===t?this.pc(e):this.gb(e,t):this.qc(e)}function d(e,t){null!==t&&t.s&&t.s()}function p(e,t){var n=this.qd,i=n[x];i.ra||(this.Qb&&this.mb[t]?(n.uc(t,e,this.mb[t]),this.mb[t]=null,--this.Qb):i.I[t]||n.uc(t,e,i.J?{da:e}:n.$c(e)),e.Ja&&e.gd())}var f,g,m,b,w,E,y=void 0!==e?e:{};y.b=function(e,t){for(var n=e.split("."),i=y,o=0;o<n.length-1;o++)i=i[n[o]];i[n[n.length-1]]=t},y.L=function(e,t,n){e[t]=n},y.version="3.5.1",y.b("version",y.version),y.options={deferUpdates:!1,useOnlyNativeEvents:!1,foreachHidesDestroyed:!1},y.a=function(){function e(e,t){for(var n in e)c.call(e,n)&&t(n,e[n])}function t(e,t){if(t)for(var n in t)c.call(t,n)&&(e[n]=t[n]);return e}function l(e,t){return e.__proto__=t,e}function h(e,t,n,i){var o=e[t].match(w)||[];y.a.D(n.match(w),(function(e){y.a.Na(o,e,i)})),e[t]=o.join(" ")}var c=Object.prototype.hasOwnProperty,u={__proto__:[]}instanceof Array,d="function"==typeof Symbol,p={},f={};p[s&&/Firefox\/2/i.test(s.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],p.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),e(p,(function(e,t){if(t.length)for(var n=0,i=t.length;n<i;n++)f[t[n]]=e}));var g,m={propertychange:!0},b=o&&function(){for(var e=3,t=o.createElement("div"),i=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",i[0];);return 4<e?e:n}(),w=/\S+/g;return{Jc:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],D:function(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},A:"function"==typeof Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Lb:function(e,t,i){for(var o=0,s=e.length;o<s;o++)if(t.call(i,e[o],o,e))return e[o];return n},Pa:function(e,t){var n=y.a.A(e,t);0<n?e.splice(n,1):0===n&&e.shift()},wc:function(e){var t=[];return e&&y.a.D(e,(function(e){0>y.a.A(t,e)&&t.push(e)})),t},Mb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)i.push(t.call(n,e[o],o));return i},jb:function(e,t,n){var i=[];if(e)for(var o=0,s=e.length;o<s;o++)t.call(n,e[o],o)&&i.push(e[o]);return i},Nb:function(e,t){if(t instanceof Array)e.push.apply(e,t);else for(var n=0,i=t.length;n<i;n++)e.push(t[n]);return e},Na:function(e,t,n){var i=y.a.A(y.a.bc(e),t);0>i?n&&e.push(t):n||e.splice(i,1)},Ba:u,extend:t,setPrototypeOf:l,Ab:u?l:t,P:e,Ga:function(e,t,n){if(!e)return e;var i,o={};for(i in e)c.call(e,i)&&(o[i]=t.call(n,e[i],i,e));return o},Tb:function(e){for(;e.firstChild;)y.removeNode(e.firstChild)},Yb:function(e){for(var t=((e=y.a.la(e))[0]&&e[0].ownerDocument||o).createElement("div"),n=0,i=e.length;n<i;n++)t.appendChild(y.oa(e[n]));return t},Ca:function(e,t){for(var n=0,i=e.length,o=[];n<i;n++){var s=e[n].cloneNode(!0);o.push(t?y.oa(s):s)}return o},va:function(e,t){if(y.a.Tb(e),t)for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])},Xc:function(e,t){var n=e.nodeType?[e]:e;if(0<n.length){for(var i=n[0],o=i.parentNode,s=0,r=t.length;s<r;s++)o.insertBefore(t[s],i);for(s=0,r=n.length;s<r;s++)y.removeNode(n[s])}},Ua:function(e,t){if(e.length){for(t=8===t.nodeType&&t.parentNode||t;e.length&&e[0].parentNode!==t;)e.splice(0,1);for(;1<e.length&&e[e.length-1].parentNode!==t;)e.length--;if(1<e.length){var n=e[0],i=e[e.length-1];for(e.length=0;n!==i;)e.push(n),n=n.nextSibling;e.push(i)}}return e},Zc:function(e,t){7>b?e.setAttribute("selected",t):e.selected=t},Db:function(e){return null===e||e===n?"":e.trim?e.trim():e.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Ud:function(e,t){return e=e||"",!(t.length>e.length)&&e.substring(0,t.length)===t},vd:function(e,t){if(e===t)return!0;if(11===e.nodeType)return!1;if(t.contains)return t.contains(1!==e.nodeType?e.parentNode:e);if(t.compareDocumentPosition)return 16==(16&t.compareDocumentPosition(e));for(;e&&e!=t;)e=e.parentNode;return!!e},Sb:function(e){return y.a.vd(e,e.ownerDocument.documentElement)},kd:function(e){return!!y.a.Lb(e,y.a.Sb)},R:function(e){return e&&e.tagName&&e.tagName.toLowerCase()},Ac:function(e){return y.onError?function(){try{return e.apply(this,arguments)}catch(e){throw y.onError&&y.onError(e),e}}:e},setTimeout:function(e,t){return setTimeout(y.a.Ac(e),t)},Gc:function(e){setTimeout((function(){throw y.onError&&y.onError(e),e}),0)},B:function(e,t,n){var i=y.a.Ac(n);if(n=m[t],y.options.useOnlyNativeEvents||n||!r)if(n||"function"!=typeof e.addEventListener){if(void 0===e.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var o=function(t){i.call(e,t)},s="on"+t;e.attachEvent(s,o),y.a.K.za(e,(function(){e.detachEvent(s,o)}))}else e.addEventListener(t,i,!1);else g||(g="function"==typeof r(e).on?"on":"bind"),r(e)[g](t,i)},Fb:function(e,t){if(!e||!e.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var n;if(n=!("input"!==y.a.R(e)||!e.type||"click"!=t.toLowerCase())&&("checkbox"==(n=e.type)||"radio"==n),y.options.useOnlyNativeEvents||!r||n)if("function"==typeof o.createEvent){if("function"!=typeof e.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");(n=o.createEvent(f[t]||"HTMLEvents")).initEvent(t,!0,!0,i,0,0,0,0,0,!1,!1,!1,!1,0,e),e.dispatchEvent(n)}else if(n&&e.click)e.click();else{if(void 0===e.fireEvent)throw Error("Browser doesn't support triggering events");e.fireEvent("on"+t)}else r(e).trigger(t)},f:function(e){return y.O(e)?e():e},bc:function(e){return y.O(e)?e.v():e},Eb:function(e,t,n){var i;t&&("object"==typeof e.classList?(i=e.classList[n?"add":"remove"],y.a.D(t.match(w),(function(t){i.call(e.classList,t)}))):"string"==typeof e.className.baseVal?h(e.className,"baseVal",t,n):h(e,"className",t,n))},Bb:function(e,t){var i=y.a.f(t);null!==i&&i!==n||(i="");var o=y.h.firstChild(e);!o||3!=o.nodeType||y.h.nextSibling(o)?y.h.va(e,[e.ownerDocument.createTextNode(i)]):o.data=i,y.a.Ad(e)},Yc:function(e,t){if(e.name=t,7>=b)try{var n=e.name.replace(/[&<>'"]/g,(function(e){return"&#"+e.charCodeAt(0)+";"}));e.mergeAttributes(o.createElement("<input name='"+n+"'/>"),!1)}catch(e){}},Ad:function(e){9<=b&&(e=1==e.nodeType?e:e.parentNode).style&&(e.style.zoom=e.style.zoom)},wd:function(e){if(b){var t=e.style.width;e.style.width=0,e.style.width=t}},Pd:function(e,t){e=y.a.f(e),t=y.a.f(t);for(var n=[],i=e;i<=t;i++)n.push(i);return n},la:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},Da:function(e){return d?Symbol(e):e},Zd:6===b,$d:7===b,W:b,Lc:function(e,t){for(var n=y.a.la(e.getElementsByTagName("input")).concat(y.a.la(e.getElementsByTagName("textarea"))),i="string"==typeof t?function(e){return e.name===t}:function(e){return t.test(e.name)},o=[],s=n.length-1;0<=s;s--)i(n[s])&&o.push(n[s]);return o},Nd:function(e){return"string"==typeof e&&(e=y.a.Db(e))?a&&a.parse?a.parse(e):new Function("return "+e)():null},hc:function(e,t,n){if(!a||!a.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return a.stringify(y.a.f(e),t,n)},Od:function(t,n,i){var s=(i=i||{}).params||{},r=i.includeFields||this.Jc,a=t;if("object"==typeof t&&"form"===y.a.R(t)){a=t.action;for(var l=r.length-1;0<=l;l--)for(var h=y.a.Lc(t,r[l]),c=h.length-1;0<=c;c--)s[h[c].name]=h[c].value}n=y.a.f(n);var u=o.createElement("form");for(var d in u.style.display="none",u.action=a,u.method="post",n)(t=o.createElement("input")).type="hidden",t.name=d,t.value=y.a.hc(y.a.f(n[d])),u.appendChild(t);e(s,(function(e,t){var n=o.createElement("input");n.type="hidden",n.name=e,n.value=t,u.appendChild(n)})),o.body.appendChild(u),i.submitter?i.submitter(u):u.submit(),setTimeout((function(){u.parentNode.removeChild(u)}),0)}}}(),y.b("utils",y.a),y.b("utils.arrayForEach",y.a.D),y.b("utils.arrayFirst",y.a.Lb),y.b("utils.arrayFilter",y.a.jb),y.b("utils.arrayGetDistinctValues",y.a.wc),y.b("utils.arrayIndexOf",y.a.A),y.b("utils.arrayMap",y.a.Mb),y.b("utils.arrayPushAll",y.a.Nb),y.b("utils.arrayRemoveItem",y.a.Pa),y.b("utils.cloneNodes",y.a.Ca),y.b("utils.createSymbolOrString",y.a.Da),y.b("utils.extend",y.a.extend),y.b("utils.fieldsIncludedWithJsonPost",y.a.Jc),y.b("utils.getFormFields",y.a.Lc),y.b("utils.objectMap",y.a.Ga),y.b("utils.peekObservable",y.a.bc),y.b("utils.postJson",y.a.Od),y.b("utils.parseJson",y.a.Nd),y.b("utils.registerEventHandler",y.a.B),y.b("utils.stringifyJson",y.a.hc),y.b("utils.range",y.a.Pd),y.b("utils.toggleDomNodeCssClass",y.a.Eb),y.b("utils.triggerEvent",y.a.Fb),y.b("utils.unwrapObservable",y.a.f),y.b("utils.objectForEach",y.a.P),y.b("utils.addOrRemoveItem",y.a.Na),y.b("utils.setTextContent",y.a.Bb),y.b("unwrap",y.a.f),Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if(1===arguments.length)return function(){return t.apply(e,arguments)};var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice(0);return i.push.apply(i,arguments),t.apply(e,i)}}),y.a.g=new function(){var e,t,i=0,o="__ko__"+(new Date).getTime(),s={};return y.a.W?(e=function(e,t){var r=e[o];if(!r||"null"===r||!s[r]){if(!t)return n;r=e[o]="ko"+i++,s[r]={}}return s[r]},t=function(e){var t=e[o];return!!t&&(delete s[t],e[o]=null,!0)}):(e=function(e,t){var n=e[o];return!n&&t&&(n=e[o]={}),n},t=function(e){return!!e[o]&&(delete e[o],!0)}),{get:function(t,n){var i=e(t,!1);return i&&i[n]},set:function(t,i,o){(t=e(t,o!==n))&&(t[i]=o)},Ub:function(t,n,i){return(t=e(t,!0))[n]||(t[n]=i)},clear:t,Z:function(){return i+++o}}},y.b("utils.domData",y.a.g),y.b("utils.domData.clear",y.a.g.clear),y.a.K=new function(){function e(e,t){var i=y.a.g.get(e,o);return i===n&&t&&(i=[],y.a.g.set(e,o,i)),i}function t(t){if(n=e(t,!1))for(var n=n.slice(0),o=0;o<n.length;o++)n[o](t);y.a.g.clear(t),y.a.K.cleanExternalData(t),a[t.nodeType]&&i(t.childNodes,!0)}function i(e,n){for(var i,o=[],s=0;s<e.length;s++)if((!n||8===e[s].nodeType)&&(t(o[o.length]=i=e[s]),e[s]!==i))for(;s--&&-1==y.a.A(o,e[s]););}var o=y.a.g.Z(),s={1:!0,8:!0,9:!0},a={1:!0,9:!0};return{za:function(t,n){if("function"!=typeof n)throw Error("Callback must be a function");e(t,!0).push(n)},yb:function(t,i){var s=e(t,!1);s&&(y.a.Pa(s,i),0==s.length&&y.a.g.set(t,o,n))},oa:function(e){return y.u.G((function(){s[e.nodeType]&&(t(e),a[e.nodeType]&&i(e.getElementsByTagName("*")))})),e},removeNode:function(e){y.oa(e),e.parentNode&&e.parentNode.removeChild(e)},cleanExternalData:function(e){r&&"function"==typeof r.cleanData&&r.cleanData([e])}}},y.oa=y.a.K.oa,y.removeNode=y.a.K.removeNode,y.b("cleanNode",y.oa),y.b("removeNode",y.removeNode),y.b("utils.domNodeDisposal",y.a.K),y.b("utils.domNodeDisposal.addDisposeCallback",y.a.K.za),y.b("utils.domNodeDisposal.removeDisposeCallback",y.a.K.yb),f=[0,"",""],w={thead:g=[1,"<table>","</table>"],tbody:g,tfoot:g,tr:[2,"<table><tbody>","</tbody></table>"],td:m=[3,"<table><tbody><tr>","</tr></tbody></table>"],th:m,option:b=[1,"<select multiple='multiple'>","</select>"],optgroup:b},E=8>=y.a.W,y.a.ua=function(e,t){var n;if(r){if(r.parseHTML)n=r.parseHTML(e,t)||[];else if((n=r.clean([e],t))&&n[0]){for(var s=n[0];s.parentNode&&11!==s.parentNode.nodeType;)s=s.parentNode;s.parentNode&&s.parentNode.removeChild(s)}}else{(n=t)||(n=o),s=n.parentWindow||n.defaultView||i;var a,l=y.a.Db(e).toLowerCase(),h=n.createElement("div");for(a=(l=l.match(/^(?:\x3c!--.*?--\x3e\s*?)*?<([a-z]+)[\s>]/))&&w[l[1]]||f,l=a[0],a="ignored<div>"+a[1]+e+a[2]+"</div>","function"==typeof s.innerShiv?h.appendChild(s.innerShiv(a)):(E&&n.body.appendChild(h),h.innerHTML=a,E&&h.parentNode.removeChild(h));l--;)h=h.lastChild;n=y.a.la(h.lastChild.childNodes)}return n},y.a.Md=function(e,t){var n=y.a.ua(e,t);return n.length&&n[0].parentElement||y.a.Yb(n)},y.a.fc=function(e,t){if(y.a.Tb(e),null!==(t=y.a.f(t))&&t!==n)if("string"!=typeof t&&(t=t.toString()),r)r(e).html(t);else for(var i=y.a.ua(t,e.ownerDocument),o=0;o<i.length;o++)e.appendChild(i[o])},y.b("utils.parseHtmlFragment",y.a.ua),y.b("utils.setHtml",y.a.fc),y.aa=function(){var e={};return{Xb:function(t){if("function"!=typeof t)throw Error("You can only pass a function to ko.memoization.memoize()");var n=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return e[n]=t,"\x3c!--[ko_memo:"+n+"]--\x3e"},bd:function(t,i){var o=e[t];if(o===n)throw Error("Couldn't find any memo with ID "+t+". Perhaps it's already been unmemoized.");try{return o.apply(null,i||[]),!0}finally{delete e[t]}},cd:function(e,t){var n=[];!function e(t,n){if(t)if(8==t.nodeType)null!=(i=y.aa.Uc(t.nodeValue))&&n.push({ud:t,Kd:i});else if(1==t.nodeType)for(var i=0,o=t.childNodes,s=o.length;i<s;i++)e(o[i],n)}(e,n);for(var i=0,o=n.length;i<o;i++){var s=n[i].ud,r=[s];t&&y.a.Nb(r,t),y.aa.bd(n[i].Kd,r),s.nodeValue="",s.parentNode&&s.parentNode.removeChild(s)}},Uc:function(e){return(e=e.match(/^\[ko_memo\:(.*?)\]$/))?e[1]:null}}}(),y.b("memoization",y.aa),y.b("memoization.memoize",y.aa.Xb),y.b("memoization.unmemoize",y.aa.bd),y.b("memoization.parseMemoText",y.aa.Uc),y.b("memoization.unmemoizeDomNodeAndDescendants",y.aa.cd),y.na=function(){function e(){if(s)for(var e,t=s,i=0;a<s;)if(e=n[a++]){if(a>t){if(5e3<=++i){a=s,y.a.Gc(Error("'Too much recursion' after processing "+i+" task groups."));break}t=s}try{e()}catch(e){y.a.Gc(e)}}}function t(){e(),a=s=n.length=0}var n=[],s=0,r=1,a=0;return{scheduler:i.MutationObserver?function(e){var t=o.createElement("div");return new MutationObserver(e).observe(t,{attributes:!0}),function(){t.classList.toggle("foo")}}(t):o&&"onreadystatechange"in o.createElement("script")?function(e){var t=o.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null,o.documentElement.removeChild(t),t=null,e()},o.documentElement.appendChild(t)}:function(e){setTimeout(e,0)},zb:function(e){return s||y.na.scheduler(t),n[s++]=e,r++},cancel:function(e){(e-=r-s)>=a&&e<s&&(n[e]=null)},resetForTesting:function(){var e=s-a;return a=s=n.length=0,e},Sd:e}}(),y.b("tasks",y.na),y.b("tasks.schedule",y.na.zb),y.b("tasks.runEarly",y.na.Sd),y.Ta={throttle:function(e,t){e.throttleEvaluation=t;var n=null;return y.$({read:e,write:function(i){clearTimeout(n),n=y.a.setTimeout((function(){e(i)}),t)}})},rateLimit:function(e,t){var n,i,o;"number"==typeof t?n=t:(n=t.timeout,i=t.method),e.Hb=!1,o="function"==typeof i?i:"notifyWhenChangesStop"==i?c:h,e.ub((function(e){return o(e,n,t)}))},deferred:function(e,t){if(!0!==t)throw Error("The 'deferred' extender only accepts the value 'true', because it is not supported to turn deferral off once enabled.");e.Hb||(e.Hb=!0,e.ub((function(t){var i,o=!1;return function(){if(!o){y.na.cancel(i),i=y.na.zb(t);try{o=!0,e.notifySubscribers(n,"dirty")}finally{o=!1}}}})))},notify:function(e,t){e.equalityComparer="always"==t?null:l}};var S={undefined:1,boolean:1,number:1,string:1};y.b("extenders",y.Ta),y.ic=function(e,t,n){this.da=e,this.lc=t,this.mc=n,this.Ib=!1,this.fb=this.Jb=null,y.L(this,"dispose",this.s),y.L(this,"disposeWhenNodeIsRemoved",this.l)},y.ic.prototype.s=function(){this.Ib||(this.fb&&y.a.K.yb(this.Jb,this.fb),this.Ib=!0,this.mc(),this.da=this.lc=this.mc=this.Jb=this.fb=null)},y.ic.prototype.l=function(e){this.Jb=e,y.a.K.za(e,this.fb=this.s.bind(this))},y.T=function(){y.a.Ab(this,N),N.qb(this)};var N={qb:function(e){e.U={change:[]},e.sc=1},subscribe:function(e,t,n){var i=this;n=n||"change";var o=new y.ic(i,t?e.bind(t):e,(function(){y.a.Pa(i.U[n],o),i.hb&&i.hb(n)}));return i.Qa&&i.Qa(n),i.U[n]||(i.U[n]=[]),i.U[n].push(o),o},notifySubscribers:function(e,t){if("change"===(t=t||"change")&&this.Gb(),this.Wa(t)){var n="change"===t&&this.ed||this.U[t].slice(0);try{y.u.xc();for(var i,o=0;i=n[o];++o)i.Ib||i.lc(e)}finally{y.u.end()}}},ob:function(){return this.sc},Dd:function(e){return this.ob()!==e},Gb:function(){++this.sc},ub:function(e){var t,n,i,o,s,r=this,a=y.O(r);r.gb||(r.gb=r.notifySubscribers,r.notifySubscribers=u);var l=e((function(){r.Ja=!1,a&&o===r&&(o=r.nc?r.nc():r());var e=n||s&&r.sb(i,o);s=n=t=!1,e&&r.gb(i=o)}));r.qc=function(e,n){n&&r.Ja||(s=!n),r.ed=r.U.change.slice(0),r.Ja=t=!0,o=e,l()},r.pc=function(e){t||(i=e,r.gb(e,"beforeChange"))},r.rc=function(){s=!0},r.gd=function(){r.sb(i,r.v(!0))&&(n=!0)}},Wa:function(e){return this.U[e]&&this.U[e].length},Bd:function(e){if(e)return this.U[e]&&this.U[e].length||0;var t=0;return y.a.P(this.U,(function(e,n){"dirty"!==e&&(t+=n.length)})),t},sb:function(e,t){return!this.equalityComparer||!this.equalityComparer(e,t)},toString:function(){return"[object Object]"},extend:function(e){var t=this;return e&&y.a.P(e,(function(e,n){var i=y.Ta[e];"function"==typeof i&&(t=i(t,n)||t)})),t}};y.L(N,"init",N.qb),y.L(N,"subscribe",N.subscribe),y.L(N,"extend",N.extend),y.L(N,"getSubscriptionsCount",N.Bd),y.a.Ba&&y.a.setPrototypeOf(N,Function.prototype),y.T.fn=N,y.Qc=function(e){return null!=e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},y.b("subscribable",y.T),y.b("isSubscribable",y.Qc),y.S=y.u=function(){function e(e){i.push(n),n=e}function t(){n=i.pop()}var n,i=[],o=0;return{xc:e,end:t,cc:function(e){if(n){if(!y.Qc(e))throw Error("Only subscribable things can act as dependencies");n.od.call(n.pd,e,e.fd||(e.fd=++o))}},G:function(n,i,o){try{return e(),n.apply(i,o||[])}finally{t()}},qa:function(){if(n)return n.o.qa()},Va:function(){if(n)return n.o.Va()},Ya:function(){if(n)return n.Ya},o:function(){if(n)return n.o}}}(),y.b("computedContext",y.S),y.b("computedContext.getDependenciesCount",y.S.qa),y.b("computedContext.getDependencies",y.S.Va),y.b("computedContext.isInitial",y.S.Ya),y.b("computedContext.registerDependency",y.S.cc),y.b("ignoreDependencies",y.Yd=y.u.G);var v=y.a.Da("_latestValue");y.ta=function(e){function t(){return 0<arguments.length?(t.sb(t[v],arguments[0])&&(t.ya(),t[v]=arguments[0],t.xa()),this):(y.u.cc(t),t[v])}return t[v]=e,y.a.Ba||y.a.extend(t,y.T.fn),y.T.fn.qb(t),y.a.Ab(t,C),y.options.deferUpdates&&y.Ta.deferred(t,!0),t};var C={equalityComparer:l,v:function(){return this[v]},xa:function(){this.notifySubscribers(this[v],"spectate"),this.notifySubscribers(this[v])},ya:function(){this.notifySubscribers(this[v],"beforeChange")}};y.a.Ba&&y.a.setPrototypeOf(C,y.T.fn);var T=y.ta.Ma="__ko_proto__";C[T]=y.ta,y.O=function(e){if((e="function"==typeof e&&e[T])&&e!==C[T]&&e!==y.o.fn[T])throw Error("Invalid object that looks like an observable; possibly from another Knockout instance");return!!e},y.Za=function(e){return"function"==typeof e&&(e[T]===C[T]||e[T]===y.o.fn[T]&&e.Nc)},y.b("observable",y.ta),y.b("isObservable",y.O),y.b("isWriteableObservable",y.Za),y.b("isWritableObservable",y.Za),y.b("observable.fn",C),y.L(C,"peek",C.v),y.L(C,"valueHasMutated",C.xa),y.L(C,"valueWillMutate",C.ya),y.Ha=function(e){if("object"!=typeof(e=e||[])||!("length"in e))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return e=y.ta(e),y.a.Ab(e,y.Ha.fn),e.extend({trackArrayChanges:!0})},y.Ha.fn={remove:function(e){for(var t=this.v(),n=[],i="function"!=typeof e||y.O(e)?function(t){return t===e}:e,o=0;o<t.length;o++){var s=t[o];if(i(s)){if(0===n.length&&this.ya(),t[o]!==s)throw Error("Array modified during remove; cannot remove item");n.push(s),t.splice(o,1),o--}}return n.length&&this.xa(),n},removeAll:function(e){if(e===n){var t=this.v(),i=t.slice(0);return this.ya(),t.splice(0,t.length),this.xa(),i}return e?this.remove((function(t){return 0<=y.a.A(e,t)})):[]},destroy:function(e){var t=this.v(),n="function"!=typeof e||y.O(e)?function(t){return t===e}:e;this.ya();for(var i=t.length-1;0<=i;i--){var o=t[i];n(o)&&(o._destroy=!0)}this.xa()},destroyAll:function(e){return e===n?this.destroy((function(){return!0})):e?this.destroy((function(t){return 0<=y.a.A(e,t)})):[]},indexOf:function(e){var t=this();return y.a.A(t,e)},replace:function(e,t){var n=this.indexOf(e);0<=n&&(this.ya(),this.v()[n]=t,this.xa())},sorted:function(e){var t=this().slice(0);return e?t.sort(e):t.sort()},reversed:function(){return this().slice(0).reverse()}},y.a.Ba&&y.a.setPrototypeOf(y.Ha.fn,y.ta.fn),y.a.D("pop push reverse shift sort splice unshift".split(" "),(function(e){y.Ha.fn[e]=function(){var t=this.v();this.ya(),this.zc(t,e,arguments);var n=t[e].apply(t,arguments);return this.xa(),n===t?this:n}})),y.a.D(["slice"],(function(e){y.Ha.fn[e]=function(){var t=this();return t[e].apply(t,arguments)}})),y.Pc=function(e){return y.O(e)&&"function"==typeof e.remove&&"function"==typeof e.push},y.b("observableArray",y.Ha),y.b("isObservableArray",y.Pc),y.Ta.trackArrayChanges=function(e,t){function i(){function t(){if(h){var t,n=[].concat(e.v()||[]);e.Wa("arrayChange")&&((!l||1<h)&&(l=y.a.Pb(r,n,e.Ob)),t=l),r=n,l=null,h=0,t&&t.length&&e.notifySubscribers(t,"arrayChange")}}a?t():(a=!0,s=e.subscribe((function(){++h}),null,"spectate"),r=[].concat(e.v()||[]),l=null,o=e.subscribe(t))}if(e.Ob={},t&&"object"==typeof t&&y.a.extend(e.Ob,t),e.Ob.sparse=!0,!e.zc){var o,s,r,a=!1,l=null,h=0,c=e.Qa,u=e.hb;e.Qa=function(t){c&&c.call(e,t),"arrayChange"===t&&i()},e.hb=function(t){u&&u.call(e,t),"arrayChange"!==t||e.Wa("arrayChange")||(o&&o.s(),s&&s.s(),s=o=null,a=!1,r=n)},e.zc=function(e,t,n){function i(e,t,n){return o[o.length]={status:e,value:t,index:n}}if(a&&!h){var o=[],s=e.length,r=n.length,c=0;switch(t){case"push":c=s;case"unshift":for(t=0;t<r;t++)i("added",n[t],c+t);break;case"pop":c=s-1;case"shift":s&&i("deleted",e[c],c);break;case"splice":t=Math.min(Math.max(0,0>n[0]?s+n[0]:n[0]),s),s=1===r?s:Math.min(t+(n[1]||0),s),r=t+r-2,c=Math.max(s,r);for(var u=[],d=[],p=2;t<c;++t,++p)t<s&&d.push(i("deleted",e[t],t)),t<r&&u.push(i("added",n[p],t));y.a.Kc(d,u);break;default:return}l=o}}}};var x=y.a.Da("_state");y.o=y.$=function(e,t,i){function o(){if(0<arguments.length){if("function"!=typeof s)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return s.apply(r.nb,arguments),this}return r.ra||y.u.cc(o),(r.ka||r.J&&o.Xa())&&o.ha(),r.X}if("object"==typeof e?i=e:(i=i||{},e&&(i.read=e)),"function"!=typeof i.read)throw Error("Pass a function that returns the value of the ko.computed");var s=i.write,r={X:n,sa:!0,ka:!0,rb:!1,jc:!1,ra:!1,wb:!1,J:!1,Wc:i.read,nb:t||i.owner,l:i.disposeWhenNodeIsRemoved||i.l||null,Sa:i.disposeWhen||i.Sa,Rb:null,I:{},V:0,Ic:null};return o[x]=r,o.Nc="function"==typeof s,y.a.Ba||y.a.extend(o,y.T.fn),y.T.fn.qb(o),y.a.Ab(o,I),i.pure?(r.wb=!0,r.J=!0,y.a.extend(o,P)):i.deferEvaluation&&y.a.extend(o,A),y.options.deferUpdates&&y.Ta.deferred(o,!0),r.l&&(r.jc=!0,r.l.nodeType||(r.l=null)),r.J||i.deferEvaluation||o.ha(),r.l&&o.ja()&&y.a.K.za(r.l,r.Rb=function(){o.s()}),o};var I={equalityComparer:l,qa:function(){return this[x].V},Va:function(){var e=[];return y.a.P(this[x].I,(function(t,n){e[n.Ka]=n.da})),e},Vb:function(e){if(!this[x].V)return!1;var t=this.Va();return-1!==y.a.A(t,e)||!!y.a.Lb(t,(function(t){return t.Vb&&t.Vb(e)}))},uc:function(e,t,n){if(this[x].wb&&t===this)throw Error("A 'pure' computed must not be called recursively");this[x].I[e]=n,n.Ka=this[x].V++,n.La=t.ob()},Xa:function(){var e,t,n=this[x].I;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e],this.Ia&&t.da.Ja||t.da.Dd(t.La)))return!0},Jd:function(){this.Ia&&!this[x].rb&&this.Ia(!1)},ja:function(){var e=this[x];return e.ka||0<e.V},Rd:function(){this.Ja?this[x].ka&&(this[x].sa=!0):this.Hc()},$c:function(e){if(e.Hb){var t=e.subscribe(this.Jd,this,"dirty"),n=e.subscribe(this.Rd,this);return{da:e,s:function(){t.s(),n.s()}}}return e.subscribe(this.Hc,this)},Hc:function(){var e=this,t=e.throttleEvaluation;t&&0<=t?(clearTimeout(this[x].Ic),this[x].Ic=y.a.setTimeout((function(){e.ha(!0)}),t)):e.Ia?e.Ia(!0):e.ha(!0)},ha:function(e){var t=this[x],n=t.Sa,i=!1;if(!t.rb&&!t.ra){if(t.l&&!y.a.Sb(t.l)||n&&n()){if(!t.jc)return void this.s()}else t.jc=!1;t.rb=!0;try{i=this.zd(e)}finally{t.rb=!1}return i}},zd:function(e){var t=this[x],i=!1,o=t.wb?n:!t.V;i={qd:this,mb:t.I,Qb:t.V},y.u.xc({pd:i,od:p,o:this,Ya:o}),t.I={},t.V=0;var s=this.yd(t,i);return t.V?i=this.sb(t.X,s):(this.s(),i=!0),i&&(t.J?this.Gb():this.notifySubscribers(t.X,"beforeChange"),t.X=s,this.notifySubscribers(t.X,"spectate"),!t.J&&e&&this.notifySubscribers(t.X),this.rc&&this.rc()),o&&this.notifySubscribers(t.X,"awake"),i},yd:function(e,t){try{var n=e.Wc;return e.nb?n.call(e.nb):n()}finally{y.u.end(),t.Qb&&!e.J&&y.a.P(t.mb,d),e.sa=e.ka=!1}},v:function(e){var t=this[x];return(t.ka&&(e||!t.V)||t.J&&this.Xa())&&this.ha(),t.X},ub:function(e){y.T.fn.ub.call(this,e),this.nc=function(){return this[x].J||(this[x].sa?this.ha():this[x].ka=!1),this[x].X},this.Ia=function(e){this.pc(this[x].X),this[x].ka=!0,e&&(this[x].sa=!0),this.qc(this,!e)}},s:function(){var e=this[x];!e.J&&e.I&&y.a.P(e.I,(function(e,t){t.s&&t.s()})),e.l&&e.Rb&&y.a.K.yb(e.l,e.Rb),e.I=n,e.V=0,e.ra=!0,e.sa=!1,e.ka=!1,e.J=!1,e.l=n,e.Sa=n,e.Wc=n,this.Nc||(e.nb=n)}},P={Qa:function(e){var t=this,n=t[x];if(!n.ra&&n.J&&"change"==e){if(n.J=!1,n.sa||t.Xa())n.I=null,n.V=0,t.ha()&&t.Gb();else{var i=[];y.a.P(n.I,(function(e,t){i[t.Ka]=e})),y.a.D(i,(function(e,i){var o=n.I[e],s=t.$c(o.da);s.Ka=i,s.La=o.La,n.I[e]=s})),t.Xa()&&t.ha()&&t.Gb()}n.ra||t.notifySubscribers(n.X,"awake")}},hb:function(e){var t=this[x];t.ra||"change"!=e||this.Wa("change")||(y.a.P(t.I,(function(e,n){n.s&&(t.I[e]={da:n.da,Ka:n.Ka,La:n.La},n.s())})),t.J=!0,this.notifySubscribers(n,"asleep"))},ob:function(){var e=this[x];return e.J&&(e.sa||this.Xa())&&this.ha(),y.T.fn.ob.call(this)}},A={Qa:function(e){"change"!=e&&"beforeChange"!=e||this.v()}};y.a.Ba&&y.a.setPrototypeOf(I,y.T.fn);var O=y.ta.Ma;I[O]=y.o,y.Oc=function(e){return"function"==typeof e&&e[O]===I[O]},y.Fd=function(e){return y.Oc(e)&&e[x]&&e[x].wb},y.b("computed",y.o),y.b("dependentObservable",y.o),y.b("isComputed",y.Oc),y.b("isPureComputed",y.Fd),y.b("computed.fn",I),y.L(I,"peek",I.v),y.L(I,"dispose",I.s),y.L(I,"isActive",I.ja),y.L(I,"getDependenciesCount",I.qa),y.L(I,"getDependencies",I.Va),y.xb=function(e,t){return"function"==typeof e?y.o(e,t,{pure:!0}):((e=y.a.extend({},e)).pure=!0,y.o(e,t))},y.b("pureComputed",y.xb),function(){function e(i,o,s){if(s=s||new t,"object"!=typeof(i=o(i))||null===i||i===n||i instanceof RegExp||i instanceof Date||i instanceof String||i instanceof Number||i instanceof Boolean)return i;var r=i instanceof Array?[]:{};return s.save(i,r),function(e,t){if(e instanceof Array){for(var n=0;n<e.length;n++)t(n);"function"==typeof e.toJSON&&t("toJSON")}else for(n in e)t(n)}(i,(function(t){var a=o(i[t]);switch(typeof a){case"boolean":case"number":case"string":case"function":r[t]=a;break;case"object":case"undefined":var l=s.get(a);r[t]=l!==n?l:e(a,o,s)}})),r}function t(){this.keys=[],this.values=[]}y.ad=function(t){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return e(t,(function(e){for(var t=0;y.O(e)&&10>t;t++)e=e();return e}))},y.toJSON=function(e,t,n){return e=y.ad(e),y.a.hc(e,t,n)},t.prototype={constructor:t,save:function(e,t){var n=y.a.A(this.keys,e);0<=n?this.values[n]=t:(this.keys.push(e),this.values.push(t))},get:function(e){return 0<=(e=y.a.A(this.keys,e))?this.values[e]:n}}}(),y.b("toJS",y.ad),y.b("toJSON",y.toJSON),y.Wd=function(e,t,n){function i(t){var i=y.xb(e,n).extend({ma:"always"}),o=i.subscribe((function(e){e&&(o.s(),t(e))}));return i.notifySubscribers(i.v()),o}return"function"!=typeof Promise||t?i(t.bind(n)):new Promise(i)},y.b("when",y.Wd),y.w={M:function(e){switch(y.a.R(e)){case"option":return!0===e.__ko__hasDomDataOptionValue__?y.a.g.get(e,y.c.options.$b):7>=y.a.W?e.getAttributeNode("value")&&e.getAttributeNode("value").specified?e.value:e.text:e.value;case"select":return 0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex]):n;default:return e.value}},cb:function(e,t,i){switch(y.a.R(e)){case"option":"string"==typeof t?(y.a.g.set(e,y.c.options.$b,n),"__ko__hasDomDataOptionValue__"in e&&delete e.__ko__hasDomDataOptionValue__,e.value=t):(y.a.g.set(e,y.c.options.$b,t),e.__ko__hasDomDataOptionValue__=!0,e.value="number"==typeof t?t:"");break;case"select":""!==t&&null!==t||(t=n);for(var o,s=-1,r=0,a=e.options.length;r<a;++r)if((o=y.w.M(e.options[r]))==t||""===o&&t===n){s=r;break}(i||0<=s||t===n&&1<e.size)&&(e.selectedIndex=s,6===y.a.W&&y.a.setTimeout((function(){e.selectedIndex=s}),0));break;default:null!==t&&t!==n||(t=""),e.value=t}}},y.b("selectExtensions",y.w),y.b("selectExtensions.readValue",y.w.M),y.b("selectExtensions.writeValue",y.w.cb),y.m=function(){function e(e){123===(e=y.a.Db(e)).charCodeAt(0)&&(e=e.slice(1,-1));var t,n=[],r=(e+="\n,").match(i),a=[],l=0;if(1<r.length){for(var h,c=0;h=r[c];++c){var u=h.charCodeAt(0);if(44===u){if(0>=l){n.push(t&&a.length?{key:t,value:a.join("")}:{unknown:t||a.join("")}),t=l=0,a=[];continue}}else if(58===u){if(!l&&!t&&1===a.length){t=a.pop();continue}}else{if(47===u&&1<h.length&&(47===h.charCodeAt(1)||42===h.charCodeAt(1)))continue;47===u&&c&&1<h.length?(u=r[c-1].match(o))&&!s[u[0]]&&(r=(e=e.substr(e.indexOf(h)+1)).match(i),c=-1,h="/"):40===u||123===u||91===u?++l:41===u||125===u||93===u?--l:t||a.length||34!==u&&39!==u||(h=h.slice(1,-1))}a.push(h)}if(0<l)throw Error("Unbalanced parentheses, braces, or brackets")}return n}var t=["true","false","null","undefined"],n=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,i=RegExp("\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|`(?:\\\\.|[^`])*`|/\\*(?:[^*]|\\*+[^*/])*\\*+/|//.*\n|/(?:\\\\.|[^/])+/w*|[^\\s:,/][^,\"'`{}()/:[\\]]*[^\\s,\"'`{}()/:[\\]]|[^\\s]","g"),o=/[\])"'A-Za-z0-9_$]+$/,s={in:1,return:1,typeof:1},r={};return{Ra:[],wa:r,ac:e,vb:function(i,o){function s(e,i){var o;if(!c){var u=y.getBindingHandler(e);if(u&&u.preprocess&&!(i=u.preprocess(i,e,s)))return;(u=r[e])&&(o=i,0<=y.a.A(t,o)?o=!1:(u=o.match(n),o=null!==u&&(u[1]?"Object("+u[1]+")"+u[2]:o)),u=o),u&&l.push("'"+("string"==typeof r[e]?r[e]:e)+"':function(_z){"+o+"=_z}")}h&&(i="function(){return "+i+" }"),a.push("'"+e+"':"+i)}var a=[],l=[],h=(o=o||{}).valueAccessors,c=o.bindingParams,u="string"==typeof i?e(i):i;return y.a.D(u,(function(e){s(e.key||e.unknown,e.value)})),l.length&&s("_ko_property_writers","{"+l.join(",")+" }"),a.join(",")},Id:function(e,t){for(var n=0;n<e.length;n++)if(e[n].key==t)return!0;return!1},eb:function(e,t,n,i,o){e&&y.O(e)?!y.Za(e)||o&&e.v()===i||e(i):(e=t.get("_ko_property_writers"))&&e[n]&&e[n](i)}}}(),y.b("expressionRewriting",y.m),y.b("expressionRewriting.bindingRewriteValidators",y.m.Ra),y.b("expressionRewriting.parseObjectLiteral",y.m.ac),y.b("expressionRewriting.preProcessBindings",y.m.vb),y.b("expressionRewriting._twoWayBindings",y.m.wa),y.b("jsonExpressionRewriting",y.m),y.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",y.m.vb),function(){function e(e){return 8==e.nodeType&&r.test(s?e.text:e.nodeValue)}function t(e){return 8==e.nodeType&&a.test(s?e.text:e.nodeValue)}function n(n,i){for(var o=n,s=1,r=[];o=o.nextSibling;){if(t(o)&&(y.a.g.set(o,h,!0),0==--s))return r;r.push(o),e(o)&&s++}if(!i)throw Error("Cannot find closing comment tag to match: "+n.nodeValue);return null}function i(e,t){var i=n(e,t);return i?0<i.length?i[i.length-1].nextSibling:e.nextSibling:null}var s=o&&"\x3c!--test--\x3e"===o.createComment("test").text,r=s?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,a=s?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,l={ul:!0,ol:!0},h="__ko_matchedEndComment__";y.h={ea:{},childNodes:function(t){return e(t)?n(t):t.childNodes},Ea:function(t){if(e(t))for(var n=0,i=(t=y.h.childNodes(t)).length;n<i;n++)y.removeNode(t[n]);else y.a.Tb(t)},va:function(t,n){if(e(t)){y.h.Ea(t);for(var i=t.nextSibling,o=0,s=n.length;o<s;o++)i.parentNode.insertBefore(n[o],i)}else y.a.va(t,n)},Vc:function(t,n){var i;e(t)?(i=t.nextSibling,t=t.parentNode):i=t.firstChild,i?n!==i&&t.insertBefore(n,i):t.appendChild(n)},Wb:function(t,n,i){i?(i=i.nextSibling,e(t)&&(t=t.parentNode),i?n!==i&&t.insertBefore(n,i):t.appendChild(n)):y.h.Vc(t,n)},firstChild:function(n){if(e(n))return!n.nextSibling||t(n.nextSibling)?null:n.nextSibling;if(n.firstChild&&t(n.firstChild))throw Error("Found invalid end comment, as the first child of "+n);return n.firstChild},nextSibling:function(n){if(e(n)&&(n=i(n)),n.nextSibling&&t(n.nextSibling)){var o=n.nextSibling;if(t(o)&&!y.a.g.get(o,h))throw Error("Found end comment without a matching opening comment, as child of "+n);return null}return n.nextSibling},Cd:e,Vd:function(e){return(e=(s?e.text:e.nodeValue).match(r))?e[1]:null},Sc:function(n){if(l[y.a.R(n)]){var o=n.firstChild;if(o)do{if(1===o.nodeType){var s,r=null;if(s=o.firstChild)do{if(r)r.push(s);else if(e(s)){var a=i(s,!0);a?s=a:r=[s]}else t(s)&&(r=[s])}while(s=s.nextSibling);if(s=r)for(r=o.nextSibling,a=0;a<s.length;a++)r?n.insertBefore(s[a],r):n.appendChild(s[a])}}while(o=o.nextSibling)}}}}(),y.b("virtualElements",y.h),y.b("virtualElements.allowedBindings",y.h.ea),y.b("virtualElements.emptyNode",y.h.Ea),y.b("virtualElements.insertAfter",y.h.Wb),y.b("virtualElements.prepend",y.h.Vc),y.b("virtualElements.setDomNodeChildren",y.h.va),y.ga=function(){this.nd={}},y.a.extend(y.ga.prototype,{nodeHasBindings:function(e){switch(e.nodeType){case 1:return null!=e.getAttribute("data-bind")||y.j.getComponentNameForNode(e);case 8:return y.h.Cd(e);default:return!1}},getBindings:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e):null;return y.j.tc(n,e,t,!1)},getBindingAccessors:function(e,t){var n=(n=this.getBindingsString(e,t))?this.parseBindingsString(n,t,e,{valueAccessors:!0}):null;return y.j.tc(n,e,t,!0)},getBindingsString:function(e){switch(e.nodeType){case 1:return e.getAttribute("data-bind");case 8:return y.h.Vd(e);default:return null}},parseBindingsString:function(e,t,n,i){try{var o,s=this.nd,r=e+(i&&i.valueAccessors||"");if(!(o=s[r])){var a,l="with($context){with($data||{}){return{"+y.m.vb(e,i)+"}}}";a=new Function("$context","$element",l),o=s[r]=a}return o(t,n)}catch(t){throw t.message="Unable to parse bindings.\nBindings value: "+e+"\nMessage: "+t.message,t}}}),y.ga.instance=new y.ga,y.b("bindingProvider",y.ga),function(){function e(e){var t=(e=y.a.g.get(e,S))&&e.N;t&&(e.N=null,t.Tc())}function t(t,n,i){this.node=t,this.yc=n,this.kb=[],this.H=!1,n.N||y.a.K.za(t,e),i&&i.N&&(i.N.kb.push(t),this.Kb=i)}function s(e){return function(){return e}}function a(e){return e()}function l(e){return y.a.Ga(y.u.G(e),(function(t,n){return function(){return e()[n]}}))}function h(e,t,n){return"function"==typeof e?l(e.bind(null,t,n)):y.a.Ga(e,s)}function c(e,t){return l(this.getBindings.bind(this,e,t))}function u(e,t){var n=y.h.firstChild(t);if(n){var i,o=y.ga.instance,s=o.preprocessNode;if(s){for(;i=n;)n=y.h.nextSibling(i),s.call(o,i);n=y.h.firstChild(t)}for(;i=n;)n=y.h.nextSibling(i),d(e,i)}y.i.ma(t,y.i.H)}function d(e,t){var n=e,i=1===t.nodeType;i&&y.h.Sc(t),(i||y.ga.instance.nodeHasBindings(t))&&(n=p(t,null,e).bindingContextForDescendants),n&&!w[y.a.R(t)]&&u(n,t)}function p(e,t,i){var o,s=y.a.g.Ub(e,S,{}),r=s.hd;if(!t){if(r)throw Error("You cannot apply bindings multiple times to the same element.");s.hd=!0}if(r||(s.context=i),s.Zb||(s.Zb={}),t&&"function"!=typeof t)o=t;else{var l=y.ga.instance,h=l.getBindingAccessors||c,u=y.$((function(){return(o=t?t(i,e):h.call(l,e,i))&&(i[g]&&i[g](),i[b]&&i[b]()),o}),null,{l:e});o&&u.ja()||(u=null)}var d,p=i;if(o){var f=function(){return y.a.Ga(u?u():o,a)},m=u?function(e){return function(){return a(u()[e])}}:function(e){return o[e]};f.get=function(e){return o[e]&&a(m(e))},f.has=function(e){return e in o},y.i.H in o&&y.i.subscribe(e,y.i.H,(function(){var t=(0,o[y.i.H])();if(t){var n=y.h.childNodes(e);n.length&&t(n,y.Ec(n[0]))}})),y.i.pa in o&&(p=y.i.Cb(e,i),y.i.subscribe(e,y.i.pa,(function(){var t=(0,o[y.i.pa])();t&&y.h.firstChild(e)&&t(e)}))),s=function(e){var t=[],n={},i=[];return y.a.P(e,(function o(s){if(!n[s]){var r=y.getBindingHandler(s);r&&(r.after&&(i.push(s),y.a.D(r.after,(function(t){if(e[t]){if(-1!==y.a.A(i,t))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+i.join(", "));o(t)}})),i.length--),t.push({key:s,Mc:r})),n[s]=!0}})),t}(o),y.a.D(s,(function(t){var i=t.Mc.init,s=t.Mc.update,r=t.key;if(8===e.nodeType&&!y.h.ea[r])throw Error("The binding '"+r+"' cannot be used with virtual elements");try{"function"==typeof i&&y.u.G((function(){var t=i(e,m(r),f,p.$data,p);if(t&&t.controlsDescendantBindings){if(d!==n)throw Error("Multiple bindings ("+d+" and "+r+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");d=r}})),"function"==typeof s&&y.$((function(){s(e,m(r),f,p.$data,p)}),null,{l:e})}catch(e){throw e.message='Unable to process binding "'+r+": "+o[r]+'"\nMessage: '+e.message,e}}))}return{shouldBindDescendants:s=d===n,bindingContextForDescendants:s&&p}}function f(e,t){return e&&e instanceof y.fa?e:new y.fa(e,n,n,t)}var g=y.a.Da("_subscribable"),m=y.a.Da("_ancestorBindingInfo"),b=y.a.Da("_dataDependency");y.c={};var w={script:!0,textarea:!0,template:!0};y.getBindingHandler=function(e){return y.c[e]};var E={};y.fa=function(e,t,i,o,s){function r(){var e=u?c():c,n=y.a.f(e);return t?(y.a.extend(l,t),m in t&&(l[m]=t[m])):(l.$parents=[],l.$root=n,l.ko=y),l[g]=a,h?n=l.$data:(l.$rawData=e,l.$data=n),i&&(l[i]=n),o&&o(l,t,n),t&&t[g]&&!y.S.o().Vb(t[g])&&t[g](),d&&(l[b]=d),l.$data}var a,l=this,h=e===E,c=h?n:e,u="function"==typeof c&&!y.O(c),d=s&&s.dataDependency;s&&s.exportDependencies?r():((a=y.xb(r)).v(),a.ja()?a.equalityComparer=null:l[g]=n)},y.fa.prototype.createChildContext=function(e,t,n,i){if(!i&&t&&"object"==typeof t&&(t=(i=t).as,n=i.extend),t&&i&&i.noChildContext){var o="function"==typeof e&&!y.O(e);return new y.fa(E,this,null,(function(i){n&&n(i),i[t]=o?e():e}),i)}return new y.fa(e,this,t,(function(e,t){e.$parentContext=t,e.$parent=t.$data,e.$parents=(t.$parents||[]).slice(0),e.$parents.unshift(e.$parent),n&&n(e)}),i)},y.fa.prototype.extend=function(e,t){return new y.fa(E,this,null,(function(t){y.a.extend(t,"function"==typeof e?e(t):e)}),t)};var S=y.a.g.Z();t.prototype.Tc=function(){this.Kb&&this.Kb.N&&this.Kb.N.sd(this.node)},t.prototype.sd=function(e){y.a.Pa(this.kb,e),!this.kb.length&&this.H&&this.Cc()},t.prototype.Cc=function(){this.H=!0,this.yc.N&&!this.kb.length&&(this.yc.N=null,y.a.K.yb(this.node,e),y.i.ma(this.node,y.i.pa),this.Tc())},y.i={H:"childrenComplete",pa:"descendantsComplete",subscribe:function(e,t,n,i,o){var s=y.a.g.Ub(e,S,{});return s.Fa||(s.Fa=new y.T),o&&o.notifyImmediately&&s.Zb[t]&&y.u.G(n,i,[e]),s.Fa.subscribe(n,i,t)},ma:function(e,t){var i=y.a.g.get(e,S);if(i&&(i.Zb[t]=!0,i.Fa&&i.Fa.notifySubscribers(e,t),t==y.i.H))if(i.N)i.N.Cc();else if(i.N===n&&i.Fa&&i.Fa.Wa(y.i.pa))throw Error("descendantsComplete event not supported for bindings on this node")},Cb:function(e,n){var i=y.a.g.Ub(e,S,{});return i.N||(i.N=new t(e,i,n[m])),n[m]==i?n:n.extend((function(e){e[m]=i}))}},y.Td=function(e){return(e=y.a.g.get(e,S))&&e.context},y.ib=function(e,t,n){return 1===e.nodeType&&y.h.Sc(e),p(e,t,f(n))},y.ld=function(e,t,n){return n=f(n),y.ib(e,h(t,n,e),n)},y.Oa=function(e,t){1!==t.nodeType&&8!==t.nodeType||u(f(e),t)},y.vc=function(e,t,n){if(!r&&i.jQuery&&(r=i.jQuery),2>arguments.length){if(!(t=o.body))throw Error("ko.applyBindings: could not find document.body; has the document been loaded?")}else if(!t||1!==t.nodeType&&8!==t.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");d(f(e,n),t)},y.Dc=function(e){return!e||1!==e.nodeType&&8!==e.nodeType?n:y.Td(e)},y.Ec=function(e){return(e=y.Dc(e))?e.$data:n},y.b("bindingHandlers",y.c),y.b("bindingEvent",y.i),y.b("bindingEvent.subscribe",y.i.subscribe),y.b("bindingEvent.startPossiblyAsyncContentBinding",y.i.Cb),y.b("applyBindings",y.vc),y.b("applyBindingsToDescendants",y.Oa),y.b("applyBindingAccessorsToNode",y.ib),y.b("applyBindingsToNode",y.ld),y.b("contextFor",y.Dc),y.b("dataFor",y.Ec)}(),function(e){function t(t,i){var r,a=Object.prototype.hasOwnProperty.call(o,t)?o[t]:e;a?a.subscribe(i):((a=o[t]=new y.T).subscribe(i),n(t,(function(e,n){var i=!(!n||!n.synchronous);s[t]={definition:e,Gd:i},delete o[t],r||i?a.notifySubscribers(e):y.na.zb((function(){a.notifySubscribers(e)}))})),r=!0)}function n(e,t){i("getConfig",[e],(function(n){n?i("loadComponent",[e,n],(function(e){t(e,n)})):t(null,null)}))}function i(t,n,o,s){s||(s=y.j.loaders.slice(0));var r=s.shift();if(r){var a=r[t];if(a){var l=!1;if(a.apply(r,n.concat((function(e){l?o(null):null!==e?o(e):i(t,n,o,s)})))!==e&&(l=!0,!r.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else i(t,n,o,s)}else o(null)}var o={},s={};y.j={get:function(n,i){var o=Object.prototype.hasOwnProperty.call(s,n)?s[n]:e;o?o.Gd?y.u.G((function(){i(o.definition)})):y.na.zb((function(){i(o.definition)})):t(n,i)},Bc:function(e){delete s[e]},oc:i},y.j.loaders=[],y.b("components",y.j),y.b("components.get",y.j.get),y.b("components.clearCachedDefinition",y.j.Bc)}(),function(){function e(e,t,n,i){function o(){0==--a&&i(s)}var s={},a=2,l=n.template;n=n.viewModel,l?r(t,l,(function(t){y.j.oc("loadTemplate",[e,t],(function(e){s.template=e,o()}))})):o(),n?r(t,n,(function(t){y.j.oc("loadViewModel",[e,t],(function(e){s[h]=e,o()}))})):o()}function n(e){switch(y.a.R(e)){case"script":return y.a.ua(e.text);case"textarea":return y.a.ua(e.value);case"template":if(s(e.content))return y.a.Ca(e.content.childNodes)}return y.a.Ca(e.childNodes)}function s(e){return i.DocumentFragment?e instanceof DocumentFragment:e&&11===e.nodeType}function r(e,n,o){"string"==typeof n.require?t||i.require?(t||i.require)([n.require],(function(e){e&&"object"==typeof e&&e.Xd&&e.default&&(e=e.default),o(e)})):e("Uses require, but no AMD loader is present"):o(n)}function a(e){return function(t){throw Error("Component '"+e+"': "+t)}}var l={};y.j.register=function(e,t){if(!t)throw Error("Invalid configuration for "+e);if(y.j.tb(e))throw Error("Component "+e+" is already registered");l[e]=t},y.j.tb=function(e){return Object.prototype.hasOwnProperty.call(l,e)},y.j.unregister=function(e){delete l[e],y.j.Bc(e)},y.j.Fc={getConfig:function(e,t){t(y.j.tb(e)?l[e]:null)},loadComponent:function(t,n,i){var o=a(t);r(o,n,(function(n){e(t,o,n,i)}))},loadTemplate:function(e,t,r){if(e=a(e),"string"==typeof t)r(y.a.ua(t));else if(t instanceof Array)r(t);else if(s(t))r(y.a.la(t.childNodes));else if(t.element)if(t=t.element,i.HTMLElement?t instanceof HTMLElement:t&&t.tagName&&1===t.nodeType)r(n(t));else if("string"==typeof t){var l=o.getElementById(t);l?r(n(l)):e("Cannot find element with ID "+t)}else e("Unknown element type: "+t);else e("Unknown template value: "+t)},loadViewModel:function(e,t,n){!function e(t,n,i){if("function"==typeof n)i((function(e){return new n(e)}));else if("function"==typeof n[h])i(n[h]);else if("instance"in n){var o=n.instance;i((function(){return o}))}else"viewModel"in n?e(t,n.viewModel,i):t("Unknown viewModel value: "+n)}(a(e),t,n)}};var h="createViewModel";y.b("components.register",y.j.register),y.b("components.isRegistered",y.j.tb),y.b("components.unregister",y.j.unregister),y.b("components.defaultLoader",y.j.Fc),y.j.loaders.push(y.j.Fc),y.j.dd=l}(),function(){function e(e,n){if(i=e.getAttribute("params")){var i=t.parseBindingsString(i,n,e,{valueAccessors:!0,bindingParams:!0}),o=(i=y.a.Ga(i,(function(t){return y.o(t,null,{l:e})})),y.a.Ga(i,(function(t){var n=t.v();return t.ja()?y.o({read:function(){return y.a.f(t())},write:y.Za(n)&&function(e){t()(e)},l:e}):n})));return Object.prototype.hasOwnProperty.call(o,"$raw")||(o.$raw=i),o}return{$raw:{}}}y.j.getComponentNameForNode=function(e){var t=y.a.R(e);if(y.j.tb(t)&&(-1!=t.indexOf("-")||"[object HTMLUnknownElement]"==""+e||8>=y.a.W&&e.tagName===t))return t},y.j.tc=function(t,n,i,o){if(1===n.nodeType){var s=y.j.getComponentNameForNode(n);if(s){if((t=t||{}).component)throw Error('Cannot use the "component" binding on a custom element matching a component');var r={name:s,params:e(n,i)};t.component=o?function(){return r}:r}}return t};var t=new y.ga;9>y.a.W&&(y.j.register=function(e){return function(t){return e.apply(this,arguments)}}(y.j.register),o.createDocumentFragment=function(e){return function(){var t=e();return y.j.dd,t}}(o.createDocumentFragment))}(),function(){var e=0;y.c.component={init:function(t,n,i,o,s){function r(){var e=a&&a.dispose;"function"==typeof e&&e.call(a),h&&h.s(),l=a=h=null}var a,l,h,c=y.a.la(y.h.childNodes(t));return y.h.Ea(t),y.a.K.za(t,r),y.o((function(){var i,o,u=y.a.f(n());if("string"==typeof u?i=u:(i=y.a.f(u.name),o=y.a.f(u.params)),!i)throw Error("No component name specified");var d=y.i.Cb(t,s),p=l=++e;y.j.get(i,(function(e){if(l===p){if(r(),!e)throw Error("Unknown component '"+i+"'");!function(e,t,n){if(!(t=t.template))throw Error("Component '"+e+"' has no template");e=y.a.Ca(t),y.h.va(n,e)}(i,e,t);var n=function(e,t,n){var i=e.createViewModel;return i?i.call(e,t,n):t}(e,o,{element:t,templateNodes:c});e=d.createChildContext(n,{extend:function(e){e.$component=n,e.$componentTemplateNodes=c}}),n&&n.koDescendantsComplete&&(h=y.i.subscribe(t,y.i.pa,n.koDescendantsComplete,n)),a=n,y.Oa(e,t)}}))}),null,{l:t}),{controlsDescendantBindings:!0}}},y.h.ea.component=!0}();var R={class:"className",for:"htmlFor"};y.c.attr={update:function(e,t){var i=y.a.f(t())||{};y.a.P(i,(function(t,i){i=y.a.f(i);var o=t.indexOf(":"),s=(o="lookupNamespaceURI"in e&&0<o&&e.lookupNamespaceURI(t.substr(0,o)),!1===i||null===i||i===n);s?o?e.removeAttributeNS(o,t):e.removeAttribute(t):i=i.toString(),8>=y.a.W&&t in R?(t=R[t],s?e.removeAttribute(t):e[t]=i):s||(o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)),"name"===t&&y.a.Yc(e,s?"":i)}))}},y.c.checked={after:["value","attr"],init:function(e,t,i){function o(){var o=e.checked,l=s();if(!y.S.Ya()&&(o||!a&&!y.S.qa())){var u=y.u.G(t);if(h){var p=c?u.v():u,f=d;d=l,f!==l?o&&(y.a.Na(p,l,!0),y.a.Na(p,f,!1)):y.a.Na(p,l,o),c&&y.Za(u)&&u(p)}else r&&(l===n?l=o:o||(l=n)),y.m.eb(u,i,"checked",l,!0)}}var s=y.xb((function(){return i.has("checkedValue")?y.a.f(i.get("checkedValue")):u?i.has("value")?y.a.f(i.get("value")):e.value:void 0})),r="checkbox"==e.type,a="radio"==e.type;if(r||a){var l=t(),h=r&&y.a.f(l)instanceof Array,c=!(h&&l.push&&l.splice),u=a||h,d=h?s():n;a&&!e.name&&y.c.uniqueName.init(e,(function(){return!0})),y.o(o,null,{l:e}),y.a.B(e,"click",o),y.o((function(){var i=y.a.f(t()),o=s();h?(e.checked=0<=y.a.A(i,o),d=o):e.checked=r&&o===n?!!i:s()===i}),null,{l:e}),l=n}}},y.m.wa.checked=!0,y.c.checkedValue={update:function(e,t){e.value=y.a.f(t())}},y.c.class={update:function(e,t){var n=y.a.Db(y.a.f(t()));y.a.Eb(e,e.__ko__cssValue,!1),e.__ko__cssValue=n,y.a.Eb(e,n,!0)}},y.c.css={update:function(e,t){var n=y.a.f(t());null!==n&&"object"==typeof n?y.a.P(n,(function(t,n){n=y.a.f(n),y.a.Eb(e,t,n)})):y.c.class.update(e,t)}},y.c.enable={update:function(e,t){var n=y.a.f(t());n&&e.disabled?e.removeAttribute("disabled"):n||e.disabled||(e.disabled=!0)}},y.c.disable={update:function(e,t){y.c.enable.update(e,(function(){return!y.a.f(t())}))}},y.c.event={init:function(e,t,n,i,o){var s=t()||{};y.a.P(s,(function(s){"string"==typeof s&&y.a.B(e,s,(function(e){var r,a=t()[s];if(a){try{var l=y.a.la(arguments);i=o.$data,l.unshift(i),r=a.apply(i,l)}finally{!0!==r&&(e.preventDefault?e.preventDefault():e.returnValue=!1)}!1===n.get(s+"Bubble")&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation())}}))}))}},y.c.foreach={Rc:function(e){return function(){var t=e(),n=y.a.bc(t);return n&&"number"!=typeof n.length?(y.a.f(t),{foreach:n.data,as:n.as,noChildContext:n.noChildContext,includeDestroyed:n.includeDestroyed,afterAdd:n.afterAdd,beforeRemove:n.beforeRemove,afterRender:n.afterRender,beforeMove:n.beforeMove,afterMove:n.afterMove,templateEngine:y.ba.Ma}):{foreach:t,templateEngine:y.ba.Ma}}},init:function(e,t){return y.c.template.init(e,y.c.foreach.Rc(t))},update:function(e,t,n,i,o){return y.c.template.update(e,y.c.foreach.Rc(t),n,i,o)}},y.m.Ra.foreach=!1,y.h.ea.foreach=!0,y.c.hasfocus={init:function(e,t,n){function i(i){e.__ko_hasfocusUpdating=!0;var o=e.ownerDocument;if("activeElement"in o){var s;try{s=o.activeElement}catch(e){s=o.body}i=s===e}o=t(),y.m.eb(o,n,"hasfocus",i,!0),e.__ko_hasfocusLastValue=i,e.__ko_hasfocusUpdating=!1}var o=i.bind(null,!0),s=i.bind(null,!1);y.a.B(e,"focus",o),y.a.B(e,"focusin",o),y.a.B(e,"blur",s),y.a.B(e,"focusout",s),e.__ko_hasfocusLastValue=!1},update:function(e,t){var n=!!y.a.f(t());e.__ko_hasfocusUpdating||e.__ko_hasfocusLastValue===n||(n?e.focus():e.blur(),!n&&e.__ko_hasfocusLastValue&&e.ownerDocument.body.focus(),y.u.G(y.a.Fb,null,[e,n?"focusin":"focusout"]))}},y.m.wa.hasfocus=!0,y.c.hasFocus=y.c.hasfocus,y.m.wa.hasFocus="hasfocus",y.c.html={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.fc(e,t())}},function(){function e(e,t,n){y.c[e]={init:function(e,i,o,s,r){var a,l,h,c,u,d={};if(t){s=o.get("as");var p=o.get("noChildContext");d={as:s,noChildContext:p,exportDependencies:u=!(s&&p)}}return c=(h="render"==o.get("completeOn"))||o.has(y.i.pa),y.o((function(){var o,s=y.a.f(i()),p=!n!=!s,f=!l;(u||p!==a)&&(c&&(r=y.i.Cb(e,r)),p&&(t&&!u||(d.dataDependency=y.S.o()),o=t?r.createChildContext("function"==typeof s?s:i,d):y.S.qa()?r.extend(null,d):r),f&&y.S.qa()&&(l=y.a.Ca(y.h.childNodes(e),!0)),p?(f||y.h.va(e,y.a.Ca(l)),y.Oa(o,e)):(y.h.Ea(e),h||y.i.ma(e,y.i.H)),a=p)}),null,{l:e}),{controlsDescendantBindings:!0}}},y.m.Ra[e]=!1,y.h.ea[e]=!0}e("if"),e("ifnot",!1,!0),e("with",!0)}(),y.c.let={init:function(e,t,n,i,o){return t=o.extend(t),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.let=!0;var k={};y.c.options={init:function(e){if("select"!==y.a.R(e))throw Error("options binding applies only to SELECT elements");for(;0<e.length;)e.remove(0);return{controlsDescendantBindings:!0}},update:function(e,t,i){function o(){return y.a.jb(e.options,(function(e){return e.selected}))}function s(e,t,n){var i=typeof t;return"function"==i?t(e):"string"==i?e[t]:n}function r(t,n){if(f&&c)y.i.ma(e,y.i.H);else if(p.length){var i=0<=y.a.A(p,y.w.M(n[0]));y.a.Zc(n[0],i),f&&!i&&y.u.G(y.a.Fb,null,[e,"change"])}}var a=e.multiple,l=0!=e.length&&a?e.scrollTop:null,h=y.a.f(t()),c=i.get("valueAllowUnset")&&i.has("value"),u=i.get("optionsIncludeDestroyed");t={};var d,p=[];c||(a?p=y.a.Mb(o(),y.w.M):0<=e.selectedIndex&&p.push(y.w.M(e.options[e.selectedIndex]))),h&&(void 0===h.length&&(h=[h]),d=y.a.jb(h,(function(e){return u||e===n||null===e||!y.a.f(e._destroy)})),i.has("optionsCaption")&&null!==(h=y.a.f(i.get("optionsCaption")))&&h!==n&&d.unshift(k));var f=!1;t.beforeRemove=function(t){e.removeChild(t)},h=r,i.has("optionsAfterRender")&&"function"==typeof i.get("optionsAfterRender")&&(h=function(e,t){r(0,t),y.u.G(i.get("optionsAfterRender"),null,[t[0],e!==k?e:n])}),y.a.ec(e,d,(function(t,o,r){return r.length&&(p=!c&&r[0].selected?[y.w.M(r[0])]:[],f=!0),o=e.ownerDocument.createElement("option"),t===k?(y.a.Bb(o,i.get("optionsCaption")),y.w.cb(o,n)):(r=s(t,i.get("optionsValue"),t),y.w.cb(o,y.a.f(r)),t=s(t,i.get("optionsText"),r),y.a.Bb(o,t)),[o]}),t,h),c||(a?p.length&&o().length<p.length:p.length&&0<=e.selectedIndex?y.w.M(e.options[e.selectedIndex])!==p[0]:p.length||0<=e.selectedIndex)&&y.u.G(y.a.Fb,null,[e,"change"]),(c||y.S.Ya())&&y.i.ma(e,y.i.H),y.a.wd(e),l&&20<Math.abs(l-e.scrollTop)&&(e.scrollTop=l)}},y.c.options.$b=y.a.g.Z(),y.c.selectedOptions={init:function(e,t,n){function i(){var i=t(),o=[];y.a.D(e.getElementsByTagName("option"),(function(e){e.selected&&o.push(y.w.M(e))})),y.m.eb(i,n,"selectedOptions",o)}function o(){var n=y.a.f(t()),i=e.scrollTop;n&&"number"==typeof n.length&&y.a.D(e.getElementsByTagName("option"),(function(e){var t=0<=y.a.A(n,y.w.M(e));e.selected!=t&&y.a.Zc(e,t)})),e.scrollTop=i}if("select"!=y.a.R(e))throw Error("selectedOptions binding applies only to SELECT elements");var s;y.i.subscribe(e,y.i.H,(function(){s?i():(y.a.B(e,"change",i),s=y.o(o,null,{l:e}))}),null,{notifyImmediately:!0})},update:function(){}},y.m.wa.selectedOptions=!0,y.c.style={update:function(e,t){var i=y.a.f(t()||{});y.a.P(i,(function(t,i){if(null!==(i=y.a.f(i))&&i!==n&&!1!==i||(i=""),r)r(e).css(t,i);else if(/^--/.test(t))e.style.setProperty(t,i);else{t=t.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}));var o=e.style[t];e.style[t]=i,i===o||e.style[t]!=o||isNaN(i)||(e.style[t]=i+"px")}}))}},y.c.submit={init:function(e,t,n,i,o){if("function"!=typeof t())throw Error("The value for a submit binding must be a function");y.a.B(e,"submit",(function(n){var i,s=t();try{i=s.call(o.$data,e)}finally{!0!==i&&(n.preventDefault?n.preventDefault():n.returnValue=!1)}}))}},y.c.text={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t){y.a.Bb(e,t())}},y.h.ea.text=!0,function(){if(i&&i.navigator){var e,t,o,s,r,a=function(e){if(e)return parseFloat(e[1])},l=i.navigator.userAgent;(e=i.opera&&i.opera.version&&parseInt(i.opera.version()))||(r=a(l.match(/Edge\/([^ ]+)$/)))||a(l.match(/Chrome\/([^ ]+)/))||(t=a(l.match(/Version\/([^ ]+) Safari/)))||(o=a(l.match(/Firefox\/([^ ]+)/)))||(s=y.a.W||a(l.match(/MSIE ([^ ]+)/)))||(s=a(l.match(/rv:([^ )]+)/)))}if(8<=s&&10>s)var h=y.a.g.Z(),c=y.a.g.Z(),u=function(e){var t=this.activeElement;(t=t&&y.a.g.get(t,c))&&t(e)},d=function(e,t){var n=e.ownerDocument;y.a.g.get(n,h)||(y.a.g.set(n,h,!0),y.a.B(n,"selectionchange",u)),y.a.g.set(e,c,t)};y.c.textInput={init:function(i,a,l){function h(e,t){y.a.B(i,e,t)}function c(){p||(f=i.value,p=y.a.setTimeout(u,4))}function u(){clearTimeout(p),f=p=n;var e=i.value;g!==e&&(g=e,y.m.eb(a(),l,"textInput",e))}var p,f,g=i.value,m=9==y.a.W?c:u,b=!1;s&&h("keypress",u),11>s&&h("propertychange",(function(e){b||"value"!==e.propertyName||m(e)})),8==s&&(h("keyup",u),h("keydown",u)),d&&(d(i,m),h("dragend",c)),(!s||9<=s)&&h("input",m),5>t&&"textarea"===y.a.R(i)?(h("keydown",c),h("paste",c),h("cut",c)):11>e?h("keydown",c):4>o?(h("DOMAutoComplete",u),h("dragdrop",u),h("drop",u)):r&&"number"===i.type&&h("keydown",c),h("change",u),h("blur",u),y.o((function e(){var t=y.a.f(a());null!==t&&t!==n||(t=""),f!==n&&t===f?y.a.setTimeout(e,4):i.value!==t&&(b=!0,i.value=t,b=!1,g=i.value)}),null,{l:i})}},y.m.wa.textInput=!0,y.c.textinput={preprocess:function(e,t,n){n("textInput",e)}}}(),y.c.uniqueName={init:function(e,t){if(t()){var n="ko_unique_"+ ++y.c.uniqueName.rd;y.a.Yc(e,n)}}},y.c.uniqueName.rd=0,y.c.using={init:function(e,t,n,i,o){var s;return n.has("as")&&(s={as:n.get("as"),noChildContext:n.get("noChildContext")}),t=o.createChildContext(t,s),y.Oa(t,e),{controlsDescendantBindings:!0}}},y.h.ea.using=!0,y.c.value={init:function(e,t,i){var o=y.a.R(e),s="input"==o;if(!s||"checkbox"!=e.type&&"radio"!=e.type){var r=[],a=i.get("valueUpdate"),l=!1,h=null;a&&(r="string"==typeof a?[a]:y.a.wc(a),y.a.Pa(r,"change"));var c,u,d=function(){h=null,l=!1;var n=t(),o=y.w.M(e);y.m.eb(n,i,"value",o)};!y.a.W||!s||"text"!=e.type||"off"==e.autocomplete||e.form&&"off"==e.form.autocomplete||-1!=y.a.A(r,"propertychange")||(y.a.B(e,"propertychange",(function(){l=!0})),y.a.B(e,"focus",(function(){l=!1})),y.a.B(e,"blur",(function(){l&&d()}))),y.a.D(r,(function(t){var n=d;y.a.Ud(t,"after")&&(n=function(){h=y.w.M(e),y.a.setTimeout(d,0)},t=t.substring(5)),y.a.B(e,t,n)})),c=s&&"file"==e.type?function(){var i=y.a.f(t());null===i||i===n||""===i?e.value="":y.u.G(d)}:function(){var s=y.a.f(t()),r=y.w.M(e);null!==h&&s===h?y.a.setTimeout(c,0):s===r&&r!==n||("select"===o?(r=i.get("valueAllowUnset"),y.w.cb(e,s,r),r||s===y.w.M(e)||y.u.G(d)):y.w.cb(e,s))},"select"===o?y.i.subscribe(e,y.i.H,(function(){u?i.get("valueAllowUnset")?c():d():(y.a.B(e,"change",d),u=y.o(c,null,{l:e}))}),null,{notifyImmediately:!0}):(y.a.B(e,"change",d),y.o(c,null,{l:e}))}else y.ib(e,{checkedValue:t})},update:function(){}},y.m.wa.value=!0,y.c.visible={update:function(e,t){var n=y.a.f(t()),i="none"!=e.style.display;n&&!i?e.style.display="":!n&&i&&(e.style.display="none")}},y.c.hidden={update:function(e,t){y.c.visible.update(e,(function(){return!y.a.f(t())}))}},function(e){y.c[e]={init:function(t,n,i,o,s){return y.c.event.init.call(this,t,(function(){var t={};return t[e]=n(),t}),i,o,s)}}}("click"),y.ca=function(){},y.ca.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},y.ca.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},y.ca.prototype.makeTemplateSource=function(e,t){if("string"==typeof e){var n=(t=t||o).getElementById(e);if(!n)throw Error("Cannot find template with ID "+e);return new y.C.F(n)}if(1==e.nodeType||8==e.nodeType)return new y.C.ia(e);throw Error("Unknown template type: "+e)},y.ca.prototype.renderTemplate=function(e,t,n,i){return e=this.makeTemplateSource(e,i),this.renderTemplateSource(e,t,n,i)},y.ca.prototype.isTemplateRewritten=function(e,t){return!1===this.allowTemplateRewriting||this.makeTemplateSource(e,t).data("isRewritten")},y.ca.prototype.rewriteTemplate=function(e,t,n){t=t((e=this.makeTemplateSource(e,n)).text()),e.text(t),e.data("isRewritten",!0)},y.b("templateEngine",y.ca),y.kc=function(){function e(e,t,n,i){e=y.m.ac(e);for(var o=y.m.Ra,s=0;s<e.length;s++){var r=e[s].key;if(Object.prototype.hasOwnProperty.call(o,r)){var a=o[r];if("function"==typeof a){if(r=a(e[s].value))throw Error(r)}else if(!a)throw Error("This template engine does not support the '"+r+"' binding within its templates")}}return n="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+y.m.vb(e,{valueAccessors:!0})+" } })()},'"+n.toLowerCase()+"')",i.createJavaScriptEvaluatorBlock(n)+t}var t=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,n=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{xd:function(e,t,n){t.isTemplateRewritten(e,n)||t.rewriteTemplate(e,(function(e){return y.kc.Ld(e,t)}),n)},Ld:function(i,o){return i.replace(t,(function(t,n,i,s,r){return e(r,n,i,o)})).replace(n,(function(t,n){return e(n,"\x3c!-- ko --\x3e","#comment",o)}))},md:function(e,t){return y.aa.Xb((function(n,i){var o=n.nextSibling;o&&o.nodeName.toLowerCase()===t&&y.ib(o,e,i)}))}}}(),y.b("__tr_ambtns",y.kc.md),function(){y.C={},y.C.F=function(e){if(this.F=e){var t=y.a.R(e);this.ab="script"===t?1:"textarea"===t?2:"template"==t&&e.content&&11===e.content.nodeType?3:4}},y.C.F.prototype.text=function(){var e=1===this.ab?"text":2===this.ab?"value":"innerHTML";if(0==arguments.length)return this.F[e];var t=arguments[0];"innerHTML"===e?y.a.fc(this.F,t):this.F[e]=t};var e=y.a.g.Z()+"_";y.C.F.prototype.data=function(t){if(1===arguments.length)return y.a.g.get(this.F,e+t);y.a.g.set(this.F,e+t,arguments[1])};var t=y.a.g.Z();y.C.F.prototype.nodes=function(){var e=this.F;if(0==arguments.length){var i=y.a.g.get(e,t)||{},o=i.lb||(3===this.ab?e.content:4===this.ab?e:n);if(!o||i.jd){var s=this.text();s&&s!==i.bb&&(o=y.a.Md(s,e.ownerDocument),y.a.g.set(e,t,{lb:o,bb:s,jd:!0}))}return o}i=arguments[0],this.ab!==n&&this.text(""),y.a.g.set(e,t,{lb:i})},y.C.ia=function(e){this.F=e},y.C.ia.prototype=new y.C.F,y.C.ia.prototype.constructor=y.C.ia,y.C.ia.prototype.text=function(){if(0==arguments.length){var e=y.a.g.get(this.F,t)||{};return e.bb===n&&e.lb&&(e.bb=e.lb.innerHTML),e.bb}y.a.g.set(this.F,t,{bb:arguments[0]})},y.b("templateSources",y.C),y.b("templateSources.domElement",y.C.F),y.b("templateSources.anonymousTemplate",y.C.ia)}(),function(){function e(e,t,n){var i;for(t=y.h.nextSibling(t);e&&(i=e)!==t;)n(i,e=y.h.nextSibling(i))}function t(t,n){if(t.length){var i=t[0],o=t[t.length-1],s=i.parentNode,r=y.ga.instance,a=r.preprocessNode;if(a){if(e(i,o,(function(e,t){var n=e.previousSibling,s=a.call(r,e);s&&(e===i&&(i=s[0]||t),e===o&&(o=s[s.length-1]||n))})),t.length=0,!i)return;i===o?t.push(i):(t.push(i,o),y.a.Ua(t,s))}e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.vc(n,e)})),e(i,o,(function(e){1!==e.nodeType&&8!==e.nodeType||y.aa.cd(e,[n])})),y.a.Ua(t,s)}}function i(e){return e.nodeType?e:0<e.length?e[0]:null}function o(e,n,o,s,a){a=a||{};var l=(e&&i(e)||o||{}).ownerDocument,h=a.templateEngine||r;if(y.kc.xd(o,h,l),"number"!=typeof(o=h.renderTemplate(o,s,a,l)).length||0<o.length&&"number"!=typeof o[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(l=!1,n){case"replaceChildren":y.h.va(e,o),l=!0;break;case"replaceNode":y.a.Xc(e,o),l=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+n)}return l&&(t(o,s),a.afterRender&&y.u.G(a.afterRender,null,[o,s[a.as||"$data"]]),"replaceChildren"==n&&y.i.ma(e,y.i.H)),o}function s(e,t,n){return y.O(e)?e():"function"==typeof e?e(t,n):e}var r;y.gc=function(e){if(e!=n&&!(e instanceof y.ca))throw Error("templateEngine must inherit from ko.templateEngine");r=e},y.dc=function(e,t,a,l,h){if(((a=a||{}).templateEngine||r)==n)throw Error("Set a template engine before calling renderTemplate");if(h=h||"replaceChildren",l){var c=i(l);return y.$((function(){var n=t&&t instanceof y.fa?t:new y.fa(t,null,null,null,{exportDependencies:!0}),r=s(e,n.$data,n);n=o(l,h,r,n,a),"replaceNode"==h&&(c=i(l=n))}),null,{Sa:function(){return!c||!y.a.Sb(c)},l:c&&"replaceNode"==h?c.parentNode:c})}return y.aa.Xb((function(n){y.dc(e,t,a,n,"replaceNode")}))},y.Qd=function(e,i,r,a,l){function h(e,t){y.u.G(y.a.ec,null,[a,e,u,r,c,t]),y.i.ma(a,y.i.H)}function c(e,n){t(n,d),r.afterRender&&r.afterRender(n,e),d=null}function u(t,n){d=l.createChildContext(t,{as:p,noChildContext:r.noChildContext,extend:function(e){e.$index=n,p&&(e[p+"Index"]=n)}});var i=s(e,t,d);return o(a,"ignoreTargetNode",i,d,r)}var d,p=r.as,f=!1===r.includeDestroyed||y.options.foreachHidesDestroyed&&!r.includeDestroyed;if(f||r.beforeRemove||!y.Pc(i))return y.$((function(){var e=y.a.f(i)||[];void 0===e.length&&(e=[e]),f&&(e=y.a.jb(e,(function(e){return e===n||null===e||!y.a.f(e._destroy)}))),h(e)}),null,{l:a});h(i.v());var g=i.subscribe((function(e){h(i(),e)}),null,"arrayChange");return g.l(a),g};var a=y.a.g.Z(),l=y.a.g.Z();y.c.template={init:function(e,t){var n=y.a.f(t());if("string"==typeof n||"name"in n)y.h.Ea(e);else if("nodes"in n){if(n=n.nodes||[],y.O(n))throw Error('The "nodes" option must be a plain, non-observable array.');var i=n[0]&&n[0].parentNode;i&&y.a.g.get(i,l)||(i=y.a.Yb(n),y.a.g.set(i,l,!0)),new y.C.ia(e).nodes(i)}else{if(!(0<(n=y.h.childNodes(e)).length))throw Error("Anonymous template defined, but no template content was provided");i=y.a.Yb(n),new y.C.ia(e).nodes(i)}return{controlsDescendantBindings:!0}},update:function(e,t,i,o,s){var r=t();i=!0,o=null,"string"==typeof(t=y.a.f(r))?t={}:(r="name"in t?t.name:e,"if"in t&&(i=y.a.f(t.if)),i&&"ifnot"in t&&(i=!y.a.f(t.ifnot)),i&&!r&&(i=!1)),"foreach"in t?o=y.Qd(r,i&&t.foreach||[],t,e,s):i?(i=s,"data"in t&&(i=s.createChildContext(t.data,{as:t.as,noChildContext:t.noChildContext,exportDependencies:!0})),o=y.dc(r,i,t,e)):y.h.Ea(e),s=o,(t=y.a.g.get(e,a))&&"function"==typeof t.s&&t.s(),y.a.g.set(e,a,!s||s.ja&&!s.ja()?n:s)}},y.m.Ra.template=function(e){return 1==(e=y.m.ac(e)).length&&e[0].unknown||y.m.Id(e,"name")?null:"This template engine does not support anonymous templates nested within its templates"},y.h.ea.template=!0}(),y.b("setTemplateEngine",y.gc),y.b("renderTemplate",y.dc),y.a.Kc=function(e,t,n){var i,o,s,r,a;if(e.length&&t.length)for(i=o=0;(!n||i<n)&&(r=e[o]);++o){for(s=0;a=t[s];++s)if(r.value===a.value){r.moved=a.index,a.moved=r.index,t.splice(s,1),i=s=0;break}i+=s}},y.a.Pb=function(){function e(e,t,n,i,o){var s,r,a,l,h,c=Math.min,u=Math.max,d=[],p=e.length,f=t.length,g=f-p||1,m=p+f+1;for(s=0;s<=p;s++)for(l=a,d.push(a=[]),h=c(f,s+g),r=u(0,s-1);r<=h;r++)a[r]=r?s?e[s-1]===t[r-1]?l[r-1]:c(l[r]||m,a[r-1]||m)+1:r+1:s+1;for(c=[],u=[],g=[],s=p,r=f;s||r;)f=d[s][r]-1,r&&f===d[s][r-1]?u.push(c[c.length]={status:n,value:t[--r],index:r}):s&&f===d[s-1][r]?g.push(c[c.length]={status:i,value:e[--s],index:s}):(--r,--s,o.sparse||c.push({status:"retained",value:t[r]}));return y.a.Kc(g,u,!o.dontLimitMoves&&10*p),c.reverse()}return function(t,n,i){return i="boolean"==typeof i?{dontLimitMoves:i}:i||{},n=n||[],(t=t||[]).length<n.length?e(t,n,"added","deleted",i):e(n,t,"deleted","added",i)}}(),y.b("utils.compareArrays",y.a.Pb),function(){function e(e,t,i,o,s){var r=[],a=y.$((function(){var n=t(i,s,y.a.Ua(r,e))||[];0<r.length&&(y.a.Xc(r,n),o&&y.u.G(o,null,[i,n,s])),r.length=0,y.a.Nb(r,n)}),null,{l:e,Sa:function(){return!y.a.kd(r)}});return{Y:r,$:a.ja()?a:n}}var t=y.a.g.Z(),i=y.a.g.Z();y.a.ec=function(o,s,r,a,l,h){function c(e){p={Aa:e,pb:y.ta(N++)},E.push(p),w||I.push(p)}function u(e){p=b[e],N!==p.pb.v()&&x.push(p),p.pb(N++),y.a.Ua(p.Y,o),E.push(p)}function d(e,t){if(e)for(var n=0,i=t.length;n<i;n++)y.a.D(t[n].Y,(function(i){e(i,n,t[n].Aa)}))}void 0===(s=s||[]).length&&(s=[s]),a=a||{};var p,f,g,m,b=y.a.g.get(o,t),w=!b,E=[],S=0,N=0,v=[],C=[],T=[],x=[],I=[],P=0;if(w)y.a.D(s,c);else{if(!h||b&&b._countWaitingForRemove){var A=y.a.Mb(b,(function(e){return e.Aa}));h=y.a.Pb(A,s,{dontLimitMoves:a.dontLimitMoves,sparse:!0})}var O,R,k;for(A=0;O=h[A];A++)switch(R=O.moved,k=O.index,O.status){case"deleted":for(;S<k;)u(S++);R===n&&((p=b[S]).$&&(p.$.s(),p.$=n),y.a.Ua(p.Y,o).length&&(a.beforeRemove&&(E.push(p),P++,p.Aa===i?p=null:T.push(p)),p&&v.push.apply(v,p.Y))),S++;break;case"added":for(;N<k;)u(S++);R!==n?(C.push(E.length),u(R)):c(O.value)}for(;N<s.length;)u(S++);E._countWaitingForRemove=P}y.a.g.set(o,t,E),d(a.beforeMove,x),y.a.D(v,a.beforeRemove?y.oa:y.removeNode);try{m=o.ownerDocument.activeElement}catch(e){}if(C.length)for(;(A=C.shift())!=n;){for(p=E[A],f=n;A;)if((g=E[--A].Y)&&g.length){f=g[g.length-1];break}for(s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f)}for(A=0;p=E[A];A++){for(p.Y||y.a.extend(p,e(o,r,p.Aa,l,p.pb)),s=0;S=p.Y[s];f=S,s++)y.h.Wb(o,S,f);!p.Ed&&l&&(l(p.Aa,p.Y,p.pb),p.Ed=!0,f=p.Y[p.Y.length-1])}for(m&&o.ownerDocument.activeElement!=m&&m.focus(),d(a.beforeRemove,T),A=0;A<T.length;++A)T[A].Aa=i;d(a.afterMove,x),d(a.afterAdd,I)}}(),y.b("utils.setDomNodeChildrenFromArrayMapping",y.a.ec),y.ba=function(){this.allowTemplateRewriting=!1},y.ba.prototype=new y.ca,y.ba.prototype.constructor=y.ba,y.ba.prototype.renderTemplateSource=function(e,t,n,i){return(t=9>y.a.W||!e.nodes?null:e.nodes())?y.a.la(t.cloneNode(!0).childNodes):(e=e.text(),y.a.ua(e,i))},y.ba.Ma=new y.ba,y.gc(y.ba.Ma),y.b("nativeTemplateEngine",y.ba),function(){y.$a=function(){var e=this.Hd=function(){if(!r||!r.tmpl)return 0;try{if(0<=r.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(e){}return 1}();this.renderTemplateSource=function(t,n,i,s){if(s=s||o,i=i||{},2>e)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var a=t.data("precompiled");return a||(a=t.text()||"",a=r.template(null,"{{ko_with $item.koBindingContext}}"+a+"{{/ko_with}}"),t.data("precompiled",a)),t=[n.$data],n=r.extend({koBindingContext:n},i.templateOptions),(n=r.tmpl(a,t,n)).appendTo(s.createElement("div")),r.fragments={},n},this.createJavaScriptEvaluatorBlock=function(e){return"{{ko_code ((function() { return "+e+" })()) }}"},this.addTemplate=function(e,t){o.write("<script type='text/html' id='"+e+"'>"+t+"<\/script>")},0<e&&(r.tmpl.tag.ko_code={open:"__.push($1 || '');"},r.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},y.$a.prototype=new y.ca,y.$a.prototype.constructor=y.$a;var e=new y.$a;0<e.Hd&&y.gc(e),y.b("jqueryTmplTemplateEngine",y.$a)}()}))}()})),o=e((function(e,t){function n(e){t.isDebug=e}function i(e){switch(e){case"ltr":return t.PageProgression.LTR;case"rtl":return t.PageProgression.RTL;default:throw new Error(`unknown PageProgression: ${e}`)}}var o,s;Object.defineProperty(t,"__esModule",{value:!0}),t.isDebug=!1,function(e){e.LTR="ltr",e.RTL="rtl"}(t.PageProgression||(t.PageProgression={})),(o=t.PageSide||(t.PageSide={})).LEFT="left",o.RIGHT="right",(s=t.ReadyState||(t.ReadyState={})).LOADING="loading",s.INTERACTIVE="interactive",s.COMPLETE="complete";const r={PageProgression:t.PageProgression,PageSide:t.PageSide,ReadyState:t.ReadyState};var a;function l(e){const t=Array.from(e);let n=null;return t[0]instanceof Error&&(n=t.shift()),{error:n,messages:t}}function h(e){const t=e.error,n=t&&(t.frameTrace||t.stack);let i=[].concat(e.messages);return t&&(i.length>0&&(i=i.concat(["\n"])),i=i.concat([t.toString()]),n&&(i=i.concat(["\n"]).concat(n))),i}!function(e){e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR"}(a||(a={}));const c=new class{constructor(e){this.opt_console=e,this.listeners={}}consoleDebug(e){this.opt_console?this.opt_console.debug?this.opt_console.debug(...e):this.opt_console.log(...e):console.debug(...e)}consoleInfo(e){this.opt_console?this.opt_console.info?this.opt_console.info(...e):this.opt_console.log(...e):console.info(...e)}consoleWarn(e){this.opt_console?this.opt_console.warn?this.opt_console.warn(...e):this.opt_console.log(...e):console.warn(...e)}consoleError(e){this.opt_console?this.opt_console.error?this.opt_console.error(...e):this.opt_console.log(...e):console.error(...e)}triggerListeners(e,t){const n=this.listeners[e];n&&n.forEach(e=>{e(t)})}addListener(e,t){let n=this.listeners[e];n||(n=this.listeners[e]=[]),n.push(t)}debug(...e){const t=l(arguments);this.consoleDebug(h(t)),this.triggerListeners(a.DEBUG,t)}info(...e){const t=l(arguments);this.consoleInfo(h(t)),this.triggerListeners(a.INFO,t)}warn(...e){const t=l(arguments);this.consoleWarn(h(t)),this.triggerListeners(a.WARN,t)}error(...e){const t=l(arguments);this.consoleError(h(t)),this.triggerListeners(a.ERROR,t)}};var u;(u=t.HOOKS||(t.HOOKS={})).SIMPLE_PROPERTY="SIMPLE_PROPERTY",u.PREPROCESS_SINGLE_DOCUMENT="PREPROCESS_SINGLE_DOCUMENT",u.PREPROCESS_TEXT_CONTENT="PREPROCESS_TEXT_CONTENT",u.PREPROCESS_ELEMENT_STYLE="PREPROCESS_ELEMENT_STYLE",u.POLYFILLED_INHERITED_PROPS="POLYFILLED_INHERITED_PROPS",u.CONFIGURATION="CONFIGURATION",u.RESOLVE_TEXT_NODE_BREAKER="RESOLVE_TEXT_NODE_BREAKER",u.RESOLVE_FORMATTING_CONTEXT="RESOLVE_FORMATTING_CONTEXT",u.RESOLVE_LAYOUT_PROCESSOR="RESOLVE_LAYOUT_PROCESSOR",u.POST_LAYOUT_BLOCK="POST_LAYOUT_BLOCK";const d={};function p(e,n){if(t.HOOKS[e]){let t=d[e];t||(t=d[e]=[]),t.push(n)}else c.warn(new Error(`Skipping unknown plugin hook '${e}'.`))}function f(e,n){if(t.HOOKS[e]){const t=d[e];if(t){const e=t.indexOf(n);e>=0&&t.splice(e,1)}}else c.warn(new Error(`Ignoring unknown plugin hook '${e}'.`))}function g(e){return d[e]||[]}const m={registerHook:p,removeHook:f};class b{constructor(e){this.performanceInstance=e,this.timestamps={},this.registerTiming=w,this.registerStartTiming=this.registerStartTiming=w,this.registerEndTiming=this.registerEndTiming=w}forceRegisterStartTiming(e,t){E.call(this,e,"start",t)}forceRegisterEndTiming(e,t){E.call(this,e,"end",t)}printTimings(){const e=this.timestamps;let t="";Object.keys(e).forEach(n=>{const i=e[n],o=i.length;for(let e=0;e<o;e++){const s=i[e];t+=n,o>1&&(t+=`(${e})`),t+=` => start: ${s.start}, end: ${s.end}, duration: ${s.end-s.start}\n`}}),c.info(t)}disable(){this.registerTiming=w,this.registerStartTiming=this.registerStartTiming=w,this.registerEndTiming=this.registerEndTiming=w}enable(){this.registerTiming=E,this.registerStartTiming=this.registerStartTiming=y,this.registerEndTiming=this.registerEndTiming=S}isEnabled(){return this.registerStartTiming===y}}function w(){}function E(e,t,n){n||(n=this.performanceInstance.now());let i,o=this.timestamps[e];o||(o=this.timestamps[e]=[]);for(let e=o.length-1;e>=0&&(i=o[e],!i||i[t]);e--)i=null;i||(i={},o.push(i)),i[t]=n}function y(e,t){this.registerTiming(e,"start",t)}function S(e,t){this.registerTiming(e,"end",t)}const N={now:Date.now},v=new b(window&&window.performance||N);v.forceRegisterStartTiming("load_vivliostyle");const C={profiler:{registerStartTiming:v.registerStartTiming,registerEndTiming:v.registerEndTiming,printTimings:v.printTimings,disable:v.disable,enable:v.enable}};let T={};function x(e){return JSON.parse(e)}function I(e){const t=e.match(/^([^#]*)/);return t?t[1]:e}let P=window.location.href;function A(e){P=e}let O=window.location.href;function R(e){O=e}function k(e,t){if(/^data:/i.test(t))return e||t;if(!t||e.match(/^\w{2,}:/))return e.toLowerCase().match("^javascript:")?"#":(e.match(/^\w{2,}:\/\/[^\/]+$/)&&(e=`${e}/`),e);let n;if(t.match(/^\w{2,}:\/\/[^\/]+$/)&&(t=`${t}/`),e.match(/^\/\//))return n=t.match(/^(\w{2,}:)\/\//),n?n[1]+e:e;if(e.match(/^\//))return n=t.match(/^(\w{2,}:\/\/[^\/]+)\//),n?n[1]+e:e;if(e.match(/^\.(\/|$)/)&&(e=e.substr(2)),t=function(e){const t=e.match(/^([^#?]*)/);return t?t[1]:e}(t),e.match(/^#/))return t+e;let i=t.lastIndexOf("/");if(i<0)return e;if(i<t.length-1&&t.lastIndexOf(".")<i){if(""==e)return t;i=(t+="/").length-1}let o=t.substr(0,i+1)+e,s="";for(n=o.match(/^([^?#]*)([?#].*)$/),n&&(o=n[1],s=n[2]);i=o.indexOf("/../"),!(i<=0);){const e=o.lastIndexOf("/",i-1);if(e<=0)break;o=o.substr(0,e)+o.substr(i+3)}return o.replace(/\/(\.\/)+/g,"/")+s}function L(e){let t;return(t=/^(https?:)\/\/github\.com\/([^/]+\/[^/]+)\/(blob\/|tree\/|raw\/)?(.*)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/${t[2]}/${t[3]?"":"master/"}${t[4]}`:(t=/^(https?:)\/\/www\.aozora\.gr\.jp\/(cards\/[^/]+\/files\/[^/.]+\.html)$/.exec(e))?e=`${t[1]}//raw.githubusercontent.com/aozorabunko/aozorabunko/master/${t[2]}`:(t=/^(https?:)\/\/gist\.github\.com\/([^/]+\/\w+)(\/|$)(raw(\/|$))?(.*)$/.exec(e))?e=`${t[1]}//gist.githubusercontent.com/${t[2]}/raw/${t[6]}`:(t=/^(https?:)\/\/(?:[^/.]+\.)?jsbin\.com\/(?!(?:blog|help)\b)(\w+)((\/\d+)?).*$/.exec(e))&&(e=`${t[1]}//output.jsbin.com/${t[2]}${t[3]}/`),e}var F;function D(e){return null==e?e:e.toString()}!function(e){e.FB2="http://www.gribuser.ru/xml/fictionbook/2.0",e.epub="http://www.idpf.org/2007/ops",e.EV="http://www.w3.org/2001/xml-events",e.MATHML="http://www.w3.org/1998/Math/MathML",e.XML="http://www.w3.org/XML/1998/namespace",e.XHTML="http://www.w3.org/1999/xhtml",e.XLINK="http://www.w3.org/1999/xlink",e.SHADOW="http://www.pyroxy.com/ns/shadow",e.SVG="http://www.w3.org/2000/svg",e.DC="http://purl.org/dc/elements/1.1/",e.NCX="http://www.daisy.org/z3986/2005/ncx/",e.SSE="http://example.com/sse"}(F||(F={}));class _{constructor(){this.queue=[null]}length(){return this.queue.length-1}add(e){let t=this.queue.length;for(;t>1;){const n=Math.floor(t/2),i=this.queue[n];if(i.compare(e)>0)return void(this.queue[t]=e);this.queue[t]=i,t=n}this.queue[1]=e}peek(){return this.queue[1]}remove(){const e=this.queue[1],t=this.queue.pop(),n=this.queue.length;if(n>1){let e=1;for(;;){let i=2*e;if(i>=n)break;if(this.queue[i].compare(t)>0)i+1<n&&this.queue[i+1].compare(this.queue[i])>0&&i++;else{if(!(i+1<n&&this.queue[i+1].compare(t)>0))break;i++}this.queue[e]=this.queue[i],e=i}this.queue[e]=t}return e}}const B=["","-webkit-","-moz-","-ms-","-o-","-epub-"],M={};function U(e,t){if("writing-mode"===t){const n=document.createElement("span");return"-ms-"===e?(n.style.setProperty(e+t,"tb-rl"),"tb-rl"===n.style["writing-mode"]):(n.style.setProperty(e+t,"vertical-rl"),"vertical-rl"===n.style[e+t])}return"string"==typeof document.documentElement.style[function(e,t){return e&&(t=`-${t}`,"moz"===(e=e.replace(/-/g,""))&&(e="Moz")),e+t.replace(/-[a-z]/g,e=>e.substr(1).toUpperCase())}(e,t)]}function z(e){let t=M[e];if(t||null===t)return t;switch(e){case"text-combine-upright":if(U("-webkit-","text-combine")&&!U("","text-combine-upright"))return M[e]=["-webkit-text-combine"],["-webkit-text-combine"];break;case"writing-mode":if(U("-ms-","writing-mode"))return M[e]=["-ms-writing-mode"],["-ms-writing-mode"];break;case"filter":if(U("-webkit-","filter"))return M[e]=["-webkit-filter"],["-webkit-filter"];break;case"clip-path":if(U("-webkit-","clip-path"))return M[e]=["-webkit-clip-path","clip-path"];break;case"margin-inline-start":if(U("-webkit-","margin-start"))return M[e]=["-webkit-margin-start"],["-webkit-margin-start"];break;case"margin-inline-end":if(U("-webkit-","margin-end"))return M[e]=["-webkit-margin-end"],["-webkit-margin-end"];break;case"padding-inline-start":if(U("-webkit-","padding-start"))return M[e]=["-webkit-padding-start"],["-webkit-padding-start"];break;case"padding-inline-end":if(U("-webkit-","padding-end"))return M[e]=["-webkit-padding-end"],["-webkit-padding-end"]}for(const n of B)if(U(n,e))return t=n+e,M[e]=[t],[t];return c.warn("Property not supported by the browser: ",e),M[e]=null,null}function V(e,t,n){try{const i=z(t);if(!i)return;i.forEach(t=>{if("-ms-writing-mode"===t)switch(n){case"horizontal-tb":n="lr-tb";break;case"vertical-rl":n="tb-rl";break;case"vertical-lr":n="tb-lr"}else if("-webkit-text-combine"===t)switch(n){case"all":n="horizontal"}e&&e.style&&e.style.setProperty(t,n)})}catch(e){c.warn(e)}}function H(e,t,n){try{const n=M[t];return e.style.getPropertyValue(n?n[0]:t)}catch(e){}return n||""}function $(e){let t=e.getAttributeNS(F.XML,"lang");return t||e.namespaceURI!=F.XHTML||(t=e.getAttribute("lang")),t}class G{constructor(){this.list=[]}append(e){return this.list.push(e),this}clear(){this.list=[]}toString(){const e=this.list.join("");return this.list=[e],e}}function W(e){return`\\${e.charCodeAt(0).toString(16)} `}function X(e){return e.replace(/[^-_a-zA-Z0-9\u0080-\uFFFF]/g,W)}function j(e){return e.replace(/[\u0000-\u001F"\\]/g,W)}function K(e){return e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent)}function Y(e){return!!e.match(/^[a-zA-Z\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u024F\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]$/)}function q(e,t){return e.replace(/[^-a-zA-Z0-9_]/g,(function(e){return function(e,t){return(t="string"==typeof t?t:"\\u")+(65536|e.charCodeAt(0)).toString(16).substr(1)}(e,t)}))}function Z(e){return q(e)}function Q(e,t){let n=0,i=e;for(;;){if(0==n||t(n-1),i==e||t(i),n==i)return n;const o=n+i>>1;t(o)?i=o:n=o+1}}function J(e,t){return e-t}function ee(e,t){const n={};for(const i of e){const e=t(i);e&&!n[e]&&(n[e]=i)}return n}function te(e,t){const n={};for(const i of e){const e=t(i);e&&(n[e]?n[e].push(i):n[e]=[i])}return n}class ne{constructor(){this.listeners={}}dispatchEvent(e){const t=this.listeners[e.type];if(t){e.target=this,e.currentTarget=this;for(let n=0;n<t.length;n++)t[n](e)}}addEventListener(e,t,n){if(n)return;const i=this.listeners[e];i?i.push(t):this.listeners[e]=[t]}removeEventListener(e,t,n){if(n)return;const i=this.listeners[e];if(i){const e=i.indexOf(t);e>=0&&i.splice(e,1)}}}let ie=null,oe=null,se=null,re=null;function ae(e){if(1==e.nodeType){const t=e.getAttribute("id");if(t&&t.match(/^[-a-zA-Z_0-9.\u007F-\uFFFF]+$/))return t}return null}function le(e){return`^${e}`}function he(e){return e.replace(/[\[\]\(\),=;^]/g,le)}function ce(e){return e.substr(1)}function ue(e){return e?e.replace(/\^[\[\]\(\),=;^]/g,ce):e}function de(e){const t=[];do{const n=e.match(/^(\^,|[^,])*/),i=ue(n[0]);if(!(e=e.substr(n[0].length+1))&&!t.length)return i;t.push(i)}while(e);return t}function pe(e){const t={};for(;e;){const n=e.match(/^;([^;=]+)=(([^;]|\^;)*)/);if(!n)return t;t[n[1]]=de(n[2]),e=e.substr(n[0].length)}return t}class fe{appendTo(e){e.append("!")}applyTo(e){return!1}}class ge{constructor(e,t,n){this.index=e,this.id=t,this.sideBias=n}appendTo(e){e.append("/"),e.append(this.index.toString()),(this.id||this.sideBias)&&(e.append("["),this.id&&e.append(this.id),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}applyTo(e){if(1!=e.node.nodeType)throw new Error("E_CFI_NOT_ELEMENT");const t=e.node,n=t.children,i=n.length;let o;const s=Math.floor(this.index/2)-1;if(s<0||0==i)o=t.firstChild,e.node=o||t;else{if(o=n[Math.min(s,i-1)],1&this.index){const t=o.nextSibling;t&&1!=t.nodeType?o=t:e.after=!0}e.node=o}if(this.id&&(e.after||this.id!=ae(e.node)))throw new Error("E_CFI_ID_MISMATCH");return e.sideBias=this.sideBias,!0}}class me{constructor(e,t,n,i){this.offset=e,this.textBefore=t,this.textAfter=n,this.sideBias=i}applyTo(e){if(this.offset>0&&!e.after){let t=this.offset,n=e.node;for(;;){const e=n.nodeType;if(1==e)break;const i=n.nextSibling;if(3<=e&&e<=5){const e=n.textContent.length;if(t<=e)break;if(!i){t=e;break}t-=e}if(!i){t=0;break}n=i}e.node=n,e.offset=t}return e.sideBias=this.sideBias,!0}appendTo(e){e.append(":"),e.append(this.offset.toString()),(this.textBefore||this.textAfter||this.sideBias)&&(e.append("["),(this.textBefore||this.textAfter)&&(this.textBefore&&e.append(he(this.textBefore)),e.append(","),this.textAfter&&e.append(he(this.textAfter))),this.sideBias&&(e.append(";s="),e.append(this.sideBias)),e.append("]"))}}class be{constructor(){this.steps=null}fromString(e){let t=e.match(/^#?epubcfi\((.*)\)$/);if(!t)throw new Error("E_CFI_NOT_CFI");const n=t[1];let i=0;const o=[];for(;;){let e;switch(n.charAt(i)){case"/":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[([-a-zA-Z_0-9.\u007F-\uFFFF]+)(;([^\]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10),r=t[3];e=pe(t[4]),o.push(new ge(s,r,D(e.s)));break}case":":{if(i++,t=n.substr(i).match(/^(0|[1-9][0-9]*)(\[((([^\];,]|\^[\];,])*)(,(([^\];,]|\^[\];,])*))?)(;([^]]|\^\])*)?\])?/),!t)throw new Error("E_CFI_NUMBER_EXPECTED");i+=t[0].length;const s=parseInt(t[1],10);let r=t[4];r&&(r=ue(r));let a=t[7];a&&(a=ue(a)),e=pe(t[10]),o.push(new me(s,r,a,D(e.s)));break}case"!":i++,o.push(new fe);break;case"~":case"@":case"":return void(this.steps=o);default:throw new Error("E_CFI_PARSE_ERROR")}}}navigate(e){const t={node:e.documentElement,offset:0,after:!1,sideBias:null,ref:null};for(let e=0;e<this.steps.length;e++)if(!this.steps[e].applyTo(t)){t.ref=new be,t.ref.steps=this.steps.slice(e+1);break}return t}trim(e,t){return e.replace(/\s+/g," ").match(t?/^[ -\uD7FF\uE000-\uFFFF]{0,8}/:/[ -\uD7FF\uE000-\uFFFF]{0,8}$/)[0].replace(/^\s/,"").replace(/\s$/,"")}prependPathFromNode(e,t,n,i){const o=[];let s=e.parentNode,r="",a="";for(;e;){switch(e.nodeType){case 3:case 4:case 5:{const i=e.textContent,o=i.length;n?(t+=o,r||(r=i)):(t>o&&(t=o),n=!0,r=i.substr(0,t),a=i.substr(t)),e=e.previousSibling;continue}case 8:e=e.previousSibling;continue}break}for((t>0||r||a)&&(r=this.trim(r,!1),a=this.trim(a,!0),o.push(new me(t,r,a,i)),i=null);s&&s&&9!=s.nodeType;){const t=n?null:ae(e);let r=n?1:0;for(;e;)1==e.nodeType&&(r+=2),e=e.previousSibling;o.push(new ge(r,t,i)),i=null,e=s,s=s.parentNode,n=!1}o.reverse(),this.steps?(o.push(new fe),this.steps=o.concat(this.steps)):this.steps=o}toString(){if(!this.steps)return"";const e=new G;e.append("epubcfi(");for(let t=0;t<this.steps.length;t++)this.steps[t].appendTo(e);return e.append(")"),e.toString()}}function we(e){return{fontFamily:e.fontFamily,lineHeight:e.lineHeight,margin:e.margin,hyphenate:e.hyphenate,columnWidth:e.columnWidth,horizontal:e.horizontal,nightMode:e.nightMode,spreadView:e.spreadView,pageBorder:e.pageBorder,enabledMediaTypes:Object.assign({},e.enabledMediaTypes),defaultPaperSize:e.defaultPaperSize?Object.assign({},e.defaultPaperSize):void 0}}const Ee={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},ye={};function Se(e,t,n,i){const o=Math.min((e-0)/n,(t-0)/i);return`matrix(${o},0,0,${o},0,0)`}function Ne(e){return`"${j(`${e}`)}"`}function ve(e){return X(`${e}`)}function Ce(e,t){return e?`${X(e)}.${X(t)}`:X(t)}let Te=0;class xe{constructor(e,t){if(this.parent=e,this.resolver=t,this.children=[],this.values={},this.funcs={},this.builtIns={},this.scopeKey=`S${Te++}`,this.zero=new at(this,0),this.one=new at(this,1),this._true=new at(this,!0),this._false=new at(this,!1),e&&e.children.push(this),!e){const e=this.builtIns;e.floor=Math.floor,e.ceil=Math.ceil,e.round=Math.round,e.sqrt=Math.sqrt,e.min=Math.min,e.max=Math.max,e.letterbox=Se,e["css-string"]=Ne,e["css-name"]=ve,e.typeof=e=>typeof e,this.defineBuiltInName("page-width",(function(){return this.pageWidth()})),this.defineBuiltInName("page-height",(function(){return this.pageHeight()})),this.defineBuiltInName("pref-font-family",(function(){return this.pref.fontFamily})),this.defineBuiltInName("pref-night-mode",(function(){return this.pref.nightMode})),this.defineBuiltInName("pref-hyphenate",(function(){return this.pref.hyphenate})),this.defineBuiltInName("pref-margin",(function(){return this.pref.margin})),this.defineBuiltInName("pref-line-height",(function(){return this.pref.lineHeight})),this.defineBuiltInName("pref-column-width",(function(){return this.pref.columnWidth*this.fontSize})),this.defineBuiltInName("pref-horizontal",(function(){return this.pref.horizontal})),this.defineBuiltInName("pref-spread-view",(function(){return this.pref.spreadView})),this.defineBuiltInName("pub-title",(function(){return Ne(this.pubTitle?this.pubTitle:"")})),this.defineBuiltInName("doc-title",(function(){return Ne(this.docTitle?this.docTitle:"")}))}}defineBuiltInName(e,t){this.values[e]=new ot(this,t,e)}defineName(e,t){this.values[e]=t}defineFunc(e,t){this.funcs[e]=t}defineBuiltIn(e,t){this.builtIns[e]=t}}function Ie(e){switch(e.toLowerCase()){case"vw":case"vh":case"vi":case"vb":case"vmin":case"vmax":case"pvw":case"pvh":case"pvi":case"pvb":case"pvmin":case"pvmax":return!0;default:return!1}}const Pe={px:1,in:96,pt:4/3,pc:16,cm:96/2.54,mm:96/25.4,q:96/2.54/40,em:16,rem:16,ex:8,dppx:1,dpi:1/96,dpcm:2.54/96};function Ae(e){switch(e){case"q":case"rem":return!0;default:return!1}}class Oe{constructor(e,t,n,i){this.rootScope=e,this.viewportWidth=t,this.viewportHeight=n,this.actualPageWidth=null,this.actualPageHeight=null,this.rootFontSize=null,this.scopes={},this.pageAreaWidth=null,this.pageAreaHeight=null,this.pageVertical=null,this.pubTitle=null,this.docTitle=null,this.pageWidth=function(){return this.actualPageWidth?this.actualPageWidth:this.pref.spreadView?Math.floor(t/2)-this.pref.pageBorder:t},this.pageHeight=function(){return this.actualPageHeight?this.actualPageHeight:n},this.initialFontSize=i,this.fontSize=function(){return this.rootFontSize?this.rootFontSize:i},this.pref=Ee}getScopeContext(e){let t=this.scopes[e.scopeKey];return t||(t={},this.scopes[e.scopeKey]=t),t}clearScope(e){this.scopes[e.scopeKey]={};for(let t=0;t<e.children.length;t++)this.clearScope(e.children[t])}queryUnitSize(e,t){if(Ie(e)){const t=this.pageWidth()/100,n=this.pageHeight()/100,i=null!=this.pageAreaWidth?this.pageAreaWidth/100:t,o=null!=this.pageAreaHeight?this.pageAreaHeight/100:n;switch(e){case"vw":return i;case"vh":return o;case"vi":return this.pageVertical?o:i;case"vb":return this.pageVertical?i:o;case"vmin":return i<o?i:o;case"vmax":return i>o?i:o;case"pvw":return t;case"pvh":return n;case"pvi":return this.pageVertical?n:t;case"pvb":return this.pageVertical?t:n;case"pvmin":return t<n?t:n;case"pvmax":return t>n?t:n}}return"em"==e||"rem"==e?t?this.initialFontSize:this.fontSize():"ex"==e?Pe.ex*(t?this.initialFontSize:this.fontSize())/Pe.em:Pe[e]}evalName(e,t){do{let n=e.values[t];if(n)return n;if(e.resolver&&(n=e.resolver.call(this,t,!1),n))return n;e=e.parent}while(e);throw new Error(`Name '${t}' is undefined`)}evalCall(e,t,n,i){do{let o=e.funcs[t];if(o)return o;if(e.resolver&&(o=e.resolver.call(this,t,!0),o))return o;const s=e.builtIns[t];if(s){if(i)return e.zero;const t=Array(n.length);for(let e=0;e<n.length;e++)t[e]=n[e].evaluate(this);return new at(e,s.apply(this,t))}e=e.parent}while(e);throw new Error(`Function '${t}' is undefined`)}evalMediaName(e,t){const n="all"===e||!!this.pref.enabledMediaTypes[e];return t?!n:n}evalMediaTest(e,t){let n="";const i=e.match(/^(min|max)-(.*)$/);i&&(n=i[1],e=i[2]);let o=null,s=null;switch(e){case"width":case"height":case"device-width":case"device-height":case"color":t&&(o=t.evaluate(this))}switch(e){case"width":s=this.pageWidth();break;case"height":s=this.pageHeight();break;case"device-width":s=window.screen.availWidth;break;case"device-height":s=window.screen.availHeight;break;case"color":s=window.screen.pixelDepth}if(null!=s&&null!=o)switch(n){case"min":return s>=o;case"max":return s<=o;default:return s==o}else if(null!=s&&null==t)return 0!==s;return!1}queryVal(e,t){const n=this.scopes[e.scopeKey];return n?n[t]:void 0}storeVal(e,t,n){this.getScopeContext(e)[t]=n}}class Re{constructor(e){this.scope=e,this.scope=e,this.key=`_${Te++}`}toString(){const e=new G;return this.appendTo(e,0),e.toString()}appendTo(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){throw new Error("F_ABSTRACT")}expand(e,t){return this}dependCore(e,t,n){return e===this}dependOuter(e,t,n){const i=n[this.key];if(null!=i)return i!==ye&&i;{n[this.key]=ye;const i=this.dependCore(e,t,n);return n[this.key]=i,i}}depend(e,t){return this.dependOuter(e,t,{})}evaluate(e){let t=e.queryVal(this.scope,this.key);return void 0!==t||(t=this.evaluateCore(e),e.storeVal(this.scope,this.key,t)),t}isMediaName(){return!1}}class ke extends Re{constructor(e,t){super(e),this.val=t}getOp(){throw new Error("F_ABSTRACT")}evalPrefix(e){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.val.evaluate(e);return this.evalPrefix(t)}dependCore(e,t,n){return e===this||this.val.dependOuter(e,t,n)}appendTo(e,t){10<t&&e.append("("),e.append(this.getOp()),this.val.appendTo(e,10),10<t&&e.append(")")}expand(e,t){const n=this.val.expand(e,t);return n===this.val?this:new this.constructor(this.scope,n)}}class Le extends Re{constructor(e,t,n){super(e),this.lhs=t,this.rhs=n}getPriority(){throw new Error("F_ABSTRACT")}getOp(){throw new Error("F_ABSTRACT")}evalInfix(e,t){throw new Error("F_ABSTRACT")}evaluateCore(e){const t=this.lhs.evaluate(e),n=this.rhs.evaluate(e);return this.evalInfix(t,n)}dependCore(e,t,n){return e===this||this.lhs.dependOuter(e,t,n)||this.rhs.dependOuter(e,t,n)}appendTo(e,t){const n=this.getPriority();n<=t&&e.append("("),this.lhs.appendTo(e,n),e.append(this.getOp()),this.rhs.appendTo(e,n),n<=t&&e.append(")")}expand(e,t){const n=this.lhs.expand(e,t),i=this.rhs.expand(e,t);return n===this.lhs&&i===this.rhs?this:new this.constructor(this.scope,n,i)}}class Fe extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 1}}class De extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 2}}class _e extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 3}}class Be extends Le{constructor(e,t,n){super(e,t,n)}getPriority(){return 4}}class Me extends ke{constructor(e,t){super(e,t)}getOp(){return"!"}evalPrefix(e){return!e}}class Ue extends ke{constructor(e,t){super(e,t)}getOp(){return"-"}evalPrefix(e){return-e}}class ze extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"&&"}evaluateCore(e){return this.lhs.evaluate(e)&&this.rhs.evaluate(e)}}class Ve extends ze{constructor(e,t,n){super(e,t,n)}getOp(){return" and "}}class He extends Fe{constructor(e,t,n){super(e,t,n)}getOp(){return"||"}evaluateCore(e){return this.lhs.evaluate(e)||this.rhs.evaluate(e)}}class $e extends He{constructor(e,t,n){super(e,t,n)}getOp(){return", "}}class Ge extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"<"}evalInfix(e,t){return e<t}}class We extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"<="}evalInfix(e,t){return e<=t}}class Xe extends De{constructor(e,t,n){super(e,t,n)}getOp(){return">"}evalInfix(e,t){return e>t}}class je extends De{constructor(e,t,n){super(e,t,n)}getOp(){return">="}evalInfix(e,t){return e>=t}}class Ke extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"=="}evalInfix(e,t){return e==t}}class Ye extends De{constructor(e,t,n){super(e,t,n)}getOp(){return"!="}evalInfix(e,t){return e!=t}}class qe extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return"+"}evalInfix(e,t){return e+t}}class Ze extends _e{constructor(e,t,n){super(e,t,n)}getOp(){return" - "}evalInfix(e,t){return e-t}}class Qe extends Be{constructor(e,t,n){super(e,t,n)}getOp(){return"*"}evalInfix(e,t){return e*t}}class Je extends Be{constructor(e,t,n){super(e,t,n)}getOp(){return"/"}evalInfix(e,t){return e/t}}class et extends Be{constructor(e,t,n){super(e,t,n)}getOp(){return"%"}evalInfix(e,t){return e%t}}class tt extends Re{constructor(e,t,n){super(e),this.num=t,this.unit=n.toLowerCase()}appendTo(e,t){e.append(this.num.toString()),e.append(X(this.unit))}evaluateCore(e){return this.num*e.queryUnitSize(this.unit,!1)}}class nt extends Re{constructor(e,t){super(e),this.qualifiedName=t}appendTo(e,t){e.append(this.qualifiedName)}evaluateCore(e){return e.evalName(this.scope,this.qualifiedName).evaluate(e)}dependCore(e,t,n){return e===this||t.evalName(this.scope,this.qualifiedName).dependOuter(e,t,n)}}class it extends Re{constructor(e,t,n){super(e),this.not=t,this.name=n}appendTo(e,t){this.not&&e.append("not "),e.append(X(this.name))}evaluateCore(e){return e.evalMediaName(this.name,this.not)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}isMediaName(){return!0}}class ot extends Re{constructor(e,t,n){super(e),this.fn=t,this.str=n}appendTo(e,t){e.append(this.str)}evaluateCore(e){return this.fn.call(e)}}class st extends Re{constructor(e,t,n){super(e),this.qualifiedName=t,this.params=n}appendTo(e,t){e.append(this.qualifiedName),function(e,t){e.append("(");for(let n=0;n<t.length;n++)n&&e.append(","),t[n].appendTo(e,0);e.append(")")}(e,this.params)}evaluateCore(e){return e.evalCall(this.scope,this.qualifiedName,this.params,!1).expand(e,this.params).evaluate(e)}dependCore(e,t,n){if(e===this)return!0;for(let i=0;i<this.params.length;i++)if(this.params[i].dependOuter(e,t,n))return!0;return t.evalCall(this.scope,this.qualifiedName,this.params,!0).dependOuter(e,t,n)}expand(e,t){const n=function(e,t,n){let i=t;for(let o=0;o<t.length;o++){const s=t[o].expand(e,n);if(t!==i)i[o]=s;else if(s!==t[o]){i=Array(t.length);for(let e=0;e<o;e++)i[e]=t[e];i[o]=s}}return i}(e,this.params,t);return n===this.params?this:new st(this.scope,this.qualifiedName,n)}}class rt extends Re{constructor(e,t,n,i){super(e),this.cond=t,this.ifTrue=n,this.ifFalse=i}appendTo(e,t){t>0&&e.append("("),this.cond.appendTo(e,0),e.append("?"),this.ifTrue.appendTo(e,0),e.append(":"),this.ifFalse.appendTo(e,0),t>0&&e.append(")")}evaluateCore(e){return this.cond.evaluate(e)?this.ifTrue.evaluate(e):this.ifFalse.evaluate(e)}dependCore(e,t,n){return e===this||this.cond.dependOuter(e,t,n)||this.ifTrue.dependOuter(e,t,n)||this.ifFalse.dependOuter(e,t,n)}expand(e,t){const n=this.cond.expand(e,t),i=this.ifTrue.expand(e,t),o=this.ifFalse.expand(e,t);return n===this.cond&&i===this.ifTrue&&o===this.ifFalse?this:new rt(this.scope,n,i,o)}}class at extends Re{constructor(e,t){super(e),this.val=t}appendTo(e,t){switch(typeof this.val){case"number":case"boolean":e.append(this.val.toString());break;case"string":e.append('"'),e.append(j(this.val)),e.append('"');break;default:throw new Error("F_UNEXPECTED_STATE")}}evaluateCore(e){return this.val}}class lt extends Re{constructor(e,t,n){super(e),this.name=t,this.value=n}appendTo(e,t){e.append("("),e.append(j(this.name.name)),e.append(":"),this.value.appendTo(e,0),e.append(")")}evaluateCore(e){return e.evalMediaTest(this.name.name,this.value)}dependCore(e,t,n){return e===this||this.value.dependOuter(e,t,n)}expand(e,t){const n=this.value.expand(e,t);return n===this.value?this:new lt(this.scope,this.name,n)}}class ht extends Re{constructor(e,t){super(e),this.index=t}appendTo(e,t){e.append("$"),e.append(this.index.toString())}expand(e,t){const n=t[this.index];if(!n)throw new Error(`Parameter missing: ${this.index}`);return n}}function ct(e,t,n){return t===e._false||t===e.zero||n==e._false||n==e.zero?e._false:t===e._true||t===e.one?n:n===e._true||n===e.one?t:new ze(e,t,n)}function ut(e,t,n){return t===e.zero?n:n===e.zero?t:new qe(e,t,n)}function dt(e,t,n){return t===e.zero?new Ue(e,n):n===e.zero?t:new Ze(e,t,n)}function pt(e,t,n){return t===e.zero||n===e.zero?e.zero:t===e.one?n:n===e.one?t:new Qe(e,t,n)}function ft(e,t,n){return t===e.zero?e.zero:n===e.one?t:new Je(e,t,n)}class gt{visitValues(e){for(let t=0;t<e.length;t++)e[t].visit(this)}visitEmpty(e){throw new Error("E_CSS_EMPTY_NOT_ALLOWED")}visitSlash(e){throw new Error("E_CSS_SLASH_NOT_ALLOWED")}visitStr(e){throw new Error("E_CSS_STR_NOT_ALLOWED")}visitIdent(e){throw new Error("E_CSS_IDENT_NOT_ALLOWED")}visitNumeric(e){throw new Error("E_CSS_NUMERIC_NOT_ALLOWED")}visitNum(e){throw new Error("E_CSS_NUM_NOT_ALLOWED")}visitInt(e){return this.visitNum(e)}visitColor(e){throw new Error("E_CSS_COLOR_NOT_ALLOWED")}visitURL(e){throw new Error("E_CSS_URL_NOT_ALLOWED")}visitSpaceList(e){throw new Error("E_CSS_LIST_NOT_ALLOWED")}visitCommaList(e){throw new Error("E_CSS_COMMA_NOT_ALLOWED")}visitFunc(e){throw new Error("E_CSS_FUNC_NOT_ALLOWED")}visitExpr(e){throw new Error("E_CSS_EXPR_NOT_ALLOWED")}}class mt extends gt{constructor(){super()}visitValues(e){let t=null;for(let n=0;n<e.length;n++){const i=e[n],o=i.visit(this);if(t)t[n]=o;else if(i!==o){t=new Array(e.length);for(let i=0;i<n;i++)t[i]=e[i];t[n]=o}}return t||e}visitStr(e){return e}visitIdent(e){return e}visitSlash(e){return e}visitNumeric(e){return e}visitNum(e){return e}visitInt(e){return e}visitColor(e){return e}visitURL(e){return e}visitSpaceList(e){const t=this.visitValues(e.values);return t===e.values?e:new kt(t)}visitCommaList(e){const t=this.visitValues(e.values);return t===e.values?e:new Lt(t)}visitFunc(e){const t=this.visitValues(e.values);return t===e.values?e:new Ft(e.name,t)}visitExpr(e){return e}}class bt{toString(){const e=new G;return this.appendTo(e,!0),e.toString()}stringValue(){const e=new G;return this.appendTo(e,!1),e.toString()}toExpr(e,t){throw new Error("F_ABSTRACT")}appendTo(e,t){e.append("[error]")}isExpr(){return!1}isNumeric(){return!1}isNum(){return!1}isIdent(){return!1}isSpaceList(){return!1}visit(e){throw new Error("F_ABSTRACT")}}class wt extends bt{constructor(){super()}static get instance(){return this.empty||(this.empty=new wt),this.empty}toExpr(e,t){return new at(e,"")}appendTo(e,t){}visit(e){return e.visitEmpty(this)}}const Et=wt.instance;class yt extends bt{constructor(){super()}static get instance(){return this.slash||(this.slash=new yt),this.slash}toExpr(e,t){return new at(e,"/")}appendTo(e,t){e.append("/")}visit(e){return e.visitSlash(this)}}const St=yt.instance;class Nt extends bt{constructor(e){super(),this.str=e}toExpr(e,t){return new at(e,this.str)}appendTo(e,t){t?(e.append('"'),e.append(j(this.str)),e.append('"')):e.append(this.str)}visit(e){return e.visitStr(this)}}const vt={};class Ct extends bt{constructor(e){if(super(),this.name=e,vt[e])throw new Error("E_INVALID_CALL");vt[e]=this}toExpr(e,t){return new at(e,this.name)}appendTo(e,t){t?e.append(X(this.name)):e.append(this.name)}visit(e){return e.visitIdent(this)}isIdent(){return!0}}function Tt(e){let t=vt[e];return t||(t=new Ct(e)),t}class xt extends bt{constructor(e,t){super(),this.num=e,this.unit=t.toLowerCase()}toExpr(e,t){return 0==this.num?e.zero:t&&"%"==this.unit?100==this.num?t:new Qe(e,t,new at(e,this.num/100)):new tt(e,this.num,this.unit)}appendTo(e,t){e.append(this.num.toString()),e.append(this.unit)}visit(e){return e.visitNumeric(this)}isNumeric(){return!0}}class It extends bt{constructor(e){super(),this.num=e}toExpr(e,t){return 0==this.num?e.zero:1==this.num?e.one:new at(e,this.num)}appendTo(e,t){e.append(this.num.toString())}visit(e){return e.visitNum(this)}isNum(){return!0}}class Pt extends It{constructor(e){super(e)}visit(e){return e.visitInt(this)}}class At extends bt{constructor(e){super(),this.rgb=e}appendTo(e,t){e.append("#");const n=this.rgb.toString(16);e.append("000000".substr(n.length)),e.append(n)}visit(e){return e.visitColor(this)}}class Ot extends bt{constructor(e){super(),this.url=e}appendTo(e,t){e.append('url("'),e.append(j(this.url)),e.append('")')}visit(e){return e.visitURL(this)}}function Rt(e,t,n,i){const o=t.length;t[0].appendTo(e,i);for(let s=1;s<o;s++)e.append(n),t[s].appendTo(e,i)}class kt extends bt{constructor(e){super(),this.values=e}appendTo(e,t){Rt(e,this.values," ",t)}visit(e){return e.visitSpaceList(this)}isSpaceList(){return!0}}class Lt extends bt{constructor(e){super(),this.values=e}appendTo(e,t){Rt(e,this.values,",",t)}visit(e){return e.visitCommaList(this)}}class Ft extends bt{constructor(e,t){super(),this.name=e,this.values=t}appendTo(e,t){e.append(X(this.name)),e.append("("),Rt(e,this.values,",",t),e.append(")")}visit(e){return e.visitFunc(this)}}class Dt extends bt{constructor(e){super(),this.expr=e}toExpr(){return this.expr}appendTo(e,t){e.append("-epubx-expr("),this.expr.appendTo(e,0),e.append(")")}visit(e){return e.visitExpr(this)}isExpr(){return!0}}function _t(e,t){if(e){if(e.isNumeric()){const n=e;return t.queryUnitSize(n.unit,!1)*n.num}if(e.isNum())return e.num}return 0}function Bt(e,t){return new xt(_t(e,t),"px")}const Mt={absolute:Tt("absolute"),all:Tt("all"),always:Tt("always"),auto:Tt("auto"),avoid:Tt("avoid"),balance:Tt("balance"),balance_all:Tt("balance-all"),block:Tt("block"),block_end:Tt("block-end"),block_start:Tt("block-start"),both:Tt("both"),bottom:Tt("bottom"),border_box:Tt("border-box"),break_all:Tt("break-all"),break_word:Tt("break-word"),crop:Tt("crop"),cross:Tt("cross"),column:Tt("column"),exclusive:Tt("exclusive"),_false:Tt("false"),fixed:Tt("fixed"),flex:Tt("flex"),footnote:Tt("footnote"),footer:Tt("footer"),header:Tt("header"),hidden:Tt("hidden"),horizontal_tb:Tt("horizontal-tb"),inherit:Tt("inherit"),inline:Tt("inline"),inline_block:Tt("inline-block"),inline_end:Tt("inline-end"),inline_start:Tt("inline-start"),landscape:Tt("landscape"),left:Tt("left"),line:Tt("line"),list_item:Tt("list-item"),ltr:Tt("ltr"),manual:Tt("manual"),none:Tt("none"),normal:Tt("normal"),oeb_page_foot:Tt("oeb-page-foot"),oeb_page_head:Tt("oeb-page-head"),page:Tt("page"),relative:Tt("relative"),right:Tt("right"),same:Tt("same"),scale:Tt("scale"),snap_block:Tt("snap-block"),spread:Tt("spread"),_static:Tt("static"),rtl:Tt("rtl"),table:Tt("table"),table_caption:Tt("table-caption"),table_cell:Tt("table-cell"),table_footer_group:Tt("table-footer-group"),table_header_group:Tt("table-header-group"),table_row:Tt("table-row"),top:Tt("top"),transparent:Tt("transparent"),vertical_lr:Tt("vertical-lr"),vertical_rl:Tt("vertical-rl"),visible:Tt("visible"),_true:Tt("true")},Ut=new xt(100,"%"),zt=new xt(100,"pvw"),Vt=new xt(100,"pvh"),Ht=new xt(0,"px"),$t={"font-size":1,color:2};function Gt(e,t){return($t[e]||Number.MAX_VALUE)-($t[t]||Number.MAX_VALUE)}class Wt{constructor(e,t,n,i){this.x1=e,this.y1=t,this.x2=n,this.y2=i}}class Xt{constructor(e,t){this.x=e,this.y=t}}class jt{constructor(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i}}class Kt{constructor(e,t,n,i){this.low=e,this.high=t,this.winding=n,this.shapeId=i}}class Yt{constructor(e,t,n,i){this.y1=e,this.y2=t,this.x1=n,this.x2=i,this.left=null,this.right=null}}function qt(e,t){return e.low.y-t.low.y||e.low.x-t.low.x}class Zt{constructor(e){this.points=e}addSegments(e,t){const n=this.points,i=n.length;let o=n[i-1];for(let s=0;s<i;s++){const i=n[s];let r;r=o.y<i.y?new Kt(o,i,1,t):new Kt(i,o,-1,t),e.push(r),o=i}}withOffset(e,t){const n=[];for(const i of this.points)n.push(new Xt(i.x+e,i.y+t));return new Zt(n)}}function Qt(e,t,n,i){const o=[];for(let s=0;s<20;s++){const r=2*s*Math.PI/20;o.push(new Xt(e+n*Math.sin(r),t+i*Math.cos(r)))}return new Zt(o)}function Jt(e,t,n,i){return new Zt([new Xt(e,t),new Xt(n,t),new Xt(n,i),new Xt(e,i)])}class en{constructor(e,t,n,i){this.x=e,this.winding=t,this.shapeId=n,this.lowOrHigh=i}}function tn(e,t){const n=e.low.x+(e.high.x-e.low.x)*(t-e.low.y)/(e.high.y-e.low.y);if(isNaN(n))throw new Error("Bad intersection");return n}function nn(e,t,n,i){let o,s,r,a;t.high.y<n&&c.warn("Error: inconsistent segment (1)"),t.low.y<=n?(o=tn(t,n),s=t.winding):(o=t.low.x,s=0),t.high.y>=i?(r=tn(t,i),a=t.winding):(r=t.high.x,a=0),o<r?(e.push(new en(o,s,t.shapeId,-1)),e.push(new en(r,a,t.shapeId,1))):(e.push(new en(r,a,t.shapeId,-1)),e.push(new en(o,s,t.shapeId,1)))}function on(e,t,n){const i=t+n,o=Array(i),s=Array(i);let r;for(r=0;r<=i;r++)o[r]=0,s[r]=0;const a=[];let l=!1;const h=e.length;for(let n=0;n<h;n++){const h=e[n];o[h.shapeId]+=h.winding,s[h.shapeId]+=h.lowOrHigh;let c=!1;for(r=0;r<t;r++)if(o[r]&&!s[r]){c=!0;break}if(c)for(r=t;r<=i;r++)if(o[r]||s[r]){c=!1;break}l!=c&&(a.push(h.x),l=c)}return a}function sn(e,t){return t?Math.floor(e/t)*t:e}function rn(e){return new Wt(e.y1,-e.x2,e.y2,-e.x1)}function an(e){return new Wt(-e.y2,e.x1,-e.y1,e.x2)}function ln(e){return new Zt(e.points.map(e=>function(e){return new Xt(e.y,-e.x)}(e)))}function hn(e,t){let n=t.length-1,i=new Yt(e.y2,e.y2,e.x1,e.x2);for(;n>=0;){const e=i;i=t[n],(i.y2-i.y1<1||i.x1==e.x1&&i.x2==e.x2)&&(e.y1=i.y1,t.splice(n,1),i=e),n--}}function cn(e,t){let n=0,i=e.length;for(;n<i;){const o=Math.floor((n+i)/2);t>=e[o].y2?n=o+1:i=o}return n}function un(e,t){if(!e.length)return t;let n,i,o=t.y1;for(i=0;i<e.length&&(n=e[i],!(n.y2>t.y1&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2));i++)o=Math.max(o,n.y2);let s=o;for(;i<e.length&&(n=e[i],!(n.y1>=t.y2||n.x1-.1>t.x1||n.x2+.1<t.x2));i++)s=n.y2;return s=i===e.length?t.y2:Math.min(s,t.y2),s<=o?null:new Wt(t.x1,o,t.x2,s)}function dn(e,t){if(!e.length)return t;let n,i,o=t.y2;for(i=e.length-1;i>=0&&(n=e[i],!(i===e.length-1&&n.y2<t.y2))&&!(n.y1<t.y2&&n.x1-.1<=t.x1&&n.x2+.1>=t.x2);i--)o=Math.min(o,n.y1);let s=Math.min(o,n.y2);for(;i>=0&&(n=e[i],!(n.y2<=t.y1||n.x1-.1>t.x1||n.x2+.1<t.x2));i--)s=n.y1;return s=Math.max(s,t.y1),o<=s?null:new Wt(t.x1,s,t.x2,o)}class pn extends gt{constructor(){super(),this.propSet={}}visitIdent(e){return this.propSet[e.name]=!0,e}visitSpaceList(e){return this.visitValues(e.values),e}}class fn extends gt{constructor(e){super(),this.value=e}visitInt(e){return this.value=e.num,e}}function gn(e,t){if(e){const n=new fn(t);try{return e.visit(n),n.value}catch(e){c.warn(e,"toInt: ")}}return t}class mn extends gt{constructor(){super(),this.collect=!1,this.coords=[],this.name=null}visitNumeric(e){return this.collect&&this.coords.push(e),null}visitNum(e){return this.collect&&0==e.num&&this.coords.push(new xt(0,"px")),null}visitSpaceList(e){return this.visitValues(e.values),null}visitFunc(e){return this.collect||(this.collect=!0,this.visitValues(e.values),this.collect=!1,this.name=e.name.toLowerCase()),null}getShape(e,t,n,i,o){if(this.coords.length>0){const s=[];switch(this.coords.forEach((e,t)=>{if("%"==e.unit){let o=t%2==0?n:i;3==t&&"circle"==this.name&&(o=Math.sqrt((n*n+i*i)/2)),s.push(e.num*o/100)}else s.push(e.num*o.queryUnitSize(e.unit,!1))}),this.name){case"polygon":if(s.length%2==0){const n=[];for(let i=0;i<s.length;i+=2)n.push(new Xt(e+s[i],t+s[i+1]));return new Zt(n)}break;case"rectangle":if(4==s.length)return Jt(e+s[0],t+s[1],e+s[0]+s[2],t+s[1]+s[3]);break;case"ellipse":if(4==s.length)return Qt(e+s[0],t+s[1],s[2],s[3]);break;case"circle":if(3==s.length)return Qt(e+s[0],t+s[1],s[2],s[2])}}return null}}function bn(e,t,n,i,o,s){if(e){const r=new mn;try{return e.visit(r),r.getShape(t,n,i,o,s)}catch(e){c.warn(e,"toShape:")}}return Jt(t,n,t+i,n+o)}class wn extends gt{constructor(e){super(),this.reset=e,this.counters={},this.name=null}visitIdent(e){return this.name=e.toString(),this.reset?this.counters[this.name]=0:this.counters[this.name]=(this.counters[this.name]||0)+1,e}visitInt(e){return this.name&&(this.counters[this.name]+=e.num-(this.reset?0:1)),e}visitSpaceList(e){return this.visitValues(e.values),e}}function En(e,t){const n=new wn(t);try{e.visit(n)}catch(e){c.warn(e,"toCounters:")}return n.counters}class yn extends mt{constructor(e,t){super(),this.baseUrl=e,this.transformer=t}visitURL(e){return new Ot(this.transformer.transformURL(e.url,this.baseUrl))}}function Sn(e){const t={};return Object.keys(e).forEach(n=>{t[n]=Array.from(e[n])}),t}class Nn{constructor(e,t){this.targetId=e,this.resolved=t,this.pageCounters=null,this.spineIndex=-1,this.pageIndex=-1}equals(e){return this===e||!!e&&this.targetId===e.targetId&&this.resolved===e.resolved&&this.spineIndex===e.spineIndex&&this.pageIndex===e.pageIndex}isResolved(){return this.resolved}resolve(){this.resolved=!0}unresolve(){this.resolved=!1}}class vn{constructor(e,t){this.counterStore=e,this.baseURL=t}countersOfId(e,t){e=this.counterStore.documentURLTransformer.transformFragment(e,this.baseURL),this.counterStore.countersById[e]=t}getExprContentListener(){return this.counterStore.getExprContentListener()}}class Cn{constructor(e,t,n,i){this.counterStore=e,this.baseURL=t,this.rootScope=n,this.pageScope=i,this.styler=null}setStyler(e){this.styler=e}getFragment(e){const t=e.match(/^[^#]*#(.*)$/);return t?t[1]:null}getTransformedId(e){let t=this.counterStore.documentURLTransformer.transformURL(k(e,this.baseURL),this.baseURL);return"#"===t.charAt(0)&&(t=t.substring(1)),t}getPageCounterVal(e,t){const n=this,i=new ot(this.pageScope,()=>t(function(){const t=n.counterStore.currentPageCounters[e];return t&&t.length?t[t.length-1]:null}()),`page-counter-${e}`);return this.counterStore.registerPageCounterExpr(e,(function(e){return t(e[0])}),i),i}getPageCountersVal(e,t){const n=this,i=new ot(this.pageScope,()=>t(n.counterStore.currentPageCounters[e]||[]),`page-counters-${e}`);return this.counterStore.registerPageCounterExpr(e,t,i),i}getTargetCounters(e,t,n){let i=this.counterStore.countersById[t];return!i&&n&&e&&(this.styler.styleUntilIdIsReached(e),i=this.counterStore.countersById[t]),i||null}getTargetPageCounters(e){return this.counterStore.currentPage.elementsById[e]?this.counterStore.currentPageCounters:this.counterStore.pageCountersById[e]||null}getTargetCounterVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e);let s=this.getTargetCounters(i,o,!1);if(s&&s[t]){const e=s[t];return new at(this.rootScope,n(e[e.length-1]||null))}const r=this;return new ot(this.pageScope,()=>{if(s=r.getTargetCounters(i,o,!0),s){if(s[t]){const e=s[t];return n(e[e.length-1]||null)}{const e=r.getTargetPageCounters(o);if(e){if(r.counterStore.resolveReference(o),e[t]){const i=e[t];return n(i[i.length-1]||null)}return n(0)}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"}}return r.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counter-${t}-of-${e}`)}getTargetCountersVal(e,t,n){const i=this.getFragment(e),o=this.getTransformedId(e),s=this;return new ot(this.pageScope,()=>{const e=s.getTargetPageCounters(o);if(e){s.counterStore.resolveReference(o);const r=e[t]||[],a=s.getTargetCounters(i,o,!0)[t]||[];return n(r.concat(a))}return s.counterStore.saveReferenceOfCurrentPage(o,!1),"??"},`target-counters-${t}-of-${e}`)}}class Tn{constructor(e){this.documentURLTransformer=e,this.countersById={},this.pageCountersById={},this.currentPageCounters={},this.previousPageCounters={},this.currentPageCountersStack=[],this.pageIndicesById={},this.currentPage=null,this.newReferencesOfCurrentPage=[],this.referencesToSolve=[],this.referencesToSolveStack=[],this.unresolvedReferences={},this.resolvedReferences={},this.pagesCounterExprs=[],this.currentPageCounters.page=[0]}createCounterListener(e){return new vn(this,e)}createCounterResolver(e,t,n){return new Cn(this,e,t,n)}setCurrentPage(e){this.currentPage=e}definePageCounter(e,t){this.currentPageCounters[e]?this.currentPageCounters[e].push(t):this.currentPageCounters[e]=[t]}forceSetPageCounter(e){const t=this.currentPageCounters.page;t&&t.length?t[t.length-1]=e:this.currentPageCounters.page=[e]}updatePageCounters(e,t){let n;this.previousPageCounters=Sn(this.currentPageCounters);const i=e["counter-reset"];if(i){const e=i.evaluate(t);e&&(n=En(e,!0))}if(n)for(const e in n)this.definePageCounter(e,n[e]);let o;const s=e["counter-increment"];if(s){const e=s.evaluate(t);e&&(o=En(e,!1))}o?"page"in o||(o.page=1):(o={},o.page=1);for(const e in o){this.currentPageCounters[e]||this.definePageCounter(e,0);const t=this.currentPageCounters[e];t[t.length-1]+=o[e]}}pushPageCounters(e){this.currentPageCountersStack.push(this.currentPageCounters),this.currentPageCounters=Sn(e)}popPageCounters(){this.currentPageCounters=this.currentPageCountersStack.pop()}resolveReference(e){const t=this.unresolvedReferences[e];let n=this.resolvedReferences[e];n||(n=this.resolvedReferences[e]=[]);let i=!1;for(let o=0;o<this.referencesToSolve.length;){const s=this.referencesToSolve[o];if(s.targetId===e){if(s.resolve(),this.referencesToSolve.splice(o,1),t){const e=t.indexOf(s);e>=0&&t.splice(e,1)}n.push(s),i=!0}else o++}i||this.saveReferenceOfCurrentPage(e,!0)}saveReferenceOfCurrentPage(e,t){if(!this.newReferencesOfCurrentPage.some(t=>t.targetId===e)){const n=new Nn(e,t);this.newReferencesOfCurrentPage.push(n)}}finishPage(e,t){const n=Object.keys(this.currentPage.elementsById);if(n.length>0){const i=Sn(this.currentPageCounters);n.forEach(n=>{this.pageCountersById[n]=i;const o=this.pageIndicesById[n];if(o&&o.pageIndex<t){const e=this.resolvedReferences[n];if(e){let t,i=this.unresolvedReferences[n];for(i||(i=this.unresolvedReferences[n]=[]);t=e.shift();)t.unresolve(),i.push(t)}}this.pageIndicesById[n]={spineIndex:e,pageIndex:t}})}const i=this.previousPageCounters;let o;for(;o=this.newReferencesOfCurrentPage.shift();){let n;o.pageCounters=i,o.spineIndex=e,o.pageIndex=t,o.isResolved()?(n=this.resolvedReferences[o.targetId],n||(n=this.resolvedReferences[o.targetId]=[])):(n=this.unresolvedReferences[o.targetId],n||(n=this.unresolvedReferences[o.targetId]=[])),n.every(e=>!o.equals(e))&&n.push(o)}this.currentPage=null}getUnresolvedRefsToPage(e){let t=[];Object.keys(e.elementsById).forEach(e=>{const n=this.unresolvedReferences[e];n&&(t=t.concat(n))}),t.sort((e,t)=>e.spineIndex-t.spineIndex||e.pageIndex-t.pageIndex);const n=[];let i=null;return t.forEach(e=>{i&&i.spineIndex===e.spineIndex&&i.pageIndex===e.pageIndex?i.refs.push(e):(i={spineIndex:e.spineIndex,pageIndex:e.pageIndex,pageCounters:e.pageCounters,refs:[e]},n.push(i))}),n}pushReferencesToSolve(e){this.referencesToSolveStack.push(this.referencesToSolve),this.referencesToSolve=e}popReferencesToSolve(){this.referencesToSolve=this.referencesToSolveStack.pop()}registerPageCounterExpr(e,t,n){"pages"===e&&this.pagesCounterExprs.push({expr:n,format:t})}getExprContentListener(){return this.exprContentListener.bind(this)}exprContentListener(e,t,n){if(this.pagesCounterExprs.findIndex(t=>t.expr===e)>=0){const i=n.createElement("span");return i.textContent=t,i.setAttribute(xn,e.key),i}return null}finishLastPage(e){const t=e.root.querySelectorAll(`[${xn}]`),n=this.currentPageCounters.page[0];Array.from(t).forEach(e=>{const t=e.getAttribute(xn),i=this.pagesCounterExprs.findIndex(e=>e.expr.key===t);e.textContent=this.pagesCounterExprs[i].format([n])})}createLayoutConstraint(e){return new In(this,e)}}const xn="data-vivliostyle-pages-counter";class In{constructor(e,t){this.counterStore=e,this.pageIndex=t}allowLayout(e){if(!e||e.after)return!0;const t=e.viewNode;if(!t||1!==t.nodeType)return!0;const n=t.getAttribute("id")||t.getAttribute("name");if(!n)return!0;if(!this.counterStore.resolvedReferences[n]&&!this.counterStore.unresolvedReferences[n])return!0;const i=this.counterStore.pageIndicesById[n];return!i||this.pageIndex>=i.pageIndex}}function Pn(e){if((e=e.substr(1)).match(/^[^0-9a-fA-F\n\r]$/))return e;const t=parseInt(e,16);return isNaN(t)?"":t<=65535?String.fromCharCode(t):t<=1114111?String.fromCharCode(55296|t>>10&1023,56320|1023&t):"�"}function An(e){return e.replace(/\\([0-9a-fA-F]{0,6}(\r\n|[ \n\r\t\f])?|[^0-9a-fA-F\n\r])/g,Pn)}var On,Rn;!function(e){e[e.EOF=0]="EOF",e[e.IDENT=1]="IDENT",e[e.STR=2]="STR",e[e.NUMERIC=3]="NUMERIC",e[e.NUM=4]="NUM",e[e.INT=5]="INT",e[e.FUNC=6]="FUNC",e[e.HASH=7]="HASH",e[e.URL=8]="URL",e[e.CLASS=9]="CLASS",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.O_BRC=12]="O_BRC",e[e.C_BRC=13]="C_BRC",e[e.O_BRK=14]="O_BRK",e[e.C_BRK=15]="C_BRK",e[e.COMMA=16]="COMMA",e[e.SEMICOL=17]="SEMICOL",e[e.COLON=18]="COLON",e[e.SLASH=19]="SLASH",e[e.AT=20]="AT",e[e.PERCENT=21]="PERCENT",e[e.QMARK=22]="QMARK",e[e.PLUS=23]="PLUS",e[e.MINUS=24]="MINUS",e[e.BAR_BAR=25]="BAR_BAR",e[e.AMP_AMP=26]="AMP_AMP",e[e.BANG=31]="BANG",e[e.DOLLAR=32]="DOLLAR",e[e.HAT=33]="HAT",e[e.BAR=34]="BAR",e[e.TILDE=35]="TILDE",e[e.STAR=36]="STAR",e[e.GT=37]="GT",e[e.LT=38]="LT",e[e.EQ=39]="EQ",e[e.BANG_EQ=41]="BANG_EQ",e[e.DOLLAR_EQ=42]="DOLLAR_EQ",e[e.HAT_EQ=43]="HAT_EQ",e[e.BAR_EQ=44]="BAR_EQ",e[e.TILDE_EQ=45]="TILDE_EQ",e[e.STAR_EQ=46]="STAR_EQ",e[e.GT_EQ=47]="GT_EQ",e[e.LT_EQ=48]="LT_EQ",e[e.EQ_EQ=49]="EQ_EQ",e[e.COL_COL=50]="COL_COL",e[e.INVALID=51]="INVALID",e[e.LAST=51]="LAST"}(On||(On={}));class kn{constructor(){this.precededBySpace=!1,this.num=0,this.text="",this.position=0,this.type=On.EOF}}function Ln(e,t){const n=Array(128);let i;for(i=0;i<128;i++)n[i]=e;for(n.NaN=e==Rn.END?Rn.END:Rn.INVALID,i=0;i<t.length;i+=2)n[t[i]]=t[i+1];return n}!function(e){e[e.SPACE=1]="SPACE",e[e.INT=2]="INT",e[e.IDENT=3]="IDENT",e[e.BANG=4]="BANG",e[e.HASH=6]="HASH",e[e.DOLLAR=7]="DOLLAR",e[e.PERCENT=8]="PERCENT",e[e.AMP=9]="AMP",e[e.O_PAR=10]="O_PAR",e[e.C_PAR=11]="C_PAR",e[e.STAR=12]="STAR",e[e.PLUS=13]="PLUS",e[e.COMMA=14]="COMMA",e[e.MINUS=15]="MINUS",e[e.DOT=16]="DOT",e[e.SLASH=17]="SLASH",e[e.COLON=18]="COLON",e[e.SEMICOL=19]="SEMICOL",e[e.LT=20]="LT",e[e.EQ=21]="EQ",e[e.GT=22]="GT",e[e.QMARK=23]="QMARK",e[e.AT=24]="AT",e[e.O_BRK=25]="O_BRK",e[e.C_BRK=26]="C_BRK",e[e.O_BRC=27]="O_BRC",e[e.C_BRC=28]="C_BRC",e[e.BSLASH=29]="BSLASH",e[e.HAT=30]="HAT",e[e.BAR=31]="BAR",e[e.TILDE=32]="TILDE",e[e.STR1=33]="STR1",e[e.STR2=34]="STR2",e[e.END=35]="END",e[e.EQTAIL=36]="EQTAIL",e[e.ENDINT=37]="ENDINT",e[e.ENDNUM=38]="ENDNUM",e[e.CONT=39]="CONT",e[e.UNIT=40]="UNIT",e[e.PCUNIT=41]="PCUNIT",e[e.NUMBER=42]="NUMBER",e[e.ENDIDNT=43]="ENDIDNT",e[e.IDNTESC=44]="IDNTESC",e[e.ENDIDES=45]="ENDIDES",e[e.ENDSTR=46]="ENDSTR",e[e.ENDESTR=47]="ENDESTR",e[e.STR1ESC=48]="STR1ESC",e[e.STR2ESC=49]="STR2ESC",e[e.BAR_BAR=50]="BAR_BAR",e[e.AMP_AMP=51]="AMP_AMP",e[e.FUNC=52]="FUNC",e[e.FUNCES=53]="FUNCES",e[e.COMMENT=54]="COMMENT",e[e.COMMST=55]="COMMST",e[e.ENDNOTK=56]="ENDNOTK",e[e.MINMIN=57]="MINMIN",e[e.TOINT=58]="TOINT",e[e.TONUM=59]="TONUM",e[e.TOIDENT=60]="TOIDENT",e[e.TOIDES=61]="TOIDES",e[e.KILL1=62]="KILL1",e[e.KILL2=63]="KILL2",e[e.URL=64]="URL",e[e.URL1=65]="URL1",e[e.URL2=66]="URL2",e[e.ENDURL=67]="ENDURL",e[e.TERMURL=68]="TERMURL",e[e.FINURL=69]="FINURL",e[e.LT_BG=70]="LT_BG",e[e.LT_BG_M=71]="LT_BG_M",e[e.INVALID=72]="INVALID",e[e.CHKPOSS=73]="CHKPOSS",e[e.CHKPOSN=74]="CHKPOSN",e[e.URLESC=75]="URLESC",e[e.IDESCH=76]="IDESCH",e[e.COL_COL=77]="COL_COL",e[e.TOCLASS=78]="TOCLASS",e[e.CHKSP=79]="CHKSP",e[e.EOF=80]="EOF"}(Rn||(Rn={}));const Fn=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.SPACE,Rn.SPACE,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.SPACE,Rn.BANG,Rn.STR2,Rn.HASH,Rn.DOLLAR,Rn.PERCENT,Rn.AMP,Rn.STR1,Rn.O_PAR,Rn.C_PAR,Rn.STAR,Rn.PLUS,Rn.COMMA,Rn.MINUS,Rn.DOT,Rn.SLASH,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.INT,Rn.COLON,Rn.SEMICOL,Rn.LT,Rn.EQ,Rn.GT,Rn.QMARK,Rn.AT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRK,Rn.BSLASH,Rn.C_BRK,Rn.HAT,Rn.IDENT,Rn.INVALID,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.IDENT,Rn.O_BRC,Rn.BAR,Rn.C_BRC,Rn.TILDE,Rn.INVALID];Fn.NaN=Rn.EOF;const Dn=[Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.FUNC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.IDNTESC,Rn.ENDIDNT,Rn.ENDIDNT,Rn.CONT,Rn.ENDIDNT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT,Rn.ENDIDNT];Dn.NaN=Rn.ENDIDNT;const _n=[Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TONUM,Rn.INVALID,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.TONUM,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.TOIDES,Rn.INVALID,Rn.INVALID,Rn.TOCLASS,Rn.INVALID,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.TOCLASS,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID,Rn.INVALID];Dn.NaN=Rn.ENDIDNT;const Bn=[Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.MINMIN,Rn.TONUM,Rn.END,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.TOINT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.TOIDES,Rn.END,Rn.END,Rn.TOIDENT,Rn.END,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.TOIDENT,Rn.END,Rn.END,Rn.END,Rn.END,Rn.END];Bn.NaN=Rn.END;const Mn=[Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CHKPOSS,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.FUNCES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.IDNTESC,Rn.ENDIDES,Rn.ENDIDES,Rn.CONT,Rn.ENDIDES,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES,Rn.ENDIDES];Mn.NaN=Rn.ENDIDES;const Un=[Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.PCUNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.NUMBER,Rn.ENDINT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.UNIT,Rn.ENDINT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT,Rn.ENDINT];Un.NaN=Rn.ENDINT;const zn=[Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.PCUNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.CONT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.UNIT,Rn.ENDNUM,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.UNIT,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM,Rn.ENDNUM];zn.NaN=Rn.ENDNUM;const Vn=Ln(Rn.END,[61,Rn.EQTAIL]),Hn=Ln(Rn.END,[58,Rn.COL_COL]),$n=Ln(Rn.END,[61,Rn.EQTAIL,124,Rn.BAR_BAR]),Gn=Ln(Rn.END,[38,Rn.AMP_AMP]),Wn=Ln(Rn.END,[42,Rn.COMMENT]),Xn=Ln(Rn.CONT,[42,Rn.COMMST]),jn=Ln(Rn.COMMENT,[42,Rn.COMMST,47,Rn.ENDNOTK]),Kn=Ln(Rn.KILL1,[62,Rn.ENDNOTK]),Yn=Ln(Rn.END,[61,Rn.EQTAIL,33/*!*/,Rn.LT_BG]),qn=Ln(Rn.KILL1,[45,Rn.LT_BG_M]),Zn=Ln(Rn.KILL2,[45,Rn.ENDNOTK]),Qn=Ln(Rn.IDESCH,[9,Rn.INVALID,10,Rn.INVALID,13,Rn.INVALID,32,Rn.INVALID]),Jn=Ln(Rn.CONT,[39,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR1ESC]),ei=Ln(Rn.CONT,[34,Rn.ENDSTR,10,Rn.INVALID,13,Rn.INVALID,92,Rn.STR2ESC]),ti=Ln(Rn.CONT,[39,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR1ESC]),ni=Ln(Rn.CONT,[34,Rn.ENDESTR,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.STR2ESC]),ii=Ln(Rn.URL,[9,Rn.CONT,32,Rn.CONT,34,Rn.URL2,39,Rn.URL1,41,Rn.INVALID,10,Rn.CONT,13,Rn.CONT]),oi=Ln(Rn.CONT,[41,Rn.ENDURL,9,Rn.CHKSP,10,Rn.CHKSP,13,Rn.CHKSP,32,Rn.CHKSP,92,Rn.URLESC,40,Rn.INVALID,91,Rn.INVALID,93,Rn.INVALID,123,Rn.INVALID,125,Rn.INVALID,NaN,Rn.ENDURL]),si=Ln(Rn.CONT,[39,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ri=Ln(Rn.CONT,[34,Rn.TERMURL,10,Rn.CHKPOSN,13,Rn.CHKPOSN,92,Rn.URLESC,NaN,Rn.ENDURL]),ai=Ln(Rn.INVALID,[9,Rn.CONT,10,Rn.CONT,13,Rn.CONT,32,Rn.CONT,41,Rn.FINURL]);class li{constructor(e,t){this.input=e,this.handler=t,this.head=-1,this.tail=0,this.curr=0,this.position=0,this.indexMask=15,this.buffer=Array(this.indexMask+1);for(let e=0;e<=this.indexMask;e++)this.buffer[e]=new kn}token(){return this.tail==this.curr&&this.fillBuffer(),this.buffer[this.curr]}nthToken(e){return(this.tail-this.curr&this.indexMask)<=e&&this.fillBuffer(),this.buffer[this.curr+e&this.indexMask]}consume(){this.curr=this.curr+1&this.indexMask}mark(){if(this.head>=0)throw new Error("F_CSSTOK_BAD_CALL mark");this.head=this.curr}reset(){if(this.head<0)throw new Error("F_CSSTOK_BAD_CALL reset");this.curr=this.head,this.head=-1}unmark(){this.head=-1}hasMark(){return this.head>=0}reallocate(){const e=2*(this.indexMask+1)-1,t=Array(e+1);let n=this.head,i=0;for(;n!=this.tail;)t[i]=this.buffer[n],n==this.curr&&(this.curr=i),n=n+1&this.indexMask,i++;for(this.head=0,this.tail=i,this.indexMask=e,this.buffer=t;i<=e;)t[i++]=new kn}error(e,t,n){this.handler&&this.handler.error(n,t)}fillBuffer(){let e=this.tail,t=this.head>=0?this.head:this.curr,n=this.indexMask;if(e>=t?t+=n:t--,t==e){if(this.head<0)throw new Error("F_CSSTOK_INTERNAL");this.reallocate(),e=this.tail,n=this.indexMask,t=n}let i=Fn;const o=this.input;let s=this.position;const r=this.buffer;let a=On.EOF,l=0,h="",c=0,u=!1,d=r[e],p=-9;for(;;){const f=o.charCodeAt(s);switch(i[f]||i[65]){case Rn.INVALID:a=On.INVALID,h=isNaN(f)?"E_CSS_UNEXPECTED_EOF":"E_CSS_UNEXPECTED_CHAR",i=Fn,s++;break;case Rn.SPACE:s++,u=!0;continue;case Rn.INT:l=s++,i=Un;continue;case Rn.IDENT:a=On.IDENT,l=s++,i=Dn;continue;case Rn.BANG:l=s++,a=On.BANG,i=Vn;continue;case Rn.STR1:a=On.STR,l=++s,i=Jn;continue;case Rn.STR2:a=On.STR,l=++s,i=ei;continue;case Rn.HASH:l=++s,a=On.HASH,i=Dn;continue;case Rn.DOLLAR:l=s++,a=On.DOLLAR,i=Vn;continue;case Rn.PERCENT:l=s++,a=On.PERCENT;break;case Rn.AMP:l=s++,a=On.DOLLAR,i=Gn;continue;case Rn.O_PAR:l=s++,a=On.O_PAR;break;case Rn.C_PAR:l=s++,a=On.C_PAR;break;case Rn.STAR:l=s++,a=On.STAR,i=Vn;continue;case Rn.PLUS:l=s++,a=On.PLUS;break;case Rn.COMMA:l=s++,a=On.COMMA;break;case Rn.MINUS:a=On.MINUS,l=s++,i=Bn;continue;case Rn.DOT:l=s++,i=_n;continue;case Rn.TOCLASS:l=s++,a=On.CLASS,i=Dn;continue;case Rn.SLASH:l=s++,a=On.SLASH,i=Wn;continue;case Rn.COLON:l=s++,a=On.COLON,i=Hn;continue;case Rn.COL_COL:s++,a=On.COL_COL;break;case Rn.SEMICOL:l=s++,a=On.SEMICOL;break;case Rn.LT:l=s++,a=On.LT,i=Yn;continue;case Rn.EQ:l=s++,a=On.EQ,i=Vn;continue;case Rn.GT:l=s++,a=On.GT,i=Vn;continue;case Rn.QMARK:l=s++,a=On.QMARK;break;case Rn.AT:l=++s,a=On.AT,i=Dn;continue;case Rn.O_BRK:l=s++,a=On.O_BRK;break;case Rn.C_BRK:l=s++,a=On.C_BRK;break;case Rn.O_BRC:l=s++,a=On.O_BRC;break;case Rn.C_BRC:l=s++,a=On.C_BRC;break;case Rn.BSLASH:l=s++,p=l,a=On.IDENT,i=Qn;continue;case Rn.HAT:l=s++,a=On.HAT,i=Vn;continue;case Rn.BAR:l=s++,a=On.BAR,i=$n;continue;case Rn.TILDE:l=s++,a=On.TILDE,i=Vn;continue;case Rn.END:break;case Rn.EQTAIL:s++,a=a+On.BANG_EQ-On.BANG;break;case Rn.ENDINT:a=On.INT,c=parseInt(o.substring(l,s),10);break;case Rn.ENDNUM:a=On.NUM,c=parseFloat(o.substring(l,s));break;case Rn.CONT:s++;continue;case Rn.UNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),l=s++,i=Dn;continue;case Rn.PCUNIT:a=On.NUMERIC,c=parseFloat(o.substring(l,s)),h="%",l=s++;break;case Rn.NUMBER:s++,i=zn;continue;case Rn.ENDIDNT:h=o.substring(l,s);break;case Rn.IDNTESC:p=s++,i=Qn;continue;case Rn.ENDIDES:h=An(o.substring(l,s));break;case Rn.ENDSTR:h=o.substring(l,s),s++;break;case Rn.ENDESTR:h=An(o.substring(l,s)),s++;break;case Rn.STR1ESC:p=s,s+=2,i=ti;continue;case Rn.STR2ESC:p=s,s+=2,i=ni;continue;case Rn.BAR_BAR:s++,a=On.BAR_BAR;break;case Rn.AMP_AMP:s++,a=On.AMP_AMP;break;case Rn.FUNC:if(h=o.substring(l,s),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.FUNCES:if(h=An(o.substring(l,s)),a==On.IDENT){if(s++,"url"==h.toLowerCase()){i=ii;continue}a=On.FUNC}break;case Rn.COMMENT:i=Xn,s++;continue;case Rn.COMMST:i=jn,s++;continue;case Rn.ENDNOTK:i=Fn,s++;continue;case Rn.MINMIN:i=Kn,s++;continue;case Rn.TOINT:a=On.INT,i=Un,s++;continue;case Rn.TONUM:a=On.NUM,i=zn,s++;continue;case Rn.TOIDENT:a=On.IDENT,i=Dn,s++;continue;case Rn.TOIDES:a=On.IDENT,i=Qn,p=s++;continue;case Rn.KILL1:s--;break;case Rn.KILL2:s-=2;break;case Rn.URL:l=s++,i=oi;continue;case Rn.URL1:l=++s,i=si;continue;case Rn.URL2:l=++s,i=ri;continue;case Rn.ENDURL:a=On.URL,h=An(o.substring(l,s)),s++;break;case Rn.FINURL:s++;break;case Rn.LT_BG:i=qn,s++;continue;case Rn.LT_BG_M:i=Zn,s++;continue;case Rn.CHKSP:if(s-p<8&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])|[ \t]$/)){s++;continue}case Rn.TERMURL:a=On.URL,h=An(o.substring(l,s)),s++,i=ai;continue;case Rn.CHKPOSN:if(s++,s-p<9&&o.substring(p+1,s).match(/^[0-9a-fA-F]{0,6}(\r\n|[\n\r])$/))continue;a=On.INVALID,h="E_CSS_UNEXPECTED_NEWLINE",i=Fn;break;case Rn.CHKPOSS:if(s-p<9&&o.substring(p+1,s+1).match(/^[0-9a-fA-F]{0,6}[ \t]$/)){s++;continue}h=An(o.substring(l,s));break;case Rn.URLESC:p=s++;continue;case Rn.IDESCH:s++,i=Mn;continue;default:if(i!==Fn){a=On.INVALID,h="E_CSS_UNEXPECTED_STATE";break}l=s,a=On.EOF}if(d.type=a,d.precededBySpace=u,d.num=c,d.text=h,d.position=l,e++,e>=t)break;i=Fn,u=!1,d=r[e&n]}this.position=s,this.tail=e&n}}let hi=null,ci=null;function ui(){return hi}function di(e){if(!hi)throw new Error("E_TASK_NO_CONTEXT");hi.name||(hi.name=e);const t=hi,n=new Ni(t,t.top,e);return t.top=n,n.state=gi.ACTIVE,n}function pi(e){return new yi(e)}function fi(e,t,n){const i=di(e);i.handler=n;try{t(i)}catch(e){i.task.raise(e,i)}return i.result()}var gi;!function(e){e[e.INIT=0]="INIT",e[e.ACTIVE=1]="ACTIVE",e[e.FINISHED=2]="FINISHED",e[e.DEAD=3]="DEAD"}(gi||(gi={}));class mi{currentTime(){return(new Date).valueOf()}setTimeout(e,t){return setTimeout(e,t)}clearTimeout(e){clearTimeout(e)}}class bi{constructor(e){this.timer=e,this.timeout=1,this.slice=25,this.sliceOverTime=0,this.wakeupTime=null,this.timeoutToken=null,this.inTimeSlice=!1,this.order=0,this.queue=new _,ci||(ci=this)}setSlice(e){this.slice=e}setTimeout(e){this.timeout=e}isTimeSliceOver(){return this.timer.currentTime()>=this.sliceOverTime}arm(){if(this.inTimeSlice)return;const e=this.queue.peek().scheduledTime,t=this.timer.currentTime();if(null!=this.timeoutToken){if(t+this.timeout>this.wakeupTime)return;this.timer.clearTimeout(this.timeoutToken)}let n=e-t;n<=this.timeout&&(n=this.timeout),this.wakeupTime=t+n;const i=this;this.timeoutToken=this.timer.setTimeout(()=>{i.timeoutToken=null,i.doTimeSlice()},n)}schedule(e,t){const n=e,i=this.timer.currentTime();n.order=this.order++,n.scheduledTime=i+(t||0),this.queue.add(n),this.arm()}doTimeSlice(){null!=this.timeoutToken&&(this.timer.clearTimeout(this.timeoutToken),this.timeoutToken=null),this.inTimeSlice=!0;try{let e=this.timer.currentTime();for(this.sliceOverTime=e+this.slice;this.queue.length();){const t=this.queue.peek();if(t.scheduledTime>e)break;if(this.queue.remove(),t.canceled||t.resumeInternal(),e=this.timer.currentTime(),e>=this.sliceOverTime)break}}catch(e){c.error(e)}this.inTimeSlice=!1,this.queue.length()&&this.arm()}run(e,t){const n=new Ei(this,t||"");n.top=new Ni(n,null,"bootstrap"),n.top.state=gi.ACTIVE,n.top.then(()=>{const t=()=>{n.running=!1;for(const e of n.callbacks)try{e()}catch(e){c.error(e)}};try{e().then(e=>{n.result=e,t()})}catch(e){n.raise(e),t()}});const i=hi;return hi=n,this.schedule(n.top.suspend("bootstrap")),hi=i,n}}class wi{constructor(e){this.task=e,this.scheduledTime=0,this.order=0,this.result=null,this.canceled=!1}compare(e){const t=e;return t.scheduledTime-this.scheduledTime||t.order-this.order}getTask(){return this.task}schedule(e,t){this.result=e,this.task.scheduler.schedule(this,t)}resumeInternal(){const e=this.task;if(this.task=null,e&&e.continuation==this){e.continuation=null;const t=hi;return hi=e,e.top.finish(this.result),hi=t,!0}return!1}cancel(){this.canceled=!0}}class Ei{constructor(e,t){this.scheduler=e,this.name=t,this.callbacks=[],this.exception=null,this.running=!0,this.result=null,this.waitTarget=null,this.top=null,this.continuation=null}getName(){return this.name}interrupt(e){if(this.raise(e||new Error("E_TASK_INTERRUPT")),this!==hi&&this.continuation){this.continuation.cancel();const e=new wi(this);this.waitTarget="interrupt",this.continuation=e,this.scheduler.schedule(e)}}getScheduler(){return this.scheduler}isRunning(){return this.running}whenDone(e){this.callbacks.push(e)}join(){const e=di("Task.join");if(this.running){const t=e.suspend(this),n=this;this.whenDone(()=>{t.schedule(n.result)})}else e.finish(this.result);return e.result()}unwind(){for(;this.top&&!this.top.handler;)this.top=this.top.parent;if(this.top&&this.top.handler&&this.exception){const e=this.exception;this.exception=null,this.top.handler(this.top,e)}else this.exception&&c.error(this.exception,"Unhandled exception in task",this.name)}raise(e,t){if(this.fillStack(e),t){let e=this.top;for(;e&&e!=t;)e=e.parent;e==t&&(this.top=e)}this.exception=e,this.unwind()}fillStack(e){let t=e.frameTrace;if(!t){t=e.stack?`${e.stack}\n\t---- async ---\n`:"";for(let e=this.top;e;e=e.parent)t+="\t",t+=e.getName(),t+="\n";e.frameTrace=t}}}class yi{constructor(e){this.value=e}then(e){e(this.value)}thenAsync(e){return e(this.value)}thenReturn(e){return new yi(e)}thenFinish(e){e.finish(this.value)}isPending(){return!1}get(){return this.value}}class Si{constructor(e){this.frame=e}then(e){this.frame.then(e)}thenAsync(e){if(this.isPending()){const t=new Ni(this.frame.task,this.frame.parent,"AsyncResult.thenAsync");return t.state=gi.ACTIVE,this.frame.parent=t,this.frame.then(n=>{e(n).then(e=>{t.finish(e)})}),t.result()}return e(this.frame.res)}thenReturn(e){return this.isPending()?this.thenAsync(()=>new yi(e)):new yi(e)}thenFinish(e){this.isPending()?this.then(t=>{e.finish(t)}):e.finish(this.frame.res)}isPending(){return this.frame.state==gi.ACTIVE}get(){if(this.isPending())throw new Error("Result is pending");return this.frame.res}}class Ni{constructor(e,t,n){this.task=e,this.parent=t,this.name=n,this.res=null,this.callback=null,this.handler=null,this.state=gi.INIT}checkEnvironment(){if(!hi)throw new Error("F_TASK_NO_CONTEXT");if(this!==hi.top)throw new Error("F_TASK_NOT_TOP_FRAME")}result(){return new Si(this)}finish(e){this.checkEnvironment(),hi&&!hi.exception&&(this.res=e),this.state=gi.FINISHED;const t=this.parent;if(hi&&(hi.top=t),this.callback){try{this.callback(e)}catch(e){this.task.raise(e,t)}this.state=gi.DEAD}}getTask(){return this.task}getName(){return this.name}getScheduler(){return this.task.scheduler}then(e){switch(this.state){case gi.ACTIVE:if(this.callback)throw new Error("F_TASK_FRAME_ALREADY_HAS_CALLBACK");this.callback=e;break;case gi.FINISHED:{const t=this.task,n=this.parent;try{e(this.res),this.state=gi.DEAD}catch(e){this.state=gi.DEAD,t.raise(e,n)}break}case gi.DEAD:throw new Error("F_TASK_DEAD_FRAME");default:throw new Error(`F_TASK_UNEXPECTED_FRAME_STATE ${this.state}`)}}timeSlice(){const e=di("Frame.timeSlice");return e.getScheduler().isTimeSliceOver()?(c.debug("-- time slice --"),e.suspend().schedule(!0)):e.finish(!0),e.result()}sleep(e){const t=di("Frame.sleep");return t.suspend().schedule(!0,e),t.result()}loop(e){const t=di("Frame.loop"),n=i=>{try{for(;i;){const t=e();if(t.isPending())return void t.then(n);t.then(e=>{i=e})}t.finish(!0)}catch(e){t.task.raise(e,t)}};return n(!0),t.result()}loopWithFrame(e){const t=hi;if(!t)throw new Error("E_TASK_NO_CONTEXT");return this.loop(()=>{let n;do{const i=new vi(t,t.top);t.top=i,i.state=gi.ACTIVE,e(i),n=i.result()}while(!n.isPending()&&n.get());return n})}suspend(e){if(this.checkEnvironment(),this.task.continuation)throw new Error("E_TASK_ALREADY_SUSPENDED");const t=new wi(this.task);return this.task.continuation=t,hi=null,this.task.waitTarget=e||null,t}}class vi extends Ni{constructor(e,t){super(e,t,"loop")}continueLoop(){this.finish(!0)}breakLoop(){this.finish(!1)}}class Ci{constructor(e,t){this.fetch=e,this.arrived=!1,this.resource=null,this.task=null,this.piggybacks=[],this.name=t}start(){if(!this.task){const e=this;this.task=ui().getScheduler().run(()=>{const t=di("Fetcher.run");return e.fetch().then(n=>{const i=e.piggybacks;if(e.arrived=!0,e.resource=n,e.task=null,e.piggybacks=[],i)for(let e=0;e<i.length;e++)try{i[e](n)}catch(e){c.error(e,"Error:")}t.finish(n)}),t.result()},this.name)}}piggyback(e){this.arrived?e(this.resource):this.piggybacks.push(e)}get(){return this.arrived?pi(this.resource):(this.start(),this.task.join())}hasArrived(){return this.arrived}}const Ti=e=>{if(0==e.length)return pi(!0);if(1==e.length)return e[0].get().thenReturn(!0);const t=di("waitForFetches");let n=0;return t.loop(()=>{for(;n<e.length;){const t=e[n++];if(!t.hasArrived())return t.get().thenReturn(!0)}return pi(!1)}).then(()=>{t.finish(!0)}),t.result()};function xi(e,t){let n=null,i=null;"img"==e.localName&&(n=e.getAttribute("width"),i=e.getAttribute("height"));const o=new Ci(()=>{const o=di("loadImage"),s=o.suspend(e);let r=!1;const a=t=>{r||(r=!0,"img"==e.localName&&(n||e.removeAttribute("width"),i||e.removeAttribute("height")),s.schedule(t?t.type:"timeout"))};return e.addEventListener("load",a,!1),e.addEventListener("error",a,!1),e.addEventListener("abort",a,!1),e.namespaceURI==F.SVG?(e.setAttributeNS(F.XLINK,"xlink:href",t),setTimeout(a,300)):e.src=t,o.result()},`loadElement ${t}`);return o.start(),o}var Ii,Pi;function Ai(e,t,n,i,o){const s=di("ajax"),r=new XMLHttpRequest,a=s.suspend(r),l={status:0,statusText:"",url:e,contentType:null,responseText:null,responseXML:null,responseBlob:null};r.open(n||"GET",e,!0),t&&(r.responseType=t),r.onreadystatechange=()=>{if(4===r.readyState){if(l.status=r.status,l.statusText=r.statusText||404==r.status&&"Not Found"||"",200==l.status||0==l.status)if(t&&t!==Ii.DOCUMENT||!r.responseXML||"parsererror"==r.responseXML.documentElement.localName)if((!t||t===Ii.DOCUMENT)&&r.response instanceof HTMLDocument)l.responseXML=r.response,l.contentType=r.response.contentType;else{const n=r.response;t&&t!==Ii.TEXT||"string"!=typeof n?n?l.responseBlob="string"==typeof n?Oi([n]):n:c.warn("Unexpected empty success response for",e):l.responseText=n;const i=r.getResponseHeader("Content-Type");i&&(l.contentType=i.replace(/(.*);.*$/,"$1"))}else l.responseXML=r.responseXML,l.contentType=r.responseXML.contentType;a.schedule(l)}};try{i?(r.setRequestHeader("Content-Type",o||"text/plain; charset=UTF-8"),r.send(i)):(/^file:|^https?:\/\/[^/]+\.githubusercontent\.com|\.(xhtml|xht|opf)$/i.test(e)?/\/aozorabunko\/[^/]+\/cards\/[^/]+\/files\/[^/.]+\.html$/.test(e)?r.overrideMimeType("text/html; charset=Shift_JIS"):/\.(html|htm)$/i.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/\.(xhtml|xht|xml|opf)$/i.test(e)?r.overrideMimeType("application/xml; charset=UTF-8"):/\.(txt|css)$/i.test(e)?r.overrideMimeType("text/plain; charset=UTF-8"):r.overrideMimeType("text/html; charset=UTF-8"):/^data:,(<|%3c)/i.test(e)?r.overrideMimeType("text/html; charset=UTF-8"):/^data:,/i.test(e)&&r.overrideMimeType("text/plain; charset=UTF-8"),r.send(null))}catch(t){c.warn(t,`Error fetching ${e}`),a.schedule(l)}return s.result()}function Oi(e,t){const n=t||"application/octet-stream",i=window.WebKitBlobBuilder||window.MSBlobBuilder;if(i){const t=new i;for(let n=0;n<e.length;n++)t.append(e[n]);return t.getBlob(n)}return new Blob(e,{type:n})}!function(e){e.DEFAULT="",e.ARRAYBUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(Ii||(Ii={}));class Ri{constructor(e,t){this.parser=e,this.type=t,this.resources={},this.fetchers={}}load(e,t,n){e=I(e);const i=this.resources[e];return void 0!==i?pi(i):this.fetch(e,t,n).get()}fetchInner(e,t,n){const i=this,o=di("fetch"),s=e.endsWith("?viv-toc-box");s&&(e=e.replace("?viv-toc-box",""));const r=k("user-agent.xml",O),a=!s&&e===r;return a&&(e=`data:application/xml,${encodeURIComponent('<!DOCTYPE html>\n<html xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://www.pyroxy.com/ns/shadow">\n<head>\n<style><![CDATA[\n\n.footnote-content {\n  float: footnote;\n}\n\n.table-cell-container {\n  display: block;\n}\n\n]]></style>\n</head>\n<body>\n\n<s:template id="footnote"><s:content/><s:include class="footnote-content"/></s:template>\n\n<s:template id="table-cell"><div data-vivliostyle-flow-root="true" class="table-cell-container"><s:content/></div></s:template>\n\n</body>\n</html>\n')}`),Ai(e,i.type).then(l=>{if(l.status>=400&&t)throw new Error((n||`Failed to fetch required resource: ${e}`)+` (${l.status}${l.statusText?" "+l.statusText:""})`);s?(e+="?viv-toc-box",l.url+="?viv-toc-box"):a&&(l.url=e=r),i.parser(l,i).then(t=>{delete i.fetchers[e],i.resources[e]=t,o.finish(t)})}),o.result()}fetch(e,t,n){if(e=I(e),this.resources[e])return null;let i=this.fetchers[e];if(!i){const o=this;i=new Ci(()=>o.fetchInner(e,t,n),`Fetch ${e}`),o.fetchers[e]=i,i.start()}return i}get(e){return this.resources[I(e)]}delete(e){delete this.resources[I(e)]}}function ki(e,t){const n=e.responseText;return pi(n?x(n):null)}function Li(e){let t=parseInt(e,16);if(isNaN(t))throw new Error("E_CSS_COLOR");if(6==e.length)return new At(t);if(3==e.length)return t=15&t|(15&t)<<4|(240&t)<<4|(240&t)<<8|(3840&t)<<8|(3840&t)<<12,new At(t);throw new Error("E_CSS_COLOR")}!function(e){e.USER_AGENT="UA",e.USER="User",e.AUTHOR="Author"}(Pi||(Pi={}));class Fi{constructor(e){this.scope=e,this.flavor=Pi.AUTHOR}getCurrentToken(){return null}getScope(){return this.scope}error(e,t){}startStylesheet(e){this.flavor=e}tagSelector(e,t){}classSelector(e){}pseudoclassSelector(e,t){}pseudoelementSelector(e,t){}idSelector(e){}attributeSelector(e,t,n,i){}descendantSelector(){}childSelector(){}adjacentSiblingSelector(){}followingSiblingSelector(){}nextSelector(){}startSelectorRule(){}startFontFaceRule(){}startFootnoteRule(e){}startViewportRule(){}startDefineRule(){}startRegionRule(){}startPageRule(){}startPageMarginBoxRule(e){}startWhenRule(e){}startMediaRule(e){this.startWhenRule(e)}startFlowRule(e){}startPageTemplateRule(){}startPageMasterRule(e,t,n){}startPartitionRule(e,t,n){}startPartitionGroupRule(e,t,n){}startRuleBody(){}property(e,t,n){}endRule(){}startFuncWithSelector(e){}endFuncWithSelector(){}getImportantSpecificity(){switch(this.flavor){case Pi.USER_AGENT:return 0;case Pi.USER:return 100663296;default:return 83886080}}getBaseSpecificity(){switch(this.flavor){case Pi.USER_AGENT:return 0;case Pi.USER:return 16777216;default:return 33554432}}}class Di extends Fi{constructor(){super(null),this.stack=[],this.tokenizer=null,this.slave=null}pushHandler(e){this.stack.push(this.slave),this.slave=e}popHandler(){this.slave=this.stack.pop()}getCurrentToken(){return this.tokenizer?this.tokenizer.token():null}getScope(){return this.slave.getScope()}error(e,t){this.slave.error(e,t)}errorMsg(e,t){c.warn(e)}startStylesheet(e){super.startStylesheet(e),this.stack.length>0&&(this.slave=this.stack[0],this.stack=[]),this.slave.startStylesheet(e)}tagSelector(e,t){this.slave.tagSelector(e,t)}classSelector(e){this.slave.classSelector(e)}pseudoclassSelector(e,t){this.slave.pseudoclassSelector(e,t)}pseudoelementSelector(e,t){this.slave.pseudoelementSelector(e,t)}idSelector(e){this.slave.idSelector(e)}attributeSelector(e,t,n,i){this.slave.attributeSelector(e,t,n,i)}descendantSelector(){this.slave.descendantSelector()}childSelector(){this.slave.childSelector()}adjacentSiblingSelector(){this.slave.adjacentSiblingSelector()}followingSiblingSelector(){this.slave.followingSiblingSelector()}nextSelector(){this.slave.nextSelector()}startSelectorRule(){this.slave.startSelectorRule()}startFontFaceRule(){this.slave.startFontFaceRule()}startFootnoteRule(e){this.slave.startFootnoteRule(e)}startViewportRule(){this.slave.startViewportRule()}startDefineRule(){this.slave.startDefineRule()}startRegionRule(){this.slave.startRegionRule()}startPageRule(){this.slave.startPageRule()}startPageMarginBoxRule(e){this.slave.startPageMarginBoxRule(e)}startWhenRule(e){this.slave.startWhenRule(e)}startFlowRule(e){this.slave.startFlowRule(e)}startPageTemplateRule(){this.slave.startPageTemplateRule()}startPageMasterRule(e,t,n){this.slave.startPageMasterRule(e,t,n)}startPartitionRule(e,t,n){this.slave.startPartitionRule(e,t,n)}startPartitionGroupRule(e,t,n){this.slave.startPartitionGroupRule(e,t,n)}startRuleBody(){this.slave.startRuleBody()}property(e,t,n){this.slave.property(e,t,n)}endRule(){this.slave.endRule()}startFuncWithSelector(e){this.slave.startFuncWithSelector(e)}endFuncWithSelector(){this.slave.endFuncWithSelector()}}class _i extends Fi{constructor(e,t,n){super(e),this.owner=t,this.topLevel=n,this.depth=0,t&&(this.flavor=t.flavor)}getCurrentToken(){return this.owner.getCurrentToken()}error(e,t){this.owner.errorMsg(e,t)}startRuleBody(){this.depth++}endRule(){0!=--this.depth||this.topLevel||this.owner.popHandler()}}class Bi extends _i{constructor(e,t,n){super(e,t,n)}report(e){this.error(e,this.getCurrentToken())}reportAndSkip(e){this.report(e),this.owner.pushHandler(new _i(this.scope,this.owner,!1))}startSelectorRule(){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR")}startFontFaceRule(){this.reportAndSkip("E_CSS_UNEXPECTED_FONT_FACE")}startFootnoteRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FOOTNOTE")}startViewportRule(){this.reportAndSkip("E_CSS_UNEXPECTED_VIEWPORT")}startDefineRule(){this.reportAndSkip("E_CSS_UNEXPECTED_DEFINE")}startRegionRule(){this.reportAndSkip("E_CSS_UNEXPECTED_REGION")}startPageRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE")}startWhenRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_WHEN")}startFlowRule(e){this.reportAndSkip("E_CSS_UNEXPECTED_FLOW")}startPageTemplateRule(){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_TEMPLATE")}startPageMasterRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PAGE_MASTER")}startPartitionRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION")}startPartitionGroupRule(e,t,n){this.reportAndSkip("E_CSS_UNEXPECTED_PARTITION_GROUP")}startFuncWithSelector(e){this.reportAndSkip("E_CSS_UNEXPECTED_SELECTOR_FUNC")}endFuncWithSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_END_SELECTOR_FUNC")}property(e,t,n){this.error("E_CSS_UNEXPECTED_PROPERTY",this.getCurrentToken())}}const Mi=[],Ui=[],zi=[],Vi=[],Hi=[],$i=[],Gi=[],Wi=[],Xi=[],ji=[],Ki=[],Yi=[],qi=[];var Zi;!function(e){e[e.SELECTOR_NAME_1=1]="SELECTOR_NAME_1",e[e.SELECTOR_NAME=2]="SELECTOR_NAME",e[e.SELECTOR_ANY_1=3]="SELECTOR_ANY_1",e[e.SELECTOR_ANY=4]="SELECTOR_ANY",e[e.SELECTOR_ID_1=5]="SELECTOR_ID_1",e[e.SELECTOR_ID=6]="SELECTOR_ID",e[e.SELECTOR_CLASS_1=7]="SELECTOR_CLASS_1",e[e.SELECTOR_CLASS=8]="SELECTOR_CLASS",e[e.SELECTOR_ATTR_1=9]="SELECTOR_ATTR_1",e[e.SELECTOR_ATTR=10]="SELECTOR_ATTR",e[e.SELECTOR_CHILD=11]="SELECTOR_CHILD",e[e.SELECTOR_SIBLING=12]="SELECTOR_SIBLING",e[e.SELECTOR_BODY=13]="SELECTOR_BODY",e[e.SELECTOR_PSEUDOCLASS=14]="SELECTOR_PSEUDOCLASS",e[e.VAL_IDENT=15]="VAL_IDENT",e[e.VAL_HASH=16]="VAL_HASH",e[e.VAL_NUM=17]="VAL_NUM",e[e.VAL_INT=18]="VAL_INT",e[e.VAL_NUMERIC=19]="VAL_NUMERIC",e[e.VAL_STR=20]="VAL_STR",e[e.VAL_URL=21]="VAL_URL",e[e.VAL_COMMA=22]="VAL_COMMA",e[e.VAL_SLASH=23]="VAL_SLASH",e[e.VAL_FUNC=24]="VAL_FUNC",e[e.VAL_C_PAR=25]="VAL_C_PAR",e[e.VAL_END=26]="VAL_END",e[e.RULE_END=27]="RULE_END",e[e.IDENT=28]="IDENT",e[e.SELECTOR_START=29]="SELECTOR_START",e[e.AT=30]="AT",e[e.EXPR_IDENT=31]="EXPR_IDENT",e[e.EXPR_NUM=32]="EXPR_NUM",e[e.EXPR_NUMERIC=33]="EXPR_NUMERIC",e[e.EXPR_STR=34]="EXPR_STR",e[e.EXPR_PARAM=35]="EXPR_PARAM",e[e.EXPR_PREFIX=36]="EXPR_PREFIX",e[e.EXPR_INFIX=37]="EXPR_INFIX",e[e.EXPR_FUNC=38]="EXPR_FUNC",e[e.EXPR_C_PAR=39]="EXPR_C_PAR",e[e.EXPR_O_PAR=40]="EXPR_O_PAR",e[e.SELECTOR_NEXT=41]="SELECTOR_NEXT",e[e.SELECTOR_PSEUDOELEM=42]="SELECTOR_PSEUDOELEM",e[e.EXPR_O_BRC=43]="EXPR_O_BRC",e[e.VAL_FINISH=44]="VAL_FINISH",e[e.EXPR_INFIX_NAME=45]="EXPR_INFIX_NAME",e[e.PROP=46]="PROP",e[e.VAL_BANG=47]="VAL_BANG",e[e.VAL_BRC=48]="VAL_BRC",e[e.EXPR_SEMICOL=49]="EXPR_SEMICOL",e[e.ERROR_PUSH=50]="ERROR_PUSH",e[e.ERROR_POP=51]="ERROR_POP",e[e.ERROR_POP_DECL=52]="ERROR_POP_DECL",e[e.ERROR_SEMICOL=53]="ERROR_SEMICOL",e[e.VAL_PLUS=54]="VAL_PLUS",e[e.SELECTOR_PSEUDOCLASS_1=55]="SELECTOR_PSEUDOCLASS_1",e[e.SELECTOR_FOLLOWING_SIBLING=56]="SELECTOR_FOLLOWING_SIBLING",e[e.DONE=200]="DONE"}(Zi||(Zi={}));const Qi=On.LAST+1;var Ji;Mi[On.IDENT]=Zi.IDENT,Mi[On.STAR]=Zi.SELECTOR_START,Mi[On.HASH]=Zi.SELECTOR_START,Mi[On.CLASS]=Zi.SELECTOR_START,Mi[On.O_BRK]=Zi.SELECTOR_START,Mi[On.COLON]=Zi.SELECTOR_START,Mi[On.AT]=Zi.AT,Mi[On.C_BRC]=Zi.RULE_END,Mi[On.EOF]=Zi.DONE,Ui[On.IDENT]=Zi.PROP,Ui[On.EOF]=Zi.DONE,$i[On.IDENT]=Zi.SELECTOR_NAME,$i[On.STAR]=Zi.SELECTOR_ANY,$i[On.HASH]=Zi.SELECTOR_ID,$i[On.CLASS]=Zi.SELECTOR_CLASS,$i[On.O_BRK]=Zi.SELECTOR_ATTR,$i[On.COLON]=Zi.SELECTOR_PSEUDOCLASS,zi[On.GT]=Zi.SELECTOR_CHILD,zi[On.PLUS]=Zi.SELECTOR_SIBLING,zi[On.TILDE]=Zi.SELECTOR_FOLLOWING_SIBLING,zi[On.IDENT]=Zi.SELECTOR_NAME_1,zi[On.STAR]=Zi.SELECTOR_ANY_1,zi[On.HASH]=Zi.SELECTOR_ID_1,zi[On.CLASS]=Zi.SELECTOR_CLASS_1,zi[On.O_BRK]=Zi.SELECTOR_ATTR_1,zi[On.O_BRC]=Zi.SELECTOR_BODY,zi[On.COLON]=Zi.SELECTOR_PSEUDOCLASS_1,zi[On.COL_COL]=Zi.SELECTOR_PSEUDOELEM,zi[On.COMMA]=Zi.SELECTOR_NEXT,Vi[On.IDENT]=Zi.SELECTOR_NAME_1,Vi[On.STAR]=Zi.SELECTOR_ANY_1,Vi[On.HASH]=Zi.SELECTOR_ID_1,Vi[On.CLASS]=Zi.SELECTOR_CLASS_1,Vi[On.O_BRK]=Zi.SELECTOR_ATTR_1,Vi[On.C_PAR]=Zi.DONE,Vi[On.COLON]=Zi.SELECTOR_PSEUDOCLASS_1,Hi[On.IDENT]=Zi.SELECTOR_NAME,Hi[On.STAR]=Zi.SELECTOR_ANY,Hi[On.HASH]=Zi.SELECTOR_ID,Hi[On.CLASS]=Zi.SELECTOR_CLASS,Hi[On.COLON]=Zi.SELECTOR_PSEUDOCLASS,Hi[On.COL_COL]=Zi.SELECTOR_PSEUDOELEM,Hi[On.O_BRK]=Zi.SELECTOR_ATTR,Hi[On.O_BRC]=Zi.SELECTOR_BODY,Gi[On.IDENT]=Zi.VAL_IDENT,Gi[On.HASH]=Zi.VAL_HASH,Gi[On.NUM]=Zi.VAL_NUM,Gi[On.INT]=Zi.VAL_INT,Gi[On.NUMERIC]=Zi.VAL_NUMERIC,Gi[On.STR]=Zi.VAL_STR,Gi[On.URL]=Zi.VAL_URL,Gi[On.COMMA]=Zi.VAL_COMMA,Gi[On.SLASH]=Zi.VAL_SLASH,Gi[On.FUNC]=Zi.VAL_FUNC,Gi[On.C_PAR]=Zi.VAL_C_PAR,Gi[On.SEMICOL]=Zi.VAL_END,Gi[On.C_BRC]=Zi.VAL_BRC,Gi[On.BANG]=Zi.VAL_BANG,Gi[On.PLUS]=Zi.VAL_PLUS,Gi[On.EOF]=Zi.VAL_FINISH,Wi[On.IDENT]=Zi.EXPR_IDENT,Wi[On.NUM]=Zi.EXPR_NUM,Wi[On.INT]=Zi.EXPR_NUM,Wi[On.NUMERIC]=Zi.EXPR_NUMERIC,Wi[On.STR]=Zi.EXPR_STR,Wi[On.O_PAR]=Zi.EXPR_O_PAR,Wi[On.FUNC]=Zi.EXPR_FUNC,Wi[On.BANG]=Zi.EXPR_PREFIX,Wi[On.MINUS]=Zi.EXPR_PREFIX,Wi[On.DOLLAR]=Zi.EXPR_PARAM,Xi[On.IDENT]=Zi.EXPR_INFIX_NAME,Xi[On.COMMA]=Zi.EXPR_INFIX,Xi[On.GT]=Zi.EXPR_INFIX,Xi[On.LT]=Zi.EXPR_INFIX,Xi[On.GT_EQ]=Zi.EXPR_INFIX,Xi[On.LT_EQ]=Zi.EXPR_INFIX,Xi[On.EQ]=Zi.EXPR_INFIX,Xi[On.EQ_EQ]=Zi.EXPR_INFIX,Xi[On.BANG_EQ]=Zi.EXPR_INFIX,Xi[On.AMP_AMP]=Zi.EXPR_INFIX,Xi[On.BAR_BAR]=Zi.EXPR_INFIX,Xi[On.PLUS]=Zi.EXPR_INFIX,Xi[On.MINUS]=Zi.EXPR_INFIX,Xi[On.SLASH]=Zi.EXPR_INFIX,Xi[On.PERCENT]=Zi.EXPR_INFIX,Xi[On.STAR]=Zi.EXPR_INFIX,Xi[On.COLON]=Zi.EXPR_INFIX,Xi[On.QMARK]=Zi.EXPR_INFIX,Xi[On.C_PAR]=Zi.EXPR_C_PAR,Xi[On.O_BRC]=Zi.EXPR_O_BRC,Xi[On.SEMICOL]=Zi.EXPR_SEMICOL,ji[On.EOF]=Zi.DONE,ji[On.O_BRC]=Zi.ERROR_PUSH,ji[On.C_BRC]=Zi.ERROR_POP,ji[On.O_BRK]=Zi.ERROR_PUSH,ji[On.C_BRK]=Zi.ERROR_POP,ji[On.O_PAR]=Zi.ERROR_PUSH,ji[On.C_PAR]=Zi.ERROR_POP,ji[On.SEMICOL]=Zi.ERROR_SEMICOL,Ki[On.EOF]=Zi.DONE,Ki[On.O_BRC]=Zi.ERROR_PUSH,Ki[On.C_BRC]=Zi.ERROR_POP_DECL,Ki[On.O_BRK]=Zi.ERROR_PUSH,Ki[On.C_BRK]=Zi.ERROR_POP,Ki[On.O_PAR]=Zi.ERROR_PUSH,Ki[On.C_PAR]=Zi.ERROR_POP,Ki[On.SEMICOL]=Zi.ERROR_SEMICOL,Yi[On.EOF]=Zi.DONE,Yi[On.O_BRC]=Zi.ERROR_PUSH,Yi[On.C_BRC]=Zi.ERROR_POP,Yi[On.O_BRK]=Zi.ERROR_PUSH,Yi[On.C_BRK]=Zi.ERROR_POP,Yi[On.O_PAR]=Zi.ERROR_PUSH,Yi[On.C_PAR]=Zi.ERROR_POP,qi[On.C_PAR]=0,qi[On.COMMA]=0,qi[On.QMARK]=1,qi[On.COLON]=1,qi[On.AMP_AMP]=2,qi[On.BAR_BAR]=2,qi[On.LT]=3,qi[On.GT]=3,qi[On.LT_EQ]=3,qi[On.GT_EQ]=3,qi[On.EQ]=3,qi[On.EQ_EQ]=3,qi[On.BANG_EQ]=3,qi[On.PLUS]=4,qi[On.MINUS]=4,qi[On.STAR]=5,qi[On.SLASH]=5,qi[On.PERCENT]=5,qi[On.EOF]=6,qi[Qi]=2,function(e){e[e.PROP=0]="PROP",e[e.WHEN=1]="WHEN",e[e.MEDIA=2]="MEDIA",e[e.IMPORT=3]="IMPORT"}(Ji||(Ji={}));class eo{constructor(e,t,n,i){this.actions=e,this.tokenizer=t,this.handler=n,this.baseURL=i,this.valStack=[],this.namespacePrefixToURI={},this.defaultNamespaceURI=null,this.propName=null,this.propImportant=!1,this.result=null,this.importReady=!1,this.importURL=null,this.importCondition=null,this.errorBrackets=[],this.ruleStack=[],this.regionRule=!1,this.pageRule=!1,this.exprContext=Ji.MEDIA}extractVals(e,t){const n=[],i=this.valStack;for(;n.push(i[t++]),t!=i.length;)if(i[t++]!=e)throw new Error("Unexpected state");return n}valStackReduce(e,t){const n=this.valStack;let i,o=n.length;do{i=n[--o]}while(void 0!==i&&"string"!=typeof i);let s=n.length-(o+1);if(s>1&&n.splice(o+1,s,new kt(n.slice(o+1,n.length))),","==e)return null;o++;do{i=n[--o]}while(void 0!==i&&("string"!=typeof i||","==i));if(s=n.length-(o+1),"("==i){if(")"!=e)return this.handler.error("E_CSS_MISMATCHED_C_PAR",t),this.actions=Ki,null;const i=new Ft(n[o-1],this.extractVals(",",o+1));return n.splice(o-1,s+2,i),null}return";"!=e||o>=0?(this.handler.error("E_CSS_UNEXPECTED_VAL_END",t),this.actions=Ki,null):s>1?new Lt(this.extractVals(",",o+1)):n[0]}exprError(e,t){this.actions=this.propName?Ki:ji,this.handler.error(e,t)}exprStackReduce(e,t){const n=this.valStack,i=this.handler;let o,s=n.pop();for(;;){let r=n.pop();if(e==On.C_PAR){const t=[s];for(;r==On.COMMA;)t.unshift(n.pop()),r=n.pop();if("string"==typeof r){if("{"==r){for(;t.length>=2;){const e=t.shift(),n=t.shift(),o=new $e(i.getScope(),e,n);t.unshift(o)}return n.push(new Dt(t[0])),!0}if("("==r){const o=n.pop(),r=n.pop();s=new st(i.getScope(),Ce(r,o),t),e=On.EOF;continue}}if(r==On.O_PAR){s.isMediaName()&&(s=new lt(i.getScope(),s,null)),e=On.EOF;continue}}else if("string"==typeof r){n.push(r);break}if(r<0)if(r==-On.BANG)s=new Me(i.getScope(),s);else{if(r!=-On.MINUS)return this.exprError("F_UNEXPECTED_STATE",t),!1;s=new Ue(i.getScope(),s)}else{if(qi[e]>qi[r]){n.push(r);break}switch(o=n.pop(),r){case On.AMP_AMP:s=new ze(i.getScope(),o,s);break;case Qi:s=new Ve(i.getScope(),o,s);break;case On.BAR_BAR:s=new He(i.getScope(),o,s);break;case On.LT:s=new Ge(i.getScope(),o,s);break;case On.GT:s=new Xe(i.getScope(),o,s);break;case On.LT_EQ:s=new We(i.getScope(),o,s);break;case On.GT_EQ:s=new je(i.getScope(),o,s);break;case On.EQ:case On.EQ_EQ:s=new Ke(i.getScope(),o,s);break;case On.BANG_EQ:s=new Ye(i.getScope(),o,s);break;case On.PLUS:s=new qe(i.getScope(),o,s);break;case On.MINUS:s=new Ze(i.getScope(),o,s);break;case On.STAR:s=new Qe(i.getScope(),o,s);break;case On.SLASH:s=new Je(i.getScope(),o,s);break;case On.PERCENT:s=new et(i.getScope(),o,s);break;case On.COLON:if(!(n.length>1))return this.exprError("E_CSS_EXPR_COND",t),!1;switch(n[n.length-1]){case On.QMARK:n.pop(),s=new rt(i.getScope(),n.pop(),o,s);break;case On.O_PAR:if(!o.isMediaName())return this.exprError("E_CSS_MEDIA_TEST",t),!1;s=new lt(i.getScope(),o,s)}break;case On.QMARK:if(e!=On.COLON)return this.exprError("E_CSS_EXPR_COND",t),!1;case On.O_PAR:return n.push(o),n.push(r),n.push(s),!1;default:return this.exprError("F_UNEXPECTED_STATE",t),!1}}}return n.push(s),!1}readPseudoParams(){const e=[];for(;;){const t=this.tokenizer.token();switch(t.type){case On.IDENT:e.push(t.text);break;case On.PLUS:e.push("+");break;case On.NUM:case On.INT:e.push(t.num);break;default:return e}this.tokenizer.consume()}}readNthPseudoParams(){let e=!1,t=this.tokenizer.token();if(t.type===On.PLUS)e=!0,this.tokenizer.consume(),t=this.tokenizer.token();else if(t.type===On.IDENT&&("even"===t.text||"odd"===t.text))return this.tokenizer.consume(),[2,"odd"===t.text?1:0];switch(t.type){case On.NUMERIC:if(e&&t.num<0)return null;case On.IDENT:if(e&&"-"===t.text.charAt(0))return null;if("n"===t.text||"-n"===t.text){if(e&&t.precededBySpace)return null;let n="-n"===t.text?-1:1;t.type===On.NUMERIC&&(n=t.num);let i=0;this.tokenizer.consume(),t=this.tokenizer.token();const o=t.type===On.MINUS,s=t.type===On.PLUS||o;if(s&&(this.tokenizer.consume(),t=this.tokenizer.token()),t.type===On.INT){if(i=t.num,1/i==-1/0){if(i=0,s)return null}else if(i<0){if(s)return null}else if(i>=0&&!s)return null;this.tokenizer.consume()}else if(s)return null;return[n,o&&i>0?-i:i]}if("n-"===t.text||"-n-"===t.text){if(e&&t.precededBySpace)return null;let n="-n-"===t.text?-1:1;if(t.type===On.NUMERIC&&(n=t.num),this.tokenizer.consume(),t=this.tokenizer.token(),t.type===On.INT)return t.num<0||1/t.num==-1/0?null:(this.tokenizer.consume(),[n,t.num])}else{let n=t.text.match(/^n(-[0-9]+)$/);if(n)return e&&t.precededBySpace?null:(this.tokenizer.consume(),[t.type===On.NUMERIC?t.num:1,parseInt(n[1],10)]);if(n=t.text.match(/^-n(-[0-9]+)$/),n)return this.tokenizer.consume(),[-1,parseInt(n[1],10)]}return null;case On.INT:return e&&(t.precededBySpace||t.num<0)?null:(this.tokenizer.consume(),[0,t.num])}return null}makeCondition(e,t){const n=this.handler.getScope();if(!n)return null;if(t=t||n._true,e){const i=e.split(/\s+/);for(const e of i)switch(e){case"vertical":t=ct(n,t,new Me(n,new nt(n,"pref-horizontal")));break;case"horizontal":t=ct(n,t,new nt(n,"pref-horizontal"));break;case"day":t=ct(n,t,new Me(n,new nt(n,"pref-night-mode")));break;case"night":t=ct(n,t,new nt(n,"pref-night-mode"));break;default:t=n._false}}return t===n._true?null:new Dt(t)}isInsidePropertyOnlyRule(){switch(this.ruleStack[this.ruleStack.length-1]){case"[selector]":case"font-face":case"-epubx-flow":case"-epubx-viewport":case"-epubx-define":case"-adapt-footnote-area":return!0}return!1}runParser(e,t,n,i,o){const s=this.handler,r=this.tokenizer,a=this.valStack;let l,h,c,u,d,p,f;i&&(this.exprContext=Ji.MEDIA,this.valStack.push("{"));e:for(;e>0;--e)switch(l=r.token(),this.actions[l.type]){case Zi.IDENT:if(r.nthToken(1).type!=On.COLON){this.isInsidePropertyOnlyRule()?(s.error("E_CSS_COLON_EXPECTED",r.nthToken(1)),this.actions=Ki):(this.actions=$i,s.startSelectorRule());continue}h=r.nthToken(2),h.precededBySpace||h.type!=On.IDENT&&h.type!=On.FUNC||r.mark(),this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=Gi,a.splice(0,a.length);continue;case Zi.PROP:if(r.nthToken(1).type!=On.COLON){this.actions=Ki,s.error("E_CSS_COLON_EXPECTED",r.nthToken(1));continue}this.propName=l.text,this.propImportant=!1,r.consume(),r.consume(),this.actions=Gi,a.splice(0,a.length);continue;case Zi.SELECTOR_START:this.actions=$i,s.startSelectorRule();continue;case Zi.SELECTOR_NAME_1:if(!l.precededBySpace){this.actions=Yi,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case Zi.SELECTOR_NAME:if(r.nthToken(1).type==On.BAR)if(r.consume(),r.consume(),c=this.namespacePrefixToURI[l.text],null!=c)switch(l=r.token(),l.type){case On.IDENT:s.tagSelector(c,l.text),this.actions=o?Vi:zi,r.consume();break;case On.STAR:s.tagSelector(c,null),this.actions=o?Vi:zi,r.consume();break;default:this.actions=ji,s.error("E_CSS_NAMESPACE",l)}else this.actions=ji,s.error("E_CSS_UNDECLARED_PREFIX",l);else s.tagSelector(this.defaultNamespaceURI,l.text),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_ANY_1:if(!l.precededBySpace){this.actions=Yi,s.error("E_CSS_SPACE_EXPECTED",l);continue}s.descendantSelector();case Zi.SELECTOR_ANY:if(r.nthToken(1).type==On.BAR)switch(r.consume(),r.consume(),l=r.token(),l.type){case On.IDENT:s.tagSelector(null,l.text),this.actions=o?Vi:zi,r.consume();break;case On.STAR:s.tagSelector(null,null),this.actions=o?Vi:zi,r.consume();break;default:this.actions=ji,s.error("E_CSS_NAMESPACE",l)}else s.tagSelector(this.defaultNamespaceURI,null),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_ID_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_ID:s.idSelector(l.text),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_CLASS_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_CLASS:s.classSelector(l.text),this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_PSEUDOCLASS_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_PSEUDOCLASS:r.consume(),l=r.token();t:switch(l.type){case On.IDENT:s.pseudoclassSelector(l.text,null),r.consume(),this.actions=o?Vi:zi;continue;case On.FUNC:switch(u=l.text,r.consume(),u){case"not":this.actions=$i,s.startFuncWithSelector("not"),this.runParser(Number.POSITIVE_INFINITY,!1,!1,!1,!0)?this.actions=zi:this.actions=Yi;break e;case"lang":case"href-epub-type":if(l=r.token(),l.type===On.IDENT){f=[l.text],r.consume();break}break t;case"nth-child":case"nth-of-type":case"nth-last-child":case"nth-last-of-type":if(f=this.readNthPseudoParams(),f)break;break t;default:f=this.readPseudoParams()}if(l=r.token(),l.type==On.C_PAR){s.pseudoclassSelector(u,f),r.consume(),this.actions=o?Vi:zi;continue}}s.error("E_CSS_PSEUDOCLASS_SYNTAX",l),this.actions=ji;continue;case Zi.SELECTOR_PSEUDOELEM:switch(r.consume(),l=r.token(),l.type){case On.IDENT:s.pseudoelementSelector(l.text,null),this.actions=o?Vi:zi,r.consume();continue;case On.FUNC:if(u=l.text,r.consume(),"nth-fragment"==u){if(f=this.readNthPseudoParams(),null===f)break}else f=this.readPseudoParams();if(l=r.token(),l.type==On.C_PAR){s.pseudoelementSelector(u,f),this.actions=o?Vi:zi,r.consume();continue}}s.error("E_CSS_PSEUDOELEM_SYNTAX",l),this.actions=ji;continue;case Zi.SELECTOR_ATTR_1:l.precededBySpace&&s.descendantSelector();case Zi.SELECTOR_ATTR:if(r.consume(),l=r.token(),l.type==On.IDENT)u=l.text,r.consume();else if(l.type==On.STAR)u=null,r.consume();else{if(l.type!=On.BAR){this.actions=Yi,s.error("E_CSS_ATTR",l),r.consume();continue}u=""}if(l=r.token(),l.type==On.BAR){if(c=u?this.namespacePrefixToURI[u]:u,null==c){this.actions=Yi,s.error("E_CSS_UNDECLARED_PREFIX",l),r.consume();continue}if(r.consume(),l=r.token(),l.type!=On.IDENT){this.actions=Yi,s.error("E_CSS_ATTR_NAME_EXPECTED",l);continue}u=l.text,r.consume(),l=r.token()}else c="";switch(l.type){case On.EQ:case On.TILDE_EQ:case On.BAR_EQ:case On.HAT_EQ:case On.DOLLAR_EQ:case On.STAR_EQ:case On.COL_COL:d=l.type,r.consume(),l=r.token();break;case On.C_BRK:s.attributeSelector(c,u,On.EOF,null),this.actions=o?Vi:zi,r.consume();continue;default:this.actions=Yi,s.error("E_CSS_ATTR_OP_EXPECTED",l);continue}switch(l.type){case On.IDENT:case On.STR:s.attributeSelector(c,u,d,l.text),r.consume(),l=r.token();break;default:this.actions=Yi,s.error("E_CSS_ATTR_VAL_EXPECTED",l);continue}if(l.type!=On.C_BRK){this.actions=Yi,s.error("E_CSS_ATTR",l);continue}this.actions=o?Vi:zi,r.consume();continue;case Zi.SELECTOR_CHILD:s.childSelector(),this.actions=Hi,r.consume();continue;case Zi.SELECTOR_SIBLING:s.adjacentSiblingSelector(),this.actions=Hi,r.consume();continue;case Zi.SELECTOR_FOLLOWING_SIBLING:s.followingSiblingSelector(),this.actions=Hi,r.consume();continue;case Zi.SELECTOR_BODY:this.regionRule?(this.ruleStack.push("-epubx-region"),this.regionRule=!1):this.pageRule?(this.ruleStack.push("page"),this.pageRule=!1):this.ruleStack.push("[selector]"),s.startRuleBody(),this.actions=Mi,r.consume();continue;case Zi.SELECTOR_NEXT:s.nextSelector(),this.actions=$i,r.consume();continue;case Zi.VAL_IDENT:a.push(Tt(l.text)),r.consume();continue;case Zi.VAL_HASH:d=parseInt(l.text,16);try{a.push(Li(l.text))}catch(e){s.error("E_CSS_COLOR",l),this.actions=ji}r.consume();continue;case Zi.VAL_NUM:a.push(new It(l.num)),r.consume();continue;case Zi.VAL_INT:a.push(new Pt(l.num)),r.consume();continue;case Zi.VAL_NUMERIC:Ie(l.text)?a.push(new Dt(new tt(s.getScope(),l.num,l.text))):a.push(new xt(l.num,l.text)),r.consume();continue;case Zi.VAL_STR:a.push(new Nt(l.text)),r.consume();continue;case Zi.VAL_URL:a.push(new Ot(k(l.text,this.baseURL))),r.consume();continue;case Zi.VAL_COMMA:this.valStackReduce(",",l),a.push(","),r.consume();continue;case Zi.VAL_SLASH:a.push(St),r.consume();continue;case Zi.VAL_FUNC:u=l.text.toLowerCase(),"-epubx-expr"==u||"calc"==u||"env"==u?(this.actions=Wi,this.exprContext=Ji.PROP,a.push("{")):(a.push(u),a.push("(")),r.consume();continue;case Zi.VAL_C_PAR:this.valStackReduce(")",l),r.consume();continue;case Zi.VAL_BANG:if(r.consume(),l=r.token(),h=r.nthToken(1),l.type==On.IDENT&&"important"==l.text.toLowerCase()&&(h.type==On.SEMICOL||h.type==On.EOF||h.type==On.C_BRC)){r.consume(),this.propImportant=!0;continue}this.exprError("E_CSS_SYNTAX",l);continue;case Zi.VAL_PLUS:switch(h=r.nthToken(1),h.type){case On.NUM:case On.NUMERIC:case On.INT:if(!h.precededBySpace){r.consume();continue}}if(this.actions===Gi&&r.hasMark()){r.reset(),this.actions=$i,s.startSelectorRule();continue}this.exprError("E_CSS_UNEXPECTED_PLUS",l);continue;case Zi.VAL_END:r.consume();case Zi.VAL_BRC:r.unmark(),p=this.valStackReduce(";",l),p&&this.propName&&s.property(this.propName,p,this.propImportant),this.actions=n?Ui:Mi;continue;case Zi.VAL_FINISH:if(r.consume(),r.unmark(),p=this.valStackReduce(";",l),t)return this.result=p,!0;if(this.propName&&p&&s.property(this.propName,p,this.propImportant),n)return!0;this.exprError("E_CSS_SYNTAX",l);continue;case Zi.EXPR_IDENT:h=r.nthToken(1),h.type==On.CLASS?(r.nthToken(2).type!=On.O_PAR||r.nthToken(2).precededBySpace?(a.push(new nt(s.getScope(),Ce(l.text,h.text))),this.actions=Xi):(a.push(l.text,h.text,"("),r.consume()),r.consume()):(this.exprContext==Ji.MEDIA||this.exprContext==Ji.IMPORT?"not"==l.text.toLowerCase()?(r.consume(),a.push(new it(s.getScope(),!0,h.text))):("only"==l.text.toLowerCase()&&(r.consume(),l=h),a.push(new it(s.getScope(),!1,l.text))):a.push(new nt(s.getScope(),l.text)),this.actions=Xi),r.consume();continue;case Zi.EXPR_FUNC:a.push(null,l.text,"("),r.consume();continue;case Zi.EXPR_NUM:a.push(new at(s.getScope(),l.num)),r.consume(),this.actions=Xi;continue;case Zi.EXPR_NUMERIC:u=l.text,"%"==u&&(u=this.propName&&this.propName.match(/height|^(top|bottom)$/)?"vh":"vw"),a.push(new tt(s.getScope(),l.num,u)),r.consume(),this.actions=Xi;continue;case Zi.EXPR_STR:a.push(new at(s.getScope(),l.text)),r.consume(),this.actions=Xi;continue;case Zi.EXPR_PARAM:r.consume(),l=r.token(),l.type!=On.INT||l.precededBySpace?this.exprError("E_CSS_SYNTAX",l):(a.push(new ht(s.getScope(),l.num)),r.consume(),this.actions=Xi);continue;case Zi.EXPR_PREFIX:a.push(-l.type),r.consume();continue;case Zi.EXPR_INFIX:this.actions=Wi,this.exprStackReduce(l.type,l),a.push(l.type),r.consume();continue;case Zi.EXPR_INFIX_NAME:"and"==l.text.toLowerCase()?(this.actions=Wi,this.exprStackReduce(Qi,l),a.push(Qi),r.consume()):this.exprError("E_CSS_SYNTAX",l);continue;case Zi.EXPR_C_PAR:this.exprStackReduce(l.type,l)&&(this.propName?this.actions=Gi:this.exprError("E_CSS_UNBALANCED_PAR",l)),r.consume();continue;case Zi.EXPR_O_BRC:this.exprStackReduce(On.C_PAR,l)&&(this.propName||this.exprContext==Ji.IMPORT?this.exprError("E_CSS_UNEXPECTED_BRC",l):(this.exprContext==Ji.WHEN?s.startWhenRule(a.pop()):s.startMediaRule(a.pop()),this.ruleStack.push("media"),s.startRuleBody(),this.actions=Mi)),r.consume();continue;case Zi.EXPR_SEMICOL:if(this.exprStackReduce(On.C_PAR,l)){if(!this.propName&&this.exprContext==Ji.IMPORT)return this.importCondition=a.pop(),this.importReady=!0,this.actions=Mi,r.consume(),!1;this.exprError("E_CSS_UNEXPECTED_SEMICOL",l)}r.consume();continue;case Zi.EXPR_O_PAR:a.push(l.type),r.consume();continue;case Zi.RULE_END:this.actions=Mi,r.consume(),s.endRule(),this.ruleStack.length&&this.ruleStack.pop();continue;case Zi.AT:switch(u=l.text.toLowerCase(),u){case"import":if(r.consume(),l=r.token(),l.type==On.STR||l.type==On.URL){if(this.importURL=l.text,r.consume(),l=r.token(),l.type==On.SEMICOL||l.type==On.EOF)return this.importReady=!0,r.consume(),!1;this.propName=null,this.exprContext=Ji.IMPORT,this.actions=Wi,a.push("{");continue}s.error("E_CSS_IMPORT_SYNTAX",l),this.actions=ji;continue;case"namespace":switch(r.consume(),l=r.token(),l.type){case On.IDENT:if(u=l.text,r.consume(),l=r.token(),(l.type==On.STR||l.type==On.URL)&&r.nthToken(1).type==On.SEMICOL){this.namespacePrefixToURI[u]=l.text,r.consume(),r.consume();continue}break;case On.STR:case On.URL:if(r.nthToken(1).type==On.SEMICOL){this.defaultNamespaceURI=l.text,r.consume(),r.consume();continue}}s.error("E_CSS_NAMESPACE_SYNTAX",l),this.actions=ji;continue;case"charset":if(r.consume(),l=r.token(),l.type==On.STR&&r.nthToken(1).type==On.SEMICOL){u=l.text.toLowerCase(),"utf-8"!=u&&"utf-16"!=u&&s.error(`E_CSS_UNEXPECTED_CHARSET ${u}`,l),r.consume(),r.consume();continue}s.error("E_CSS_CHARSET_SYNTAX",l),this.actions=ji;continue;case"font-face":case"-epubx-page-template":case"-epubx-define":case"-epubx-viewport":if(r.nthToken(1).type==On.O_BRC){switch(r.consume(),r.consume(),u){case"font-face":s.startFontFaceRule();break;case"-epubx-page-template":s.startPageTemplateRule();break;case"-epubx-define":s.startDefineRule();break;case"-epubx-viewport":s.startViewportRule()}this.ruleStack.push(u),s.startRuleBody();continue}break;case"-adapt-footnote-area":switch(r.consume(),l=r.token(),l.type){case On.O_BRC:r.consume(),s.startFootnoteRule(null),this.ruleStack.push(u),s.startRuleBody();continue;case On.COL_COL:if(r.consume(),l=r.token(),l.type==On.IDENT&&r.nthToken(1).type==On.O_BRC){u=l.text,r.consume(),r.consume(),s.startFootnoteRule(u),this.ruleStack.push("-adapt-footnote-area"),s.startRuleBody();continue}}break;case"-epubx-region":r.consume(),s.startRegionRule(),this.regionRule=!0,this.actions=$i;continue;case"page":r.consume(),s.startPageRule(),this.pageRule=!0,this.actions=Hi;continue;case"top-left-corner":case"top-left":case"top-center":case"top-right":case"top-right-corner":case"right-top":case"right-middle":case"right-bottom":case"bottom-right-corner":case"bottom-right":case"bottom-center":case"bottom-left":case"bottom-left-corner":case"left-bottom":case"left-middle":case"left-top":if(r.consume(),l=r.token(),l.type==On.O_BRC){r.consume(),s.startPageMarginBoxRule(u),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-when":r.consume(),this.propName=null,this.exprContext=Ji.WHEN,this.actions=Wi,a.push("{");continue;case"media":r.consume(),this.propName=null,this.exprContext=Ji.MEDIA,this.actions=Wi,a.push("{");continue;case"-epubx-flow":if(r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.O_BRC){s.startFlowRule(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),this.ruleStack.push(u),s.startRuleBody();continue}break;case"-epubx-page-master":case"-epubx-partition":case"-epubx-partition-group":{r.consume(),l=r.token();let e=null,t=null;const n=[];for(l.type==On.IDENT&&(e=l.text,r.consume(),l=r.token()),l.type==On.COLON&&r.nthToken(1).type==On.IDENT&&(t=r.nthToken(1).text,r.consume(),r.consume(),l=r.token());l.type==On.FUNC&&"class"==l.text.toLowerCase()&&r.nthToken(1).type==On.IDENT&&r.nthToken(2).type==On.C_PAR;)n.push(r.nthToken(1).text),r.consume(),r.consume(),r.consume(),l=r.token();if(l.type==On.O_BRC){switch(r.consume(),u){case"-epubx-page-master":s.startPageMasterRule(e,t,n);break;case"-epubx-partition":s.startPartitionRule(e,t,n);break;case"-epubx-partition-group":s.startPartitionGroupRule(e,t,n)}this.ruleStack.push(u),s.startRuleBody();continue}break}case"":s.error(`E_CSS_UNEXPECTED_AT${u}`,l),this.actions=Yi;continue;default:s.error(`E_CSS_AT_UNKNOWN ${u}`,l),this.actions=ji;continue}s.error(`E_CSS_AT_SYNTAX ${u}`,l),this.actions=ji;continue;case Zi.ERROR_PUSH:if(t||n)return!0;this.errorBrackets.push(l.type+1),r.consume();continue;case Zi.ERROR_POP_DECL:if(t||n)return!0;if(0==this.errorBrackets.length){this.actions=Mi;continue}case Zi.ERROR_POP:this.errorBrackets.length>0&&this.errorBrackets[this.errorBrackets.length-1]==l.type&&this.errorBrackets.pop(),0==this.errorBrackets.length&&l.type==On.C_BRC&&(this.actions=Mi),r.consume();continue;case Zi.ERROR_SEMICOL:if(t||n)return!0;0==this.errorBrackets.length&&(this.actions=Mi),r.consume();continue;case Zi.DONE:return o&&(r.consume(),s.endFuncWithSelector()),!0;default:if(t||n)return!0;if(i)return!!this.exprStackReduce(On.C_PAR,l)&&(this.result=a.pop(),!0);if(o)return l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),!1;if(this.actions===Gi&&r.hasMark()){r.reset(),this.actions=$i,s.startSelectorRule();continue}if(this.actions!==ji&&this.actions!==Yi&&this.actions!==Ki){l.type==On.INVALID?s.error(l.text,l):s.error("E_CSS_SYNTAX",l),this.isInsidePropertyOnlyRule()?this.actions=Ki:this.actions=Yi;continue}r.consume();continue}return!1}}class to extends Fi{constructor(e){super(null),this.scope=e}error(e,t){throw new Error(e)}getScope(){return this.scope}}function no(e,t,n,i,o){return fi("parseStylesheetFromText",s=>{(function(e,t,n,i,o){const s=di("parseStylesheet"),r=new eo(Mi,e,t,n);let a=null;return o&&(a=function(e,t,n){const i=new eo(Wi,e,t,n);return i.runParser(Number.POSITIVE_INFINITY,!1,!1,!0,!1),i.result}(new li(o,t),t,n)),a=r.makeCondition(i,a&&a.toExpr()),a&&(t.startMediaRule(a),t.startRuleBody()),s.loop(()=>{for(;!r.runParser(100,!1,!1,!1,!1);){if(r.importReady){const e=k(r.importURL,n);r.importCondition&&(t.startMediaRule(r.importCondition),t.startRuleBody());const i=di("parseStylesheet.import");return io(e,t,null,null).then(()=>{r.importCondition&&t.endRule(),r.importReady=!1,r.importURL=null,r.importCondition=null,i.finish(!0)}),i.result()}const e=s.timeSlice();if(e.isPending)return e}return pi(!1)}).then(()=>{a&&t.endRule(),s.finish(!0)}),s.result()})(new li(e,t),t,n,i,o).thenFinish(s)},(t,n)=>{c.warn(n,`Failed to parse stylesheet text: ${e}`),t.finish(!1)})}function io(e,t,n,i){return fi("parseStylesheetFromURL",o=>{Ai(e).then(s=>{s.responseText?no(s.responseText,t,e,n,i).then(t=>{t||c.warn(`Failed to parse stylesheet from ${e}`),o.finish(!0)}):o.finish(!0)})},(t,n)=>{c.warn(n,"Exception while fetching and parsing:",e),t.finish(!0)})}function oo(e,t,n){const i=new eo(Gi,t,new to(e),n);return i.runParser(Number.POSITIVE_INFINITY,!0,!1,!1,!1),i.result}const so={"z-index":!0,"column-count":!0,"flow-linger":!0,opacity:!0,page:!0,"flow-priority":!0,utilization:!0};function ro(e,t,n){return t.isExpr()?function(e,t,n){const i=t.evaluate(e);switch(typeof i){case"number":return function(e){return!!so[e]}(n)?i==Math.round(i)?new Pt(i):new It(i):new xt(i,"px");case"string":return i?oo(t.scope,new li(i,null),""):Et;case"boolean":return i?Mt._true:Mt._false;case"undefined":return Et}throw new Error("E_UNEXPECTED")}(e,t.expr,n):t}function ao(e,t,n){return e-=n,0===t?0===e:e%t==0&&e/t>=0}class lo{constructor(e){this.matchers=e}matches(){return this.matchers.some(e=>e.matches())}}class ho{constructor(e){this.matchers=e}matches(){return this.matchers.every(e=>e.matches())}}class co{constructor(e,t,n){this.elementOffset=e,this.a=t,this.b=n}static registerFragmentIndex(e,t,n){const i=co.fragmentIndices;(!i[e]||i[e].priority<=n)&&(i[e]={fragmentIndex:t,priority:n})}static clearFragmentIndices(){co.fragmentIndices={}}matches(){const e=co.fragmentIndices[this.elementOffset];return null!=e&&null!=e.fragmentIndex&&ao(e.fragmentIndex,this.a,this.b)}}co.fragmentIndices={};class uo{static buildViewConditionMatcher(e,t){const n=t.split("_");return"NFS"==n[0]?new co(e,parseInt(n[1],10),parseInt(n[2],10)):null}static buildAllMatcher(e){return new ho(e)}static buildAnyMatcher(e){return new lo(e)}}const po={azimuth:!0,"border-collapse":!0,"border-spacing":!0,"caption-side":!0,"clip-rule":!0,color:!0,"color-interpolation":!0,"color-rendering":!0,cursor:!0,direction:!0,elevation:!0,"empty-cells":!0,fill:!0,"fill-opacity":!0,"fill-rule":!0,"font-kerning":!0,"font-size":!0,"font-size-adjust":!0,"font-family":!0,"font-feature-settings":!0,"font-style":!0,"font-stretch":!0,"font-variant":!0,"font-weight":!0,"glyph-orientation-vertical":!0,hyphens:!0,"hyphenate-character":!0,"hyphenate-limit-chars":!0,"hyphenate-limit-last":!0,"image-rendering":!0,"image-resolution":!0,"letter-spacing":!0,"line-break":!0,"line-height":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,marker:!0,"marker-end":!0,"marker-mid":!0,"marker-start":!0,orphans:!0,"overflow-wrap":!0,"paint-order":!0,"pointer-events":!0,"pitch-range":!0,quotes:!0,richness:!0,"ruby-align":!0,"ruby-position":!0,"speak-header":!0,"speak-numeral":!0,"speak-punctuation":!0,"speech-rate":!0,"shape-rendering":!0,stress:!0,stroke:!0,"stroke-dasharray":!0,"stroke-dashoffset":!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-miterlimit":!0,"stroke-opacity":!0,"stroke-width":!0,"tab-size":!0,"text-align":!0,"text-align-last":!0,"text-anchor":!0,"text-decoration-skip":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-combine-upright":!0,"text-indent":!0,"text-justify":!0,"text-rendering":!0,"text-size-adjust":!0,"text-transform":!0,"text-underline-position":!0,visibility:!0,"voice-family":!0,volume:!0,"white-space":!0,widows:!0,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"writing-mode":!0},fo=["box-decoration-break","image-resolution","orphans","widows"];const go={"http://www.idpf.org/2007/ops":!0,"http://www.w3.org/1999/xhtml":!0,"http://www.w3.org/2000/svg":!0},mo=["margin-%","padding-%","border-%-width","border-%-style","border-%-color","%"],bo=["max-%","min-%","%"],wo=(()=>{const e=["left","right","top","bottom"],t={width:!0,height:!0,"max-width":!0,"max-height":!0,"min-width":!0,"min-height":!0};for(let n=0;n<mo.length;n++)for(let i=0;i<e.length;i++)t[mo[n].replace("%",e[i])]=!0;return t})();function Eo(e,t){const n={};for(const t of mo)for(const i in e){const o=t.replace("%",i),s=t.replace("%",e[i]);n[o]=s,n[s]=o}for(const e of bo)for(const i in t){const o=e.replace("%",i),s=e.replace("%",t[i]);n[o]=s,n[s]=o}return n}const yo=Eo({"block-start":"right","block-end":"left","inline-start":"top","inline-end":"bottom"},{"block-size":"width","inline-size":"height"}),So=Eo({"block-start":"top","block-end":"bottom","inline-start":"left","inline-end":"right"},{"block-size":"height","inline-size":"width"}),No=Eo({"block-start":"right","block-end":"left","inline-start":"bottom","inline-end":"top"},{"block-size":"width","inline-size":"height"}),vo=Eo({"block-start":"top","block-end":"bottom","inline-start":"right","inline-end":"left"},{"block-size":"height","inline-size":"width"});class Co{constructor(e,t){this.value=e,this.priority=t}getBaseValue(){return this}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new Co(t,this.priority)}increaseSpecificity(e){return 0==e?this:new Co(this.value,this.priority+e)}evaluate(e,t){return ro(e,this.value,t)}isEnabled(e){return!0}}class To extends Co{constructor(e,t,n){super(e,t),this.condition=n}getBaseValue(){return new Co(this.value,this.priority)}filterValue(e){const t=this.value.visit(e);return t===this.value?this:new To(t,this.priority,this.condition)}increaseSpecificity(e){return 0==e?this:new To(this.value,this.priority+e,this.condition)}isEnabled(e){return!!this.condition.evaluate(e)}}function xo(e,t,n){return(null==t||n.priority>t.priority)&&n.isEnabled(e)?n.getBaseValue():t}const Io={"region-id":!0,"fragment-selector-id":!0};function Po(e){return!!Io[e]}function Ao(e){return"_"!=e.charAt(0)&&!Io[e]}function Oo(e){return!!po[e]}function Ro(e,t){return e[t]}function ko(e,t,n){n?e[t]=n:delete e[t]}function Lo(e,t){return e[t]}function Fo(e,t){let n=e[t];return n||(n={},e[t]=n),n}const Do=e=>{let t=e._viewConditionalStyles;return t||(t=[],e._viewConditionalStyles=t),t};function _o(e,t){return e[t]}function Bo(e,t){let n=e[t];return n||(n=[],e[t]=n),n}function Mo(e,t,n,i,o,s,r){if([{id:o,styleKey:"_pseudos"},{id:s,styleKey:"_regions"}].forEach(e=>{if(e.id){const n=Fo(t,e.styleKey);(t=n[e.id])||(t={},n[e.id]=t)}}),r){const e=Do(t);t={},e.push({styles:t,matcher:r})}for(const o in n)if("_"!=o.charAt(0))if(Po(o)){const e=_o(n,o),i=Bo(t,o);Array.prototype.push.apply(i,e)}else{const s=Ro(n,o).increaseSpecificity(i),r=Ro(t,o);ko(t,o,xo(e,r,s))}}function Uo(e,t){if(e.length>0){e.sort((e,t)=>t.getPriority()-e.getPriority());let n=null;for(let i=e.length-1;i>=0;i--)n=e[i],n.chained=t,t=n;return n}return t}class zo extends mt{constructor(e,t){super(),this.props=e,this.context=t,this.propName=""}setPropName(e){this.propName=e}getFontSize(){const e=Ro(this.props,"font-size").value;if(!function(e){switch(e.toLowerCase()){case"px":case"in":case"pt":case"pc":case"cm":case"mm":case"q":return!0;default:return!1}}(e.unit))throw new Error("Unexpected state");return e.num*Pe[e.unit]}visitNumeric(e){if(this.context,"font-size"===this.propName)return function(e,t,n){const i=(e=Vo(e,t,n)).unit,o=e.num;return"px"===i?e:new xt("%"===i?o/100*t:o*n.queryUnitSize(i,!1),"px")}(e,this.getFontSize(),this.context);if("em"==e.unit||"ex"==e.unit||"rem"==e.unit)return Vo(e,this.getFontSize(),this.context);if("%"==e.unit){if("line-height"===this.propName)return e;const t=this.propName.match(/height|^(top|bottom)$/)?"vh":"vw";return new xt(e.num,t)}return e}visitExpr(e){return"font-size"==this.propName?ro(this.context,e,this.propName).visit(this):e}}function Vo(e,t,n){const i=e.unit,o=e.num;return"em"===i||"ex"===i?new xt(o*(Pe[i]/Pe.em)*t,"px"):"rem"===i?new xt(o*n.fontSize(),"px"):e}class Ho{apply(e){}mergeWith(e){return new Go([this,e])}clone(){return this}}class $o extends Ho{constructor(e){super(),this.conditionItem=e}apply(e){e.pushConditionItem(this.conditionItem.fresh(e))}}class Go extends Ho{constructor(e){super(),this.list=e}apply(e){for(let t=0;t<this.list.length;t++)this.list[t].apply(e)}mergeWith(e){return this.list.push(e),this}clone(){return new Go([].concat(this.list))}}class Wo extends Ho{constructor(e,t,n,i,o){super(),this.style=e,this.specificity=t,this.pseudoelement=n,this.regionId=i,this.viewConditionId=o}apply(e){Mo(e.context,e.currentStyle,this.style,this.specificity,this.pseudoelement,this.regionId,e.buildViewConditionMatcher(this.viewConditionId))}}class Xo extends Ho{constructor(){super(),this.chained=null}apply(e){this.chained.apply(e)}getPriority(){return 0}makePrimary(e){return!1}}class jo extends Xo{constructor(e){super(),this.className=e}apply(e){e.currentClassNames.includes(this.className)&&this.chained.apply(e)}getPriority(){return 10}makePrimary(e){return this.chained&&e.insertInTable(e.classes,this.className,this.chained),!0}}class Ko extends Xo{constructor(e){super(),this.id=e}apply(e){e.currentId!=this.id&&e.currentXmlId!=this.id||this.chained.apply(e)}getPriority(){return 11}makePrimary(e){return this.chained&&e.insertInTable(e.ids,this.id,this.chained),!0}}class Yo extends Xo{constructor(e){super(),this.localName=e}apply(e){e.currentLocalName==this.localName&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){return this.chained&&e.insertInTable(e.tags,this.localName,this.chained),!0}}class qo extends Xo{constructor(e,t){super(),this.ns=e,this.localName=t}apply(e){e.currentLocalName==this.localName&&e.currentNamespace==this.ns&&this.chained.apply(e)}getPriority(){return 8}makePrimary(e){if(this.chained){let t=e.nsPrefix[this.ns];t||(t=`ns${e.nsCount++}:`,e.nsPrefix[this.ns]=t);const n=t+this.localName;e.insertInTable(e.nstags,n,this.chained)}return!0}}class Zo extends Xo{constructor(e){super(),this.epubTypePatt=e}apply(e){const t=e.currentElement;if(t&&"a"==e.currentLocalName){const n=t.getAttribute("href");if(n&&n.match(/^#/)){const i=n.substring(1),o=t.ownerDocument.getElementById(i);if(o){const t=o.getAttributeNS(F.epub,"type");t&&t.match(this.epubTypePatt)&&this.chained.apply(e)}}}}}class Qo extends Xo{constructor(e){super(),this.ns=e}apply(e){e.currentNamespace==this.ns&&this.chained.apply(e)}}class Jo extends Xo{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){e.currentElement&&e.currentElement.hasAttributeNS(this.ns,this.name)&&this.chained.apply(e)}}class es extends Xo{constructor(e,t,n){super(),this.ns=e,this.name=t,this.value=n}apply(e){e.currentElement&&e.currentElement.getAttributeNS(this.ns,this.name)==this.value&&this.chained.apply(e)}getPriority(){return"type"==this.name&&this.ns==F.epub?9:0}makePrimary(e){return"type"==this.name&&this.ns==F.epub&&(this.chained&&e.insertInTable(e.epubtypes,this.value,this.chained),!0)}}class ts extends Xo{constructor(e,t){super(),this.ns=e,this.name=t}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&go[t]&&this.chained.apply(e)}}getPriority(){return 0}makePrimary(e){return!1}}class ns extends Xo{constructor(e,t,n){super(),this.ns=e,this.name=t,this.regexp=n}apply(e){if(e.currentElement){const t=e.currentElement.getAttributeNS(this.ns,this.name);t&&t.match(this.regexp)&&this.chained.apply(e)}}}class is extends Xo{constructor(e){super(),this.langRegExp=e}apply(e){e.lang.match(this.langRegExp)&&this.chained.apply(e)}}class os extends Xo{constructor(){super()}apply(e){e.isFirst&&this.chained.apply(e)}getPriority(){return 6}}class ss extends Xo{constructor(){super()}apply(e){e.isRoot&&this.chained.apply(e)}getPriority(){return 12}}class rs extends Xo{constructor(e,t){super(),this.a=e,this.b=t}matchANPlusB(e){return ao(e,this.a,this.b)}}class as extends rs{constructor(e,t){super(e,t)}apply(e){const t=e.currentSiblingTypeCounts[e.currentNamespace][e.currentLocalName];this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 5}}class ls extends rs{constructor(e,t){super(e,t)}apply(e){let t=e.currentFollowingSiblingOrder;null===t&&(t=e.currentFollowingSiblingOrder=e.currentElement.parentNode.childElementCount-e.currentSiblingOrder+1),this.matchANPlusB(t)&&this.chained.apply(e)}getPriority(){return 4}}class hs extends rs{constructor(e,t){super(e,t)}apply(e){const t=e.currentFollowingSiblingTypeCounts;if(!t[e.currentNamespace]){let n=e.currentElement;do{const e=n.namespaceURI,i=n.localName;let o=t[e];o||(o=t[e]={}),o[i]=(o[i]||0)+1}while(n=n.nextElementSibling)}this.matchANPlusB(t[e.currentNamespace][e.currentLocalName])&&this.chained.apply(e)}getPriority(){return 4}}class cs extends Xo{constructor(){super()}apply(e){let t=e.currentElement.firstChild;for(;t;){switch(t.nodeType){case Node.ELEMENT_NODE:return;case Node.TEXT_NODE:if(t.length>0)return}t=t.nextSibling}this.chained.apply(e)}getPriority(){return 4}}class us extends Xo{constructor(){super()}apply(e){!1===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class ds extends Xo{constructor(){super()}apply(e){!0===e.currentElement.disabled&&this.chained.apply(e)}getPriority(){return 5}}class ps extends Xo{constructor(){super()}apply(e){const t=e.currentElement;!0!==t.selected&&!0!==t.checked||this.chained.apply(e)}getPriority(){return 5}}class fs extends Xo{constructor(e){super(),this.condition=e}apply(e){if(e.conditions[this.condition])try{e.dependentConditions.push(this.condition),this.chained.apply(e)}finally{e.dependentConditions.pop()}}getPriority(){return 5}}class gs extends Ho{constructor(){super(),this.applied=!1}apply(e){this.applied=!0}clone(){const e=new gs;return e.applied=this.applied,e}}class ms extends Xo{constructor(e){super(),this.checkAppliedAction=new gs,this.firstAction=Uo(e,this.checkAppliedAction)}apply(e){this.firstAction.apply(e),this.checkAppliedAction.applied||this.chained.apply(e),this.checkAppliedAction.applied=!1}getPriority(){return this.firstAction.getPriority()}}class bs{constructor(e,t,n){this.condition=e,this.viewConditionId=t,this.viewCondition=n}increment(e){e.increment(this.condition,this.viewCondition)}decrement(e){e.decrement(this.condition,this.viewCondition)}buildViewConditionMatcher(e){return e.buildViewConditionMatcher(this.viewConditionId)}}class ws extends bs{constructor(e,t,n){super(e,t,n)}fresh(e){return new ws(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t&&this.increment(e),!1}pop(e,t){return 0==t&&(this.decrement(e),!0)}}class Es extends bs{constructor(e,t,n){super(e,t,n)}fresh(e){return new Es(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return 0==t?this.increment(e):1==t&&this.decrement(e),!1}pop(e,t){return 0==t?(this.decrement(e),!0):(1==t&&this.increment(e),!1)}}class ys extends bs{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new ys(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return!!this.fired&&(this.decrement(e),!0)}pop(e,t){return this.fired?(this.decrement(e),!0):(0==t&&(this.fired=!0,this.increment(e)),!1)}}class Ss extends bs{constructor(e,t,n){super(e,t,n),this.fired=!1}fresh(e){return new Ss(this.condition,this.viewConditionId,this.buildViewConditionMatcher(e))}push(e,t){return this.fired&&(-1==t?this.increment(e):0==t&&this.decrement(e)),!1}pop(e,t){if(this.fired){if(-1==t)return this.decrement(e),!0;0==t&&this.increment(e)}else 0==t&&(this.fired=!0,this.increment(e));return!1}}class Ns{constructor(e,t){this.afterprop=e,this.element=t}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.processPseudoelementProps(this.afterprop,this.element),!0)}}class vs{constructor(e){this.lang=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.lang=this.lang,!0)}}class Cs{constructor(e){this.oldQuotes=e}fresh(e){return this}push(e,t){return!1}pop(e,t){return 0==t&&(e.quotes=this.oldQuotes,!0)}}class Ts extends mt{constructor(e){super(),this.element=e}createValueFromString(e,t){switch(t){case"url":return new Ot(e||"about:invalid");case"string":default:return new Nt(e||"")}}visitFunc(e){if("attr"!==e.name)return super.visitFunc(e);let t="string",n=null,i=null;if(e.values[0]instanceof kt){const i=e.values[0].values;i.length>=2&&(t=i[1].stringValue()),n=i[0].stringValue()}else n=e.values[0].stringValue();return i=e.values.length>1?this.createValueFromString(e.values[1].stringValue(),t):this.createValueFromString(null,t),this.element&&this.element.hasAttribute(n)?this.createValueFromString(this.element.getAttribute(n),t):i}}class xs extends mt{constructor(e,t,n){super(),this.cascade=e,this.element=t,this.counterResolver=n}visitIdent(e){const t=this.cascade,n=t.quotes,i=Math.floor(n.length/2)-1;switch(e.name){case"open-quote":{const e=n[2*Math.min(i,t.quoteDepth)];return t.quoteDepth++,e}case"close-quote":return t.quoteDepth>0&&t.quoteDepth--,n[2*Math.min(i,t.quoteDepth)+1];case"no-open-quote":return t.quoteDepth++,new Nt("");case"no-close-quote":return t.quoteDepth>0&&t.quoteDepth--,new Nt("")}return e}format(e,t){let n,i=!1,o=!1;null!=(n=t.match(/^upper-(.*)/))?(i=!0,t=n[1]):null!=(n=t.match(/^lower-(.*)/))&&(o=!0,t=n[1]);let s="";return Is[t]?s=function(e,t){if(t>e[0]||t<=0||t!=Math.round(t))return"";let n="";for(let i=1;i<e.length;i+=2){const o=e[i];let s=Math.floor(t/o);if(s>20)return"";for(t-=s*o;s>0;)n+=e[i+1],s--}return n}(Is[t],e):Ps[t]?s=function(e,t){if(t<=0||t!=Math.round(t))return"";const n=function(e){const t=[];let n=0;for(;n<e.length;)if("-"==e.substr(n+1,1)){const i=e.charCodeAt(n),o=e.charCodeAt(n+2);n+=3;for(let e=i;e<=o;e++)t.push(String.fromCharCode(e))}else t.push(e.substr(n++,1));return t}(e);let i="";do{const e=--t%n.length;i=n[e]+i,t=(t-e)/n.length}while(t>0);return i}(Ps[t],e):null!=As[t]?s=As[t]:"decimal-leading-zero"==t?(s=`${e}`,1==s.length&&(s=`0${s}`)):s="cjk-ideographic"==t||"trad-chinese-informal"==t?function(e,t){if(e>9999||e<-9999)return`${e}`;if(0==e)return t.digits.charAt(0);const n=new G;if(e<0&&(n.append(t.negative),e=-e),e<10)n.append(t.digits.charAt(e));else if(!t.formal&&e<=19)n.append(t.markers.charAt(0)),0!=e&&n.append(t.digits.charAt(e-10));else{const i=Math.floor(e/1e3);i&&(n.append(t.digits.charAt(i)),n.append(t.markers.charAt(2)));const o=Math.floor(e/100)%10;o&&(n.append(t.digits.charAt(o)),n.append(t.markers.charAt(1)));const s=Math.floor(e/10)%10;s&&(n.append(t.digits.charAt(s)),n.append(t.markers.charAt(0)));const r=e%10;r&&n.append(t.digits.charAt(r))}return n.toString()}(e,Os):`${e}`,i?s.toUpperCase():o?s.toLowerCase():s}visitFuncCounter(e){const t=e[0].toString(),n=e.length>1?e[1].stringValue():"decimal",i=this.cascade.counters[t];if(i&&i.length){const e=i&&i.length&&i[i.length-1]||0;return new Nt(this.format(e,n))}{const e=this,i=new Dt(this.counterResolver.getPageCounterVal(t,t=>e.format(t||0,n)));return new kt([i])}}visitFuncCounters(e){const t=e[0].toString(),n=e[1].stringValue(),i=e.length>2?e[2].stringValue():"decimal",o=this.cascade.counters[t],s=new G;if(o&&o.length)for(let e=0;e<o.length;e++)e>0&&s.append(n),s.append(this.format(o[e],i));const r=this,a=new Dt(this.counterResolver.getPageCountersVal(t,e=>{const t=[];if(e.length)for(let n=0;n<e.length;n++)t.push(r.format(e[n],i));const o=s.toString();return o.length&&t.push(o),t.length?t.join(n):r.format(0,i)}));return new kt([a])}visitFuncTargetCounter(e){const t=e[0];let n;n=t instanceof Ot?t.url:t.stringValue();const i=e[1].toString(),o=e.length>2?e[2].stringValue():"decimal",s=this,r=new Dt(this.counterResolver.getTargetCounterVal(n,i,e=>s.format(e||0,o)));return new kt([r])}visitFuncTargetCounters(e){const t=e[0];let n;n=t instanceof Ot?t.url:t.stringValue();const i=e[1].toString(),o=e[2].stringValue(),s=e.length>3?e[3].stringValue():"decimal",r=this,a=new Dt(this.counterResolver.getTargetCountersVal(n,i,e=>{const t=e.map(e=>r.format(e,s));return t.length?t.join(o):r.format(0,s)}));return new kt([a])}visitFunc(e){switch(e.name){case"counter":if(e.values.length<=2)return this.visitFuncCounter(e.values);break;case"counters":if(e.values.length<=3)return this.visitFuncCounters(e.values);break;case"target-counter":if(e.values.length<=3)return this.visitFuncTargetCounter(e.values);break;case"target-counters":if(e.values.length<=4)return this.visitFuncTargetCounters(e.values)}return c.warn("E_CSS_CONTENT_PROP:",e.toString()),new Nt("")}}const Is={roman:[4999,1e3,"M",900,"CM",500,"D",400,"CD",100,"C",90,"XC",50,"L",40,"XL",10,"X",9,"IX",5,"V",4,"IV",1,"I"],armenian:[9999,9e3,"ք",8e3,"փ",7e3,"ւ",6e3,"ց",5e3,"ր",4e3,"տ",3e3,"վ",2e3,"ս",1e3,"ռ",900,"ջ",800,"պ",700,"չ",600,"ո",500,"շ",400,"ն",300,"յ",200,"մ",100,"ճ",90,"ղ",80,"ձ",70,"հ",60,"կ",50,"ծ",40,"խ",30,"լ",20,"ի",10,"ժ",9,"թ",8,"ը",7,"է",6,"զ",5,"ե",4,"դ",3,"գ",2,"բ",1,"ա"],georgian:[19999,1e4,"ჵ",9e3,"ჰ",8e3,"ჯ",7e3,"ჴ",6e3,"ხ",5e3,"ჭ",4e3,"წ",3e3,"ძ",2e3,"ც",1e3,"ჩ",900,"შ",800,"ყ",700,"ღ",600,"ქ",500,"ფ",400,"ჳ",300,"ტ",200,"ს",100,"რ",90,"ჟ",80,"პ",70,"ო",60,"ჲ",50,"ნ",40,"მ",30,"ლ",20,"კ",10,"ი",9,"თ",8,"ჱ",7,"ზ",6,"ვ",5,"ე",4,"დ",3,"გ",2,"ბ",1,"ა"],hebrew:[999,400,"ת",300,"ש",200,"ר",100,"ק",90,"צ",80,"פ",70,"ע",60,"ס",50,"נ",40,"מ",30,"ל",20,"כ",19,"יט",18,"יח",17,"יז",16,"טז",15,"טו",10,"י",9,"ט",8,"ח",7,"ז",6,"ו",5,"ה",4,"ד",3,"ג",2,"ב",1,"א"]},Ps={latin:"a-z",alpha:"a-z",greek:"α-ρσ-ω",russian:"а-ик-щэ-я"},As={square:"■",disc:"•",circle:"◦",none:""},Os={formal:!1,digits:"零一二三四五六七八九",markers:"十百千",negative:"負"};function Rs(e,t){for(const n in e)t[n]=e[n].clone()}class ks{constructor(){this.nsCount=0,this.nsPrefix={},this.tags={},this.nstags={},this.epubtypes={},this.classes={},this.ids={},this.pagetypes={},this.order=0}clone(){const e=new ks;e.nsCount=this.nsCount;for(const t in this.nsPrefix)e.nsPrefix[t]=this.nsPrefix[t];return Rs(this.tags,e.tags),Rs(this.nstags,e.nstags),Rs(this.epubtypes,e.epubtypes),Rs(this.classes,e.classes),Rs(this.ids,e.ids),Rs(this.pagetypes,e.pagetypes),e.order=this.order,e}insertInTable(e,t,n){const i=e[t];i&&(n=i.mergeWith(n)),e[t]=n}createInstance(e,t,n,i){return new Ls(this,e,t,n,i)}nextOrder(){return this.order+=1/1048576}}class Ls{constructor(e,t,n,i,o){this.context=t,this.counterListener=n,this.counterResolver=i,this.stack=[[],[]],this.conditions={},this.currentElement=null,this.currentElementOffset=null,this.currentStyle=null,this.currentClassNames=null,this.currentLocalName="",this.currentNamespace="",this.currentId="",this.currentXmlId="",this.currentNSTag="",this.currentEpubTypes=null,this.currentPageType=null,this.isFirst=!0,this.isRoot=!0,this.counters={},this.counterScoping=[{}],this.quoteDepth=0,this.lang="",this.siblingOrderStack=[0],this.currentSiblingOrder=0,this.siblingTypeCountsStack=[{}],this.currentFollowingSiblingOrder=null,this.followingSiblingTypeCountsStack=[{}],this.viewConditions={},this.dependentConditions=[],this.code=e,this.quotes=[new Nt("“"),new Nt("”"),new Nt("‘"),new Nt("’")],this.currentSiblingTypeCounts=this.siblingTypeCountsStack[0],this.followingSiblingOrderStack=[this.currentFollowingSiblingOrder],this.currentFollowingSiblingTypeCounts=this.siblingTypeCountsStack[0]}pushConditionItem(e){this.stack[this.stack.length-1].push(e)}increment(e,t){this.conditions[e]=(this.conditions[e]||0)+1,t&&(this.viewConditions[e]?this.viewConditions[e].push(t):this.viewConditions[e]=[t])}decrement(e,t){this.conditions[e]--,this.viewConditions[e]&&(this.viewConditions[e]=this.viewConditions[e].filter(e=>e!==t),0===this.viewConditions[e].length&&delete this.viewConditions[e])}buildViewConditionMatcher(e){let t=null;e&&(this.currentElementOffset,t=uo.buildViewConditionMatcher(this.currentElementOffset,e));const n=this.dependentConditions.map(e=>{const t=this.viewConditions[e];return t&&t.length>0?1===t.length?t[0]:uo.buildAnyMatcher([].concat(t)):null}).filter(e=>e);return n.length<=0?t:null===t?1===n.length?n[0]:uo.buildAllMatcher(n):uo.buildAllMatcher([t].concat(n))}applyAction(e,t){const n=e[t];n&&n.apply(this)}pushRule(e,t,n){this.currentElement=null,this.currentElementOffset=null,this.currentStyle=n,this.currentNamespace="",this.currentLocalName="",this.currentId="",this.currentXmlId="",this.currentClassNames=e,this.currentNSTag="",this.currentEpubTypes=Fs,this.currentPageType=t,this.applyActions()}defineCounter(e,t){this.counters[e]?this.counters[e].push(t):this.counters[e]=[t];let n=this.counterScoping[this.counterScoping.length-1];n||(n={},this.counterScoping[this.counterScoping.length-1]=n),n[e]=!0}pushCounters(e){let t=Mt.inline;const n=e.display;n&&(t=n.evaluate(this.context));let i=null,o=null,s=null;const r=e["counter-reset"];if(r){const e=r.evaluate(this.context);e&&(i=En(e,!0))}const a=e["counter-set"];if(a){const e=a.evaluate(this.context);e&&(s=En(e,!1))}const l=e["counter-increment"];if(l){const e=l.evaluate(this.context);e&&(o=En(e,!1))}if("ol"!=this.currentLocalName&&"ul"!=this.currentLocalName||this.currentNamespace!=F.XHTML||(i||(i={}),i["ua-list-item"]=0),t===Mt.list_item&&(o||(o={}),o["ua-list-item"]=1),i)for(const e in i)this.defineCounter(e,i[e]);if(s)for(const e in s)if(this.counters[e]){const t=this.counters[e];t[t.length-1]=s[e]}else this.defineCounter(e,s[e]);if(o)for(const e in o){this.counters[e]||this.defineCounter(e,0);const t=this.counters[e];t[t.length-1]+=o[e]}if(t===Mt.list_item){const t=this.counters["ua-list-item"],n=t[t.length-1];e["ua-list-item-count"]=new Co(new It(n),0)}this.counterScoping.push(null)}popCounters(){const e=this.counterScoping.pop();if(e)for(const t in e){const e=this.counters[t];e&&(1==e.length?delete this.counters[t]:e.pop())}}processPseudoelementProps(e,t){this.pushCounters(e),e.content&&(e.content=e.content.filterValue(new xs(this,t,this.counterResolver))),this.popCounters()}pushElement(e,t,n){this.currentPageType=null,this.currentElement=e,this.currentElementOffset=n,this.currentStyle=t,this.currentNamespace=e.namespaceURI,this.currentLocalName=e.localName;const i=this.code.nsPrefix[this.currentNamespace];this.currentNSTag=i?i+this.currentLocalName:"",this.currentId=e.getAttribute("id"),this.currentXmlId=e.getAttributeNS(F.XML,"id");const o=e.getAttribute("class");this.currentClassNames=o?o.split(/\s+/):Fs;const s=e.getAttributeNS(F.epub,"type");if(this.currentEpubTypes=s?s.split(/\s+/):Fs,"style"==this.currentLocalName&&this.currentNamespace==F.FB2){const t=e.getAttribute("name")||"";this.currentClassNames=[t]}const r=$(e);r&&(this.stack[this.stack.length-1].push(new vs(this.lang)),this.lang=r.toLowerCase());const a=this.isRoot,l=this.siblingOrderStack;this.currentSiblingOrder=++l[l.length-1],l.push(0);const h=this.siblingTypeCountsStack,c=this.currentSiblingTypeCounts=h[h.length-1];let u=c[this.currentNamespace];u||(u=c[this.currentNamespace]={}),u[this.currentLocalName]=(u[this.currentLocalName]||0)+1,h.push({});const d=this.followingSiblingOrderStack;null!==d[d.length-1]?this.currentFollowingSiblingOrder=--d[d.length-1]:this.currentFollowingSiblingOrder=null,d.push(null);const p=this.followingSiblingTypeCountsStack,f=this.currentFollowingSiblingTypeCounts=p[p.length-1];f&&f[this.currentNamespace]&&f[this.currentNamespace][this.currentLocalName]--,p.push({}),this.applyActions(),this.applyAttrFilter(e);const g=t.quotes;let m=null;if(g){const e=g.evaluate(this.context);e&&(m=new Cs(this.quotes),e===Mt.none?this.quotes=[new Nt(""),new Nt("")]:e instanceof kt&&(this.quotes=e.values))}this.pushCounters(this.currentStyle);const b=this.currentId||this.currentXmlId||e.getAttribute("name")||"";if(a||b){const e={};Object.keys(this.counters).forEach(t=>{e[t]=Array.from(this.counters[t])}),this.counterListener.countersOfId(b,e)}const w=Lo(this.currentStyle,"_pseudos");if(w){let t=!0;for(const n of Ds){n||(t=!1);const i=w[n];i&&(t?this.processPseudoelementProps(i,e):this.stack[this.stack.length-2].push(new Ns(i,e)))}}m&&this.stack[this.stack.length-2].push(m)}applyAttrFilterInner(e,t){for(const n in t)Ao(n)&&(t[n]=t[n].filterValue(e))}applyAttrFilter(e){const t=new Ts(e),n=this.currentStyle,i=Lo(n,"_pseudos");for(const e in i)this.applyAttrFilterInner(t,i[e]);this.applyAttrFilterInner(t,n)}applyActions(){let e;for(e=0;e<this.currentClassNames.length;e++)this.applyAction(this.code.classes,this.currentClassNames[e]);for(e=0;e<this.currentEpubTypes.length;e++)this.applyAction(this.code.epubtypes,this.currentEpubTypes[e]);this.applyAction(this.code.ids,this.currentId),this.applyAction(this.code.tags,this.currentLocalName),""!=this.currentLocalName&&this.applyAction(this.code.tags,"*"),this.applyAction(this.code.nstags,this.currentNSTag),null!==this.currentPageType&&(this.applyAction(this.code.pagetypes,this.currentPageType),this.applyAction(this.code.pagetypes,"*")),this.currentElement=null,this.currentDoc=null,this.stack.push([]);for(let t=1;t>=-1;--t){const n=this.stack[this.stack.length-t-2];for(e=0;e<n.length;)n[e].push(this,t)?n.splice(e,1):e++}this.isFirst=!0,this.isRoot=!1}pop(){for(let e=1;e>=-1;--e){const t=this.stack[this.stack.length-e-2];let n=0;for(;n<t.length;)t[n].pop(this,e)?t.splice(n,1):n++}this.stack.pop(),this.isFirst=!1}popRule(){this.pop()}popElement(e){this.siblingOrderStack.pop(),this.siblingTypeCountsStack.pop(),this.followingSiblingOrderStack.pop(),this.followingSiblingTypeCountsStack.pop(),this.pop(),this.popCounters()}}const Fs=[],Ds=["before","transclusion-before","footnote-call","footnote-marker","inner","first-letter","first-line","","transclusion-after","after"];var _s;!function(e){e[e.TOP=0]="TOP",e[e.SELECTOR=1]="SELECTOR",e[e.RULE=2]="RULE"}(_s||(_s={}));let Bs=null;class Ms extends Bi{constructor(e,t,n,i,o,s,r){super(e,t,r),this.condition=n,this.regionId=o,this.validatorSet=s,this.chain=null,this.specificity=0,this.elementStyle=null,this.conditionCount=0,this.pseudoelement=null,this.footnoteContent=!1,this.viewConditionId=null,this.cascade=i?i.cascade:Bs?Bs.clone():new ks,this.state=_s.TOP}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.tags,"*",e)}processChain(e){const t=Uo(this.chain,e);t!==e&&t.makePrimary(this.cascade)||this.insertNonPrimary(t)}isInsideSelectorRule(e){return this.state!=_s.TOP&&(this.reportAndSkip(e),!0)}tagSelector(e,t){(t||e)&&(this.specificity+=1,t&&e?this.chain.push(new qo(e,t.toLowerCase())):t?this.chain.push(new Yo(t.toLowerCase())):this.chain.push(new Qo(e)))}classSelector(e){if(this.pseudoelement)return c.warn(`::${this.pseudoelement}`,`followed by .${e}`),void this.chain.push(new fs(""));this.specificity+=256,this.chain.push(new jo(e))}pseudoclassSelector(e,t){if(this.pseudoelement)return c.warn(`::${this.pseudoelement}`,`followed by :${e}`),void this.chain.push(new fs(""));switch(e.toLowerCase()){case"enabled":this.chain.push(new us);break;case"disabled":this.chain.push(new ds);break;case"checked":this.chain.push(new ps);break;case"root":this.chain.push(new ss);break;case"link":this.chain.push(new Yo("a")),this.chain.push(new Jo("","href"));break;case"-adapt-href-epub-type":case"href-epub-type":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0],n=new RegExp(`(^|s)${Z(e)}($|s)`);this.chain.push(new Zo(n))}else this.chain.push(new fs(""));break;case"-adapt-footnote-content":case"footnote-content":this.footnoteContent=!0;break;case"visited":case"active":case"hover":case"focus":this.chain.push(new fs(""));break;case"lang":if(t&&1==t.length&&"string"==typeof t[0]){const e=t[0];this.chain.push(new is(new RegExp(`^${Z(e.toLowerCase())}($|-)`)))}else this.chain.push(new fs(""));break;case"nth-child":case"nth-last-child":case"nth-of-type":case"nth-last-of-type":{const n=Us[e.toLowerCase()];t&&2==t.length?this.chain.push(new n(t[0],t[1])):this.chain.push(new fs(""));break}case"first-child":this.chain.push(new os);break;case"last-child":this.chain.push(new ls(0,1));break;case"first-of-type":this.chain.push(new as(0,1));break;case"last-of-type":this.chain.push(new hs(0,1));break;case"only-child":this.chain.push(new os),this.chain.push(new ls(0,1));break;case"only-of-type":this.chain.push(new as(0,1)),this.chain.push(new hs(0,1));break;case"empty":this.chain.push(new cs);break;case"before":case"after":case"first-line":case"first-letter":return void this.pseudoelementSelector(e,t);default:c.warn(`unknown pseudo-class selector: ${e}`),this.chain.push(new fs(""))}this.specificity+=256}pseudoelementSelector(e,t){switch(e){case"before":case"after":case"first-line":case"first-letter":case"footnote-call":case"footnote-marker":case"inner":case"after-if-continues":this.pseudoelement?(c.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new fs(""))):this.pseudoelement=e;break;case"first-n-lines":if(t&&1==t.length&&"number"==typeof t[0]){const n=Math.round(t[0]);if(n>0&&n==t[0]){this.pseudoelement?(c.warn(`Double pseudoelement ::${this.pseudoelement}::${e}`),this.chain.push(new fs(""))):this.pseudoelement=`first-${n}-lines`;break}}this.chain.push(new fs(""));break;case"nth-fragment":t&&2==t.length?this.viewConditionId=`NFS_${t[0]}_${t[1]}`:this.chain.push(new fs(""));break;default:c.warn(`Unrecognized pseudoelement: ::${e}`),this.chain.push(new fs(""))}this.specificity+=1}idSelector(e){this.specificity+=65536,this.chain.push(new Ko(e))}attributeSelector(e,t,n,i){let o;switch(this.specificity+=256,t=t.toLowerCase(),i=i||"",n){case On.EOF:o=new Jo(e,t);break;case On.EQ:o=new es(e,t,i);break;case On.TILDE_EQ:o=!i||i.match(/\s/)?new fs(""):new ns(e,t,new RegExp(`(^|\\s)${Z(i)}($|\\s)`));break;case On.BAR_EQ:o=new ns(e,t,new RegExp(`^${Z(i)}($|-)`));break;case On.HAT_EQ:o=i?new ns(e,t,new RegExp(`^${Z(i)}`)):new fs("");break;case On.DOLLAR_EQ:o=i?new ns(e,t,new RegExp(`${Z(i)}$`)):new fs("");break;case On.STAR_EQ:o=i?new ns(e,t,new RegExp(Z(i))):new fs("");break;case On.COL_COL:"supported"==i?o=new ts(e,t):(c.warn("Unsupported :: attr selector op:",i),o=new fs(""));break;default:c.warn("Unsupported attr selector:",n),o=new fs("")}this.chain.push(o)}descendantSelector(){const e=`d${zs++}`;this.processChain(new $o(new ws(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}childSelector(){const e=`c${zs++}`;this.processChain(new $o(new Es(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}adjacentSiblingSelector(){const e=`a${zs++}`;this.processChain(new $o(new ys(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}followingSiblingSelector(){const e=`f${zs++}`;this.processChain(new $o(new Ss(e,this.viewConditionId,null))),this.chain=[new fs(e)],this.viewConditionId=null}nextSelector(){this.finishChain(),this.pseudoelement=null,this.footnoteContent=!1,this.specificity=0,this.chain=[]}startSelectorRule(){this.isInsideSelectorRule("E_CSS_UNEXPECTED_SELECTOR")||(this.state=_s.SELECTOR,this.elementStyle={},this.pseudoelement=null,this.specificity=0,this.footnoteContent=!1,this.chain=[])}error(e,t){super.error(e,t),this.state==_s.SELECTOR&&(this.state=_s.TOP)}startStylesheet(e){super.startStylesheet(e),this.state=_s.TOP}startRuleBody(){this.finishChain(),super.startRuleBody(),this.state==_s.SELECTOR&&(this.state=_s.TOP)}endRule(){super.endRule(),this.insideSelectorRule=_s.TOP}finishChain(){if(this.chain){const e=this.specificity+this.cascade.nextOrder();this.processChain(this.makeApplyRuleAction(e)),this.chain=null,this.pseudoelement=null,this.viewConditionId=null,this.footnoteContent=!1,this.specificity=0}}makeApplyRuleAction(e){let t=this.regionId;return this.footnoteContent&&(t=t?"xxx-bogus-xxx":"footnote"),new Wo(this.elementStyle,e,this.pseudoelement,t,this.viewConditionId)}special(e,t){let n;n=this.condition?new To(t,0,this.condition):new Co(t,0),Bo(this.elementStyle,e).push(n)}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){"display"!=e||t!==Mt.oeb_page_head&&t!==Mt.oeb_page_foot||(this.simpleProperty("flow-options",new kt([Mt.exclusive,Mt._static]),n),this.simpleProperty("flow-into",t,n),t=Mt.block),g("SIMPLE_PROPERTY").forEach(i=>{const o=i({name:e,value:t,important:n});e=o.name,t=o.value,n=o.important});const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=this.condition?new To(t,i,this.condition):new Co(t,i);ko(this.elementStyle,e,o)}finish(){return this.cascade}startFuncWithSelector(e){switch(e){case"not":{const e=new Vs(this);e.startSelectorRule(),this.owner.pushHandler(e);break}}}}const Us={"nth-child":class extends rs{constructor(e,t){super(e,t)}apply(e){this.matchANPlusB(e.currentSiblingOrder)&&this.chained.apply(e)}getPriority(){return 5}},"nth-of-type":as,"nth-last-child":ls,"nth-last-of-type":hs};let zs=0;class Vs extends Ms{constructor(e){super(e.scope,e.owner,e.condition,e,e.regionId,e.validatorSet,!1),this.parent=e,this.parentChain=e.chain}startFuncWithSelector(e){"not"==e&&this.reportAndSkip("E_CSS_UNEXPECTED_NOT")}startRuleBody(){this.reportAndSkip("E_CSS_UNEXPECTED_RULE_BODY")}nextSelector(){this.reportAndSkip("E_CSS_UNEXPECTED_NEXT_SELECTOR")}endFuncWithSelector(){this.chain&&this.chain.length>0&&this.parentChain.push(new ms(this.chain)),this.parent.specificity+=this.specificity,this.owner.popHandler()}error(e,t){super.error(e,t),this.owner.popHandler()}}class Hs extends Bi{constructor(e,t){super(e,t,!1)}property(e,t,n){if(this.scope.values[e])this.error(`E_CSS_NAME_REDEFINED ${e}`,this.getCurrentToken());else{const n=e.match(/height|^(top|bottom)$/)?"vh":"vw",i=new tt(this.scope,100,n);this.scope.defineName(e,t.toExpr(this.scope,i))}}}class $s extends Bi{constructor(e,t,n,i,o){super(e,t,!1),this.condition=n,this.elementStyle=i,this.validatorSet=o,this.order=0}property(e,t,n){n?c.warn("E_IMPORTANT_NOT_ALLOWED"):this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){c.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){c.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?this.getImportantSpecificity():this.getBaseSpecificity();i+=this.order,this.order+=1/1048576;const o=this.condition?new To(t,i,this.condition):new Co(t,i);ko(this.elementStyle,e,o)}}class Gs extends to{constructor(e,t){super(e),this.validatorSet=t,this.elementStyle={},this.order=0}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){c.warn("E_INVALID_PROPERTY_VALUE",`${e}:`,t.toString())}unknownProperty(e,t){c.warn("E_INVALID_PROPERTY",`${e}:`,t.toString())}simpleProperty(e,t,n){let i=n?67108864:50331648;i+=this.order,this.order+=1/1048576;const o=new Co(t,i);ko(this.elementStyle,e,o)}}function Ws(e,t){const n=Do(e);n&&n.forEach(e=>{e.matcher.matches()&&t(e.styles)})}function Xs(e,t,n){Ws(n,n=>{Zs(e,n,t)})}function js(e,t,n){const i=e["writing-mode"];if(i){const e=i.evaluate(t,"writing-mode");if(e&&e!==Mt.inherit)return e===Mt.vertical_rl}return n}function Ks(e,t,n){const i=e.direction;if(i){const e=i.evaluate(t,"direction");if(e&&e!==Mt.inherit)return e===Mt.rtl}return n}function Ys(e,t,n,i,o){const s={};for(const t in e)Ao(t)&&(s[t]=Ro(e,t));return Xs(s,t,e),qs(e,n,i,(e,n)=>{Zs(s,n,t),Xs(s,t,n)}),s}function qs(e,t,n,i){const o=Lo(e,"_regions");if((t||n)&&o){if(n){const e=["footnote"];t=t?t.concat(e):e}for(const e of t){const t=o[e];t&&i(e,t)}}}function Zs(e,t,n){for(const i in t)if(Ao(i)){const o=Ro(t,i),s=e[i];e[i]=xo(n,s,o)}}const Qs=(e,t,n,i,o)=>{const s=n?i?No:yo:i?vo:So;for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];if(!i)continue;const r=s[n];let a;if(r){const t=e[r];if(t&&t.priority>i.priority)continue;a=wo[r]?r:n}else a=n;t[a]=o(n,i)}};function Js(e,t){const n={};return Object.keys(e).forEach(i=>{const o=n[i]={},s=e[i];Object.keys(s).forEach(e=>{o[e]=s[e].map(e=>{const n=t?e.logical:e.physical,i=t?e.physical:e.logical;return{regexp:new RegExp(`(-?)${n}(-?)`),to:`$1${i}$2`}})})}),n}function er(e,t,n,i){const o=i[t];if(!o)throw new Error(`unknown writing-mode: ${t}`);const s=o[n||"ltr"];if(!s)throw new Error(`unknown direction: ${n}`);for(const t of s){const n=e.replace(t.regexp,t.to);if(n!==e)return n}return e}const tr={"horizontal-tb":{ltr:[{logical:"inline-start",physical:"left"},{logical:"inline-end",physical:"right"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}],rtl:[{logical:"inline-start",physical:"right"},{logical:"inline-end",physical:"left"},{logical:"block-start",physical:"top"},{logical:"block-end",physical:"bottom"},{logical:"inline-size",physical:"width"},{logical:"block-size",physical:"height"}]},"vertical-rl":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"right"},{logical:"block-end",physical:"left"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]},"vertical-lr":{ltr:[{logical:"inline-start",physical:"top"},{logical:"inline-end",physical:"bottom"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}],rtl:[{logical:"inline-start",physical:"bottom"},{logical:"inline-end",physical:"top"},{logical:"block-start",physical:"left"},{logical:"block-end",physical:"right"},{logical:"inline-size",physical:"height"},{logical:"block-size",physical:"width"}]}},nr=Js(tr,!0),ir=Js(tr,!1);var or;function sr(e,t,n){const i={display:t.style.display,position:t.style.position,width:t.style.width,maxWidth:t.style.maxWidth,minWidth:t.style.minWidth,height:t.style.height,maxHeight:t.style.maxHeight,minHeight:t.style.minHeight},o=t.ownerDocument,s=t.parentNode,r=o.createElement("div");function a(n){return e.getElementComputedStyle(t).getPropertyValue(n)}V(r,"position",i.position),s.insertBefore(r,t),r.appendChild(t),V(t,"width","auto"),V(t,"max-width","none"),V(t,"min-width","0"),V(t,"height","auto"),V(t,"max-height","none"),V(t,"min-height","0");const l=z("writing-mode"),h=(l?a(l[0]):null)||a("writing-mode"),c="vertical-rl"===h||"tb-rl"===h||"vertical-lr"===h||"tb-lr"===h,u=c?"height":"width",d=c?"width":"height";function p(){return V(t,"display","block"),V(t,"position","static"),a(u)}function f(){V(t,"display","inline-block"),V(r,u,"99999999px");const e=a(u);return V(r,u,""),e}function g(){V(t,"display","inline-block"),V(r,u,"0");const e=a(u);return V(r,u,""),e}function m(){const e=p(),t=g(),n=parseFloat(e);if(n<=parseFloat(t))return t;{const t=f();return n<=parseFloat(t)?e:t}}function b(){return a(d)}function w(){throw new Error("Getting fill-available block size is not implemented")}const E={};return n.forEach(e=>{let n;switch(e){case or.FILL_AVAILABLE_INLINE_SIZE:n=p();break;case or.MAX_CONTENT_INLINE_SIZE:n=f();break;case or.MIN_CONTENT_INLINE_SIZE:n=g();break;case or.FIT_CONTENT_INLINE_SIZE:n=m();break;case or.FILL_AVAILABLE_BLOCK_SIZE:n=w();break;case or.MAX_CONTENT_BLOCK_SIZE:case or.MIN_CONTENT_BLOCK_SIZE:case or.FIT_CONTENT_BLOCK_SIZE:n=b();break;case or.FILL_AVAILABLE_WIDTH:n=c?w():p();break;case or.FILL_AVAILABLE_HEIGHT:n=c?p():w();break;case or.MAX_CONTENT_WIDTH:n=c?b():f();break;case or.MAX_CONTENT_HEIGHT:n=c?f():b();break;case or.MIN_CONTENT_WIDTH:n=c?b():g();break;case or.MIN_CONTENT_HEIGHT:n=c?g():b();break;case or.FIT_CONTENT_WIDTH:n=c?b():m();break;case or.FIT_CONTENT_HEIGHT:n=c?m():b()}E[e]=parseFloat(n),V(t,"position",i.position),V(t,"display",i.display)}),V(t,"width",i.width),V(t,"max-width",i.maxWidth),V(t,"min-width",i.minWidth),V(t,"height",i.height),V(t,"max-height",i.maxHeight),V(t,"min-height",i.minHeight),s.insertBefore(t,r),s.removeChild(r),E}function rr(e,t,n,i){if(e===t)return e?[[0,e]]:[];if(null!=n){var o=function(e,t,n){var i="number"==typeof n?{index:n,length:0}:n.oldRange,o="number"==typeof n?null:n.newRange,s=e.length,r=t.length;if(0===i.length&&(null===o||0===o.length)){var a=i.index,l=e.slice(0,a),h=e.slice(a),c=o?o.index:null,u=a+r-s;if((null===c||c===u)&&!(u<0||u>r)){var d=t.slice(0,u);if((E=t.slice(u))===h){var p=Math.min(a,u),f=l.slice(0,p),g=d.slice(0,p);if(f===g){var m=l.slice(p),b=d.slice(p);return fr(f,m,b,h)}}}if(null===c||c===a){var w=a,E=(d=t.slice(0,w),t.slice(w));if(d===l){var y=Math.min(s-w,r-w),S=h.slice(h.length-y),N=E.slice(E.length-y);if(S===N)return fr(l,m=h.slice(0,h.length-y),b=E.slice(0,E.length-y),S)}}}return i.length>0&&o&&0===o.length&&(f=e.slice(0,i.index),S=e.slice(i.index+i.length),!(r<(p=f.length)+(y=S.length))&&(g=t.slice(0,p),N=t.slice(r-y),f===g&&S===N))?fr(f,m=e.slice(p,s-y),b=t.slice(p,r-y),S):null}(e,t,n);if(o)return o}var s=lr(e,t),r=e.substring(0,s);s=hr(e=e.substring(s),t=t.substring(s));var a=e.substring(e.length-s),l=function(e,t){var n;if(!e)return[[1,t]];if(!t)return[[-1,e]];var i=e.length>t.length?e:t,o=e.length>t.length?t:e,s=i.indexOf(o);if(-1!==s)return n=[[1,i.substring(0,s)],[0,o],[1,i.substring(s+o.length)]],e.length>t.length&&(n[0][0]=n[2][0]=-1),n;if(1===o.length)return[[-1,e],[1,t]];var r=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function o(e,t,n){for(var i,o,s,r,a=e.substring(n,n+Math.floor(e.length/4)),l=-1,h="";-1!==(l=t.indexOf(a,l+1));){var c=lr(e.substring(n),t.substring(l)),u=hr(e.substring(0,n),t.substring(0,l));h.length<u+c&&(h=t.substring(l-u,l)+t.substring(l,l+c),i=e.substring(0,n-u),o=e.substring(n+c),s=t.substring(0,l-u),r=t.substring(l+c))}return 2*h.length>=e.length?[i,o,s,r,h]:null}var s,r,a,l,h,c=o(n,i,Math.ceil(n.length/4)),u=o(n,i,Math.ceil(n.length/2));return c||u?(s=u?c&&c[4].length>u[4].length?c:u:c,e.length>t.length?(r=s[0],a=s[1],l=s[2],h=s[3]):(l=s[0],h=s[1],r=s[2],a=s[3]),[r,a,l,h,s[4]]):null}(e,t);if(r){var a=r[0],l=r[1],h=r[2],c=r[3],u=r[4],d=rr(a,h),p=rr(l,c);return d.concat([[0,u]],p)}return function(e,t){for(var n=e.length,i=t.length,o=Math.ceil((n+i)/2),s=o,r=2*o,a=new Array(r),l=new Array(r),h=0;h<r;h++)a[h]=-1,l[h]=-1;a[s+1]=0,l[s+1]=0;for(var c=n-i,u=c%2!=0,d=0,p=0,f=0,g=0,m=0;m<o;m++){for(var b=-m+d;b<=m-p;b+=2){for(var w=s+b,E=(C=b===-m||b!==m&&a[w-1]<a[w+1]?a[w+1]:a[w-1]+1)-b;C<n&&E<i&&e.charAt(C)===t.charAt(E);)C++,E++;if(a[w]=C,C>n)p+=2;else if(E>i)d+=2;else if(u&&(N=s+c-b)>=0&&N<r&&-1!==l[N]){var y=n-l[N];if(C>=y)return ar(e,t,C,E)}}for(var S=-m+f;S<=m-g;S+=2){for(var N=s+S,v=(y=S===-m||S!==m&&l[N-1]<l[N+1]?l[N+1]:l[N-1]+1)-S;y<n&&v<i&&e.charAt(n-y-1)===t.charAt(i-v-1);)y++,v++;if(l[N]=y,y>n)g+=2;else if(v>i)f+=2;else if(!u&&(w=s+c-S)>=0&&w<r&&-1!==a[w]){var C=a[w];if(E=s+C-w,C>=(y=n-y))return ar(e,t,C,E)}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-s),t=t.substring(0,t.length-s));return r&&l.unshift([0,r]),a&&l.push([0,a]),function e(t,n){t.push([0,""]);for(var i,o=0,s=0,r=0,a="",l="";o<t.length;)if(o<t.length-1&&!t[o][1])t.splice(o,1);else switch(t[o][0]){case 1:r++,l+=t[o][1],o++;break;case-1:s++,a+=t[o][1],o++;break;case 0:var h=o-r-s-1;if(n){if(h>=0&&pr(t[h][1])){var c=t[h][1].slice(-1);if(t[h][1]=t[h][1].slice(0,-1),a=c+a,l=c+l,!t[h][1]){t.splice(h,1),o--;var u=h-1;t[u]&&1===t[u][0]&&(r++,l=t[u][1]+l,u--),t[u]&&-1===t[u][0]&&(s++,a=t[u][1]+a,u--),h=u}}dr(t[o][1])&&(c=t[o][1].charAt(0),t[o][1]=t[o][1].slice(1),a+=c,l+=c)}if(o<t.length-1&&!t[o][1]){t.splice(o,1);break}if(a.length>0||l.length>0){a.length>0&&l.length>0&&(0!==(i=lr(l,a))&&(h>=0?t[h][1]+=l.substring(0,i):(t.splice(0,0,[0,l.substring(0,i)]),o++),l=l.substring(i),a=a.substring(i)),0!==(i=hr(l,a))&&(t[o][1]=l.substring(l.length-i)+t[o][1],l=l.substring(0,l.length-i),a=a.substring(0,a.length-i)));var d=r+s;0===a.length&&0===l.length?(t.splice(o-d,d),o-=d):0===a.length?(t.splice(o-d,d,[1,l]),o=o-d+1):0===l.length?(t.splice(o-d,d,[-1,a]),o=o-d+1):(t.splice(o-d,d,[-1,a],[1,l]),o=o-d+2)}0!==o&&0===t[o-1][0]?(t[o-1][1]+=t[o][1],t.splice(o,1)):o++,r=0,s=0,a="",l=""}""===t[t.length-1][1]&&t.pop();var p=!1;for(o=1;o<t.length-1;)0===t[o-1][0]&&0===t[o+1][0]&&(t[o][1].substring(t[o][1].length-t[o-1][1].length)===t[o-1][1]?(t[o][1]=t[o-1][1]+t[o][1].substring(0,t[o][1].length-t[o-1][1].length),t[o+1][1]=t[o-1][1]+t[o+1][1],t.splice(o-1,1),p=!0):t[o][1].substring(0,t[o+1][1].length)==t[o+1][1]&&(t[o-1][1]+=t[o+1][1],t[o][1]=t[o][1].substring(t[o+1][1].length)+t[o+1][1],t.splice(o+1,1),p=!0)),o++;p&&e(t,n)}(l,i),l}function ar(e,t,n,i){var o=e.substring(0,n),s=t.substring(0,i),r=e.substring(n),a=t.substring(i),l=rr(o,s),h=rr(r,a);return l.concat(h)}function lr(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(s,o)==t.substring(s,o)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return cr(e.charCodeAt(o-1))&&o--,o}function hr(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)==t.substring(t.length-o,t.length-s)?s=n=o:i=o,o=Math.floor((i-n)/2+n);return ur(e.charCodeAt(e.length-o))&&o--,o}function cr(e){return e>=55296&&e<=56319}function ur(e){return e>=56320&&e<=57343}function dr(e){return ur(e.charCodeAt(0))}function pr(e){return cr(e.charCodeAt(e.length-1))}function fr(e,t,n,i){return pr(e)||dr(i)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[-1,t],[1,n],[0,i]])}function gr(e,t,n){return rr(e,t,n,!0)}!function(e){e.FILL_AVAILABLE_INLINE_SIZE="fill-available inline size",e.FILL_AVAILABLE_BLOCK_SIZE="fill-available block size",e.FILL_AVAILABLE_WIDTH="fill-available width",e.FILL_AVAILABLE_HEIGHT="fill-available height",e.MAX_CONTENT_INLINE_SIZE="max-content inline size",e.MAX_CONTENT_BLOCK_SIZE="max-content block size",e.MAX_CONTENT_WIDTH="max-content width",e.MAX_CONTENT_HEIGHT="max-content height",e.MIN_CONTENT_INLINE_SIZE="min-content inline size",e.MIN_CONTENT_BLOCK_SIZE="min-content block size",e.MIN_CONTENT_WIDTH="min-content width",e.MIN_CONTENT_HEIGHT="min-content height",e.FIT_CONTENT_INLINE_SIZE="fit-content inline size",e.FIT_CONTENT_BLOCK_SIZE="fit-content block size",e.FIT_CONTENT_WIDTH="fit-content width",e.FIT_CONTENT_HEIGHT="fit-content height"}(or||(or={})),gr.INSERT=1,gr.DELETE=-1,gr.EQUAL=0;var mr,br,wr,Er,yr,Sr,Nr=gr;function vr(e){return e.reduce((e,t)=>t[0]===Nr.DELETE?e:e+t[1],"")}function Cr(e,t,n){let i=0,o=0;return e.some(e=>{for(let s=0;s<e[1].length;s++){switch(e[0]*n){case Nr.INSERT:i++;break;case Nr.DELETE:i--,o++;break;case Nr.EQUAL:o++}if(o>t)return!0}return!1}),Math.max(Math.min(t,o-1)+i,0)}!function(e){e.isInstanceOfBlockFormattingContext=function(e){return e&&"Block"===e.formattingContextType}}(mr||(mr={})),function(e){let t;!function(e){e.INLINE="inline",e.COLUMN="column",e.REGION="region",e.PAGE="page"}(t=e.FloatReference||(e.FloatReference={}))}(br||(br={})),function(e){e.isInstanceOfAfterIfContinuesLayoutConstraint=function(e){return e&&"AfterIfContinue"==e.flagmentLayoutConstraintType}}(wr||(wr={})),function(e){e.isInstanceOfRepetitiveElementsOwnerFormattingContext=function(e){return!!e&&("RepetitiveElementsOwner"===e.formattingContextType||yr.isInstanceOfTableFormattingContext(e))},e.isInstanceOfRepetitiveElementsOwnerLayoutConstraint=function(e){return!!e&&("RepetitiveElementsOwner"===e.flagmentLayoutConstraintType||yr.isInstanceOfTableRowLayoutConstraint(e))}}(Er||(Er={})),function(e){e.isInstanceOfTableFormattingContext=function(e){return e&&"Table"===e.formattingContextType},e.isInstanceOfTableRowLayoutConstraint=function(e){return e&&"TableRow"===e.flagmentLayoutConstraintType}}(yr||(yr={})),function(e){let t,n;!function(e){e[e.IGNORE=0]="IGNORE",e[e.NEWLINE=1]="NEWLINE",e[e.PRESERVE=2]="PRESERVE"}(t=e.Whitespace||(e.Whitespace={})),function(e){e[e.NONE=0]="NONE",e[e.CONTENT=1]="CONTENT",e[e.ROOTLESS=2]="ROOTLESS",e[e.ROOTED=3]="ROOTED"}(n=e.ShadowType||(e.ShadowType={}))}(Sr||(Sr={}));const Tr={transform:!0,"transform-origin":!0},xr={top:!0,bottom:!0,left:!0,right:!0};class Ir{constructor(e,t,n){this.target=e,this.name=t,this.value=n}}const Pr={show:function(e){e.style.visibility="visible"},hide:function(e){e.style.visibility="hidden"},play:function(e){e.currentTime=0,e.play()},pause:function(e){e.pause()},resume:function(e){e.play()},mute:function(e){e.muted=!0},unmute:function(e){e.muted=!1}};function Ar(e,t){const n=Pr[t];return n?()=>{for(let t=0;t<e.length;t++)try{n(e[t])}catch(e){}}:null}class Or extends ne{constructor(e,t){super(),this.container=e,this.bleedBox=t,this.pageAreaElement=null,this.delayedItems=[],this.elementsById={},this.dimensions={width:0,height:0},this.isFirstPage=!1,this.isLastPage=!1,this.isAutoPageWidth=!0,this.isAutoPageHeight=!0,this.spineIndex=0,this.position=null,this.offset=-1,this.side=null,this.fetchers=[],this.marginBoxes={top:{},bottom:{},left:{},right:{}};const n=this;this.hrefHandler=e=>{const t=e.currentTarget,i=t.getAttribute("href")||t.getAttributeNS(F.XLINK,"href");if(i){const o={type:"hyperlink",target:null,currentTarget:null,anchorElement:t,href:i,preventDefault(){e.preventDefault()}};n.dispatchEvent(o)}}}setAutoPageWidth(e){this.isAutoPageWidth=e,e?this.container.setAttribute(Or.AUTO_PAGE_WIDTH_ATTRIBUTE,"true"):this.container.removeAttribute(Or.AUTO_PAGE_WIDTH_ATTRIBUTE)}setAutoPageHeight(e){this.isAutoPageHeight=e,e?this.container.setAttribute(Or.AUTO_PAGE_HEIGHT_ATTRIBUTE,"true"):this.container.removeAttribute(Or.AUTO_PAGE_HEIGHT_ATTRIBUTE)}registerElementWithId(e,t){const n=this.elementsById[t];n?n.push(e):this.elementsById[t]=[e]}finish(e,t){Object.keys(this.elementsById).forEach(e=>{const t=this.elementsById[e];for(let e=0;e<t.length;)this.container.contains(t[e])?e++:t.splice(e,1);0===t.length&&delete this.elementsById[e]});const n=this.delayedItems;for(let e=0;e<n.length;e++){const t=n[e];(t.target!==this.container||"transform"!==t.name||this.isAutoPageWidth||this.isAutoPageHeight)&&V(t.target,t.name,t.value.toString())}const i=t.getElementClientRect(this.container);this.dimensions.width=i.width,this.dimensions.height=i.height;for(let t=0;t<e.length;t++){const n=e[t],i=this.elementsById[n.ref],o=this.elementsById[n.observer];if(i&&o){const e=Ar(i,n.action);if(e)for(let t=0;t<o.length;t++)o[t].addEventListener(n.event,e,!1)}}}zoom(e){V(this.container,"transform",`scale(${e})`)}getPageAreaElement(){return this.pageAreaElement||this.container}}Or.AUTO_PAGE_WIDTH_ATTRIBUTE="data-vivliostyle-auto-page-width",Or.AUTO_PAGE_HEIGHT_ATTRIBUTE="data-vivliostyle-auto-page-height";const Rr=Sr.Whitespace;function kr(e){switch(e){case"normal":case"nowrap":return Rr.IGNORE;case"pre-line":return Rr.NEWLINE;case"pre":case"pre-wrap":return Rr.PRESERVE;default:return null}}function Lr(e,t){if(1==e.nodeType)return!1;const n=e.textContent;switch(t){case Rr.IGNORE:return!!n.match(/^\s*$/);case Rr.NEWLINE:return!!n.match(/^[ \t\f]*$/);case Rr.PRESERVE:return 0==n.length}throw new Error(`Unexpected whitespace: ${t}`)}class Fr{constructor(e,t){this.flowName=e,this.parentFlowName=t,this.forcedBreakOffsets=[],this.formattingContext=null}}class Dr{constructor(e,t,n,i,o,s,r,a,l){this.flowName=e,this.element=t,this.startOffset=n,this.priority=i,this.linger=o,this.exclusive=s,this.repeated=r,this.last=a,this.breakBefore=l,this.startPage=-1}isBetter(e){return!!this.exclusive&&(!e.exclusive||this.priority>e.priority||this.last)}}function _r(e,t){return e.top-t.top}function Br(e,t){return t.right-e.right}function Mr(e,t){return e===t||!(!e||!t)&&e.node===t.node&&e.shadowType===t.shadowType&&Gr(e.shadowContext,t.shadowContext)&&Gr(e.nodeShadow,t.nodeShadow)&&Mr(e.shadowSibling,t.shadowSibling)}function Ur(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.offsetInNode!==t.offsetInNode||e.after!==t.after||e.steps.length!==t.steps.length)return!1;for(let n=0;n<e.steps.length;n++)if(!Mr(e.steps[n],t.steps[n]))return!1;return!0}function zr(e,t){return{steps:[{node:e.sourceNode,shadowType:Hr.NONE,shadowContext:e.shadowContext,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:null!=t?t:e.fragmentIndex}],offsetInNode:0,after:!1,preprocessedTextContent:e.preprocessedTextContent}}function Vr(e,t){const n=new Xr(e.node,t,0);return n.shadowType=e.shadowType,n.shadowContext=e.shadowContext,n.nodeShadow=e.nodeShadow,n.shadowSibling=e.shadowSibling?Vr(e.shadowSibling,t.copy()):null,n.formattingContext=e.formattingContext,n.fragmentIndex=e.fragmentIndex+1,n}const Hr=Sr.ShadowType;class $r{constructor(e,t,n,i,o,s,r){this.owner=e,this.root=t,this.xmldoc=n,this.parentShadow=i,this.type=s,this.styler=r,this.subShadow=null,o&&(o.subShadow=this)}equals(e){return!!e&&this.owner===e.owner&&this.xmldoc===e.xmldoc&&this.type===e.type&&Gr(this.parentShadow,e.parentShadow)}}function Gr(e,t){return e===t||!!e&&!!t&&e.equals(t)}class Wr{constructor(e,t){this.outer=e,this.count=t}}class Xr{constructor(e,t,n){this.sourceNode=e,this.parent=t,this.boxOffset=n,this.offsetInNode=0,this.after=!1,this.nodeShadow=null,this.shadowSibling=null,this.shared=!1,this.inline=!0,this.overflow=!1,this.display=null,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.captionSide="top",this.inlineBorderSpacing=0,this.blockBorderSpacing=0,this.flexContainer=!1,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.breakBefore=null,this.breakAfter=null,this.viewNode=null,this.clearSpacer=null,this.lang=null,this.preprocessedTextContent=null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null,this.shadowType=Hr.NONE,this.shadowContext=t?t.shadowContext:null,this.breakPenalty=t?t.breakPenalty:0,this.floatReference=br.FloatReference.INLINE,this.whitespace=t?t.whitespace:Rr.IGNORE,this.hyphenateCharacter=t?t.hyphenateCharacter:null,this.breakWord=!!t&&t.breakWord,this.inheritedProps=t?t.inheritedProps:{},this.vertical=!!t&&t.vertical,this.direction=t?t.direction:"ltr",this.firstPseudo=t?t.firstPseudo:null,this.formattingContext=t?t.formattingContext:null}resetView(){this.inline=!0,this.breakPenalty=this.parent?this.parent.breakPenalty:0,this.viewNode=null,this.clearSpacer=null,this.offsetInNode=0,this.after=!1,this.display=null,this.floatReference=br.FloatReference.INLINE,this.floatSide=null,this.clearSide=null,this.floatMinWrapBlock=null,this.columnSpan=null,this.verticalAlign="baseline",this.flexContainer=!1,this.whitespace=this.parent?this.parent.whitespace:Rr.IGNORE,this.hyphenateCharacter=this.parent?this.parent.hyphenateCharacter:null,this.breakWord=!!this.parent&&this.parent.breakWord,this.breakBefore=null,this.breakAfter=null,this.nodeShadow=null,this.establishesBFC=!1,this.containingBlockForAbsolute=!1,this.vertical=!!this.parent&&this.parent.vertical,this.nodeShadow=null,this.preprocessedTextContent=null,this.formattingContext=this.parent?this.parent.formattingContext:null,this.repeatOnBreak=null,this.pluginProps={},this.fragmentIndex=1,this.afterIfContinues=null,this.footnotePolicy=null}cloneItem(){const e=new Xr(this.sourceNode,this.parent,this.boxOffset);return e.offsetInNode=this.offsetInNode,e.after=this.after,e.nodeShadow=this.nodeShadow,e.shadowType=this.shadowType,e.shadowContext=this.shadowContext,e.shadowSibling=this.shadowSibling,e.inline=this.inline,e.breakPenalty=this.breakPenalty,e.display=this.display,e.floatReference=this.floatReference,e.floatSide=this.floatSide,e.clearSide=this.clearSide,e.floatMinWrapBlock=this.floatMinWrapBlock,e.columnSpan=this.columnSpan,e.verticalAlign=this.verticalAlign,e.captionSide=this.captionSide,e.inlineBorderSpacing=this.inlineBorderSpacing,e.blockBorderSpacing=this.blockBorderSpacing,e.establishesBFC=this.establishesBFC,e.containingBlockForAbsolute=this.containingBlockForAbsolute,e.flexContainer=this.flexContainer,e.whitespace=this.whitespace,e.hyphenateCharacter=this.hyphenateCharacter,e.breakWord=this.breakWord,e.breakBefore=this.breakBefore,e.breakAfter=this.breakAfter,e.viewNode=this.viewNode,e.clearSpacer=this.clearSpacer,e.firstPseudo=this.firstPseudo,e.vertical=this.vertical,e.overflow=this.overflow,e.preprocessedTextContent=this.preprocessedTextContent,e.formattingContext=this.formattingContext,e.repeatOnBreak=this.repeatOnBreak,e.pluginProps=Object.create(this.pluginProps),e.fragmentIndex=this.fragmentIndex,e.afterIfContinues=this.afterIfContinues,e.footnotePolicy=this.footnotePolicy,e}modify(){return this.shared?this.cloneItem():this}copy(){let e=this;do{if(e.shared)break;e.shared=!0,e=e.parent}while(e);return this}clone(){const e=this.cloneItem();let t,n=e;for(;null!=(t=n.parent);)t=t.cloneItem(),n.parent=t,n=t;return e}toNodePositionStep(){return{node:this.sourceNode,shadowType:this.shadowType,shadowContext:this.shadowContext,nodeShadow:this.nodeShadow,shadowSibling:this.shadowSibling?this.shadowSibling.toNodePositionStep():null,formattingContext:this.formattingContext,fragmentIndex:this.fragmentIndex}}toNodePosition(){let e=this;const t=[];do{e.firstPseudo&&e.parent&&e.parent.firstPseudo!==e.firstPseudo||t.push(e.toNodePositionStep()),e=e.parent}while(e);var n,i;return{steps:t,offsetInNode:this.preprocessedTextContent?(n=this.preprocessedTextContent,i=this.offsetInNode,Cr(n,i,-1)):this.offsetInNode,after:this.after,preprocessedTextContent:this.preprocessedTextContent}}isInsideBFC(){let e=this.parent;for(;e;){if(e.establishesBFC)return!0;e=e.parent}return!1}getContainingBlockForAbsolute(){let e=this.parent;for(;e;){if(e.containingBlockForAbsolute)return e;e=e.parent}return null}walkUpBlocks(e){let t=this;for(;t;)t.inline||e(t),t=t.parent}belongsTo(e){return this.formattingContext===e&&!!this.parent&&this.parent.formattingContext===e}}class jr{constructor(e){this.primary=e,this.floats=null}clone(){const e=new jr(this.primary);if(this.floats){e.floats=[];for(let t=0;t<this.floats.length;++t)e.floats[t]=this.floats[t]}return e}isSamePosition(e){if(!e)return!1;if(this===e)return!0;if(!Ur(this.primary,e.primary))return!1;if(this.floats){if(!e.floats||this.floats.length!==e.floats.length)return!1;for(let t=0;t<this.floats.length;t++)if(!Ur(this.floats[t],e.floats[t]))return!1}else if(e.floats)return!1;return!0}}class Kr{constructor(e,t){this.chunkPosition=e,this.flowChunk=t}clone(){return new Kr(this.chunkPosition.clone(),this.flowChunk)}isSamePosition(e){return!!e&&(this===e||this.chunkPosition.isSamePosition(e.chunkPosition))}}class Yr{constructor(){this.positions=[],this.startSide="any",this.breakAfter=null}clone(){const e=new Yr,t=this.positions,n=e.positions;for(let e=0;e<t.length;e++)n[e]=t[e].clone();return e.startSide=this.startSide,e.breakAfter=this.breakAfter,e}isSamePosition(e){if(this===e)return!0;if(!e||this.positions.length!==e.positions.length)return!1;for(let t=0;t<this.positions.length;t++)if(!this.positions[t].isSamePosition(e.positions[t]))return!1;return!0}hasContent(e){return this.positions.length>0&&this.positions[0].flowChunk.startOffset<=e}}class qr{constructor(){this.page=0,this.flows={},this.flowPositions={},this.highestSeenOffset=0}clone(){const e=new qr;e.page=this.page,e.highestSeenNode=this.highestSeenNode,e.highestSeenOffset=this.highestSeenOffset,e.lookupPositionOffset=this.lookupPositionOffset,e.flows=this.flows;for(const t in this.flowPositions)e.flowPositions[t]=this.flowPositions[t].clone();return e}isSamePosition(e){if(this===e)return!0;if(!e||this.page!==e.page||this.highestSeenOffset!==e.highestSeenOffset)return!1;const t=Object.keys(this.flowPositions),n=Object.keys(e.flowPositions);if(t.length!==n.length)return!1;for(const n of t)if(!this.flowPositions[n].isSamePosition(e.flowPositions[n]))return!1;return!0}hasContent(e,t){const n=this.flowPositions[e];return!!n&&n.hasContent(t)}startSideOfFlow(e){const t=this.flowPositions[e];return t?t.startSide:"any"}firstFlowChunkOfFlow(e){const t=this.flowPositions[e];if(!t)return null;const n=t.positions[0];return n?n.flowChunk:null}}class Zr{constructor(e){this.element=e,this.left=0,this.top=0,this.marginLeft=0,this.marginRight=0,this.marginTop=0,this.marginBottom=0,this.borderLeft=0,this.borderRight=0,this.borderTop=0,this.borderBottom=0,this.paddingLeft=0,this.paddingRight=0,this.paddingTop=0,this.paddingBottom=0,this.width=0,this.height=0,this.originX=0,this.originY=0,this.exclusions=null,this.innerShape=null,this.computedBlockSize=0,this.snapWidth=0,this.snapHeight=0,this.snapOffsetX=0,this.snapOffsetY=0,this.vertical=!1}getInsetTop(){return this.marginTop+this.borderTop+this.paddingTop}getInsetBottom(){return this.marginBottom+this.borderBottom+this.paddingBottom}getInsetLeft(){return this.marginLeft+this.borderLeft+this.paddingLeft}getInsetRight(){return this.marginRight+this.borderRight+this.paddingRight}getInsetBefore(){return this.vertical?this.getInsetRight():this.getInsetTop()}getInsetAfter(){return this.vertical?this.getInsetLeft():this.getInsetBottom()}getInsetStart(){return this.vertical?this.getInsetTop():this.getInsetLeft()}getInsetEnd(){return this.vertical?this.getInsetBottom():this.getInsetRight()}getBeforeEdge(e){return this.vertical?e.right:e.top}getAfterEdge(e){return this.vertical?e.left:e.bottom}getStartEdge(e){return this.vertical?e.top:e.left}getEndEdge(e){return this.vertical?e.bottom:e.right}getInlineSize(e){return this.vertical?e.bottom-e.top:e.right-e.left}getBoxSize(e){return this.vertical?e.right-e.left:e.bottom-e.top}getBoxDir(){return this.vertical?-1:1}getInlineDir(){return 1}copyFrom(e){this.element=e.element,this.left=e.left,this.top=e.top,this.marginLeft=e.marginLeft,this.marginRight=e.marginRight,this.marginTop=e.marginTop,this.marginBottom=e.marginBottom,this.borderLeft=e.borderLeft,this.borderRight=e.borderRight,this.borderTop=e.borderTop,this.borderBottom=e.borderBottom,this.paddingLeft=e.paddingLeft,this.paddingRight=e.paddingRight,this.paddingTop=e.paddingTop,this.paddingBottom=e.paddingBottom,this.width=e.width,this.height=e.height,this.originX=e.originX,this.originY=e.originY,this.innerShape=e.innerShape,this.exclusions=e.exclusions,this.computedBlockSize=e.computedBlockSize,this.snapWidth=e.snapWidth,this.snapHeight=e.snapHeight,this.vertical=e.vertical}setVerticalPosition(e,t){this.top=e,this.height=t,V(this.element,"top",`${e}px`),V(this.element,"height",`${t}px`)}setHorizontalPosition(e,t){this.left=e,this.width=t,V(this.element,"left",`${e}px`),V(this.element,"width",`${t}px`)}setBlockPosition(e,t){this.vertical?this.setHorizontalPosition(e+t*this.getBoxDir(),t):this.setVerticalPosition(e,t)}setInlinePosition(e,t){this.vertical?this.setVerticalPosition(e,t):this.setHorizontalPosition(e,t)}clear(){const e=this.element;let t;for(;t=e.lastChild;)e.removeChild(t)}getInnerShape(){const e=this.getInnerRect();return this.innerShape?this.innerShape.withOffset(e.x1,e.y1):Jt(e.x1,e.y1,e.x2,e.y2)}getInnerRect(){const e=this.originX+this.left+this.getInsetLeft(),t=this.originY+this.top+this.getInsetTop();return new Wt(e,t,e+this.width,t+this.height)}getPaddingRect(){const e=this.originX+this.left+this.marginLeft+this.borderLeft,t=this.originY+this.top+this.marginTop+this.borderTop,n=this.paddingLeft+this.width+this.paddingRight,i=this.paddingTop+this.height+this.paddingBottom;return new Wt(e,t,e+n,t+i)}getOuterShape(e,t){const n=this.getOuterRect();return bn(e,n.x1,n.y1,n.x2-n.x1,n.y2-n.y1,t)}getOuterRect(){const e=this.originX+this.left,t=this.originY+this.top,n=this.getInsetLeft()+this.width+this.getInsetRight(),i=this.getInsetTop()+this.height+this.getInsetBottom();return new Wt(e,t,e+n,t+i)}}class Qr extends gt{constructor(e,t,n,i){super(),this.elem=e,this.context=t,this.rootContentValue=n,this.exprContentListener=i}visitStrInner(e,t){t||(t=this.elem.ownerDocument.createTextNode(e)),this.elem.appendChild(t)}visitStr(e){return this.visitStrInner(e.str),null}visitURL(e){if(this.rootContentValue.url)this.elem.setAttribute("src",e.url);else{const t=this.elem.ownerDocument.createElementNS(F.XHTML,"img");t.setAttribute("src",e.url),this.elem.appendChild(t)}return null}visitSpaceList(e){return this.visitValues(e.values),null}visitExpr(e){const t=e.toExpr();let n=t.evaluate(this.context);if("string"==typeof n){t instanceof nt&&(n=oo(t.scope,new li(n,null),"").stringValue()),this.elem.ownerDocument;const e=this.exprContentListener(t,n,this.elem.ownerDocument);this.visitStrInner(n,e)}return null}}function Jr(e){return null!=e&&e!==Mt.normal&&e!==Mt.none&&e!==Mt.inherit}const ea=br.FloatReference;function ta(e){switch(e){case ea.INLINE:return!1;case ea.COLUMN:case ea.REGION:case ea.PAGE:return!0;default:throw new Error(`Unknown float-reference: ${e}`)}}class na{constructor(e,t,n,i,o,s){this.nodePosition=e,this.floatReference=t,this.floatSide=n,this.clearSide=i,this.flowName=o,this.floatMinWrapBlock=s,this.order=null,this.id=null}getOrder(){if(null===this.order)throw new Error("The page float is not yet added");return this.order}getId(){if(!this.id)throw new Error("The page float is not yet added");return this.id}isAllowedOnContext(e){return e.isAnchorAlreadyAppeared(this.getId())}isAllowedToPrecede(e){return!1}}class ia{constructor(){this.floats=[],this.nextPageFloatIndex=0}nextOrder(){return this.nextPageFloatIndex++}createPageFloatId(e){return`pf${e}`}addPageFloat(e){if(this.floats.findIndex(t=>Ur(t.nodePosition,e.nodePosition))>=0)throw new Error("A page float with the same source node is already registered");{const t=e.order=this.nextOrder();e.id=this.createPageFloatId(t),this.floats.push(e)}}findPageFloatByNodePosition(e){const t=this.floats.findIndex(t=>Ur(t.nodePosition,e));return t>=0?this.floats[t]:null}findPageFloatById(e){const t=this.floats.findIndex(t=>t.id===e);return t>=0?this.floats[t]:null}}class oa{constructor(e,t,n,i,o){this.floatReference=e,this.floatSide=t,this.continuations=n,this.area=i,this.continues=o}hasFloat(e){return this.continuations.some(t=>t.float===e)}findNotAllowedFloat(e){for(let t=this.continuations.length-1;t>=0;t--){const n=this.continuations[t].float;if(!n.isAllowedOnContext(e))return n}return null}getOuterShape(){return this.area.getOuterShape(null,null)}getOuterRect(){return this.area.getOuterRect()}getOrder(){const e=this.continuations.map(e=>e.float);return Math.min.apply(null,e.map(e=>e.getOrder()))}shouldBeStashedBefore(e){return this.getOrder()<e.getOrder()}addContinuations(e){e.forEach(e=>{this.continuations.push(e)})}getFlowName(){const e=this.continuations[0].float.flowName;return this.continuations.every(t=>t.float.flowName===e),e}}class sa{constructor(e,t){this.float=e,this.nodePosition=t}equals(e){return!!e&&(this===e||this.float===e.float&&Ur(this.nodePosition,e.nodePosition))}}class ra{constructor(e,t,n,i,o,s,r){this.parent=e,this.floatReference=t,this.container=n,this.flowName=i,this.generatingNodePosition=o,this.children=[],this.invalidated=!1,this.forbiddenFloats=[],this.floatFragments=[],this.stashedFloatFragments=[],this.floatAnchors={},this.floatsDeferredToNext=[],this.layoutConstraints=[],this.locked=!1,e&&e.children.push(this),this.writingMode=s||e&&e.writingMode||Mt.horizontal_tb,this.direction=r||e&&e.direction||Mt.ltr,this.floatStore=e?e.floatStore:new ia;const a=this.getPreviousSibling();this.floatsDeferredFromPrevious=a?[].concat(a.floatsDeferredToNext):[]}getParent(e){if(!this.parent)throw new Error(`No PageFloatLayoutContext for ${e}`);return this.parent}getPreviousSiblingOf(e,t,n,i){let o=this.children.indexOf(e);o<0&&(o=this.children.length);for(let e=o-1;e>=0;e--){let o=this.children[e];if(o.floatReference===t&&o.flowName===n&&Ur(o.generatingNodePosition,i))return o;if(o=o.getPreviousSiblingOf(null,t,n,i),o)return o}return null}getPreviousSibling(){let e,t=this,n=this.parent;for(;n;){if(e=n.getPreviousSiblingOf(t,this.floatReference,this.flowName,this.generatingNodePosition),e)return e;t=n,n=n.parent}return null}getContainer(e){return e&&e!==this.floatReference?this.getParent(e).getContainer(e):this.container}setContainer(e){this.container=e,this.reattachFloatFragments()}addPageFloat(e){this.floatStore.addPageFloat(e)}getPageFloatLayoutContext(e){return e===this.floatReference?this:this.getParent(e).getPageFloatLayoutContext(e)}findPageFloatByNodePosition(e){return this.floatStore.findPageFloatByNodePosition(e)}forbid(e){const t=e.getId(),n=e.floatReference;n===this.floatReference?this.forbiddenFloats.includes(t)||(this.forbiddenFloats.push(t),(new la).findByFloat(e).forbid(e,this)):this.getParent(n).forbid(e)}isForbidden(e){const t=e.getId(),n=e.floatReference;return n===this.floatReference?this.forbiddenFloats.includes(t):this.getParent(n).isForbidden(e)}addPageFloatFragment(e,t){const n=e.floatReference;n!==this.floatReference?this.getParent(n).addPageFloatFragment(e,t):this.floatFragments.includes(e)||(this.floatFragments.push(e),this.floatFragments.sort((e,t)=>e.getOrder()-t.getOrder())),t||this.invalidate()}removePageFloatFragment(e,t){const n=e.floatReference;if(n!==this.floatReference)this.getParent(n).removePageFloatFragment(e,t);else{const n=this.floatFragments.indexOf(e);if(n>=0){const e=this.floatFragments.splice(n,1)[0],i=e.area&&e.area.element;i&&i.parentNode&&i.parentNode.removeChild(i),t||this.invalidate()}}}findPageFloatFragment(e){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).findPageFloatFragment(e);const t=this.floatFragments.findIndex(t=>t.hasFloat(e));return t>=0?this.floatFragments[t]:null}hasFloatFragments(e){return!(!(this.floatFragments.length>0)||e&&!this.floatFragments.some(e))||!!this.parent&&this.parent.hasFloatFragments(e)}hasContinuingFloatFragmentsInFlow(e){return this.hasFloatFragments(t=>t.continues&&t.getFlowName()===e)}registerPageFloatAnchor(e,t){this.floatAnchors[e.getId()]=t}collectPageFloatAnchors(){const e=Object.assign({},this.floatAnchors);return this.children.reduce((e,t)=>Object.assign(e,t.collectPageFloatAnchors()),e)}isAnchorAlreadyAppeared(e){if(this.getDeferredPageFloatContinuations().some(t=>t.float.getId()===e))return!0;const t=this.collectPageFloatAnchors()[e];return!!t&&!(!this.container||!this.container.element)&&this.container.element.contains(t)}deferPageFloat(e){const t=e.float;if(t.floatReference===this.floatReference){const n=this.floatsDeferredToNext.findIndex(e=>e.float===t);n>=0?this.floatsDeferredToNext.splice(n,1,e):this.floatsDeferredToNext.push(e)}else this.getParent(t.floatReference).deferPageFloat(e)}hasPrecedingFloatsDeferredToNext(e,t){if(!t&&e.floatReference!==this.floatReference)return this.getParent(e.floatReference).hasPrecedingFloatsDeferredToNext(e,!1);const n=e.getOrder();return!!this.floatsDeferredToNext.some(t=>t.float.getOrder()<n&&!e.isAllowedToPrecede(t.float))||!!this.parent&&this.parent.hasPrecedingFloatsDeferredToNext(e,!0)}getLastFollowingFloatInFragments(e){const t=e.getOrder();let n=null;if(this.floatFragments.forEach(e=>{e.continuations.forEach(e=>{const i=e.float,o=i.getOrder();o>t&&(!n||o>n.getOrder())&&(n=i)})}),this.parent){const t=this.parent.getLastFollowingFloatInFragments(e);t&&(!n||t.getOrder()>n.getOrder())&&(n=t)}return n}getDeferredPageFloatContinuations(e){e=e||this.flowName;let t=this.floatsDeferredFromPrevious.filter(t=>!e||t.float.flowName===e);return this.parent&&(t=this.parent.getDeferredPageFloatContinuations(e).concat(t)),t.sort((e,t)=>e.float.getOrder()-t.float.getOrder())}getPageFloatContinuationsDeferredToNext(e){e=e||this.flowName;const t=this.floatsDeferredToNext.filter(t=>!e||t.float.flowName===e);return this.parent?this.parent.getPageFloatContinuationsDeferredToNext(e).concat(t):t}getFloatsDeferredToNextInChildContexts(){let e=[];const t=[];for(let n=this.children.length-1;n>=0;n--){const i=this.children[n];t.includes(i.flowName)||(t.push(i.flowName),e=e.concat(i.floatsDeferredToNext.map(e=>e.float)),e=e.concat(i.getFloatsDeferredToNextInChildContexts()))}return e}checkAndForbidNotAllowedFloat(){if(this.checkAndForbidFloatFollowingDeferredFloat())return!0;for(let e=this.floatFragments.length-1;e>=0;e--){const t=this.floatFragments[e],n=t.findNotAllowedFloat(this);if(n)return this.locked?this.invalidate():(this.removePageFloatFragment(t),this.forbid(n),this.removeEndFloatFragments(t.floatSide)),!0}return!(this.floatReference!==ea.REGION||!this.parent.locked)&&this.parent.checkAndForbidNotAllowedFloat()}checkAndForbidFloatFollowingDeferredFloat(){const e=this.getFloatsDeferredToNextInChildContexts(),t=this.floatFragments.reduce((e,t)=>e.concat(t.continuations.map(e=>e.float)),[]);t.sort((e,t)=>t.getOrder()-e.getOrder());for(const n of t){const t=n.getOrder();if(e.some(e=>!n.isAllowedToPrecede(e)&&t>e.getOrder())){if(this.locked)this.invalidate();else{this.forbid(n);const e=this.findPageFloatFragment(n);this.removePageFloatFragment(e)}return!0}}return!1}finish(){if(!this.checkAndForbidNotAllowedFloat()){for(let e=this.floatsDeferredToNext.length-1;e>=0;e--)if(!this.floatsDeferredToNext[e].float.isAllowedOnContext(this)){if(this.locked)return void this.invalidate();this.floatsDeferredToNext.splice(e,1)}this.floatsDeferredFromPrevious.forEach(e=>{this.floatsDeferredToNext.findIndex(t=>e.equals(t))>=0||this.floatFragments.some(t=>t.hasFloat(e.float))||this.floatsDeferredToNext.push(e)})}}hasSameContainerAs(e){return!!this.container&&!!e.container&&this.container.element===e.container.element}invalidate(){this.invalidated=!0,this.locked||(this.container&&(this.children.forEach(e=>{this.hasSameContainerAs(e)&&e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),this.container.clear()),this.children.forEach(e=>{e.layoutConstraints.splice(0)}),this.children.splice(0),Object.keys(this.floatAnchors).forEach(e=>{delete this.floatAnchors[e]}))}detachChildren(){const e=this.children.splice(0);return e.forEach(e=>{e.floatFragments.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)})}),e}attachChildren(e){e.forEach(e=>{this.children.push(e),e.reattachFloatFragments()})}isInvalidated(){return this.invalidated||!!this.parent&&this.parent.isInvalidated()}validate(){this.invalidated=!1}toLogical(e){return function(e,t,n){return er(e,t,n||null,ir)}(e,this.writingMode.toString(),this.direction.toString())}toPhysical(e){return function(e,t,n){return er(e,t,n||null,nr)}(e,this.writingMode.toString(),this.direction.toString())}removeEndFloatFragments(e){const t=this.toLogical(e);if("block-end"===t||"inline-end"===t){let e=0;for(;e<this.floatFragments.length;){const n=this.floatFragments[e];this.toLogical(n.floatSide)===t?this.removePageFloatFragment(n):e++}}}stashEndFloatFragments(e){const t=e.floatReference;if(t!==this.floatReference)return void this.getParent(t).stashEndFloatFragments(e);const n=this.toLogical(e.floatSide);if("block-end"===n||"snap-block"===n||"inline-end"===n){let t=0;for(;t<this.floatFragments.length;){const i=this.floatFragments[t],o=this.toLogical(i.floatSide);(o===n||"snap-block"===n&&"block-end"===o)&&i.shouldBeStashedBefore(e)?(this.stashedFloatFragments.push(i),this.floatFragments.splice(t,1)):t++}}}restoreStashedFragments(e){e===this.floatReference?(this.stashedFloatFragments.forEach(e=>{this.addPageFloatFragment(e,!0)}),this.stashedFloatFragments.splice(0)):this.getParent(e).restoreStashedFragments(e)}discardStashedFragments(e){e===this.floatReference?this.stashedFloatFragments.splice(0):this.getParent(e).discardStashedFragments(e)}getStashedFloatFragments(e){return e===this.floatReference?this.stashedFloatFragments.concat().sort((e,t)=>t.getOrder()-e.getOrder()):this.getParent(e).getStashedFloatFragments(e)}getLimitValue(e,t,n,i){this.container;const o=this.toLogical(e),s=this.toPhysical(e),r=this.getLimitValueInner(o,t,n,i);if(this.parent&&this.parent.container){const e=this.parent.getLimitValue(s,t,n,i);switch(s){case"top":case"left":return Math.max(r,e);case"bottom":case"right":return Math.min(r,e)}}return r}getLimitValueInner(e,t,n,i){this.container;const o=this.getLimitValuesInner(t,n,i);switch(e){case"block-start":return this.container.vertical?o.right:o.top;case"block-end":return this.container.vertical?o.left:o.bottom;case"inline-start":return this.container.vertical?o.top:o.left;case"inline-end":return this.container.vertical?o.bottom:o.right;default:throw new Error(`Unknown logical side: ${e}`)}}getLimitValuesInner(e,t,n){this.container;const i=this.container.originX,o=this.container.originY,s=this.container.getPaddingRect();let r={top:s.y1-o,left:s.x1-i,bottom:s.y2-o,right:s.x2-i,floatMinWrapBlockStart:0,floatMinWrapBlockEnd:0};function a(n,i,o){return"%"===n.unit?o*n.num/100:e.convertLengthToPx(n,i,t)}const l=this.floatFragments;return l.length>0&&(r=l.reduce((e,t)=>{if(n&&!n(t,this))return e;const i=this.toLogical(t.floatSide),o=t.area,r=t.continuations[0].float.floatMinWrapBlock;let l=e.top,h=e.left,c=e.bottom,u=e.right,d=e.floatMinWrapBlockStart,p=e.floatMinWrapBlockEnd;switch(i){case"inline-start":o.vertical?l=Math.max(l,o.top+o.height):h=Math.max(h,o.left+o.width);break;case"block-start":o.vertical?(r&&o.left<u&&(d=a(r,o.rootViewNodes[0],s.x2-s.x1)),u=Math.min(u,o.left)):(r&&o.top+o.height>l&&(d=a(r,o.rootViewNodes[0],s.y2-s.y1)),l=Math.max(l,o.top+o.height));break;case"inline-end":o.vertical?c=Math.min(c,o.top):u=Math.min(u,o.left);break;case"block-end":o.vertical?(r&&o.left+o.width>h&&(p=a(r,o.rootViewNodes[0],s.x2-s.x1)),h=Math.max(h,o.left+o.width)):(r&&o.top<c&&(p=a(r,o.rootViewNodes[0],s.y2-s.y1)),c=Math.min(c,o.top));break;default:throw new Error(`Unknown logical float side: ${i}`)}return{top:l,left:h,bottom:c,right:u,floatMinWrapBlockStart:d,floatMinWrapBlockEnd:p}},r)),r.left+=i,r.right+=i,r.top+=o,r.bottom+=o,r}setFloatAreaDimensions(e,t,n,i,o,s,r){if(t!==this.floatReference)return this.getParent(t).setFloatAreaDimensions(e,t,n,i,o,s,r);let a=this.toLogical(n);if("snap-block"===a){if(!r["block-start"]&&!r["block-end"])return null}else if(!r[a])return null;e.clientLayout;let l=this.getLimitValue("block-start",e.layoutContext,e.clientLayout),h=this.getLimitValue("block-end",e.layoutContext,e.clientLayout),c=this.getLimitValue("inline-start",e.layoutContext,e.clientLayout),u=this.getLimitValue("inline-end",e.layoutContext,e.clientLayout);const d=e.vertical?e.originX:e.originY,p=e.vertical?e.originY:e.originX;function f(t,n){let i=t(e.bands,n);return i?(e.vertical&&(i=an(i)),l=e.vertical?Math.min(l,i.x2):Math.max(l,i.y1),h=e.vertical?Math.max(h,i.x1):Math.min(h,i.y2),!0):s}let g,m,b,w;if(l=e.vertical?Math.min(l,e.left+e.getInsetLeft()+e.width+e.getInsetRight()+d):Math.max(l,e.top+d),h=e.vertical?Math.max(h,e.left+d):Math.min(h,e.top+e.getInsetTop()+e.height+e.getInsetBottom()+d),o){const t=e.vertical?rn(new Wt(h,c,l,u)):new Wt(c,l,u,h);if(("block-start"===a||"snap-block"===a||"inline-start"===a)&&!f(un,t))return null;if(("block-end"===a||"snap-block"===a||"inline-end"===a)&&!f(dn,t))return null;if(b=(h-l)*e.getBoxDir(),g=b-e.getInsetBefore()-e.getInsetAfter(),w=u-c,m=w-e.getInsetStart()-e.getInsetEnd(),!s&&(g<=0||m<=0))return null}else{g=e.computedBlockSize,b=g+e.getInsetBefore()+e.getInsetAfter();const t=(h-l)*e.getBoxDir();if("snap-block"===a){if(null===i)a="block-start";else{const e=this.container.getPaddingRect();a=this.container.getBoxDir()*(i-(this.container.vertical?e.x2:e.y1))<=this.container.getBoxDir()*((this.container.vertical?e.x1:e.y2)-i-b)?"block-start":"block-end"}if(!r[a]){if(!r["block-end"])return null;a="block-end"}}if(!s&&t<b)return null;m="inline-start"===a||"inline-end"===a?sr(e.clientLayout,e.element,[or.FIT_CONTENT_INLINE_SIZE])[or.FIT_CONTENT_INLINE_SIZE]:e.adjustContentRelativeSize?e.getContentInlineSize():e.vertical?e.height:e.width,w=m+e.getInsetStart()+e.getInsetEnd();const n=u-c;if(!s&&n<w)return null}switch(l-=d,h-=d,c-=p,u-=p,a){case"inline-start":case"block-start":case"snap-block":e.setInlinePosition(c,m),e.setBlockPosition(l,g);break;case"inline-end":case"block-end":e.setInlinePosition(u-w,m),e.setBlockPosition(h-b*e.getBoxDir(),g);break;default:throw new Error(`unknown float direction: ${n}`)}return a}getFloatFragmentExclusions(){const e=this.floatFragments.map(e=>e.getOuterShape());return this.parent?this.parent.getFloatFragmentExclusions().concat(e):e}reattachFloatFragments(){const e=this.container.element&&this.container.element.parentNode;e&&this.floatFragments.forEach(t=>{e.appendChild(t.area.element)})}getMaxReachedAfterEdge(){const e=this.getContainer().vertical;return this.floatFragments.reduce((t,n)=>{const i=n.getOuterRect();return e?Math.min(t,i.x1):Math.max(t,i.y2)},e?1/0:0)}getBlockStartEdgeOfBlockEndFloats(){const e=this.getContainer().vertical;return this.floatFragments.filter(e=>"block-end"===e.floatSide).reduce((t,n)=>{const i=n.getOuterRect();return e?Math.max(t,i.x2):Math.min(t,i.y1)},e?0:1/0)}getPageFloatClearEdge(e,t){function n(e){return t=>e.isAnchorAlreadyAppeared(t.float.getId())}function i(e,t){return e.continuations.some(n(t))}const o=t.getPaddingRect(),s=t.vertical?o.x1:o.y2;let r=this;for(;r;){if(r.floatsDeferredToNext.some(n(r)))return s;r=r.parent}t.clientLayout;const a=this.getLimitValue("block-start",t.layoutContext,t.clientLayout,i);return this.getLimitValue("block-end",t.layoutContext,t.clientLayout,i)*t.getBoxDir()<s*t.getBoxDir()?s:a}getPageFloatPlacementCondition(e,t,n){if(e.floatReference!==this.floatReference)return this.getParent(e.floatReference).getPageFloatPlacementCondition(e,t,n);const i={"block-start":!0,"block-end":!0,"inline-start":!0,"inline-end":!0};if(!n)return i;const o=this.toLogical(t),s=this.toLogical(n);let r;r="all"===s?["block-start","block-end","inline-start","inline-end"]:"both"===s?["inline-start","inline-end"]:"same"===s?"snap-block"===o?["block-start","block-end"]:[o]:[s];const a=e.getOrder();function l(e){return t=>t.floatSide===e&&t.getOrder()<a}return r.forEach(e=>{switch(e){case"block-start":case"inline-start":i[e]=!function e(t,n){return t.children.some(t=>t.floatFragments.some(l(n))||e(t,n))}(this,e);break;case"block-end":case"inline-end":i[e]=!function e(t,n){const i=t.parent;return!!i&&(i.floatFragments.some(l(n))||e(i,n))}(this,e);break;default:throw new Error(`Unexpected side: ${e}`)}}),i}getLayoutConstraints(){return(this.parent?this.parent.getLayoutConstraints():[]).concat(this.layoutConstraints)}addLayoutConstraint(e,t){t===this.floatReference?this.layoutConstraints.push(e):this.getParent(t).addLayoutConstraint(e,t)}isColumnFullWithPageFloats(e){const t=e.layoutContext,n=e.clientLayout;let i=this,o=null;for(;i&&i.container;){const s=i.getLimitValuesInner(t,n);o?e.vertical?(s.right<o.right&&(o.right=s.right,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.left>o.left&&(o.left=s.left,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):(s.top>o.top&&(o.top=s.top,o.floatMinWrapBlockStart=s.floatMinWrapBlockStart),s.bottom<o.bottom&&(o.bottom=s.bottom,o.floatMinWrapBlockEnd=s.floatMinWrapBlockEnd)):o=s,i=i.parent}const s=Math.max(o.floatMinWrapBlockStart,o.floatMinWrapBlockEnd);return(e.vertical?o.right-o.left:o.bottom-o.top)<=s}getMaxBlockSizeOfPageFloats(){const e=this.getContainer().vertical;return this.floatFragments.length?Math.max.apply(null,this.floatFragments.map(t=>{const n=t.area;return e?n.width:n.height})):0}lock(){this.locked=!0}unlock(){this.locked=!1}isLocked(){return this.locked}}const aa=[];class la{static register(e){aa.push(e)}findByNodeContext(e){for(let t=aa.length-1;t>=0;t--){const n=aa[t];if(n.appliesToNodeContext(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}findByFloat(e){for(let t=aa.length-1;t>=0;t--){const n=aa[t];if(n.appliesToFloat(e))return n}throw new Error(`No PageFloatLayoutStrategy found for ${e}`)}}la.register(new class{appliesToNodeContext(e){return ta(e.floatReference)}appliesToFloat(e){return!0}createPageFloat(e,t,n){let i=e.floatReference;e.floatSide;const o=e.floatSide,s=e.toNodePosition();return n.resolveFloatReferenceFromColumnSpan(i,e.columnSpan,e).thenAsync(n=>{i=n,t.flowName;const r=new na(s,i,o,e.clearSide,t.flowName,e.floatMinWrapBlock);return t.addPageFloat(r),pi(r)})}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new oa(o.floatReference,t,e,n,i)}findPageFloatFragment(e,t){return t.findPageFloatFragment(e)}adjustPageFloatArea(e,t,n){}forbid(e,t){}});const ha=oa;class ca extends na{constructor(e,t,n,i,o){super(e,t,"block-end",null,n,o),this.footnotePolicy=i}isAllowedToPrecede(e){return!(e instanceof ca)}}class ua extends ha{constructor(e,t,n,i){super(e,"block-end",t,n,i)}getOrder(){return 1/0}shouldBeStashedBefore(e){return e instanceof ca||this.getOrder()<e.getOrder()}}class da{constructor(e){this.footnote=e}allowLayout(e){return!Ur(e.toNodePosition(),this.footnote.nodePosition)}}la.register(new class{appliesToNodeContext(e){return"footnote"===e.floatSide}appliesToFloat(e){return e instanceof ca}createPageFloat(e,t,n){let i=ea.REGION;const o=t.getPageFloatLayoutContext(i);t.getPageFloatLayoutContext(ea.PAGE).hasSameContainerAs(o)&&(i=ea.PAGE);const s=e.toNodePosition();t.flowName;const r=new ca(s,i,t.flowName,e.footnotePolicy,e.floatMinWrapBlock);return t.addPageFloat(r),pi(r)}createPageFloatFragment(e,t,n,i){const o=e[0].float;return new ua(o.floatReference,e,n,i)}findPageFloatFragment(e,t){const n=t.getPageFloatLayoutContext(e.floatReference).floatFragments.filter(e=>e instanceof ua);return n.length,n[0]||null}adjustPageFloatArea(e,t,n){e.isFootnote=!0,e.adjustContentRelativeSize=!1;const i=e.element;e.vertical=n.layoutContext.applyFootnoteStyle(t.vertical,n.layoutContext.nodeContext&&"rtl"===n.layoutContext.nodeContext.direction,i),e.convertPercentageSizesToPx(i),n.setComputedInsets(i,e),n.setComputedWidthAndHeight(i,e)}forbid(e,t){const n=e;switch(n.footnotePolicy){case Mt.line:{const e=new da(n);t.addLayoutConstraint(e,n.floatReference);break}}}});const pa={page:!0,left:!0,right:!0,recto:!0,verso:!0,column:!0,region:!0};function fa(e){return!!pa[e]}const ga={avoid:!0,"avoid-page":!0,"avoid-column":!0,"avoid-region":!0};function ma(e){return!!ga[e]}function ba(e,t){if(!e)return t;if(!t)return e;{const n=fa(e),i=fa(t);if(!n||!i)return i?t:n?e:ma(t)?t:ma(e)?e:t;switch(t){case"column":return e;case"region":return"column"===e?t:e;default:return t}}}function wa(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return"any"}}function Ea(e){switch(e){case"left":case"right":case"recto":case"verso":return e;default:return null}}function ya(e,t,n,i){const o=e.viewNode;if(!o)return NaN;if(1==o.nodeType){if(e.after||!e.inline){const n=t.getElementClientRect(o);if(n.right>=n.left&&n.bottom>=n.top)return e.after?i?n.left:n.bottom:i?n.right:n.top}return NaN}{let s=NaN;const r=o.ownerDocument.createRange(),a=o.textContent.length;if(!a)return NaN;e.after&&(n+=a),n>=a&&(n=a-1),r.setStart(o,n),r.setEnd(o,n+1);let l=t.getRangeClientRects(r);i&&function(e){if(null==ie){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="100px",n.style.height="100px",n.style.overflow="hidden",n.style.lineHeight="16px",n.style.fontSize="16px",V(n,"writing-mode","vertical-rl"),e.appendChild(n);const i=t.createTextNode("a a a a a a a a a a a a a a a a");n.appendChild(i);const o=t.createRange();o.setStart(i,0),o.setEnd(i,1);const s=o.getBoundingClientRect();ie=s.right-s.left<10,e.removeChild(n)}return ie}(document.body)&&(l=function(e,t,n){const i=n.ownerDocument.createRange();i.setStart(n,0),i.setEnd(n,n.textContent.length);const o=e.getRangeClientRects(i),s=[];for(const e of t){let t;for(t=0;t<o.length;t++){const n=o[t];if(e.top>=n.top&&e.bottom<=n.bottom&&Math.abs(e.left-n.left)<1){s.push({top:e.top,left:n.left,bottom:e.bottom,right:n.right});break}}t==o.length&&(c.warn("Could not fix character box"),s.push(e))}return s}(t,l,o));let h=0;for(const e of l){const t=i?e.bottom-e.top:e.right-e.left;e.right>e.left&&e.bottom>e.top&&(isNaN(s)||t>h)&&(s=i?e.left:e.bottom,h=t)}return s}}function Sa(e,t,n){const i=t.clientLayout.getElementClientRect(e),o=t.getComputedMargin(e);return n?i.width+o.left+o.right:i.height+o.top+o.bottom}function Na(e){for(;e;){if(e.parentNode===e.ownerDocument)return!1;e=e.parentNode}return!0}function va(e,t){if(!e)return;let n;for(;(n=e.lastChild)!=t;)e.removeChild(n)}function Ca(e){return!!e.getAttribute("data-adapt-spec")}function Ta(e){if(!e)return!1;const t=e.viewNode;return!(!t||1!==t.nodeType)&&Ca(t)}p("SIMPLE_PROPERTY",(function(e){const t=e.name,n=e.value;switch(t){case"page-break-before":case"page-break-after":case"page-break-inside":return{name:t.replace(/^page-/,""),value:n===Mt.always?Mt.page:n,important:e.important};default:return e}}));class xa{calculateOffset(e){return Ia(this.getNodeContext(),e.collectElementsOffset())}breakPositionChosen(e){}getNodeContext(){return null}}function Ia(e,t){return{current:t.reduce((t,n)=>t+n.calculateOffset(e),0),minimum:t.reduce((t,n)=>t+n.calculateMinimumOffset(e),0)}}class Pa extends xa{constructor(e,t,n,i){super(),this.position=e,this.breakOnEdge=t,this.overflows=n,this.computedBlockSize=i,this.isEdgeUpdated=!1,this.edge=0,this.overflowIfRepetitiveElementsDropped=n}findAcceptableBreak(e,t){return this.updateOverflows(e),t<this.getMinBreakPenalty()?null:e.findEdgeBreakPosition(this)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");const e=this.isFirstContentOfRepetitiveElementsOwner()&&!this.overflowIfRepetitiveElementsDropped;return(ma(this.breakOnEdge)?1:0)+(this.overflows&&!e?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}updateEdge(e){const t=e.calculateClonedPaddingBorder(this.position);this.edge=ya(this.position,e.clientLayout,0,e.vertical)+t,this.isEdgeUpdated=!0}updateOverflows(e){this.isEdgeUpdated||this.updateEdge(e);const t=this.edge,n=this.calculateOffset(e);this.overflowIfRepetitiveElementsDropped=e.isOverflown(t+(e.vertical?-1:1)*n.minimum),this.overflows=this.position.overflow=e.isOverflown(t+(e.vertical?-1:1)*n.current)}getNodeContext(){return this.position}isFirstContentOfRepetitiveElementsOwner(){const e=this.getNodeContext();if(!e||!e.parent)return!1;const{formattingContext:t}=e.parent;if(!Er.isInstanceOfRepetitiveElementsOwnerFormattingContext(t))return!1;const n=t.getRepetitiveElements();return!!n&&n.isFirstContentNode(e)}}function Aa(e){const t=e.toString();let n;switch(t){case"inline-flex":n="flex";break;case"inline-grid":n="grid";break;case"inline-table":n="table";break;case"inline":case"table-row-group":case"table-column":case"table-column-group":case"table-header-group":case"table-footer-group":case"table-row":case"table-cell":case"table-caption":case"inline-block":n="block";break;default:n=t}return Tt(n)}function Oa(e){return e===Mt.absolute||e===Mt.fixed}function Ra(e,t,n,i){return e===Mt.none||(Oa(t)?(n=Mt.none,e=Aa(e)):(n&&n!==Mt.none||i)&&(e=Aa(e))),{display:e,position:t,float:n}}function ka(e,t,n,i){return Ra(e,t,n,i).display===Mt.block}function La(e){switch(e.toString()){case"inline":case"inline-block":case"inline-list-item":case"inline-flex":case"inline-grid":case"ruby":case"inline-table":return!0;default:return!1}}class Fa{find(e){const n=g(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR);for(let t=0;t<n.length;t++){const i=n[t](e);if(i)return i}throw new Error(`No processor found for a formatting context: ${e.getName()}`)}}class Da{layout(e,t,n){return t.isFloatNodeContext(e)?t.layoutFloatOrFootnote(e):t.isBreakable(e)?t.layoutBreakableBlock(e):t.layoutUnbreakable(e)}createEdgeBreakPosition(e,t,n,i){return new Pa(e.copy(),t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}clearOverflownViewNodes(e,t,n,i){if(!n.viewNode)return;if(!n.viewNode.parentNode)return;const o=n.viewNode.parentNode;va(o,n.viewNode),i&&o.removeChild(n.viewNode)}finishBreak(e,t,n,i){const o=n||null!=t.viewNode&&1==t.viewNode.nodeType&&!t.after;return e.clearOverflownViewNodes(t,o),i&&(e.fixJustificationIfNeeded(t,!0),e.layoutContext.processFragmentedBlockEdge(o?t:t.parent)),pi(!0)}}class _a{constructor(e){this.parent=e,this.formattingContextType="Block"}getName(){return"Block formatting context (BlockFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}saveState(){}restoreState(e){}}const Ba=new Da,Ma=mr.isInstanceOfBlockFormattingContext;p(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(e,t,n,i,o,s)=>{const r=e.parent;return!r&&e.formattingContext||r&&e.formattingContext!==r.formattingContext?null:e.establishesBFC||!e.formattingContext&&ka(n,i,o,s)?new _a(r?r.formattingContext:null):null}),p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof _a?Ba:null);class Ua{constructor(){this.initialBreakPositions=null,this.initialStateOfFormattingContext=null}layout(e,t){return this.prepareLayout(e,t),this.tryLayout(e,t)}tryLayout(e,t){const n=di("AbstractLayoutRetryer.tryLayout");this.saveState(e,t);const i=this.resolveLayoutMode(e);return i.doLayout(e,t).then(o=>{let s=i.accept(o,t);s=i.postLayout(o,this.initialPosition,t,s),s?n.finish(o):(this.initialPosition,this.clearNodes(this.initialPosition),this.restoreState(e,t),this.tryLayout(this.initialPosition,t).thenFinish(n))}),n.result()}prepareLayout(e,t){}clearNodes(e){const t=e.viewNode||e.parent.viewNode;let n,i;for(;n=t.lastChild;)t.removeChild(n);for(;i=t.nextSibling;)i.parentNode.removeChild(i)}saveState(e,t){this.initialPosition=e.copy(),this.initialBreakPositions=[].concat(t.breakPositions),this.initialFragmentLayoutConstraints=[].concat(t.fragmentLayoutConstraints),e.formattingContext&&(this.initialStateOfFormattingContext=e.formattingContext.saveState())}restoreState(e,t){t.breakPositions=this.initialBreakPositions,t.fragmentLayoutConstraints=this.initialFragmentLayoutConstraints,e.formattingContext&&e.formattingContext.restoreState(this.initialStateOfFormattingContext)}}class za{constructor(e,t){this.strategy=e,this.layoutContext=t}iterate(e){const t=this.strategy,n=t.initialState(e),i=di("LayoutIterator");return i.loopWithFrame(e=>{let i;for(;n.nodeContext;){i=n.nodeContext.viewNode?1!==n.nodeContext.viewNode.nodeType?Lr(n.nodeContext.viewNode,n.nodeContext.whitespace)?n.nodeContext.after?t.afterIgnoredTextNode(n):t.startIgnoredTextNode(n):n.nodeContext.after?t.afterNonElementNode(n):t.startNonElementNode(n):n.nodeContext.inline?n.nodeContext.after?t.afterInlineElementNode(n):t.startInlineElementNode(n):n.nodeContext.after?t.afterNonInlineElementNode(n):t.startNonInlineElementNode(n):n.nodeContext.after?t.afterNonDisplayableNode(n):t.startNonDisplayableNode(n);const o=(i&&i.isPending()?i:pi(!0)).thenAsync(()=>n.break?pi(null):this.layoutContext.nextInTree(n.nodeContext,n.atUnforcedBreak));if(o.isPending())return void o.then(t=>{n.break?e.breakLoop():(n.nodeContext=t,e.continueLoop())});if(n.break)return void e.breakLoop();n.nodeContext=o.get()}t.finish(n),e.breakLoop()}).then(()=>{i.finish(n.nodeContext)}),i.result()}}class Va extends class{initialState(e){return{nodeContext:e,atUnforcedBreak:!1,break:!1}}startNonDisplayableNode(e){}afterNonDisplayableNode(e){}startIgnoredTextNode(e){}afterIgnoredTextNode(e){}startNonElementNode(e){}afterNonElementNode(e){}startInlineElementNode(e){}afterInlineElementNode(e){}startNonInlineElementNode(e){}afterNonInlineElementNode(e){}finish(e){}}{constructor(e){super(),this.leadingEdge=e}startNonInlineBox(e){}endEmptyNonInlineBox(e){}endNonInlineBox(e){}initialState(e){return{nodeContext:e,atUnforcedBreak:!!this.leadingEdge&&e.after,break:!1,leadingEdge:this.leadingEdge,breakAtTheEdge:null,onStartEdges:!1,leadingEdgeContexts:[],lastAfterNodeContext:null}}processForcedBreak(e,t){const n=!e.leadingEdge&&fa(e.breakAtTheEdge);if(n){const n=e.nodeContext=e.leadingEdgeContexts[0]||e.nodeContext;n.viewNode.parentNode.removeChild(n.viewNode),t.pageBreakType=e.breakAtTheEdge}return n}saveEdgeAndProcessOverflow(e,t){const n=t.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge);return n&&(e.nodeContext=(e.lastAfterNodeContext||e.nodeContext).modify(),e.nodeContext.overflow=!0),n}processLayoutConstraint(e,t,n){let i=e.nodeContext;const o=!t.allowLayout(i);return o&&(n.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!1,e.breakAtTheEdge),i=e.nodeContext=i.modify(),i.overflow=!0),o}startNonElementNode(e){e.onStartEdges=!1}startNonInlineElementNode(e){return e.leadingEdgeContexts.push(e.nodeContext.copy()),e.breakAtTheEdge=ba(e.breakAtTheEdge,e.nodeContext.breakBefore),e.onStartEdges=!0,this.startNonInlineBox(e)}afterNonInlineElementNode(e){let t,n;return e.onStartEdges?(t=this.endEmptyNonInlineBox(e),n=t&&t.isPending()?t:pi(!0),n=n.thenAsync(()=>(e.break||(e.leadingEdgeContexts=[],e.leadingEdge=!1,e.atUnforcedBreak=!1,e.breakAtTheEdge=null),pi(!0)))):(t=this.endNonInlineBox(e),n=t&&t.isPending()?t:pi(!0)),n.thenAsync(()=>(e.break||(e.onStartEdges=!1,e.lastAfterNodeContext=e.nodeContext.copy(),e.breakAtTheEdge=ba(e.breakAtTheEdge,e.nodeContext.breakAfter)),pi(!0)))}}let Ha=[];const $a=(new DOMParser).parseFromString(`<root xmlns="${F.SHADOW}"/>`,"text/xml"),Ga=["footnote-marker","first-5-lines","first-4-lines","first-3-lines","first-2-lines","first-line","first-letter","before","","after"];function Wa(e){return e.getAttribute("data-adapt-pseudo")||""}function Xa(e,t){e.setAttribute("data-adapt-pseudo",t)}class ja{constructor(e,t,n,i,o){this.element=e,this.style=t,this.styler=n,this.context=i,this.exprContentListener=o,this.contentProcessed={}}getStyle(e,t){const n=Wa(e);this.styler&&n&&n.match(/after$/)&&(this.style=this.styler.getStyle(this.element,!0),this.styler=null);const i=Lo(this.style,"_pseudos")[n]||{};if(n.match(/^first-/)&&!i["x-first-pseudo"]){let e,t=1;"first-letter"==n?t=0:null!=(e=n.match(/^first-([0-9]+)-lines$/))&&(t=e[1]-0),i["x-first-pseudo"]=new Co(new Pt(t),0)}return i}processContent(e,t){const n=Wa(e);if(!this.contentProcessed[n]){this.contentProcessed[n]=!0;const i=t.content;i&&Jr(i)&&i.visit(new Qr(e,this.context,i,this.exprContentListener))}}}wr.isInstanceOfAfterIfContinuesLayoutConstraint;const Ka=co.registerFragmentIndex;class Ya{constructor(e,t){this.sourceNode=e,this.styler=t}createElement(e,t){const n=t.viewNode.ownerDocument.createElement("div"),i=new sl(e,n,t),o=i.getColumn().pageBreakType;return i.getColumn().pageBreakType=null,i.layout(this.createNodePositionForPseudoElement(),!0).thenAsync(()=>{this.styler.contentProcessed["after-if-continues"]=!1,i.getColumn().pageBreakType=o;const e=n.firstChild;return V(e,"display","block"),pi(e)})}createNodePositionForPseudoElement(){const e=$a.createElementNS(F.XHTML,"div");Xa(e,"after-if-continues");const t=this.createShadowContext(e),n={node:e,shadowType:t.type,shadowContext:t,nodeShadow:null,shadowSibling:null};return new jr({steps:[n],offsetInNode:0,after:!1,preprocessedTextContent:null})}createShadowContext(e){return new $r(this.sourceNode,e,null,null,null,Sr.ShadowType.ROOTED,this.styler)}}class qa{constructor(e,t,n){this.nodeContext=e,this.afterIfContinues=t,this.pseudoElementHeight=n,this.flagmentLayoutConstraintType="AfterIfContinue"}allowLayout(e,t,n){return!(t&&!e||e&&e.overflow)}nextCandidate(e){return!1}postLayout(e,t,n,i){}finishBreak(e,t){return this.getRepetitiveElements().affectTo(e)?this.afterIfContinues.createElement(t,this.nodeContext).thenAsync(e=>(this.nodeContext.viewNode.appendChild(e),pi(!0))):pi(!0)}getRepetitiveElements(){return new Za(this.nodeContext,this.pseudoElementHeight)}equalsTo(e){return e instanceof qa&&this.afterIfContinues==e.afterIfContinues}getPriorityOfFinishBreak(){return 9}}class Za{constructor(e,t){this.nodeContext=e,this.pseudoElementHeight=t}calculateOffset(e){return this.affectTo(e)?this.pseudoElementHeight:0}calculateMinimumOffset(e){return this.calculateOffset(e)}affectTo(e){if(!e)return!1;const t=e.shadowContext?e.shadowContext.owner:e.sourceNode;if(t===this.nodeContext.sourceNode)return!!e.after;for(let e=t.parentNode;e;e=e.parentNode)if(e===this.nodeContext.sourceNode)return!0;return!1}}function Qa(e,t){if(!e||!e.afterIfContinues||e.after||t.isFloatNodeContext(e))return pi(e);const n=e.afterIfContinues;return n.createElement(t,e).thenAsync(i=>{const o=function(e,t,n){const i=e.viewNode;i.appendChild(n);const o=Sa(n,t,e.vertical);return i.removeChild(n),o}(e,t,i);return t.fragmentLayoutConstraints.push(new qa(e,n,o)),pi(e)})}function Ja(e,t){return e.thenAsync(e=>Qa(e,t))}const el={img:!0,svg:!0,audio:!0,video:!0};class tl{constructor(e){this.constraints=e}allowLayout(e){return this.constraints.every(t=>t.allowLayout(e))}}class nl extends xa{constructor(e,t){super(),this.checkPoints=e,this.penalty=t,this.alreadyEvaluated=!1,this.breakNodeContext=null}findAcceptableBreak(e,t){return t<this.getMinBreakPenalty()?null:(this.alreadyEvaluated||(this.breakNodeContext=e.findBoxBreakPosition(this,t>0),this.alreadyEvaluated=!0),this.breakNodeContext)}getMinBreakPenalty(){return this.penalty}getNodeContext(){return this.alreadyEvaluated?this.breakNodeContext:this.checkPoints[this.checkPoints.length-1]}}function il(e){switch(e){case"ruby":case"inline-block":case"inline-flex":case"inline-grid":case"inline-list-item":case"inline-table":return!0}return!1}class ol extends Zr{constructor(e,t,n,i,o){super(e),this.layoutContext=t,this.clientLayout=n,this.layoutConstraint=i,this.pageFloatLayoutContext=o,this.flowRootFormattingContext=null,this.isFloat=!1,this.isFootnote=!1,this.startEdge=0,this.endEdge=0,this.beforeEdge=0,this.afterEdge=0,this.footnoteEdge=0,this.box=null,this.chunkPositions=null,this.bands=null,this.overflown=!1,this.breakPositions=null,this.pageBreakType=null,this.forceNonfitting=!0,this.leftFloatEdge=0,this.rightFloatEdge=0,this.bottommostFloatTop=0,this.stopAtOverflow=!0,this.lastAfterPosition=null,this.fragmentLayoutConstraints=[],this.pseudoParent=null,this.nodeContextOverflowingDueToRepetitiveElements=null,this.blockDistanceToBlockEndFloats=NaN,this.last=e.lastChild,this.viewDocument=e.ownerDocument,o.setContainer(this)}getTopEdge(){return this.vertical?this.startEdge:this.beforeEdge}getBottomEdge(){return this.vertical?this.endEdge:this.afterEdge}getLeftEdge(){return this.vertical?this.afterEdge:this.startEdge}getRightEdge(){return this.vertical?this.beforeEdge:this.endEdge}isFloatNodeContext(e){return!(!e.floatSide||this.isFloat&&!e.parent)}stopByOverflow(e){return this.stopAtOverflow&&!!e&&e.overflow}isOverflown(e){return this.vertical?e<this.footnoteEdge:e>this.footnoteEdge}getExclusions(){const e=this.pageFloatLayoutContext.getFloatFragmentExclusions();return this.exclusions.concat(e)}openAllViews(e){const t=this,n=di("openAllViews"),i=e.steps;t.layoutContext.setViewRoot(t.element,t.isFootnote);let o=i.length-1,s=null;return n.loop(()=>{for(;o>=0;){const n=s,r=i[o];if(s=Vr(r,n),o!==i.length-1||s.formattingContext||(s.formattingContext=t.flowRootFormattingContext),0==o&&(s.offsetInNode=t.calculateOffsetInNodeForNodeContext(e),s.after=e.after,s.preprocessedTextContent=e.preprocessedTextContent,s.after))break;const a=t.layoutContext.setCurrent(s,0==o&&0==s.offsetInNode);if(o--,a.isPending())return a}return pi(!1)}).then(()=>{n.finish(s)}),n.result()}calculateOffsetInNodeForNodeContext(e){return e.preprocessedTextContent?Cr(e.preprocessedTextContent,e.offsetInNode,1):e.offsetInNode}maybePeelOff(e,t){if(e.firstPseudo&&e.inline&&!e.after&&0==e.firstPseudo.count&&1!=e.viewNode.nodeType){const t=e.viewNode.textContent.match(rl);return this.layoutContext.peelOff(e,t[0].length)}return pi(e)}buildViewToNextBlockEdge(e,t){const n=this;let i=!1;const o=di("buildViewToNextBlockEdge");return o.loopWithFrame(o=>{e.viewNode&&!Ta(e)&&t.push(e.copy()),n.maybePeelOff(e,0).then(s=>{s!==e&&(Ta(e=s)||t.push(e.copy())),n.nextInTree(e).then(t=>{(e=t)?(!i&&n.layoutConstraint.allowLayout(e)||(i=!0,(e=e.modify()).overflow=!0),n.isFloatNodeContext(e)&&!n.vertical?n.layoutFloatOrFootnote(e).then(t=>{e=t,n.pageFloatLayoutContext.isInvalidated()&&(e=null),e?o.continueLoop():o.breakLoop()}):e.inline?o.continueLoop():o.breakLoop()):o.breakLoop()})})}).then(()=>{o.finish(e)}),o.result()}nextInTree(e,t){return Ja(this.layoutContext.nextInTree(e,t),this)}buildDeepElementView(e){if(!e.viewNode)return pi(e);let t=[];const n=e.sourceNode,i=this,o=di("buildDeepElementView");return o.loopWithFrame(o=>{e.viewNode&&e.inline&&!Ta(e)?t.push(e.copy()):(t.length>0&&i.postLayoutBlock(e,t),t=[]),i.maybePeelOff(e,0).then(s=>{const r=s;if(r!==e){let i=r;for(;i&&i.sourceNode!=n;)i=i.parent;if(null==i)return e=r,void o.breakLoop();Ta(r)||t.push(r.copy())}i.nextInTree(r).then(t=>{(e=t)&&e.sourceNode!=n?i.layoutConstraint.allowLayout(e)?o.continueLoop():((e=e.modify()).overflow=!0,i.stopAtOverflow?o.breakLoop():o.continueLoop()):o.breakLoop()})})}).then(()=>{t.length>0&&i.postLayoutBlock(e,t),o.finish(e)}),o.result()}createFloat(e,t,n,i){const o=this.viewDocument.createElement("div");return this.vertical?(i>=this.height&&(i-=.1),V(o,"height",`${n}px`),V(o,"width",`${i}px`)):(n>=this.width&&(n-=.1),V(o,"width",`${n}px`),V(o,"height",`${i}px`)),V(o,"float",t),V(o,"clear",t),this.element.insertBefore(o,e),o}killFloats(){let e=this.element.firstChild;for(;e;){const t=e.nextSibling;if(1==e.nodeType){const t=e,n=t.style.cssFloat;if("left"!=n&&"right"!=n)break;this.element.removeChild(t)}e=t}}createFloats(){const e=this.element.firstChild,t=this.bands,n=this.vertical?this.getTopEdge():this.getLeftEdge(),i=this.vertical?this.getBottomEdge():this.getRightEdge();for(const o of t){const t=o.y2-o.y1;o.left=this.createFloat(e,"left",o.x1-n,t),o.right=this.createFloat(e,"right",i-o.x2,t)}}calculateEdge(e,t,n,i){let o;if(e&&Na(e.viewNode))return NaN;if(e&&e.after&&!e.inline&&(o=ya(e,this.clientLayout,0,this.vertical),!isNaN(o)))return o;let s=i-(e=t[n]).boxOffset;for(;;){if(o=ya(e,this.clientLayout,s,this.vertical),!isNaN(o))return o;if(s>0)s--;else{if(--n<0)return this.beforeEdge;1!=(e=t[n]).viewNode.nodeType&&(s=e.viewNode.textContent.length)}}}parseComputedLength(e){if("number"==typeof e)return e;const t=e.match(/^(-?[0-9]*(\.[0-9]*)?)px$/);return t?parseFloat(t[0]):0}getComputedMargin(e){const t=this.clientLayout.getElementComputedStyle(e),n=new jt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.marginLeft),n.top=this.parseComputedLength(t.marginTop),n.right=this.parseComputedLength(t.marginRight),n.bottom=this.parseComputedLength(t.marginBottom)),n}getComputedPaddingBorder(e){const t=this.clientLayout.getElementComputedStyle(e),n=new jt(0,0,0,0);return t&&(n.left=this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)),n}getComputedInsets(e){const t=this.clientLayout.getElementComputedStyle(e),n=new jt(0,0,0,0);if(t){if("border-box"==t.boxSizing)return this.getComputedMargin(e);n.left=this.parseComputedLength(t.marginLeft)+this.parseComputedLength(t.borderLeftWidth)+this.parseComputedLength(t.paddingLeft),n.top=this.parseComputedLength(t.marginTop)+this.parseComputedLength(t.borderTopWidth)+this.parseComputedLength(t.paddingTop),n.right=this.parseComputedLength(t.marginRight)+this.parseComputedLength(t.borderRightWidth)+this.parseComputedLength(t.paddingRight),n.bottom=this.parseComputedLength(t.marginBottom)+this.parseComputedLength(t.borderBottomWidth)+this.parseComputedLength(t.paddingBottom)}return n}setComputedInsets(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.marginLeft=this.parseComputedLength(n.marginLeft),t.borderLeft=this.parseComputedLength(n.borderLeftWidth),t.paddingLeft=this.parseComputedLength(n.paddingLeft),t.marginTop=this.parseComputedLength(n.marginTop),t.borderTop=this.parseComputedLength(n.borderTopWidth),t.paddingTop=this.parseComputedLength(n.paddingTop),t.marginRight=this.parseComputedLength(n.marginRight),t.borderRight=this.parseComputedLength(n.borderRightWidth),t.paddingRight=this.parseComputedLength(n.paddingRight),t.marginBottom=this.parseComputedLength(n.marginBottom),t.borderBottom=this.parseComputedLength(n.borderBottomWidth),t.paddingBottom=this.parseComputedLength(n.paddingBottom))}setComputedWidthAndHeight(e,t){const n=this.clientLayout.getElementComputedStyle(e);n&&(t.width=this.parseComputedLength(n.width),t.height=this.parseComputedLength(n.height))}layoutUnbreakable(e){return this.buildDeepElementView(e)}layoutFloat(e){const t=this,n=di("layoutFloat"),i=e.viewNode,o=e.floatSide;return V(i,"float","none"),V(i,"display","inline-block"),V(i,"vertical-align","top"),t.buildDeepElementView(e).then(s=>{const r=t.clientLayout.getElementClientRect(i),a=t.getComputedMargin(i);let l=new Wt(r.left-a.left,r.top-a.top,r.right+a.right,r.bottom+a.bottom),h=t.startEdge,c=t.endEdge,u=e.parent;for(;u&&u.inline;)u=u.parent;if(u){const n=u.viewNode.ownerDocument.createElement("div");n.style.left="0px",n.style.top="0px",t.vertical?(n.style.bottom="0px",n.style.width="1px"):(n.style.right="0px",n.style.height="1px"),u.viewNode.appendChild(n);const i=t.clientLayout.getElementClientRect(n);h=Math.max(t.getStartEdge(i),h),c=Math.min(t.getEndEdge(i),c),u.viewNode.removeChild(n);const s=t.vertical?l.y2-l.y1:l.x2-l.x1;"left"==o?c=Math.max(c,h+s):h=Math.min(h,c-s),u.viewNode.appendChild(e.viewNode)}let d=new Wt(h,t.getBoxDir()*t.beforeEdge,c,t.getBoxDir()*t.afterEdge),p=l;t.vertical&&(p=rn(l));const f=t.getBoxDir();if(p.y1<t.bottommostFloatTop*f){const e=p.y2-p.y1;p.y1=t.bottommostFloatTop*f,p.y2=p.y1+e}!function(e,t,n,i){let o=n.y1;const s=n.x2-n.x1,r=n.y2-n.y1;let a=cn(t,o);for(;;){const l=o+r;if(l>e.y2)return!1;let h=e.x1,c=e.x2;for(let e=a;e<t.length&&t[e].y1<l;e++){const n=t[e];n.x1>h&&(h=n.x1),n.x2<c&&(c=n.x2)}if(h+s<=c||a>=t.length)return"left"==i?(n.x1=h,n.x2=h+s):(n.x1=c-s,n.x2=c),n.y2+=o-n.y1,n.y1=o,!0;o=t[a].y2,a++}}(d,t.bands,p,o),t.vertical&&(l=an(p));const g=t.getComputedInsets(i);let m;V(i,"width",`${l.x2-l.x1-g.left-g.right}px`),V(i,"height",`${l.y2-l.y1-g.top-g.bottom}px`),V(i,"position","absolute"),e.display,V(i,"display",e.display);let b=null;if(u&&(b=u.containingBlockForAbsolute?u:u.getContainingBlockForAbsolute()),b){const e=b.viewNode.ownerDocument.createElement("div");e.style.position="absolute",b.vertical?e.style.right="0":e.style.left="0",e.style.top="0",b.viewNode.appendChild(e),m=t.clientLayout.getElementClientRect(e),b.viewNode.removeChild(e)}else m={left:t.getLeftEdge()-t.paddingLeft,right:t.getRightEdge()+t.paddingRight,top:t.getTopEdge()-t.paddingTop};(b?b.vertical:t.vertical)?V(i,"right",`${m.right-l.x2}px`):V(i,"left",`${l.x1-m.left}px`),V(i,"top",`${l.y1-m.top}px`),e.clearSpacer&&(e.clearSpacer.parentNode.removeChild(e.clearSpacer),e.clearSpacer=null);const w=t.vertical?l.x1:l.y2,E=t.vertical?l.x2:l.y1;t.isOverflown(w)&&0!=t.breakPositions.length?((e=e.modify()).overflow=!0,n.finish(e)):(t.killFloats(),d=new Wt(t.getLeftEdge(),t.getTopEdge(),t.getRightEdge(),t.getBottomEdge()),t.vertical&&(d=rn(d)),function(e,t,n,i,o){for(i||(i=[new Yt(n.y1,n.y2,n.x1,n.x2)]);i.length>0&&i[0].y2<=e.y1;)i.shift();if(0==i.length)return;let s;i[0].y1<e.y1&&(i[0].y1=e.y1);const r=0==t.length?e.y1:t[t.length-1].y2;r<e.y2&&t.push(new Yt(r,e.y2,e.x1,e.x2));let a=cn(t,i[0].y1);for(const n of i){if(a==t.length)break;for(t[a].y1<n.y1&&(s=t[a],a++,t.splice(a,0,new Yt(n.y1,s.y2,s.x1,s.x2)),s.y2=n.y1);a<t.length&&(s=t[a++],s.y2>n.y2&&(t.splice(a,0,new Yt(n.y2,s.y2,s.x1,s.x2)),s.y2=n.y2),n.x1!=n.x2&&("left"==o?s.x1=Math.min(n.x2,e.x2):s.x2=Math.max(n.x1,e.x1)),s.y2!=n.y2););}hn(e,t)}(d,t.bands,p,null,o),t.createFloats(),"left"==o?t.leftFloatEdge=w:t.rightFloatEdge=w,t.bottommostFloatTop=E,t.updateMaxReachedAfterEdge(w),n.finish(s))}),n.result()}setupFloatArea(e,t,n,i,o,s){const r=this.pageFloatLayoutContext,a=r.getContainer(t),l=e.element;a.element.parentNode.appendChild(l),e.isFloat=!0,e.originX=a.originX,e.originY=a.originY,e.vertical=a.vertical,e.marginLeft=e.marginRight=e.marginTop=e.marginBottom=0,e.borderLeft=e.borderRight=e.borderTop=e.borderBottom=0,e.paddingLeft=e.paddingRight=e.paddingTop=e.paddingBottom=0,e.exclusions=(a.exclusions||[]).concat(),e.forceNonfitting=!r.hasFloatFragments(),e.innerShape=null;const h=a.getPaddingRect();e.setHorizontalPosition(h.x1-a.originX,h.x2-h.x1),e.setVerticalPosition(h.y1-a.originY,h.y2-h.y1),o.adjustPageFloatArea(e,a,this),e.init();const c=!!r.setFloatAreaDimensions(e,t,n,i,!0,!r.hasFloatFragments(),s);return c?(e.killFloats(),e.init()):a.element.parentNode.removeChild(l),c}createPageFloatArea(e,t,n,i,o){const s=this.element.ownerDocument.createElement("div");V(s,"position","absolute");const r=this.pageFloatLayoutContext.getPageFloatLayoutContext(e.floatReference),a=new ra(null,ea.COLUMN,null,this.pageFloatLayoutContext.flowName,e.nodePosition,null,null),l=r.getContainer(),h=new ul(t,s,this.layoutContext.clone(),this.clientLayout,this.layoutConstraint,a,l);return a.setContainer(h),this.setupFloatArea(h,e.floatReference,t,n,i,o)?h:null}layoutSinglePageFloatFragment(e,t,n,i,o,s,r){const a=this.pageFloatLayoutContext,l=r?r.continuations:[],h=(e=l.concat(e))[0].float,c=a.getPageFloatPlacementCondition(h,t,n),u=this.createPageFloatArea(h,t,s,o,c),d={floatArea:u,pageFloatFragment:null,newPosition:null};if(!u)return pi(d);const p=di("layoutSinglePageFloatFragment");let f=!1,g=0;return p.loopWithFrame(t=>{if(g>=e.length)return void t.breakLoop();const n=e[g],o=new jr(n.nodePosition);u.layout(o,!0).then(e=>{d.newPosition=e,!e||i?(g++,t.continueLoop()):(f=!0,t.breakLoop())})}).then(()=>{if(!f){const n=a.setFloatAreaDimensions(u,h.floatReference,t,s,!1,i,c);if(n){const t=o.createPageFloatFragment(e,n,u,!!d.newPosition);a.addPageFloatFragment(t,!0),d.pageFloatFragment=t}else f=!0}p.finish(d)}),p.result()}layoutPageFloatInner(e,t,n,i){const o=this.pageFloatLayoutContext,s=e.float;function r(t,n){n?o.removePageFloatFragment(n,!0):t&&t.element.parentNode.removeChild(t.element),o.restoreStashedFragments(s.floatReference),o.deferPageFloat(e)}o.stashEndFloatFragments(s);const a=di("layoutPageFloatInner"),l=this;return this.layoutSinglePageFloatFragment([e],s.floatSide,s.clearSide,!o.hasFloatFragments(),t,n,i).then(e=>{const t=e.floatArea,n=e.pageFloatFragment,h=e.newPosition;n?l.layoutStashedPageFloats(s.floatReference,[i]).then(e=>{if(e){if(o.addPageFloatFragment(n),o.discardStashedFragments(s.floatReference),h){const e=new sa(s,h.primary);o.deferPageFloat(e)}a.finish(!0)}else r(t,n),a.finish(!1)}):(r(t,n),a.finish(!1))}),a.result()}layoutStashedPageFloats(e,t){const n=this.pageFloatLayoutContext,i=n.getStashedFloatFragments(e),o=[],s=[];let r=!1;const a=di("layoutStashedPageFloats"),l=this;let h=0;return a.loopWithFrame(e=>{if(h>=i.length)return void e.breakLoop();const n=i[h];if(t.includes(n))return h++,void e.continueLoop();const a=(new la).findByFloat(n.continuations[0].float);l.layoutSinglePageFloatFragment(n.continuations,n.floatSide,null,!1,a,null).then(t=>{const n=t.floatArea;n&&o.push(n);const i=t.pageFloatFragment;i?(s.push(i),h++,e.continueLoop()):(r=!0,e.breakLoop())})}).then(()=>{r?(s.forEach(e=>{n.removePageFloatFragment(e,!0)}),o.forEach(e=>{const t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)})):i.forEach(e=>{const t=e.area.element;t&&t.parentNode&&t.parentNode.removeChild(t)}),a.finish(!r)}),a.result()}setFloatAnchorViewNode(e){const t=e.viewNode.parentNode,n=t.ownerDocument.createElement("span");n.setAttribute("data-adapt-spec","1"),"footnote"===e.floatSide&&this.layoutContext.applyPseudoelementStyle(e,"footnote-call",n),t.appendChild(n),t.removeChild(e.viewNode);const i=e.modify();return i.after=!0,i.viewNode=n,i}resolveFloatReferenceFromColumnSpan(e,t,n){const i=this,o=di("resolveFloatReferenceFromColumnSpan"),s=this.pageFloatLayoutContext,r=s.getPageFloatLayoutContext(ea.REGION);return s.getContainer().width<r.getContainer().width&&e===ea.COLUMN?t===Mt.auto?this.buildDeepElementView(n.copy()).then(t=>{const n=t.viewNode;let s=sr(i.clientLayout,n,[or.MIN_CONTENT_INLINE_SIZE])[or.MIN_CONTENT_INLINE_SIZE];const r=i.getComputedMargin(n);i.vertical?s+=r.top+r.bottom:s+=r.left+r.right,s>i.width?o.finish(ea.REGION):o.finish(e)}):t===Mt.all?o.finish(ea.REGION):o.finish(e):o.finish(e),o.result()}layoutPageFloat(e){const t=this,n=this.pageFloatLayoutContext,i=(new la).findByNodeContext(e);let o;const s=n.findPageFloatByNodePosition(e.toNodePosition());return o=s?pi(s):i.createPageFloat(e,n,this),o.thenAsync(o=>{const s=zr(e,0),r=t.setFloatAnchorViewNode(e),a=i.findPageFloatFragment(o,n),l=new sa(o,s);if(a&&a.hasFloat(o))return n.registerPageFloatAnchor(o,r.viewNode),pi(r);if(n.isForbidden(o)||n.hasPrecedingFloatsDeferredToNext(o))return n.deferPageFloat(l),n.registerPageFloatAnchor(o,r.viewNode),pi(r);if(t.nodeContextOverflowingDueToRepetitiveElements)return pi(null);{const e=ya(r,t.clientLayout,0,t.vertical);return t.isOverflown(e)?pi(r):t.layoutPageFloatInner(l,i,e,a).thenAsync(e=>e?pi(null):(n.registerPageFloatAnchor(o,r.viewNode),pi(r)))}})}createJustificationAdjustmentElement(e,t,n,i){const o=t.createElement("span");o.style.visibility="hidden",o.style.verticalAlign="top",o.setAttribute("data-adapt-spec","1");const s=t.createElement("span");s.style.fontSize="0",s.style.lineHeight="0",s.textContent=" #",o.appendChild(s),o.style.display="block",o.style.textIndent="0",o.style.textAlign="left",n.insertBefore(o,e);const r=this.clientLayout.getElementClientRect(s);o.style.textAlign="right";const a=this.clientLayout.getElementClientRect(s);o.style.textAlign="",function(e){if(null===oe){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="30px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a | ");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="30px",n.appendChild(o);const s=t.createRange();s.setStart(i,0),s.setEnd(i,3);const r=s.getBoundingClientRect();oe=r.right<27,e.removeChild(n)}return oe}(document.body)?o.style.display="inline":o.style.display="inline-block";const l=i?a.top-r.top:a.left-r.left,h=l>=1?`${l-1}px`:"100%";return i?o.style.paddingTop=h:o.style.paddingLeft=h,o}addAndAdjustJustificationElement(e,t,n,i,o,s){return function(e,t,n,i){if(function(e){if(null===se){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i);const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();se=r.right<37,e.removeChild(n)}return se}(document.body)){const o=ll(e),s=t?n:n.previousSibling,r=s?s.textContent:"";if(r.charAt(r.length-1)===o){const e=n.ownerDocument,t=n.parentNode;!function(e){if(null===re){const t=e.ownerDocument,n=t.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.width="40px",n.style.height="100px",n.style.lineHeight="16px",n.style.fontSize="16px",n.style.textAlign="justify",e.appendChild(n);const i=t.createTextNode("a a-");n.appendChild(i),n.appendChild(t.createElement("wbr"));const o=t.createElement("span");o.style.display="inline-block",o.style.width="40px",n.appendChild(o);const s=t.createRange();s.setStart(i,2),s.setEnd(i,4);const r=s.getBoundingClientRect();re=r.right<37,e.removeChild(n)}return re}(document.body)?t.insertBefore(e.createElement("wbr"),i):t.insertBefore(e.createTextNode(" "),i)}}}(e,t,n,i),this.createJustificationAdjustmentElement(i,o,s,e.vertical)}compensateJustificationLineHeight(e,t,n){const i=this.clientLayout.getElementClientRect(e),o=this.clientLayout.getElementClientRect(t);n.vertical?(t.style.marginRight=`${o.right-i.right}px`,t.style.width="0px"):(t.style.marginTop=`${i.top-o.top}px`,t.style.height="0px"),t.setAttribute("data-adapt-spec","1")}fixJustificationIfNeeded(e,t){if(e.after&&!e.inline)return;if(t){let t="";for(let n=e.parent;n&&!t;n=n.parent)!n.inline&&n.viewNode&&(t=n.viewNode.style.textAlign);if("justify"!==t)return}const n=e.viewNode,i=n.ownerDocument,o=t&&(e.after||1!=n.nodeType);let s=o?n.nextSibling:n;s&&!s.parentNode&&(s=null);const r=n.parentNode||e.parent&&e.parent.viewNode;if(!r)return;const a=this.addAndAdjustJustificationElement(e,o,n,s,i,r);if(!t){const t=i.createElement("div");r.insertBefore(t,s),this.compensateJustificationLineHeight(a,t,e)}}processLineStyling(e,t,n){const i=this,o=di("processLineStyling");let s=n.concat([]);n.splice(0,n.length);let r=0,a=e.firstPseudo;return 0==a.count&&(a=a.outer),o.loopWithFrame(n=>{if(!a)return void n.breakLoop();const o=i.findLinePositions(s),l=a.count-r;if(o.length<=l)return void n.breakLoop();const h=i.findAcceptableBreakInside(s,o[l-1],!0);null!=h?i.finishBreak(h,!1,!1).then(()=>{r+=l,i.layoutContext.peelOff(h,0).then(o=>{e=o,i.fixJustificationIfNeeded(e,!1),a=e.firstPseudo,s=[],i.buildViewToNextBlockEdge(e,s).then(e=>{t=e,n.continueLoop()})})}):n.breakLoop()}).then(()=>{Array.prototype.push.apply(n,s),o.finish(t)}),o.result()}isLoneImage(e){return!(2!=e.length&&this.breakPositions.length>0)&&e[0].sourceNode==e[1].sourceNode&&el[e[0].sourceNode.localName]}getTrailingMarginEdgeAdjustment(e){let t=0,n=0;for(let i=e.length-1;i>=0;i--){const o=e[i];if(!o.after||!o.viewNode||1!=o.viewNode.nodeType)break;const s=this.getComputedMargin(o.viewNode),r=this.vertical?-s.left:s.bottom;r>0?t=Math.max(t,r):n=Math.min(n,r)}return t-n}layoutBreakableBlock(e){const t=this,n=di("layoutBreakableBlock"),i=[];return t.buildViewToNextBlockEdge(e,i).then(o=>{const s=i.length-1;if(s<0)return void n.finish(o);let r,a=t.calculateEdge(o,i,s,i[s].boxOffset),l=!1;if(!o||!Na(o.viewNode)){const e=Ia(o,t.collectElementsOffset());l=t.isOverflown(a+(t.vertical?-1:1)*e.minimum),t.isOverflown(a+(t.vertical?-1:1)*e.current)&&!t.nodeContextOverflowingDueToRepetitiveElements&&(t.nodeContextOverflowingDueToRepetitiveElements=o)}null==o&&(a+=t.getTrailingMarginEdgeAdjustment(i)),t.updateMaxReachedAfterEdge(a),r=e.firstPseudo?t.processLineStyling(e,o,i):pi(o),r.then(e=>{t.postLayoutBlock(e,i),i.length>0&&(t.saveBoxBreakPosition(i),l&&!t.isLoneImage(i)&&e&&((e=e.modify()).overflow=!0)),n.finish(e)})}),n.result()}postLayoutBlock(e,n){g(t.HOOKS.POST_LAYOUT_BLOCK).forEach(t=>{t(e,n,this)})}findEndOfLine(e,t,n){const i=this.vertical?e-1:e+1;let o,s=0,r=t[0].boxOffset,a=s,l=t.length-1,h=t[l].boxOffset;for(;r<h;){o=r+Math.ceil((h-r)/2),a=s;let e=l;for(;a<e;){const n=a+Math.ceil((e-a)/2);t[n].boxOffset>o?e=n-1:a=n}const c=this.calculateEdge(null,t,a,o);if(this.vertical?c<=i:c>=i){for(h=o-1;t[a].boxOffset==o;)a--;l=a}else n&&this.updateMaxReachedAfterEdge(c),r=o,s=a}return{nodeContext:t[a],index:r,checkPointIndex:a}}findAcceptableBreakInside(e,t,n){const i=this.findEndOfLine(t,e,!0);let o=i.nodeContext;const s=o.viewNode;if(1!=s.nodeType){const t=s;o=this.resolveTextNodeBreaker(o).breakTextNode(t,o,i.index,e,i.checkPointIndex,n)}return this.clearOverflownViewNodes(o,!1),o}resolveTextNodeBreaker(e){return g(t.HOOKS.RESOLVE_TEXT_NODE_BREAKER).reduce((t,n)=>n(e)||t,al.instance)}getRangeBoxes(e,t){const n=[],i=e.ownerDocument.createRange();let o=!1,s=e,r=null,a=!1,l=!0;for(;l;){let e=!0;do{let n=null;s==t&&(l=1===t.nodeType&&!(!t.firstChild||o)),1!=s.nodeType?(a||(i.setStartBefore(s),a=!0),r=s):o?o=!1:Ca(s)?e=!a:"ruby"==s.localName||il(this.clientLayout.getElementComputedStyle(s).display)?(e=!a,e&&(i.setStartBefore(s),a=!0,r=s),s.contains(t)&&(l=!1)):n=s.firstChild,n||(n=s.nextSibling,n||(o=!0,n=s.parentNode)),s=n}while(e&&l);if(a){i.setEndAfter(r);const e=this.clientLayout.getRangeClientRects(i);for(let t=0;t<e.length;t++)n.push(e[t]);a=!1}}return n}findLinePositions(e){const t=[],n=this.getRangeBoxes(e[0].viewNode,e[e.length-1].viewNode);n.sort(this.vertical?Br:_r);let i=0,o=0,s=0,r=0,a=0;const l=this.getBoxDir();for(;;){if(a<n.length){const e=n[a];let t=1;if(r>0){const n=Math.max(this.getBoxSize(e),1);t=l*this.getBeforeEdge(e)<l*i?l*(this.getAfterEdge(e)-i)/n:l*this.getAfterEdge(e)>l*o?l*(o-this.getBeforeEdge(e))/n:1}if(0==r||t>=.6||t>=.2&&this.getStartEdge(e)>=s-1){s=this.getEndEdge(e),this.vertical?(i=0==r?e.right:Math.max(i,e.right),o=0==r?e.left:Math.min(o,e.left)):(i=0==r?e.top:Math.min(i,e.top),o=0==r?e.bottom:Math.max(o,e.bottom)),r++,a++;continue}}if(r>0&&(t.push(o),r=0),a>=n.length)break}return t.sort(J),this.vertical&&t.reverse(),t}calculateClonedPaddingBorder(e){let t=0;return e.walkUpBlocks(e=>{if("clone"===e.inheritedProps["box-decoration-break"]){e.viewNode,Element;const n=this.getComputedPaddingBorder(e.viewNode);t+=e.vertical?-n.left:n.bottom,"table"===e.display&&(t+=e.blockBorderSpacing)}}),t}getOffsetByRepetitiveElements(e){let t;return t=e?e.calculateOffset(this):Ia(null,this.collectElementsOffset()),t.current}findBoxBreakPosition(e,t){const n=this,i=e.checkPoints;let o,s,r=i[0];for(;r.parent&&r.inline;)r=r.parent;t?(o=1,s=1):(o=Math.max((r.inheritedProps.widows||2)-0,1),s=Math.max((r.inheritedProps.orphans||2)-0,1));const a=n.calculateClonedPaddingBorder(r),l=this.findLinePositions(i);let h=this.footnoteEdge-a;const c=this.getBoxDir(),u=this.getOffsetByRepetitiveElements(e);h-=c*u;const d=this.findFirstOverflowingEdgeAndCheckPoint(i);isNaN(d.edge)&&(d.edge=c*(1/0));let p=Q(l.length,e=>{const t=l[e];return n.vertical?t<h||t<=d.edge:t>h||t>=d.edge});const f=p<=0;if(f&&(p=Q(l.length,e=>n.vertical?l[e]<h:l[e]>h)),p=Math.min(l.length-o,p),p<s)return null;let g;if(h=l[p-1],g=f?d.checkPoint:this.findAcceptableBreakInside(e.checkPoints,h,t),g){const e=this.getAfterEdgeOfBlockContainer(g);!isNaN(e)&&e<h&&(h=e),this.computedBlockSize=c*(h-this.beforeEdge)+u}return g}getAfterEdgeOfBlockContainer(e){let t=e;do{t=t.parent}while(t&&t.inline);return t?(t=t.copy().modify(),t.after=!0,ya(t,this.clientLayout,0,this.vertical)):NaN}findFirstOverflowingEdgeAndCheckPoint(e){const t=e.findIndex(e=>e.overflow);if(t<0)return{edge:NaN,checkPoint:null};const n=e[t];return{edge:this.calculateEdge(null,e,t,n.boxOffset),checkPoint:n}}findEdgeBreakPosition(e){return this.computedBlockSize=e.computedBlockSize+this.getOffsetByRepetitiveElements(e),e.position}finishBreak(e,t,n){e.formattingContext;let i=(new Fa).find(e.formattingContext).finishBreak(this,e,t,n);return i||(i=Ba.finishBreak(this,e,t,n)),i}findAcceptableBreakPosition(){let e=null,t=null,n=0,i=0;do{n=i,i=Number.MAX_VALUE;for(let o=this.breakPositions.length-1;o>=0&&!t;--o){e=this.breakPositions[o],t=e.findAcceptableBreak(this,n);const s=e.getMinBreakPenalty();s>n&&(i=Math.min(i,s))}}while(i>n&&!t&&this.forceNonfitting);return{breakPosition:t?e:null,nodeContext:t}}doFinishBreak(e,t,n,i){if(this.pageFloatLayoutContext.isInvalidated()||this.pageBreakType||!t)return pi(e);const o=this,s=di("doFinishBreak");let r=!1;if(!e){if(this.forceNonfitting)return c.warn("Could not find any page breaks?!!"),o.skipTailEdges(t).then(e=>{e?((e=e.modify()).overflow=!1,o.finishBreak(e,r,!0).then(()=>{s.finish(e)})):s.finish(e)}),s.result();e=n,r=!0,o.computedBlockSize=i}return this.finishBreak(e,r,!0).then(()=>{s.finish(e)}),s.result()}isBreakable(e){if(e.after)return!0;switch(e.sourceNode.namespaceURI){case F.SVG:return!1}return!e.flexContainer}zeroIndent(e){const t=e.toString();return""==t||"auto"==t||!!t.match(/^0+(.0*)?[^0-9]/)}checkOverflowAndSaveEdge(e,t){if(!e)return!1;if(Na(e.viewNode))return!1;let n=ya(e,this.clientLayout,0,this.vertical);const i=Ia(e,this.collectElementsOffset()),o=this.isOverflown(n+(this.vertical?-1:1)*i.minimum);if(this.isOverflown(n+(this.vertical?-1:1)*i.current)&&!this.nodeContextOverflowingDueToRepetitiveElements)this.nodeContextOverflowingDueToRepetitiveElements=e;else if(t){const e=n+this.getTrailingMarginEdgeAdjustment(t),o=this.footnoteEdge-this.getBoxDir()*i.current;n=this.vertical?Math.min(n,Math.max(e,o)):Math.max(n,Math.min(e,o))}return this.updateMaxReachedAfterEdge(n),o}checkOverflowAndSaveEdgeAndBreakPosition(e,t,n,i){if(!e)return!1;if(Na(e.viewNode))return!1;const o=this.checkOverflowAndSaveEdge(e,t);return!n&&o||this.saveEdgeBreakPosition(e,i,o),o}applyClearance(e){if(!e.viewNode.parentNode)return!1;const t=this.getComputedMargin(e.viewNode),n=e.viewNode.ownerDocument.createElement("div");this.vertical?(n.style.bottom="0px",n.style.width="1px",n.style.marginRight=`${t.right}px`):(n.style.right="0px",n.style.height="1px",n.style.marginTop=`${t.top}px`),e.viewNode.parentNode.insertBefore(n,e.viewNode);let i=this.clientLayout.getElementClientRect(n);const o=this.getBeforeEdge(i),s=this.getBoxDir(),r=e.clearSide;let a=-this.getBoxDir()*(1/0);switch("all"===r&&(a=this.pageFloatLayoutContext.getPageFloatClearEdge(r,this)),r){case"left":a=s*Math.max(a*s,this.leftFloatEdge*s);break;case"right":a=s*Math.max(a*s,this.rightFloatEdge*s);break;default:a=s*Math.max(a*s,Math.max(this.rightFloatEdge*s,this.leftFloatEdge*s))}if(o*s>=a*s)return e.viewNode.parentNode.removeChild(n),!1;{const r=Math.max(1,(a-o)*s);this.vertical?n.style.width=`${r}px`:n.style.height=`${r}px`,i=this.clientLayout.getElementClientRect(n);const l=this.getAfterEdge(i);if(this.vertical){let e=l+t.right-a;e>0==t.right>=0&&(e+=t.right),n.style.marginLeft=`${e}px`}else{let e=a-(l+t.top);e>0==t.top>=0&&(e+=t.top),n.style.marginBottom=`${e}px`}return e.clearSpacer=n,!0}}isBFC(e){return!!Ma(e)||!!Er.isInstanceOfRepetitiveElementsOwnerFormattingContext(e)}skipEdges(e,t,n){const i=e.after?e.parent&&e.parent.formattingContext:e.formattingContext;if(i&&!this.isBFC(i))return pi(e);const o=this,s=di("skipEdges");let r=!n&&t&&e&&e.after,a=n,l=null,h=[],c=[],u=!1;function d(){return!!n||!t&&fa(a)}function p(){(e=h[0]||e).viewNode.parentNode.removeChild(e.viewNode),o.pageBreakType=a}return s.loopWithFrame(n=>{for(;e;){e.formattingContext;const i=(new Fa).find(e.formattingContext);do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Lr(e.viewNode,e.whitespace))break;if(!e.after)return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)?(e=(o.stopAtOverflow&&l||e).modify()).overflow=!0:(e=e.modify()).breakBefore=a,void n.breakLoop()}if(!e.after){if(i&&i.startNonInlineElementNode(e))break;if(e.clearSide&&o.applyClearance(e)&&t&&0===o.breakPositions.length&&o.saveEdgeBreakPosition(e.copy(),a,!1),!o.isBFC(e.formattingContext)||Er.isInstanceOfRepetitiveElementsOwnerFormattingContext(e.formattingContext)||o.isFloatNodeContext(e)||e.flexContainer)return h.push(e.copy()),a=ba(a,e.breakBefore),d()?p():!o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&o.layoutConstraint.allowLayout(e)||((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop()}if(1!=e.viewNode.nodeType)break;const s=e.viewNode.style;if(e.after){if(e.inline)break;if(i&&i.afterNonInlineElementNode(e,o.stopAtOverflow))break;if(u){if(d())return p(),void n.breakLoop();h=[],t=!1,r=!1,a=null}u=!1,l=e.copy(),c.push(l),a=ba(a,e.breakAfter),!s||o.zeroIndent(s.paddingBottom)&&o.zeroIndent(s.borderBottomWidth)||(c=[l])}else{if(h.push(e.copy()),a=ba(a,e.breakBefore),!o.layoutConstraint.allowLayout(e)&&(o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!o.stopAtOverflow,a),(e=e.modify()).overflow=!0,o.stopAtOverflow))return void n.breakLoop();const t=e.viewNode.localName;if(el[t])return d()?p():o.checkOverflowAndSaveEdgeAndBreakPosition(l,null,!0,a)&&((e=(o.stopAtOverflow&&l||e).modify()).overflow=!0),void n.breakLoop();!s||o.zeroIndent(s.paddingTop)&&o.zeroIndent(s.borderTopWidth)||(r=!1,c=[]),u=!0}}while(0);const s=o.nextInTree(e,r);if(s.isPending())return void s.then(t=>{e=t,n.continueLoop()});e=s.get()}o.checkOverflowAndSaveEdgeAndBreakPosition(l,c,!o.stopAtOverflow,a)?l&&o.stopAtOverflow&&((e=l.modify()).overflow=!0):fa(a)&&(o.pageBreakType=a),n.breakLoop()}).then(()=>{l&&(o.lastAfterPosition=l.toNodePosition()),s.finish(e)}),s.result()}skipTailEdges(e){let t=e.copy();const n=this,i=di("skipEdges");let o=null,s=!1;return i.loopWithFrame(i=>{for(;e;){do{if(!e.viewNode)break;if(e.inline&&1!=e.viewNode.nodeType){if(Lr(e.viewNode,e.whitespace))break;if(!e.after)return fa(o)&&(n.pageBreakType=o),void i.breakLoop()}if(!e.after&&(n.isFloatNodeContext(e)||e.flexContainer))return o=ba(o,e.breakBefore),fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(1!=e.viewNode.nodeType)break;const t=e.viewNode.style;if(e.after){if(s){if(fa(o))return n.pageBreakType=o,void i.breakLoop();o=null}s=!1,o=ba(o,e.breakAfter)}else{o=ba(o,e.breakBefore);const s=e.viewNode.localName;if(el[s])return fa(o)&&(n.pageBreakType=o),void i.breakLoop();if(t&&(!n.zeroIndent(t.paddingTop)||!n.zeroIndent(t.borderTopWidth)))return void i.breakLoop()}s=!0}while(0);const t=n.layoutContext.nextInTree(e);if(t.isPending())return void t.then(t=>{e=t,i.continueLoop()});e=t.get()}t=null,i.breakLoop()}).then(()=>{i.finish(t)}),i.result()}layoutFloatOrFootnote(e){return ta(e.floatReference)||"footnote"===e.floatSide?this.layoutPageFloat(e):this.layoutFloat(e)}layoutNext(e,t,n){const i=this,o=di("layoutNext");return this.skipEdges(e,t,n||null).then(n=>{if(!(e=n)||i.pageBreakType||i.stopByOverflow(e))o.finish(e);else{const n=e.formattingContext;(new Fa).find(n).layout(e,i,t).thenFinish(o)}}),o.result()}clearOverflownViewNodes(e,t){if(e)for(let n=e.parent;e;e=n,n=n?n.parent:null){const i=(n||e).formattingContext;(new Fa).find(i).clearOverflownViewNodes(this,n,e,t),t=!1}}initGeom(){const e=this.element.ownerDocument.createElement("div");e.style.position="absolute",e.style.top=`${this.paddingTop}px`,e.style.right=`${this.paddingRight}px`,e.style.bottom=`${this.paddingBottom}px`,e.style.left=`${this.paddingLeft}px`,this.element.appendChild(e);const t=this.clientLayout.getElementClientRect(e);this.element.removeChild(e);const n=this.originX+this.left+this.getInsetLeft(),i=this.originY+this.top+this.getInsetTop();this.box=new Wt(n,i,n+this.width,i+this.height),this.startEdge=t?this.vertical?t.top:t.left:0,this.endEdge=t?this.vertical?t.bottom:t.right:0,this.beforeEdge=t?this.vertical?t.right:t.top:0,this.afterEdge=t?this.vertical?t.left:t.bottom:0,this.leftFloatEdge=this.beforeEdge,this.rightFloatEdge=this.beforeEdge,this.bottommostFloatTop=this.beforeEdge,this.footnoteEdge=this.afterEdge,this.bands=function(e,t,n,i,o,s){s&&(e=rn(e),t=t.map(e=>ln(e)),n=n.map(e=>ln(e)));const r=t.length,a=n?n.length:0,l=[],h=[];let c,u,d;for(c=0;c<r;c++)t[c].addSegments(h,c);for(c=0;c<a;c++)n[c].addSegments(h,c+r);const p=h.length;h.sort(qt);let f=0;for(;h[f].shapeId>=r;)f++;let g=h[f].low.y;g>e.y1&&l.push(new Yt(e.y1,g,e.x2,e.x2));let m=0;const b=[];for(;m<p&&(d=h[m]).low.y<g;)d.high.y>g&&b.push(d),m++;for(;m<p||b.length>0;){let t=e.y2;const n=Math.min((w=Math.ceil(g+8),(E=o)?Math.ceil(w/E)*E:w),e.y2);for(u=0;u<b.length&&t>n;u++)d=b[u],d.low.x==d.high.x?d.high.y<t&&(t=Math.max(sn(d.high.y,o),n)):d.low.x!=d.high.x&&(t=n);for(t>e.y2&&(t=e.y2);m<p&&(d=h[m]).low.y<t;)if(d.high.y<g)m++;else{if(!(d.low.y<n)){const e=sn(d.low.y,o);e<t&&(t=e);break}d.low.y==d.high.y&&d.low.y==g||(b.push(d),t=n),m++}const i=[];for(u=0;u<b.length;u++)nn(i,b[u],g,t);i.sort((e,t)=>e.x-t.x||e.lowOrHigh-t.lowOrHigh);const s=on(i,r,a);if(0==s.length)l.push(new Yt(g,t,e.x2,e.x2));else{let n=0,i=e.x1;for(u=0;u<s.length;u+=2){const t=Math.max(e.x1,s[u]),o=Math.min(e.x2,s[u+1])-t;o>n&&(n=o,i=t)}0==n?l.push(new Yt(g,t,e.x2,e.x2)):l.push(new Yt(g,t,Math.max(i,e.x1),Math.min(i+n,e.x2)))}if(t==e.y2)break;for(g=t,u=b.length-1;u>=0;u--)b[u].high.y<=t&&b.splice(u,1)}var w,E;return hn(e,l),l}(this.box,[this.getInnerShape()],this.getExclusions(),0,this.snapHeight,this.vertical),this.createFloats()}init(){this.chunkPositions=[],V(this.element,"width",`${this.width}px`),V(this.element,"height",`${this.height}px`),this.initGeom(),this.computedBlockSize=0,this.overflown=!1,this.pageBreakType=null,this.lastAfterPosition=null}saveEdgeBreakPosition(e,t,n){e.formattingContext;const i=e.copy(),o=(new Fa).find(e.formattingContext),s=this.calculateClonedPaddingBorder(i),r=o.createEdgeBreakPosition(i,t,n,this.computedBlockSize+s);this.breakPositions.push(r)}saveBoxBreakPosition(e){const t=e[0].breakPenalty,n=new nl(e,t);this.breakPositions.push(n)}updateMaxReachedAfterEdge(e){if(!isNaN(e)){const t=this.getBoxDir()*(e-this.beforeEdge);this.computedBlockSize=Math.max(t,this.computedBlockSize)}}layout(e,t,n){if(this.chunkPositions.push(e),e.primary.after&&(this.lastAfterPosition=e.primary),this.stopAtOverflow&&this.overflown)return pi(e);if(this.isFullWithPageFloats())return e.primary.after&&1===e.primary.steps.length?pi(null):pi(e);const i=this,o=di("layout");return i.openAllViews(e.primary).then(e=>{let s=null;if(e.viewNode)s=e.copy();else{const e=t=>{t.nodeContext.viewNode&&(s=t.nodeContext,i.layoutContext.removeEventListener("nextInTree",e))};i.layoutContext.addEventListener("nextInTree",e)}const r=new hl(t,n);r.layout(e,i).then(e=>{i.doFinishBreak(e,r.context.overflownNodeContext,s,r.initialComputedBlockSize).then(e=>{let t=null;t=i.pseudoParent?pi(null):i.doFinishBreakOfFragmentLayoutConstraints(e),t.then(()=>{if(i.pageFloatLayoutContext.isInvalidated())o.finish(null);else if(e){i.overflown=!0;const t=new jr(e.toNodePosition());o.finish(t)}else o.finish(null)})})})}),o.result()}isFullWithPageFloats(){return this.pageFloatLayoutContext.isColumnFullWithPageFloats(this)}getMaxBlockSizeOfPageFloats(){return this.pageFloatLayoutContext.getMaxBlockSizeOfPageFloats()}doFinishBreakOfFragmentLayoutConstraints(e){const t=di("doFinishBreakOfFragmentLayoutConstraints"),n=[].concat(this.fragmentLayoutConstraints);n.sort((e,t)=>e.getPriorityOfFinishBreak()-t.getPriorityOfFinishBreak());let i=0;return t.loop(()=>i<n.length?n[i++].finishBreak(e,this).thenReturn(!0):pi(!1)).then(()=>{t.finish(!0)}),t.result()}doLayout(e,t,n){const i=this,o=di("doLayout");let s=null;return i.breakPositions=[],i.nodeContextOverflowingDueToRepetitiveElements=null,o.loopWithFrame(o=>{for(;e;){let r=!0;if(i.layoutNext(e,t,n||null).then(a=>{if(t=!1,n=null,i.nodeContextOverflowingDueToRepetitiveElements&&i.stopAtOverflow?(i.pageBreakType=null,(e=i.nodeContextOverflowingDueToRepetitiveElements).overflow=!0):e=a,i.pageFloatLayoutContext.isInvalidated())o.breakLoop();else if(i.pageBreakType)o.breakLoop();else if(e&&i.stopByOverflow(e)){s=e;const t=i.findAcceptableBreakPosition();e=t.nodeContext,t.breakPosition&&t.breakPosition.breakPositionChosen(i),o.breakLoop()}else r?r=!1:o.continueLoop()}),r)return void(r=!1)}i.computedBlockSize+=i.getOffsetByRepetitiveElements(),o.breakLoop()}).then(()=>{o.finish({nodeContext:e,overflownNodeContext:s})}),o.result()}redoLayout(){const e=this.chunkPositions;let t=this.element.lastChild;for(;t!=this.last;){const e=t.previousSibling;this.element===t.parentNode&&this.layoutContext.isPseudoelement(t)||this.element.removeChild(t),t=e}this.killFloats(),this.init();const n=this,i=di("redoLayout");let o=0,s=null,r=!0;return i.loopWithFrame(t=>{if(o<e.length){const i=e[o++];n.layout(i,r).then(e=>{r=!1,e?(s=e,t.breakLoop()):t.continueLoop()})}else t.breakLoop()}).then(()=>{i.finish(s)}),i.result()}saveDistanceToBlockEndFloats(){const e=this.pageFloatLayoutContext.getBlockStartEdgeOfBlockEndFloats();e>0&&isFinite(e)&&(this.blockDistanceToBlockEndFloats=this.getBoxDir()*(e-this.beforeEdge-this.computedBlockSize))}collectElementsOffset(){const e=[];for(let t=this;t;t=t.pseudoParent)t.fragmentLayoutConstraints.forEach(t=>{if(Er.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}if(wr.isInstanceOfAfterIfContinuesLayoutConstraint(t)){const n=t.getRepetitiveElements();e.push(n)}yr.isInstanceOfTableRowLayoutConstraint(t)&&t.getElementsOffsetsForTableCell(this).forEach(t=>{e.push(t)})});return e}}class sl{constructor(e,t,n){this.startNodeContexts=[],this.column=Object.create(e),this.column.element=t,this.column.layoutContext=e.layoutContext.clone(),this.column.stopAtOverflow=!1,this.column.flowRootFormattingContext=n.formattingContext,this.column.pseudoParent=e;const i=this.column.calculateClonedPaddingBorder(n);this.column.footnoteEdge=this.column.footnoteEdge-i;const o=this;this.column.openAllViews=function(e){return ol.prototype.openAllViews.call(this,e).thenAsync(e=>(o.startNodeContexts.push(e.copy()),pi(e)))}}layout(e,t){return this.column.layout(e,t)}findAcceptableBreakPosition(e){const t=this.column.findAcceptableBreakPosition();if(e){const e=this.startNodeContexts[0].copy(),n=new Pa(e,null,e.overflow,0);if(n.findAcceptableBreak(this.column,0),!t.nodeContext)return{breakPosition:n,nodeContext:e}}return t}finishBreak(e,t,n){return this.column.finishBreak(e,t,n)}doFinishBreakOfFragmentLayoutConstraints(e){this.column.doFinishBreakOfFragmentLayoutConstraints(e)}isStartNodeContext(e){const t=this.startNodeContexts[0];return t.viewNode===e.viewNode&&t.after===e.after&&t.offsetInNode===e.offsetInNode}isLastAfterNodeContext(e){return Ur(e.toNodePosition(),this.column.lastAfterPosition)}getColumnElement(){return this.column.element}getColumn(){return this.column}}const rl=/^[^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*([A-Za-z0-9_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527][^A-Za-z0-9_\u009E\u009F\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02AF\u037B-\u037D\u0386\u0388-\u0482\u048A-\u0527]*)?/;class al{breakTextNode(e,t,n,i,o,s){if(t.after)t.offsetInNode=e.length;else{let i=n-t.boxOffset;const o=e.data;i=173==o.charCodeAt(i)?this.breakAfterSoftHyphen(e,o,i,t):this.breakAfterOtherCharacter(e,o,i,t),i>0&&(t=this.updateNodeContext(t,i,e))}return t}breakAfterSoftHyphen(e,t,n,i){return e.replaceData(n,t.length-n,i.breakWord?"":ll(i)),n+1}breakAfterOtherCharacter(e,t,n,i){const o=t.charAt(n);n++;const s=t.charAt(n);return e.replaceData(n,t.length-n,!i.breakWord&&Y(o)&&Y(s)?ll(i):""),n}updateNodeContext(e,t,n){return(e=e.modify()).offsetInNode+=t,e.breakBefore=null,e}}function ll(e){return e.hyphenateCharacter||e.parent&&e.parent.hyphenateCharacter||"-"}al.instance=new al;class hl extends Ua{constructor(e,t){super(),this.leadingEdge=e,this.initialPageBreakType=null,this.initialComputedBlockSize=0,this.initialOverflown=!1,this.context={overflownNodeContext:null},this.breakAfter=t||null}resolveLayoutMode(e){return new cl(this.leadingEdge,this.breakAfter,this.context)}prepareLayout(e,t){t.fragmentLayoutConstraints=[],t.pseudoParent||(Ha=[])}clearNodes(e){super.clearNodes(e);let t=e;for(;t;){const e=t.viewNode;e&&va(e.parentNode,e),t=t.parent}}saveState(e,t){super.saveState(e,t),this.initialPageBreakType=t.pageBreakType,this.initialComputedBlockSize=t.computedBlockSize,this.initialOverflown=t.overflown}restoreState(e,t){super.restoreState(e,t),t.pageBreakType=this.initialPageBreakType,t.computedBlockSize=this.initialComputedBlockSize,t.overflown=this.initialOverflown}}class cl{constructor(e,t,n){this.leadingEdge=e,this.breakAfter=t,this.context=n}doLayout(e,t){const n=di("DefaultLayoutMode.doLayout");return function(e,t){const n=di("processAfterIfContinuesOfAncestors");let i=e;return n.loop(()=>{if(null!==i){const e=Qa(i,t);return i=i.parent,e.thenReturn(!0)}return pi(!1)}).then(()=>{n.finish(!0)}),n.result()}(e,t).then(()=>{t.doLayout(e,this.leadingEdge,this.breakAfter).then(e=>{this.context.overflownNodeContext=e.overflownNodeContext,n.finish(e.nodeContext)})}),n.result()}accept(e,t){return!(!t.pageFloatLayoutContext.isInvalidated()&&!t.pageBreakType)||t.fragmentLayoutConstraints.length<=0||t.fragmentLayoutConstraints.every(n=>n.allowLayout(e,this.context.overflownNodeContext,t))}postLayout(e,t,n,i){if(!i){const t=n.fragmentLayoutConstraints.some(t=>t.nextCandidate(e));i=!t}return n.fragmentLayoutConstraints.forEach(o=>{o.postLayout(i,e,t,n)}),i}}class ul extends ol{constructor(e,t,n,i,o,s,r){super(t,n,i,o,s),this.floatSide=e,this.parentContainer=r,this.rootViewNodes=[],this.floatMargins=[],this.adjustContentRelativeSize=!0}openAllViews(e){return super.openAllViews(e).thenAsync(e=>(e&&this.fixFloatSizeAndPosition(e),pi(e)))}convertPercentageSizesToPx(e){const t=this.parentContainer.getPaddingRect(),n=t.x2-t.x1,i=t.y2-t.y1;function o(t,n){t.forEach(t=>{const i=H(e,t);if(i&&"%"===i.charAt(i.length-1)){const o=parseFloat(i);V(e,t,`${n*o/100}px`)}})}o(["width","max-width","min-width"],n),o(["height","max-height","min-height"],i),o(["margin-top","margin-right","margin-bottom","margin-left","padding-top","padding-right","padding-bottom","padding-left"],this.vertical?i:n),["margin-top","margin-right","margin-bottom","margin-left"].forEach(t=>{"auto"===H(e,t)&&V(e,t,"0")})}fixFloatSizeAndPosition(e){for(;e.parent;)e=e.parent;e.viewNode.nodeType;const t=e.viewNode;if(this.rootViewNodes.push(t),this.adjustContentRelativeSize&&this.convertPercentageSizesToPx(t),this.floatMargins.push(this.getComputedMargin(t)),this.adjustContentRelativeSize){const e=this.floatSide;if(this.parentContainer.vertical){if("block-end"===e||"left"===e){const e=H(t,"height");""!==e&&"auto"!==e&&V(t,"margin-top","auto")}}else if("block-end"===e||"bottom"===e){const e=H(t,"width");""!==e&&"auto"!==e&&V(t,"margin-left","auto")}}}getContentInlineSize(){return Math.max.apply(null,this.rootViewNodes.map((e,t)=>{const n=this.clientLayout.getElementClientRect(e),i=this.floatMargins[t];return this.vertical?i.top+n.height+i.bottom:i.left+n.width+i.right}))}}class dl{constructor(e,t){this.parent=e,this.rootSourceNode=t,this.formattingContextType="RepetitiveElementsOwner",this.isRoot=!1,this.repetitiveElements=null}getName(){return"Repetitive elements owner formatting context (RepetitiveElementsOwnerFormattingContext)"}isFirstTime(e,t){return t}getParent(){return this.parent}getRepetitiveElements(){return this.repetitiveElements}getRootViewNode(e){const t=this.getRootNodeContext(e);return t?t.viewNode:null}getRootNodeContext(e){do{if(!e.belongsTo(this)&&e.sourceNode===this.rootSourceNode)return e}while(e=e.parent);return null}initializeRepetitiveElements(e){this.repetitiveElements||Ha.some(e=>e.root===this.rootSourceNode&&(this.repetitiveElements=e.elements,!0))||(this.repetitiveElements=new pl(e,this.rootSourceNode),Ha.push({root:this.rootSourceNode,elements:this.repetitiveElements}))}saveState(){}restoreState(e){}}class pl{constructor(e,t){this.vertical=e,this.ownerSourceNode=t,this.headerSourceNode=null,this.footerSourceNode=null,this.headerViewNode=null,this.footerViewNode=null,this.headerNodePosition=null,this.footerNodePosition=null,this.headerHeight=0,this.footerHeight=0,this.isSkipHeader=!1,this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0,this.doneInitialLayout=!1,this.firstContentSourceNode=null,this.lastContentSourceNode=null,this.affectedNodeCache=[],this.afterLastContentNodeCache=[],this.allowInsert=!1}setHeaderNodeContext(e){this.headerNodePosition||(this.headerNodePosition=zr(e,0),this.headerSourceNode=e.sourceNode,this.headerViewNode=e.viewNode)}setFooterNodeContext(e){this.footerNodePosition||(this.footerNodePosition=zr(e,0),this.footerSourceNode=e.sourceNode,this.footerViewNode=e.viewNode)}updateHeight(e){this.headerViewNode&&(this.headerHeight=Sa(this.headerViewNode,e,this.vertical),this.headerViewNode=null),this.footerViewNode&&(this.footerHeight=Sa(this.footerViewNode,e,this.vertical),this.footerViewNode=null)}prepareLayoutFragment(){this.isSkipHeader=this.isSkipFooter=!1,this.enableSkippingFooter=!0,this.enableSkippingHeader=!0}appendHeaderToFragment(e,t,n){return!this.headerNodePosition||this.isSkipHeader?pi(!0):this.appendElementToFragment(this.headerNodePosition,e,t,n)}appendFooterToFragment(e,t,n){return!this.footerNodePosition||this.isSkipFooter?pi(!0):this.appendElementToFragment(this.footerNodePosition,e,t,n)}appendElementToFragment(e,t,n,i){const o=t.viewNode.ownerDocument,s=t.viewNode,r=o.createElement("div");s.appendChild(r);const a=new sl(i,r,t),l=a.getColumn().pageBreakType;return a.getColumn().pageBreakType=null,this.allowInsertRepeatitiveElements=!0,a.layout(new jr(e),!0).thenAsync(()=>(this.allowInsertRepeatitiveElements=!1,s.removeChild(r),this.moveChildren(r,s,n),a.getColumn().pageBreakType=l,pi(!0)))}moveChildren(e,t,n){if(t)for(;e.firstChild;){const i=e.firstChild;e.removeChild(i),i.setAttribute("data-adapt-spec","1"),n?t.insertBefore(i,n):t.appendChild(i)}}calculateOffset(e){let t=0;return e&&!this.affectTo(e)||((!this.isSkipFooter||e&&this.isAfterLastContent(e))&&(t+=this.footerHeight),this.isSkipHeader||(t+=this.headerHeight)),t}calculateMinimumOffset(e){let t=0;return e&&!this.affectTo(e)||(e&&this.isAfterLastContent(e)&&(t+=this.footerHeight),this.enableSkippingHeader||(t+=this.headerHeight)),t}isAfterLastContent(e){return this.findResultFromCache(e,this.afterLastContentNodeCache,t=>this.isAfterNodeContextOf(this.lastContentSourceNode,e,!1))}affectTo(e){return this.findResultFromCache(e,this.affectedNodeCache,t=>this.isAfterNodeContextOf(this.ownerSourceNode,e,!0))}findResultFromCache(e,t,n){const i=t.filter(t=>t.nodeContext.sourceNode===e.sourceNode&&t.nodeContext.after===e.after);if(i.length>0)return i[0].result;{const i=n(e);return t.push({nodeContext:e,result:i}),i}}isAfterNodeContextOf(e,t,n){const i=[];for(let n=e;n;n=n.parentNode){if(t.sourceNode===n)return t.after;i.push(n)}for(let e=t.sourceNode;e;e=e.parentNode){const t=i.indexOf(e);if(t>=0)return!!n&&0===t;for(let t=e;t;t=t.previousElementSibling)if(i.includes(t))return!0}return t.after}isFirstContentNode(e){return e&&this.firstContentSourceNode===e.sourceNode}isEnableToUpdateState(){return!!(!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition||!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition)}updateState(){!this.isSkipFooter&&this.enableSkippingFooter&&this.footerNodePosition?this.isSkipFooter=!0:!this.isSkipHeader&&this.enableSkippingHeader&&this.headerNodePosition&&(this.isSkipHeader=!0)}preventSkippingHeader(){this.isSkipHeader=!1,this.enableSkippingHeader=!1}preventSkippingFooter(){this.isSkipFooter=!1,this.enableSkippingFooter=!1}isHeaderRegistered(){return!!this.headerNodePosition}isFooterRegistered(){return!!this.footerNodePosition}isHeaderSourceNode(e){return this.headerSourceNode===e}isFooterSourceNode(e){return this.footerSourceNode===e}}class fl{constructor(e){this.formattingContext=e}accept(e,t){return!!e}postLayout(e,t,n,i){const o=this.formattingContext.getRepetitiveElements();return o&&(n.clientLayout,o.doneInitialLayout||(o.updateHeight(n),o.doneInitialLayout=!0)),i}}class gl{constructor(e){this.formattingContext=e}accept(e,t){return!0}postLayout(e,t,n,i){return i}}class ml extends fl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}accept(e,t){return!1}}class bl extends gl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return e.belongsTo(this.formattingContext)||e.after||t.fragmentLayoutConstraints.unshift(new wl(e)),this.processor.doLayout(e,t)}}class wl{constructor(e){this.flagmentLayoutConstraintType="RepetitiveElementsOwner";const t=e.formattingContext;this.nodeContext=t.getRootNodeContext(e)}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!Na(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.getRepetitiveElements();return!!t&&!!t.isEnableToUpdateState()&&(t.updateState(),!0)}postLayout(e,t,n,i){const o=this.getRepetitiveElements();o&&e&&i.stopAtOverflow&&(null==t||o.isAfterLastContent(t))&&o.preventSkippingFooter()}finishBreak(e,t){const n=this.nodeContext.formattingContext,i=this.getRepetitiveElements();if(!i)return pi(!0);const o=this.nodeContext;return function(e,t,n){const i=e.getRepetitiveElements();if(i){const o=e.getRootNodeContext(t);if(o.viewNode){const e=o.viewNode.firstChild;return i.appendHeaderToFragment(o,e,n)}}return pi(!0)}(n,o,t).thenAsync(()=>function(e,t,n){const i=e.getRepetitiveElements();if(i&&!i.isSkipFooter){const o=e.getRootNodeContext(t);if(o.viewNode)return i.appendFooterToFragment(o,null,n)}return pi(!0)}(n,o,t).thenAsync(()=>(i.prepareLayoutFragment(),pi(!0))))}getRepetitiveElements(){return this.nodeContext.formattingContext.getRepetitiveElements()}equalsTo(e){return e instanceof wl&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}getPriorityOfFinishBreak(){return 10}}class El extends Ua{constructor(e,t){super(),this.formattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.formattingContext.getRepetitiveElements();return e.belongsTo(this.formattingContext)||t.doneInitialLayout?(e.belongsTo(this.formattingContext)||e.after||t&&t.preventSkippingHeader(),new bl(this.formattingContext,this.processor)):new ml(this.formattingContext,this.processor)}}class yl extends Va{constructor(e,t){super(),this.formattingContext=e,this.column=t}startNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=t.getRepetitiveElements();if(n.parent&&t.rootSourceNode===n.parent.sourceNode){switch(n.repeatOnBreak){case"header":if(!i.isHeaderRegistered())return i.setHeaderNodeContext(n),pi(!0);n.repeatOnBreak="none";break;case"footer":if(!i.isFooterRegistered())return i.setFooterNodeContext(n),pi(!0);n.repeatOnBreak="none"}i.firstContentSourceNode||(i.firstContentSourceNode=n.sourceNode)}return Va.prototype.startNonInlineElementNode.call(this,e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext;return n.sourceNode===t.rootSourceNode&&(t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0),"header"===n.repeatOnBreak||"footer"===n.repeatOnBreak?pi(!0):Va.prototype.afterNonInlineElementNode.call(this,e)}}function Sl(e,t){e&&function(e,t){for(let n=e;n;n=n.parent){const e=n.formattingContext;e&&e instanceof dl&&!n.belongsTo(e)&&t(e,n)}}(e.after?e.parent:e,(e,n)=>{yr.isInstanceOfTableFormattingContext(e)||t.fragmentLayoutConstraints.push(new wl(n))})}const Nl=new class extends Da{layout(e,t,n){if(t.isFloatNodeContext(e))return t.layoutFloatOrFootnote(e);const i=e.formattingContext;return i.getRootViewNode(e)?(n&&Sl(e.parent,t),e.belongsTo(i)?Da.prototype.layout.call(this,e,t,n):new El(i,this).layout(e,t)):t.buildDeepElementView(e)}startNonInlineElementNode(e){const t=function(e){const t=e.formattingContext;return t&&t instanceof dl?t:null}(e).getRepetitiveElements();return!!t&&(t.allowInsertRepeatitiveElements||!t.isHeaderSourceNode(e.sourceNode)&&!t.isFooterSourceNode(e.sourceNode)||e.viewNode.parentNode.removeChild(e.viewNode),!1)}doInitialLayout(e,t){e.formattingContext;const n=di("BlockLayoutProcessor.doInitialLayout");return this.layoutEntireBlock(e,t).thenFinish(n),n.result()}layoutEntireBlock(e,t){const n=e.formattingContext,i=new yl(n,t);return new za(i,t.layoutContext).iterate(e)}doLayout(e,t){const n=e.formattingContext,i=di("doLayout");return Ja(t.layoutContext.nextInTree(e,!1),t).then(e=>{let o=e;i.loopWithFrame(e=>{for(;o;){let i=!0;if(t.layoutNext(o,!1).then(s=>{o=s,t.pageFloatLayoutContext.isInvalidated()||t.pageBreakType||o&&t.stopByOverflow(o)||o&&o.after&&o.sourceNode==n.rootSourceNode?e.breakLoop():i?i=!1:e.continueLoop()}),i)return void(i=!1)}e.breakLoop()}).then(()=>{i.finish(o)})}),i.result()}finishBreak(e,t,n,i){return Da.prototype.finishBreak.call(this,e,t,n,i)}clearOverflownViewNodes(e,t,n,i){Da.prototype.clearOverflownViewNodes(e,t,n,i)}};p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,e=>e instanceof dl&&!yr.isInstanceOfTableFormattingContext(e)?Nl:null);class vl{constructor(e,t){this.rowIndex=e,this.sourceNode=t,this.cells=[]}addCell(e){this.cells.push(e)}getMinimumHeight(){return Math.min.apply(null,this.cells.map(e=>e.height))}}class Cl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.height=0,this.anchorSlot=null,this.viewElement=n,this.colSpan=n.colSpan||1,this.rowSpan=n.rowSpan||1}setHeight(e){this.height=e}setAnchorSlot(e){this.anchorSlot=e}}class Tl{constructor(e,t,n){this.rowIndex=e,this.columnIndex=t,this.cell=n}}class xl{constructor(e,t,n){this.column=e,this.cellNodeContext=n,this.empty=!1,this.pseudoColumn=new sl(e,t,n)}findAcceptableBreakPosition(){const e=this.cellNodeContext.viewNode,t=this.cellNodeContext.verticalAlign;"middle"!==t&&"bottom"!==t||V(e,"vertical-align","top");const n=this.pseudoColumn.findAcceptableBreakPosition(!0);return V(e,"vertical-align",t),n}}class Il{constructor(e,t){this.viewNode=e,this.side=t}}class Pl extends Pa{constructor(e,t,n,i){super(e,t,n,i),this.acceptableCellBreakPositions=null,this.rowIndex=null,this.formattingContext=e.formattingContext}findAcceptableBreak(e,t){const n=super.findAcceptableBreak(e,t);return t<this.getMinBreakPenalty()?null:this.getAcceptableCellBreakPositions().every(e=>!!e.nodeContext)?n:null}getMinBreakPenalty(){let e=super.getMinBreakPenalty();return this.getAcceptableCellBreakPositions().forEach(t=>{e+=t.breakPosition.getMinBreakPenalty()}),e}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){this.formattingContext;const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getRowIndex(){return null!=this.rowIndex?this.rowIndex:this.rowIndex=this.formattingContext.findRowIndexBySourceNode(this.position.sourceNode)}getCellFragments(){return this.formattingContext.getRowSpanningCellsOverflowingTheRow(this.getRowIndex()).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Al extends xa{constructor(e,t,n){super(),this.rowIndex=e,this.beforeNodeContext=t,this.formattingContext=n,this.acceptableCellBreakPositions=null}findAcceptableBreak(e,t){if(t<this.getMinBreakPenalty())return null;const n=this.getCellFragments(),i=this.getAcceptableCellBreakPositions(),o=i.every(e=>!!e.nodeContext)&&i.some((e,t)=>{const i=n[t].pseudoColumn,o=e.nodeContext;return!i.isStartNodeContext(o)&&!i.isLastAfterNodeContext(o)});return this.beforeNodeContext.overflow=i.some(e=>e.nodeContext&&e.nodeContext.overflow),o?this.beforeNodeContext:null}getMinBreakPenalty(){const e=this.formattingContext,t=e.getRowByIndex(this.rowIndex);let n=0;return e.isFreelyFragmentableRow(t)||(n+=10),this.getAcceptableCellBreakPositions().forEach(e=>{n+=e.breakPosition.getMinBreakPenalty()}),n}getAcceptableCellBreakPositions(){if(!this.acceptableCellBreakPositions){const e=this.getCellFragments();this.acceptableCellBreakPositions=e.map(e=>e.findAcceptableBreakPosition())}return this.acceptableCellBreakPositions}getCellFragments(){return this.formattingContext.getCellsFallingOnRow(this.rowIndex).map(this.formattingContext.getCellFragmentOfCell,this.formattingContext)}}class Ol extends dl{constructor(e,t){super(e,t),this.tableSourceNode=t,this.formattingContextType="Table",this.vertical=!1,this.columnCount=-1,this.tableWidth=0,this.captions=[],this.colGroups=null,this.colWidths=null,this.inlineBorderSpacing=0,this.rows=[],this.slots=[],this.cellFragments=[],this.lastRowViewNode=null,this.cellBreakPositions=[],this.repetitiveElements=null}getName(){return"Table formatting context (Table.TableFormattingContext)"}isFirstTime(e,t){if(!t)return t;switch(e.display){case"table-row":return 0===this.cellBreakPositions.length;case"table-cell":return!this.cellBreakPositions.some(t=>t.cellNodePosition.steps[0].node===e.sourceNode);default:return t}}getParent(){return this.parent}finishFragment(){this.cellFragments=[]}addRow(e,t){this.rows[e]=t}getRowSlots(e){let t=this.slots[e];return t||(t=this.slots[e]=[]),t}addCell(e,t){let n=this.rows[e];n||(this.addRow(e,new vl(e,null)),n=this.rows[e]),n.addCell(t);const i=e+t.rowSpan;let o=this.getRowSlots(e),s=0;for(;o[s];)s++;for(;e<i;e++){o=this.getRowSlots(e);for(let n=s;n<s+t.colSpan;n++){const i=o[n]=new Tl(e,n,t);t.anchorSlot||t.setAnchorSlot(i)}}}getRowByIndex(e){return this.rows[e]}findRowIndexBySourceNode(e){return this.rows.findIndex(t=>e===t.sourceNode)}addCellFragment(e,t,n){let i=this.cellFragments[e];i||(i=this.cellFragments[e]=[]),i[t]=n}getCellsFallingOnRow(e){return this.getRowSlots(e).reduce((e,t)=>t.cell!==e[e.length-1]?e.concat(t.cell):e,[])}getRowSpanningCellsOverflowingTheRow(e){return this.getCellsFallingOnRow(e).filter(t=>t.rowIndex+t.rowSpan-1>e)}getCellFragmentOfCell(e){return this.cellFragments[e.rowIndex]&&this.cellFragments[e.rowIndex][e.columnIndex]}isFreelyFragmentableRow(e){return e.getMinimumHeight()>this.tableWidth/2}getColumnCount(){return this.columnCount<0&&(this.columnCount=Math.max.apply(null,this.rows.map(e=>e.cells.reduce((e,t)=>e+t.colSpan,0)))),this.columnCount}updateCellSizes(e){this.rows.forEach(t=>{t.cells.forEach(t=>{const n=e.getElementClientRect(t.viewElement);t.viewElement=null,t.setHeight(this.vertical?n.width:n.height)})})}findCellFromColumn(e){if(!e)return null;let t=null,n=0,i=0;e:for(n=0;n<this.cellFragments.length;n++)if(this.cellFragments[n])for(i=0;i<this.cellFragments[n].length;i++)if(this.cellFragments[n][i]&&e===this.cellFragments[n][i].pseudoColumn.getColumn()){t=this.rows[n].cells[i];break e}if(!t)return null;for(;n<this.slots.length;n++)for(;i<this.slots[n].length;i++){const e=this.slots[n][i];if(e.cell===t)return{rowIndex:e.rowIndex,columnIndex:e.columnIndex}}return null}collectElementsOffsetOfUpperCells(e){const t=[];return this.slots.reduce((n,i,o)=>{if(o>=e.rowIndex)return n;const s=i[e.columnIndex]&&this.getCellFragmentOfCell(i[e.columnIndex].cell);return!s||t.includes(s)||(this.collectElementsOffsetFromColumn(s.pseudoColumn.getColumn(),n),t.push(s)),n},[])}collectElementsOffsetOfHighestColumn(){const e=[];return this.rows.forEach(t=>{t.cells.forEach((t,n)=>{e[n]||(e[n]={collected:[],elements:[]});const i=e[n],o=this.getCellFragmentOfCell(t);o&&!i.collected.includes(o)&&(this.collectElementsOffsetFromColumn(o.pseudoColumn.getColumn(),i.elements),i.collected.push(o))})}),[new Rl(e.map(e=>e.elements))]}collectElementsOffsetFromColumn(e,t){e.fragmentLayoutConstraints.forEach(e=>{if(Er.isInstanceOfRepetitiveElementsOwnerLayoutConstraint(e)){const n=e.getRepetitiveElements();t.push(n)}yr.isInstanceOfTableRowLayoutConstraint(e)&&e.getElementsOffsetsForTableCell(null).forEach(e=>{t.push(e)})})}saveState(){return[].concat(this.cellBreakPositions)}restoreState(e){this.cellBreakPositions=e}}class Rl{constructor(e){this.repeatitiveElementsInColumns=e}calculateOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.current)}calculateMinimumOffset(e){return this.calculateMaxOffsetOfColumn(e,e=>e.minimum)}calculateMaxOffsetOfColumn(e,t){let n=0;return this.repeatitiveElementsInColumns.forEach(i=>{const o=Ia(e,i);n=Math.max(n,t(o))}),n}}function kl(e){return function(e){return"table-row-group"===e||"table-header-group"===e||"table-footer-group"===e}(e)||function(e){return"table"===e||"inline-table"===e}(e)}function Ll(e,t,n){const i=e.nodeContext,o=i.display,s=i.parent?i.parent.display:null;let r=!1;if("inline-table"===s&&!(i.formattingContext instanceof Ol))for(let e=i.parent;e;e=e.parent)if(e.formattingContext instanceof Ol){r=e.formattingContext===t;break}return r||"table-row"===o&&!kl(s)||"table-cell"===o&&"table-row"!==s&&!kl(s)||i.formattingContext instanceof Ol&&i.formattingContext!==t?n.buildDeepElementView(i).thenAsync(t=>(e.nodeContext=t,pi(!0))):null}class Fl extends Va{constructor(e,t){super(),this.formattingContext=e,this.column=t,this.rowIndex=-1,this.columnIndex=0,this.inRow=!1,this.checkPoints=[],this.inHeaderOrFooter=!1}startNonInlineElementNode(e){const t=this.formattingContext,n=Ll(e,t,this.column);if(n)return n;this.postLayoutBlockContents(e);const i=e.nodeContext,o=i.display,s=t.getRepetitiveElements();switch(o){case"table":t.inlineBorderSpacing=i.inlineBorderSpacing;break;case"table-caption":{const e=new Il(i.viewNode,i.captionSide);t.captions.push(e);break}case"table-header-group":return s.isHeaderRegistered()||(this.inHeaderOrFooter=!0,s.setHeaderNodeContext(i)),pi(!0);case"table-footer-group":return s.isFooterRegistered()||(this.inHeaderOrFooter=!0,s.setFooterNodeContext(i)),pi(!0);case"table-row":this.inHeaderOrFooter||(this.inRow=!0,this.rowIndex++,i.sourceNode,this.columnIndex=0,t.addRow(this.rowIndex,new vl(this.rowIndex,i.sourceNode)),s.firstContentSourceNode||(s.firstContentSourceNode=i.sourceNode))}return super.startNonInlineElementNode(e)}afterNonInlineElementNode(e){const t=this.formattingContext,n=e.nodeContext,i=n.display,o=this.column.clientLayout;if(this.postLayoutBlockContents(e),n.sourceNode===t.tableSourceNode){const i=o.getElementComputedStyle(t.getRootViewNode(n));t.tableWidth=parseFloat(i[t.vertical?"height":"width"]),t.getRepetitiveElements().lastContentSourceNode=e.lastAfterNodeContext&&e.lastAfterNodeContext.sourceNode,e.break=!0}else switch(i){case"table-header-group":case"table-footer-group":if(this.inHeaderOrFooter)return this.inHeaderOrFooter=!1,pi(!0);break;case"table-row":this.inHeaderOrFooter||(t.lastRowViewNode=n.viewNode,this.inRow=!1);break;case"table-cell":if(!this.inHeaderOrFooter){this.inRow||(this.rowIndex++,this.columnIndex=0,this.inRow=!0);const e=n.viewNode;t.addCell(this.rowIndex,new Cl(this.rowIndex,this.columnIndex,e)),this.columnIndex++}}return super.afterNonInlineElementNode(e)}startNonElementNode(e){this.registerCheckPoint(e)}afterNonElementNode(e){this.registerCheckPoint(e)}startInlineElementNode(e){this.registerCheckPoint(e)}afterInlineElementNode(e){this.registerCheckPoint(e)}registerCheckPoint(e){const t=e.nodeContext;t&&t.viewNode&&!Ta(t)&&this.checkPoints.push(t.clone())}postLayoutBlockContents(e){this.checkPoints.length>0&&this.column.postLayoutBlock(e.nodeContext,this.checkPoints),this.checkPoints=[]}}class Dl extends Va{constructor(e,t){super(!0),this.formattingContext=e,this.column=t,this.inRow=!1,this.currentRowIndex=-1,this.currentColumnIndex=0,this.originalStopAtOverflow=t.stopAtOverflow,t.stopAtOverflow=!1}resetColumn(){this.column.stopAtOverflow=this.originalStopAtOverflow}getColSpanningCellWidth(e){const t=this.formattingContext.colWidths;let n=0;for(let i=0;i<e.colSpan;i++)n+=t[e.anchorSlot.columnIndex+i];return n+=this.formattingContext.inlineBorderSpacing*(e.colSpan-1),n}layoutCell(e,t,n){const i=e.rowIndex,o=e.columnIndex,s=e.colSpan,r=t.viewNode;t.verticalAlign,s>1&&(V(r,"box-sizing","border-box"),V(r,this.formattingContext.vertical?"height":"width",`${this.getColSpanningCellWidth(e)}px`));const a=r.ownerDocument.createElement("div");r.appendChild(a);const l=new xl(this.column,a,t);return this.formattingContext.addCellFragment(i,o,l),1===n.primary.steps.length&&n.primary.after&&(l.empty=!0),l.pseudoColumn.layout(n,!0).thenReturn(!0)}hasBrokenCellAtSlot(e){const t=this.formattingContext.cellBreakPositions[0];return!!t&&t.cell.anchorSlot.columnIndex===e}extractRowSpanningCellBreakPositions(){const e=this.formattingContext.cellBreakPositions;if(0===e.length)return[];const t=[];let n=0;do{const i=e[n],o=i.cell.rowIndex;if(o<this.currentRowIndex){let s=t[o];s||(s=t[o]=[]),s.push(i),e.splice(n,1)}else n++}while(n<e.length);return t}layoutRowSpanningCellsFromPreviousFragment(e){const t=this.formattingContext,n=this.extractRowSpanningCellBreakPositions(),i=n.reduce(e=>e+1,0);if(0===i)return pi(!0);const o=this.column.layoutContext,s=e.nodeContext;s.viewNode.parentNode.removeChild(s.viewNode);const r=di("layoutRowSpanningCellsFromPreviousFragment");let a=pi(!0),l=0;const h=[];return n.forEach(e=>{a=a.thenAsync(()=>{const n=Vr(e[0].cellNodePosition.steps[1],s.parent);return o.setCurrent(n,!1).thenAsync(()=>{let s=pi(!0),r=0;function a(e){for(;r<e;){if(!h.includes(r)){const e=n.viewNode.ownerDocument.createElement("td");V(e,"padding","0"),n.viewNode.appendChild(e)}r++}}return e.forEach(e=>{s=s.thenAsync(()=>{const t=e.cell;a(t.anchorSlot.columnIndex);const s=e.cellNodePosition,c=Vr(s.steps[0],n);return c.offsetInNode=s.offsetInNode,c.after=s.after,c.fragmentIndex=s.steps[0].fragmentIndex+1,o.setCurrent(c,!1).thenAsync(()=>{const n=e.breakChunkPosition;for(let e=0;e<t.colSpan;e++)h.push(r+e);return r+=t.colSpan,this.layoutCell(t,c,n).thenAsync(()=>(c.viewNode.rowSpan=t.rowIndex+t.rowSpan-this.currentRowIndex+i-l,pi(!0)))})})}),s.thenAsync(()=>(a(t.getColumnCount()),l++,pi(!0)))})})}),a.then(()=>{o.setCurrent(s,!0,e.atUnforcedBreak).then(()=>{r.finish(!0)})}),r.result()}startTableRow(e){if(this.inHeader||this.inFooter)return pi(!0);const t=e.nodeContext,n=this.formattingContext;return this.currentRowIndex<0?(t.sourceNode,this.currentRowIndex=n.findRowIndexBySourceNode(t.sourceNode)):this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0,this.layoutRowSpanningCellsFromPreviousFragment(e).thenAsync(()=>(this.registerCellFragmentIndex(),this.column.checkOverflowAndSaveEdgeAndBreakPosition(e.lastAfterNodeContext,null,!0,e.breakAtTheEdge)&&0===n.getRowSpanningCellsOverflowingTheRow(this.currentRowIndex-1).length&&(this.resetColumn(),t.overflow=!0,e.break=!0),pi(!0)))}registerCellFragmentIndex(){this.formattingContext.getRowByIndex(this.currentRowIndex).cells.forEach(e=>{const t=this.formattingContext.cellBreakPositions[e.columnIndex];if(t&&t.cell.anchorSlot.columnIndex==e.anchorSlot.columnIndex){const e=t.cellNodePosition.steps[0],n=this.column.layoutContext.xmldoc.getElementOffset(e.node);Ka(n,e.fragmentIndex+1,1)}})}startTableCell(e){if(this.inHeader||this.inFooter)return pi(!0);const t=e.nodeContext;this.inRow||(this.currentRowIndex<0?this.currentRowIndex=0:this.currentRowIndex++,this.currentColumnIndex=0,this.inRow=!0);const n=this.formattingContext.getRowByIndex(this.currentRowIndex).cells[this.currentColumnIndex],i=t.copy().modify();i.after=!0,e.nodeContext=i;const o=di("startTableCell");let s;if(this.hasBrokenCellAtSlot(n.anchorSlot.columnIndex)){const e=this.formattingContext.cellBreakPositions.shift();t.fragmentIndex=e.cellNodePosition.steps[0].fragmentIndex+1,s=pi(e.breakChunkPosition)}else s=this.column.nextInTree(t,e.atUnforcedBreak).thenAsync(e=>{e.viewNode&&t.viewNode.removeChild(e.viewNode);const n=zr(e,0);return pi(new jr(n))});return s.then(i=>{this.layoutCell(n,t,i).then(()=>{this.afterNonInlineElementNode(e),this.currentColumnIndex++,o.finish(!0)})}),o.result()}startNonInlineBox(e){const t=Ll(e,this.formattingContext,this.column);if(t)return t;const n=e.nodeContext,i=this.formattingContext.getRepetitiveElements(),o=n.display;return"table-header-group"===o&&i&&i.isHeaderSourceNode(n.sourceNode)?(this.inHeader=!0,pi(!0)):"table-footer-group"===o&&i&&i.isFooterSourceNode(n.sourceNode)?(this.inFooter=!0,pi(!0)):"table-row"===o?this.startTableRow(e):"table-cell"===o?this.startTableCell(e):pi(!0)}endNonInlineBox(e){const t=e.nodeContext;if("table-row"===t.display&&(this.inRow=!1,!this.inHeader&&!this.inFooter)){const e=t.copy().modify();e.after=!1;const n=new Al(this.currentRowIndex,e,this.formattingContext);this.column.breakPositions.push(n)}return pi(!0)}afterNonInlineElementNode(e){const t=e.nodeContext,n=this.formattingContext.getRepetitiveElements(),i=t.display;if("table-header-group"===i?n&&!n.allowInsertRepeatitiveElements&&n.isHeaderSourceNode(t.sourceNode)?(this.inHeader=!1,t.viewNode.parentNode.removeChild(t.viewNode)):V(t.viewNode,"display","table-row-group"):"table-footer-group"===i&&(n&&!n.allowInsertRepeatitiveElements&&n.isFooterSourceNode(t.sourceNode)?(this.inFooter=!1,t.viewNode.parentNode.removeChild(t.viewNode)):V(t.viewNode,"display","table-row-group")),i&&Dl.ignoreList[i])t.viewNode.parentNode.removeChild(t.viewNode);else{if(t.sourceNode!==this.formattingContext.tableSourceNode)return super.afterNonInlineElementNode(e);t.overflow=this.column.checkOverflowAndSaveEdge(t,null),this.resetColumn(),e.break=!0}return pi(!0)}}Dl.ignoreList={"table-caption":!0,"table-column-group":!0,"table-column":!0};const _l=[];class Bl{layoutEntireTable(e,t){const n=e.formattingContext,i=new Fl(n,t);return new za(i,t.layoutContext).iterate(e)}getColumnWidths(e,t,n,i){const o=e.ownerDocument,s=o.createElement("tr"),r=[];for(let e=0;e<t;e++){const e=o.createElement("td");s.appendChild(e),r.push(e)}e.parentNode.insertBefore(s,e.nextSibling);const a=r.map(e=>{const t=i.getElementClientRect(e);return n?t.height:t.width});return e.parentNode.removeChild(s),a}getColGroupElements(e){const t=[];let n=e.firstElementChild;for(;n;)"colgroup"===n.localName&&t.push(n),n=n.nextElementSibling;return t}normalizeAndGetColElements(e){const t=[];return e.forEach(e=>{let n=e.span;e.removeAttribute("span");let i=e.firstElementChild;for(;i;){if("col"===i.localName){let o=i.span;for(i.removeAttribute("span"),n-=o;o-- >1;){const n=i.cloneNode(!0);e.insertBefore(n,i),t.push(n)}t.push(i)}i=i.nextElementSibling}for(;n-- >0;)i=e.ownerDocument.createElement("col"),e.appendChild(i),t.push(i)}),t}addMissingColElements(e,t,n,i){if(e.length<n){const o=i.ownerDocument.createElement("colgroup");t.push(o);for(let t=e.length;t<n;t++){const t=i.ownerDocument.createElement("col");o.appendChild(t),e.push(t)}}}normalizeColGroups(e,t,n){const i=e.vertical,o=e.lastRowViewNode;if(!o)return;e.lastRowViewNode=null;const s=o.ownerDocument.createDocumentFragment(),r=e.getColumnCount();if(!(r>0))return void(e.colGroups=s);const a=e.colWidths=this.getColumnWidths(o,r,i,n.clientLayout),l=this.getColGroupElements(t),h=this.normalizeAndGetColElements(l);this.addMissingColElements(h,l,r,t),h.forEach((e,t)=>{V(e,i?"height":"width",`${a[t]}px`)}),l.forEach(e=>{s.appendChild(e.cloneNode(!0))}),e.colGroups=s}doInitialLayout(e,t){const n=e.formattingContext;n.vertical=e.vertical,n.initializeRepetitiveElements(e.vertical),e.sourceNode;const i=function(e){const t=_l.findIndex(t=>t.root===e),n=_l[t];return n?n.tableLayoutOption:null}(e.sourceNode);!function(e){const t=_l.findIndex(t=>t.root===e);t>=0&&_l.splice(t,1)}(e.sourceNode);const o=di("TableLayoutProcessor.doInitialLayout"),s=e.copy();return this.layoutEntireTable(e,t).then(r=>{const a=r.viewNode,l=t.clientLayout.getElementClientRect(a);let h=t.vertical?l.left:l.bottom;if(h+=(t.vertical?-1:1)*Ia(e,t.collectElementsOffset()).current,!(t.isOverflown(h)||i&&i.calculateBreakPositionsInside))return t.breakPositions.push(new zl(s)),void o.finish(r);this.normalizeColGroups(n,a,t),n.updateCellSizes(t.clientLayout),o.finish(null)}),o.result()}addCaptions(e,t,n){const i=e.captions;i.forEach((e,o)=>{e&&(t.insertBefore(e.viewNode,n),"top"===e.side&&(i[o]=null))})}addColGroups(e,t,n){e.colGroups&&0===this.getColGroupElements(t).length&&t.insertBefore(e.colGroups.cloneNode(!0),n)}removeColGroups(e,t){if(e.colGroups&&t){const e=this.getColGroupElements(t);e&&e.forEach(e=>{t.removeChild(e)})}}doLayout(e,t){const n=e.formattingContext,i=n.getRootViewNode(e),o=i.firstChild;this.addCaptions(n,i,o),this.addColGroups(n,i,o);const s=new Dl(n,t),r=new za(s,t.layoutContext),a=di("TableFormattingContext.doLayout");return r.iterate(e).thenFinish(a),a.result()}layout(e,t,n){const i=e.formattingContext;return i.getRootViewNode(e)?(n&&Sl(e.parent,t),new Ml(i,this).layout(e,t)):t.buildDeepElementView(e)}createEdgeBreakPosition(e,t,n,i){return new Pl(e,t,n,i)}startNonInlineElementNode(e){return!1}afterNonInlineElementNode(e,t){return!1}finishBreak(e,t,n,i){const o=t.formattingContext;if("table-row"===t.display){t.sourceNode;const n=o.findRowIndexBySourceNode(t.sourceNode);let i;if(o.cellBreakPositions=[],i=t.after?o.getRowSpanningCellsOverflowingTheRow(n):o.getCellsFallingOnRow(n),i.length){const s=di("TableLayoutProcessor.finishBreak");let r=0;return s.loopWithFrame(e=>{if(r===i.length)return void e.breakLoop();const t=i[r++],s=o.getCellFragmentOfCell(t),a=s.findAcceptableBreakPosition().nodeContext,l=s.cellNodeContext,h=l.toNodePosition(),c=new jr(a.toNodePosition());o.cellBreakPositions.push({cellNodePosition:h,breakChunkPosition:c,cell:t});const u=l.viewNode;s.column.layoutContext.processFragmentedBlockEdge(s.cellNodeContext),n<t.rowIndex+t.rowSpan-1&&(u.rowSpan=n-t.rowIndex+1),s.empty?e.continueLoop():s.pseudoColumn.finishBreak(a,!1,!0).then(()=>{!function(e,t,n){const i=t.getRepetitiveElements();if(!i)return;const o=t.vertical,s=e.column,r=e.pseudoColumn.getColumnElement(),a=e.cellNodeContext.viewNode,l=s.clientLayout.getElementClientRect(a),h=s.getComputedPaddingBorder(a);if(o){V(r,"max-width",`${l.right-s.footnoteEdge-i.calculateOffset(n)-h.right}px`)}else{V(r,"max-height",`${s.footnoteEdge-i.calculateOffset(n)-l.top-h.top}px`)}V(r,"overflow","hidden")}(s,o,a),e.continueLoop()})}).then(()=>{e.clearOverflownViewNodes(t,!1),e.layoutContext.processFragmentedBlockEdge(t),o.finishFragment(),s.finish(!0)}),s.result()}}return o.finishFragment(),Ba.finishBreak(e,t,n,i)}clearOverflownViewNodes(e,t,n,i){Da.prototype.clearOverflownViewNodes(e,t,n,i)}}class Ml extends Ua{constructor(e,t){super(),this.tableFormattingContext=e,this.processor=t}resolveLayoutMode(e){const t=this.tableFormattingContext.getRepetitiveElements();return t&&t.doneInitialLayout?(e.sourceNode!==this.tableFormattingContext.tableSourceNode||e.after||t&&t.preventSkippingHeader(),new Hl(this.tableFormattingContext,this.processor)):new Ul(this.tableFormattingContext,this.processor)}clearNodes(e){super.clearNodes(e);const t=this.tableFormattingContext.getRootViewNode(e);this.processor.removeColGroups(this.tableFormattingContext,t)}restoreState(e,t){super.restoreState(e,t),this.tableFormattingContext.finishFragment()}}class Ul extends fl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){return this.processor.doInitialLayout(e,t)}}class zl extends Pa{constructor(e){super(e,null,e.overflow,0)}getMinBreakPenalty(){if(!this.isEdgeUpdated)throw new Error("EdgeBreakPosition.prototype.updateEdge not called");return(this.overflows?3:0)+(this.position.parent?this.position.parent.breakPenalty:0)}breakPositionChosen(e){e.fragmentLayoutConstraints.push(new Vl(this.position.sourceNode))}}class Vl{constructor(e){this.tableRootNode=e,this.flagmentLayoutConstraintType="EntireTable"}allowLayout(e,t,n){return e.overflow,!1}nextCandidate(e){return!0}postLayout(e,t,n,i){t.sourceNode,_l.push({root:t.sourceNode,tableLayoutOption:{calculateBreakPositionsInside:!0}})}finishBreak(e,t){return pi(!0)}equalsTo(e){return e instanceof Vl&&e.tableRootNode===this.tableRootNode}getPriorityOfFinishBreak(){return 0}}class Hl extends gl{constructor(e,t){super(e),this.processor=t}doLayout(e,t){const n=this.formattingContext.getRepetitiveElements();if(n&&!n.isAfterLastContent(e)){const n=new $l(e);t.fragmentLayoutConstraints.some(e=>n.equalsTo(e))||t.fragmentLayoutConstraints.unshift(n)}return this.processor.doLayout(e,t)}}class $l extends wl{constructor(e){super(e),this.flagmentLayoutConstraintType="TableRow",this.cellFragmentLayoutConstraints=[]}allowLayout(e,t,n){const i=this.getRepetitiveElements();return!(i&&!n.pseudoParent&&!Na(this.nodeContext.viewNode)&&i.isEnableToUpdateState()&&(t&&!e||e&&e.overflow))}nextCandidate(e){const t=this.nodeContext.formattingContext;return!!this.collectCellFragmentLayoutConstraints(e,t).some(t=>t.constraints.some(t=>t.nextCandidate(e)))||super.nextCandidate(e)}postLayout(e,t,n,i){const o=this.nodeContext.formattingContext;if(this.cellFragmentLayoutConstraints=this.collectCellFragmentLayoutConstraints(t,o),this.cellFragmentLayoutConstraints.forEach(t=>{t.constraints.forEach(o=>{o.postLayout(e,t.breakPosition,n,i)})}),!e){const e=o.getRootViewNode(this.nodeContext);(new Bl).removeColGroups(o,e),this.removeDummyRowNodes(n)}super.postLayout(e,t,n,i)}finishBreak(e,t){this.nodeContext.formattingContext;const n=di("finishBreak"),i=this.cellFragmentLayoutConstraints.reduce((e,t)=>e.concat(t.constraints.map(e=>({constraint:e,breakPosition:t.breakPosition}))),[]);let o=0;return n.loop(()=>{if(o<i.length){const e=i[o++];return e.constraint.finishBreak(e.breakPosition,t).thenReturn(!0)}return pi(!1)}).then(()=>{n.finish(!0)}),n.result().thenAsync(()=>super.finishBreak(e,t))}removeDummyRowNodes(e){if(e&&"table-row"===e.display&&e.viewNode)for(;e.viewNode.previousElementSibling;){const t=e.viewNode.previousElementSibling;t.parentNode&&t.parentNode.removeChild(t)}}collectCellFragmentLayoutConstraints(e,t){return this.getCellFragemnts(e,t).map(e=>({constraints:e.fragment.pseudoColumn.getColumn().fragmentLayoutConstraints,breakPosition:e.breakPosition}))}getCellFragemnts(e,t){let n=Number.MAX_VALUE;e&&"table-row"===e.display&&(e.sourceNode,n=t.findRowIndexBySourceNode(e.sourceNode)+1),n=Math.min(t.cellFragments.length,n);const i=[];for(let e=0;e<n;e++)t.cellFragments[e]&&t.cellFragments[e].forEach(e=>{e&&i.push({fragment:e,breakPosition:e.findAcceptableBreakPosition().nodeContext})});return i}getElementsOffsetsForTableCell(e){const t=this.nodeContext.formattingContext,n=t.findCellFromColumn(e);return n?t.collectElementsOffsetOfUpperCells(n):t.collectElementsOffsetOfHighestColumn()}equalsTo(e){return e instanceof $l&&this.nodeContext.formattingContext===e.nodeContext.formattingContext}}const Gl=new Bl;function Wl(e){return e.reduce((e,t)=>e+t,0)/e.length}p(t.HOOKS.RESOLVE_FORMATTING_CONTEXT,(function(e,t,n,i,o,s){if(!t)return null;if(n===Mt.table){const t=e.parent;return new Ol(t?t.formattingContext:null,e.sourceNode)}return null})),p(t.HOOKS.RESOLVE_LAYOUT_PROCESSOR,(function(e){return e instanceof Ol?Gl:null}));class Xl{constructor(e,t){this.layoutResult=e,this.penalty=t}}function jl(e){return e.vertical?e.width:e.height}function Kl(e,t){e.vertical?e.width=t:e.height=t}class Yl{constructor(e,t,n){this.layoutContainer=e,this.columnGenerator=t,this.regionPageFloatLayoutContext=n,this.originalContainerBlockSize=jl(e)}balanceColumns(e){const t=this,n=di("ColumnBalancer#balanceColumns");t.preBalance(e),t.savePageFloatLayoutContexts(e),t.layoutContainer.clear();const i=[t.createTrialResult(e)];return n.loopWithFrame(e=>{t.hasNextCandidate(i)?(t.updateCondition(i),t.columnGenerator().then(n=>{t.savePageFloatLayoutContexts(n),t.layoutContainer.clear(),n?(i.push(t.createTrialResult(n)),e.continueLoop()):e.breakLoop()})):e.breakLoop()}).then(()=>{const e=i.reduce((e,t)=>t.penalty<e.penalty?t:e,i[0]);t.restoreContents(e.layoutResult),t.postBalance(),n.finish(e.layoutResult)}),n.result()}createTrialResult(e){const t=this.calculatePenalty(e);return new Xl(e,t)}preBalance(e){}postBalance(){Kl(this.layoutContainer,this.originalContainerBlockSize)}savePageFloatLayoutContexts(e){const t=this.regionPageFloatLayoutContext.detachChildren();e&&(e.columnPageFloatLayoutContexts=t)}restoreContents(e){const t=this.layoutContainer.element;e.columns.forEach(e=>{t.appendChild(e.element)}),e.columnPageFloatLayoutContexts,this.regionPageFloatLayoutContext.attachChildren(e.columnPageFloatLayoutContexts)}}function ql(e){const t=e[e.length-1];if(0===t.penalty)return!1;const n=e[e.length-2];if(n&&t.penalty>=n.penalty)return!1;const i=t.layoutResult.columns;return Math.max.apply(null,i.map(e=>e.computedBlockSize))>Math.max.apply(null,i.map(e=>e.getMaxBlockSizeOfPageFloats()))+1}function Zl(e,t){const n=e[e.length-1].layoutResult.columns,i=Math.max.apply(null,n.map(e=>isNaN(e.blockDistanceToBlockEndFloats)?e.computedBlockSize:e.computedBlockSize-e.blockDistanceToBlockEndFloats+1))-1;i<jl(t)?Kl(t,i):Kl(t,jl(t)-1)}class Ql extends Yl{constructor(e,t,n,i){super(n,e,t),this.columnCount=i,this.originalPosition=null,this.foundUpperBound=!1}preBalance(e){const t=e.columns.reduce((e,t)=>e+t.computedBlockSize,0);Kl(this.layoutContainer,t/this.columnCount),this.originalPosition=e.position}checkPosition(e){return this.originalPosition?this.originalPosition.isSamePosition(e):null===e}calculatePenalty(e){if(!this.checkPosition(e.position))return 1/0;const t=e.columns;return Jl(t)?1/0:Math.max.apply(null,t.map(e=>e.computedBlockSize))}hasNextCandidate(e){if(1===e.length)return!0;if(this.foundUpperBound)return ql(e);{const t=e[e.length-1];return this.checkPosition(t.layoutResult.position)&&!Jl(t.layoutResult.columns)?(this.foundUpperBound=!0,!0):jl(this.layoutContainer)<this.originalContainerBlockSize}}updateCondition(e){if(this.foundUpperBound)Zl(e,this.layoutContainer);else{const e=Math.min(this.originalContainerBlockSize,jl(this.layoutContainer)+.1*this.originalContainerBlockSize);Kl(this.layoutContainer,e)}}}function Jl(e){if(e.length<=1)return!1;const t=e[e.length-1].computedBlockSize;return e.slice(0,e.length-1).every(e=>t>e.computedBlockSize)}class eh extends Yl{constructor(e,t,n){super(n,e,t)}calculatePenalty(e){return e.columns.every(e=>0===e.computedBlockSize)?1/0:function(e){const t=Wl(e);return Wl(e.map(e=>{const n=e-t;return n*n}))}(e.columns.filter(e=>!e.pageBreakType).map(e=>e.computedBlockSize))}hasNextCandidate(e){return ql(e)}updateCondition(e){Zl(e,this.layoutContainer)}}class th{constructor(e,t,n){this.endStuckFixed=e,this.endFixed=t,this.endSlipped=n}}class nh{constructor(){this.map=[]}getMaxFixed(){return 0==this.map.length?0:this.map[this.map.length-1].endFixed}getMaxSlipped(){return 0==this.map.length?0:this.map[this.map.length-1].endSlipped}addStuckRange(e){if(0==this.map.length)this.map.push(new th(e,e,e));else{const t=this.map[this.map.length-1],n=t.endSlipped+e-t.endFixed;t.endFixed==t.endStuckFixed?(t.endFixed=e,t.endStuckFixed=e,t.endSlipped=n):this.map.push(new th(e,e,n))}}addSlippedRange(e){0==this.map.length?this.map.push(new th(e,0,0)):this.map[this.map.length-1].endFixed=e}slippedByFixed(e){const t=this,n=Q(this.map.length,n=>e<=t.map[n].endFixed),i=this.map[n];return i.endSlipped-Math.max(0,i.endStuckFixed-e)}fixedBySlipped(e){const t=this,n=Q(this.map.length,n=>e<=t.map[n].endSlipped),i=this.map[n];return i.endStuckFixed-(i.endSlipped-e)}}class ih{constructor(e,t,n,i,o,s,r,a){if(this.context=e,this.style=t,this.offset=n,this.isRoot=i,this.flowChunk=o,this.atBlockStart=s,this.atFlowStart=r,this.isParentBoxDisplayed=a,this.isBlockValue=null,this.hasBoxValue=null,this.styleValues={},this.beforeBox=null,this.afterBox=null,this.breakBefore=null,this.flowName=o.flowName,this.hasBox()){const i=t._pseudos;if(i&&i.before){const t=new ih(e,i.before,n,!1,o,this.isBlock(),r,!0);Jr(t.styleValue("content"))&&(this.beforeBox=t,this.breakBefore=t.breakBefore)}}this.breakBefore=ba(this.getBreakValue("before"),this.breakBefore),this.atFlowStart&&fa(this.breakBefore)&&(o.breakBefore=ba(o.breakBefore,this.breakBefore))}buildAfterPseudoElementBox(e,t,n){if(this.hasBox()){const i=this.style._pseudos;if(i&&i.after){const o=new ih(this.context,i.after,e,!1,this.flowChunk,t,n,!0);Jr(o.styleValue("content"))&&(this.afterBox=o)}}}styleValue(e,t){if(!(e in this.styleValues)){const n=this.style[e];this.styleValues[e]=n?n.evaluate(this.context,e):t||null}return this.styleValues[e]}displayValue(){return this.styleValue("display",Mt.inline)}isBlock(){if(null===this.isBlockValue){const e=this.displayValue(),t=this.styleValue("position"),n=this.styleValue("float");this.isBlockValue=ka(e,t,n,this.isRoot)}return this.isBlockValue}hasBox(){return null===this.hasBoxValue&&(this.hasBoxValue=this.isParentBoxDisplayed&&this.displayValue()!==Mt.none),this.hasBoxValue}getBreakValue(e){let t=null;if(this.isBlock()){const n=this.styleValue(`break-${e}`);n&&(t=n.toString())}return t}}class oh{constructor(e){this.context=e,this.stack=[],this.atBlockStart=!0,this.atFlowStart=!0,this.atStartStack=[]}empty(){return 0===this.stack.length}lastBox(){return this.stack[this.stack.length-1]}lastFlowName(){const e=this.lastBox();return e?e.flowChunk.flowName:null}isCurrentBoxDisplayed(){return this.stack.every(e=>e.displayValue()!==Mt.none)}push(e,t,n,i){const o=this.lastBox();i&&o&&i.flowName!==o.flowName&&this.atStartStack.push({atBlockStart:this.atBlockStart,atFlowStart:this.atFlowStart});const s=i||o.flowChunk,r=this.atFlowStart||!!i,a=this.isCurrentBoxDisplayed(),l=new ih(this.context,e,t,n,s,r||this.atBlockStart,r,a);return this.stack.push(l),this.atBlockStart=l.hasBox()?!l.beforeBox&&l.isBlock():this.atBlockStart,this.atFlowStart=l.hasBox()?!l.beforeBox&&r:this.atFlowStart,l}encounteredTextNode(e){const t=this.lastBox();(this.atBlockStart||this.atFlowStart)&&t.hasBox()&&(Lr(e,kr(t.styleValue("white-space",Mt.normal).toString()))||(this.atBlockStart=!1,this.atFlowStart=!1))}pop(e){const t=this.stack.pop();if(t.buildAfterPseudoElementBox(e,this.atBlockStart,this.atFlowStart),this.atFlowStart&&t.afterBox){const e=t.afterBox.getBreakValue("before");t.flowChunk.breakBefore=ba(t.flowChunk.breakBefore,e)}const n=this.lastBox();if(n)if(n.flowName===t.flowName)t.hasBox()&&(this.atBlockStart=this.atFlowStart=!1);else{const e=this.atStartStack.pop();this.atBlockStart=e.atBlockStart,this.atFlowStart=e.atFlowStart}return t}nearestBlockStartOffset(e){if(!e.atBlockStart)return e.offset;let t=this.stack.length-1,n=this.stack[t];for(n===e&&(t--,n=this.stack[t]);t>=0;){if(n.flowName!==e.flowName)return e.offset;if(!n.atBlockStart)return n.offset;if(n.isRoot)return n.offset;e=n,n=this.stack[--t]}throw new Error("No block start offset found!")}}class sh{constructor(e,t,n,i,o,s,r,a){this.xmldoc=e,this.scope=n,this.context=i,this.primaryFlows=o,this.validatorSet=s,this.counterListener=r,this.rootStyle={},this.styleMap={},this.flows={},this.flowChunks=[],this.flowListener=null,this.flowToReach=null,this.idToReach=null,this.primary=!0,this.primaryStack=[],this.rootBackgroundAssigned=!1,this.rootLayoutAssigned=!1,this.breakBeforeValues={},this.bodyReached=!0,this.root=e.root,this.cascadeHolder=t,this.last=this.root,this.cascade=t.createInstance(i,r,a,e.lang),this.offsetMap=new nh;const l=e.getElementOffset(this.root);this.lastOffset=l,this.boxStack=new oh(i),this.offsetMap.addStuckRange(l);const h=this.getAttrStyle(this.root);switch(this.cascade.pushElement(this.root,h,l),this.postprocessTopStyle(h,!1),this.root.namespaceURI){case F.XHTML:case F.FB2:this.bodyReached=!1}this.primaryStack.push(!0),this.styleMap={},this.styleMap[`e${l}`]=h,this.lastOffset++,this.replayFlowElementsFromOffset(-1)}hasProp(e,t,n){const i=e[n];return i&&i.evaluate(this.context)!==t[n]}transferPropsToRoot(e,t){for(const n in t){const i=e[n];if(i)this.rootStyle[n]=i,delete e[n];else{const e=t[n];e&&(this.rootStyle[n]=new Co(e,33554432))}}}postprocessTopStyle(e,t){if(["writing-mode","direction"].forEach(n=>{!e[n]||t&&this.rootStyle[n]||(this.rootStyle[n]=e[n])}),!this.rootBackgroundAssigned){const t=this.hasProp(e,this.validatorSet.backgroundProps,"background-color")?e["background-color"].evaluate(this.context):null,n=this.hasProp(e,this.validatorSet.backgroundProps,"background-image")?e["background-image"].evaluate(this.context):null;(t&&t!==Mt.inherit||n&&n!==Mt.inherit)&&(this.transferPropsToRoot(e,this.validatorSet.backgroundProps),this.rootBackgroundAssigned=!0)}if(!this.rootLayoutAssigned)for(let t=0;t<rh.length;t++)if(this.hasProp(e,this.validatorSet.layoutProps,rh[t])){this.transferPropsToRoot(e,this.validatorSet.layoutProps),this.rootLayoutAssigned=!0;break}if(!t){const t=e["font-size"];if(t){const e=t.evaluate(this.context);let n=e.num;switch(e.unit){case"em":case"rem":n*=this.context.initialFontSize;break;case"ex":n*=this.context.initialFontSize*Pe.ex/Pe.em;break;case"%":n*=this.context.initialFontSize/100;break;default:{const t=Pe[e.unit];t&&(n*=t)}}this.context.rootFontSize=n}}}getTopContainerStyle(){let e=0;for(;!this.bodyReached&&(e+=5e3,this.styleUntil(e,0)!=Number.POSITIVE_INFINITY););return this.rootStyle}getAttrStyle(e){if(e.style instanceof CSSStyleDeclaration){const t=e.getAttribute("style");if(t)return function(e,t,n,i){const o=new Gs(e,t),s=new li(i,o);try{!function(e,t,n){new eo(Ui,e,t,n).runParser(Number.POSITIVE_INFINITY,!1,!0,!1,!1)}(s,o,n)}catch(e){c.warn(e,"Style attribute parse error:")}return o.elementStyle}(this.scope,this.validatorSet,this.xmldoc.url,t)}return{}}getReachedOffset(){return this.lastOffset}replayFlowElementsFromOffset(e){if(e>=this.lastOffset)return;const t=this.context,n=this.xmldoc.getElementOffset(this.root);if(e<n){const e=this.getStyle(this.root,!1),i=Ro(e,"flow-into"),o=i?i.evaluate(t,"flow-into").toString():"body",s=this.encounteredFlowElement(o,e,this.root,n);this.boxStack.empty()&&this.boxStack.push(e,n,!0,s)}let i=this.xmldoc.getNodeByOffset(e),o=this.xmldoc.getNodeOffset(i,0,!1);if(!(o>=this.lastOffset))for(;;){if(1!=i.nodeType)o+=i.textContent.length;else{const e=i,n=this.getStyle(e,!1),s=n["flow-into"];if(s){const i=s.evaluate(t,"flow-into").toString();this.encounteredFlowElement(i,n,e,o)}o++}if(o>=this.lastOffset)break;let e=i.firstChild;if(null==e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,i===this.root)return;i=e}}resetFlowChunkStream(e){this.flowListener=e;for(let e=0;e<this.flowChunks.length;e++)this.flowListener.encounteredFlowChunk(this.flowChunks[e],this.flows[this.flowChunks[e].flowName])}styleUntilFlowIsReached(e){this.flowToReach=e;let t=0;for(;null!=this.flowToReach&&(t+=5e3,this.styleUntil(t,0)!=Number.POSITIVE_INFINITY););}styleUntilIdIsReached(e){if(!e)return;this.idToReach=e;let t=0;for(;this.idToReach&&(t+=5e3,this.styleUntil(t,0)!==Number.POSITIVE_INFINITY););this.idToReach=null}encounteredFlowElement(e,t,n,i){let o=0,s=Number.POSITIVE_INFINITY,r=!1,a=!1,l=!1;const h=t["flow-options"];if(h){const e=function(e){if(e){const t=new pn;try{return e.visit(t),t.propSet}catch(e){c.warn(e,"toSet:")}}return{}}(h.evaluate(this.context,"flow-options"));r=!!e.exclusive,a=!!e.static,l=!!e.last}const u=t["flow-linger"];u&&(s=gn(u.evaluate(this.context,"flow-linger"),Number.POSITIVE_INFINITY));const d=t["flow-priority"];d&&(o=gn(d.evaluate(this.context,"flow-priority"),0));const p=this.breakBeforeValues[i]||null;let f=this.flows[e];if(!f){const t=this.boxStack.lastFlowName();f=this.flows[e]=new Fr(e,t)}const g=new Dr(e,n,i,o,s,r,a,l,p);return this.flowChunks.push(g),this.flowToReach==e&&(this.flowToReach=null),this.flowListener&&this.flowListener.encounteredFlowChunk(g,f),g}registerForcedBreakOffset(e,t,n){if(fa(e)){const e=this.flows[n].forcedBreakOffsets;(0===e.length||e[e.length-1]<t)&&e.push(t)}const i=this.breakBeforeValues[t];this.breakBeforeValues[t]=ba(i,e)}styleUntil(e,t){let n,i=-1;if(e<=this.lastOffset&&(n=this.offsetMap.slippedByFixed(e),i=n+t,i<this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i);if(null==this.last)return Number.POSITIVE_INFINITY;const o=this.context;for(;;){let s=this.last.firstChild;if(null==s)for(;;){if(1==this.last.nodeType){this.cascade.popElement(this.last),this.primary=this.primaryStack.pop();const e=this.boxStack.pop(this.lastOffset);let t=null;if(e.afterBox){const n=e.afterBox.getBreakValue("before");this.registerForcedBreakOffset(n,e.afterBox.atBlockStart?this.boxStack.nearestBlockStartOffset(e):e.afterBox.offset,e.flowName),t=e.afterBox.getBreakValue("after")}t=ba(t,e.getBreakValue("after")),this.registerForcedBreakOffset(t,this.lastOffset,e.flowName)}if(s=this.last.nextSibling,s)break;if(this.last=this.last.parentNode,this.last===this.root)return this.last=null,e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped())?this.offsetMap.fixedBySlipped(i):Number.POSITIVE_INFINITY}if(this.last=s,1!=this.last.nodeType)this.lastOffset+=this.last.textContent.length,this.boxStack.encounteredTextNode(this.last),this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset);else{const s=this.last,r=this.getAttrStyle(s);this.primaryStack.push(this.primary),this.cascade.pushElement(s,r,this.lastOffset);const a=s.getAttribute("id")||s.getAttributeNS(F.XML,"id");let l;a&&a===this.idToReach&&(this.idToReach=null),this.bodyReached||"body"!=s.localName||s.parentNode!=this.root||(this.postprocessTopStyle(r,!0),this.bodyReached=!0);const h=r["flow-into"];if(h){const e=h.evaluate(o,"flow-into").toString(),t=this.encounteredFlowElement(e,r,s,this.lastOffset);this.primary=!!this.primaryFlows[e],l=this.boxStack.push(r,this.lastOffset,s===this.root,t)}else l=this.boxStack.push(r,this.lastOffset,s===this.root);const c=this.boxStack.nearestBlockStartOffset(l);if(this.registerForcedBreakOffset(l.breakBefore,c,l.flowName),l.beforeBox){const e=l.beforeBox.getBreakValue("after");this.registerForcedBreakOffset(e,l.beforeBox.atBlockStart?c:l.offset,l.flowName)}if(this.primary&&l.displayValue()===Mt.none&&(this.primary=!1),this.styleMap[`e${this.lastOffset}`]=r,this.lastOffset++,this.primary?this.offsetMap.addStuckRange(this.lastOffset):this.offsetMap.addSlippedRange(this.lastOffset),e<this.lastOffset&&(i<0&&(n=this.offsetMap.slippedByFixed(e),i=n+t),i<=this.offsetMap.getMaxSlipped()))return this.offsetMap.fixedBySlipped(i)}}}getStyle(e,t){let n=this.xmldoc.getElementOffset(e);const i=`e${n}`;return t&&(n=this.xmldoc.getNodeOffset(e,0,!0)),this.lastOffset<=n&&this.styleUntil(n,0),this.styleMap[i]}processContent(e,t){}}const rh=["column-count","column-width","column-fill"];var ah;class lh{constructor(e){this.validator=e,this.success=null,this.failure=null,this.code=0}isSpecial(){return 0!=this.code}markAsStartGroup(){this.code=-1}isStartGroup(){return-1==this.code}markAsEndGroup(){this.code=-2}isEndGroup(){return-2==this.code}markAsStartAlternate(e){this.code=2*e+1}isStartAlternate(){return this.code>0&&this.code%2!=0}markAsEndAlternate(e){this.code=2*e+2}isEndAlternate(){return this.code>0&&this.code%2==0}getAlternate(){return Math.floor((this.code-1)/2)}}class hh{constructor(e,t){this.where=e,this.success=t,this.what=-1}}!function(e){e[e.FOLLOW=1]="FOLLOW",e[e.OPTIONAL=2]="OPTIONAL",e[e.REPEATED=3]="REPEATED",e[e.ALTERNATE=4]="ALTERNATE"}(ah||(ah={}));class ch{constructor(){this.nodes=[],this.connections=[],this.match=[],this.nomatch=[],this.error=[],this.emptyHead=!0}connect(e,t){for(let n=0;n<e.length;n++)this.connections[e[n]].what=t;e.splice(0,e.length)}clone(){const e=new ch;for(let t=0;t<this.nodes.length;t++){const n=this.nodes[t],i=new lh(n.validator);i.code=n.code,e.nodes.push(i)}for(let t=0;t<this.connections.length;t++){const n=this.connections[t],i=new hh(n.where,n.success);i.what=n.what,e.connections.push(i)}return e.match.push(...this.match),e.nomatch.push(...this.nomatch),e.error.push(...this.error),e}addSpecialToArr(e,t,n){const i=this.nodes.length,o=new lh(fh);n>=0?t?o.markAsStartAlternate(n):o.markAsEndAlternate(n):t?o.markAsStartGroup():o.markAsEndGroup(),this.nodes.push(o),this.connect(e,i);const s=new hh(i,!0),r=new hh(i,!1);e.push(this.connections.length),this.connections.push(r),e.push(this.connections.length),this.connections.push(s)}endSpecialGroup(){const e=[this.match,this.nomatch,this.error];for(let t=0;t<e.length;t++)this.addSpecialToArr(e[t],!1,-1)}startSpecialGroup(){if(this.nodes.length)throw new Error("invalid call");this.addSpecialToArr(this.match,!0,-1)}endClause(e){this.addSpecialToArr(this.match,!1,e)}startClause(e){if(this.nodes.length)throw new Error("invalid call");const t=new lh(fh);t.markAsStartAlternate(e),this.nodes.push(t);const n=new hh(0,!0),i=new hh(0,!1);this.nomatch.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}addPrimitive(e){const t=this.nodes.length;this.nodes.push(new lh(e));const n=new hh(t,!0),i=new hh(t,!1);this.connect(this.match,t),this.emptyHead?(this.nomatch.push(this.connections.length),this.emptyHead=!1):this.error.push(this.connections.length),this.connections.push(i),this.match.push(this.connections.length),this.connections.push(n)}isSimple(){return 1==this.nodes.length&&!this.nodes[0].isSpecial()}isPrimitive(){return this.isSimple()&&this.nodes[0].validator instanceof dh}addGroup(e,t){if(0==e.nodes.length)return;const n=this.nodes.length;if(t==ah.ALTERNATE&&1==n&&e.isPrimitive()&&this.isPrimitive())return void(this.nodes[0].validator=this.nodes[0].validator.combine(e.nodes[0].validator));for(let t=0;t<e.nodes.length;t++)this.nodes.push(e.nodes[t]);t==ah.ALTERNATE?(this.emptyHead=!0,this.connect(this.nomatch,n)):this.connect(this.match,n);const i=this.connections.length;for(let t=0;t<e.connections.length;t++){const i=e.connections[t];i.where+=n,i.what>=0&&(i.what+=n),this.connections.push(i)}for(let t=0;t<e.match.length;t++)this.match.push(e.match[t]+i);if(t==ah.REPEATED&&this.connect(this.match,n),t==ah.OPTIONAL||t==ah.REPEATED)for(let t=0;t<e.nomatch.length;t++)this.match.push(e.nomatch[t]+i);else if(this.emptyHead){for(let t=0;t<e.nomatch.length;t++)this.nomatch.push(e.nomatch[t]+i);this.emptyHead=e.emptyHead}else for(let t=0;t<e.nomatch.length;t++)this.error.push(e.nomatch[t]+i);for(let t=0;t<e.error.length;t++)this.error.push(e.error[t]+i);e.nodes=null,e.connections=null}finish(e,t){const n=this.nodes.length;this.nodes.push(e),this.nodes.push(t),this.connect(this.match,n),this.connect(this.nomatch,n+1),this.connect(this.error,n+1);for(const e of this.connections)e.success?this.nodes[e.where].success=this.nodes[e.what]:this.nodes[e.where].failure=this.nodes[e.what];for(let e=0;e<n;e++)if(null==this.nodes[e].failure||null==this.nodes[e].success)throw new Error("Invalid validator state");return this.nodes[0]}}class uh extends gt{constructor(){super()}validateForShorthand(e,t){const n=e[t].visit(this);return n?[n]:null}}class dh extends uh{constructor(e,t,n){super(),this.allowed=e,this.idents=t,this.units=n}visitEmpty(e){return 1&this.allowed?e:null}visitSlash(e){return 2048&this.allowed?e:null}visitStr(e){return 2&this.allowed?e:null}visitIdent(e){return this.idents[e.name.toLowerCase()]||(4&this.allowed?e:null)}visitNumeric(e){return 0!=e.num||512&this.allowed?e.num<0&&!(256&this.allowed)?null:this.units[e.unit]?e:null:"%"==e.unit&&1024&this.allowed?e:null}visitNum(e){return 0==e.num?512&this.allowed?e:null:e.num<=0&&!(256&this.allowed)?null:16&this.allowed?e:null}visitInt(e){if(0==e.num)return 512&this.allowed?e:null;if(e.num<=0&&!(256&this.allowed))return null;if(48&this.allowed)return e;return this.idents[`${e.num}`]||null}visitColor(e){return 64&this.allowed?e:null}visitURL(e){return 128&this.allowed?e:null}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return null}visitExpr(e){return 2046&this.allowed?e:null}combine(e){const t={},n={};for(const e in this.idents)t[e]=this.idents[e];for(const n in e.idents)t[n]=e.idents[n];for(const e in this.units)n[e]=this.units[e];for(const t in e.units)n[t]=e.units[t];return new dh(this.allowed|e.allowed,t,n)}}const ph={},fh=new dh(0,ph,ph);class gh extends uh{constructor(e){super(),this.successTerminal=new lh(null),this.failureTerminal=new lh(null),this.first=e.finish(this.successTerminal,this.failureTerminal)}validateList(e,t,n){let i=t?[]:e,o=this.first,s=n,r=null,a=null;for(;o!==this.successTerminal&&o!==this.failureTerminal;){if(s>=e.length){o=o.failure;continue}const l=e[s];let h=l;if(o.isSpecial()){let e=!0;o.isStartGroup()?(r?r.push(a):r=[a],a=[]):o.isEndGroup()?a=r.length>0?r.pop():null:o.isEndAlternate()?a[o.getAlternate()]="taken":e=null==a[o.getAlternate()],o=e?o.success:o.failure}else{if(0==s&&!t&&o.validator instanceof mh&&this instanceof mh){if(h=new kt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else if(0==s&&!t&&o.validator instanceof bh&&this instanceof mh){if(h=new Lt(e).visit(o.validator),h){s=e.length,o=o.success;continue}}else h=l.visit(o.validator);if(!h){o=o.failure;continue}if(h!==l&&e===i){i=[];for(let t=0;t<s;t++)i[t]=e[t]}e!==i&&(i[s-n]=h),s++,o=o.success}}return o===this.successTerminal&&(t?i.length>0:s==e.length)?i:null}validateSingle(e){let t=null,n=this.first;for(;n!==this.successTerminal&&n!==this.failureTerminal;)e?n.isSpecial()?n=n.success:(t=e.visit(n.validator),t?(e=null,n=n.success):n=n.failure):n=n.failure;return n===this.successTerminal?t:null}visitEmpty(e){return this.validateSingle(e)}visitSlash(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return null}visitCommaList(e){return null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return null}}class mh extends gh{constructor(e){super(e)}visitSpaceList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new kt(t):null}visitCommaList(e){let t=this.first,n=!1;for(;t;){if(t.validator instanceof bh){n=!0;break}t=t.failure}if(n){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Lt(t):null}return null}validateForShorthand(e,t){return this.validateList(e,!0,t)}}class bh extends gh{constructor(e){super(e)}visitSpaceList(e){return this.validateSingle(e)}visitCommaList(e){const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Lt(t):null}validateForShorthand(e,t){let n,i=this.first;for(;i!==this.failureTerminal;){if(n=i.validator.validateForShorthand(e,t),n)return n;i=i.failure}return null}}class wh extends gh{constructor(e,t){super(t),this.name=e}validateSingle(e){return null}visitFunc(e){if(e.name.toLowerCase()!=this.name)return null;const t=this.validateList(e.values,!1,0);return t===e.values?e:t?new Ft(e.name,t):null}}class Eh{tryParse(e,t,n){return t}success(e,t){}}class yh extends Eh{constructor(e,t){super(),this.name=t,this.validator=e.validators[this.name]}tryParse(e,t,n){if(n.values[this.name])return t;const i=this.validator.validateForShorthand(e,t);if(i){const e=i.length,o=e>1?new kt(i):i[0];return this.success(o,n),t+e}return t}success(e,t){t.values[this.name]=e}}class Sh extends yh{constructor(e,t){super(e,t[0]),this.names=t}success(e,t){for(let n=0;n<this.names.length;n++)t.values[this.names[n]]=e}}class Nh extends Eh{constructor(e,t){super(),this.nodes=e,this.slash=t}tryParse(e,t,n){const i=t;if(this.slash){if(e[t]!=St)return i;if(++t==e.length)return i}let o=this.nodes[0].tryParse(e,t,n);if(o==t)return i;t=o;for(let i=1;i<this.nodes.length&&t<e.length&&(o=this.nodes[i].tryParse(e,t,n),o!=t);i++)t=o;return t}}class vh extends gt{constructor(){super(...arguments),this.syntax=null,this.propList=null,this.error=!1,this.values={},this.validatorSet=null}setOwner(e){this.validatorSet=e}syntaxNodeForProperty(e){return new yh(this.validatorSet,e)}clone(){const e=new this.constructor;return e.syntax=this.syntax,e.propList=this.propList,e.validatorSet=this.validatorSet,e}init(e,t){this.syntax=e,this.propList=t}finish(e,t){if(!this.error){for(const n of this.propList)t.simpleProperty(n,this.values[n]||this.validatorSet.defaultValues[n],e);return!0}return!1}propagateInherit(e,t){for(const n of this.propList)t.simpleProperty(n,Mt.inherit,e)}validateList(e){return this.error=!0,0}validateSingle(e){return this.validateList([e]),null}visitEmpty(e){return this.validateSingle(e)}visitStr(e){return this.validateSingle(e)}visitIdent(e){return this.validateSingle(e)}visitNumeric(e){return this.validateSingle(e)}visitNum(e){return this.validateSingle(e)}visitInt(e){return this.validateSingle(e)}visitColor(e){return this.validateSingle(e)}visitURL(e){return this.validateSingle(e)}visitSpaceList(e){return this.validateList(e.values),null}visitCommaList(e){return this.error=!0,null}visitFunc(e){return this.validateSingle(e)}visitExpr(e){return this.error=!0,null}}class Ch extends vh{constructor(){super()}validateList(e){let t=0,n=0;for(;t<e.length;){const i=this.syntax[n].tryParse(e,t,this);if(i>t)t=i,n=0;else if(++n==this.syntax.length){this.error=!0;break}}return t}}class Th extends vh{constructor(){super()}validateList(e){if(e.length>this.syntax.length||0==e.length)return this.error=!0,0;for(let t=0;t<this.syntax.length;t++){let n=t;for(;n>=e.length;)n=1==n?0:n-2;if(this.syntax[t].tryParse(e,n,this)!=n+1)return this.error=!0,0}return e.length}createSyntaxNode(){return new Sh(this.validatorSet,this.propList)}}const xh={SIMPLE:Ch,INSETS:Th,INSETS_SLASH:class extends vh{constructor(){super()}validateList(e){let t=e.length;for(let n=0;n<e.length;n++)if(e[n]===St){t=n;break}if(t>this.syntax.length||0==e.length)return this.error=!0,0;for(let n=0;n<this.syntax.length;n++){let i,o=n;for(;o>=t;)o=1==o?0:o-2;if(t+1<e.length)for(i=t+n+1;i>=e.length;)i-=i==t+2?1:2;else i=o;const s=[e[o],e[i]];if(2!=this.syntax[n].tryParse(s,0,this))return this.error=!0,0}return e.length}},COMMA:class extends Ch{constructor(){super()}mergeIn(e,t){for(const n of this.propList){const i=t[n]||this.validatorSet.defaultValues[n];let o=e[n];o||(o=[],e[n]=o),o.push(i)}}visitCommaList(e){const t={};for(let n=0;n<e.values.length;n++)if(this.values={},e.values[n]instanceof Lt?this.error=!0:(e.values[n].visit(this),this.mergeIn(t,this.values),this.values["background-color"]&&n!=e.values.length-1&&(this.error=!0)),this.error)return null;this.values={};for(const e in t)this.values[e]="background-color"==e?t[e].pop():new Lt(t[e]);return null}},FONT:class extends Ch{constructor(){super()}init(e,t){super.init(e,t),this.propList.push("font-family","line-height","font-size")}validateList(e){let t=super.validateList(e);if(t+2>e.length)return this.error=!0,t;this.error=!1;const n=this.validatorSet.validators;if(!e[t].visit(n["font-size"]))return this.error=!0,t;if(this.values["font-size"]=e[t++],e[t]===St){if(t++,t+2>e.length)return this.error=!0,t;if(!e[t].visit(n["line-height"]))return this.error=!0,t;this.values["line-height"]=e[t++]}const i=t==e.length-1?e[t]:new kt(e.slice(t,e.length));return i.visit(n["font-family"])?(this.values["font-family"]=i,e.length):(this.error=!0,t)}visitCommaList(e){if(e.values[0].visit(this),this.error)return null;const t=[this.values["font-family"]];for(let n=1;n<e.values.length;n++)t.push(e.values[n]);const n=new Lt(t);return n.visit(this.validatorSet.validators["font-family"])?this.values["font-family"]=n:this.error=!0,null}visitIdent(e){const t=this.validatorSet.systemFonts[e.name];if(t)for(const e in t)this.values[e]=t[e];else this.error=!0;return null}}};class Ih{constructor(){this.validators={},this.prefixes={},this.defaultValues={},this.namedValidators={},this.systemFonts={},this.shorthands={},this.layoutProps={},this.backgroundProps={}}addReplacement(e,t){let n;if(t.type==On.NUMERIC)n=new xt(t.num,t.text);else if(t.type==On.HASH)n=Li(t.text);else{if(t.type!=On.IDENT)throw new Error("unexpected replacement");n=Tt(t.text)}if(e.isPrimitive()){const t=e.nodes[0].validator.idents;for(const e in t)t[e]=n;return e}throw new Error("unexpected replacement")}newGroup(e,t){const n=new ch;if("||"==e){for(let e=0;e<t.length;e++){const i=new ch;i.startClause(e),i.addGroup(t[e],ah.FOLLOW),i.endClause(e),n.addGroup(i,0==e?ah.FOLLOW:ah.ALTERNATE)}const e=new ch;return e.startSpecialGroup(),e.addGroup(n,ah.REPEATED),e.endSpecialGroup(),e}{let i;switch(e){case" ":i=ah.FOLLOW;break;case"|":case"||":i=ah.ALTERNATE;break;default:throw new Error("unexpected op")}for(let e=0;e<t.length;e++)n.addGroup(t[e],0==e?ah.FOLLOW:i);return n}}addCounts(e,t,n){const i=new ch;for(let n=0;n<t;n++)i.addGroup(e.clone(),ah.FOLLOW);if(n==Number.POSITIVE_INFINITY)i.addGroup(e,ah.REPEATED);else for(let o=t;o<n;o++)i.addGroup(e.clone(),ah.OPTIONAL);return i}primitive(e){const t=new ch;return t.addPrimitive(e),t}newFunc(e,t){let n;switch(e){case"COMMA":n=new bh(t);break;case"SPACE":n=new mh(t);break;default:n=new wh(e.toLowerCase(),t)}return this.primitive(n)}initBuiltInValidators(){this.namedValidators.HASHCOLOR=this.primitive(new dh(64,ph,ph)),this.namedValidators.POS_INT=this.primitive(new dh(32,ph,ph)),this.namedValidators.POS_NUM=this.primitive(new dh(16,ph,ph)),this.namedValidators.POS_PERCENTAGE=this.primitive(new dh(8,ph,{"%":Et})),this.namedValidators.NEGATIVE=this.primitive(new dh(256,ph,ph)),this.namedValidators.ZERO=this.primitive(new dh(512,ph,ph)),this.namedValidators.ZERO_PERCENTAGE=this.primitive(new dh(1024,ph,ph)),this.namedValidators.POS_LENGTH=this.primitive(new dh(8,ph,{em:Et,ex:Et,ch:Et,rem:Et,vw:Et,vh:Et,vi:Et,vb:Et,vmin:Et,vmax:Et,pvw:Et,pvh:Et,pvi:Et,pvb:Et,pvmin:Et,pvmax:Et,cm:Et,mm:Et,in:Et,px:Et,pt:Et,pc:Et,q:Et})),this.namedValidators.POS_ANGLE=this.primitive(new dh(8,ph,{deg:Et,grad:Et,rad:Et,turn:Et})),this.namedValidators.POS_TIME=this.primitive(new dh(8,ph,{s:Et,ms:Et})),this.namedValidators.FREQUENCY=this.primitive(new dh(8,ph,{Hz:Et,kHz:Et})),this.namedValidators.RESOLUTION=this.primitive(new dh(8,ph,{dpi:Et,dpcm:Et,dppx:Et})),this.namedValidators.URI=this.primitive(new dh(128,ph,ph)),this.namedValidators.IDENT=this.primitive(new dh(4,ph,ph)),this.namedValidators.STRING=this.primitive(new dh(2,ph,ph)),this.namedValidators.SLASH=this.primitive(new dh(2048,ph,ph));const e={"font-family":Tt("sans-serif")};this.systemFonts.caption=e,this.systemFonts.icon=e,this.systemFonts.menu=e,this.systemFonts["message-box"]=e,this.systemFonts["small-caption"]=e,this.systemFonts["status-bar"]=e}isBuiltIn(e){return!!e.match(/^[A-Z_0-9]+$/)}readNameAndPrefixes(e,t){let n=e.token();if(n.type==On.EOF)return null;const i={"":!0};if(n.type==On.O_BRK){do{if(e.consume(),n=e.token(),n.type!=On.IDENT)throw new Error("Prefix name expected");i[n.text]=!0,e.consume(),n=e.token()}while(n.type==On.COMMA);if(n.type!=On.C_BRK)throw new Error("']' expected");e.consume(),n=e.token()}if(n.type!=On.IDENT)throw new Error("Property name expected");if(2==t?"SHORTHANDS"==n.text:"DEFAULTS"==n.text)return e.consume(),null;const o=n.text;if(e.consume(),2!=t){if(e.token().type!=On.EQ)throw new Error("'=' expected");this.isBuiltIn(o)||(this.prefixes[o]=i)}else if(e.token().type!=On.COLON)throw new Error("':' expected");return o}parseValidators(e){for(;;){const t=this.readNameAndPrefixes(e,1);if(!t)return;let n=[];const i=[];let o,s="",r=!0;const a=this,l=()=>{if(0==n.length)throw new Error("No values");return 1==n.length?n[0]:a.newGroup(s,n)},h=e=>{if(r)throw new Error(`'${e}': unexpected`);if(s&&s!=e)throw new Error(`mixed operators: '${e}' and '${s}'`);s=e,r=!0};let c=null;for(;!c;){e.consume();let t=e.token();switch(t.type){case On.IDENT:if(r||h(" "),this.isBuiltIn(t.text)){const e=this.namedValidators[t.text];if(!e)throw new Error(`'${t.text}' unexpected`);n.push(e.clone())}else{const e={};e[t.text.toLowerCase()]=Tt(t.text),n.push(this.primitive(new dh(0,e,ph)))}r=!1;break;case On.INT:{const e={};e[`${t.num}`]=new Pt(t.num),n.push(this.primitive(new dh(0,e,ph))),r=!1;break}case On.BAR:h("|");break;case On.BAR_BAR:h("||");break;case On.O_BRK:r||h(" "),i.push({vals:n,op:s,b:"["}),s="",n=[],r=!0;break;case On.FUNC:r||h(" "),i.push({vals:n,op:s,b:"(",fn:t.text}),s="",n=[],r=!0;break;case On.C_BRK:{o=l();const e=i.pop();if("["!=e.b)throw new Error("']' unexpected");n=e.vals,n.push(o),s=e.op,r=!1;break}case On.C_PAR:{o=l();const e=i.pop();if("("!=e.b)throw new Error("')' unexpected");n=e.vals,n.push(this.newFunc(e.fn,o)),s=e.op,r=!1;break}case On.COLON:if(r)throw new Error("':' unexpected");e.consume(),n.push(this.addReplacement(n.pop(),e.token()));break;case On.QMARK:if(r)throw new Error("'?' unexpected");n.push(this.addCounts(n.pop(),0,1));break;case On.STAR:if(r)throw new Error("'*' unexpected");n.push(this.addCounts(n.pop(),0,Number.POSITIVE_INFINITY));break;case On.PLUS:if(r)throw new Error("'+' unexpected");n.push(this.addCounts(n.pop(),1,Number.POSITIVE_INFINITY));break;case On.O_BRC:{if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");const i=t.num;let o=i;if(e.consume(),t=e.token(),t.type==On.COMMA){if(e.consume(),t=e.token(),t.type!=On.INT)throw new Error("<int> expected");o=t.num,e.consume(),t=e.token()}if(t.type!=On.C_BRC)throw new Error("'}' expected");n.push(this.addCounts(n.pop(),i,o));break}case On.SEMICOL:if(c=l(),i.length>0)throw new Error(`unclosed '${i.pop().b}'`);break;default:throw new Error("unexpected token")}}e.consume(),this.isBuiltIn(t)?this.namedValidators[t]=c:c.isSimple()?this.validators[t]=c.nodes[0].validator:this.validators[t]=new mh(c)}}parseDefaults(e){for(;;){const t=this.readNameAndPrefixes(e,2);if(!t)return;const n=[];for(;;){e.consume();const t=e.token();if(t.type==On.SEMICOL){e.consume();break}switch(t.type){case On.IDENT:n.push(Tt(t.text));break;case On.NUM:n.push(new It(t.num));break;case On.INT:n.push(new Pt(t.num));break;case On.NUMERIC:n.push(new xt(t.num,t.text));break;default:throw new Error("unexpected token")}}this.defaultValues[t]=n.length>1?new kt(n):n[0]}}parseShorthands(e){for(;;){const t=this.readNameAndPrefixes(e,3);if(!t)return;let n,i=e.nthToken(1);i.type==On.IDENT&&xh[i.text]?(n=new xh[i.text],e.consume()):n=new Ch,n.setOwner(this);let o=!1,s=[],r=!1;const a=[],l=[];for(;!o;)switch(e.consume(),i=e.token(),i.type){case On.IDENT:if(this.validators[i.text])s.push(n.syntaxNodeForProperty(i.text)),l.push(i.text);else{if(!(this.shorthands[i.text]instanceof Th))throw new Error(`'${i.text}' is neither a simple property nor an inset shorthand`);{const e=this.shorthands[i.text];s.push(e.createSyntaxNode()),l.push(...e.propList)}}break;case On.SLASH:if(s.length>0||r)throw new Error("unexpected slash");r=!0;break;case On.O_BRK:a.push({slash:r,syntax:s}),s=[],r=!1;break;case On.C_BRK:{const e=new Nh(s,r),t=a.pop();s=t.syntax,r=t.slash,s.push(e);break}case On.SEMICOL:o=!0,e.consume();break;default:throw new Error("unexpected token")}n.init(s,l),this.shorthands[t]=n}}parse(e){const t=new li(e,null);this.parseValidators(t),this.parseDefaults(t),this.parseShorthands(t),this.backgroundProps=this.makePropSet(["background"]),this.layoutProps=this.makePropSet(["margin","border","padding","columns","column-gap","column-rule","column-fill"])}makePropSet(e){const t={};for(const n of e){const e=this.shorthands[n],i=e?e.propList:[n];for(const e of i){const n=this.defaultValues[e];n?t[e]=n:c.warn("Unknown property in makePropSet:",e)}}return t}validatePropertyAndHandleShorthand(e,t,n,i){let o="";const s=e,r=(e=e.toLowerCase()).match(/^-([a-z]+)-([-a-z0-9]+)$/);r&&(o=r[1],e=r[2]);const a=this.prefixes[e];if(!a||!a[o])return void i.unknownProperty(s,t);const l=this.validators[e];if(l){const o=t===Mt.inherit||t.isExpr()?t:t.visit(l);o?i.simpleProperty(e,o,n):i.invalidPropertyValue(s,t)}else{const o=this.shorthands[e].clone();t===Mt.inherit?o.propagateInherit(n,i):(t.visit(o),o.finish(n,i)||i.invalidPropertyValue(s,t))}}}function Ph(){const e=new Ih;return e.initBuiltInValidators(),e.parse("/*\n * Copyright 2013 Google, Inc.\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * CSS property validation.\n */\nNUM = POS_NUM | ZERO | NEGATIVE;\nNNEG_NUM = POS_NUM | ZERO;\nINT = POS_INT | ZERO | NEGATIVE;\nNNEG_INT = POS_INT | ZERO;\nPERCENTAGE = POS_PERCENTAGE | ZERO | NEGATIVE;\nSTRICT_PERCENTAGE = POS_PERCENTAGE | ZERO_PERCENTAGE | NEGATIVE;\nNNEG_PERCENTAGE = POS_PERCENTAGE | ZERO;\nLENGTH = POS_LENGTH | ZERO | NEGATIVE;\nNNEG_LENGTH = POS_LENGTH | ZERO | NEGATIVE;\nPLENGTH = LENGTH | PERCENTAGE;\nPPLENGTH = POS_LENGTH | ZERO | POS_PERCENTAGE;\nALENGTH = LENGTH | auto;\nAPLENGTH = PLENGTH | auto;\nPAPLENGTH = PPLENGTH | auto;\nANGLE = POS_ANGLE | ZERO | NEGATIVE;\nLENGTH_OR_NUM = LENGTH | NUM;\nANGLE_OR_NUM = ANGLE | NUM;\nSCOLOR = HASHCOLOR | aliceblue: #F0F8FF | antiquewhite: #FAEBD7 | aqua: #00FFFF | aquamarine: #7FFFD4 | azure: #F0FFFF |\n    beige: #F5F5DC | bisque: #FFE4C4 | black: #000000 | blanchedalmond: #FFEBCD | blue: #0000FF | blueviolet: #8A2BE2 | brown: #A52A2A |\n    burlywood: #DEB887 | cadetblue: #5F9EA0 | chartreuse: #7FFF00 | chocolate: #D2691E | coral: #FF7F50 | cornflowerblue: #6495ED |\n    cornsilk: #FFF8DC | crimson: #DC143C | cyan: #00FFFF | darkblue: #00008B | darkcyan: #008B8B | darkgoldenrod: #B8860B |\n    darkgray: #A9A9A9 | darkgreen: #006400 | darkgrey: #A9A9A9 | darkkhaki: #BDB76B | darkmagenta: #8B008B | darkolivegreen: #556B2F |\n    darkorange: #FF8C00 | darkorchid: #9932CC | darkred: #8B0000 | darksalmon: #E9967A | darkseagreen: #8FBC8F | darkslateblue: #483D8B |\n    darkslategray: #2F4F4F | darkslategrey: #2F4F4F | darkturquoise: #00CED1 | darkviolet: #9400D3 | deeppink: #FF1493 |\n    deepskyblue: #00BFFF | dimgray: #696969 | dimgrey: #696969 | dodgerblue: #1E90FF | firebrick: #B22222 | floralwhite: #FFFAF0 |\n    forestgreen: #228B22 | fuchsia: #FF00FF | gainsboro: #DCDCDC | ghostwhite: #F8F8FF | gold: #FFD700 | goldenrod: #DAA520 |\n    gray: #808080 | green: #008000 | greenyellow: #ADFF2F | grey: #808080 | honeydew: #F0FFF0 | hotpink: #FF69B4 | indianred: #CD5C5C |\n    indigo: #4B0082 | ivory: #FFFFF0 | khaki: #F0E68C | lavender: #E6E6FA | lavenderblush: #FFF0F5 | lawngreen: #7CFC00 |\n    lemonchiffon: #FFFACD | lightblue: #ADD8E6 | lightcoral: #F08080 | lightcyan: #E0FFFF | lightgoldenrodyellow: #FAFAD2 |\n    lightgray: #D3D3D3 | lightgreen: #90EE90 | lightgrey: #D3D3D3 | lightpink: #FFB6C1 | lightsalmon: #FFA07A | lightseagreen: #20B2AA |\n    lightskyblue: #87CEFA | lightslategray: #778899 | lightslategrey: #778899 | lightsteelblue: #B0C4DE | lightyellow: #FFFFE0 |\n    lime: #00FF00 | limegreen: #32CD32 | linen: #FAF0E6 | magenta: #FF00FF | maroon: #800000 | mediumaquamarine: #66CDAA |\n    mediumblue: #0000CD | mediumorchid: #BA55D3 | mediumpurple: #9370DB | mediumseagreen: #3CB371 | mediumslateblue: #7B68EE |\n    mediumspringgreen: #00FA9A | mediumturquoise: #48D1CC | mediumvioletred: #C71585 | midnightblue: #191970 | mintcream: #F5FFFA |\n    mistyrose: #FFE4E1 | moccasin: #FFE4B5 | navajowhite: #FFDEAD | navy: #000080 | oldlace: #FDF5E6 | olive: #808000 |\n    olivedrab: #6B8E23 | orange: #FFA500 | orangered: #FF4500 | orchid: #DA70D6 | palegoldenrod: #EEE8AA | palegreen: #98FB98 |\n    paleturquoise: #AFEEEE | palevioletred: #DB7093 | papayawhip: #FFEFD5 | peachpuff: #FFDAB9 | peru: #CD853F | pink: #FFC0CB |\n    plum: #DDA0DD | powderblue: #B0E0E6 | purple: #800080 | rebeccapurple: #663399 | red: #FF0000 | rosybrown: #BC8F8F | royalblue: #4169E1 |\n    saddlebrown: #8B4513 | salmon: #FA8072 | sandybrown: #F4A460 | seagreen: #2E8B57 | seashell: #FFF5EE | sienna: #A0522D |\n    silver: #C0C0C0 | skyblue: #87CEEB | slateblue: #6A5ACD | slategray: #708090 | slategrey: #708090 | snow: #FFFAFA |\n    springgreen: #00FF7F | steelblue: #4682B4 | tan: #D2B48C | teal: #008080 | thistle: #D8BFD8 | tomato: #FF6347 |\n    turquoise: #40E0D0 | violet: #EE82EE | wheat: #F5DEB3 | white: #FFFFFF | whitesmoke: #F5F5F5 | yellow: #FFFF00 |\n    yellowgreen: #9ACD32 | transparent | currentcolor;\nRGBCOLOR = rgb(INT{3}) | rgb(STRICT_PERCENTAGE{3});\nRGBACOLOR = rgba(NUM{4}) | rgba(STRICT_PERCENTAGE{3} NUM);\nHSLCOLOR = hsl(NUM PERCENTAGE{2});\nHSLACOLOR = hsl(NUM PERCENTAGE{2} NUM);\nCOLOR = SCOLOR | RGBCOLOR | RGBACOLOR | HSLCOLOR | HSLACOLOR;\nBG_POSITION_TERM = PLENGTH | left | center | right | top | bottom;\nSIDE_OR_CORNER =  [left | right] || [top | bottom];\nCOLOR_STOP = SPACE(COLOR [PERCENTAGE | LENGTH]?);\nLINEAR_GRADIENT = linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |\n                  repeating-linear-gradient([ANGLE | SPACE(to SIDE_OR_CORNER)]? COLOR_STOP+) |;\nGRADIENT_EXTENT = closest-corner | closest-side | farthest-corner | farthest-side;\nGRADIENT_POSITION = at BG_POSITION_TERM{1,4};\nGRADIENT_SHAPE = SPACE(circle LENGTH? GRADIENT_POSITION?) | SPACE(ellipse PLENGTH{2}? GRADIENT_POSITION?)| SPACE([circle | ellipse] GRADIENT_EXTENT? GRADIENT_POSITION?);\nRADIAL_GRADIENT = radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+) |\n                  repeating-radial-gradient([GRADIENT_SHAPE | SPACE(GRADIENT_POSITION)]? COLOR_STOP+);\nURI_OR_NONE = URI | none;\nIMAGE =  URI | LINEAR_GRADIENT | RADIAL_GRADIENT | none;\nazimuth = ANGLE | [[ left-side | far-left | left | center-left | center | center-right | right | far-right | right-side ] || behind ] | leftwards | rightwards;\nbackground-attachment = COMMA( [scroll | fixed | local]+ );\nbackground-color = COLOR;\nbackground-image = COMMA( IMAGE+ );\nbackground-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\nbackground-repeat = COMMA( [repeat | repeat-x | repeat-y | no-repeat]+ );\nborder-collapse = collapse | separate;\nBORDER_SIDE_COLOR = COLOR;\nBORDER_SIDE_STYLE = none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset;\nBORDER_SIDE_WIDTH = thin: 1px | medium: 3px | thick: 5px | NNEG_LENGTH;\nborder-spacing = LENGTH LENGTH?;\nborder-top-color = BORDER_SIDE_COLOR;\nborder-right-color = BORDER_SIDE_COLOR;\nborder-bottom-color = BORDER_SIDE_COLOR;\nborder-left-color = BORDER_SIDE_COLOR;\nborder-top-style = BORDER_SIDE_STYLE;\nborder-right-style = BORDER_SIDE_STYLE;\nborder-bottom-style = BORDER_SIDE_STYLE;\nborder-left-style = BORDER_SIDE_STYLE;\nborder-top-width = BORDER_SIDE_WIDTH;\nborder-right-width = BORDER_SIDE_WIDTH;\nborder-bottom-width = BORDER_SIDE_WIDTH;\nborder-left-width = BORDER_SIDE_WIDTH;\nBORDER_RADIUS = PLENGTH{1,2};\nborder-top-left-radius = BORDER_RADIUS;\nborder-top-right-radius = BORDER_RADIUS;\nborder-bottom-right-radius = BORDER_RADIUS;\nborder-bottom-left-radius = BORDER_RADIUS;\nborder-image-source = IMAGE;\nborder-image-slice = [NUM | PERCENTAGE]{1,4} || fill; /* relaxed */\nborder-image-width = [NUM | PLENGTH | auto]{1,4};\nborder-image-outset = [NUM | LENGTH]{1,4};\nborder-image-repeat = [ stretch | repeat | round | space ]{1,2};\nbottom = APLENGTH;\ncaption-side = top | bottom;\nclear = none | left | right | top | bottom | both | all | same;\nclip = rect(ALENGTH{4}) | rect(SPACE(ALENGTH{4})) | auto;\ncolor = COLOR;\nLIST_STYLE_TYPE = disc | circle | square | decimal | decimal-leading-zero | lower-roman |\n    upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha |\n    upper-alpha | russian | upper-russian | lower-russian | cjk-ideographic | trad-chinese-informal |\n    hebrew | none;\nTYPE_OR_UNIT_IN_ATTR = string | color | url | integer | number | length | angle | time | frequency;\nATTR = attr(SPACE(IDENT TYPE_OR_UNIT_IN_ATTR?) [ STRING | IDENT | COLOR | INT | NUM | PLENGTH | ANGLE | POS_TIME | FREQUENCY]?);\nCONTENT = normal | none |\n    [ STRING | URI | counter(IDENT LIST_STYLE_TYPE?) |\n    counters(IDENT STRING LIST_STYLE_TYPE?) | ATTR |\n    target-counter([ STRING | URI ] IDENT LIST_STYLE_TYPE?) |\n    target-counter(ATTR IDENT LIST_STYLE_TYPE?) |\n    target-counters([ STRING | URI ] IDENT STRING LIST_STYLE_TYPE?) |\n    target-counters(ATTR IDENT STRING LIST_STYLE_TYPE?) |\n    open-quote | close-quote | no-open-quote | no-close-quote ]+;\ncontent = CONTENT;\nCOUNTER = [ IDENT INT? ]+ | none;\ncounter-increment = COUNTER;\ncounter-reset = COUNTER;\ncounter-set = COUNTER;\ncue-after = URI_OR_NONE;\ncue-before = URI_OR_NONE;\ncursor = COMMA(URI* [ auto | crosshair | default | pointer | move | e-resize | ne-resize | nw-resize |\n    n-resize | se-resize | sw-resize | s-resize | w-resize | text | wait | help | progress ]);\ndirection = ltr | rtl;\ndisplay = inline | block | list-item | inline-block | table | inline-table | table-row-group |\n    table-header-group | table-footer-group | table-row | table-column-group | table-column |\n    table-cell | table-caption | none | oeb-page-head | oeb-page-foot | flex | inline-flex |\n    ruby | ruby-base | ruby-text | ruby-base-container | ruby-text-container | run-in | compact | marker;\nelevation = ANGLE | below | level | above | higher | lower;\nempty-cells = show | hide;\nFAMILY = SPACE(IDENT+) | STRING;\nFAMILY_LIST = COMMA( FAMILY+ );\nfont-family = FAMILY_LIST;\nfont-size = xx-small | x-small | small | medium | large | x-large | xx-large | larger | smaller | PPLENGTH | POS_NUM;\nfont-style = normal | italic | oblique;\nfont-variant = normal | small-caps;\nfont-weight = normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900;\nheight = PAPLENGTH | POS_NUM ;\nleft = APLENGTH;\nletter-spacing = normal | LENGTH_OR_NUM;\nline-height = normal | POS_NUM | PPLENGTH;\nlist-style-image = IMAGE;\nlist-style-position = inside | outside;\nlist-style-type = LIST_STYLE_TYPE;\nmargin-right = APLENGTH;\nmargin-left = APLENGTH;\nmargin-top = APLENGTH;\nmargin-bottom = APLENGTH;\nNPLENGTH = none | PLENGTH;\nmax-height = NPLENGTH;\nmax-width = NPLENGTH;\nmin-height = auto | PLENGTH;\nmin-width = auto | PLENGTH;\norphans = POS_INT;\noutline-offset = LENGTH;\noutline-color = COLOR | invert;\noutline-style = BORDER_SIDE_STYLE;\noutline-width = BORDER_SIDE_WIDTH;\noverflow = visible | hidden | scroll | auto;\npadding-right = PPLENGTH;\npadding-left = PPLENGTH;\npadding-top = PPLENGTH;\npadding-bottom = PPLENGTH;\nPAGE_BREAK = auto | always | avoid | left | right | recto | verso;\npage-break-after = PAGE_BREAK;\npage-break-before = PAGE_BREAK;\npage-break-inside = avoid | auto;\nPAUSE = POS_TIME | ZERO | POS_PERCENTAGE;\npause-after = PAUSE;\npause-before = PAUSE;\npitch-range = NUM;\npitch = FREQUENCY | x-low | low | medium | high | x-high;\nplay-during = [URI [ mix || repeat ]?] | auto | none;\nposition = static | relative | absolute | fixed;\nquotes = [STRING STRING]+ | none;\nrichness = NUM;\nright = APLENGTH;\nspeak-header = once | always;\nspeak-numeral = digits | continuous;\nspeak-punctuation = code | none;\nspeech-rate = NUM | x-slow | slow | medium | fast | x-fast | faster | slower;\nstress = NUM;\ntable-layout = auto | fixed;\ntext-align = left | right | center | justify | start | end;\ntext-decoration = none | [ underline || overline || line-through || blink ];\ntext-indent = PLENGTH;\ntext-transform = capitalize | uppercase | lowercase | none;\ntop = APLENGTH;\nvertical-align = baseline | sub | super | top | text-top | middle | bottom | text-bottom | PLENGTH;\nvisibility = visible | hidden | collapse;\nvoice-family = FAMILY_LIST;\nvolume = NUM | PERCENTAGE | silent | x-soft | soft | medium | loud | x-loud;\nwhite-space = normal | pre | nowrap | pre-wrap | pre-line;\nwidows = POS_INT;\nwidth = PAPLENGTH | POS_NUM ;\nword-spacing = normal | LENGTH_OR_NUM;\nz-index = auto | INT;\n\n[epub,moz,ms,webkit]hyphens = auto | manual | none;\n[webkit]hyphenate-character = auto | STRING;\n\n/* css-logical */\nmargin-block-start = APLENGTH;\nmargin-block-end = APLENGTH;\nmargin-inline-start = APLENGTH;\nmargin-inline-end = APLENGTH;\npadding-block-start = APLENGTH;\npadding-block-end = APLENGTH;\npadding-inline-start = APLENGTH;\npadding-inline-end = APLENGTH;\nborder-block-start-color = BORDER_SIDE_COLOR;\nborder-block-end-color = BORDER_SIDE_COLOR;\nborder-inline-start-color = BORDER_SIDE_COLOR;\nborder-inline-end-color = BORDER_SIDE_COLOR;\nborder-block-start-style = BORDER_SIDE_STYLE;\nborder-block-end-style = BORDER_SIDE_STYLE;\nborder-inline-start-style = BORDER_SIDE_STYLE;\nborder-inline-end-style = BORDER_SIDE_STYLE;\nborder-block-start-width = BORDER_SIDE_WIDTH;\nborder-block-end-width = BORDER_SIDE_WIDTH;\nborder-inline-start-width = BORDER_SIDE_WIDTH;\nborder-inline-end-width = BORDER_SIDE_WIDTH;\nblock-start = APLENGTH;\nblock-end = APLENGTH;\ninline-start = APLENGTH;\ninline-end = APLENGTH;\nblock-size = PAPLENGTH | POS_NUM;\ninline-size = PAPLENGTH | POS_NUM;\nmax-block-size = NPLENGTH;\nmax-inline-size = NPLENGTH;\nmin-block-size = auto | PLENGTH;\nmin-inline-size = auto | PLENGTH;\n\nSHAPE = auto | rectangle( PLENGTH{4} ) |  ellipse( PLENGTH{4} ) |  circle( PLENGTH{3} ) |\n    polygon( SPACE(PLENGTH+)+ );\n[epubx]shape-inside = SHAPE;\n[epubx,webkit]shape-outside = SHAPE;\n[epubx,ms]wrap-flow = auto | both | start | end | maximum | clear | around /* epub al */;\n\nTRANSFORM_FUNCTION = matrix(NUM{6}) | translate(PLENGTH{1,2}) | translateX(PLENGTH) | translateY(PLENGTH) |\n scale(NUM{1,2}) | scaleX(NUM) | scaleY(NUM) | rotate(ANGLE) | skewX(ANGLE) | skewY(ANGLE);\n[epub,ms]transform = none | TRANSFORM_FUNCTION+;\n[epub,ms]transform-origin = [[[ top | bottom | left | right] PLENGTH?] | center | PLENGTH]{1,2}; /* relaxed */\n\nBOX = border-box | padding-box | content-box;\nSHADOW = SPACE(inset || LENGTH{2,4} || COLOR); /* relaxed */\n[webkit]background-size = COMMA( SPACE( [PLENGTH | auto ]{1,2} | cover | contain)+ );\n[webkit]background-origin = COMMA( BOX+ );\n[webkit]background-clip = COMMA( BOX+ );\n[webkit]box-shadow = none | COMMA( SHADOW+ );\ntext-shadow = none |  COMMA( SHADOW+ );\n[webkit]box-decoration-break = slice | clone;\nFILTER_FUNCTION = blur(LENGTH) | brightness(NUM | PERCENTAGE) | contrast(NUM | PERCENTAGE) | drop-shadow(SPACE(LENGTH{2,3} COLOR?))\n                | grayscale(NUM | PERCENTAGE) | hue-rotate(ANGLE) | invert(NUM | PERCENTAGE) | opacity(NUM | PERCENTAGE)\n                | saturate(NUM | PERCENTAGE) | sepia(NUM | PERCENTAGE);\nFILTER_FUNCTION_LIST = FILTER_FUNCTION+;\n[webkit]filter = none | FILTER_FUNCTION_LIST;\n\nopacity = NUM;\n\n[moz,webkit]column-width = LENGTH | auto;\n[moz,webkit]column-count = INT | auto;\n[moz,webkit]column-gap = LENGTH | normal;\n[moz,webkit]column-rule-color = COLOR;\n[moz,webkit]column-rule-style = BORDER_SIDE_STYLE;\n[moz,webkit]column-rule-width = BORDER_SIDE_WIDTH;\nBREAK = auto | avoid | avoid-page | page | left | right | recto | verso | avoid-column | column | avoid-region | region;\nbreak-before = BREAK;\nbreak-after = BREAK;\nbreak-inside = auto | avoid | avoid-page | avoid-column | avoid-region;\n[webkit]column-span = none | auto | all;\n[moz]column-fill = auto | balance | balance-all;\n\nsrc = COMMA([SPACE(URI format(STRING+)?) | local(FAMILY)]+); /* for font-face */\n\n[epubx,webkit]flow-from = IDENT;\n[epubx,webkit]flow-into = IDENT;\n[epubx]flow-linger = INT | none;\n[epubx]flow-priority = INT;\n[epubx]flow-options = none | [ exclusive || last || static ];\n[epubx]page = INT | auto;\n[epubx]min-page-width = LENGTH;\n[epubx]min-page-height = LENGTH;\n[epubx]required = true | false;\n[epubx]enabled = true | false;\n[epubx]conflicting-partitions = COMMA(IDENT+);\n[epubx]required-partitions = COMMA(IDENT+);\n[epubx]snap-height = LENGTH | none;\n[epubx]snap-width = LENGTH | none;\n[epubx]flow-consume = all | some;\n[epubx]utilization = NUM;\n[epubx]text-zoom = font-size | scale;\n\n[adapt]template = URI_OR_NONE;\n[adapt]behavior = IDENT;\n\n/* CSS Fonts */\nfont-size-adjust = none | NNEG_NUM;\n[webkit]font-kerning = auto | normal | none;\nfont-variant-east-asian = normal | [[ jis78 | jis83 | jis90 | jis04 | simplified | traditional ] || [ full-width | proportional-width ] || ruby];\nfont-feature-settings = COMMA( SPACE( STRING [ on | off | INT ]? )+ );\nfont-stretch = normal | wider | narrower | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded;\n\n/* CSS Images */\nimage-resolution = RESOLUTION;\nobject-fit = fill | contain | cover | none | scale-down;\nobject-position = COMMA( SPACE(BG_POSITION_TERM{1,4})+ ); /* relaxed */\n\n/* CSS Paged Media */\nPAGE_SIZE = a5 | a4 | a3 | b5 | b4 | jis-b5 | jis-b4 | letter | legal | ledger;\nbleed = auto | LENGTH;\nmarks = none | [ crop || cross ];\nsize = POS_LENGTH{1,2} | auto | [ PAGE_SIZE || [ portrait | landscape ] ];\n\n/* CSS Page Floats */\nfloat-reference = inline | column | region | page;\nfloat = block-start | block-end | inline-start | inline-end | snap-block | snap-inline | left | right | top | bottom | none | footnote;\nfloat-min-wrap-block = PPLENGTH;\n\n/* CSS Ruby */\nruby-align = start | center | space-between | space-around;\nruby-position = over | under | inter-character;\n\n/* CSS Size Adjust */\n[moz,ms]text-size-adjust = auto | none | POS_PERCENTAGE;\n\n/* CSS Text */\n[ms,webkit]line-break = auto | loose | normal | strict;\noverflow-wrap = normal | break-word;\n[moz]tab-size = NNEG_INT | NNEG_LENGTH;\n[moz,ms]text-align-last = auto | start | end | left | right | center | justify;\n[ms]text-justify = auto | none | inter-word | inter-character | inter-ideograph /* specified in UA stylesheet for IE */;\n[ms]word-break = normal | keep-all | break-all | break-word;\n[ms]word-wrap = normal | break-word;\n\n/* CSS Text Decoration */\n[webkit]text-decoration-color = COLOR;\n[webkit]text-decoration-line = none | [ underline || overline || line-through || blink ];\n[webkit]text-decoration-skip = none | [ objects || spaces || ink || edges || box-decoration ];\n[webkit]text-decoration-style = solid | double | dotted | dashed | wavy;\n[epub,webkit]text-emphasis-color = COLOR;\n[webkit]text-emphasis-position = [ over | under ] [ right | left ];\n[epub,webkit]text-emphasis-style = none | [[ filled | open ] || [ dot | circle | double-circle | triangle | sesame ]] | STRING;\n[ms,webkit]text-underline-position = auto | [ under || [ left | right ]];\n\n/* CSS Transforms */\n[ms,webkit]backface-visibility = visible | hidden;\n\n/* CSS UI */\nbox-sizing = content-box | padding-box | border-box;\n[ms]text-overflow = [clip | ellipsis | STRING]{1,2};\n\n/* CSS Writing Modes */\n[webkit]text-combine = none | horizontal;\n[epub,ms]text-combine-horizontal = none | all | [ digits POS_INT? ]; /* relaxed */\ntext-combine-upright = none | all | [ digits POS_INT? ]; /* relaxed */\n[epub,webkit]text-orientation = mixed | upright | sideways-right | sideways-left | sideways | use-glyph-orientation /* the following values are kept for backward-compatibility */ | vertical-right | rotate-right | rotate-left | rotate-normal | auto;\nunicode-bidi = normal | embed | isolate | bidi-override | isolate-override | plaintext;\n[epub,webkit]writing-mode = horizontal-tb | vertical-rl | lr-tb | rl-tb | tb-rl | lr | rl | tb;\n\n/* CSS Flex box */\nFLEX_BASIS = content | PAPLENGTH;\nflex-direction = row | row-reverse | column | column-reverse;\nflex-wrap = nowrap | wrap | wrap-reverse;\norder = INT;\nflex-grow = NNEG_NUM;\nflex-shrink = NNEG_NUM;\nflex-basis = FLEX_BASIS;\nflex = none | [ [ NNEG_NUM NNEG_NUM? ] || FLEX_BASIS ];\njustify-content = flex-start | flex-end | center | space-between | space-around;\nalign-items = flex-start | flex-end | center | baseline | stretch;\nalign-self = auto | flex-start | flex-end | center | baseline | stretch;\nalign-content = flex-start | flex-end | center | space-between | space-around | stretch;\n\n/* Pointer Events */\n[ms]touch-action = auto | none | [ pan-x || pan-y ] | manipulation;\n\n/* SVG 2 */\nOPACITY_VALUE = NUM | PERCENTAGE;\nDASH_ARRAY = COMMA( SPACE( [ LENGTH | PERCENTAGE | NUM ]+ )+ );\nPAINT = none | child | child(INT) | COLOR | SPACE( URI [none | COLOR]? ) | context-fill | context-stroke;\ncolor-interpolation = auto | sRGB | linearRGB;\ncolor-rendering = auto | optimizeSpeed | optimizeQuality;\nfill = PAINT;\nfill-opacity = OPACITY_VALUE;\nfill-rule = nonzero | evenodd;\nglyph-orientation-vertical = auto | NUM | ANGLE;\nimage-rendering = auto | optimizeSpeed | optimizeQuality | crisp-edges | pixelated;\nmarker-start = none | URI;\nmarker-mid = none | URI;\nmarker-end = none | URI;\npointer-events = bounding-box | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | none;\npaint-order = normal | [ fill || stroke || markers ];\nshape-rendering = auto | optimizeSpeed | crispEdges | geometricPrecision;\nstop-color = COLOR;\nstop-opacity = OPACITY_VALUE;\nstroke = PAINT;\nstroke-dasharray = none | DASH_ARRAY;\nstroke-dashoffset = PERCENTAGE | LENGTH_OR_NUM;\nstroke-linecap = butt | round | square;\nstroke-linejoin = miter | round | bevel;\nstroke-miterlimit = NUM;\nstroke-opacity = OPACITY_VALUE;\nstroke-width = PERCENTAGE | LENGTH_OR_NUM;\ntext-anchor = start | middle | end;\ntext-rendering = auto | optimizeSpeed | optimizeLegibility | geometricPrecision;\nvector-effect = none | SPACE( [ non-scaling-stroke | non-scaling-size | non-rotation | fixed-position ]+ [ viewport | screen ]? );\n\n/* SVG 1.1 */\nalignment-baseline = auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical;\nbaseline-shift = baseline | sub | super | PERCENTAGE | LENGTH_OR_NUM;\ndominant-baseline = auto | use-script | no-change | reset-size | ideographic | alphabetic | hanging | mathematical | central | middle | text-after-edge | text-before-edge;\nmask = none | URI;\n\n/* css-masking-1 */\nSHAPE_RADIUS = PLENGTH | closest-side | farthest-side;\nFILL_RULE = nonzero | evenodd;\nSHAPE_BOX = BOX | margin-box;\nGEOMETRY_BOX = SHAPE_BOX | fill-box | stroke-box | view-box;\nBASIC_SHAPE =\n    inset( SPACE( PLENGTH{1,4} [ round PLENGTH{1,4} [ SLASH PLENGTH{1,4} ]? ]? ) )\n  | circle(  SPACE( [SHAPE_RADIUS]?    [at BG_POSITION_TERM{1,4}]? ) )\n  | ellipse( SPACE( SHAPE_RADIUS{2}? [at BG_POSITION_TERM{1,4}]? ) )\n  | polygon( FILL_RULE? COMMA( SPACE( PLENGTH{2} )+ )+ );\n[webkit]clip-path = none | URI | [ BASIC_SHAPE || GEOMETRY_BOX ];\nclip-rule = nonzero | evenodd;\n\n/* filters */\nflood-color = COLOR;\nflood-opacity = OPACITY_VALUE;\nlighting-color = COLOR;\n\n/* compositing-1 */\nBLEND_MODE = normal | multiply | screen | overlay | darken | lighten | color-dodge | color-burn | hard-light | soft-light | difference | exclusion | hue | saturation | color | luminosity;\nmix-blend-mode = BLEND_MODE;\nisolation = auto | isolate;\nbackground-blend-mode = COMMA( BLEND_MODE+ );\n\n/* CSS GCPM */\nfootnote-policy = auto | line;\n\n[viv]repeat-on-break = auto | none | header | footer;\n\nDEFAULTS\n\nbackground-attachment: scroll;\nbackground-color: transparent;\nbackground-image: none;\nbackground-repeat: repeat;\nbackground-position: 0% 0%;\nbackground-clip: border-box;\nbackground-origin: padding-box;\nbackground-size: auto;\nborder-top-color: currentColor;\nborder-right-color: currentColor;\nborder-bottom-color: currentColor;\nborder-left-color: currentColor;\nborder-top-style: none;\nborder-right-style: none;\nborder-bottom-style: none;\nborder-left-style: none;\nborder-top-width: 3px;\nborder-right-width: 3px;\nborder-bottom-width: 3px;\nborder-left-width: 3px;\nborder-top-left-radius: 0;\nborder-top-right-radius: 0;\nborder-bottom-right-radius: 0;\nborder-bottom-left-radius: 0;\nborder-image-source: none;\nborder-image-slice: 100%;\nborder-image-width: 1;\nborder-image-outset: 0;\nborder-image-repeat: stretch;\ncolumn-count: auto;\ncolumn-gap: normal;\ncolumn-width: auto;\ncolumn-rule-color: currentColor;\ncolumn-rule-style: none;\ncolumn-rule-width: 3px;\ncolumn-fill: balance;\noutline-color: currentColor;\noutline-style: none;\noutline-width: 3px;\nflex-direction: row;\nflex-wrap: nowrap;\nfont-family: serif;\nfont-style: normal;\nfont-size: medium;\nfont-variant: normal;\nfont-weight: normal;\nfont-stretch: normal;\nline-height: normal;\nlist-style-image: none;\nlist-style-position: outside;\nlist-style-type: disc;\nmargin-bottom: auto;\nmargin-left: auto;\nmargin-right: auto;\nmargin-top: auto;\npadding-bottom: auto;\npadding-left: auto;\npadding-right: auto;\npadding-top: auto;\ntext-emphasis-color: currentColor;\ntext-emphasis-style: none;\nmarker-start: none;\nmarker-mid: none;\nmarker-end: none;\n\n/* css-logical */\nborder-block-start-color: currentColor;\nborder-block-end-color: currentColor;\nborder-inline-start-color: currentColor;\nborder-inline-end-color: currentColor;\nborder-block-start-style: none;\nborder-block-end-style: none;\nborder-inline-start-style: none;\nborder-inline-end-style: none;\nborder-block-start-width: 3px;\nborder-block-end-width: 3px;\nborder-inline-start-width: 3px;\nborder-inline-end-width: 3px;\n\nSHORTHANDS\n\nbackground = COMMA background-image [background-position [ / background-size ]] background-repeat\n     background-attachment [background-origin background-clip] background-color; /* background-color is a special case, see the code */\nborder-top = border-top-width border-top-style border-top-color;\nborder-right = border-right-width border-right-style border-right-color;\nborder-bottom = border-bottom-width border-bottom-style border-bottom-color;\nborder-left = border-left-width border-left-style border-left-color;\nborder-width = INSETS border-top-width border-right-width border-bottom-width border-left-width;\nborder-style = INSETS border-top-style border-right-style border-bottom-style border-left-style;\nborder-color = INSETS border-top-color border-right-color border-bottom-color border-left-color;\nborder = border-width border-style border-color;\nborder-image = border-image-source border-image-slice [ / border-image-width [ / border-image-outset ] ]\n     border-image-repeat;\nborder-radius = INSETS_SLASH border-top-left-radius border-top-right-radius\n     border-bottom-right-radius border-bottom-left-radius;\n[moz,webkit]columns = column-width column-count;\n[moz,webkit]column-rule = column-rule-width column-rule-style column-rule-color;\nflex-flow = flex-direction flex-wrap;\noeb-column-number = column-count;\noutline = outline-width outline-style outline-color;\nlist-style = list-style-type list-style-position list-style-image;\nmargin = INSETS margin-top margin-right margin-bottom margin-left;\npadding = INSETS padding-top padding-right padding-bottom padding-left;\npause = INSETS pause-before pause-after;\nfont = FONT font-style font-variant font-weight font-stretch /* font-size line-height font-family are special-cased */;\n[epub,webkit]text-emphasis = text-emphasis-style text-emphasis-color;\nmarker = INSETS marker-start marker-mid marker-end;\n\n/* css-logical */\nmargin-block = INSETS margin-block-start margin-block-end;\nmargin-inline = INSETS margin-inline-start margin-inline-end;\npadding-block = INSETS padding-block-start padding-block-end;\npadding-inline = INSETS padding-inline-start padding-inline-end;\nborder-block-width = INSETS border-block-start-width border-block-end-width;\nborder-block-style = INSETS border-block-start-style border-block-end-style;\nborder-block-color = INSETS border-block-start-color border-block-end-color;\nborder-inline-width = INSETS border-inline-start-width border-inline-end-width;\nborder-inline-style = INSETS border-inline-start-style border-inline-end-style;\nborder-inline-color = INSETS border-inline-start-color border-inline-end-color;\nborder-block = border-block-width border-block-style border-block-color;\nborder-inline = border-inline-width border-inline-style border-inline-color;\nborder-block-start = border-block-start-width border-block-start-style border-block-start-color;\nborder-block-end = border-block-end-width border-block-end-style border-block-end-color;\nborder-inline-start = border-inline-start-width border-inline-start-style border-inline-start-color;\nborder-inline-end = border-inline-end-width border-inline-end-style border-inline-end-color;\ninset-block-start = block-start;\ninset-block-end = block-end;\ninset-inline-start = inline-start;\ninset-inline-end = inline-end;\ninset-block = INSETS block-start block-end;\ninset-inline = INSETS inline-start inline-end;\n\n/* old names  */\n[adapt,webkit]margin-before = margin-block-start;\n[adapt,webkit]margin-after = margin-block-end;\n[adapt,webkit]margin-start = margin-inline-start;\n[adapt,webkit]margin-end = margin-inline-end;\n[adapt,webkit]padding-before = padding-block-start;\n[adapt,webkit]padding-after = padding-block-end;\n[adapt,webkit]padding-start = padding-inline-start;\n[adapt,webkit]padding-end = padding-inline-end;\n[adapt,webkit]border-before-color = border-block-start-color;\n[adapt,webkit]border-after-color = border-block-end-color;\n[adapt,webkit]border-start-color = border-inline-start-color;\n[adapt,webkit]border-end-color = border-inline-end-color;\n[adapt,webkit]border-before-style = border-block-start-style;\n[adapt,webkit]border-after-style = border-block-end-style;\n[adapt,webkit]border-start-style = border-inline-start-style;\n[adapt,webkit]border-end-style = border-inline-end-style;\n[adapt,webkit]border-before-width = border-block-start-width;\n[adapt,webkit]border-after-width = border-block-end-width;\n[adapt,webkit]border-start-width = border-inline-start-width;\n[adapt,webkit]border-end-width = border-inline-end-width;\n[adapt,webkit]before = block-start;\n[adapt,webkit]after = block-end;\n[adapt,webkit]start = inline-start;\n[adapt,webkit]end = inline-end;\n"),e}const Ah={"font-style":Mt.normal,"font-variant":Mt.normal,"font-weight":Mt.normal},Oh=`OTTO${(new Date).valueOf()}`;let Rh=1;function kh(e,t){const n={};for(const i in e)n[i]=Ro(e,i).evaluate(t,i);return function(e){for(const t in Ah)e[t]||(e[t]=Ah[t])}(n),n}class Lh{constructor(e){this.properties=e,this.blobURLs=[],this.blobs=[],this.fontTraitKey=function(e){const t=new G;for(const n in Ah)t.append(" "),t.append(e[n].toString());return t.toString()}(this.properties),this.src=this.properties.src?this.properties.src.toString():null;const t=this.properties["font-family"];this.family=t?t.stringValue():null}traitsEqual(e){return this.fontTraitKey==e.fontTraitKey}makeAtRule(e,t){const n=new G;n.append("@font-face {\n  font-family: "),n.append(this.family),n.append(";\n  ");for(const e in Ah)n.append(e),n.append(": "),this.properties[e].appendTo(n,!0),n.append(";\n  ");if(t){n.append('src: url("');const e=(i=t,(window.URL||window.webkitURL).createObjectURL(i));n.append(e),this.blobURLs.push(e),this.blobs.push(t),n.append('")')}else n.append("src: "),n.append(e);var i;return n.append(";\n}\n"),n.toString()}}class Fh{constructor(e){this.deobfuscator=e,this.familyMap={}}registerFamily(e,t){const n=e.family,i=this.familyMap[n],o=t.family;if(i){if(i!=o)throw new Error(`E_FONT_FAMILY_INCONSISTENT ${e.family}`)}else this.familyMap[n]=o}filterFontFamily(e){if(e instanceof Lt){const t=e.values,n=[];for(const e of t){const t=this.familyMap[e.stringValue()];t&&n.push(Tt(t)),n.push(e)}return new Lt(n)}{const t=this.familyMap[e.stringValue()];return t?new Lt([Tt(t),e]):e}}}class Dh{constructor(e,t,n){this.head=e,this.body=t,this.srcURLMap={},this.familyCounter=0,this.familyPrefix=n||"Fnt_"}getViewFontFamily(e,t){const n=e.family;let i=t.familyMap[n];return i||(i=this.familyPrefix+ ++this.familyCounter,t.familyMap[n]=i,i)}initFont(e,t,n){const i=di("initFont"),o=this,s=e.src,r={};for(const t in Ah)r[t]=e.properties[t];const a=o.getViewFontFamily(e,n);r["font-family"]=Tt(a);const l=new Lh(r),h=o.body.ownerDocument.createElement("span");h.textContent="M";const u=(new Date).valueOf()+1e3,d=o.head.ownerDocument.createElement("style"),p=Oh+Rh++;d.textContent=l.makeAtRule("",Oi([p])),o.head.appendChild(d),o.body.appendChild(h),h.style.visibility="hidden",h.style.fontFamily=a;for(const e in Ah)V(h,e,r[e].toString());const f=h.getBoundingClientRect(),g=f.right-f.left,m=f.bottom-f.top;d.textContent=l.makeAtRule(s,t),c.info("Starting to load font:",s);let b=!1;return i.loop(()=>{const e=h.getBoundingClientRect(),t=e.right-e.left,n=e.bottom-e.top;return g!=t||m!=n?(b=!0,pi(!1)):(new Date).valueOf()>u?pi(!1):i.sleep(10)}).then(()=>{b?c.info("Loaded font:",s):c.warn("Failed to load font:",s),o.body.removeChild(h),i.finish(l)}),i.result()}loadFont(e,t){const n=e.src;let i=this.srcURLMap[n];const o=this;return i?i.piggyback(i=>{const o=i;o.traitsEqual(e)?(t.registerFamily(e,o),c.warn("Found already-loaded font:",n)):c.warn("E_FONT_FACE_INCOMPATIBLE",e.src)}):(i=new Ci(()=>{const i=di("loadFont"),s=t.deobfuscator?t.deobfuscator(n):null;return s?Ai(n,Ii.BLOB).then(n=>{n.responseBlob?s(n.responseBlob).then(n=>{o.initFont(e,n,t).thenFinish(i)}):i.finish(null)}):o.initFont(e,null,t).thenFinish(i),i.result()},`loadFont ${n}`),this.srcURLMap[n]=i,i.start()),i}findOrLoadFonts(e,t){const n=[];for(const i of e)i.src&&i.family?n.push(this.loadFont(i,t)):c.warn("E_FONT_FACE_INVALID");return Ti(n)}}let _h=1;class Bh{constructor(e,t,n,i,o){this.name=t,this.pseudoName=n,this.classes=i,this.parent=o,this.specified={},this.children=[],this.pageMaster=null,this.index=0,this._scope=e,this.key=`p${_h++}`,o&&(this.index=o.children.length,o.children.push(this))}get scope(){return this._scope}createInstance(e){throw new Error("E_UNEXPECTED_CALL")}clone(e){throw new Error("E_UNEXPECTED_CALL")}copySpecified(e){const t=this.specified,n=e.specified;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}cloneChildren(e){for(let t=0;t<this.children.length;t++)this.children[t].clone({parent:e})}}class Mh extends Bh{constructor(e){super(e,null,null,[],null),this.specified.width=new Co(zt,0),this.specified.height=new Co(Vt,0)}}class Uh extends xe{constructor(e,t){super(e,(function(e,t){const i=e.match(/^([^.]+)\.([^.]+)$/);if(i){const e=n.pageMaster.keyMap[i[1]];if(e){const n=this.lookupInstance(e);if(n)return t?n.resolveFunc(i[2]):n.resolveName(i[2])}}return null})),this.pageMaster=t;const n=this}}class zh extends Bh{constructor(e,t,n,i,o,s,r){super(e,t,n,i,o),this.condition=s,this.specificity=r,this.keyMap={},e instanceof Uh||(this._scope=new Uh(e,this)),this.pageMaster=this,this.specified.width=new Co(zt,0),this.specified.height=new Co(Vt,0),this.specified["wrap-flow"]=new Co(Mt.auto,0),this.specified.position=new Co(Mt.relative,0),this.specified.overflow=new Co(Mt.visible,0)}createInstance(e){return new nc(e,this)}clone(e){const t=new zh(this.scope,this.name,e.pseudoName||this.pseudoName,this.classes,this.parent,this.condition,this.specificity);return this.copySpecified(t),this.cloneChildren(t),t}resetScope(){this.scope.pageMaster=this}}class Vh extends Bh{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key),this.specified["wrap-flow"]=new Co(Mt.auto,0)}createInstance(e){return new ic(e,this)}clone(e){const t=new Vh(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}class Hh extends Bh{constructor(e,t,n,i,o){super(e,t,n,i,o),this.pageMaster=o.pageMaster,t&&(this.pageMaster.keyMap[t]=this.key)}createInstance(e){return new oc(e,this)}clone(e){const t=new Hh(e.parent.scope,this.name,this.pseudoName,this.classes,e.parent);return this.copySpecified(t),this.cloneChildren(t),t}}function $h(e,t,n){return t&&t!==Mt.auto?t.toExpr(e,n):null}function Gh(e,t,n){return t&&t!==Mt.auto?t.toExpr(e,n):e.zero}function Wh(e,t,n){return t?t===Mt.auto?null:t.toExpr(e,n):e.zero}function Xh(e,t,n,i){return t&&n!==Mt.none?t.toExpr(e,i):e.zero}function jh(e,t,n){return t?t===Mt._true?e._true:t===Mt._false?e._false:t.toExpr(e,e.zero):n}class Kh{constructor(e,t){this.parentInstance=e,this.pageBox=t,this.cascaded={},this.style={},this.autoWidth=null,this.autoHeight=null,this.children=[],this.isAutoWidth=!1,this.isAutoHeight=!1,this.isTopDependentOnAutoHeight=!1,this.isRightDependentOnAutoWidth=!1,this.calculatedWidth=0,this.calculatedHeight=0,this.pageMasterInstance=null,this.namedValues={},this.namedFuncs={},this.vertical=!1,this.rtl=!1,this.suppressEmptyBoxGeneration=!1,e&&e.children.push(this)}reset(){this.calculatedWidth=0,this.calculatedHeight=0}addNamedValues(e,t){const n=this.resolveName(e),i=this.resolveName(t);if(!n||!i)throw new Error("E_INTERNAL");return ut(this.pageBox.scope,n,i)}resolveName(e){let t=this.namedValues[e];if(t)return t;const n=this.style[e];switch(n&&(t=n.toExpr(this.pageBox.scope,this.pageBox.scope.zero)),e){case"margin-left-edge":t=this.resolveName("left");break;case"margin-top-edge":t=this.resolveName("top");break;case"margin-right-edge":t=this.addNamedValues("border-right-edge","margin-right");break;case"margin-bottom-edge":t=this.addNamedValues("border-bottom-edge","margin-bottom");break;case"border-left-edge":t=this.addNamedValues("margin-left-edge","margin-left");break;case"border-top-edge":t=this.addNamedValues("margin-top-edge","margin-top");break;case"border-right-edge":t=this.addNamedValues("padding-right-edge","border-right-width");break;case"border-bottom-edge":t=this.addNamedValues("padding-bottom-edge","border-bottom-width");break;case"padding-left-edge":t=this.addNamedValues("border-left-edge","border-left-width");break;case"padding-top-edge":t=this.addNamedValues("border-top-edge","border-top-width");break;case"padding-right-edge":t=this.addNamedValues("right-edge","padding-right");break;case"padding-bottom-edge":t=this.addNamedValues("bottom-edge","padding-bottom");break;case"left-edge":t=this.addNamedValues("padding-left-edge","padding-left");break;case"top-edge":t=this.addNamedValues("padding-top-edge","padding-top");break;case"right-edge":t=this.addNamedValues("left-edge","width");break;case"bottom-edge":t=this.addNamedValues("top-edge","height")}if(!t){let n;if("extent"==e)n=this.vertical?"width":"height";else if("measure"==e)n=this.vertical?"height":"width";else{const t=this.vertical?yo:So;n=e;for(const e in t)n=n.replace(e,t[e])}n!=e&&(t=this.resolveName(n))}return t&&(this.namedValues[e]=t),t}resolveFunc(e){let t=this.namedFuncs[e];if(t)return t;switch(e){case"columns":{const e=this.pageBox.scope,n=new ht(e,0),i=this.resolveName("column-count"),o=this.resolveName("column-width"),s=this.resolveName("column-gap");t=dt(e,pt(e,new st(e,"min",[n,i]),ut(e,o,s)),s);break}}return t&&(this.namedFuncs[e]=t),t}initEnabled(){const e=this.pageBox.scope,t=this.style;let n=jh(e,t.enabled,e._true);const i=$h(e,t.page,e.zero);if(i){const t=new nt(e,"page-number");n=ct(e,n,new Ke(e,i,t))}const o=$h(e,t["min-page-width"],e.zero);o&&(n=ct(e,n,new je(e,new nt(e,"page-width"),o)));const s=$h(e,t["min-page-height"],e.zero);s&&(n=ct(e,n,new je(e,new nt(e,"page-height"),s))),n=this.boxSpecificEnabled(n),t.enabled=new Dt(n)}boxSpecificEnabled(e){return e}initHorizontal(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null;let i=$h(e,t.left,n),o=$h(e,t["margin-left"],n);const s=Xh(e,t["border-left-width"],t["border-left-style"],n),r=Gh(e,t["padding-left"],n);let a=$h(e,t.width,n),l=$h(e,t["max-width"],n);const h=Gh(e,t["padding-right"],n),c=Xh(e,t["border-right-width"],t["border-right-style"],n);let u=$h(e,t["margin-right"],n),d=$h(e,t.right,n);const p=ut(e,s,r),f=ut(e,s,h);if(i&&d&&a){let t=dt(e,n,ut(e,a,ut(e,ut(e,i,p),f)));o?u?d=dt(e,t,u):u=dt(e,t,ut(e,d,o)):(t=dt(e,t,d),u?o=dt(e,t,u):(o=pt(e,t,new at(e,.5)),u=o))}else{o||(o=e.zero),u||(u=e.zero),i||d||a||(i=e.zero),i||a?i||d?a||d||(a=this.autoWidth,this.isAutoWidth=!0):i=e.zero:(a=this.autoWidth,this.isAutoWidth=!0);const s=dt(e,n,ut(e,ut(e,o,p),ut(e,u,f)));this.isAutoWidth&&(l||(l=dt(e,s,i||d)),this.vertical||!$h(e,t["column-width"],null)&&!$h(e,t["column-count"],null)||(a=l,this.isAutoWidth=!1)),i?a?d||(d=dt(e,s,ut(e,i,a))):a=dt(e,s,ut(e,i,d)):i=dt(e,s,ut(e,d,a))}const g=Gh(e,t["snap-width"]||(this.parentInstance?this.parentInstance.style["snap-width"]:null),n);t.left=new Dt(i),t["margin-left"]=new Dt(o),t["border-left-width"]=new Dt(s),t["padding-left"]=new Dt(r),t.width=new Dt(a),t["max-width"]=new Dt(l||a),t["padding-right"]=new Dt(h),t["border-right-width"]=new Dt(c),t["margin-right"]=new Dt(u),t.right=new Dt(d),t["snap-width"]=new Dt(g)}initVertical(){const e=this.pageBox.scope,t=this.style,n=this.parentInstance?this.parentInstance.style.width.toExpr(e,null):null,i=this.parentInstance?this.parentInstance.style.height.toExpr(e,null):null;let o=$h(e,t.top,i),s=$h(e,t["margin-top"],n);const r=Xh(e,t["border-top-width"],t["border-top-style"],n),a=Gh(e,t["padding-top"],n);let l=$h(e,t.height,i),h=$h(e,t["max-height"],i);const c=Gh(e,t["padding-bottom"],n),u=Xh(e,t["border-bottom-width"],t["border-bottom-style"],n);let d=$h(e,t["margin-bottom"],n),p=$h(e,t.bottom,i);const f=ut(e,r,a),g=ut(e,u,c);if(o&&p&&l){let t=dt(e,i,ut(e,l,ut(e,ut(e,o,f),g)));s?d?p=dt(e,t,s):d=dt(e,t,ut(e,p,s)):(t=dt(e,t,p),d?s=dt(e,t,d):(s=pt(e,t,new at(e,.5)),d=s))}else{s||(s=e.zero),d||(d=e.zero),o||p||l||(o=e.zero),o||l?o||p?l||p||(l=this.autoHeight,this.isAutoHeight=!0):o=e.zero:(l=this.autoHeight,this.isAutoHeight=!0);const n=dt(e,i,ut(e,ut(e,s,f),ut(e,d,g)));this.isAutoHeight&&(h||(h=dt(e,n,o||p)),this.vertical&&($h(e,t["column-width"],null)||$h(e,t["column-count"],null))&&(l=h,this.isAutoHeight=!1)),o?l?p||(p=dt(e,n,ut(e,o,l))):l=dt(e,n,ut(e,p,o)):o=dt(e,n,ut(e,p,l))}const m=Gh(e,t["snap-height"]||(this.parentInstance?this.parentInstance.style["snap-height"]:null),n);t.top=new Dt(o),t["margin-top"]=new Dt(s),t["border-top-width"]=new Dt(r),t["padding-top"]=new Dt(a),t.height=new Dt(l),t["max-height"]=new Dt(h||l),t["padding-bottom"]=new Dt(c),t["border-bottom-width"]=new Dt(u),t["margin-bottom"]=new Dt(d),t.bottom=new Dt(p),t["snap-height"]=new Dt(m)}initColumns(){const e=this.pageBox.scope,t=this.style,n=$h(e,t[this.vertical?"height":"width"],null);let i=$h(e,t["column-width"],n),o=$h(e,t["column-count"],null),s=function(e,t,n){return t&&t!==Mt.normal?t.toExpr(e,null):null}(e,t["column-gap"]);s||(s=new tt(e,1,"em")),i&&!o&&(o=new st(e,"floor",[ft(e,ut(e,n,s),ut(e,i,s))]),o=new st(e,"max",[e.one,o])),o||(o=e.one),i=dt(e,ft(e,ut(e,n,s),o),s),t["column-width"]=new Dt(i),t["column-count"]=new Dt(o),t["column-gap"]=new Dt(s)}depends(e,t,n){return this.style[e].toExpr(this.pageBox.scope,null).depend(t,n)}init(e){e.registerInstance(this.pageBox.key,this);const t=this.pageBox.scope,n=this.style,i=this,o=this.parentInstance?this.parentInstance.getActiveRegions(e):null,s=Ys(this.cascaded,e,o,!1);this.vertical=js(s,e,!!this.parentInstance&&this.parentInstance.vertical),this.rtl=Ks(s,e,!!this.parentInstance&&this.parentInstance.rtl),Qs(s,n,this.vertical,this.rtl,(e,t)=>t.value),this.autoWidth=new ot(t,()=>i.calculatedWidth,"autoWidth"),this.autoHeight=new ot(t,()=>i.calculatedHeight,"autoHeight"),this.initHorizontal(),this.initVertical(),this.initColumns(),this.initEnabled()}getProp(e,t){let n=this.style[t];return n&&(n=ro(e,n,t)),n}getPropAsNumber(e,t){let n=this.style[t];return n&&(n=ro(e,n,t)),_t(n,e)}getSpecial(e,t){const n=_o(this.cascaded,t);if(n){const t=[];for(let i=0;i<n.length;i++){const o=n[i].evaluate(e,"");o&&o!==Et&&t.push(o)}if(t.length)return t}return null}getActiveRegions(e){const t=this.getSpecial(e,"region-id");if(t){const e=[];for(let n=0;n<t.length;n++)e[n]=t[n].toString();return e}return null}propagateProperty(e,t,n,i){this.propagatePropertyToElement(e,t.element,n,i)}propagatePropertyToElement(e,t,n,i){let o=this.getProp(e,n);o&&(o.isNumeric()&&Ae(o.unit)&&(o=Bt(o,e)),"font-family"===n&&(o=i.filterFontFamily(o)),V(t,n,o.toString()))}propagateDelayedProperty(e,t,n,i){const o=this.getProp(e,n);o&&i.push(new Ir(t.element,n,o))}assignLeftPosition(e,t){const n=this.getPropAsNumber(e,"left"),i=this.getPropAsNumber(e,"margin-left"),o=this.getPropAsNumber(e,"padding-left"),s=this.getPropAsNumber(e,"border-left-width"),r=this.getPropAsNumber(e,"width");t.setHorizontalPosition(n,r),V(t.element,"margin-left",`${i}px`),V(t.element,"padding-left",`${o}px`),V(t.element,"border-left-width",`${s}px`),t.marginLeft=i,t.borderLeft=s,t.paddingLeft=o}assignRightPosition(e,t){const n=this.getPropAsNumber(e,"right"),i=this.getPropAsNumber(e,"snap-height"),o=this.getPropAsNumber(e,"margin-right");let s=this.getPropAsNumber(e,"padding-right");const r=this.getPropAsNumber(e,"border-right-width");if(V(t.element,"margin-right",`${o}px`),V(t.element,"padding-right",`${s}px`),V(t.element,"border-right-width",`${r}px`),t.marginRight=o,t.borderRight=r,this.vertical&&i>0){const e=n+t.getInsetRight(),o=e-Math.floor(e/i)*i;o>0&&(t.snapOffsetX=i-o,s+=t.snapOffsetX)}t.paddingRight=s,t.snapWidth=i}assignTopPosition(e,t){const n=this.getPropAsNumber(e,"snap-height"),i=this.getPropAsNumber(e,"top"),o=this.getPropAsNumber(e,"margin-top");let s=this.getPropAsNumber(e,"padding-top");const r=this.getPropAsNumber(e,"border-top-width");if(t.top=i,t.marginTop=o,t.borderTop=r,t.snapHeight=n,!this.vertical&&n>0){const e=i+t.getInsetTop(),o=e-Math.floor(e/n)*n;o>0&&(t.snapOffsetY=n-o,s+=t.snapOffsetY)}t.paddingTop=s,V(t.element,"top",`${i}px`),V(t.element,"margin-top",`${o}px`),V(t.element,"padding-top",`${s}px`),V(t.element,"border-top-width",`${r}px`)}assignBottomPosition(e,t){const n=this.getPropAsNumber(e,"margin-bottom"),i=this.getPropAsNumber(e,"padding-bottom"),o=this.getPropAsNumber(e,"border-bottom-width"),s=this.getPropAsNumber(e,"height")-t.snapOffsetY;V(t.element,"height",`${s}px`),V(t.element,"margin-bottom",`${n}px`),V(t.element,"padding-bottom",`${i}px`),V(t.element,"border-bottom-width",`${o}px`),t.height=s-t.snapOffsetY,t.marginBottom=n,t.borderBottom=o,t.paddingBottom=i}assignBeforePosition(e,t){this.vertical?this.assignRightPosition(e,t):this.assignTopPosition(e,t)}assignAfterPosition(e,t){this.vertical?this.assignLeftPosition(e,t):this.assignBottomPosition(e,t)}assignStartEndPosition(e,t){this.vertical?(this.assignTopPosition(e,t),this.assignBottomPosition(e,t)):(this.assignRightPosition(e,t),this.assignLeftPosition(e,t))}sizeWithMaxHeight(e,t){V(t.element,"border-top-width","0px");let n=this.getPropAsNumber(e,"max-height");this.isTopDependentOnAutoHeight?t.setVerticalPosition(0,n):(this.assignTopPosition(e,t),n-=t.snapOffsetY,t.height=n,V(t.element,"height",`${n}px`))}sizeWithMaxWidth(e,t){V(t.element,"border-left-width","0px");let n=this.getPropAsNumber(e,"max-width");if(this.isRightDependentOnAutoWidth)t.setHorizontalPosition(0,n);else{this.assignRightPosition(e,t),n-=t.snapOffsetX,t.width=n;const i=this.getPropAsNumber(e,"right");V(t.element,"right",`${i}px`),V(t.element,"width",`${n}px`)}}prepareContainer(e,t,n,i,o){this.parentInstance&&this.vertical==this.parentInstance.vertical||V(t.element,"writing-mode",this.vertical?"vertical-rl":"horizontal-tb"),(this.vertical?this.isAutoWidth:this.isAutoHeight)?this.vertical?this.sizeWithMaxWidth(e,t):this.sizeWithMaxHeight(e,t):(this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),(this.vertical?this.isAutoHeight:this.isAutoWidth)?this.vertical?this.sizeWithMaxHeight(e,t):this.sizeWithMaxWidth(e,t):this.assignStartEndPosition(e,t);for(let n=0;n<Yh.length;n++)this.propagateProperty(e,t,Yh[n],i)}transferContentProps(e,t,n,i){for(let n=0;n<Zh.length;n++)this.propagateProperty(e,t,Zh[n],i)}transferSinglUriContentProps(e,t,n){for(let i=0;i<Qh.length;i++)this.propagatePropertyToElement(e,t,Qh[i],n)}finishContainer(e,t,n,i,o,s,r){this.vertical?this.calculatedWidth=t.computedBlockSize+t.snapOffsetX:this.calculatedHeight=t.computedBlockSize+t.snapOffsetY;const a=(this.vertical||!i)&&this.isAutoHeight,l=(!this.vertical||!i)&&this.isAutoWidth;let h=null;if((l||a)&&(l&&V(t.element,"width","auto"),a&&V(t.element,"height","auto"),h=s.getElementClientRect(i?i.element:t.element),l&&(this.calculatedWidth=Math.ceil(h.right-h.left-t.paddingLeft-t.borderLeft-t.paddingRight-t.borderRight),this.vertical&&(this.calculatedWidth+=t.snapOffsetX)),a&&(this.calculatedHeight=h.bottom-h.top-t.paddingTop-t.borderTop-t.paddingBottom-t.borderBottom,this.vertical||(this.calculatedHeight+=t.snapOffsetY))),(this.vertical?this.isAutoHeight:this.isAutoWidth)&&this.assignStartEndPosition(e,t),(this.vertical?this.isAutoWidth:this.isAutoHeight)&&((this.vertical?this.isRightDependentOnAutoWidth:this.isTopDependentOnAutoHeight)&&this.assignBeforePosition(e,t),this.assignAfterPosition(e,t)),o>1){const n=this.getPropAsNumber(e,"column-rule-width"),i=this.getProp(e,"column-rule-style"),s=this.getProp(e,"column-rule-color");if(n>0&&i&&i!=Mt.none&&s!=Mt.transparent){const r=this.getPropAsNumber(e,"column-gap"),a=this.vertical?t.height:t.width,l=this.vertical?"border-top":"border-left";for(let e=1;e<o;e++){const h=(a+r)*e/o-r/2+t.paddingLeft-n/2,c=t.height+t.paddingTop+t.paddingBottom,u=t.element.ownerDocument.createElement("div");V(u,"position","absolute"),V(u,this.vertical?"left":"top","0px"),V(u,this.vertical?"top":"left",`${h}px`),V(u,this.vertical?"height":"width","0px"),V(u,this.vertical?"width":"height",`${c}px`),V(u,l,`${n}px ${i.toString()}${s?` ${s.toString()}`:""}`),t.element.insertBefore(u,t.element.firstChild)}}}for(let n=0;n<qh.length;n++)this.propagateProperty(e,t,qh[n],r);for(let i=0;i<Jh.length;i++)this.propagateDelayedProperty(e,t,Jh[i],n.delayedItems)}applyCascadeAndInit(e,t){const n=this.cascaded,i=this.pageBox.specified;for(const e in i)Ao(e)&&ko(n,e,Ro(i,e));if(this.pageBox.pseudoName==ec)for(const e in t)(e.match(/^background-/)||"writing-mode"==e)&&(n[e]=t[e]);if("layout-host"==this.pageBox.pseudoName)for(const e in t)e.match(/^background-/)||"writing-mode"==e||(n[e]=t[e]);e.pushRule(this.pageBox.classes,null,n),n.content&&(n.content=n.content.filterValue(new xs(e,null,e.counterResolver))),this.init(e.context);for(const n of this.pageBox.children)n.createInstance(this).applyCascadeAndInit(e,t);e.popRule()}resolveAutoSizing(e){this.isAutoWidth&&(this.isRightDependentOnAutoWidth=this.depends("right",this.autoWidth,e)||this.depends("margin-right",this.autoWidth,e)||this.depends("border-right-width",this.autoWidth,e)||this.depends("padding-right",this.autoWidth,e)),this.isAutoHeight&&(this.isTopDependentOnAutoHeight=this.depends("top",this.autoHeight,e)||this.depends("margin-top",this.autoHeight,e)||this.depends("border-top-width",this.autoHeight,e)||this.depends("padding-top",this.autoHeight,e));for(const t of this.children)t.resolveAutoSizing(e)}}const Yh=["border-left-style","border-right-style","border-top-style","border-bottom-style","border-left-color","border-right-color","border-top-color","border-bottom-color","outline-style","outline-color","outline-width","overflow","visibility"],qh=["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat","background-attachment","background-color","background-image","background-repeat","background-position","background-clip","background-origin","background-size","opacity","z-index","background-blend-mode","isolation","mix-blend-mode","filter"],Zh=["color","font-family","font-size","font-style","font-weight","font-variant","line-height","letter-spacing","text-align","text-decoration","text-indent","text-transform","white-space","word-spacing","font-feature-settings","font-kerning","font-size-adjust","font-variant-east-asian","font-stretch","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-shadow","text-underline-position"],Qh=["width","height","image-resolution","object-fit","object-position"],Jh=["transform","transform-origin"],ec="background-host";class tc extends Kh{constructor(e){super(null,e)}applyCascadeAndInit(e,t){super.applyCascadeAndInit(e,t),this.children.sort((e,t)=>t.pageBox.specificity-e.pageBox.specificity||e.pageBox.index-t.pageBox.index)}}class nc extends Kh{constructor(e,t){super(e,t),this.pageMasterInstance=this}boxSpecificEnabled(e){const t=this.pageBox.pageMaster;return t.condition&&(e=ct(t.scope,e,t.condition)),e}adjustPageLayout(e,t,n){}}class ic extends Kh{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}}class oc extends Kh{constructor(e,t){super(e,t),this.pageMasterInstance=e.pageMasterInstance}processPartitionList(e,t,n){let i=null;if(t instanceof Ct&&(i=[t]),t instanceof Lt&&(i=t.values),i){const t=this.pageBox.scope;for(let o=0;o<i.length;o++)if(i[o]instanceof Ct){const s=Ce(i[o].name,"enabled");let r=new nt(t,s);n&&(r=new Me(t,r)),e=ct(t,e,r)}}return e}boxSpecificEnabled(e){const t=this.pageBox.scope,n=this.style,i=jh(t,n.required,t._false)!==t._false;if(i||this.isAutoHeight){const i=function(e,t,n){return t?t.toExpr(e,e.zero):new at(e,"body")}(t,n["flow-from"]);e=ct(t,e,new st(t,"has-content",[i]))}if(e=this.processPartitionList(e,n["required-partitions"],!1),e=this.processPartitionList(e,n["conflicting-partitions"],!0),i){const n=this.pageMasterInstance.style.enabled;let i=n?n.toExpr(t,null):t._true;i=ct(t,i,e),this.pageMasterInstance.style.enabled=new Dt(i)}return e}prepareContainer(e,t,n,i,o){V(t.element,"overflow","hidden"),super.prepareContainer(e,t,n,i,o)}}class sc extends Bi{constructor(e,t,n,i){super(e,t,!1),this.target=n,this.validatorSet=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}simpleProperty(e,t,n){this.target.specified[e]=new Co(t,n?50331648:67108864)}}class rc extends sc{constructor(e,t,n,i){super(e,t,n,i)}}class ac extends sc{constructor(e,t,n,i){super(e,t,n,i),n.specified.width=new Co(Ut,0),n.specified.height=new Co(Ut,0)}startPartitionRule(e,t,n){const i=new Hh(this.scope,e,t,n,this.target),o=new rc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Vh(this.scope,e,t,n,this.target),o=new ac(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}class lc extends sc{constructor(e,t,n,i){super(e,t,n,i)}startPartitionRule(e,t,n){const i=new Hh(this.scope,e,t,n,this.target),o=new rc(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}startPartitionGroupRule(e,t,n){const i=new Vh(this.scope,e,t,n,this.target),o=new ac(this.scope,this.owner,i,this.validatorSet);this.owner.pushHandler(o)}}function hc(e){let n=e["writing-mode"];n=n&&n.value;let i=e.direction;return i=i&&i.value,n===Mt.vertical_lr||n!==Mt.vertical_rl&&i!==Mt.rtl?t.PageProgression.LTR:t.PageProgression.RTL}const cc={a5:{width:new xt(148,"mm"),height:new xt(210,"mm")},a4:{width:new xt(210,"mm"),height:new xt(297,"mm")},a3:{width:new xt(297,"mm"),height:new xt(420,"mm")},b5:{width:new xt(176,"mm"),height:new xt(250,"mm")},b4:{width:new xt(250,"mm"),height:new xt(353,"mm")},"jis-b5":{width:new xt(182,"mm"),height:new xt(257,"mm")},"jis-b4":{width:new xt(257,"mm"),height:new xt(364,"mm")},letter:{width:new xt(8.5,"in"),height:new xt(11,"in")},legal:{width:new xt(8.5,"in"),height:new xt(14,"in")},ledger:{width:new xt(11,"in"),height:new xt(17,"in")}},uc=new xt(.24,"pt"),dc=new xt(3,"mm"),pc=new xt(10,"mm"),fc=new xt(13,"mm");function gc(e){const t={width:zt,height:Vt,bleed:Ht,bleedOffset:Ht},n=e.size;if(n&&n.value!==Mt.auto){const e=n.value;let i,o;if(e.isSpaceList()?(i=e.values[0],o=e.values[1]):(i=e,o=null),i.isNumeric())t.width=i,t.height=o||i;else{const e=i.name&&cc[i.name.toLowerCase()];e&&(o&&o===Mt.landscape?(t.width=e.height,t.height=e.width):(t.width=e.width,t.height=e.height))}}const i=e.marks;i&&i.value!==Mt.none&&(t.bleedOffset=fc);const o=e.bleed;if(o&&o.value!==Mt.auto)o.value&&o.value.isNumeric()&&(t.bleed=o.value);else if(i){let e=!1;e=i.value.isSpaceList()?i.value.values.some(e=>e===Mt.crop):i.value===Mt.crop,e&&(t.bleed=new xt(6,"pt"))}return t}function mc(e,t){const n={},i=e.bleed.num*t.queryUnitSize(e.bleed.unit,!1),o=e.bleedOffset.num*t.queryUnitSize(e.bleedOffset.unit,!1),s=i+o,r=e.width;r===zt?t.pref.defaultPaperSize?n.pageWidth=t.pref.defaultPaperSize.width*t.queryUnitSize("px",!1):n.pageWidth=(t.pref.spreadView?Math.floor(t.viewportWidth/2)-t.pref.pageBorder:t.viewportWidth)-2*s:n.pageWidth=r.num*t.queryUnitSize(r.unit,!1);const a=e.height;return a===Vt?t.pref.defaultPaperSize?n.pageHeight=t.pref.defaultPaperSize.height*t.queryUnitSize("px",!1):n.pageHeight=t.viewportHeight-2*s:n.pageHeight=a.num*t.queryUnitSize(a.unit,!1),n.bleed=i,n.bleedOffset=o,n.cropOffset=s,n}function bc(e,t,n){const i=e.createElementNS(F.SVG,"svg");return i.setAttribute("width",t),i.setAttribute("height",n),i.style.position="absolute",i}function wc(e,t,n){n=n||"polyline";const i=e.createElementNS(F.SVG,n);return i.setAttribute("stroke","black"),i.setAttribute("stroke-width",t),i.setAttribute("fill","none"),i}var Ec,yc;!function(e){e.TOP_LEFT="top left",e.TOP_RIGHT="top right",e.BOTTOM_LEFT="bottom left",e.BOTTOM_RIGHT="bottom right"}(Ec||(Ec={})),function(e){e.TOP="top",e.BOTTOM="bottom",e.LEFT="left",e.RIGHT="right"}(yc||(yc={}));const Sc=(()=>{const e={width:!0,height:!0,"block-size":!0,"inline-size":!0,margin:!0,padding:!0,border:!0,outline:!0,"outline-width":!0,"outline-style":!0,"outline-color":!0};return["left","right","top","bottom","before","after","start","end","block-start","block-end","inline-start","inline-end"].forEach(t=>{e[`margin-${t}`]=!0,e[`padding-${t}`]=!0,e[`border-${t}-width`]=!0,e[`border-${t}-style`]=!0,e[`border-${t}-color`]=!0}),e})();var Nc;!function(e){e.START="start",e.CENTER="center",e.END="end"}(Nc||(Nc={}));const vc={"top-left-corner":{order:1,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!0,positionAlongVariableDimension:null},"top-left":{order:2,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.START},"top-center":{order:3,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.CENTER},"top-right":{order:4,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.END},"top-right-corner":{order:5,isInTopRow:!0,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"right-top":{order:6,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:Nc.START},"right-middle":{order:7,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:Nc.CENTER},"right-bottom":{order:8,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:Nc.END},"bottom-right-corner":{order:9,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!0,positionAlongVariableDimension:null},"bottom-right":{order:10,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.END},"bottom-center":{order:11,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.CENTER},"bottom-left":{order:12,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!1,isInRightColumn:!1,positionAlongVariableDimension:Nc.START},"bottom-left-corner":{order:13,isInTopRow:!1,isInBottomRow:!0,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:null},"left-bottom":{order:14,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:Nc.END},"left-middle":{order:15,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:Nc.CENTER},"left-top":{order:16,isInTopRow:!1,isInBottomRow:!1,isInLeftColumn:!0,isInRightColumn:!1,positionAlongVariableDimension:Nc.START}},Cc=(()=>{const e=vc;return Object.keys(e).sort((t,n)=>e[t].order-e[n].order)})();class Tc extends zh{constructor(e,t,n){super(e,null,"vivliostyle-page-rule-master",[],t,null,0),this.pageMarginBoxes={};const i=gc(n),o=new xc(this.scope,this,n,i);this.bodyPartitionKey=o.key,this.createPageMarginBoxes(n),this.applySpecified(n,i)}createPageMarginBoxes(e){const t=e._marginBoxes;if(t){const n=this;Cc.forEach(i=>{t[i]&&(n.pageMarginBoxes[i]=new Ic(n.scope,n,i,e))})}}applySpecified(e,t){this.specified.position=new Co(Mt.relative,0),this.specified.width=new Co(t.width,0),this.specified.height=new Co(t.height,0);for(const t in e)Sc[t]||"background-clip"===t||(this.specified[t]=e[t])}createInstance(e){return new Pc(e,this)}}class xc extends Hh{constructor(e,t,n,i){super(e,null,null,[],t),this.pageSize=i,this.specified["z-index"]=new Co(new Pt(0),0),this.applySpecified(n)}applySpecified(e){this.specified["flow-from"]=new Co(Tt("body"),0),this.specified.position=new Co(Mt.absolute,0),this.specified.overflow=new Co(Mt.visible,0);for(const t in Sc)Sc.hasOwnProperty(t)&&(this.specified[t]=e[t])}createInstance(e){return new kc(e,this)}}class Ic extends Hh{constructor(e,t,n,i){super(e,null,null,[],t),this.marginBoxName=n,this.applySpecified(i)}applySpecified(e){const t=e._marginBoxes[this.marginBoxName];for(const n in e){const i=e[n],o=t[n];(po[n]||o&&o.value===Mt.inherit)&&(this.specified[n]=i)}for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];n&&n.value!==Mt.inherit&&(this.specified[e]=n)}}createInstance(e){return new Lc(e,this)}}class Pc extends nc{constructor(e,t){super(e,t),this.pageAreaDimension=null,this.pageMarginBoxInstances={}}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(e){case"writing-mode":case"direction":n[e]=t[e]}super.applyCascadeAndInit(e,t)}initHorizontal(){const e=this.style;e.left=Ht,e["margin-left"]=Ht,e["border-left-width"]=Ht,e["padding-left"]=Ht,e["padding-right"]=Ht,e["border-right-width"]=Ht,e["margin-right"]=Ht,e.right=Ht}initVertical(){const e=this.style;e.top=Ht,e["margin-top"]=Ht,e["border-top-width"]=Ht,e["padding-top"]=Ht,e["padding-bottom"]=Ht,e["border-bottom-width"]=Ht,e["margin-bottom"]=Ht,e.bottom=Ht}setPageAreaDimension(e){this.pageAreaDimension=e;const t=this.style;t.width=new Dt(e.borderBoxWidth),t.height=new Dt(e.borderBoxHeight),t["padding-left"]=new Dt(e.marginLeft),t["padding-right"]=new Dt(e.marginRight),t["padding-top"]=new Dt(e.marginTop),t["padding-bottom"]=new Dt(e.marginBottom)}adjustPageLayout(e,t,n){const i=t.marginBoxes,o={start:this.pageAreaDimension.marginLeft,end:this.pageAreaDimension.marginRight,extent:this.pageAreaDimension.borderBoxWidth},s={start:this.pageAreaDimension.marginTop,end:this.pageAreaDimension.marginBottom,extent:this.pageAreaDimension.borderBoxHeight};this.sizeMarginBoxesAlongVariableDimension(i.top,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.bottom,!0,o,e,n),this.sizeMarginBoxesAlongVariableDimension(i.left,!1,s,e,n),this.sizeMarginBoxesAlongVariableDimension(i.right,!1,s,e,n)}sizeMarginBoxesAlongVariableDimension(e,t,n,i,o){const s=Nc.START,r=Nc.CENTER,a=Nc.END,l=this.pageBox.scope,h={},c={},u={};for(const n in e){const i=vc[n];if(i){const s=e[n],r=this.pageMarginBoxInstances[n],a=new Ac(s,r.style,t,l,o);h[i.positionAlongVariableDimension]=s,c[i.positionAlongVariableDimension]=r,u[i.positionAlongVariableDimension]=a}}const d={start:n.start.evaluate(i),end:n.end.evaluate(i),extent:n.extent.evaluate(i)};let p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1;const g={};Object.keys(h).forEach(e=>{const s=e,r=$h(l,c[s].style[t?"max-width":"max-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]>e){const n=u[s]=new Rc(h[s],c[s].style,t,l,o,e);g[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),f=!1,[s,r,a].forEach(e=>{p[e]=g[e]||p[e]}));const m={};Object.keys(h).forEach(e=>{const s=e,r=$h(l,c[s].style[t?"min-width":"min-height"],n.extent);if(r){const e=r.evaluate(i);if(p[s]<e){const n=u[s]=new Rc(h[s],c[s].style,t,l,o,e);m[s]=n.getOuterSize(),f=!0}}}),f&&(p=this.getSizesOfMarginBoxesAlongVariableDimension(u,d.extent),[s,r,a].forEach(e=>{p[e]=m[e]||p[e]}));const b=d.start+d.extent,w=d.start+(d.start+d.extent);[s,r,a].forEach(e=>{const n=p[e];if(n){const i=h[e];let o=0;switch(e){case s:o=t?i.left:i.top;break;case r:o=(w-n)/2;break;case a:o=b-n}t?i.setHorizontalPosition(o,n-i.getInsetLeft()-i.getInsetRight()):i.setVerticalPosition(o,n-i.getInsetTop()-i.getInsetBottom())}})}getSizesOfMarginBoxesAlongVariableDimension(e,t){const n=e[Nc.START],i=e[Nc.CENTER],o=e[Nc.END],s={};if(i){const e=[n,o].filter(e=>e),r=e.length?new Oc(e):null,a=this.distributeAutoMarginBoxSizes(i,r,t);a.xSize&&(s[Nc.CENTER]=a.xSize);const l=(t-(a.xSize||i.getOuterSize()))/2;n&&n.hasAutoSize()&&(s[Nc.START]=l),o&&o.hasAutoSize()&&(s[Nc.END]=l)}else{const e=this.distributeAutoMarginBoxSizes(n,o,t);e.xSize&&(s[Nc.START]=e.xSize),e.ySize&&(s[Nc.END]=e.ySize)}return s}distributeAutoMarginBoxSizes(e,t,n){const i={xSize:null,ySize:null};if(e&&t)if(e.hasAutoSize()&&t.hasAutoSize()){const o=e.getOuterMaxContentSize(),s=t.getOuterMaxContentSize();if(o>0&&s>0){const r=o+s;if(r<n)i.xSize=n*o/r;else{const s=e.getOuterMinContentSize(),a=s+t.getOuterMinContentSize();a<n?i.xSize=s+(n-a)*(o-s)/(r-a):a>0&&(i.xSize=n*s/a)}i.xSize>0&&(i.ySize=n-i.xSize)}else o>0?i.xSize=n:s>0&&(i.ySize=n)}else e.hasAutoSize()?i.xSize=Math.max(n-t.getOuterSize(),0):t.hasAutoSize()&&(i.ySize=Math.max(n-e.getOuterSize(),0));else e?e.hasAutoSize()&&(i.xSize=n):t&&t.hasAutoSize()&&(i.ySize=n);return i}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),t.element.setAttribute("data-vivliostyle-page-box",!0)}}class Ac{constructor(e,t,n,i,o){this.container=e,this.isHorizontal=n,this.clientLayout=o,this.size=null,this.hasAutoSize_=!$h(i,t[n?"width":"height"],new tt(i,0,"px"))}hasAutoSize(){return this.hasAutoSize_}getSize(){if(!this.size){const e=this.isHorizontal?[or.MAX_CONTENT_WIDTH,or.MIN_CONTENT_WIDTH]:[or.MAX_CONTENT_HEIGHT,or.MIN_CONTENT_HEIGHT];this.size=sr(this.clientLayout,this.container.element,e)}return this.size}getOuterMaxContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[or.MAX_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[or.MAX_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterMinContentSize(){const e=this.getSize();return this.isHorizontal?this.container.getInsetLeft()+e[or.MIN_CONTENT_WIDTH]+this.container.getInsetRight():this.container.getInsetTop()+e[or.MIN_CONTENT_HEIGHT]+this.container.getInsetBottom()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.container.width+this.container.getInsetRight():this.container.getInsetTop()+this.container.height+this.container.getInsetBottom()}}class Oc{constructor(e){this.params=e}hasAutoSize(){return this.params.some(e=>e.hasAutoSize())}getOuterMaxContentSize(){const e=this.params.map(e=>e.getOuterMaxContentSize());return Math.max.apply(null,e)*e.length}getOuterMinContentSize(){const e=this.params.map(e=>e.getOuterMinContentSize());return Math.max.apply(null,e)*e.length}getOuterSize(){const e=this.params.map(e=>e.getOuterSize());return Math.max.apply(null,e)*e.length}}class Rc extends Ac{constructor(e,t,n,i,o,s){super(e,t,n,i,o),this.fixedSize=s}hasAutoSize(){return!1}getOuterMaxContentSize(){return this.getOuterSize()}getOuterMinContentSize(){return this.getOuterSize()}getOuterSize(){return this.isHorizontal?this.container.getInsetLeft()+this.fixedSize+this.container.getInsetRight():this.container.getInsetTop()+this.fixedSize+this.container.getInsetBottom()}}class kc extends oc{constructor(e,t){super(e,t),this.borderBoxWidth=null,this.borderBoxHeight=null,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null}applyCascadeAndInit(e,t){const n=this.cascaded;for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(e.match(/^column.*$/)||e.match(/^background-/))&&(n[e]=t[e]);super.applyCascadeAndInit(e,t),this.parentInstance.setPageAreaDimension({borderBoxWidth:this.borderBoxWidth,borderBoxHeight:this.borderBoxHeight,marginTop:this.marginTop,marginRight:this.marginRight,marginBottom:this.marginBottom,marginLeft:this.marginLeft})}initHorizontal(){const e=this.resolvePageBoxDimensions({start:"left",end:"right",extent:"width"});this.borderBoxWidth=e.borderBoxExtent,this.marginLeft=e.marginStart,this.marginRight=e.marginEnd}initVertical(){const e=this.resolvePageBoxDimensions({start:"top",end:"bottom",extent:"height"});this.borderBoxHeight=e.borderBoxExtent,this.marginTop=e.marginStart,this.marginBottom=e.marginEnd}resolvePageBoxDimensions(e){const t=this.style,n=this.pageBox.pageSize,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a=n[r].toExpr(i,null);let l=$h(i,t[r],a),h=$h(i,t[`margin-${o}`],a),c=$h(i,t[`margin-${s}`],a);const u=Gh(i,t[`padding-${o}`],a),d=Gh(i,t[`padding-${s}`],a),p=Xh(i,t[`border-${o}-width`],t[`border-${o}-style`],a),f=Xh(i,t[`border-${s}-width`],t[`border-${s}-style`],a);let g=dt(i,a,ut(i,ut(i,p,u),ut(i,f,d)));return l?(g=dt(i,g,l),h||c?h?c=dt(i,g,h):h=dt(i,g,c):(h=pt(i,g,new at(i,.5)),c=h)):(h||(h=i.zero),c||(c=i.zero),l=dt(i,g,ut(i,h,c))),t[o]=new Dt(h),t[s]=new Dt(c),t[`margin-${o}`]=Ht,t[`margin-${s}`]=Ht,t[`padding-${o}`]=new Dt(u),t[`padding-${s}`]=new Dt(d),t[`border-${o}-width`]=new Dt(p),t[`border-${s}-width`]=new Dt(f),t[r]=new Dt(l),t[`max-${r}`]=new Dt(l),{borderBoxExtent:dt(i,a,ut(i,h,c)),marginStart:h,marginEnd:c}}prepareContainer(e,t,n,i,o){super.prepareContainer(e,t,n,i,o),n.pageAreaElement=t.element,e.pageAreaWidth=parseFloat(n.pageAreaElement.style.width),e.pageAreaHeight=parseFloat(n.pageAreaElement.style.height)}}class Lc extends oc{constructor(e,t){super(e,t),this.suppressEmptyBoxGeneration=!0;const n=t.marginBoxName;this.boxInfo=vc[n],e.pageMarginBoxInstances[n]=this}prepareContainer(e,t,n,i,o){this.applyVerticalAlign(e,t.element),super.prepareContainer(e,t,n,i,o)}applyVerticalAlign(e,t){V(t,"display","flex");const n=this.getProp(e,"vertical-align");let i=null;n===Tt("middle")?i="center":n===Tt("top")?i="flex-start":n===Tt("bottom")&&(i="flex-end"),i&&(V(t,"flex-flow",this.vertical?"row":"column"),V(t,"justify-content",i))}positionAlongVariableDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.start,s=e.end,r=e.extent,a="left"===o,l=a?t.borderBoxWidth:t.borderBoxHeight,h=$h(i,n[r],l),c=a?t.marginLeft:t.marginTop;if(this.boxInfo.positionAlongVariableDimension===Nc.START)n[o]=new Dt(c);else if(h){const e=Gh(i,n[`margin-${o}`],l),t=Gh(i,n[`margin-${s}`],l),r=Gh(i,n[`padding-${o}`],l),a=Gh(i,n[`padding-${s}`],l),u=Xh(i,n[`border-${o}-width`],n[`border-${o}-style`],l),d=Xh(i,n[`border-${s}-width`],n[`border-${s}-style`],l),p=ut(i,h,ut(i,ut(i,r,a),ut(i,ut(i,u,d),ut(i,e,t))));switch(this.boxInfo.positionAlongVariableDimension){case Nc.CENTER:n[o]=new Dt(ut(i,c,ft(i,dt(i,l,p),new at(i,2))));break;case Nc.END:n[o]=new Dt(dt(i,ut(i,c,l),p))}}}positionAndSizeAlongFixedDimension(e,t){const n=this.style,i=this.pageBox.scope,o=e.inside,s=e.outside,r=e.extent,a=t[`margin${s.charAt(0).toUpperCase()}${s.substring(1)}`],l=Wh(i,n[`margin-${o}`],a),h=Wh(i,n[`margin-${s}`],a),c=Gh(i,n[`padding-${o}`],a),u=Gh(i,n[`padding-${s}`],a),d=Xh(i,n[`border-${o}-width`],n[`border-${o}-style`],a),p=Xh(i,n[`border-${s}-width`],n[`border-${s}-style`],a),f=$h(i,n[r],a);let g=null;function m(e){if(g)return g;g={extent:f?f.evaluate(e):null,marginInside:l?l.evaluate(e):null,marginOutside:h?h.evaluate(e):null};const t=a.evaluate(e);let n=0;return[d,c,u,p].forEach(t=>{t&&(n+=t.evaluate(e))}),(null===g.marginInside||null===g.marginOutside)&&n+g.extent+g.marginInside+g.marginOutside>t&&(null===g.marginInside&&(g.marginInside=0),null===g.marginOutside&&(g.marginOutside=0)),null!==g.extent&&null!==g.marginInside&&null!==g.marginOutside&&(g.marginOutside=null),null===g.extent&&null!==g.marginInside&&null!==g.marginOutside?g.extent=t-n-g.marginInside-g.marginOutside:null!==g.extent&&null===g.marginInside&&null!==g.marginOutside?g.marginInside=t-n-g.extent-g.marginOutside:null!==g.extent&&null!==g.marginInside&&null===g.marginOutside?g.marginOutside=t-n-g.extent-g.marginInside:null===g.extent?(g.marginInside=g.marginOutside=0,g.extent=t-n):g.marginInside=g.marginOutside=(t-n-g.extent)/2,g}n[r]=new Dt(new ot(i,(function(){const e=m(this).extent;return null===e?0:e}),r)),n[`margin-${o}`]=new Dt(new ot(i,(function(){const e=m(this).marginInside;return null===e?0:e}),`margin-${o}`)),n[`margin-${s}`]=new Dt(new ot(i,(function(){const e=m(this).marginOutside;return null===e?0:e}),`margin-${s}`)),"left"===o?n.left=new Dt(ut(i,t.marginLeft,t.borderBoxWidth)):"top"===o&&(n.top=new Dt(ut(i,t.marginTop,t.borderBoxHeight)))}initHorizontal(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInLeftColumn?this.positionAndSizeAlongFixedDimension({inside:"right",outside:"left",extent:"width"},e):this.boxInfo.isInRightColumn?this.positionAndSizeAlongFixedDimension({inside:"left",outside:"right",extent:"width"},e):this.positionAlongVariableDimension({start:"left",end:"right",extent:"width"},e)}initVertical(){const e=this.parentInstance.pageAreaDimension;this.boxInfo.isInTopRow?this.positionAndSizeAlongFixedDimension({inside:"bottom",outside:"top",extent:"height"},e):this.boxInfo.isInBottomRow?this.positionAndSizeAlongFixedDimension({inside:"top",outside:"bottom",extent:"height"},e):this.positionAlongVariableDimension({start:"top",end:"bottom",extent:"height"},e)}finishContainer(e,t,n,i,o,s,r){super.finishContainer(e,t,n,i,o,s,r);const a=n.marginBoxes,l=this.pageBox.marginBoxName,h=this.boxInfo;h.isInLeftColumn||h.isInRightColumn?h.isInTopRow||h.isInBottomRow||(h.isInLeftColumn?a.left[l]=t:h.isInRightColumn&&(a.right[l]=t)):h.isInTopRow?a.top[l]=t:h.isInBottomRow&&(a.bottom[l]=t)}}class Fc{constructor(e,t,n,i,o){this.cascadeInstance=e,this.pageScope=t,this.rootPageBoxInstance=n,this.context=i,this.docElementStyle=o,this.pageMasterCache={},this.definePageProgression()}definePageProgression(){const e=this.pageScope,n=new nt(e,"page-number"),i=new Ke(e,new et(e,n,new at(e,2)),e.zero);e.defineName("recto-page",new Me(e,i)),e.defineName("verso-page",i),(this.context.pageProgression||hc(this.docElementStyle))===t.PageProgression.LTR?(e.defineName("left-page",i),e.defineName("right-page",new Me(e,i))):(e.defineName("left-page",new Me(e,i)),e.defineName("right-page",i))}getCascadedPageStyle(){const e={};return this.cascadeInstance.pushRule([],"",e),this.cascadeInstance.popRule(),e}getPageRulePageMaster(e,t){const n=e.pageBox;if(0===Object.keys(t).length)return n.resetScope(),e;const i=this.makeCacheKey(t,n);let o=this.pageMasterCache[i];return o||(o=n.pseudoName===ec?this.generatePageRuleMaster(t):this.generateCascadedPageMaster(t,n),this.pageMasterCache[i]=o),o.pageBox.resetScope(),o}makeCacheKey(e,t){const n=this.makeCascadeValueObjectKey(e);return`${t.key}^${n}`}makeCascadeValueObjectKey(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];let o;o=i instanceof Co?`${i.value}`:this.makeCascadeValueObjectKey(i),t.push(n+o+(i.priority||""))}return t.sort().join("^")}generatePageRuleMaster(e){const t=new Tc(this.pageScope,this.rootPageBoxInstance.pageBox,e).createInstance(this.rootPageBoxInstance);return t.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),t.resolveAutoSizing(this.context),t}generateCascadedPageMaster(e,t){const n=t.clone({pseudoName:"vivliostyle-page-rule-master"}),i=n.specified,o=e.size;if(o){const t=gc(e),n=o.priority;i.width=xo(this.context,i.width,new Co(t.width,n)),i.height=xo(this.context,i.height,new Co(t.height,n))}["counter-reset","counter-increment"].forEach(t=>{i[t]&&(e[t]=i[t])});const s=n.createInstance(this.rootPageBoxInstance);return s.applyCascadeAndInit(this.cascadeInstance,this.docElementStyle),s.resolveAutoSizing(this.context),s}}class Dc extends Xo{constructor(e){super(),this.pageType=e}apply(e){e.currentPageType===this.pageType&&this.chained.apply(e)}getPriority(){return 3}makePrimary(e){return this.chained&&e.insertInTable(e.pagetypes,this.pageType,this.chained),!0}}class _c extends Xo{constructor(e){super(),this.scope=e}apply(e){1===new nt(this.scope,"page-number").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 2}}class Bc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"left-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Mc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"right-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Uc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"recto-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class zc extends Xo{constructor(e){super(),this.scope=e}apply(e){new nt(this.scope,"verso-page").evaluate(e.context)&&this.chained.apply(e)}getPriority(){return 1}}class Vc extends Wo{constructor(e,t){super(e,t,null,null,null)}apply(e){!function(e,t,n,i,o){Mo(e,t,n,i,null,null,null);const s=n._marginBoxes;if(s){const n=Fo(t,"_marginBoxes");for(const t in s)if(s.hasOwnProperty(t)){let o=n[t];o||(o={},n[t]=o),Mo(e,o,s[t],i,null,null,null)}}}(e.context,e.currentStyle,this.style,this.specificity)}}class Hc extends Ms{constructor(e,t,n,i,o){super(e,t,null,n,null,i,!1),this.pageProps=o,this.currentPageSelectors=[],this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}startPageRule(){this.startSelectorRule()}tagSelector(e,t){this.currentNamedPageSelector=t,t&&(this.chain.push(new Dc(t)),this.specificity+=65536)}pseudoclassSelector(e,t){switch(t&&this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}(${t.join("")})`),this.currentPseudoPageClassSelectors.push(`:${e}`),e.toLowerCase()){case"first":this.chain.push(new _c(this.scope)),this.specificity+=256;break;case"left":this.chain.push(new Bc(this.scope)),this.specificity+=1;break;case"right":this.chain.push(new Mc(this.scope)),this.specificity+=1;break;case"recto":this.chain.push(new Uc(this.scope)),this.specificity+=1;break;case"verso":this.chain.push(new zc(this.scope)),this.specificity+=1;break;default:this.reportAndSkip(`E_INVALID_PAGE_SELECTOR :${e}`)}}finishSelector(){let e;e=this.currentNamedPageSelector||this.currentPseudoPageClassSelectors.length?[this.currentNamedPageSelector].concat(this.currentPseudoPageClassSelectors.sort()):null,this.currentPageSelectors.push({selectors:e,specificity:this.specificity}),this.currentNamedPageSelector="",this.currentPseudoPageClassSelectors=[]}nextSelector(){this.finishSelector(),super.nextSelector()}startRuleBody(){this.finishSelector(),super.startRuleBody()}simpleProperty(e,t,n){if(("bleed"===e||"marks"===e)&&!this.currentPageSelectors.some(e=>null===e.selectors))return;super.simpleProperty(e,t,n);const i=Ro(this.elementStyle,e),o=this.pageProps;if("bleed"===e||"marks"===e)o[""]||(o[""]={}),Object.keys(o).forEach(t=>{ko(o[t],e,i)});else if("size"===e){const t=o[""];this.currentPageSelectors.forEach(n=>{let s=new Co(i.value,i.priority+n.specificity);const r=n.selectors?n.selectors.join(""):"";let a=o[r];if(a){const t=Ro(a,e);s=t?xo(null,s,t):s,ko(a,e,s)}else a=o[r]={},ko(a,e,s),t&&["bleed","marks"].forEach(e=>{t[e]&&ko(a,e,t[e])},this)})}}insertNonPrimary(e){this.cascade.insertInTable(this.cascade.pagetypes,"*",e)}makeApplyRuleAction(e){return new Vc(this.elementStyle,e)}startPageMarginBoxRule(e){const t=Fo(this.elementStyle,"_marginBoxes");let n=t[e];n||(n={},t[e]=n);const i=new $c(this.scope,this.owner,this.validatorSet,n);this.owner.pushHandler(i)}}class $c extends Bi{constructor(e,t,n,i){super(e,t,!1),this.validatorSet=n,this.boxStyle=i}property(e,t,n){this.validatorSet.validatePropertyAndHandleShorthand(e,t,n,this)}invalidPropertyValue(e,t){this.report(`E_INVALID_PROPERTY_VALUE ${e}: ${t.toString()}`)}unknownProperty(e,t){this.report(`E_INVALID_PROPERTY ${e}: ${t.toString()}`)}simpleProperty(e,t,n){const i=n?this.getImportantSpecificity():this.getBaseSpecificity(),o=new Co(t,i);ko(this.boxStyle,e,o)}}const Gc=(e,t,n)=>e.replace(/[uU][rR][lL]\(\s*"((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"\r\n])+)"/gm,(e,i)=>`url("${n.transformURL(i,t)}"`).replace(/[uU][rR][lL]\(\s*'((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^'\r\n])+)'/gm,(e,i)=>`url('${n.transformURL(i,t)}'`).replace(/[uU][rR][lL]\(\s*((\\([^0-9a-fA-F]+|[0-9a-fA-F]+\s*)|[^"'\r\n\)\s])+)/gm,(e,i)=>`url(${n.transformURL(i,t)}`),Wc={},Xc={"text-indent":"0px","margin-top":"0px","padding-top":"0px","border-top-width":"0px","border-top-style":"none","border-top-color":"transparent","border-top-left-radius":"0px","border-top-right-radius":"0px"},jc={"text-indent":"0px","margin-right":"0px","padding-right":"0px","border-right-width":"0px","border-right-style":"none","border-right-color":"transparent","border-top-right-radius":"0px","border-bottom-right-radius":"0px"},Kc={"margin-top":"0px"},Yc={"margin-right":"0px"};class qc extends ne{constructor(e,t,n,i,o,s,r,a,l,h,c,u,d){super(),this.flowName=e,this.context=t,this.viewport=n,this.styler=i,this.regionIds=o,this.xmldoc=s,this.docFaces=r,this.footnoteStyle=a,this.stylerProducer=l,this.page=h,this.customRenderer=c,this.fallbackMap=u,this.documentURLTransformer=d,this.nodeContext=null,this.viewRoot=null,this.isFootnote=!1,this.sourceNode=null,this.offsetInNode=0,this.viewNode=null,this.document=n.document,this.exprContentListener=i.counterListener.getExprContentListener()}clone(){return new qc(this.flowName,this.context,this.viewport,this.styler,this.regionIds,this.xmldoc,this.docFaces,this.footnoteStyle,this.stylerProducer,this.page,this.customRenderer,this.fallbackMap,this.documentURLTransformer)}createPseudoelementShadow(e,t,n,i,o,s,r,a){const l=this.getPseudoMap(n,this.regionIds,this.isFootnote,this.nodeContext,s);if(!l)return a;const h=[],c=$a.createElementNS(F.SHADOW,"root");let u=c;for(const e of Ga){let n;if(e){if(!l[e])continue;if(!("footnote-marker"!=e||t&&this.isFootnote))continue;if(e.match(/^first-/)){const e=i.display;if(!e||e===Mt.inline)continue}if("before"===e||"after"===e){const t=l[e].content;if(!t||t===Mt.normal||t===Mt.none)continue}h.push(e),n=$a.createElementNS(F.XHTML,"span"),Xa(n,e)}else n=$a.createElementNS(F.SHADOW,"content");u.appendChild(n),e.match(/^first-/)&&(u=n)}if(!h.length)return a;const d=new ja(e,n,o,s,this.exprContentListener);return new $r(e,c,null,r,a,Hr.ROOTLESS,d)}getPseudoMap(e,t,n,i,o){const s=Lo(e,"_pseudos");if(!s)return null;const r={};for(const e in s){const i=r[e]={};Zs(i,s[e],o),Xs(i,o,s[e]),qs(s[e],t,n,(e,t)=>{Zs(i,t,o),Ws(t,e=>{Zs(i,e,o)})})}return r}createRefShadow(e,t,n,i,o){const s=this,r=di("createRefShadow");return s.xmldoc.store.load(e).then(a=>{const l=a;if(l){const r=l.getElement(e);if(r){const e=s.stylerProducer.getStylerForDoc(l);o=new $r(n,r,l,i,o,t,e)}}r.finish(o)}),r.result()}createShadows(e,t,n,i,o,s,r){const a=this,l=di("createShadows"),h=i.template;let c;if(h instanceof Ot){const t=h.url;c=a.createRefShadow(t,Hr.ROOTLESS,e,r,null)}else c=pi(null);return c.then(h=>{let c=null;if(e.namespaceURI==F.SHADOW&&"include"==e.localName){let t=e.getAttribute("href"),n=null;t?n=r?r.xmldoc:a.xmldoc:r&&(t=r.owner.namespaceURI==F.XHTML?r.owner.getAttribute("href"):r.owner.getAttributeNS(F.XLINK,"href"),n=r.parentShadow?r.parentShadow.xmldoc:a.xmldoc),t&&(t=k(t,n.url),c=a.createRefShadow(t,Hr.ROOTED,e,r,h))}null==c&&(c=pi(h));let u=null;c.then(t=>{if(i.display===Mt.table_cell){const n=k("user-agent.xml#table-cell",O);u=a.createRefShadow(n,Hr.ROOTLESS,e,r,t)}else u=pi(t)}),u.then(h=>{h=a.createPseudoelementShadow(e,t,n,i,o,s,r,h),l.finish(h)})}),l.result()}setViewRoot(e,t){this.viewRoot=e,this.isFootnote=t}computeStyle(e,t,n,i){const o=this.context,s=Ys(n,o,this.regionIds,this.isFootnote,this.nodeContext);e=js(s,o,e),t=Ks(s,o,t);const r=this;Qs(s,i,e,t,(e,t)=>{let n=t.evaluate(o,e);return"font-family"==e&&(n=r.docFaces.filterFontFamily(n)),n});const a=i.position,l=i.float,h=Ra(i.display||Mt.inline,a,l,this.sourceNode===this.xmldoc.root);return["display","position","float"].forEach(e=>{h[e]&&(i[e]=h[e])}),e}inheritFromSourceParent(e){let t=this.nodeContext.sourceNode;const n=[];let i=null,o=this.nodeContext.shadowContext,s=-1;for(;t&&1==t.nodeType;){const e=o&&o.root==t;if(!e||o.type==Hr.ROOTLESS){const e=(o?o.styler:this.styler).getStyle(t,!1);n.push(e),i=i||$(t)}e?(t=o.owner,o=o.parentShadow):(t=t.parentNode,s++)}const r=0===s,a=this.context.queryUnitSize("em",r),l={"font-size":new Co(new xt(a,"px"),0)},h=new zo(l,this.context);for(let e=n.length-1;e>=0;--e){const t=n[e],i=[];for(const e in t)Oo(e)&&i.push(e);i.sort(Gt);for(const e of i){h.setPropName(e);const n=Ro(t,e);n.value!==Mt.inherit&&(l[e]=n.filterValue(h))}}for(const t in e)Oo(t)||(l[t]=e[t]);return{lang:i,elementStyle:l}}resolveURL(e){return e=k(e,this.xmldoc.url),this.fallbackMap[e]||e}inheritLangAttribute(){this.nodeContext.lang=$(this.nodeContext.sourceNode)||this.nodeContext.parent&&this.nodeContext.parent.lang||this.nodeContext.lang}transferPolyfilledInheritedProps(e){const n=g(t.HOOKS.POLYFILLED_INHERITED_PROPS).reduce((e,t)=>e.concat(t()),[].concat(fo)).filter(t=>e[t]);if(n.length){let t=this.nodeContext.inheritedProps;if(this.nodeContext.parent){t=this.nodeContext.inheritedProps={};for(const e in this.nodeContext.parent.inheritedProps)t[e]=this.nodeContext.parent.inheritedProps[e]}n.forEach(n=>{const i=e[n];if(i){if(i instanceof Pt)t[n]=i.num;else if(i instanceof Ct)t[n]=i.name;else if(i instanceof xt){const e=i;switch(e.unit){case"dpi":case"dpcm":case"dppx":t[n]=e.num*Pe[e.unit]}}else t[n]=i;delete e[n]}})}}resolveFormattingContext(e,n,i,o,s,r){const a=g(t.HOOKS.RESOLVE_FORMATTING_CONTEXT);for(let t=0;t<a.length;t++){const l=a[t](e,n,i,o,s,r);if(l)return void(e.formattingContext=l)}}createElementView(e,t){const n=this;let i=!0;const o=di("createElementView");let s=n.sourceNode;const r=n.nodeContext.shadowContext?n.nodeContext.shadowContext.styler:n.styler;let a=r.getStyle(s,!1);if(!n.nodeContext.shadowContext){const e=this.xmldoc.getElementOffset(s);co.registerFragmentIndex(e,n.nodeContext.fragmentIndex,0)}const l={};if(!n.nodeContext.parent){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}const h=a["float-reference"]&&function(e){switch(e){case"inline":return ea.INLINE;case"column":return ea.COLUMN;case"region":return ea.REGION;case"page":return ea.PAGE;default:throw new Error(`Unknown float-reference: ${e}`)}}(a["float-reference"].value.toString());if(n.nodeContext.parent&&h&&ta(h)){const e=n.inheritFromSourceParent(a);a=e.elementStyle,n.nodeContext.lang=e.lang}n.nodeContext.vertical=n.computeStyle(n.nodeContext.vertical,"rtl"===n.nodeContext.direction,a,l),r.processContent(s,l),this.transferPolyfilledInheritedProps(l),this.inheritLangAttribute(),l.direction&&(n.nodeContext.direction=l.direction.toString());const c=l["flow-into"];if(c&&c.toString()!=n.flowName)return o.finish(!1),o.result();let u=l.display;if(u===Mt.none)return o.finish(!1),o.result();const d=null==n.nodeContext.parent;return n.nodeContext.flexContainer=u===Mt.flex,n.createShadows(s,d,a,l,r,n.context,n.nodeContext.shadowContext).then(c=>{n.nodeContext.nodeShadow=c;const p=l.position;let f=l.float,g=l.clear;const m=n.nodeContext.vertical?Mt.vertical_rl:Mt.horizontal_tb,b=n.nodeContext.parent?n.nodeContext.parent.vertical?Mt.vertical_rl:Mt.horizontal_tb:m,w=function(e){return"true"===e.getAttribute("data-vivliostyle-flow-root")}(s);n.nodeContext.establishesBFC=function(e,t,n,i,o,s,r){return o=o||s||Mt.horizontal_tb,!!r||!!n&&n!==Mt.none||Oa(t)||e===Mt.inline_block||e===Mt.table_cell||e===Mt.table_caption||e==Mt.flex||(e===Mt.block||e===Mt.list_item)&&!!i&&i!==Mt.visible||!!s&&o!==s}(u,p,f,l.overflow,m,b,w),n.nodeContext.containingBlockForAbsolute=function(e){return e===Mt.relative||e===Mt.absolute||e===Mt.fixed}(p),!n.nodeContext.isInsideBFC()||f===Mt.footnote||h&&ta(h)||(f=null,g=null);let E=f===Mt.left||f===Mt.right||f===Mt.top||f===Mt.bottom||f===Mt.inline_start||f===Mt.inline_end||f===Mt.block_start||f===Mt.block_end||f===Mt.snap_block||f===Mt.footnote;f&&(delete l.float,f===Mt.footnote&&(n.isFootnote?(E=!1,l.display=Mt.block):l.display=Mt.inline)),g&&(g===Mt.inherit&&n.nodeContext.parent&&n.nodeContext.parent.clearSide&&(g=Tt(n.nodeContext.parent.clearSide)),g!==Mt.left&&g!==Mt.right&&g!==Mt.top&&g!==Mt.bottom&&g!==Mt.both&&g!==Mt.all&&g!==Mt.same||(delete l.clear,l.display&&l.display!=Mt.inline&&(n.nodeContext.clearSide=g.toString())));const y=u===Mt.list_item&&l["ua-list-item-count"];if((E||l["break-inside"]&&l["break-inside"]!==Mt.auto)&&n.nodeContext.breakPenalty++,u&&u!==Mt.inline&&La(u)&&n.nodeContext.breakPenalty++,n.nodeContext.inline=!E&&!u||La(u)||function(e){switch(e.toString()){case"ruby-base":case"ruby-text":case"ruby-base-container":case"ruby-text-container":return!0;default:return!1}}(u),n.nodeContext.display=u?u.toString():"inline",n.nodeContext.floatSide=E?f.toString():null,n.nodeContext.floatReference=h||ea.INLINE,n.nodeContext.floatMinWrapBlock=l["float-min-wrap-block"]||null,n.nodeContext.columnSpan=l["column-span"],!n.nodeContext.inline){const e=l["break-after"];e&&(n.nodeContext.breakAfter=e.toString());const t=l["break-before"];t&&(n.nodeContext.breakBefore=t.toString())}n.nodeContext.verticalAlign=l["vertical-align"]&&l["vertical-align"].toString()||"baseline",n.nodeContext.captionSide=l["caption-side"]&&l["caption-side"].toString()||"top";const S=l["border-collapse"];if(!S||S===Tt("separate")){const e=l["border-spacing"];let t,i;e&&(e.isSpaceList()?(t=e.values[0],i=e.values[1]):t=i=e,t.isNumeric()&&(n.nodeContext.inlineBorderSpacing=_t(t,n.context)),i.isNumeric()&&(n.nodeContext.blockBorderSpacing=_t(i,n.context)))}n.nodeContext.footnotePolicy=l["footnote-policy"];const N=l["x-first-pseudo"];if(N){const e=n.nodeContext.parent?n.nodeContext.parent.firstPseudo:null;n.nodeContext.firstPseudo=new Wr(e,N.num)}n.nodeContext.inline||n.processAfterIfcontinues(s,a,r,n.context);const v=l["white-space"];if(v){const e=kr(v.toString());null!==e&&(n.nodeContext.whitespace=e)}const C=l["hyphenate-character"];C&&C!==Mt.auto&&(n.nodeContext.hyphenateCharacter=C.str);const T=l["word-break"],x=l["overflow-wrap"]||["word-wrap"];n.nodeContext.breakWord=T===Mt.break_all||x===Mt.break_word,n.resolveFormattingContext(n.nodeContext,e,u,p,f,d),n.nodeContext.parent&&n.nodeContext.parent.formattingContext&&(e=n.nodeContext.parent.formattingContext.isFirstTime(n.nodeContext,e)),n.nodeContext.inline||(n.nodeContext.repeatOnBreak=n.processRepeatOnBreak(l),n.findAndProcessRepeatingElements(s,r));let I=!1,P=null;const A=[];let O,R=s.namespaceURI,k=s.localName;if(R==F.XHTML)"html"==k||"body"==k||"script"==k||"link"==k||"meta"==k?k="div":"vide_"==k?k="video":"audi_"==k?k="audio":"object"==k&&(I=!!n.customRenderer),s.getAttribute("data-adapt-pseudo")&&a.content&&a.content.value&&a.content.value.url&&(k="img");else if(R==F.epub)k="span",R=F.XHTML;else if(R==F.FB2){if(R=F.XHTML,"image"==k){k="div";const e=s.getAttributeNS(F.XLINK,"href");if(e&&"#"==e.charAt(0)){const t=n.xmldoc.getElement(e);if(t){P=n.createElement(R,"img");const e=`data:${t.getAttribute("content-type")||"image/jpeg"};base64,${t.textContent.replace(/[ \t\n\t]/g,"")}`;A.push(xi(P,e))}}}else k=Zc[k];k||(k=n.nodeContext.inline?"span":"div")}else if(R==F.NCX)if(R=F.XHTML,"ncx"==k||"navPoint"==k)k="div";else if("navLabel"==k){k="span";const e=s.parentNode;if(e){let t=null;for(let n=e.firstChild;n;n=n.nextSibling){if(1!=n.nodeType)continue;const e=n;if(e.namespaceURI==F.NCX&&"content"==e.localName){t=e.getAttribute("src");break}}t&&(k="a",s=s.ownerDocument.createElementNS(R,"a"),s.setAttribute("href",t))}}else k="span";else R==F.SHADOW?(R=F.XHTML,k=n.nodeContext.inline?"span":"div"):I=!!n.customRenderer;if(y)e?k="li":(k="div",u=Mt.block,l.display=u);else if("body"==k||"li"==k)k="div";else if("q"==k)k="span";else if("a"==k){const e=l["hyperlink-processing"];e&&"normal"!=e.toString()&&(k="span")}if(l.behavior&&"none"!=l.behavior.toString()&&n.customRenderer&&(I=!0),s.dataset&&"true"===s.getAttribute("data-math-typeset")&&(I=!0),I){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:null;O=n.customRenderer(s,e,l)}else O=pi(null);O.then(r=>{var a;r?I&&(i="true"==r.getAttribute("data-adapt-process-children")):r=n.createElement(R,k),"a"==k&&r.addEventListener("click",n.page.hrefHandler,!1),P&&(n.applyPseudoelementStyle(n.nodeContext,"inner",P),r.appendChild(P)),"iframe"==r.localName&&r.namespaceURI==F.XHTML&&(a=r).addEventListener("load",()=>{a.contentWindow.navigator.epubReadingSystem={name:"adapt",version:"0.1",layoutStyle:"paginated",hasFeature:function(e,t){switch(e){case"mouse-events":return!0}return!1}}},!1);const h=n.nodeContext.inheritedProps["image-resolution"],c=[],u=l.width,d=l.height,p=s.getAttribute("width"),f=s.getAttribute("height"),g=u===Mt.auto||!u&&!p,m=d===Mt.auto||!d&&!f;if(s.namespaceURI!=F.FB2||"td"==k){const t=s.attributes,i=t.length;let o=null;for(let s=0;s<i;s++){const i=t[s],a=i.namespaceURI;let l=i.localName,h=i.nodeValue;if(a){if("http://www.w3.org/2000/xmlns/"==a)continue;a==F.XLINK&&"href"==l&&(h=n.resolveURL(h))}else{if(l.match(/^on/))continue;if("style"==l)continue;if(("id"==l||"name"==l)&&e){h=n.documentURLTransformer.transformFragment(h,n.xmldoc.url),r.setAttribute(l,h),n.page.registerElementWithId(r,h);continue}if("src"==l||"href"==l||"poster"==l?(h=n.resolveURL(h),"href"===l&&(h=n.documentURLTransformer.transformURL(h,n.xmldoc.url))):"srcset"==l&&(h=h.split(",").map(e=>n.resolveURL(e.trim())).join(",")),"poster"===l&&"video"===k&&R===F.XHTML&&g&&m){const e=new Image,t=xi(e,h);A.push(t),c.push({image:e,element:r,fetcher:t})}}if(R==F.SVG&&/^[A-Z\-]+$/.test(l)&&(l=l.toLowerCase()),n.isSVGUrlAttribute(l)&&(h=Gc(h,n.xmldoc.url,n.documentURLTransformer)),a){const e=Wc[a];e&&(l=`${e}:${l}`)}"src"!=l||a||"img"!=k&&"input"!=k||R!=F.XHTML?"href"==l&&"image"==k&&R==F.SVG&&a==F.XLINK?n.page.fetchers.push(xi(r,h)):a?r.setAttributeNS(a,l,h):r.setAttribute(l,h):o=h}if(o){const e="input"===k?new Image:r,t=xi(e,o);e!==r&&(r.src=o),g||m?(g&&m&&h&&1!==h&&c.push({image:e,element:r,fetcher:t}),A.push(t)):n.page.fetchers.push(t)}}delete l.content;const b=l["list-style-image"];if(b&&b instanceof Ot){const e=b.url;A.push(xi(new Image,e))}if(n.preprocessElementStyle(l),n.applyComputedStyles(r,l),!n.nodeContext.inline){let i=null;if(e?t&&(i=n.nodeContext.vertical?Yc:Kc):i="clone"!==n.nodeContext.inheritedProps["box-decoration-break"]?n.nodeContext.vertical?jc:Xc:n.nodeContext.vertical?Yc:Kc,i)for(const e in i)V(r,e,i[e])}y&&r.setAttribute("value",l["ua-list-item-count"].stringValue()),n.viewNode=r,A.length?Ti(A).then(()=>{h>0&&n.modifyElemDimensionWithImageResolution(c,h,l,n.nodeContext.vertical),o.finish(i)}):o.timeSlice().then(()=>{o.finish(i)})})}),o.result()}processAfterIfcontinues(e,t,n,i){const o=this.getPseudoMap(t,this.regionIds,this.isFootnote,this.nodeContext,i);if(o&&o["after-if-continues"]&&o["after-if-continues"].content){const o=new ja(e,t,n,i,this.exprContentListener);this.nodeContext.afterIfContinues=new Ya(e,o)}}isSVGUrlAttribute(e){return qc.SVG_URL_ATTRIBUTES.includes(e.toLowerCase())}modifyElemDimensionWithImageResolution(e,t,n,i){const o=this;e.forEach(e=>{if("load"===e.fetcher.get().get()){const s=e.image;let r=s.width/t,a=s.height/t;const l=e.element;if(r>0&&a>0)if(n["box-sizing"]===Mt.border_box&&(n["border-left-style"]!==Mt.none&&(r+=_t(n["border-left-width"],o.context)),n["border-right-style"]!==Mt.none&&(r+=_t(n["border-right-width"],o.context)),n["border-top-style"]!==Mt.none&&(a+=_t(n["border-top-width"],o.context)),n["border-bottom-style"]!==Mt.none&&(a+=_t(n["border-bottom-width"],o.context))),t>1){const e=n["max-width"]||Mt.none,t=n["max-height"]||Mt.none;if(e===Mt.none&&t===Mt.none)V(l,"max-width",`${r}px`);else if(e!==Mt.none&&t===Mt.none)V(l,"width",`${r}px`);else if(e===Mt.none&&t!==Mt.none)V(l,"height",`${a}px`);else{e.isNumeric(),t.isNumeric();const n=e,s=t;"%"!==n.unit?V(l,"max-width",`${Math.min(r,_t(n,o.context))}px`):"%"!==s.unit?V(l,"max-height",`${Math.min(a,_t(s,o.context))}px`):i?V(l,"height",`${a}px`):V(l,"width",`${r}px`)}}else if(t<1){const e=n["min-width"]||Ht,t=n["min-height"]||Ht;e.isNumeric(),e.isNumeric();const s=e,h=t;0===s.num&&0===h.num?V(l,"min-width",`${r}px`):0!==s.num&&0===h.num?V(l,"width",`${r}px`):0===s.num&&0!==h.num?V(l,"height",`${a}px`):"%"!==s.unit?V(l,"min-width",`${Math.max(r,_t(s,o.context))}px`):"%"!==h.unit?V(l,"min-height",`${Math.max(a,_t(h,o.context))}px`):i?V(l,"height",`${a}px`):V(l,"width",`${r}px`)}}})}preprocessElementStyle(e){const n=this;g(t.HOOKS.PREPROCESS_ELEMENT_STYLE).forEach(t=>{t(n.nodeContext,e)})}findAndProcessRepeatingElements(e,t){for(let n=e.firstChild;n;n=n.nextSibling){if(1!==n.nodeType)continue;const e={},i=t.getStyle(n,!1);if(this.computeStyle(this.nodeContext.vertical,"rtl"===this.nodeContext.direction,i,e),!this.processRepeatOnBreak(e))continue;if(this.nodeContext.formattingContext instanceof dl&&!this.nodeContext.belongsTo(this.nodeContext.formattingContext))return;const o=this.nodeContext.parent,s=o&&o.formattingContext;return this.nodeContext.formattingContext=new dl(s,this.nodeContext.sourceNode),void this.nodeContext.formattingContext.initializeRepetitiveElements(this.nodeContext.vertical)}}processRepeatOnBreak(e){let t=e["repeat-on-break"];return t!==Mt.none&&(t===Mt.auto&&(t=e.display===Mt.table_header_group?Mt.header:e.display===Mt.table_footer_group?Mt.footer:Mt.none),t&&t!==Mt.none)?t.toString():null}createTextNodeView(){const e=this,t=di("createTextNodeView");return this.preprocessTextContent().then(()=>{const n=e.offsetInNode||0,i=vr(e.nodeContext.preprocessedTextContent).substr(n);e.viewNode=document.createTextNode(i),t.finish(!0)}),t.result()}preprocessTextContent(){if(null!=this.nodeContext.preprocessedTextContent)return pi(!0);const e=this;let n,i=n=e.sourceNode.textContent;const o=di("preprocessTextContent"),s=g(t.HOOKS.PREPROCESS_TEXT_CONTENT);let r=0;return o.loop(()=>r>=s.length?pi(!1):s[r++](e.nodeContext,i).thenAsync(e=>(i=e,pi(!0)))).then(()=>{e.nodeContext.preprocessedTextContent=Nr(n,i,0),o.finish(!0)}),o.result()}createNodeView(e,t){const n=this,i=di("createNodeView");let o,s=!0;return 1==n.sourceNode.nodeType?o=n.createElementView(e,t):8==n.sourceNode.nodeType?(n.viewNode=null,o=pi(!0)):o=n.createTextNodeView(),o.then(e=>{if(s=e,n.nodeContext.viewNode=n.viewNode,n.viewNode){const e=n.nodeContext.parent?n.nodeContext.parent.viewNode:n.viewRoot;e&&e.appendChild(n.viewNode)}i.finish(s)}),i.result()}setCurrent(e,t,n){return this.nodeContext=e,e?(this.sourceNode=e.sourceNode,this.offsetInNode=e.offsetInNode):(this.sourceNode=null,this.offsetInNode=-1),this.viewNode=null,this.nodeContext?this.createNodeView(t,!!n):pi(!0)}processShadowContent(e){if(null==e.shadowContext||"content"!=e.sourceNode.localName||e.sourceNode.namespaceURI!=F.SHADOW)return e;const t=e.boxOffset,n=e.shadowContext,i=e.parent;let o,s,r;n.subShadow?(r=n.subShadow,o=n.root,s=n.type,s==Hr.ROOTLESS&&(o=o.firstChild)):(r=n.parentShadow,o=n.owner.firstChild,s=Hr.ROOTLESS);const a=e.sourceNode.nextSibling;if(a?(e.sourceNode=a,e.resetView()):e.shadowSibling?e=e.shadowSibling:o?e=null:(e=e.parent.modify()).after=!0,o){const n=new Xr(o,i,t);return n.shadowContext=r,n.shadowType=s,n.shadowSibling=e,n}return e.boxOffset=t,e}nextPositionInTree(e){let t=e.boxOffset+1;if(e.after){if(!e.parent)return null;if(e.shadowType!=Hr.ROOTED){const n=e.sourceNode.nextSibling;if(n)return(e=e.modify()).boxOffset=t,e.sourceNode=n,e.resetView(),this.processShadowContent(e)}return e.shadowSibling?((e=e.shadowSibling.modify()).boxOffset=t,e):((e=e.parent.modify()).boxOffset=t,e.after=!0,e)}{if(e.nodeShadow){let n=e.nodeShadow.root;if(e.nodeShadow.type==Hr.ROOTLESS&&(n=n.firstChild),n){const i=new Xr(n,e,t);return i.shadowContext=e.nodeShadow,i.shadowType=e.nodeShadow.type,this.processShadowContent(i)}}const n=e.sourceNode.firstChild;return n?this.processShadowContent(new Xr(n,e,t)):(1!=e.sourceNode.nodeType&&(t+=vr(e.preprocessedTextContent).length-1-e.offsetInNode),(e=e.modify()).boxOffset=t,e.after=!0,e)}}isTransclusion(e,t,n){const i=Ro(t,"hyperlink-processing");if(!i)return!1;const o=i.evaluate(this.context,"hyperlink-processing");return!!o&&o.toString()==n}nextInTree(e,t){let n=this.nextPositionInTree(e);if(!n||n.after)return pi(n);const i=di("nextInTree");return this.setCurrent(n,!0,t).then(e=>{n.viewNode&&e||(n=n.modify(),n.after=!0,n.viewNode||(n.inline=!0)),this.dispatchEvent({type:"nextInTree",nodeContext:n}),i.finish(n)}),i.result()}addImageFetchers(e){if(e instanceof Lt){const t=e.values;for(let e=0;e<t.length;e++)this.addImageFetchers(t[e])}else if(e instanceof Ot){const t=e.url;this.page.fetchers.push(xi(new Image,t))}}applyComputedStyles(e,t){const n=t["background-image"];n&&this.addImageFetchers(n);const i=t.position===Mt.relative;for(const n in t){if(Qc[n])continue;let o=t[n];o=o.visit(new yn(this.xmldoc.url,this.documentURLTransformer)),o.isNumeric()&&Ae(o.unit)&&(o=Bt(o,this.context)),Tr[n]||i&&xr[n]?this.page.delayedItems.push(new Ir(e,n,o)):V(e,n,o.toString())}}applyPseudoelementStyle(e,t,n){if(e.after)return;const i=this.sourceNode;let o=(e.shadowContext?e.shadowContext.styler:this.styler).getStyle(i,!1);const s=Lo(o,"_pseudos");if(!s)return;if(o=s[t],!o)return;const r={};e.vertical=this.computeStyle(e.vertical,"rtl"===e.direction,o,r);const a=r.content;Jr(a)&&(a.visit(new Qr(n,this.context,a,this.exprContentListener)),delete r.content),this.applyComputedStyles(n,r)}peelOff(e,t){const n=di("peelOff"),i=e.firstPseudo;let o=e.offsetInNode;const s=e.after;if(t>0){const n=e.viewNode.textContent;e.viewNode.textContent=n.substr(0,t),o+=t}else if(!s&&e.viewNode&&0==o){const t=e.viewNode.parentNode;t&&t.removeChild(e.viewNode)}const r=e.boxOffset+t,a=[];for(;e.firstPseudo===i;)a.push(e),e=e.parent;let l=a.pop(),h=l.shadowSibling;const c=this;return n.loop(()=>{for(;a.length>0;){l=a.pop(),e=new Xr(l.sourceNode,e,r),0==a.length&&(e.offsetInNode=o,e.after=s),e.shadowType=l.shadowType,e.shadowContext=l.shadowContext,e.nodeShadow=l.nodeShadow,e.shadowSibling=l.shadowSibling?l.shadowSibling:h,h=null;const t=c.setCurrent(e,!1);if(t.isPending())return t}return pi(!1)}).then(()=>{n.finish(e)}),n.result()}createElement(e,t){return e==F.XHTML?this.document.createElement(t):this.document.createElementNS(e,t)}applyFootnoteStyle(e,t,n){const i={},o=Lo(this.footnoteStyle,"_pseudos");if(e=this.computeStyle(e,t,this.footnoteStyle,i),o&&o.before){const i={},s=this.createElement(F.XHTML,"span");Xa(s,"before"),n.appendChild(s),this.computeStyle(e,t,o.before,i),delete i.content,this.applyComputedStyles(s,i)}return delete i.content,this.applyComputedStyles(n,i),e}processFragmentedBlockEdge(e){e&&e.walkUpBlocks(e=>{const t=e.inheritedProps["box-decoration-break"];if(!t||"slice"===t){const t=e.viewNode;e.vertical?(V(t,"padding-left","0"),V(t,"border-left","none"),V(t,"border-top-left-radius","0"),V(t,"border-bottom-left-radius","0")):(V(t,"padding-bottom","0"),V(t,"border-bottom","none"),V(t,"border-bottom-left-radius","0"),V(t,"border-bottom-right-radius","0"))}})}convertLengthToPx(e,t,n){const i=e.num,o=e.unit;if(function(e){switch(e.toLowerCase()){case"em":case"ex":case"rem":return!0;default:return!1}}(o)){let i=t;for(;i&&1!==i.nodeType;)i=i.parentNode;const o=parseFloat(n.getElementComputedStyle(i)["font-size"]);return this.context,Vo(e,o,this.context).num}{const t=this.context.queryUnitSize(o,!1);return t?i*t:e}}isSameNodePositionStep(e,t){if(e.shadowContext){if(!t.shadowContext)return!1;const n=1===e.node.nodeType?e.node:e.node.parentElement,i=1===t.node.nodeType?t.node:t.node.parentElement;return e.shadowContext.owner===t.shadowContext.owner&&Wa(n)===Wa(i)}return e.node===t.node}isSameNodePosition(e,t){return e.offsetInNode===t.offsetInNode&&e.after==t.after&&e.steps.length===t.steps.length&&e.steps.every((e,n)=>{const i=t.steps[n];return this.isSameNodePositionStep(e,i)})}isPseudoelement(e){return!!Wa(e)}}qc.SVG_URL_ATTRIBUTES=["color-profile","clip-path","cursor","filter","marker","marker-start","marker-end","marker-mid","fill","stroke","mask"];const Zc={a:"a",sub:"sub",sup:"sup",table:"table",tr:"tr",td:"td",th:"th",code:"code",body:"div",p:"p",v:"p",date:"p",emphasis:"em",strong:"strong",style:"span",strikethrough:"del"},Qc={"box-decoration-break":!0,"float-min-wrap-block":!0,"float-reference":!0,"flow-into":!0,"flow-linger":!0,"flow-options":!0,"flow-priority":!0,"footnote-policy":!0,page:!0};class Jc{constructor(e){this.layoutBox=e.layoutBox,this.window=e.window}subtractOffsets(e,t){const n=t.left,i=t.top;return{left:e.left-n,top:e.top-i,right:e.right-n,bottom:e.bottom-i,width:e.width,height:e.height}}getRangeClientRects(e){const t=e.getClientRects(),n=this.layoutBox.getBoundingClientRect();return Array.from(t).map(e=>this.subtractOffsets(e,n))}getElementClientRect(e){const t=e.getBoundingClientRect(),n=this.layoutBox.getBoundingClientRect();return this.subtractOffsets(t,n)}getElementComputedStyle(e){return this.window.getComputedStyle(e,null)}}class eu{constructor(e,t,n,i,o){this.window=e,this.fontSize=t,this.document=e.document,this.root=n||this.document.body;let s=this.root.firstElementChild;s||(s=this.document.createElement("div"),s.setAttribute("data-vivliostyle-outer-zoom-box","true"),this.root.appendChild(s));let r=s.firstElementChild;r||(r=this.document.createElement("div"),r.setAttribute("data-vivliostyle-spread-container","true"),s.appendChild(r));let a=s.nextElementSibling;a||(a=this.document.createElement("div"),a.setAttribute("data-vivliostyle-layout-box","true"),this.root.appendChild(a)),this.outerZoomBox=s,this.contentContainer=r,this.layoutBox=a;const l=new Jc(this).getElementComputedStyle(this.root);this.width=i||parseFloat(l.width)||e.innerWidth,this.height=o||parseFloat(l.height)||e.innerHeight}resetZoom(){V(this.outerZoomBox,"width",""),V(this.outerZoomBox,"height",""),V(this.contentContainer,"width",""),V(this.contentContainer,"height",""),V(this.contentContainer,"transform","")}zoom(e,t,n){V(this.outerZoomBox,"width",`${e*n}px`),V(this.outerZoomBox,"height",`${t*n}px`),V(this.contentContainer,"width",`${e}px`),V(this.contentContainer,"height",`${t}px`),V(this.contentContainer,"transform",`scale(${n})`)}clear(){const e=this.root;for(;e.lastChild;)e.removeChild(e.lastChild)}}class tu{constructor(e,t,n){this.store=e,this.url=t,this.document=n,this.lang=null,this.totalOffset=-1,this.lastOffset=1,this.root=n.documentElement;let i=null,o=null;if(this.root.namespaceURI==F.XHTML){for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;if(t.namespaceURI==F.XHTML)switch(t.localName){case"head":o=t;break;case"body":i=t}}this.lang=this.root.getAttribute("lang")}else if(this.root.namespaceURI==F.FB2){o=this.root;for(let e=this.root.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e;t.namespaceURI==F.FB2&&"body"==t.localName&&(i=t)}const e=this.doc().child("FictionBook").child("description").child("title-info").child("lang").textContent();e.length>0&&(this.lang=e[0])}else if(this.root.namespaceURI==F.SSE)for(let e=this.root.firstElementChild;e;e=e.nextElementSibling){const t=e.localName;"meta"===t?o=e:"body"===t&&(i=e)}this.body=i,this.head=o,this.last=this.root,this.last.setAttribute("data-adapt-eloff","0")}doc(){return new au([this.document])}getElementOffset(e){const t=e.getAttribute("data-adapt-eloff");if(t)return parseInt(t,10);let n=this.lastOffset,i=this.last;for(;i!=e;){let e=i.firstChild;if(!e)for(;e=i.nextSibling,!e;)if(i=i.parentNode,null==i)throw new Error("Internal error");i=e,1==e.nodeType?(e.setAttribute("data-adapt-eloff",n.toString()),++n):n+=e.textContent.length}return this.lastOffset=n,this.last=e,n-1}getNodeOffset(e,t,n){let i=0,o=e,s=null;if(1==o.nodeType){if(!n)return this.getElementOffset(o)}else{if(i=t,s=o.previousSibling,!s)return o=o.parentNode,i+=1,this.getElementOffset(o)+i;o=s}for(;;){for(;o.lastChild;)o=o.lastChild;if(1==o.nodeType)break;if(i+=o.textContent.length,s=o.previousSibling,!s){o=o.parentNode;break}o=s}return i+=1,this.getElementOffset(o)+i}getTotalOffset(){return this.totalOffset<0&&(this.totalOffset=this.getNodeOffset(this.root,0,!0)),this.totalOffset}getNodeByOffset(e){let t;const n=this;let i=this.root;for(;;){if(t=this.getElementOffset(i),t>=e)return i;const o=i.children;if(!o)break;const s=Q(o.length,t=>{const i=o[t];return n.getElementOffset(i)>e});if(0==s)break;i=o[s-1]}let o=t+1,s=i,r=s.firstChild||s.nextSibling,a=null;for(;;){if(r){if(1==r.nodeType)break;if(s=r,a=s,o+=r.textContent.length,o>e)break}else if(s=s.parentNode,!s)break;r=s.nextSibling}return a||i}buildIdMap(e){const t=e.getAttribute("id");t&&!this.idMap[t]&&(this.idMap[t]=e);const n=e.getAttributeNS(F.XML,"id");n&&!this.idMap[n]&&(this.idMap[n]=e);for(let t=e.firstElementChild;t;t=t.nextElementSibling)this.buildIdMap(t)}getElement(e){const t=e.match(/([^#]*)#(.+)$/);if(!t||t[1]&&t[1]!=this.url)return null;const n=t[2];let i=this.document.getElementById(n);return!i&&this.document.getElementsByName&&(i=this.document.getElementsByName(n)[0]),i||(this.idMap||(this.idMap={},this.buildIdMap(this.document.documentElement)),i=this.idMap[n]),i}}var nu;function iu(e,t,n){const i=n||new DOMParser;let o;try{o=i.parseFromString(e,t)}catch(e){}if(!o)return null;{const e=o.documentElement,t="parsererror";if(e.localName===t)return null;for(let n=e.firstElementChild;n;n=n.nextElementSibling)if(n.localName===t)return null}return o}function ou(e,t){let n=e.responseXML;if(!n){const t=new DOMParser,i=e.responseText;if(i){const o=function(e){const t=e.contentType;if(t){const e=Object.keys(nu);for(let n=0;n<e.length;n++)if(nu[e[n]]===t)return t;if(t.match(/\+xml$/))return nu.APPLICATION_XML}const n=e.url.match(/\.([^./]+)$/);if(n)switch(n[1]){case"html":case"htm":return nu.TEXT_HTML;case"xhtml":case"xht":return nu.APPLICATION_XHTML_XML;case"svg":case"svgz":return nu.IMAGE_SVG_XML;case"opf":case"xml":return nu.APPLICATION_XML}return null}(e);if(n=iu(i,o||nu.APPLICATION_XML,t),n&&!o){const e=n.documentElement;"html"!==e.localName.toLowerCase()||e.namespaceURI?"svg"===e.localName.toLowerCase()&&n.contentType!==nu.IMAGE_SVG_XML&&(n=iu(i,nu.IMAGE_SVG_XML,t)):n=iu(i,nu.TEXT_HTML,t)}n||(n=iu(i,nu.TEXT_HTML,t))}}return pi(n?new tu(t,e.url,n):null)}!function(e){e.TEXT_HTML="text/html",e.TEXT_XML="text/xml",e.APPLICATION_XML="application/xml",e.APPLICATION_XHTML_XML="application/xhtml_xml",e.IMAGE_SVG_XML="image/svg+xml"}(nu||(nu={}));class su{constructor(e){this.fn=e}check(e){return this.fn(e)}withAttribute(e,t){const n=this;return new su(i=>n.check(i)&&1==i.nodeType&&i.getAttribute(e)==t)}withChild(e,t){const n=this;return new su(i=>{if(!n.check(i))return!1;let o=new au([i]);return o=o.child(e),t&&(o=o.predicate(t)),o.size()>0})}}const ru=new su(e=>!0);class au{constructor(e){this.nodes=e}asArray(){return this.nodes}size(){return this.nodes.length}predicate(e){const t=[];for(const n of this.nodes)e.check(n)&&t.push(n);return new au(t)}forEachNode(e){const t=[],n=e=>{t.push(e)};for(let t=0;t<this.nodes.length;t++)e(this.nodes[t],n);return new au(t)}forEach(e){const t=[];for(let n=0;n<this.nodes.length;n++)t.push(e(this.nodes[n]));return t}forEachNonNull(e){const t=[];for(let n=0;n<this.nodes.length;n++){const i=e(this.nodes[n]);null!=i&&t.push(i)}return t}child(e){return this.forEachNode((t,n)=>{for(let i=t.firstChild;i;i=i.nextSibling)1==i.nodeType&&i.localName==e&&n(i)})}childElements(){return this.forEachNode((e,t)=>{for(let n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t(n)})}attribute(e){return this.forEachNonNull(t=>1==t.nodeType?t.getAttribute(e):null)}textContent(){return this.forEach(e=>e.textContent)}}const lu=new Ci(()=>{const e=di("uaStylesheetBase"),t=Ph(),n=k("user-agent-base.css",O),i=new Ms(null,null,null,null,null,t,!0);var o;return i.startStylesheet(Pi.USER_AGENT),o=i.cascade,Bs=o,no('@namespace html "http://www.w3.org/1999/xhtml";\n\nhtml|html,\nhtml|address,\nhtml|blockquote,\nhtml|body,\nhtml|dd,\nhtml|div,\nhtml|dl,\nhtml|dt,\nhtml|fieldset,\nhtml|form,\nhtml|frame,\nhtml|frameset,\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|noframes,\nhtml|ol,\nhtml|p,\nhtml|ul,\nhtml|center,\nhtml|dir,\nhtml|hr,\nhtml|menu,\nhtml|pre,\nhtml|article,\nhtml|section,\nhtml|nav,\nhtml|aside,\nhtml|hgroup,\nhtml|footer,\nhtml|header,\nhtml|figure,\nhtml|figcaption,\nhtml|main {\n  display: block;\n  unicode-bidi: normal;\n}\nhtml|li {\n  display: list-item;\n}\nhtml|head {\n  display: none !important;\n}\nhtml|table {\n  display: table;\n}\nhtml|tr {\n  display: table-row;\n}\nhtml|thead {\n  display: table-header-group;\n  break-after: avoid;\n}\nhtml|tbody {\n  display: table-row-group;\n}\nhtml|tfoot {\n  display: table-footer-group;\n  break-before: avoid;\n}\nhtml|col {\n  display: table-column;\n}\nhtml|colgroup {\n  display: table-column-group;\n}\nhtml|td,\nhtml|th {\n  display: table-cell;\n}\nhtml|caption {\n  display: table-caption;\n  text-align: center;\n}\nhtml|th {\n  font-weight: bolder;\n  text-align: center;\n}\nhtml|script {\n  display: none;\n}\nhtml|body {\n  margin: 8px;\n}\nhtml|h1 {\n  font-size: 2em;\n  margin-block-start: 0.67em;\n  margin-block-end: 0.67em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h2 {\n  font-size: 1.5em;\n  margin-block-start: 0.75em;\n  margin-block-end: 0.75em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h3 {\n  font-size: 1.17em;\n  margin-block-start: 0.83em;\n  margin-block-end: 0.83em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h4,\nhtml|p,\nhtml|blockquote,\nhtml|ul,\nhtml|fieldset,\nhtml|form,\nhtml|ol,\nhtml|dl,\nhtml|dir,\nhtml|menu,\nhtml|h5,\nhtml|h6 {\n  margin-block-start: 1em;\n  margin-block-end: 1em;\n  margin-inline-start: 0em;\n  margin-inline-end: 0em;\n}\nhtml|h5 {\n  font-size: 0.83em;\n}\nhtml|h6 {\n  font-size: 0.75em;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6,\nhtml|b,\nhtml|strong {\n  font-weight: bolder;\n}\nhtml|h1,\nhtml|h2,\nhtml|h3,\nhtml|h4,\nhtml|h5,\nhtml|h6 {\n  break-after: avoid;\n}\nhtml|blockquote {\n  margin-block-start: 0px;\n  margin-block-end: 0px;\n  margin-inline-start: 40px;\n  margin-inline-end: 40px;\n}\nhtml|i,\nhtml|cite,\nhtml|em,\nhtml|var,\nhtml|address {\n  font-style: italic;\n}\nhtml|pre,\nhtml|tt,\nhtml|code,\nhtml|kbd,\nhtml|samp {\n  font-family: monospace;\n}\nhtml|pre {\n  white-space: pre;\n}\nhtml|button,\nhtml|textarea,\nhtml|input,\nhtml|select {\n  display: inline-block;\n}\nhtml|big {\n  font-size: 1.17em;\n}\nhtml|small,\nhtml|sub,\nhtml|sup {\n  font-size: 0.83em;\n}\nhtml|sub {\n  vertical-align: sub;\n}\nhtml|sup {\n  vertical-align: super;\n}\nhtml|table {\n  border-spacing: 2px;\n}\nhtml|thead,\nhtml|tbody,\nhtml|tfoot {\n  vertical-align: middle;\n}\n/* for XHTML tables without tbody */\nhtml|table > html|tr {\n  vertical-align: middle;\n}\nhtml|td,\nhtml|th {\n  vertical-align: inherit;\n}\nhtml|s,\nhtml|strike,\nhtml|del {\n  text-decoration: line-through;\n}\nhtml|hr {\n  border: 1px inset;\n}\nhtml|ol,\nhtml|ul,\nhtml|dir,\nhtml|menu,\nhtml|dd {\n  margin: 0px;\n  margin-inline-start: 40px;\n}\nhtml|ol {\n  list-style-type: decimal;\n}\nhtml|ol html|ul,\nhtml|ul html|ol,\nhtml|ul html|ul,\nhtml|ol html|ol {\n  margin-top: 0;\n  margin-bottom: 0;\n}\nhtml|u,\nhtml|ins {\n  text-decoration: underline;\n}\nhtml|center {\n  text-align: center;\n}\nhtml|q:before {\n  content: open-quote;\n}\nhtml|q:after {\n  content: close-quote;\n}\n\nhtml|audio,\nhtml|video {\n  break-inside: avoid;\n}\n\nhtml|ruby {\n  display: ruby;\n}\nhtml|rp {\n  display: none;\n}\nhtml|rbc {\n  display: ruby-base-container;\n}\nhtml|rtc {\n  display: ruby-text-container;\n}\nhtml|rb {\n  display: ruby-base;\n  white-space: nowrap;\n}\nhtml|rt {\n  display: ruby-text;\n}\nhtml|ruby,\nhtml|rb,\nhtml|rt,\nhtml|rbc,\nhtml|rtc {\n  unicode-bidi: isolate;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-variant-east-asian: ruby;\n  text-emphasis: none;\n  white-space: nowrap;\n  line-height: 1;\n}\n\nhtml|rtc:lang(zh),\nhtml|rt:lang(zh) {\n  ruby-align: center;\n}\n\nhtml|rtc,\nhtml|rt {\n  font-size: 50%;\n}\n\nhtml|rtc:lang(zh-TW),\nhtml|rt:lang(zh-TW) {\n  font-size: 30%;\n}\n\nhtml|rtc > html|rt,\nhtml|rtc > html|rt:lang(zh-TW) {\n  font-size: 100%;\n}\n\n/* Bidi settings */\nhtml|bdo[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: bidi-override;\n}\nhtml|bdo[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: bidi-override;\n}\nhtml|*[dir="ltr"] {\n  direction: ltr;\n  unicode-bidi: embed;\n}\nhtml|*[dir="rtl"] {\n  direction: rtl;\n  unicode-bidi: embed;\n}\n\n/*------------------ epub-specific ---------------------*/\n\n@namespace epub "http://www.idpf.org/2007/ops";\n\nhtml|a[epub|type="noteref"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n}\n\nhtml|a[epub|type="noteref"]:href-epub-type(footnote) {\n  -adapt-template: url(user-agent.xml#footnote);\n  text-decoration: none;\n}\n\nhtml|aside[epub|type="footnote"] {\n  display: none;\n}\n\nhtml|aside[epub|type="footnote"]:footnote-content {\n  display: block;\n  margin: 0.25em;\n  font-size: 1.2em;\n  line-height: 1.2;\n}\n\nepub|trigger {\n  display: none;\n}\n\nepub|switch {\n  display: inline;\n}\n\nepub|default {\n  display: inline;\n}\n\nepub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] {\n  display: inline;\n}\n\nepub|case[required-namespace::supported] ~ epub|case {\n  display: none;\n}\n\nepub|case[required-namespace::supported] ~ epub|default {\n  display: none;\n}\n\n/*--------------- ncx and toc ----------------------*/\n\n@namespace ncx "http://www.daisy.org/z3986/2005/ncx/";\n\nncx|ncx {\n  display: block;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\nncx|content {\n  display: none;\n}\n\nbody > * {\n  -adapt-behavior: body-child;\n}\n\n[role="doc-toc"],\n[role="directory"],\nnav,\n.toc,\n#toc,\n#table-of-contents,\n#contents {\n  -adapt-behavior: toc-root;\n}\n\n[role="doc-toc"] a,\n[role="directory"] a,\nnav a,\n.toc a,\n#toc a,\nncx|navLabel {\n  -adapt-behavior: toc-node-anchor;\n}\n\n[role="doc-toc"] li,\n[role="directory"] li,\nnav li,\n.toc li,\n#toc li,\nncx|navPoint {\n  -adapt-behavior: toc-node;\n}\n\n[role="doc-toc"] li > *:first-child,\n[role="directory"] li > *:first-child,\nnav li > *:first-child,\n.toc li > *:first-child,\n#toc li > *:first-child {\n  -adapt-behavior: toc-node-first-child;\n}\n\n[role="doc-toc"] ol,\n[role="directory"] ol,\nnav ol,\n.toc ol,\n#toc ol,\n[role="doc-toc"] ul,\n[role="directory"] ul,\nnav ul,\n.toc ul,\n#toc ul,\nol[role="doc-toc"],\nol[role="directory"],\nol.toc,\nol#toc,\nul[role="doc-toc"],\nul[role="directory"],\nul.toc,\nul#toc {\n  -adapt-behavior: toc-container;\n}\n\n/*---------------- fb2 ---------------------*/\n\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nfb2|FictionBook {\n  display: block;\n}\n\nfb2|body {\n  font-family: serif;\n  margin: 8px;\n  column-width: 25em;\n}\n\nfb2|a {\n  line-height: 0.1;\n  vertical-align: super;\n  font-size: 0.7em;\n}\n\nfb2|sub {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|sup {\n  line-height: 0.1;\n  font-size: 0.7em;\n}\n\nfb2|table {\n  display: table;\n  font-size: 0.8em;\n  font-family: sans-serif;\n  margin: 0.5em;\n  border-collapse: collapse;\n  border: 1px solid black;\n}\n\nfb2|td {\n  border: 1px solid black;\n  padding: 0.3em;\n}\n\nfb2|th {\n  font-weight: bold;\n  text-align: center;\n  border: 1px solid black;\n  background-color: #cee;\n  padding: 0.3em;\n}\n\nfb2|code {\n  font-family: monospace;\n}\n\nfb2|p {\n  display: block;\n  margin: 0px;\n  text-indent: 1.5em;\n  text-align: justify;\n}\n\nfb2|title fb2|p {\n  margin: 0px 0px 0.5em 0px;\n  text-indent: 0px;\n  text-align: inherit;\n}\n\nfb2|title {\n  font-size: 2.2em;\n  font-weight: bold;\n  break-inside: avoid;\n  break-after: avoid;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n  display: block;\n}\n\nfb2|section {\n  display: block;\n}\n\nfb2|section fb2|title {\n  font-size: 1.8em;\n  text-align: center;\n  margin: 1em 0px 0.5em 0px;\n}\n\nfb2|section fb2|section fb2|title {\n  font-size: 1.5em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.5625em;\n}\n\nfb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.3em;\n  text-align: left;\n  margin: 1em 0px 0.5em 1.923em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.2em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.083em;\n}\n\nfb2|section fb2|section fb2|section fb2|section fb2|section fb2|title {\n  font-size: 1.1em;\n  text-align: left;\n  margin: 1em 0px 0.5em 2.272em;\n}\n\nfb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|section\n  fb2|title {\n  text-align: left;\n  margin: 1em 0px 0.5em 2.5em;\n}\n\nfb2|epigraph {\n  text-align: left;\n  font-style: italic;\n  margin: 1em 1em 2em 30%;\n  display: block;\n}\n\nfb2|image {\n  text-align: center;\n  padding: 3px;\n}\n\nfb2|image::inner {\n  max-width: 95%;\n}\n\nfb2|image::after {\n  display: block;\n  content: attr(title);\n}\n\nfb2|v {\n  text-indent: -1em;\n  padding-left: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|poem {\n  margin: 0.5em 0px 0.5em 2em;\n  display: block;\n}\nfb2|date {\n  margin: 0.5em 0px 0.5em 50%;\n  font-style: italic;\n  display: block;\n}\nfb2|stanza {\n  margin: 0.5em 0px;\n  break-inside: avoid;\n  display: block;\n}\nfb2|empty-line {\n  height: 1em;\n  margin: 0px;\n  display: block;\n}\nfb2|cite {\n  margin: 0.5em 0px 0.5em 1em;\n  font-size: 0.95em;\n  display: block;\n}\nfb2|subtitle {\n  text-indent: 0px;\n  text-align: center;\n  font-style: italic;\n  font-weight: bold;\n  margin: 0.5em 2em;\n  break-inside: avoid;\n  break-after: avoid;\n  display: block;\n}\nfb2|annotation {\n  margin: 1em 0px 1em 2em;\n  text-indent: 0px;\n  font-style: italic;\n  display: block;\n}\nfb2|text-author {\n  text-indent: 0px;\n  margin: 0.2em 0px 0px 3em;\n  display: block;\n}\nfb2|emphasis {\n  font-style: italic;\n}\nfb2|strong {\n  font-weight: bold;\n}\nfb2|strikethrough {\n  text-decoration: line-through;\n}\nfb2|*.italic {\n  font-style: italic;\n}\nfb2|*.bold {\n  font-weight: bold;\n}\n\nfb2|binary,\nfb2|description,\nfb2|stylesheet {\n  display: none;\n}\n\nfb2|a[type="note"] {\n  font-size: 0.75em;\n  vertical-align: super;\n  line-height: 0.01;\n  text-decoration: none;\n  -adapt-template: url(user-agent.xml#footnote);\n}\n\nfb2|body[name="notes"] {\n  display: none;\n}\n\nfb2|body[name="notes"] fb2|title {\n  display: inline;\n  vertical-align: super;\n  line-height: 0.01;\n  text-align: left;\n  font-size: 0.75em;\n  font-weight: bold;\n  margin: 0px;\n}\n\nfb2|body[name="notes"] fb2|p {\n  text-indent: 0px;\n  display: inline; /* for now */\n}\n\nfb2|body[name="notes"] fb2|p + fb2|p {\n  display: block;\n}\n\nfb2|body[name="notes"] fb2|section {\n  text-indent: 0px;\n  line-height: 1.2;\n  font-size: 1.2em;\n}\n',i,n,null,null).thenFinish(e),e.result()},"uaStylesheetBaseFetcher");class hu{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.rootScope=t,this.pageScope=n,this.cascade=i,this.rootBox=o,this.fontFaces=s,this.footnoteProps=r,this.flowProps=a,this.viewportProps=l,this.pageProps=h,this.fontDeobfuscator=e.fontDeobfuscator,this.validatorSet=e.validatorSet,this.pageScope.defineBuiltIn("has-content",(function(e){e=e;const t=this.currentLayoutPosition,n=t.firstFlowChunkOfFlow(e);return this.matchPageSide(t.startSideOfFlow(e))&&t.hasContent(e,this.lookupOffset)&&!!n&&!this.flowChunkIsAfterParentFlowForcedBreak(n)})),this.pageScope.defineName("page-number",new ot(this.pageScope,(function(){return this.pageNumberOffset+this.currentLayoutPosition.page}),"page-number"))}sizeViewport(e,t,n,i){if(this.viewportProps.length){const o=new Oe(this.rootScope,e,t,n),s=function(e,t){const n={};for(let i=0;i<t.length;i++)Mo(e,n,t[i],0,null,null,null);return n}(o,this.viewportProps),r=s.width,a=s.height,l=s["text-zoom"];let h=1;if(r&&a||l){const s=Pe.em;if((l?l.evaluate(o,"text-zoom"):null)===Mt.scale&&(h=s/n,n=s,e*=h,t*=h),r&&a){const e=_t(r.evaluate(o,"width"),o),t=_t(a.evaluate(o,"height"),o);if(e>0&&t>0)return{width:i&&i.spreadView?2*(e+i.pageBorder):e,height:t,fontSize:n}}}}return{width:e,height:t,fontSize:n}}}class cu extends Oe{constructor(e,t,n,i,o,s,r,a,l,h,c,u){super(e.rootScope,i.width,i.height,i.fontSize),this.style=e,this.xmldoc=t,this.viewport=i,this.clientLayout=o,this.fontMapper=s,this.customRenderer=r,this.fallbackMap=a,this.pageNumberOffset=l,this.documentURLTransformer=h,this.counterStore=c,this.primaryFlows={body:!0},this.rootPageBoxInstance=null,this.styler=null,this.stylerMap=null,this.currentLayoutPosition=null,this.layoutPositionAtPageStart=null,this.lookupOffset=0,this.pageBoxInstances={},this.pageManager=null,this.pageBreaks={},this.pageProgression=null,this.pageSheetSize={},this.pageSheetHeight=0,this.pageSheetWidth=0,this.lang=t.lang||n,this.faces=new Fh(this.style.fontDeobfuscator),this.rootPageFloatLayoutContext=new ra(null,null,null,null,null,null,null),this.pageProgression=u||null;for(const t in e.flowProps){const n=Ro(e.flowProps[t],"flow-consume");n&&(n.evaluate(this,"flow-consume")==Mt.all?this.primaryFlows[t]=!0:delete this.primaryFlows[t])}}init(){const e=this,t=di("StyleInstance.init"),n=e.counterStore.createCounterListener(e.xmldoc.url),i=e.counterStore.createCounterResolver(e.xmldoc.url,e.style.rootScope,e.style.pageScope);e.styler=new sh(e.xmldoc,e.style.cascade,e.style.rootScope,e,this.primaryFlows,e.style.validatorSet,n,i),i.setStyler(e.styler),e.styler.resetFlowChunkStream(e),e.stylerMap={},e.stylerMap[e.xmldoc.url]=e.styler;const o=e.styler.getTopContainerStyle();e.pageProgression||(e.pageProgression=hc(o));const s=this.style.rootBox;this.rootPageBoxInstance=new tc(s);const r=this.style.cascade.createInstance(e,n,i,this.lang);this.rootPageBoxInstance.applyCascadeAndInit(r,o),this.rootPageBoxInstance.resolveAutoSizing(e),this.pageManager=new Fc(r,this.style.pageScope,this.rootPageBoxInstance,e,o);const a=[];for(const t of e.style.fontFaces){if(t.condition&&!t.condition.evaluate(e))continue;const n=kh(t.properties,e),i=new Lh(n);a.push(i)}e.fontMapper.findOrLoadFonts(a,e.faces).thenFinish(t);const l=e.style.pageProps;return Object.keys(l).forEach(e=>{const t=mc(gc(l[e]),this);this.pageSheetSize[e]={width:t.pageWidth+2*t.cropOffset,height:t.pageHeight+2*t.cropOffset}}),t.result()}getStylerForDoc(e){let t=this.stylerMap[e.url];if(!t){const n=this.style.store.getStyleForDoc(e),i=new Oe(n.rootScope,this.pageWidth(),this.pageHeight(),this.initialFontSize),o=this.counterStore.createCounterListener(e.url),s=this.counterStore.createCounterResolver(e.url,n.rootScope,n.pageScope);t=new sh(e,n.cascade,n.rootScope,i,this.primaryFlows,n.validatorSet,o,s),this.stylerMap[e.url]=t}return t}registerInstance(e,t){this.pageBoxInstances[e]=t}lookupInstance(e){return this.pageBoxInstances[e]}encounteredFlowChunk(e,t){const n=this.currentLayoutPosition;if(n){n.flows[e.flowName]?t=n.flows[e.flowName]:n.flows[e.flowName]=t;let i=n.flowPositions[e.flowName];i||(i=new Yr,n.flowPositions[e.flowName]=i);const o={steps:[{node:e.element,shadowType:Hr.NONE,shadowContext:null,nodeShadow:null,shadowSibling:null,formattingContext:null,fragmentIndex:0}],offsetInNode:0,after:!1,preprocessedTextContent:null},s=new jr(o),r=new Kr(s,e);i.positions.push(r)}}getConsumedOffset(e){let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.positions.length;n++){const i=e.positions[n].chunkPosition.primary;let o=i.steps[0].node,s=i.offsetInNode,r=i.after,a=0;for(;o.ownerDocument!=this.xmldoc.document;)a++,o=i.steps[a].node,r=!1,s=0;const l=this.xmldoc.getNodeOffset(o,s,r);l<t&&(t=l)}return t}getPosition(e,t){if(!e)return 0;let n=Number.POSITIVE_INFINITY;for(const i in this.primaryFlows){let o=e.flowPositions[i];if(t||o&&0!=o.positions.length||!this.currentLayoutPosition||(this.styler.styleUntilFlowIsReached(i),o=this.currentLayoutPosition.flowPositions[i],e!=this.currentLayoutPosition&&o&&(o=o.clone(),e.flowPositions[i]=o)),o){const e=this.getConsumedOffset(o);e<n&&(n=e)}}return n}dumpLocation(e){c.debug("Location - page",this.currentLayoutPosition.page),c.debug("  current:",e),c.debug("  lookup:",this.lookupOffset);for(const e in this.currentLayoutPosition.flowPositions){const t=this.currentLayoutPosition.flowPositions[e];for(const n of t.positions)c.debug("  Chunk",`${e}:`,n.flowChunk.startOffset)}}matchPageSide(e){switch(e){case"left":case"right":case"recto":case"verso":return new nt(this.style.pageScope,`${e}-page`).evaluate(this);default:return!0}}updateStartSide(e){for(const t in e.flowPositions){const n=e.flowPositions[t];if(n&&n.positions.length>0){const e=n.positions[0].flowChunk;if(this.getConsumedOffset(n)===e.startOffset){const e=n.positions[0].flowChunk.breakBefore,t=Ea(n.startSide);n.startSide=wa(ba(t,e))}}}}selectPageMaster(e){const t=this,n=this.currentLayoutPosition,i=this.getPosition(n);if(i==Number.POSITIVE_INFINITY)return null;const o=this.rootPageBoxInstance.children;let s;for(let r=0;r<o.length;r++){if(s=o[r],"vivliostyle-page-rule-master"===s.pageBox.pseudoName)continue;let a=1;const l=s.getProp(t,"utilization");l&&l.isNum()&&(a=l.num);const h=t.queryUnitSize("em",!1),c=t.pageWidth()*t.pageHeight(),u=Math.ceil(a*c/(h*h));this.lookupOffset=this.styler.styleUntil(i,u),this.updateStartSide(n),this.layoutPositionAtPageStart=n.clone(),this.initLingering(),t.clearScope(this.style.pageScope);const d=s.getProp(t,"enabled");if(!d||d===Mt._true)return this.pageManager.getPageRulePageMaster(s,e)}throw new Error("No enabled page masters")}flowChunkIsAfterParentFlowForcedBreak(e){const t=this.layoutPositionAtPageStart.flows,n=t[e.flowName].parentFlowName;if(n){const i=e.startOffset,o=t[n].forcedBreakOffsets;if(!o.length||i<o[0])return!1;const s=Q(o.length,e=>o[e]>i)-1,r=o[s],a=this.layoutPositionAtPageStart.flowPositions[n],l=this.getConsumedOffset(a);return!(r<l)&&(l<r||!this.matchPageSide(a.startSide))}return!1}setFormattingContextToColumn(e,t){const n=this.currentLayoutPosition.flows[t];n.formattingContext||(n.formattingContext=new _a(null)),e.flowRootFormattingContext=n.formattingContext}layoutDeferredPageFloats(e){const t=e.pageFloatLayoutContext,n=t.getDeferredPageFloatContinuations(),i=di("layoutDeferredPageFloats");let o=!1,s=0;return i.loopWithFrame(i=>{if(s===n.length)return void i.breakLoop();const r=n[s++],a=r.float,l=(new la).findByFloat(a),h=l.findPageFloatFragment(a,t);if(!h||!h.hasFloat(a))return t.isForbidden(a)||t.hasPrecedingFloatsDeferredToNext(a)?(t.deferPageFloat(r),void i.breakLoop()):void e.layoutPageFloatInner(r,l,null,h).then(e=>{if(!e)return void i.breakLoop();const n=t.parent.isInvalidated();n?i.breakLoop():(t.isInvalidated()&&!n&&(o=!0,t.validate()),i.continueLoop())});i.continueLoop()}).then(()=>{o&&t.invalidate(),i.finish(!0)}),i.result()}getLastAfterPositionIfDeferredFloatsExists(e,t){if(e.pageFloatLayoutContext.getPageFloatContinuationsDeferredToNext().length>0){if(e.lastAfterPosition){let n;return t?(n=t.clone(),n.primary=e.lastAfterPosition):n=new jr(e.lastAfterPosition),n}return null}return null}layoutColumn(e,t){const n=this.currentLayoutPosition.flowPositions[t];if(!n||!this.matchPageSide(n.startSide))return pi(!0);n.startSide="any",this.setFormattingContextToColumn(e,t),e.init(),this.primaryFlows[t]&&e.bands.length>0&&(e.forceNonfitting=!1);const i=this,o=di("layoutColumn");return this.layoutDeferredPageFloats(e).then(()=>{if(e.pageFloatLayoutContext.isInvalidated())return void o.finish(!0);const s=[],r=[];let a=!0;o.loopWithFrame(o=>{if(e.pageFloatLayoutContext.hasContinuingFloatFragmentsInFlow(t))o.breakLoop();else{for(;n.positions.length-r.length>0;){let t=0;for(;r.includes(t);)t++;let l=n.positions[t];if(l.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(l.flowChunk))break;for(let e=t+1;e<n.positions.length;e++){if(r.includes(e))continue;const o=n.positions[e];if(o.flowChunk.startOffset>i.lookupOffset||i.flowChunkIsAfterParentFlowForcedBreak(o.flowChunk))break;o.flowChunk.isBetter(l.flowChunk)&&(l=o,t=e)}const h=l.flowChunk;let c=!0;if(e.layout(l.chunkPosition,a,n.breakAfter).then(u=>{if(e.pageFloatLayoutContext.isInvalidated())o.breakLoop();else{if(a=!1,l.flowChunk.repeated&&(null===u||h.exclusive)&&s.push(t),h.exclusive)return r.push(t),void o.breakLoop();{const a=!!u||!!e.pageBreakType,h=i.getLastAfterPositionIfDeferredFloatsExists(e,u);if(e.pageBreakType&&h?(l.chunkPosition=h,n.breakAfter=e.pageBreakType,e.pageBreakType=null):(r.push(t),(u||h)&&(l.chunkPosition=u||h,s.push(t)),e.pageBreakType&&(n.startSide=wa(e.pageBreakType))),a)return void o.breakLoop()}e.forceNonfitting=!1,c?c=!1:o.continueLoop()}}),c)return void(c=!1)}o.breakLoop()}}).then(()=>{if(!e.pageFloatLayoutContext.isInvalidated()){n.positions=n.positions.filter((e,t)=>s.includes(t)||!r.includes(t)),"column"===n.breakAfter&&(n.breakAfter=null),e.saveDistanceToBlockEndFloats();const t=e.pageFloatLayoutContext.getMaxReachedAfterEdge();e.updateMaxReachedAfterEdge(t)}o.finish(!0)})}),o.result()}createLayoutConstraint(e){const t=this.currentLayoutPosition.page-1,n=this.counterStore.createLayoutConstraint(t);return new tl([n].concat(e.getLayoutConstraints()))}createAndLayoutColumn(e,t,n,i,o,s,r,a,l,h,c,u,d,p){const f=this,g=e.vertical?e.isAutoWidth&&e.isRightDependentOnAutoWidth:e.isAutoHeight&&e.isTopDependentOnAutoHeight,m=o.element,b=new ra(a,ea.COLUMN,null,r,null,null,null),w=f.currentLayoutPosition.clone(),E=di("createAndLayoutColumn");let y;return E.loopWithFrame(e=>{const E=f.createLayoutConstraint(b);if(l>1){const e=f.viewport.document.createElement("div");if(V(e,"position","absolute"),m.appendChild(e),y=new ol(e,d,f.clientLayout,E,b),y.forceNonfitting=p,y.vertical=o.vertical,y.snapHeight=o.snapHeight,y.snapWidth=o.snapWidth,o.vertical){const e=s*(c+h)+o.paddingTop;y.setHorizontalPosition(o.paddingLeft,o.width),y.setVerticalPosition(e,c)}else{const e=s*(c+h)+o.paddingLeft;y.setVerticalPosition(o.paddingTop,o.height),y.setHorizontalPosition(e,c)}y.originX=t,y.originY=n}else y=new ol(m,d,f.clientLayout,E,b),y.copyFrom(o);y.exclusions=g?[]:i.concat(),y.innerShape=u,b.setContainer(y),y.width>=0?f.layoutColumn(y,r).then(()=>{b.isInvalidated()||b.finish(),y.pageFloatLayoutContext.isInvalidated()&&!a.isInvalidated()?(y.pageFloatLayoutContext.validate(),f.currentLayoutPosition=w.clone(),y.element!==m&&m.removeChild(y.element),e.continueLoop()):e.breakLoop()}):(b.finish(),e.breakLoop())}).then(()=>{E.finish(y)}),E.result()}setPagePageFloatLayoutContextContainer(e,t,n){(t instanceof kc||t instanceof nc&&!(t instanceof Pc))&&e.setContainer(n)}getRegionPageFloatLayoutContext(e,t,n,i){const o=t.getProp(this,"writing-mode")||null,s=t.getProp(this,"direction")||null;return new ra(e,ea.REGION,n,i,null,o,s)}layoutFlowColumnsWithBalancing(e,t,n,i,o,s,r,a,l){const h=this,c=h.currentLayoutPosition.clone(),u=h.getRegionPageFloatLayoutContext(s,t,r,a);let d=!0;function p(){return h.currentLayoutPosition=c.clone(),h.layoutFlowColumns(e,t,n,i,o,s,u,r,a,l,d).thenAsync(e=>pi(e?{columns:e,position:h.currentLayoutPosition}:null))}return p().thenAsync(e=>{if(!e)return pi(null);if(l<=1)return pi(e.columns);const n=t.getProp(h,"column-fill")||Mt.balance,i=h.currentLayoutPosition.flowPositions[a],o=function(e,t,n,i,o,s,r){if(t===Mt.auto)return null;{const a=0===r.positions.length,l=s[s.length-1],h=!(!l||!l.pageBreakType);return a||h?new Ql(n,i,o,e):t===Mt.balance_all?new eh(n,i,o):null}}(l,n,p,u,r,e.columns,i);return o?(d=!1,s.lock(),u.lock(),o.balanceColumns(e).thenAsync(e=>(s.unlock(),s.validate(),u.unlock(),h.currentLayoutPosition=e.position,pi(e.columns)))):pi(e.columns)})}layoutFlowColumns(e,t,n,i,o,s,r,a,l,h,c){const u=this,d=di("layoutFlowColumns"),p=u.currentLayoutPosition.clone(),f=t.getPropAsNumber(u,"column-gap"),g=h>1?t.getPropAsNumber(u,"column-width"):a.width,m=t.getActiveRegions(u),b=bn(t.getProp(u,"shape-inside"),0,0,a.width,a.height,u),w=new qc(l,u,u.viewport,u.styler,m,u.xmldoc,u.faces,u.style.footnoteProps,u,e,u.customRenderer,u.fallbackMap,this.documentURLTransformer);let E=0,y=null,S=[];return d.loopWithFrame(e=>{u.createAndLayoutColumn(t,n,i,o,a,E++,l,r,h,f,g,b,w,c).then(t=>s.isInvalidated()?(S=null,void e.breakLoop()):(!(t.pageBreakType&&"column"!==t.pageBreakType)&&E!==h||r.isInvalidated()||r.finish(),r.isInvalidated()?(E=0,u.currentLayoutPosition=p.clone(),r.validate(),void(r.isLocked()?(S=null,e.breakLoop()):e.continueLoop())):(y=t,S[E-1]=y,y.pageBreakType&&"column"!=y.pageBreakType&&(E=h,"region"!=y.pageBreakType&&(u.pageBreaks[l]=!0)),void(E<h?e.continueLoop():e.breakLoop()))))}).then(()=>{d.finish(S)}),d.result()}layoutContainer(e,t,n,i,o,s,r){const a=this;t.reset();const l=t.getProp(a,"enabled");if(l&&l!==Mt._true)return pi(!0);const h=di("layoutContainer"),c=t.getProp(a,"wrap-flow")===Mt.auto,u=t.getProp(a,"flow-from"),d=a.viewport.document.createElement("div"),p=t.getProp(a,"position");V(d,"position",p?p.name:"absolute"),n.insertBefore(d,n.firstChild);let f,g=new Zr(d);g.vertical=t.vertical,g.exclusions=s,t.prepareContainer(a,g,e,a.faces,a.clientLayout),g.originX=i,g.originY=o,i+=g.left+g.marginLeft+g.borderLeft,o+=g.top+g.marginTop+g.borderTop,this.setPagePageFloatLayoutContextContainer(r,t,g);let m=!1;if(u&&u.isIdent())if(a.pageBreaks[u.toString()])r.isInvalidated()||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=pi(!0);else{const n=di("layoutContainer.inner"),l=u.toString(),h=t.getPropAsNumber(a,"column-count");a.layoutFlowColumnsWithBalancing(e,t,i,o,s,r,g,l,h).then(i=>{if(!r.isInvalidated()){const n=i[0];n.element===d&&(g=n),g.computedBlockSize=Math.max.apply(null,i.map(e=>e.computedBlockSize)),t.finishContainer(a,g,e,n,h,a.clientLayout,a.faces);const o=a.currentLayoutPosition.flowPositions[l];o&&"region"===o.breakAfter&&(o.breakAfter=null)}n.finish(!0)}),f=n.result()}else{const i=t.getProp(a,"content");if(i&&Jr(i)){let n="span";i.url&&(n="img");const o=a.viewport.document.createElement(n);i.visit(new Qr(o,a,i,a.counterStore.getExprContentListener())),d.appendChild(o),"img"==n&&t.transferSinglUriContentProps(a,o,a.faces),t.transferContentProps(a,g,e,a.faces)}else t.suppressEmptyBoxGeneration&&(n.removeChild(d),m=!0);m||t.finishContainer(a,g,e,null,1,a.clientLayout,a.faces),f=pi(!0)}return f.then(()=>{if(r.isInvalidated())return void h.finish(!0);if(!t.isAutoHeight||Math.floor(g.computedBlockSize)>0){if(!m&&!c){const e=t.getProp(a,"shape-outside"),n=g.getOuterShape(e,a);s.push(n)}}else if(0==t.children.length)return n.removeChild(d),void h.finish(!0);let l=t.children.length-1;h.loop(()=>{for(;l>=0;){const n=t.children[l--],h=a.layoutContainer(e,n,d,i,o,s,r);if(h.isPending())return h.thenAsync(()=>pi(!r.isInvalidated()));if(r.isInvalidated())break}return pi(!1)}).then(()=>{h.finish(!0)})}),h.result()}processLinger(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage>=0&&i.flowChunk.startPage+i.flowChunk.linger-1<=e&&n.positions.splice(t,1)}}}initLingering(){const e=this.currentLayoutPosition.page;for(const t in this.currentLayoutPosition.flowPositions){const n=this.currentLayoutPosition.flowPositions[t];for(let t=n.positions.length-1;t>=0;t--){const i=n.positions[t];i.flowChunk.startPage<0&&i.flowChunk.startOffset<this.lookupOffset&&(i.flowChunk.startPage=e)}}}noMorePrimaryFlows(e){for(const t in this.primaryFlows){const n=e.flowPositions[t];if(n&&n.positions.length>0)return!1}return!0}layoutNextPage(e,n){const i=this,o=e.container===e.bleedBox;i.pageBreaks={},n?(i.currentLayoutPosition=n.clone(),i.styler.replayFlowElementsFromOffset(n.highestSeenOffset)):(i.currentLayoutPosition=new qr,i.styler.replayFlowElementsFromOffset(-1)),this.lang&&e.bleedBox.setAttribute("lang",this.lang),(n=i.currentLayoutPosition).page++,i.clearScope(i.style.pageScope),i.layoutPositionAtPageStart=n.clone();const s=o?{}:i.pageManager.getCascadedPageStyle(),r=i.selectPageMaster(s);if(!r)return pi(null);let a=0;if(!o){e.setAutoPageWidth(r.pageBox.specified.width.value===zt),e.setAutoPageHeight(r.pageBox.specified.height.value===Vt),i.counterStore.setCurrentPage(e),i.counterStore.updatePageCounters(s,i);const t=mc(gc(s),this);i.setPageSizeAndBleed(t,e),function(e,t,n,i){let o=!1,s=!1;const r=e.marks;if(r){const e=r.value;e.isSpaceList()?e.values.forEach(e=>{e===Mt.crop?o=!0:e===Mt.cross&&(s=!0)}):e===Mt.crop?o=!0:e===Mt.cross&&(s=!0)}if(!o&&!s)return;const a=n.container,l=a.ownerDocument,h=t.bleed,c=_t(uc,i),u=_t(dc,i),d=_t(pc,i);if(h){const t=e["background-color"];t&&t.value&&(n.bleedBox.style.backgroundColor=t.value.stringValue())}o&&Object.keys(Ec).forEach(e=>{const t=Ec[e],n=function(e,t,n,i,o,s){let r=i;r<=o+2*Pe.mm&&(r=o+i/2);const a=Math.max(i,r),l=o+a+n/2,h=bc(e,l,l);let c=[[0,o+i],[i,o+i],[i,o+i-r]],u=c.map(e=>[e[1],e[0]]);t!==Ec.TOP_RIGHT&&t!==Ec.BOTTOM_RIGHT||(c=c.map(e=>[o+a-e[0],e[1]]),u=u.map(e=>[o+a-e[0],e[1]])),t!==Ec.BOTTOM_LEFT&&t!==Ec.BOTTOM_RIGHT||(c=c.map(e=>[e[0],o+a-e[1]]),u=u.map(e=>[e[0],o+a-e[1]]));const d=wc(e,n);d.setAttribute("points",c.map(e=>e.join(",")).join(" ")),h.appendChild(d);const p=wc(e,n);return p.setAttribute("points",u.map(e=>e.join(",")).join(" ")),h.appendChild(p),t.split(" ").forEach(e=>{h.style[e]=`${s}px`}),h}(l,t,c,d,h,u);a.appendChild(n)}),s&&Object.keys(yc).forEach(e=>{const t=yc[e],n=function(e,t,n,i,o){const s=2*i;let r,a;t===yc.TOP||t===yc.BOTTOM?(r=s,a=i):(r=i,a=s);const l=bc(e,r,a),h=wc(e,n);h.setAttribute("points",`0,${a/2} ${r},${a/2}`),l.appendChild(h);const c=wc(e,n);c.setAttribute("points",`${r/2},0 ${r/2},${a}`),l.appendChild(c);const u=wc(e,n,"circle");let d;switch(u.setAttribute("cx",r/2),u.setAttribute("cy",a/2),u.setAttribute("r",i/4),l.appendChild(u),t){case yc.TOP:d=yc.BOTTOM;break;case yc.BOTTOM:d=yc.TOP;break;case yc.LEFT:d=yc.RIGHT;break;case yc.RIGHT:d=yc.LEFT}return Object.keys(yc).forEach(e=>{const n=yc[e];n===t?l.style[n]=`${o}px`:n!==d&&(l.style[n]="0",l.style[`margin-${n}`]="auto")}),l}(l,t,c,d,u);a.appendChild(n)})}(s,t,e,this),a=t.bleedOffset+t.bleed}const l=!o&&r.getProp(i,"writing-mode")||Mt.horizontal_tb;this.pageVertical=l!=Mt.horizontal_tb;const h=r.getProp(i,"direction")||Mt.ltr,c=new ra(i.rootPageFloatLayoutContext,ea.PAGE,null,null,null,l,h),u=di("layoutNextPage");return u.loopWithFrame(t=>{i.layoutContainer(e,r,e.bleedBox,a,a,[],c).then(()=>{c.isInvalidated()||c.finish(),c.isInvalidated()?(i.currentLayoutPosition=i.layoutPositionAtPageStart.clone(),c.validate(),t.continueLoop()):t.breakLoop()})}).then(()=>{if(r.adjustPageLayout(i,e,i.clientLayout),!o){const o=new nt(r.pageBox.scope,"left-page");e.side=o.evaluate(i)?t.PageSide.LEFT:t.PageSide.RIGHT,i.processLinger(),n=i.currentLayoutPosition,Object.keys(n.flowPositions).forEach(e=>{const t=n.flowPositions[e],o=t.breakAfter;!o||"page"!==o&&i.matchPageSide(o)||(t.breakAfter=null)})}i.currentLayoutPosition=i.layoutPositionAtPageStart=null,n.highestSeenOffset=i.styler.getReachedOffset();const s=i.style.store.getTriggersForDoc(i.xmldoc);e.finish(s,i.clientLayout),i.noMorePrimaryFlows(n)&&(n=null),u.finish(n)}),u.result()}setPageSizeAndBleed(e,t){this.actualPageWidth=e.pageWidth,this.actualPageHeight=e.pageHeight,this.pageSheetWidth=e.pageWidth+2*e.cropOffset,this.pageSheetHeight=e.pageHeight+2*e.cropOffset,t.container.style.width=`${this.pageSheetWidth}px`,t.container.style.height=`${this.pageSheetHeight}px`,t.bleedBox.style.left=`${e.bleedOffset}px`,t.bleedBox.style.right=`${e.bleedOffset}px`,t.bleedBox.style.top=`${e.bleedOffset}px`,t.bleedBox.style.bottom=`${e.bleedOffset}px`,t.bleedBox.style.padding=`${e.bleed}px`,t.bleedBox.style.paddingTop=`${e.bleed+.01}px`}}class uu extends Ms{constructor(e,t,n,i){super(e.rootScope,e,t,n,i,e.validatorSet,!n),this.masterHandler=e,this.insideRegion=!1}startPageTemplateRule(){}startPageMasterRule(e,t,n){const i=new zh(this.masterHandler.pageScope,e,t,n,this.masterHandler.rootBox,this.condition,this.owner.getBaseSpecificity());this.masterHandler.pushHandler(new lc(i.scope,this.masterHandler,i,this.validatorSet))}startWhenRule(e){let t=e.expr;null!=this.condition&&(t=ct(this.scope,this.condition,t)),this.masterHandler.pushHandler(new uu(this.masterHandler,t,this,this.regionId))}startDefineRule(){this.masterHandler.pushHandler(new Hs(this.scope,this.owner))}startFontFaceRule(){const e={};this.masterHandler.fontFaces.push({properties:e,condition:this.condition}),this.masterHandler.pushHandler(new $s(this.scope,this.owner,null,e,this.masterHandler.validatorSet))}startFlowRule(e){let t=this.masterHandler.flowProps[e];t||(t={},this.masterHandler.flowProps[e]=t),this.masterHandler.pushHandler(new $s(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startViewportRule(){const e={};this.masterHandler.viewportProps.push(e),this.masterHandler.pushHandler(new $s(this.scope,this.owner,this.condition,e,this.masterHandler.validatorSet))}startFootnoteRule(e){let t=this.masterHandler.footnoteProps;if(e){const n=Fo(t,"_pseudos");t=n[e],t||(t={},n[e]=t)}this.masterHandler.pushHandler(new $s(this.scope,this.owner,null,t,this.masterHandler.validatorSet))}startRegionRule(){this.insideRegion=!0,this.startSelectorRule()}startPageRule(){const e=new Hc(this.masterHandler.pageScope,this.masterHandler,this,this.validatorSet,this.masterHandler.pageProps);this.masterHandler.pushHandler(e),e.startPageRule()}startRuleBody(){if(Ms.prototype.startRuleBody.call(this),this.insideRegion){this.insideRegion=!1;const e=`R${this.masterHandler.regionCount++}`;this.special("region-id",Tt(e)),this.endRule();const t=new uu(this.masterHandler,this.condition,this,e);this.masterHandler.pushHandler(t),t.startRuleBody()}}}function du(e){let t=e.getAttribute("content");if(!t)return"";const n={};let i;for(;null!=(i=t.match(/^,?\s*([-A-Za-z_.][-A-Za-z_0-9.]*)\s*=\s*([-+A-Za-z_0-9.]*)\s*/));)t=t.substr(i[0].length),n[i[1]]=i[2];const o=n.width-0,s=n.height-0;return o&&s?`@-epubx-viewport{width:${o}px;height:${s}px;}`:""}class pu extends Di{constructor(e){super(),this.validatorSet=e,this.regionCount=0,this.fontFaces=[],this.footnoteProps={},this.flowProps={},this.viewportProps=[],this.pageProps={},this.rootScope=new xe(null),this.pageScope=new xe(this.rootScope),this.rootBox=new Mh(this.rootScope),this.cascadeParserHandler=new uu(this,null,null,null),this.slave=this.cascadeParserHandler}error(e,t){c.warn("CSS parser:",e)}}function fu(e,t){return t.parseOPSResource(e)}class gu extends Ri{constructor(e){super(fu,Ii.DOCUMENT),this.fontDeobfuscator=e,this.styleByKey={},this.styleFetcherByKey={},this.styleByDocURL={},this.triggersByDocURL={},this.validatorSet=null,this.styleSheets=[],this.triggerSingleDocumentPreprocessing=!1}init(e,t){this.setStyleSheets(e,t);const n=k("user-agent.xml",O),i=di("OPSDocStore.init");return this.validatorSet=Ph(),lu.get().then(()=>{this.load(n).then(()=>{this.triggerSingleDocumentPreprocessing=!0,i.finish(!0)})}),i.result()}getStyleForDoc(e){return this.styleByDocURL[e.url]}getTriggersForDoc(e){return this.triggersByDocURL[e.url]}setStyleSheets(e,t){this.clearStyleSheets(),e&&e.forEach(this.addAuthorStyleSheet,this),t&&t.forEach(this.addUserStyleSheet,this)}clearStyleSheets(){this.styleSheets.splice(0)}addAuthorStyleSheet(e){let t=e.url;t&&(t=k(L(t),P)),this.styleSheets.push({url:t,text:e.text,flavor:Pi.AUTHOR,classes:null,media:null})}addUserStyleSheet(e){let t=e.url;t&&(t=k(L(t),P)),this.styleSheets.push({url:t,text:e.text,flavor:Pi.USER,classes:null,media:null})}parseOPSResource(e){const n=di("OPSDocStore.load"),i=this,o=e.url,s=o.endsWith("?viv-toc-box");return ou(e,i).then(e=>{if(!e)return void n.finish(null);if(i.triggerSingleDocumentPreprocessing){const n=g(t.HOOKS.PREPROCESS_SINGLE_DOCUMENT);for(let t=0;t<n.length;t++)try{n[t](e.document)}catch(e){c.warn("Error during single document preprocessing:",e)}}const r=[],a=e.document.getElementsByTagNameNS(F.epub,"trigger");for(let e=0;e<a.length;e++){const t=a[e],n=t.getAttributeNS(F.EV,"observer"),i=t.getAttributeNS(F.EV,"event"),o=t.getAttribute("action"),s=t.getAttribute("ref");n&&i&&o&&s&&r.push({observer:n,event:i,action:o,ref:s})}i.triggersByDocURL[o]=r;const l=[],h=k("user-agent-page.css",O);l.push({url:h,text:'@namespace html "http://www.w3.org/1999/xhtml";\n@namespace fb2 "http://www.gribuser.ru/xml/fictionbook/2.0";\n\nhtml|body,\nfb2|body {\n  hyphens: -epubx-expr(pref-hyphenate? "auto": "manual");\n}\n\n@-adapt-footnote-area {\n  display: block;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n}\n\n@-adapt-footnote-area ::before {\n  display: block;\n  border-block-start-width: 1px;\n  border-block-start-style: solid;\n  border-block-start-color: black;\n  margin-block-end: 0.4em;\n  margin-inline-start: 0;\n  margin-inline-end: 60%;\n}\n\n/* default page master */\n@-epubx-page-master :background-host {\n  @-epubx-partition :layout-host {\n    -epubx-flow-from: body;\n    top: -epubx-expr(header.margin-bottom-edge);\n    bottom: -epubx-expr(page-height - footer.margin-top-edge);\n    left: 0px;\n    right: 0px;\n    column-width: 25em;\n  }\n  @-epubx-partition footer :oeb-page-foot {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-foot;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n  }\n  @-epubx-partition header :oeb-page-head {\n    writing-mode: horizontal-tb;\n    -epubx-flow-from: oeb-page-head;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n  }\n}\n\n@page {\n  @top-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @top-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @top-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @top-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @left-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @left-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @left-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @right-top {\n    text-align: center;\n    vertical-align: top;\n  }\n  @right-middle {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @right-bottom {\n    text-align: center;\n    vertical-align: bottom;\n  }\n  @bottom-left-corner {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-left {\n    text-align: left;\n    vertical-align: middle;\n  }\n  @bottom-center {\n    text-align: center;\n    vertical-align: middle;\n  }\n  @bottom-right {\n    text-align: right;\n    vertical-align: middle;\n  }\n  @bottom-right-corner {\n    text-align: left;\n    vertical-align: middle;\n  }\n}\n\n@media print {\n  @page {\n    margin: 10%;\n  }\n}\n',flavor:Pi.USER_AGENT,classes:null,media:null});const u=e.head;if(!s&&u)for(let e=u.firstChild;e;e=e.nextSibling){if(1!=e.nodeType)continue;const t=e,n=t.namespaceURI,i=t.localName;if(n==F.XHTML)if("style"==i){const e=t.getAttribute("class"),n=t.getAttribute("media"),i=t.getAttribute("title");l.push({url:o,text:t.textContent,flavor:Pi.AUTHOR,classes:i?e:null,media:n})}else if("link"==i){const e=t.getAttribute("rel"),n=t.getAttribute("class"),i=t.getAttribute("media");if("stylesheet"==e||"alternate stylesheet"==e&&n){let e=t.getAttribute("href");e=k(e,o);const s=t.getAttribute("title");l.push({url:e,text:null,classes:s?n:null,media:i,flavor:Pi.AUTHOR})}}else"meta"==i&&"viewport"==t.getAttribute("name")&&l.push({url:o,text:du(t),flavor:Pi.AUTHOR,classes:null,media:null});else if(n==F.FB2)"stylesheet"==i&&"text/css"==t.getAttribute("type")&&l.push({url:o,text:t.textContent,flavor:Pi.AUTHOR,classes:null,media:null});else if(n==F.SSE&&"property"===i){const e=t.getElementsByTagName("name")[0];if(e&&"stylesheet"===e.textContent){const e=t.getElementsByTagName("value")[0];if(e){const t=k(e.textContent,o);l.push({url:t,text:null,classes:null,media:null,flavor:Pi.AUTHOR})}}}}if(!s)for(let e=0;e<i.styleSheets.length;e++)l.push(i.styleSheets[e]);let d="";for(let e=0;e<l.length;e++)d+=l[e].url,d+="^",l[e].text&&(d+=l[e].text),d+="^";let p=i.styleByKey[d];if(p)return i.styleByDocURL[o]=p,void n.finish(e);let f=i.styleFetcherByKey[d];f||(f=new Ci(()=>{const e=di("fetchStylesheet");let t=0;const n=new pu(i.validatorSet);return e.loop(()=>{if(t<l.length){const e=l[t++];return n.startStylesheet(e.flavor),null!==e.text?no(e.text,n,e.url,e.classes,e.media).thenReturn(!0):io(e.url,n,e.classes,e.media)}return pi(!1)}).then(()=>{const t=n.cascadeParserHandler.finish();p=new hu(i,n.rootScope,n.pageScope,t,n.rootBox,n.fontFaces,n.footnoteProps,n.flowProps,n.viewportProps,n.pageProps),i.styleByKey[d]=p,delete i.styleFetcherByKey[d],e.finish(p)}),e.result()},`FetchStylesheet ${o}`),i.styleFetcherByKey[d]=f,f.start()),f.get().then(t=>{i.styleByDocURL[o]=t,n.finish(e)})}),n.result()}}function mu(e){return String.fromCharCode(e>>>24&255,e>>>16&255,e>>>8&255,255&e)}function bu(e){return(255&e.charCodeAt(0))<<24|(255&e.charCodeAt(1))<<16|(255&e.charCodeAt(2))<<8|255&e.charCodeAt(3)}function wu(e){const t=new G;t.append(e);let n=55-e.length&63;for(t.append("");n>0;)n--,t.append("\0");t.append("\0\0\0\0"),t.append(mu(8*e.length)),e=t.toString();const i=[1732584193,4023233417,2562383102,271733878,3285377520],o=[];let s;for(let t=0;t<e.length;t+=64){for(s=0;s<16;s++)o[s]=bu(e.substr(t+4*s,4));for(;s<80;s++){const e=o[s-3]^o[s-8]^o[s-14]^o[s-16];o[s]=e<<1|e>>>31}let n,r=i[0],a=i[1],l=i[2],h=i[3],c=i[4];for(s=0;s<80;s++)n=s<20?1518500249+(a&l|~a&h):s<40?1859775393+(a^l^h):s<60?2400959708+(a&l|a&h|l&h):3395469782+(a^l^h),n+=(r<<5|r>>>27)+c+o[s],c=h,h=l,l=a<<30|a>>>2,a=r,r=n;i[0]=i[0]+r|0,i[1]=i[1]+a|0,i[2]=i[2]+l|0,i[3]=i[3]+h|0,i[4]=i[4]+c|0}return i}class Eu{constructor(e,t,n,i,o,s,r,a,l,h){this.store=e,this.url=t,this.lang=n,this.clientLayout=i,this.fontMapper=o,this.rendererFactory=r,this.fallbackMap=a,this.documentURLTransformer=l,this.counterStore=h,this.page=null,this.instance=null,this.pref=we(s),this.pref.spreadView=!1}setAutoHeight(e,t){if(0!=t--)for(let n=e.firstChild;n;n=n.nextSibling)if(1==n.nodeType){const e=n;"auto"!=H(e,"height","auto")&&(V(e,"height","auto"),this.setAutoHeight(e,t)),"absolute"==H(e,"position","static")&&(V(e,"position","relative"),this.setAutoHeight(e,t))}}makeCustomRenderer(e){const t=this.rendererFactory.makeCustomRenderer(e);return(e,n,i)=>{const o=i.behavior;if(o)switch(o.toString()){case"body-child":e.parentElement.getAttribute("data-vivliostyle-primary-entry")&&(e.querySelector("[role=doc-toc], [role=directory], nav li a, .toc, #toc")||(i.display=Mt.none));break;case"toc-node-anchor":i.color=Mt.inherit,i["text-decoration"]=Mt.none;break;case"toc-node":i.display=Mt.block,i.margin=Ht,i.padding=Ht,i["padding-inline-start"]=new xt(1.25,"em");break;case"toc-node-first-child":i.display=Mt.inline_block,i.margin=new xt(.2,"em"),i["vertical-align"]=Mt.top,i.color=Mt.inherit,i["text-decoration"]=Mt.none}if(!o||"toc-node"!=o.toString()&&"toc-container"!=o.toString())return t(e,n,i);const s=e.firstChild;s&&1!==s.nodeType&&""===s.textContent.trim()&&e.replaceChild(e.ownerDocument.createComment(s.textContent),s);const r=n.getAttribute("data-adapt-class");if("toc-node"==r){const e=n.firstChild;"▸"!=e.textContent&&(e.textContent="▸",V(e,"cursor","pointer"),e.addEventListener("click",yu,!1),e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),n.setAttribute("aria-expanded","false"),"0px"!==n.style.height&&(e.tabIndex=0))}const a=n.ownerDocument.createElement("div");if(a.setAttribute("data-adapt-process-children","true"),"toc-node"==o.toString()){const t=n.ownerDocument.createElement("div");if(t.textContent="▹",V(t,"margin","0.2em 0 0 -1em"),V(t,"margin-inline-start","-1em"),V(t,"margin-inline-end","0"),V(t,"display","inline-block"),V(t,"width","1em"),V(t,"text-align","center"),V(t,"vertical-align","top"),V(t,"cursor","default"),V(t,"font-family","Menlo,sans-serif"),a.appendChild(t),V(a,"overflow","hidden"),a.setAttribute("data-adapt-class","toc-node"),a.setAttribute("role","treeitem"),"toc-node"==r||"toc-container"==r){V(a,"height","0px");const t=e.firstElementChild;t&&"a"===t.localName&&(t.tabIndex=-1)}else n.setAttribute("role","tree")}else"toc-node"==r&&(a.setAttribute("data-adapt-class","toc-container"),a.setAttribute("role","group"),a.setAttribute("aria-hidden","true"));return pi(a)}}showTOC(e,t,n,i,o){if(this.page)return pi(this.page);const s=this,r=di("showTOC"),a=new Or(e,e);this.page=a;const l=this.url+"?viv-toc-box";return this.store.load(l).then(i=>{const l=this.store.resources[this.url];l&&l.body&&l.body.getAttribute("data-vivliostyle-primary-entry")&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const h=s.store.getStyleForDoc(i),c=h.sizeViewport(n,1e5,o);t=new eu(t.window,c.fontSize,t.root,c.width,c.height);const u=s.makeCustomRenderer(i),d=new cu(h,i,s.lang,t,s.clientLayout,s.fontMapper,u,s.fallbackMap,0,s.documentURLTransformer,s.counterStore);s.instance=d,d.pref=s.pref,d.init().then(()=>{d.layoutNextPage(a,null).then(()=>{Array.from(a.container.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*[style*='display: none']")).forEach(e=>{e.setAttribute("aria-hidden","true"),e.setAttribute("hidden","hidden")}),s.setAutoHeight(e,2),r.finish(a)})})}),r.result()}hideTOC(){this.page&&(this.page.container.style.visibility="hidden",this.page.container.setAttribute("aria-hidden","true"))}isTOCVisible(){return!!this.page&&"visible"===this.page.container.style.visibility}getTOC(){if(!this.page)return[];function e(e){if(!e)return[];const n=e.querySelectorAll(":scope > [role=treeitem] > a[href]");return Array.from(n).map(t)}function t(t){const n=new URL(t.href),[,i]=n.hash.match(/^#(.*)$/);return{id:i,title:t.innerText,children:e(t.parentElement.querySelector("[role=group]"))}}return e(this.page.container.querySelector("[role=tree]"))}}function yu(e){const t=e.target,n="▸"==t.textContent;t.textContent=n?"▾":"▸";const i=t.parentNode;t.setAttribute("aria-expanded",n?"true":"false"),i.setAttribute("aria-expanded",n?"true":"false");let o=i.firstChild;for(;o;){if(1===o.nodeType){const e=o,t=e.getAttribute("data-adapt-class");if("toc-container"===t){if(e.setAttribute("aria-hidden",n?"false":"true"),e.firstChild){o=e.firstChild;continue}}else if("toc-node"===t&&(e.style.height=n?"auto":"0px",e.children.length>=2&&(e.children[1].tabIndex=n?0:-1),e.children.length>=3&&(e.children[0].tabIndex=n?0:-1,!n))){const t=e.children[0];if("▾"==t.textContent){t.textContent="▸",t.setAttribute("aria-expanded","false"),e.setAttribute("aria-expanded","false"),o=e.children[2];continue}}}for(;!o.nextSibling&&o.parentNode!==i;)o=o.parentNode;o=o.nextSibling}e.stopPropagation()}class Su extends gu{constructor(){super(null),this.opfByURL={},this.primaryOPFByEPubURL={},this.deobfuscators={},this.documents={},this.fontDeobfuscator=this.makeDeobfuscatorFactory(),this.plainXMLStore=new Ri(ou,Ii.DOCUMENT),this.jsonStore=new Ri(ki,Ii.TEXT)}makeDeobfuscatorFactory(){const e=this;return t=>e.deobfuscators[t]}loadAsPlainXML(e,t,n){return this.plainXMLStore.load(e,t,n)}startLoadingAsPlainXML(e){this.plainXMLStore.fetch(e)}loadAsJSON(e,t,n){return this.jsonStore.load(e,t,n)}startLoadingAsJSON(e){this.jsonStore.fetch(e)}loadPubDoc(e,t){const n=di("loadPubDoc");return Ai(e,null,"HEAD").then(i=>{if(i.status>=400)this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(c.error(`Failed to fetch a source document from ${e} (${i.status}${i.statusText?" "+i.statusText:""})`),n.finish(null))});else if(i.status||i.responseXML||i.responseText||i.responseBlob||i.contentType||/\/[^/.]+(?:[#?]|$)/.test(e)&&(e=e.replace(/([#?]|$)/,"/$1")),"application/oebps-package+xml"==i.contentType||/\.opf(?:[#?]|$)/.test(e)){const[,i,o]=e.match(/^((?:.*\/)?)([^/]*)$/);this.loadOPF(i,o,t).thenFinish(n)}else"application/ld+json"==i.contentType||"application/webpub+json"==i.contentType||"application/audiobook+json"==i.contentType||"application/json"==i.contentType||/\.json(?:ld)?(?:[#?]|$)/.test(e)?this.loadAsJSON(e,!0).then(t=>{if(!t)return c.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`),void n.finish(null);const i=new Ou(this,e);i.initWithWebPubManifest(t).then(()=>{n.finish(i)})}):this.loadWebPub(e).then(i=>{i?n.finish(i):this.loadEPUBDoc(e,t).then(t=>{t?n.finish(t):(c.error(`Failed to load ${e}.`),n.finish(null))})})}),n.result()}loadEPUBDoc(e,t){const n=di("loadEPUBDoc");e.endsWith("/")||(e+="/"),t&&this.startLoadingAsJSON(e+"?r=list"),this.startLoadingAsPlainXML(e+"META-INF/encryption.xml");const i=e+"META-INF/container.xml";return this.loadAsPlainXML(i).then(i=>{if(i){const o=i.doc().child("container").child("rootfiles").child("rootfile").attribute("full-path");for(const i of o)if(i)return void this.loadOPF(e,i,t).thenFinish(n);n.finish(null)}}),n.result()}loadOPF(e,t,n){const i=this,o=e+t;let s=i.opfByURL[o];if(s)return pi(s);const r=di("loadOPF");return i.loadAsPlainXML(o,!0,`Failed to fetch EPUB OPF ${o}`).then(t=>{t?i.loadAsPlainXML(`${e}META-INF/encryption.xml`).then(a=>{(n?i.loadAsJSON(`${e}?r=list`):pi(null)).then(n=>{s=new Ou(i,e),s.initWithXMLDoc(t,a,n,`${e}?r=manifest`).then(()=>{i.opfByURL[o]=s,i.primaryOPFByEPubURL[e]=s,r.finish(s)})})}):c.error(`Received an empty response for EPUB OPF ${o}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),r.result()}loadWebPub(e){const t=di("loadWebPub");return this.load(e).then(n=>{if(n)if(n.document.querySelector("a[href='META-INF/'],a[href$='/META-INF/']"))t.finish(null);else{const i=n.document,o=new Ou(this,e);i.body&&i.body.setAttribute("data-vivliostyle-primary-entry",!0);const s=i.querySelector("link[rel='publication'],link[rel='manifest'][type='application/webpub+json']");if(s){const n=s.getAttribute("href");if(/^#/.test(n)){const e=x(i.getElementById(n.substr(1)).textContent);o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})}else this.loadAsJSON(k(s.getAttribute("href"),e)).then(e=>{o.initWithWebPubManifest(e,i).then(()=>{t.finish(o)})})}else o.initWithWebPubManifest({},i).then(()=>{o.xhtmlToc&&o.xhtmlToc.src===n.url&&(i.querySelector("[role=doc-toc], [role=directory], nav, .toc, #toc")||(o.xhtmlToc=null)),t.finish(o)})}else c.error(`Received an empty response for ${e}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),t.result()}addDocument(e,t){const n=di("EPUBDocStore.load"),i=I(e);return(this.documents[i]=this.parseOPSResource({status:200,statusText:"",url:i,contentType:t.contentType,responseText:null,responseXML:t,responseBlob:null})).thenFinish(n),n.result()}load(e){const t=I(e);let n=this.documents[t];if(n)return n.isPending()?n:pi(n.get());{const e=di("EPUBDocStore.load");return n=super.load(t,!0,`Failed to fetch a source document from ${t}`),n.then(n=>{n?e.finish(n):t.startsWith("data:")?c.error(`Failed to load ${t}. Invalid data.`):t.startsWith("http:")&&P.startsWith("https:")?c.error(`Failed to load ${t}. Mixed Content ("http:" content on "https:" context) is not allowed.`):c.error(`Received an empty response for ${t}. This may be caused by the server not allowing cross-origin resource sharing (CORS).`)}),e.result()}}}class Nu{constructor(){this.id=null,this.src="",this.mediaType=null,this.title=null,this.itemRefElement=null,this.spineIndex=-1,this.compressedSize=0,this.compressed=null,this.epage=0,this.epageCount=0,this.startPage=null,this.skipPagesBefore=null,this.itemProperties=T}initWithElement(e,t){this.id=e.getAttribute("id"),this.src=k(e.getAttribute("href"),t),this.mediaType=e.getAttribute("media-type");const n=e.getAttribute("properties");n&&(this.itemProperties=function(e){const t={};for(let n=0;n<e.length;n++)t[e[n]]=!0;return t}(n.split(/\s+/)))}initWithParam(e){this.spineIndex=e.index,this.id=`item${e.index+1}`,this.src=e.url,this.startPage=e.startPage,this.skipPagesBefore=e.skipPagesBefore}}function vu(e){return e.id}const Cu={dcterms:"http://purl.org/dc/terms/",marc:"http://id.loc.gov/vocabulary/",media:"http://www.idpf.org/epub/vocab/overlays/#",rendition:"http://www.idpf.org/vocab/rendition/#",onix:"http://www.editeur.org/ONIX/book/codelists/current.html#",xsd:"http://www.w3.org/2001/XMLSchema#",opf:"http://www.idpf.org/2007/opf"},Tu="http://idpf.org/epub/vocab/package/meta/#",xu={language:`${Cu.dcterms}language`,title:`${Cu.dcterms}title`,creator:`${Cu.dcterms}creator`,layout:`${Cu.rendition}layout`,titleType:`${Tu}title-type`,displaySeq:`${Tu}display-seq`,alternateScript:`${Tu}alternate-script`,role:`${Tu}role`};function Iu(e,t){const n={};return(i,o)=>{var s,r,a,l,h,c;let u,d;const p=i.r||n,f=o.r||n;if(e==xu.title&&(u="main"==(null===(s=p[xu.titleType])||void 0===s?void 0:s[0].v),d="main"==(null===(r=f[xu.titleType])||void 0===r?void 0:r[0].v),u!=d))return u?-1:1;let g=parseInt(null===(a=p[xu.displaySeq])||void 0===a?void 0:a[0].v,10);isNaN(g)&&(g=Number.MAX_VALUE);let m=parseInt(null===(l=f[xu.displaySeq])||void 0===l?void 0:l[0].v,10);return isNaN(m)&&(m=Number.MAX_VALUE),g!=m?g-m:e!=xu.language&&t&&(u=(null===(h=p[xu.language]||p[xu.alternateScript])||void 0===h?void 0:h[0].v)==t,d=(null===(c=f[xu.language]||f[xu.alternateScript])||void 0===c?void 0:c[0].v)==t,u!=d)?u?-1:1:i.o-o.o}}function Pu(){const e=window.MathJax;return e?e.Hub:null}const Au={"application/xhtml+xml":!0,"image/jpeg":!0,"image/png":!0,"image/svg+xml":!0,"image/gif":!0,"audio/mp3":!0};class Ou{constructor(e,t){this.store=e,this.pubURL=t,this.opfXML=null,this.encXML=null,this.items=null,this.spine=null,this.itemMap=null,this.itemMapByPath=null,this.uid=null,this.bindings={},this.lang=null,this.epageCount=0,this.prePaginated=!1,this.epageIsRenderedPage=!0,this.epageCountCallback=null,this.metadata={},this.ncxToc=null,this.xhtmlToc=null,this.cover=null,this.fallbackMap={},this.pageProgression=null,this.documentURLTransformer=this.createDocumentURLTransformer(),Pu()&&(go[F.MATHML]=!0)}createDocumentURLTransformer(){const e=this;return new class{transformFragment(e,t){return"viv-id-"+q(t+(e?`#${e}`:""),":")}transformURL(t,n){const i=t.match(/^([^#]*)#?(.*)$/);if(i){const t=i[1]||n,o=i[2];if(t&&e.items.some(e=>e.src===t))return`#${this.transformFragment(o,t)}`}return t}restoreURL(e){"#"===e.charAt(0)&&(e=e.substring(1)),0===e.indexOf("viv-id-")&&(e=e.substring("viv-id-".length));const t=function(e,t){t="string"==typeof t?t:"\\u";const n=new RegExp(`${Z(t)}[0-9a-fA-F]{4}`,"g");return e.replace(n,(function(e){return function(e,t){return t="string"==typeof t?t:"\\u",0===e.indexOf(t)?String.fromCharCode(parseInt(e.substring(t.length),16)):e}(e,t)}))}(e,":").match(/^([^#]*)#?(.*)$/);return t?[t[1],t[2]]:[]}}}getMetadata(){return this.metadata}getPathFromURL(e){if(e.startsWith("data:"))return e===this.pubURL?"":e;if(this.pubURL){let t=k("",this.pubURL);return e===t||e+"/"===t?"":("/"!=t.charAt(t.length-1)&&(t+="/"),e.substr(0,t.length)==t?decodeURI(e.substr(t.length)):null)}return e}initWithXMLDoc(e,t,n,o){const s=this;this.opfXML=e,this.encXML=t;const r=e.doc().child("package"),a=r.attribute("unique-identifier")[0];if(a){const t=e.getElement(`${e.url}#${a}`);t&&(this.uid=t.textContent.replace(/[ \n\r\t]/g,""))}const l={};this.items=r.child("manifest").child("item").asArray().map(t=>{const n=new Nu,i=t;n.initWithElement(i,e.url);const o=i.getAttribute("fallback");return o&&!Au[n.mediaType]&&(l[n.src]=o),!s.xhtmlToc&&n.itemProperties.nav&&(s.xhtmlToc=n),!s.cover&&n.itemProperties["cover-image"]&&(s.cover=n),n}),this.itemMap=ee(this.items,vu),this.itemMapByPath=ee(this.items,e=>s.getPathFromURL(e.src));for(const e in l){let t=e;for(;;){const n=this.itemMap[l[t]];if(!n)break;if(Au[n.mediaType]){this.fallbackMap[e]=n.src;break}t=n.src}}this.spine=r.child("spine").child("itemref").asArray().map((e,t)=>{const n=e,i=n.getAttribute("idref"),o=s.itemMap[i];return o&&(o.itemRefElement=n,o.spineIndex=t),o});const h=r.child("spine").attribute("toc")[0];h&&(this.ncxToc=this.itemMap[h]);const c=r.child("spine").attribute("page-progression-direction")[0];c&&(this.pageProgression=i(c));const u=t?t.doc().child("encryption").child("EncryptedData").predicate(ru.withChild("EncryptionMethod",ru.withAttribute("Algorithm","http://www.idpf.org/2008/embedding"))).child("CipherData").child("CipherReference").attribute("URI"):[],d=r.child("bindings").child("mediaType").asArray();for(let e=0;e<d.length;e++){const t=d[e].getAttribute("handler"),n=d[e].getAttribute("media-type");n&&t&&this.itemMap[t]&&(this.bindings[n]=this.itemMap[t].src)}if(this.metadata=function(e,t){let n;if(t){n={};for(const e in Cu)n[e]=Cu[e];let e;for(;null!=(e=t.match(/^\s*([A-Z_a-z\u007F-\uFFFF][-.A-Z_a-z0-9\u007F-\uFFFF]*):\s*(\S+)/));)t=t.substr(e[0].length),n[e[1]]=e[2]}else n=Cu;const i=e=>{if(e){const t=e.match(/^\s*(([^:]*):)?(\S+)\s*$/);if(t){const e=t[2]?n[t[2]]:Tu;if(e)return e+t[3]}}return null};let o=1;const s=e.childElements().forEachNonNull(e=>{if("meta"==e.localName){const t=i(e.getAttribute("property"));if(t)return{name:t,value:e.textContent,id:e.getAttribute("id"),order:o++,refines:e.getAttribute("refines"),lang:null,scheme:i(e.getAttribute("scheme")),role:null}}else if(e.namespaceURI==F.DC)return{name:Cu.dcterms+e.localName,order:o++,lang:e.getAttribute("xml:lang"),value:e.textContent,id:e.getAttribute("id"),refines:null,scheme:null,role:e.getAttribute("role")||e.getAttribute("opf:role")};return null}),r=te(s,e=>e.refines),a=e=>function(e,t){const n={};for(const i in e)n[i]=t(e[i],i);return n}(e,(e,t)=>e.map(e=>{const t={v:e.value,o:e.order};e.scheme&&(t.s=e.scheme);let n=r[`#${e.id}`]||[];if(n.length||e.lang||e.role){e.lang&&n.push({name:xu.language,value:e.lang,lang:null,id:null,refines:e.id,scheme:null,order:e.order,role:null}),e.role&&n.push({name:xu.role,value:e.role,lang:null,id:null,refines:e.id,scheme:null,order:e.order,role:null});const i=te(n,e=>e.name);t.r=a(i)}return t})),l=a(te(s,e=>e.refines?null:e.name));let h=null;l[xu.language]&&(h=l[xu.language][0].v);const c=e=>{for(const t in e){const n=e[t];n.sort(Iu(t,h));for(let e=0;e<n.length;e++){const t=n[e].r;t&&c(t)}}};return c(l),l}(r.child("metadata"),r.attribute("prefix")[0]),this.metadata[xu.language]&&(this.lang=this.metadata[xu.language][0].v),this.metadata[xu.layout]&&(this.prePaginated="pre-paginated"===this.metadata[xu.layout][0].v),!n){if(u.length>0&&this.uid){const e=function(e){const t=function(e){const t=wu(e),n=[];for(const e of t)n.push(e>>>24&255,e>>>16&255,e>>>8&255,255&e);return n}(e);return e=>{const n=di("deobfuscator");let i,o;return e.slice?(i=e.slice(0,1040),o=e.slice(1040,e.size)):(i=e.webkitSlice(0,1040),o=e.webkitSlice(1040,e.size-1040)),function(e){const t=di("readBlob"),n=new FileReader,i=t.suspend(n);return n.addEventListener("load",()=>{i.schedule(n.result)},!1),n.readAsArrayBuffer(e),t.result()}(i).then(e=>{const i=new DataView(e);for(let e=0;e<i.byteLength;e++){let n=i.getUint8(e);n^=t[e%20],i.setUint8(e,n)}n.finish(Oi([i,o]))}),n.result()}}(this.uid);for(let t=0;t<u.length;t++)this.store.deobfuscators[this.pubURL+u[t]]=e}return this.prePaginated&&this.assignAutoPages(),pi(!0)}const p=new G,f={};if(u.length>0&&this.uid){const e=`1040:${function(e){const t=function(e){const t=wu(e),n=new G;for(let e=0;e<t.length;e++)n.append(mu(t[e]));return n.toString()}(e),n=new G;for(let e=0;e<t.length;e++)n.append((256|t.charCodeAt(e)).toString(16).substr(1));return n.toString()}(this.uid)}`;for(let t=0;t<u.length;t++)f[u[t]]=e}for(let e=0;e<n.length;e++){const t=n[e],i=t.n;if(i){const e=decodeURI(i),n=this.itemMapByPath[e];let o=null;n&&(n.compressed=0!=t.m,n.compressedSize=t.c,n.mediaType&&(o=n.mediaType.replace(/\s+/g,"")));const s=f[e];(o||s)&&(p.append(i),p.append(" "),p.append(o||"application/octet-stream"),s&&(p.append(" "),p.append(s)),p.append("\n"))}}return s.assignAutoPages(),Ai(o,Ii.DEFAULT,"POST",p.toString(),"text/plain")}assignAutoPages(){let e=0;for(const t of this.spine){const n=this.prePaginated?1:Math.ceil(t.compressedSize/1024);t.epage=e,t.epageCount=n,e+=n}this.epageCount=e,this.epageCountCallback&&this.epageCountCallback(this.epageCount)}setEPageCountMode(e){this.epageIsRenderedPage=e||this.prePaginated}countEPages(e){if(this.epageCountCallback=e,this.epageIsRenderedPage)return this.prePaginated&&0==this.epageCount&&this.assignAutoPages(),pi(!0);let t=0,n=0;const i=di("countEPages");return i.loopWithFrame(e=>{if(n===this.spine.length)return void e.breakLoop();const i=this.spine[n++];i.epage=t,this.store.load(i.src).then(n=>{let o=1800;const s=n.lang||this.lang;s&&s.match(/^(ja|ko|zh)/)&&(o/=3),i.epageCount=Math.ceil(n.getTotalOffset()/o),t+=i.epageCount,this.epageCount=t,this.epageCountCallback&&this.epageCountCallback(this.epageCount),e.continueLoop()})}).thenFinish(i),i.result()}initWithChapters(e,t){this.itemMap={},this.itemMapByPath={},this.items=[],this.spine=this.items;const n=this.opfXML=new tu(null,"",(new DOMParser).parseFromString("<spine></spine>","text/xml"));return e.forEach(e=>{const t=new Nu;t.initWithParam(e);const i=n.document.createElement("itemref");i.setAttribute("idref",t.id),n.root.appendChild(i),t.itemRefElement=i,this.itemMap[t.id]=t;let o=this.getPathFromURL(e.url);null==o&&(o=e.url),this.itemMapByPath[o]=t,this.items.push(t)}),t?this.store.addDocument(e[0].url,t):pi(null)}initWithWebPubManifest(e,t){e.readingProgression&&(this.pageProgression=e.readingProgression),void 0===this.metadata&&(this.metadata={});const n=t&&t.title||e.name||e.metadata&&e.metadata.title;n&&(this.metadata[xu.title]=[{v:n}]);const i=this.getPathFromURL(this.pubURL);if(!e.readingOrder&&t&&null!==i){e.readingOrder=[encodeURI(i)];const n="[role=doc-toc] a[href],[role=directory] a[href],nav li a[href],.toc a[href],#toc a[href]";Array.from(t.querySelectorAll(n)).forEach(t=>{const n=I(k(t.getAttribute("href"),this.pubURL)),i=this.getPathFromURL(n),o=null!==i?encodeURI(i):n;-1==e.readingOrder.indexOf(o)&&e.readingOrder.push(o)})}const o=[];let s=0,r=-1;[e.readingOrder,e.resources].forEach(t=>{t instanceof Array&&t.forEach(t=>{const n=e.readingOrder.includes(t),i="string"==typeof t?t:t.url||t.href,a="string"==typeof t?"":t.encodingFormat||t.href&&t.type||"";if(n||"text/html"===a||"application/xhtml+xml"===a||/(^|\/)([^/]+\.(x?html|htm|xht)|[^/.]*)([#?]|$)/.test(i)){const e={url:k(L(i),this.pubURL),index:s++,startPage:null,skipPagesBefore:null};"contents"===t.rel&&-1===r&&(r=e.index),o.push(e)}})});const a=di("initWithWebPubManifest");return this.initWithChapters(o).then(()=>{-1!==r&&(this.xhtmlToc=this.items[r]),this.xhtmlToc||(this.xhtmlToc=this.itemMapByPath[i]),a.finish(!0)}),a.result()}getCFI(e,t){const n=this.spine[e],i=di("getCFI");return this.store.load(n.src).then(e=>{const o=e.getNodeByOffset(t);let s=null;if(o){const i=e.getNodeOffset(o,0,!1),r=t-i,a=new be;a.prependPathFromNode(o,r,!1,null),n.itemRefElement&&a.prependPathFromNode(n.itemRefElement,0,!1,null),s=a.toString()}i.finish(s)}),i.result()}resolveFragment(e){const t=this;return fi("resolveFragment",n=>{if(!e)return void n.finish(null);let i,o=new be;if(o.fromString(e),t.opfXML){const e=o.navigate(t.opfXML.document);if(1!=e.node.nodeType||e.after||!e.ref)return void n.finish(null);const s=e.node,r=s.getAttribute("idref");if("itemref"!=s.localName||!r||!t.itemMap[r])return void n.finish(null);i=t.itemMap[r],o=e.ref}else i=t.spine[0];t.store.load(i.src).then(e=>{const t=o.navigate(e.document),s=e.getNodeOffset(t.node,t.offset,t.after);n.finish({spineIndex:i.spineIndex,offsetInItem:s,pageIndex:-1})})},(t,n)=>{c.warn(n,"Cannot resolve fragment:",e),t.finish(null)})}resolveEPage(e){const t=this;return fi("resolveEPage",n=>{if(e<=0)return void n.finish({spineIndex:0,offsetInItem:0,pageIndex:-1});if(t.epageIsRenderedPage){let i=t.spine.findIndex(t=>0==t.epage&&0==t.epageCount||t.epage<=e&&t.epage+t.epageCount>e);-1==i&&(i=t.spine.length-1);let o=t.spine[i];o&&0!=o.epageCount||(o=t.spine[--i]);const s=Math.floor(e-o.epage);return void n.finish({spineIndex:i,offsetInItem:-1,pageIndex:s})}let i=Q(t.spine.length,n=>{const i=t.spine[n];return i.epage+i.epageCount>e});i==t.spine.length&&i--;const o=t.spine[i];t.store.load(o.src).then(t=>{(e-=o.epage)>o.epageCount&&(e=o.epageCount);let s=0;if(e>0){const n=t.getTotalOffset();s=Math.round(n*e/o.epageCount),s==n&&s--}n.finish({spineIndex:i,offsetInItem:s,pageIndex:-1})})},(t,n)=>{c.warn(n,"Cannot resolve epage:",e),t.finish(null)})}getEPageFromPosition(e){const t=this.spine[e.spineIndex];if(this.epageIsRenderedPage)return pi(t.epage+e.pageIndex);if(e.offsetInItem<=0)return pi(t.epage);const n=di("getEPage");return this.store.load(t.src).then(i=>{const o=i.getTotalOffset(),s=Math.min(o,e.offsetInItem);n.finish(t.epage+s*t.epageCount/o)}),n.result()}}const Ru=(e,t)=>({page:e,position:{spineIndex:e.spineIndex,pageIndex:t,offsetInItem:e.offset}});class ku{constructor(e,t,n,i,o){this.opf=e,this.viewport=t,this.fontMapper=n,this.pageSheetSizeReporter=o,this.spineItems=[],this.spineItemLoadingContinuations=[],this.tocAutohide=!1,this.pref=we(i),this.clientLayout=new Jc(t),this.counterStore=new Tn(e.documentURLTransformer)}getPage(e){const t=this.spineItems[e.spineIndex];return t?t.pages[e.pageIndex]:null}getCurrentPageProgression(e){if(this.opf.pageProgression)return this.opf.pageProgression;{const t=this.spineItems[e?e.spineIndex:0];return t?t.instance.pageProgression:null}}finishPageContainer(e,t,n){t.container.style.display="none",t.container.style.visibility="visible",t.container.style.position="",t.container.style.top="",t.container.style.left="",t.container.setAttribute("data-vivliostyle-page-side",t.side);const i=e.pages[n];if(t.isFirstPage=0==e.item.spineIndex&&0==n,e.pages[n]=t,this.opf.epageIsRenderedPage){if(0==n&&e.item.spineIndex>0){const t=this.opf.spine[e.item.spineIndex-1];e.item.epage=t.epage+t.epageCount}e.item.epageCount=e.pages.length,this.opf.epageCount=this.opf.spine.reduce((e,t)=>e+t.epageCount,0),this.opf.epageCountCallback&&this.opf.epageCountCallback(this.opf.epageCount)}if(i)e.instance.viewport.contentContainer.replaceChild(t.container,i.container),i.dispatchEvent({type:"replaced",target:null,currentTarget:null,preventDefault:null,newPage:t});else{let i=null;if(n>0)i=e.pages[n-1].container.nextElementSibling;else for(let t=e.item.spineIndex+1;t<this.spineItems.length;t++){const e=this.spineItems[t];if(e&&e.pages[0]){i=e.pages[0].container;break}}e.instance.viewport.contentContainer.insertBefore(t.container,i)}this.pageSheetSizeReporter({width:e.instance.pageSheetWidth,height:e.instance.pageSheetHeight},e.instance.pageSheetSize,e.item.spineIndex,e.instance.pageNumberOffset+n)}renderSinglePage(e,t){const n=di("renderSinglePage");let i=this.makePage(e,t);const o=this;return e.instance.layoutNextPage(i,t).then(s=>{const r=(t=s)?t.page-1:e.layoutPositions.length-1;o.finishPageContainer(e,i,r),o.counterStore.finishPage(i.spineIndex,r);let a=null;if(t){const n=e.layoutPositions[t.page];e.layoutPositions[t.page]=t,n&&e.pages[t.page]&&(t.isSamePosition(n)||(a=o.renderSinglePage(e,t)))}a||(a=pi(!0)),a.then(()=>{const s=o.counterStore.getUnresolvedRefsToPage(i);let a=0;n.loopWithFrame(e=>{if(a++,a>s.length)return void e.breakLoop();const t=s[a-1];t.refs=t.refs.filter(e=>!e.isResolved()),0!==t.refs.length?o.getPageViewItem(t.spineIndex).then(n=>{if(!n)return void e.continueLoop();o.counterStore.pushPageCounters(t.pageCounters),o.counterStore.pushReferencesToSolve(t.refs);const s=n.layoutPositions[t.pageIndex];o.renderSinglePage(n,s).then(t=>{o.counterStore.popPageCounters(),o.counterStore.popReferencesToSolve();const n=t.pageAndPosition.position;n.spineIndex===i.spineIndex&&n.pageIndex===r&&(i=t.pageAndPosition.page),e.continueLoop()})}):e.continueLoop()}).then(()=>{i.container.parentElement||(i=e.pages[r]),i.isLastPage=!t&&e.item.spineIndex===o.opf.spine.length-1,i.isLastPage&&(o.viewport,o.counterStore.finishLastPage(o.viewport)),n.finish({pageAndPosition:Ru(i,r),nextLayoutPosition:t})})})}),n.result()}normalizeSeekPosition(e,t){let n=e.pageIndex,i=-1;if(n<0){i=e.offsetInItem;const o=Q(t.layoutPositions.length,e=>t.instance.getPosition(t.layoutPositions[e],!0)>i);n=o===t.layoutPositions.length?t.complete?t.layoutPositions.length-1:Number.POSITIVE_INFINITY:o-1}else n===Number.POSITIVE_INFINITY&&-1!==e.offsetInItem&&(i=e.offsetInItem);return{spineIndex:e.spineIndex,pageIndex:n,offsetInItem:i}}findPage(e,t){const n=this,i=di("findPage");return n.getPageViewItem(e.spineIndex).then(o=>{if(!o)return void i.finish(null);let s,r=null;i.loopWithFrame(a=>{const l=n.normalizeSeekPosition(e,o);s=l.pageIndex,r=o.pages[s],r?a.breakLoop():o.complete?(s=o.layoutPositions.length-1,r=o.pages[s],a.breakLoop()):t?n.renderPage(l).then(e=>{e&&(r=e.page,s=e.position.pageIndex),a.breakLoop()}):i.sleep(100).then(()=>{a.continueLoop()})}).then(()=>{i.finish(Ru(r,s))})}),i.result()}renderPage(e){const t=this,n=di("renderPage");return t.getPageViewItem(e.spineIndex).then(i=>{if(!i)return void n.finish(null);const o=t.normalizeSeekPosition(e,i);let s=o.pageIndex;const r=o.offsetInItem;let a=i.pages[s];a?n.finish(Ru(a,s)):n.loopWithFrame(e=>{if(s<i.layoutPositions.length)return void e.breakLoop();if(i.complete)return s=i.layoutPositions.length-1,void e.breakLoop();let n=i.layoutPositions[i.layoutPositions.length-1];t.renderSinglePage(i,n).then(t=>{const o=t.pageAndPosition.page;if(n=t.nextLayoutPosition,n){if(r>=0&&i.instance.getPosition(n)>r)return a=o,s=i.layoutPositions.length-2,void e.breakLoop();e.continueLoop()}else a=o,s=t.pageAndPosition.position.pageIndex,i.complete=!0,e.breakLoop()})}).then(()=>{a=a||i.pages[s];const e=i.layoutPositions[s];a?n.finish(Ru(a,s)):t.renderSinglePage(i,e).then(e=>{e.nextLayoutPosition||(i.complete=!0),n.finish(e.pageAndPosition)})})}),n.result()}renderAllPages(){return this.renderPagesUpto({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},!1)}renderPagesUpto(e,t){const n=this,i=di("renderPagesUpto");e||(e={spineIndex:0,pageIndex:0,offsetInItem:0});const o=e.spineIndex,s=e.pageIndex;let r,a=0;return t&&(a=o),i.loopWithFrame(t=>{const i={spineIndex:a,pageIndex:a===o?s:Number.POSITIVE_INFINITY,offsetInItem:a===o?e.offsetInItem:-1};n.renderPage(i).then(e=>{r=e,++a>o?t.breakLoop():t.continueLoop()})}).then(()=>{i.finish(r)}),i.result()}firstPage(e,t){return this.findPage({spineIndex:0,pageIndex:0,offsetInItem:-1},t)}lastPage(e,t){return this.findPage({spineIndex:this.opf.spine.length-1,pageIndex:Number.POSITIVE_INFINITY,offsetInItem:-1},t)}nextPage(e,t){const n=this;let i=e.spineIndex,o=e.pageIndex;const s=di("nextPage");return n.getPageViewItem(i).then(e=>{if(e){if(e.complete&&o==e.layoutPositions.length-1){if(i>=n.opf.spine.length-1)return void s.finish(null);i++,o=0;const t=this.spineItems[i],r=t&&t.pages[0],a=e.pages[e.pages.length-1];r&&a&&r.side==a.side&&(t.pages.forEach(e=>{e.container&&e.container.remove()}),this.spineItems[i]=null,this.spineItemLoadingContinuations[i]=null)}else o++;n.findPage({spineIndex:i,pageIndex:o,offsetInItem:-1},t).thenFinish(s)}else s.finish(null)}),s.result()}previousPage(e,t){let n=e.spineIndex,i=e.pageIndex;if(0==i){if(0==n)return pi(null);n--,i=Number.POSITIVE_INFINITY}else i--;return this.findPage({spineIndex:n,pageIndex:i,offsetInItem:-1},t)}isRectoPage(e,n){const i=e.side===t.PageSide.LEFT,o=this.getCurrentPageProgression(n)===t.PageProgression.LTR;return!i&&o||i&&!o}getSpread(e,n){const i=di("getCurrentSpread"),o=this.getPage(e);if(!o)return pi({left:null,right:null});const s=o.side===t.PageSide.LEFT;let r;return r=this.isRectoPage(o,e)?this.previousPage(e,n):this.nextPage(e,n),r.then(t=>{const n=this.getPage(e);let o=t&&t.page;o&&o.side===n.side&&(o=null),s?i.finish({left:n,right:o}):i.finish({left:o,right:n})}),i.result()}nextSpread(e,t){const n=this.getPage(e);if(!n)return pi(null);const i=this.isRectoPage(n,e),o=this.nextPage(e,t);if(i)return o;{const e=this;return o.thenAsync(i=>{if(i){if(i.page.side===n.side)return o;const s=e.nextPage(i.position,t);return s.thenAsync(e=>e?s:o)}return pi(null)})}}previousSpread(e,t){const n=this.getPage(e);if(!n)return pi(null);const i=this.isRectoPage(n,e),o=this.previousPage(e,t),s=n.container.previousElementSibling;if(i){const e=this;return o.thenAsync(i=>i?i.page.side===n.side||i.page.container!==s?o:e.previousPage(i.position,t):pi(null))}return o}navigateToEPage(e,t,n){const i=di("navigateToEPage"),o=this;return this.opf.resolveEPage(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateToFragment(e,t,n){const i=di("navigateToCFI"),o=this;return o.opf.resolveFragment(e).then(e=>{e?o.findPage(e,n).thenFinish(i):i.finish(null)}),i.result()}navigateTo(e,t,n){c.debug("Navigate to",e);let i=this.opf.getPathFromURL(I(e));if(!i){if(this.opf.opfXML&&e.match(/^#epubcfi\(/))i=this.opf.getPathFromURL(this.opf.opfXML.url);else if("#"===e.charAt(0)){const t=this.opf.documentURLTransformer.restoreURL(e);this.opf.opfXML?(i=this.opf.getPathFromURL(t[0]),null==i&&(i=t[0])):i=t[0],e=t[0]+(t[1]?`#${t[1]}`:"")}if(null==i)return pi(null)}const o=this.opf.itemMapByPath[i];if(!o){if(this.opf.opfXML&&i==this.opf.getPathFromURL(this.opf.opfXML.url)){const i=e.indexOf("#");if(i>=0)return this.navigateToFragment(e.substr(i+1),t,n)}return pi(null)}const s=di("navigateTo"),r=this;return r.getPageViewItem(o.spineIndex).then(i=>{if(!i)return void s.finish(null);const a=i.xmldoc.getElement(e);a?r.findPage({spineIndex:o.spineIndex,pageIndex:-1,offsetInItem:i.xmldoc.getElementOffset(a)},n).thenFinish(s):t.spineIndex!==o.spineIndex?r.findPage({spineIndex:o.spineIndex,pageIndex:0,offsetInItem:-1},n).thenFinish(s):s.finish(null)}),s.result()}makePage(e,n){const i=e.instance.viewport,o=i.document.createElement("div");o.setAttribute("data-vivliostyle-page-container","true"),o.setAttribute("role","region"),o.style.position="absolute",o.style.top="0",o.style.left="0",t.isDebug||(o.style.visibility="hidden",o.setAttribute("aria-hidden","true")),i.layoutBox.appendChild(o);const s=i.document.createElement("div");s.setAttribute("data-vivliostyle-bleed-box","true"),o.appendChild(s);const r=new Or(o,s);if(r.spineIndex=e.item.spineIndex,r.position=n,r.offset=e.instance.getPosition(n),0===r.offset){const t=this.opf.documentURLTransformer.transformFragment("",e.item.src);s.setAttribute("id",t),r.registerElementWithId(s,t)}if(i!==this.viewport){const e=Se(this.viewport.width,this.viewport.height,i.width,i.height),t=oo(null,new li(e,null),"");r.delayedItems.push(new Ir(o,"transform",t))}return r}makeObjectView(e,t,n,i){let o=t.getAttribute("data"),s=null;if(o){o=k(o,e.url);let n=t.getAttribute("media-type");if(!n){const e=this.opf.getPathFromURL(o);if(e){const t=this.opf.itemMapByPath[e];t&&(n=t.mediaType)}}if(n){const e=this.opf.bindings[n];if(e){s=this.viewport.document.createElement("iframe"),s.style.border="none";const i=K(o),r=K(n),a=new G;a.append(e),a.append("?src="),a.append(i),a.append("&type="),a.append(r);for(let e=t.firstChild;e;e=e.nextSibling)if(1==e.nodeType){const t=e;if("param"==t.localName&&t.namespaceURI==F.XHTML){const e=t.getAttribute("name"),n=t.getAttribute("value");e&&n&&(a.append("&"),a.append(encodeURIComponent(e)),a.append("="),a.append(encodeURIComponent(n)))}}s.setAttribute("src",a.toString());const l=t.getAttribute("width");l&&s.setAttribute("width",l);const h=t.getAttribute("height");h&&s.setAttribute("height",h)}}}return s||(s=this.viewport.document.createElement("span"),s.setAttribute("data-adapt-process-children","true")),pi(s)}makeMathJaxView(e,t,n,i){const o=Pu();if(o){const i=n.ownerDocument,s=i.createElement("span");n.appendChild(s);const r=i.importNode(t,!0);this.resolveURLsInMathML(r,e),s.appendChild(r);const a=o.queue;a.Push(["Typeset",o,s]);const l=di("makeMathJaxView"),h=l.suspend();return a.Push(()=>{h.schedule(s)}),l.result()}return pi(null)}resolveURLsInMathML(e,t){if(null!=e){if(1===e.nodeType&&"mglyph"===e.tagName){const n=Array.from(e.attributes);for(const i of n){if("src"!==i.name)continue;const n=k(i.nodeValue,t.url);i.namespaceURI?e.setAttributeNS(i.namespaceURI,i.name,n):e.setAttribute(i.name,n)}}e.firstChild&&this.resolveURLsInMathML(e.firstChild,t),e.nextSibling&&this.resolveURLsInMathML(e.nextSibling,t)}}makeSSEView(e,t,n,i){const o=n?n.ownerDocument:this.viewport.document,s=t.localName;let r;switch(s){case"t":case"tab":case"ec":case"nt":case"fraction":case"comment":case"mark":r="span";break;case"ruby":case"rp":case"rt":r=s;break;default:r="div"}const a=o.createElement(r);return a.setAttribute("data-adapt-process-children","true"),pi(a)}makeCustomRenderer(e){const t=this;return(n,i,o)=>"object"==n.localName&&n.namespaceURI==F.XHTML?t.makeObjectView(e,n,i,o):n.namespaceURI==F.MATHML?t.makeMathJaxView(e,n,i,o):n.namespaceURI==F.SSE?t.makeSSEView(e,n,i,o):n.dataset&&"true"==n.dataset.mathTypeset?t.makeMathJaxView(e,n,i,o):pi(null)}getPageViewItem(e){const t=this;if(-1===e||e>=t.opf.spine.length)return pi(null);let n=t.spineItems[e];if(n)return pi(n);const i=di("getPageViewItem");let o=this.spineItemLoadingContinuations[e];if(o){const e=i.suspend();return o.push(e),i.result()}o=this.spineItemLoadingContinuations[e]=[];const s=t.opf.spine[e],r=t.opf.store;return r.load(s.src).then(a=>{s.title=a.document.title;const l=r.getStyleForDoc(a),h=t.makeCustomRenderer(a);let c=t.viewport;const u=l.sizeViewport(c.width,c.height,c.fontSize,t.pref);u.width==c.width&&u.height==c.height&&u.fontSize==c.fontSize||(c=new eu(c.window,u.fontSize,c.root,u.width,u.height));const d=t.spineItems[e-1];let p;null!==s.startPage?p=s.startPage-1:(!(e>0)||d&&d.complete?p=d?d.instance.pageNumberOffset+d.pages.length:0:(p=s.epage||e,t.opf.prePaginated||p%2!=0||p++),null!==s.skipPagesBefore&&(p+=s.skipPagesBefore)),t.counterStore.forceSetPageCounter(p);const f=new cu(l,a,t.opf.lang,c,t.clientLayout,t.fontMapper,h,t.opf.fallbackMap,p,t.opf.documentURLTransformer,t.counterStore,t.opf.pageProgression);f.pref=t.pref;const g=t.opf.metadata&&t.opf.metadata[xu.title];f.pubTitle=g&&g[0]&&g[0].v||"",f.docTitle=s.title||"",f.init().then(()=>{n={item:s,xmldoc:a,instance:f,layoutPositions:[null],pages:[],complete:!1},t.spineItems[e]=n,i.finish(n),o.forEach(e=>{e.schedule(n)})})}),i.result()}removeRenderedPages(){const e=this.spineItems;for(const t of e)t&&t.pages.splice(0);this.viewport.clear()}hasAutoSizedPages(){const e=this.spineItems;for(const t of e)if(t){const e=t.pages;for(const t of e)if(t.isAutoPageWidth&&t.isAutoPageHeight)return!0}return!1}hasPages(){return this.spineItems.some(e=>e&&e.pages.length>0)}showTOC(e){const t=this.opf,n=t.xhtmlToc||t.ncxToc;if(this.tocAutohide=e,!n)return pi(null);if(this.tocView&&this.tocView.page)return this.tocView.page.container.style.visibility="visible",this.tocView.page.container.setAttribute("aria-hidden","false"),pi(this.tocView.page);const i=di("showTOC");this.tocView||(this.tocView=new Eu(t.store,n.src,t.lang,this.clientLayout,this.fontMapper,this.pref,this,t.fallbackMap,t.documentURLTransformer,this.counterStore));const o=this.viewport,s=Math.min(350,Math.round(.67*o.width)-16),r=o.height-6,a=o.document.createElement("div");return o.root.appendChild(a),a.style.visibility="hidden",a.style.width=`${s+10}px`,a.style.maxHeight=`${r}px`,a.setAttribute("data-vivliostyle-toc-box","true"),a.setAttribute("role","navigation"),this.tocView.showTOC(a,o,s,r,this.viewport.fontSize).then(e=>{a.style.visibility="visible",a.setAttribute("aria-hidden","false"),i.finish(e)}),i.result()}hideTOC(){this.tocView&&this.tocView.hideTOC()}isTOCVisible(){return!!this.tocView&&this.tocView.isTOCVisible()}}var Lu,Fu;!function(e){e.SINGLE_PAGE="singlePage",e.SPREAD="spread",e.AUTO_SPREAD="autoSpread"}(Lu||(Lu={}));class Du{constructor(e,n,i,o){this.window=e,this.viewportElement=n,this.instanceId=i,this.callbackFn=o,this.pageSheetSizeAlreadySet=!1,this.renderTask=null;const s=this;n.setAttribute("data-vivliostyle-viewer-viewport",!0),t.isDebug&&n.setAttribute("data-vivliostyle-debug",!0),n.setAttribute("data-vivliostyle-viewer-status","loading");const r=e.document;this.fontMapper=new Dh(r.head,n),this.init(),this.kick=()=>{},this.sendCommand=()=>{},this.resizeListener=()=>{s.needResize=!0,s.kick()},this.pageReplacedListener=this.pageReplacedListener.bind(this),this.hyperlinkListener=e=>{},this.pageRuleStyleElement=r.getElementById("vivliostyle-page-rules"),this.actions={loadPublication:this.loadPublication,loadXML:this.loadXML,configure:this.configure,moveTo:this.moveTo,toc:this.showTOC},this.addLogListeners()}init(){this.readyState=t.ReadyState.LOADING,this.packageURL=[],this.opf=null,this.haveZipMetadata=!1,this.touchActive=!1,this.touchX=0,this.touchY=0,this.needResize=!1,this.needRefresh=!1,this.viewportSize=null,this.currentPage=null,this.currentSpread=null,this.pagePosition=null,this.fontSize=16,this.zoom=1,this.fitToScreen=!1,this.pageViewMode=Lu.SINGLE_PAGE,this.waitForLoading=!1,this.renderAllPages=!0,this.pref={fontFamily:"serif",lineHeight:1.25,margin:8,hyphenate:!1,columnWidth:25,horizontal:!1,nightMode:!1,spreadView:!1,pageBorder:1,enabledMediaTypes:{vivliostyle:!0,print:!0},defaultPaperSize:void 0},this.pageSizes=[]}addLogListeners(){const e=a;c.addListener(e.DEBUG,e=>{this.callback({t:"debug",content:e})}),c.addListener(e.INFO,e=>{this.callback({t:"info",content:e})}),c.addListener(e.WARN,e=>{this.callback({t:"warn",content:e})}),c.addListener(e.ERROR,e=>{this.callback({t:"error",content:e})})}callback(e){e.i=this.instanceId,this.callbackFn(e)}setReadyState(e){this.readyState!==e&&(this.readyState=e,this.viewportElement.setAttribute("data-vivliostyle-viewer-status",e),this.callback({t:"readystatechange"}))}loadPublication(e){v.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.fragment,o=!!e.zipmeta,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=di("loadPublication"),l=this;return l.configure(e).then(()=>{const e=new Su;e.init(s,r).then(()=>{const t=k(L(n),l.window.location.href);l.packageURL=[t],e.loadPubDoc(t,o).then(e=>{e?(l.opf=e,l.render(i).then(()=>{a.finish(!0)})):a.finish(!1)})})}),a.result()}loadXML(e){v.registerStartTiming("beforeRender"),this.setReadyState(t.ReadyState.LOADING);const n=e.url,i=e.document,o=e.fragment,s=e.authorStyleSheet,r=e.userStyleSheet;this.viewport=null;const a=di("loadXML"),l=this;return l.configure(e).then(()=>{const e=new Su;e.init(s,r).then(()=>{const t=n.map((e,t)=>({url:k(L(e.url),l.window.location.href),index:t,startPage:e.startPage,skipPagesBefore:e.skipPagesBefore}));l.packageURL=t.map(e=>e.url),l.opf=new Ou(e,""),l.opf.initWithChapters(t,i).then(()=>{l.render(o).then(()=>{a.finish(!0)})})})}),a.result()}render(e){this.cancelRenderingTask();const t=this;let n;return n=e?this.opf.resolveFragment(e).thenAsync(e=>(t.pagePosition=e,pi(!0))):pi(!0),n.thenAsync(()=>(v.registerEndTiming("beforeRender"),t.resize()))}resolveLength(e){const t=parseFloat(e);let n;if("string"==typeof e&&(n=e.match(/[a-z]+$/))){const e=n[0];if("em"===e||"rem"===e)return t*this.fontSize;if("ex"===e)return t*Pe.ex*this.fontSize/Pe.em;const i=Pe[e];if(i)return t*i}return t}configure(e){if("boolean"==typeof e.autoresize&&(e.autoresize?(this.viewportSize=null,this.window.addEventListener("resize",this.resizeListener,!1),this.needResize=!0):this.window.removeEventListener("resize",this.resizeListener,!1)),"number"==typeof e.fontSize){const t=e.fontSize;t>=5&&t<=72&&this.fontSize!=t&&(this.fontSize=t,this.needResize=!0)}if("object"==typeof e.viewport&&e.viewport){const t=e.viewport,n={marginLeft:this.resolveLength(t["margin-left"])||0,marginRight:this.resolveLength(t["margin-right"])||0,marginTop:this.resolveLength(t["margin-top"])||0,marginBottom:this.resolveLength(t["margin-bottom"])||0,width:this.resolveLength(t.width)||0,height:this.resolveLength(t.height)||0};(n.width>=200||n.height>=200)&&(this.window.removeEventListener("resize",this.resizeListener,!1),this.viewportSize=n,this.needResize=!0)}return"boolean"==typeof e.hyphenate&&(this.pref.hyphenate=e.hyphenate,this.needResize=!0),"boolean"==typeof e.horizontal&&(this.pref.horizontal=e.horizontal,this.needResize=!0),"boolean"==typeof e.nightMode&&(this.pref.nightMode=e.nightMode,this.needResize=!0),"number"==typeof e.lineHeight&&(this.pref.lineHeight=e.lineHeight,this.needResize=!0),"number"==typeof e.columnWidth&&(this.pref.columnWidth=e.columnWidth,this.needResize=!0),"string"==typeof e.fontFamily&&(this.pref.fontFamily=e.fontFamily,this.needResize=!0),"boolean"==typeof e.load&&(this.waitForLoading=e.load),"boolean"==typeof e.renderAllPages&&(this.renderAllPages=e.renderAllPages),"string"==typeof e.userAgentRootURL&&(A(e.userAgentRootURL.replace(/resources\/?$/,"")),R(e.userAgentRootURL)),"string"==typeof e.rootURL&&(A(e.rootURL),R(`${P}resources/`)),"string"==typeof e.pageViewMode&&e.pageViewMode!==this.pageViewMode&&(this.pageViewMode=e.pageViewMode,this.needResize=!0),"number"==typeof e.pageBorder&&e.pageBorder!==this.pref.pageBorder&&(this.viewport=null,this.pref.pageBorder=e.pageBorder,this.needResize=!0),"number"==typeof e.zoom&&e.zoom!==this.zoom&&(this.zoom=e.zoom,this.needRefresh=!0),"boolean"==typeof e.fitToScreen&&e.fitToScreen!==this.fitToScreen&&(this.fitToScreen=e.fitToScreen,this.needRefresh=!0),"object"==typeof e.defaultPaperSize&&"number"==typeof e.defaultPaperSize.width&&"number"==typeof e.defaultPaperSize.height&&(this.viewport=null,this.pref.defaultPaperSize=e.defaultPaperSize,this.needResize=!0),this.configurePlugins(e),pi(!0)}configurePlugins(e){g(t.HOOKS.CONFIGURATION).forEach(t=>{const n=t(e);this.needResize=n.needResize||this.needResize,this.needRefresh=n.needRefresh||this.needRefresh})}pageReplacedListener(e){const t=this.currentPage,n=this.currentSpread,i=e.target;n?n.left!==i&&n.right!==i||this.showCurrent(e.newPage):t===e.target&&this.showCurrent(e.newPage)}forCurrentPages(e){const t=[];this.currentPage&&t.push(this.currentPage),this.currentSpread&&(t.push(this.currentSpread.left),t.push(this.currentSpread.right)),t.forEach(t=>{t&&e(t)})}removePageListeners(){this.forCurrentPages(e=>{e.removeEventListener("hyperlink",this.hyperlinkListener,!1),e.removeEventListener("replaced",this.pageReplacedListener,!1)})}hidePages(){this.removePageListeners(),this.forCurrentPages(e=>{V(e.container,"display","none"),e.container.setAttribute("aria-hidden","true")}),this.currentPage=null,this.currentSpread=null}showSinglePage(e){e.addEventListener("hyperlink",this.hyperlinkListener,!1),e.addEventListener("replaced",this.pageReplacedListener,!1),V(e.container,"visibility","visible"),V(e.container,"display","block"),e.container.setAttribute("aria-hidden","false")}showPage(e){this.hidePages(),this.currentPage=e,e.container.style.marginLeft="",e.container.style.marginRight="",this.showSinglePage(e)}showSpread(e){if(this.hidePages(),this.currentSpread=e,e.left&&e.right){let t=parseFloat(e.left.container.style.width),n=parseFloat(e.right.container.style.width);t&&n&&t!==n&&(t<n?e.left.container.style.marginLeft=`${n-t}px`:e.right.container.style.marginRight=`${t-n}px`)}e.left&&(this.showSinglePage(e.left),e.right?e.left.container.removeAttribute("data-vivliostyle-unpaired-page"):e.left.container.setAttribute("data-vivliostyle-unpaired-page",!0)),e.right&&(this.showSinglePage(e.right),e.left?e.right.container.removeAttribute("data-vivliostyle-unpaired-page"):e.right.container.setAttribute("data-vivliostyle-unpaired-page",!0))}reportPosition(){const e=di("reportPosition"),t=this;return t.pagePosition,t.opf.getCFI(this.pagePosition.spineIndex,this.pagePosition.offsetInItem).then(n=>{const i=t.currentPage;(t.waitForLoading&&i.fetchers.length>0?Ti(i.fetchers):pi(!0)).then(()=>{t.sendLocationNotification(i,n).thenFinish(e)})}),e.result()}createViewport(){const e=this.viewportElement;if(this.viewportSize){const t=this.viewportSize;return e.style.marginLeft=`${t.marginLeft}px`,e.style.marginRight=`${t.marginRight}px`,e.style.marginTop=`${t.marginTop}px`,e.style.marginBottom=`${t.marginBottom}px`,new eu(this.window,this.fontSize,e,t.width,t.height)}return new eu(this.window,this.fontSize,e)}resolveSpreadView(e){switch(this.pageViewMode){case Lu.SINGLE_PAGE:return!1;case Lu.SPREAD:return!0;case Lu.AUTO_SPREAD:default:return e.width/e.height>=1.45&&e.width>800}}updateSpreadView(e){this.pref.spreadView=e,this.viewportElement.setAttribute("data-vivliostyle-spread-view",e.toString())}sizeIsGood(){const e=this.createViewport(),t=this.resolveSpreadView(e),n=this.pref.spreadView!==t;return this.updateSpreadView(t),!(this.viewportSize||!this.viewport||this.viewport.fontSize!=this.fontSize||(n||e.width!=this.viewport.width||e.height!=this.viewport.height)&&(n||e.width!=this.viewport.width||e.height==this.viewport.height||!/Android|iPhone|iPad|iPod/.test(navigator.userAgent))&&(!this.opfView||!this.opfView.hasPages()||this.opfView.hasAutoSizedPages()||(this.viewport.width=e.width,this.viewport.height=e.height,this.needRefresh=!0,0)))}setPageSize(e,t,n,i){this.pageSizes[i]=e,this.setPageSizePageRules(t,n,i)}setPageSizePageRules(e,t,n){if(!this.pageSheetSizeAlreadySet&&this.pageRuleStyleElement){let t="";Object.keys(e).forEach(n=>{t+=`@page ${n}{margin:0;size:`;const i=e[n];t+=`${i.width}px ${i.height}px;}`}),this.pageRuleStyleElement.textContent=t,this.pageSheetSizeAlreadySet=!0}}removePageSizePageRules(){this.pageRuleStyleElement&&(this.pageRuleStyleElement.textContent="",this.pageSheetSizeAlreadySet=!1)}reset(){let e=!1,t=!1;this.opfView&&(e=this.opfView.isTOCVisible(),t=this.opfView.tocAutohide,this.opfView.hideTOC(),this.opfView.removeRenderedPages()),this.removePageSizePageRules(),this.viewport=this.createViewport(),this.viewport.resetZoom(),this.opfView=new ku(this.opf,this.viewport,this.fontMapper,this.pref,this.setPageSize.bind(this)),e&&this.sendCommand({a:"toc",v:"show",autohide:t})}showCurrent(e,t){this.needRefresh=!1,this.removePageListeners();const n=this;return this.pref.spreadView?this.opfView.getSpread(this.pagePosition,t).thenAsync(t=>(n.showSpread(t),n.setSpreadZoom(t),n.currentPage=e,pi(null))):(this.showPage(e),this.setPageZoom(e),this.currentPage=e,pi(null))}setPageZoom(e){const t=this.getAdjustedZoomFactor(e.dimensions);this.viewport.zoom(e.dimensions.width,e.dimensions.height,t)}setSpreadZoom(e){const t=this.getSpreadDimensions(e);this.viewport.zoom(t.width,t.height,this.getAdjustedZoomFactor(t))}getAdjustedZoomFactor(e){return this.fitToScreen?this.calculateZoomFactorToFitInsideViewPort(e):this.zoom}getSpreadDimensions(e){let t=0,n=0;return e.left&&(t+=e.left.dimensions.width,n=e.left.dimensions.height),e.right&&(t+=e.right.dimensions.width,n=Math.max(n,e.right.dimensions.height)),e.left&&e.right&&(t+=2*this.pref.pageBorder,t+=Math.abs(e.left.dimensions.width-e.right.dimensions.width)),{width:t,height:n}}queryZoomFactor(e){if(!this.currentPage)throw new Error("no page exists.");switch(e){case Fu.FIT_INSIDE_VIEWPORT:{let e;return this.pref.spreadView?(this.currentSpread,e=this.getSpreadDimensions(this.currentSpread)):e=this.currentPage.dimensions,this.calculateZoomFactorToFitInsideViewPort(e)}default:throw new Error(`unknown zoom type: ${e}`)}}calculateZoomFactorToFitInsideViewPort(e){const t=this.viewport.width/e.width,n=this.viewport.height/e.height;return Math.min(t,n)}cancelRenderingTask(){this.renderTask&&this.renderTask.interrupt(new _u),this.renderTask=null}resize(){if(this.needResize=!1,this.needRefresh=!1,this.sizeIsGood())return pi(!0);const e=this;this.setReadyState(t.ReadyState.LOADING),this.cancelRenderingTask();const n=ui().getScheduler().run(()=>fi("resize",i=>{e.opf?(e.renderTask=n,v.registerStartTiming("render (resize)"),e.reset(),e.pagePosition&&(0==e.pagePosition.pageIndex&&0==e.pagePosition.offsetInItem||(e.pagePosition.pageIndex=-1)),e.opf.setEPageCountMode(e.renderAllPages),e.opfView.renderPagesUpto(e.pagePosition,!e.renderAllPages).then(o=>{o?(e.pagePosition=o.position,e.showCurrent(o.page,!0).then(()=>{e.setReadyState(t.ReadyState.INTERACTIVE),e.opf.countEPages(t=>{const n={t:"nav",epageCount:t,first:e.currentPage.isFirstPage,last:e.currentPage.isLastPage,metadata:e.opf.metadata,docTitle:e.opf.spine[e.pagePosition.spineIndex].title};(e.currentPage.isFirstPage||0==e.pagePosition.pageIndex&&e.opf.spine[e.pagePosition.spineIndex].epage)&&(n.epage=e.opf.spine[e.pagePosition.spineIndex].epage),e.callback(n)}).then(()=>{e.reportPosition().then(o=>{(e.renderAllPages?e.opfView.renderAllPages():pi(null)).then(()=>{e.renderTask===n&&(e.renderTask=null),v.registerEndTiming("render (resize)"),e.renderAllPages&&e.setReadyState(t.ReadyState.COMPLETE),e.callback({t:"loaded"}),i.finish(o)})})})})):i.finish(!1)})):i.finish(!1)},(e,t)=>{if(!(t instanceof _u))throw t;v.registerEndTiming("render (resize)"),c.debug(t.message)}));return pi(!0)}sendLocationNotification(e,t){const n=di("sendLocationNotification"),i={t:"nav",first:e.isFirstPage,last:e.isLastPage,metadata:this.opf.metadata,docTitle:this.opf.spine[e.spineIndex].title},o=this;return this.opf.getEPageFromPosition(o.pagePosition).then(e=>{i.epage=e,i.epageCount=o.opf.epageCount,t&&(i.cfi=t),o.callback(i),n.finish(!0)}),n.result()}getCurrentPageProgression(){return this.opfView?this.opfView.getCurrentPageProgression(this.pagePosition):null}moveTo(e){let n;const i=this;if(this.readyState!==t.ReadyState.COMPLETE&&"next"!==e.where&&this.setReadyState(t.ReadyState.LOADING),"string"==typeof e.where){let t;switch(e.where){case"next":t=this.pref.spreadView?this.opfView.nextSpread:this.opfView.nextPage;break;case"previous":t=this.pref.spreadView?this.opfView.previousSpread:this.opfView.previousPage;break;case"last":t=this.opfView.lastPage;break;case"first":t=this.opfView.firstPage;break;default:return pi(!0)}t&&(n=()=>t.call(i.opfView,i.pagePosition,!i.renderAllPages))}else if("number"==typeof e.epage){const t=e.epage;n=()=>i.opfView.navigateToEPage(t,i.pagePosition,!i.renderAllPages)}else{if("string"!=typeof e.url)return pi(!0);{const t=e.url;n=()=>i.opfView.navigateTo(t,i.pagePosition,!i.renderAllPages)}}const o=di("moveTo");return n.call(i.opfView).then(e=>{let n;if(e){i.pagePosition=e.position;const t=di("moveTo.showCurrent");n=t.result(),i.showCurrent(e.page,!i.renderAllPages).then(()=>{i.reportPosition().thenFinish(t)})}else n=pi(!0);n.then(e=>{i.readyState===t.ReadyState.LOADING&&i.setReadyState(t.ReadyState.INTERACTIVE),o.finish(e)})}),o.result()}showTOC(e){const t=!!e.autohide,n=e.v,i=this.opfView.isTOCVisible(),o=t!=this.opfView.tocAutohide&&"hide"!=n;if(i){if("show"==n&&!o)return pi(!0)}else if("hide"==n)return pi(!0);if(i&&"show"!=n)return this.opfView.hideTOC(),pi(!0);{const e=this,n=di("showTOC");return this.opfView.showTOC(t).then(i=>{if(i){if(o&&(i.listeners={}),t){const t=()=>{e.opfView.hideTOC()};i.addEventListener("hyperlink",t,!1)}i.addEventListener("hyperlink",e.hyperlinkListener,!1)}n.finish(!0)}),n.result()}}runCommand(e){const t=this,n=e.a||"";return fi("runCommand",i=>{const o=t.actions[n];o?o.call(t,e).then(()=>{t.callback({t:"done",a:n}),i.finish(!0)}):(c.error("No such action:",n),i.finish(!0))},(e,t)=>{c.error(t,"Error during action:",n),e.finish(!0)})}initEmbed(e){let t=Bu(e),n=null;const i=this;(function(e,t){(hi?hi.getScheduler():ci||new bi(new mi)).run(e,t)})(()=>{const e=di("commandLoop"),o=ui().getScheduler();return i.hyperlinkListener=e=>{const t=e,n="#"===t.href.charAt(0)||i.packageURL.some(e=>t.href.substr(0,e.length)==e);if(n){e.preventDefault();const s={t:"hyperlink",href:t.href,internal:n};o.run(()=>(i.callback(s),pi(!0)))}},e.loopWithFrame(e=>{if(i.needResize)i.resize().then(()=>{e.continueLoop()});else if(i.needRefresh)i.currentPage&&i.showCurrent(i.currentPage).then(()=>{e.continueLoop()});else if(t){const n=t;t=null,i.runCommand(n).then(()=>{e.continueLoop()})}else{const t=di("waitForCommand");n=t.suspend(self),t.result().then(()=>{e.continueLoop()})}}).thenFinish(e),e.result()}),i.kick=()=>{const e=n;e&&(n=null,e.schedule(!0))},i.sendCommand=e=>!t&&(t=Bu(e),i.kick(),!0),this.window.adapt_command=i.sendCommand}}!function(e){e.FIT_INSIDE_VIEWPORT="fit inside viewport"}(Fu||(Fu={}));class _u extends Error{constructor(){super(),this.name="RenderingCanceledError",this.message="Page rendering has been canceled",Object.setPrototypeOf(this,_u.prototype),this.stack=(new Error).stack}}function Bu(e){return"string"==typeof e?x(e):e}const Mu=t.PageProgression;function Uu(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n];switch(n){case"autoResize":t.autoresize=i;break;case"pageBorderWidth":t.pageBorder=i;break;default:t[n]=i}}),t}class zu{constructor(e,t){this.settings=e,this.initialized=!1,n(e.debug),this.adaptViewer_=new Du(e.window||window,e.viewportElement,"main",this.dispatcher.bind(this)),this.options={autoResize:!0,fontSize:16,pageBorderWidth:1,renderAllPages:!0,pageViewMode:Lu.AUTO_SPREAD,zoom:1,fitToScreen:!1,defaultPaperSize:void 0},t&&this.setOptions(t),this.eventTarget=new ne,Object.defineProperty(this,"readyState",{get(){return this.adaptViewer_.readyState}})}setOptions(e){const t=Object.assign({a:"configure"},Uu(e));this.adaptViewer_.sendCommand(t),Object.assign(this.options,e)}dispatcher(e){const t={type:e.t},n=e;Object.keys(n).forEach(e=>{"t"!==e&&(t[e]=n[e])}),this.eventTarget.dispatchEvent(t)}addListener(e,t){this.eventTarget.addEventListener(e,t,!1)}removeListener(e,t){this.eventTarget.removeEventListener(e,t,!1)}loadDocument(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(e,null,t,n)}loadPublication(e,t,n){e||this.eventTarget.dispatchEvent({type:"error",content:"No URL specified"}),this.loadDocumentOrPublication(null,e,t,n)}loadDocumentOrPublication(e,t,n,i){const o=n||{};function s(e){return e?e.map(e=>({url:e.url||null,text:e.text||null})):void 0}const r=s(o.authorStyleSheet),a=s(o.userStyleSheet);i&&Object.assign(this.options,i);const l=Object.assign({a:e?"loadXML":"loadPublication",userAgentRootURL:this.settings.userAgentRootURL,url:Vu(e)||t,document:o.documentObject,fragment:o.fragment,authorStyleSheet:r,userStyleSheet:a},Uu(this.options));this.initialized?this.adaptViewer_.sendCommand(l):(this.initialized=!0,this.adaptViewer_.initEmbed(l))}getCurrentPageProgression(){return this.adaptViewer_.getCurrentPageProgression()}resolveNavigation(e){switch(e){case t.Navigation.LEFT:return this.getCurrentPageProgression()===Mu.LTR?t.Navigation.PREVIOUS:t.Navigation.NEXT;case t.Navigation.RIGHT:return this.getCurrentPageProgression()===Mu.LTR?t.Navigation.NEXT:t.Navigation.PREVIOUS;default:return e}}navigateToPage(e,n){e===t.Navigation.EPAGE?this.adaptViewer_.sendCommand({a:"moveTo",epage:n}):this.adaptViewer_.sendCommand({a:"moveTo",where:this.resolveNavigation(e)})}navigateToInternalUrl(e){this.adaptViewer_.sendCommand({a:"moveTo",url:e})}isTOCVisible(){return this.adaptViewer_.opfView&&this.adaptViewer_.opfView.opf&&(this.adaptViewer_.opfView.opf.xhtmlToc||this.adaptViewer_.opfView.opf.ncxToc)?!!this.adaptViewer_.opfView.isTOCVisible():null}showTOC(e,t){const n=null==e?"toggle":e?"show":"hide";this.adaptViewer_.sendCommand({a:"toc",v:n,autohide:t})}queryZoomFactor(e){return this.adaptViewer_.queryZoomFactor(e)}getPageSizes(){return this.adaptViewer_.pageSizes}getTOC(){var e,t;return null===(t=null===(e=this.adaptViewer_.opfView)||void 0===e?void 0:e.tocView)||void 0===t?void 0:t.getTOC()}getMetadata(){return this.adaptViewer_.opf.getMetadata()}getCover(){return this.adaptViewer_.opf.cover}}function Vu(e){function t(e){return"number"==typeof e?e:null}function n(e){return"string"==typeof e?{url:e,startPage:null,skipPagesBefore:null}:{url:e.url,startPage:t(e.startPage),skipPagesBefore:t(e.skipPagesBefore)}}return Array.isArray(e)?e.map(n):e?[n(e)]:null}var Hu;(Hu=t.Navigation||(t.Navigation={})).PREVIOUS="previous",Hu.NEXT="next",Hu.LEFT="left",Hu.RIGHT="right",Hu.FIRST="first",Hu.LAST="last",Hu.EPAGE="epage";const $u=Fu,Gu=Lu,Wu={CoreViewer:zu,PageViewMode:Gu,ZoomType:$u};v.forceRegisterEndTiming("load_vivliostyle");class Xu{constructor(e,{title:t="",printCallback:n=(e=>e.print()),hideIframe:i=!0,removeIframe:o=!0}){this.htmlDoc=e,this.title=t,this.printCallback=n,this.hideIframe=i,this.removeIframe=o}init(){this.iframe=document.createElement("iframe"),this.hideIframe&&(this.iframe.style.width="0",this.iframe.style.height="0",this.iframe.style.borderWidth="0"),this.window=window,this.window.printInstance=this,this.iframe.srcdoc=`\n      <!DOCTYPE html>\n      <html data-vivliostyle-paginated="true">\n        <head>\n          <meta charset='utf-8'/>\n          <meta name='viewport' content='width=device-width, initial-scale=1.0'/>\n          <title>${this.title}</title>\n          <style>/*\n * Copyright 2015 Trim-marks Inc.\n * Copyright 2019 Vivliostyle Foundation\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n[data-vivliostyle-layout-box] {\n    position: absolute;\n    left: 0;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    overflow: hidden;\n    z-index: -1;\n}\n\n[data-vivliostyle-debug] [data-vivliostyle-layout-box] {\n    right: auto;\n    bottom: auto;\n    overflow: visible;\n    z-index: auto;\n}\n\n[data-vivliostyle-page-container] {\n    position: relative;\n    overflow: hidden;\n}\n\n[data-vivliostyle-bleed-box] {\n    position: absolute;\n    overflow: hidden;\n    max-width: 100%;\n    max-height: 100%;\n    box-sizing: border-box;\n}\n\n[data-vivliostyle-page-box] ~ [data-vivliostyle-page-box] {\n    display: none;\n}\n\n[data-vivliostyle-toc-box] {\n    position: absolute;\n    left: 3px;\n    top: 3px;\n    overflow: scroll;\n    overflow-x: hidden;\n    background: rgba(248,248,248,0.9);\n    border-radius: 2px;\n    box-shadow: 1px 1px 2px rgba(0,0,0,0.4);\n}\n\n@media print {\n    [data-vivliostyle-toc-box] {\n        display: none;\n    }\n\n    [data-vivliostyle-outer-zoom-box], [data-vivliostyle-spread-container] {\n        width: 100% !important;\n        height: 100% !important;\n    }\n\n    [data-vivliostyle-spread-container], [data-vivliostyle-page-container] {\n        -moz-transform: none !important;\n        -ms-transform: none !important;\n        -webkit-transform: none !important;\n        transform: none !important;\n    }\n\n    [data-vivliostyle-page-container] {\n        display: block !important;\n        max-width: 100%;\n        height: 100% !important;\n        max-height: 100%;\n    }\n\n    /* Workaround for Chrome printing problem */\n    /* [data-vivliostyle-page-box] {\n        padding-bottom: 0 !important;\n        overflow: visible !important;\n    } */\n    [data-vivliostyle-bleed-box] > div > div::before {\n        display: block;\n        content: "";\n        padding-top: 0.015625px;\n        margin-bottom: -0.015625px;\n    }\n\n    /* Gecko-only hack, see https://bugzilla.mozilla.org/show_bug.cgi?id=267029#c17 */\n    @-moz-document regexp('.*') {\n        [data-vivliostyle-page-container]:nth-last-child(n+2) {\n            top: -1px;\n            margin-top: 1px;\n            margin-bottom: -1px;\n        }\n    }\n}\n</style>\n          <style>/*\n * Copyright 2017 Trim-marks Inc.\n *\n * Vivliostyle.js is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Vivliostyle.js is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with Vivliostyle.js.  If not, see <http://www.gnu.org/licenses/>.\n *\n */\n\n@media screen {\n\n    [data-vivliostyle-viewer-viewport] {\n        background: #AAAAAA;\n    }\n\n    [data-vivliostyle-page-container] {\n        background: white;\n    }\n\n    [data-vivliostyle-viewer-viewport] {\n        display: -webkit-flex;\n        display: flex;\n        overflow: auto;\n        position: relative;\n    }\n\n    [data-vivliostyle-outer-zoom-box] {\n        margin: auto;\n        overflow: hidden;\n        -webkit-flex: none;\n        flex: none;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-spread-container] {\n        display: -webkit-flex;\n        display: flex;\n        -webkit-flex: none;\n        flex: none;\n        -webkit-justify-content: center;\n        justify-content: center;\n        -moz-transform-origin: left top;\n        -ms-transform-origin: left top;\n        -webkit-transform-origin: left top;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=ltr] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row;\n        flex-direction: row;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-page-progression=rtl] [data-vivliostyle-spread-container] {\n        -webkit-flex-direction: row-reverse;\n        flex-direction: row-reverse;\n    }\n\n    [data-vivliostyle-viewer-viewport] [data-vivliostyle-page-container] {\n        margin: 0 auto;\n        -webkit-flex: none;\n        flex: none;\n        transform-origin: center top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=left] {\n        margin-right: 1px;\n        transform-origin: right top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-page-side=right] {\n        margin-left: 1px;\n        transform-origin: left top;\n    }\n\n    [data-vivliostyle-viewer-viewport][data-vivliostyle-spread-view=true] [data-vivliostyle-page-container][data-vivliostyle-unpaired-page=true] {\n        margin-left: auto;\n        margin-right: auto;\n        transform-origin: center top;\n    }\n\n}\n</style>\n          <style>\n            html[data-vivliostyle-paginated] {\n              width: 100%;\n              height: 100%;\n            }\n            html[data-vivliostyle-paginated] body,\n            html[data-vivliostyle-paginated] [data-vivliostyle-viewer-viewport] {\n              width: 100% !important;\n              height: 100% !important;\n            }\n            html[data-vivliostyle-paginated],\n            html[data-vivliostyle-paginated] body {\n              margin: 0;\n              padding: 0;\n            }\n          </style>\n          <style id='vivliostyle-page-rules'></style>\n        </head>\n        <body onload='parent.printInstance.runInIframe(window)'>\n          <div id="vivliostyle-viewer-viewport"></div>\n        </body>\n      </html>`,document.body.appendChild(this.iframe)}runInIframe(e){return this.iframeWin=e,this.preparePrint().then(()=>this.browserPrint()).then(()=>this.cleanUp())}preparePrint(){this.iframeWin.document.title=this.title;const e=new Blob([this.htmlDoc],{type:"text/html"}),t=URL.createObjectURL(e),n=new zu({viewportElement:this.iframeWin.document.body.firstElementChild,window:this.iframeWin,debug:!0},{defaultPaperSize:{width:794,height:1122}});return new Promise(e=>{n.addListener("readystatechange",()=>{"complete"===n.readyState&&e()}),n.loadDocument({url:t})})}browserPrint(){this.printCallback(this.iframeWin)}cleanUp(){delete this.window.printInstance,this.removeIframe&&this.iframe.parentElement.removeChild(this.iframe)}}t.CoreViewer=zu,t.PageViewMode=Gu,t.Profiler=b,t.ZoomType=$u,t.constants=r,t.getHooksForName=g,t.pageProgressionOf=i,t.plugin=m,t.printHTML=function(e,t){new Xu(e,t).init()},t.profile=C,t.profiler=v,t.registerHook=p,t.removeHook=f,t.setDebug=n,t.viewer=Wu})),s=(t=o)&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,r=o.isDebug,a=o.PageProgression,l=o.PageSide,h=o.ReadyState,c=o.HOOKS,u=o.Navigation,d=o.CoreViewer,p=o.PageViewMode,f=o.Profiler,g=o.ZoomType,m=o.constants,b=o.getHooksForName,w=o.pageProgressionOf,E=o.plugin,y=o.printHTML,S=o.profile,N=o.profiler,v=o.registerHook,C=o.removeHook,T=o.setDebug,x=o.viewer,I=Object.freeze({__proto__:null,default:s,__moduleExports:o,isDebug:r,PageProgression:a,PageSide:l,ReadyState:h,HOOKS:c,Navigation:u,CoreViewer:d,PageViewMode:p,Profiler:f,ZoomType:g,constants:m,getHooksForName:b,pageProgressionOf:w,plugin:E,printHTML:y,profile:S,profiler:N,registerHook:v,removeHook:C,setDebug:T,viewer:x});!function(e){e.Default="",e.Auto="auto",e.Preset="preset",e.Custom="custom",e.Zero="0"}(n||(n={}));const P=[{name:"A5",description:"A5"},{name:"A4",description:"A4"},{name:"A3",description:"A3"},{name:"B5",description:"B5 (ISO)"},{name:"B4",description:"B4 (ISO)"},{name:"JIS-B5",description:"B5 (JIS)"},{name:"JIS-B4",description:"B4 (JIS)"},{name:"letter",description:"letter"},{name:"legal",description:"legal"},{name:"ledger",description:"ledger"}],A={customWidth:"210mm",customHeight:"297mm",customMargin:"10%",baseFontSize:"12pt",baseLineHeight:"1.2",baseFontFamily:"serif",viewerFontSize:16};class O{constructor(e){this.PresetSize=O.PresetSize,this.pageSizeMode=i.observable(n.Default),this.presetSize=i.observable(P[1]),this.isLandscape=i.observable(!1),this.customWidth=i.observable(A.customWidth),this.customHeight=i.observable(A.customHeight),this.pageSizeImportant=i.observable(!1),this.pageMarginMode=i.observable(n.Default),this.customMargin=i.observable(A.customMargin),this.pageMarginImportant=i.observable(!1),this.firstPageMarginZero=i.observable(!1),this.firstPageMarginZeroImportant=i.observable(!1),this.forceHtmlBodyMarginZero=i.observable(!1),this.widowsOrphans=i.observable(""),this.widowsOrphansImportant=i.observable(!1),this.imageMaxSizeToFitPage=i.observable(!1),this.imageMaxSizeToFitPageImportant=i.observable(!1),this.imageKeepAspectRatio=i.observable(!1),this.imageKeepAspectRatioImportant=i.observable(!1),this.baseFontSize=i.observable(A.baseFontSize),this.baseFontSizeSpecified=i.observable(!1),this.baseFontSizeImportant=i.observable(!1),this.baseLineHeight=i.observable(A.baseLineHeight),this.baseLineHeightSpecified=i.observable(!1),this.baseLineHeightImportant=i.observable(!1),this.baseFontFamily=i.observable(A.baseFontFamily),this.baseFontFamilySpecified=i.observable(!1),this.baseFontFamilyImportant=i.observable(!1),this.allImportant=i.observable(!1),this.pageOtherStyle=i.observable(""),this.firstPageOtherStyle=i.observable(""),this.rootOtherStyle=i.observable(""),this.beforeOtherStyle=i.observable(""),this.afterOtherStyle=i.observable(""),this.viewerFontSize=null,this.setViewerFontSizeObservable=e=>{this.viewerFontSize=e;const t=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];t&&(t.value=this.fontSizePxToPercent(Number(e()),100,5).toString())},this.viewerFontSizePercent=i.pureComputed({read(){if(!this.viewerFontSize)return 100;return this.fontSizePxToPercent(Number(this.viewerFontSize()),100,5)},write(e){if(!this.viewerFontSize)return;const t=parseFloat(String(e));let n=t&&this.fontSizePercentToPx(t);if(!n||n<5||n>72){const e=document.getElementsByName("vivliostyle-settings_viewer-font-size")[0];e&&(e.value="100"),n=A.viewerFontSize}this.viewerFontSize(Number(n))},owner:this}),this.cssText=i.pureComputed({read:this.toCSSText,write:this.fromCSSText,owner:this}),this.allImportant.subscribe(e=>{this.pageSizeImportant(e),this.pageMarginImportant(e),this.firstPageMarginZeroImportant(e),this.widowsOrphansImportant(e),this.imageMaxSizeToFitPageImportant(e),this.imageKeepAspectRatioImportant(e),this.baseFontSizeImportant(e),this.baseLineHeightImportant(e),this.baseFontFamilyImportant(e)}),this.pageStyleRegExp=new RegExp("^((?:\\n|.)*?)\\/\\*<viewer>\\*\\/\\s*(?:@page\\s*\\{\\s*(?:size:\\s*([^\\s!;{}]+)(?:\\s+([^\\s!;{}]+))?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:margin:\\s*([^\\s!;{}]+(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?(?:\\s+[^\\s!;{}]+)?)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?(?:@page\\s*:first\\s*\\{\\s*(margin:\\s*0(?:\\w+|%)?\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?((?:[^{}]+|\\{[^{}]*\\})*)\\}\\s*)?((?:html|:root),\\s*body\\s*\\{\\s*margin:\\s*0(?:\\w+|%)?\\s*!important(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:(?:html|:root)\\s*\\{\\s*(?:font-size:\\s*(calc\\([^()]+\\)|[^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:line-height:\\s*([^\\s!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?(?:font-family:\\s*([^!;{}]+)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?([^{}]*)\\}\\s*)?(?:body\\s*\\{\\s*(?:[-\\w]+:\\s*inherit\\s*!important(?:;|(?=[\\s{}]))\\s*)+\\}\\s*)?(?:\\*\\s*\\{\\s*widows:\\s*(1|999)\\s*(!important)?(?:;|(?=[\\s{}]))\\s*orphans:\\s*\\19\\s*\\20(?:;|(?=[\\s{}]))\\s*\\}\\s*)?(?:img,\\s*svg\\s*\\{\\s*(max-inline-size:\\s*100%\\s*(!important)?(?:;|(?=[\\s{}]))\\s*max-block-size:\\s*100vb\\s*\\22(?:;|(?=[\\s{}]))\\s*)?(object-fit:\\s*contain\\s*(!important)?(?:;|(?=[\\s{}]))\\s*)?\\}\\s*)?((?:\\n|.)*)$"),e&&this.copyFrom(e)}fontSizePxToPercent(e,t,n){let i=e/A.viewerFontSize*(t||100);return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fontSizePercentToPx(e,t,n){let i=e/(t||100)*A.viewerFontSize;return n&&(i=i.toPrecision(n).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),i}fromCSSText(e){const t=this.pageStyleRegExp.exec(e);if(t){const[,e,i,o,s,r,a,l,h,c,u,d,p,f,g,m,b,w,E,y,S,N,v,C,T,x]=t;let I=x,A=b,O=p,R=u,k=l,L=E,F=i,D=o,_=0,B=0;if(this.beforeOtherStyle(e),"landscape"==F||"portrait"==F?(this.isLandscape("landscape"==F),F=D,D=null):"landscape"!=D&&"portrait"!=D||(this.isLandscape("landscape"==D),D=null),null!=F){if(null==D)if("auto"==F)this.pageSizeMode(n.Auto);else{const e=P.find(e=>e.name.toLowerCase()==F.toLowerCase());e?(this.pageSizeMode(n.Preset),this.presetSize(e)):(this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(F))}else this.pageSizeMode(n.Custom),this.customWidth(F),this.customHeight(D);this.pageSizeImportant(!!s),s?_++:B++}else this.pageSizeMode(n.Default);null!=r?(this.pageMarginMode("0"==r?n.Zero:n.Custom),"0"==r?this.pageMarginMode(n.Zero):(this.pageMarginMode(n.Custom),this.customMargin(r)),this.pageMarginImportant(!!a),a?_++:B++):this.pageMarginMode(n.Default),k=k||"",this.pageOtherStyle(k),h?(this.firstPageMarginZero(!0),this.firstPageMarginZeroImportant(!!c),c?_++:B++):this.firstPageMarginZero(!1),R=R||"",this.firstPageOtherStyle(R),d?this.forceHtmlBodyMarginZero(!0):this.forceHtmlBodyMarginZero(!1),null!=O?(O=O.replace(/^\s*calc\([.\d]+\s*\*\s*([.\d]+\w+)\)\s*$/,"$1"),this.baseFontSizeSpecified(!0),this.baseFontSize(O),this.baseFontSizeImportant(!!f),f?_++:B++):this.baseFontSizeSpecified(!1),null!=g?(this.baseLineHeightSpecified(!0),this.baseLineHeight(g),this.baseLineHeightImportant(!!m),m?_++:B++):this.baseLineHeightSpecified(!1),null!=A?(A=A.trim(),this.baseFontFamilySpecified(!0),this.baseFontFamily(A),this.baseFontFamilyImportant(!!w),w?_++:B++):this.baseFontFamilySpecified(!1),L=L||"",this.rootOtherStyle(L),null!=y?(this.widowsOrphans(y),this.widowsOrphansImportant(!!S),S?_++:B++):this.widowsOrphans(n.Default),N?(this.imageMaxSizeToFitPage(!0),this.imageMaxSizeToFitPageImportant(!!v),v?_++:B++):this.imageMaxSizeToFitPage(!1),C?(this.imageKeepAspectRatio(!0),this.imageKeepAspectRatioImportant(!!T),T?_++:B++):this.imageKeepAspectRatio(!1),I=I.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"",this.afterOtherStyle(I),this.allImportant(_>0&&0==B)}else{const t=e.replace(/\/\*<\/?viewer>\*\/\n?/g,"")||"";this.afterOtherStyle(t)}}toCSSText(){function e(e){return e?" !important":""}let t=this.beforeOtherStyle();if(t+="/*<viewer>*/\n",this.pageSizeMode()!=n.Default||this.pageMarginMode()!=n.Default||this.pageOtherStyle()){if(t+="@page { ",this.pageSizeMode()!=n.Default){switch(t+="size: ",this.pageSizeMode()){case n.Auto:t+="auto";break;case n.Preset:t+=this.presetSize().name,this.isLandscape()&&(t+=" landscape");break;case n.Custom:t+=`${this.customWidth()} ${this.customHeight()}`;break;default:throw new Error(`Unknown pageSizeMode ${this.pageSizeMode()}`)}t+=`${e(this.pageSizeImportant())}; `}if(this.pageMarginMode()!=n.Default){switch(t+="margin: ",this.pageMarginMode()){case n.Auto:t+="auto";break;case n.Zero:t+="0";break;case n.Custom:t+=`${this.customMargin()}`;break;default:throw new Error(`Unknown pageMarginMode ${this.pageMarginMode()}`)}t+=`${e(this.pageMarginImportant())}; `}t+=this.pageOtherStyle(),t+="}\n"}if((this.firstPageMarginZero()||this.firstPageOtherStyle())&&(t+="@page :first { ",this.firstPageMarginZero()&&(t+=`margin: 0${e(this.firstPageMarginZeroImportant())}; `),t+=this.firstPageOtherStyle(),t+="}\n"),this.forceHtmlBodyMarginZero()&&(t+=":root, body { margin: 0 !important; }\n"),this.baseFontSizeSpecified()||this.baseLineHeightSpecified()||this.baseFontFamilySpecified()||this.rootOtherStyle()){t+=":root { ";const n=this.baseFontSize();if(this.baseFontSizeSpecified())if(this.viewerFontSize&&this.viewerFontSize()!=A.viewerFontSize&&!n.endsWith("%")){t+=`font-size: calc(${this.fontSizePxToPercent(Number(this.viewerFontSize()),1,5)} * ${n})${e(this.baseFontSizeImportant())}; `}else t+=`font-size: ${this.baseFontSize()}${e(this.baseFontSizeImportant())}; `;this.baseLineHeightSpecified()&&(t+=`line-height: ${this.baseLineHeight()}${e(this.baseLineHeightImportant())}; `),this.baseFontFamilySpecified()&&(t+=`font-family: ${this.baseFontFamily()}${e(this.baseFontFamilyImportant())}; `),t+=this.rootOtherStyle(),t+="}\n"}return(this.baseFontSizeSpecified()&&this.baseFontSizeImportant()||this.baseLineHeightSpecified()&&this.baseLineHeightImportant()||this.baseFontFamilySpecified()&&this.baseFontFamilyImportant())&&(t+="body { ",this.baseFontSizeSpecified()&&this.baseFontSizeImportant()&&(t+="font-size: inherit !important; "),this.baseLineHeightSpecified()&&this.baseLineHeightImportant()&&(t+="line-height: inherit !important; "),this.baseFontFamilySpecified()&&this.baseFontFamilyImportant()&&(t+="font-family: inherit !important; "),t+="}\n"),this.widowsOrphans()&&(t+="* { ",t+=`widows: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+=`orphans: ${this.widowsOrphans()}${e(this.widowsOrphansImportant())}; `,t+="}\n"),(this.imageMaxSizeToFitPage()||this.imageKeepAspectRatio())&&(t+="img, svg { ",this.imageMaxSizeToFitPage()&&(t+=`max-inline-size: 100%${e(this.imageMaxSizeToFitPageImportant())}; `,t+=`max-block-size: 100vb${e(this.imageMaxSizeToFitPageImportant())}; `),this.imageKeepAspectRatio()&&(t+=`object-fit: contain${e(this.imageKeepAspectRatioImportant())}; `),t+="}\n"),t+="/*</viewer>*/\n",t+=this.afterOtherStyle(),t}copyFrom(e){this.pageSizeMode(e.pageSizeMode()),this.presetSize(e.presetSize()),this.isLandscape(e.isLandscape()),this.customWidth(e.customWidth()),this.customHeight(e.customHeight()),this.pageSizeImportant(e.pageSizeImportant()),this.pageMarginMode(e.pageMarginMode()),this.customMargin(e.customMargin()),this.pageMarginImportant(e.pageMarginImportant()),this.firstPageMarginZero(e.firstPageMarginZero()),this.firstPageMarginZeroImportant(e.firstPageMarginZeroImportant()),this.forceHtmlBodyMarginZero(e.forceHtmlBodyMarginZero()),this.widowsOrphans(e.widowsOrphans()),this.widowsOrphansImportant(e.widowsOrphansImportant()),this.imageMaxSizeToFitPage(e.imageMaxSizeToFitPage()),this.imageMaxSizeToFitPageImportant(e.imageMaxSizeToFitPageImportant()),this.imageKeepAspectRatio(e.imageKeepAspectRatio()),this.imageKeepAspectRatioImportant(e.imageKeepAspectRatioImportant()),this.baseFontSize(e.baseFontSize()),this.baseFontSizeSpecified(e.baseFontSizeSpecified()),this.baseFontSizeImportant(e.baseFontSizeImportant()),this.baseLineHeight(e.baseLineHeight()),this.baseLineHeightSpecified(e.baseLineHeightSpecified()),this.baseLineHeightImportant(e.baseLineHeightImportant()),this.baseFontFamily(e.baseFontFamily()),this.baseFontFamilySpecified(e.baseFontFamilySpecified()),this.baseFontFamilyImportant(e.baseFontFamilyImportant()),this.allImportant(e.allImportant()),this.pageOtherStyle(e.pageOtherStyle()),this.firstPageOtherStyle(e.firstPageOtherStyle()),this.rootOtherStyle(e.rootOtherStyle()),this.beforeOtherStyle(e.beforeOtherStyle()),this.afterOtherStyle(e.afterOtherStyle()),this.viewerFontSize&&e.viewerFontSize&&this.viewerFontSize(e.viewerFontSize())}equivalentTo(e){return this.pageSizeMode()===e.pageSizeMode()&&((this.pageSizeMode()!==n.Preset||this.presetSize()===e.presetSize())&&((this.pageSizeMode()!==n.Preset||this.isLandscape()===e.isLandscape())&&((this.pageSizeMode()!==n.Custom||this.customWidth()===e.customWidth())&&((this.pageSizeMode()!==n.Custom||this.customHeight()===e.customHeight())&&(this.pageSizeImportant()===e.pageSizeImportant()&&(this.pageMarginMode()===e.pageMarginMode()&&((this.pageMarginMode()!==n.Custom||this.customMargin()===e.customMargin())&&(this.pageMarginImportant()===e.pageMarginImportant()&&(this.firstPageMarginZero()===e.firstPageMarginZero()&&(this.firstPageMarginZeroImportant()===e.firstPageMarginZeroImportant()&&(this.forceHtmlBodyMarginZero()===e.forceHtmlBodyMarginZero()&&(this.widowsOrphans()===e.widowsOrphans()&&(this.widowsOrphansImportant()===e.widowsOrphansImportant()&&(this.imageMaxSizeToFitPage()===e.imageMaxSizeToFitPage()&&(this.imageMaxSizeToFitPageImportant()===e.imageMaxSizeToFitPageImportant()&&(this.imageKeepAspectRatio()===e.imageKeepAspectRatio()&&(this.imageKeepAspectRatioImportant()===e.imageKeepAspectRatioImportant()&&(this.baseFontSizeSpecified()===e.baseFontSizeSpecified()&&((!this.baseFontSizeSpecified()||this.baseFontSize()===e.baseFontSize())&&(this.baseFontSizeImportant()===e.baseFontSizeImportant()&&(this.baseLineHeightSpecified()===e.baseLineHeightSpecified()&&((!this.baseLineHeightSpecified()||this.baseLineHeight()===e.baseLineHeight())&&(this.baseLineHeightImportant()===e.baseLineHeightImportant()&&(this.baseFontFamilySpecified()===e.baseFontFamilySpecified()&&((!this.baseFontFamilySpecified()||this.baseFontFamily()===e.baseFontFamily())&&(this.baseFontFamilyImportant()===e.baseFontFamilyImportant()&&(this.allImportant()===e.allImportant()&&(this.pageOtherStyle()===e.pageOtherStyle()&&(this.firstPageOtherStyle()===e.firstPageOtherStyle()&&(this.rootOtherStyle()===e.rootOtherStyle()&&(this.beforeOtherStyle()===e.beforeOtherStyle()&&(this.afterOtherStyle()===e.afterOtherStyle()&&!(!this.viewerFontSize!=!e.viewerFontSize||this.viewerFontSize&&this.viewerFontSize()!==e.viewerFontSize())))))))))))))))))))))))))))))))))}}O.Mode=n,O.Constants=A,O.PresetSize=P;var R={escapeUnicodeChar:e=>`\\u${(65536|e.charCodeAt(0)).toString(16).substring(1)}`,escapeUnicodeString(e){return e.replace(/[^-a-zA-Z0-9_]/g,this.escapeUnicodeChar)},percentEncodeAmpersandAndUnencodedPercent:e=>e.replace(/%(?![0-9A-Fa-f]{2})/g,"%25").replace(/&/g,"%26"),percentEncodeAmpersandAndPercent:e=>e.replace(/%/g,"%25").replace(/&/g,"%26"),percentDecodeAmpersandAndPercent:e=>e.replace(/%26/g,"&").replace(/%25/g,"%"),percentEncodeForDataURI:e=>encodeURI(e).replace(/#/g,"%23").replace(/&/g,"%26")};function k(e){return new RegExp(`[#&]${R.escapeUnicodeString(e)}=([^&]*)`,"g")}const L=new class{constructor(){this.history=window?window.history:null,this.location=window?window.location:{href:""},this.storedUrl=this.location.href}getBaseURL(){let e=this.location.href;return e=e.replace(/#.*$/,""),e.replace(/\/[^/]*$/,"/")}hasParameter(e){const t=this.location.href;return k(e).test(t)}getParameter(e){const t=this.location.href,n=k(e),i=[];let o;for(;o=n.exec(t);)i.push(o[1]);return i}setParameter(e,t,n){const i=this.location.href;let o;const s=k(e);let r=s.exec(i);if(r&&n)for(;n-- >=1;)r=s.exec(i);if(r){const e=r[1].length,n=r.index+r[0].length-e;o=i.substring(0,n)+t+i.substring(n+e)}else o=`${i+(i.match(/[#&]$/)?"":i.match(/#/)?"&":"#")+e}=${t}`,"src"===e&&(o=o.replace(/#(?!src)(.*?)&(src=[^&]*)/,"#$2&$1"));null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",o):this.location.href=o,this.storedUrl=o}removeParameter(e,t){const n=this.location.href;let i;const o=k(e);let s=o.exec(n);if(s&&t&&(s=o.exec(n)),s){for(i=n;s;s=o.exec(i)){const e=s.index+s[0].length;i="#"==s[0].charAt(0)?i.substring(0,s.index+1)+i.substring(e+1):i.substring(0,s.index)+i.substring(e),o.lastIndex-=s[0].length}i=i.replace(/^(.*?)[#&]$/,"$1"),null!==this.history&&this.history.replaceState?this.history.replaceState(null,"",i):this.location.href=i}this.storedUrl=i}};class F{constructor(){const e=function(){const e=L.getParameter("src"),t=L.getParameter("b"),n=L.getParameter("x"),i=L.getParameter("bookMode")[0],o=L.getParameter("f")[0],s=L.getParameter("style"),r=L.getParameter("userStyle");return{srcUrls:e.length?e:t.length?t:n.length?n:null,bookMode:"true"===i||"false"!==i&&!!t.length,fragment:o||null,authorStyleSheet:s.length?s:[],userStyleSheet:r.length?r:[]}}();this.srcUrls=i.observable(e.srcUrls||null),this.bookMode=i.observable(e.bookMode),this.fragment=i.observable(e.fragment||""),this.authorStyleSheet=i.observable(e.authorStyleSheet),this.userStyleSheet=i.observable(e.userStyleSheet),this.pageStyle=new O,this.dataUserStyleIndex=-1,this.bookMode.subscribe(e=>{e?L.setParameter("bookMode",e.toString()):L.removeParameter("bookMode")}),this.fragment.subscribe(e=>{if(/^epubcfi\(\/([246]\/)?2!\)/.test(e))L.removeParameter("f");else{const t=e.replace(/[\s+&?=#\u007F-\uFFFF]+/g,encodeURIComponent);L.setParameter("f",t)}}),e.userStyleSheet.find((e,t)=>{if(/^data:,.*?\/\*(?:<|%3C)viewer(?:>|%3E)\*\//.test(e)){this.dataUserStyleIndex=t;const n=e.replace(/^data:,/,"").replace(/%(?![0-9A-Fa-f]{2})/g,"%25"),i=decodeURIComponent(n);return this.pageStyle.cssText(i),!0}return!1}),this.pageStyle.cssText.subscribe(e=>{this.updateUserStyleSheetFromCSSText(e)})}toObject(){function e(e){return e.map(e=>({url:e}))}const t=e(this.userStyleSheet());return this.pageStyle.pageSizeMode()==O.Mode.Default&&t.unshift({text:"@page{size:auto}"}),{fragment:this.fragment(),authorStyleSheet:e(this.authorStyleSheet()),userStyleSheet:t}}updateUserStyleSheetFromCSSText(e){null==e&&(e=this.pageStyle.toCSSText());const t=this.userStyleSheet();if((!e||/^\s*(\/\*.*?\*\/\s*)*$/.test(e))&&t.length<=(-1==this.dataUserStyleIndex?0:1))return t.pop(),this.dataUserStyleIndex=-1,this.userStyleSheet(t),void L.removeParameter("userStyle");const n="data:,"+R.percentEncodeForDataURI(e.trim());-1==this.dataUserStyleIndex?(t.push(n),this.dataUserStyleIndex=t.length-1):t[this.dataUserStyleIndex]=n,this.userStyleSheet(t),L.setParameter("userStyle",n,this.dataUserStyleIndex)}}class D{toSpreadViewString(){switch(this){case _.SPREAD:return"true";case _.SINGLE_PAGE:return"false";case _.AUTO_SPREAD:return"auto";default:throw new Error("Invalid PageViewMode")}}toString(){switch(this){case _.SPREAD:return"spread";case _.SINGLE_PAGE:return"singlePage";case _.AUTO_SPREAD:return"autoSpread";default:throw new Error("Invalid PageViewMode")}}}const _={AUTO_SPREAD:new D,SINGLE_PAGE:new D,SPREAD:new D,defaultMode(){return this.AUTO_SPREAD},fromSpreadViewString(e){switch(e){case"true":return this.SPREAD;case"false":return this.SINGLE_PAGE;case"auto":default:return this.AUTO_SPREAD}},of(e){switch(e){case p.SPREAD:return this.SPREAD;case p.SINGLE_PAGE:return this.SINGLE_PAGE;case p.AUTO_SPREAD:return this.AUTO_SPREAD;default:throw new Error(`Invalid PageViewMode name: ${e}`)}}};class B{constructor(e){this.zoom=e}get fitToScreen(){return null}getCurrentZoomFactor(e){return 1}toggleFitToScreen(){return new B(1)}zoomIn(e){return new U(1.25*this.getCurrentZoomFactor(e))}zoomOut(e){return new U(.8*this.getCurrentZoomFactor(e))}zoomToActualSize(){return new U(1)}static createDefaultOptions(){return new M}static createFromZoomFactor(e){return new U(e)}}class M extends B{constructor(){super(1)}get fitToScreen(){return!0}toggleFitToScreen(){return new U(1)}getCurrentZoomFactor(e){return e.queryZoomFactor(g.FIT_INSIDE_VIEWPORT)}}class U extends B{get fitToScreen(){return!1}toggleFitToScreen(){return new M}getCurrentZoomFactor(){return this.zoom}}function z(){return{renderAllPages:!0,fontSize:16,profile:!1,pageViewMode:_.defaultMode(),zoom:B.createDefaultOptions()}}class V{constructor(e){if(this.renderAllPages=i.observable(),this.fontSize=i.observable(),this.profile=i.observable(),this.pageViewMode=i.observable(),this.zoom=i.observable(),e)this.copyFrom(e);else{const e=z(),t=function(){const e=L.getParameter("renderAllPages")[0],t=L.getParameter("fontSize")[0],n=/^([\d.]+)(?:(%25|%)|\/([\d.]+))?$/.exec(t);let i=null;if(n){const[,e,t,o]=n;i=parseFloat(e),(t||o)&&(i=16*i/(t?100:parseFloat(o))),i<5&&(i=5),i>72&&(i=72)}return{renderAllPages:"true"===e||"false"!==e&&(!L.hasParameter("b")&&null),fontSize:i,profile:"true"===L.getParameter("profile")[0],pageViewMode:_.fromSpreadViewString(L.getParameter("spread")[0]),zoom:void 0}}();this.renderAllPages(null!==t.renderAllPages?t.renderAllPages:e.renderAllPages),this.fontSize(t.fontSize||e.fontSize),this.profile(t.profile||e.profile),this.pageViewMode(t.pageViewMode||e.pageViewMode),this.zoom(e.zoom),this.pageViewMode.subscribe(t=>{t===e.pageViewMode?L.removeParameter("spread"):L.setParameter("spread",t.toSpreadViewString())}),this.renderAllPages.subscribe(t=>{t===e.renderAllPages?L.removeParameter("renderAllPages"):L.setParameter("renderAllPages",t.toString())}),this.fontSize.subscribe(t=>{"number"==typeof t&&(t=t.toPrecision(10).replace(/(?:\.0*|(\.\d*?)0+)$/,"$1")),Number(t)==e.fontSize?L.removeParameter("fontSize"):L.setParameter("fontSize",`${t}/${e.fontSize}`)})}}copyFrom(e){this.renderAllPages(e.renderAllPages()),this.fontSize(e.fontSize()),this.profile(e.profile()),this.pageViewMode(e.pageViewMode()),this.zoom(e.zoom())}toObject(){return{renderAllPages:this.renderAllPages(),fontSize:Number(this.fontSize()),pageViewMode:this.pageViewMode().toString(),fitToScreen:this.zoom().fitToScreen,zoom:this.zoom().zoom}}}V.getDefaultValues=z;var H,$=i.observableArray();!function(e){e.Debug="debug",e.Info="info",e.Warn="warn",e.Error="error"}(H||(H={}));class G{constructor(){this.logLevel=H.Error}static getLogger(){return new G}setLogLevel(e){this.logLevel=e}debug(e){this.logLevel===H.Debug&&$.push({type:"debug",content:e})}info(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info||$.push({type:"info",content:e})}warn(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn||$.push({type:"warn",content:e})}error(e){this.logLevel!==H.Debug&&this.logLevel!==H.Info&&this.logLevel!==H.Warn&&this.logLevel!==H.Error||$.push({type:"error",content:e})}}const W={readonlyObservable(e){const t=i.observable(e);return{getter:i.pureComputed(()=>t()),value:t}}};class X{constructor(e,t){this.viewerOptions_=t,this.documentOptions_=null,this.coreViewer_=new d(e,t.toObject());const n=this.state_={status:W.readonlyObservable(h.LOADING),pageProgression:W.readonlyObservable(a.LTR)};this.state={status:n.status.getter.extend({rateLimit:{timeout:100,method:"notifyWhenChangesStop"},notify:"always"}),navigatable:i.pureComputed(()=>n.status.value()&&n.status.value()!==h.LOADING),pageProgression:n.pageProgression.getter},this.epage=i.observable(),this.epageCount=i.observable(),this.firstPage=i.observable(),this.lastPage=i.observable(),this.tocVisible=i.observable(),this.tocPinned=i.observable(),this.inputUrl=i.observable(""),this.setupViewerEventHandler(),this.setupViewerOptionSubscriptions()}setupViewerEventHandler(){const e=G.getLogger();this.coreViewer_.addListener("debug",t=>{e.debug(t.content)}),this.coreViewer_.addListener("info",t=>{e.info(t.content)}),this.coreViewer_.addListener("warn",t=>{e.warn(t.content)}),this.coreViewer_.addListener("error",t=>{e.error(t.content)}),this.coreViewer_.addListener("readystatechange",()=>{const e=this.coreViewer_.readyState;e!==h.INTERACTIVE&&e!==h.COMPLETE||this.state_.pageProgression.value(this.coreViewer_.getCurrentPageProgression()),this.state_.status.value(e)}),this.coreViewer_.addListener("loaded",()=>{this.viewerOptions_.profile()&&N.printTimings()}),this.coreViewer_.addListener("nav",e=>{const{cfi:t,first:n,last:i,epage:o,epageCount:s,metadata:r,docTitle:a}=e;if(t&&this.documentOptions_.fragment(t),void 0!==n&&this.firstPage(n),void 0!==i&&this.lastPage(i),void 0!==o&&this.epage(o),void 0!==s&&this.epageCount(s),r||a){const e=r&&r["http://purl.org/dc/terms/title"],t=e&&e[0]&&e[0].v;t?!a||a===t||this.firstPage()||/\.xhtml$/.test(a)?document.title=t:document.title=`${a} | ${t}`:document.title=a||"Vivliostyle Viewer"}const l=this.tocVisible(),h=this.coreViewer_.isTOCVisible();l&&!h||this.tocVisible(h)}),this.coreViewer_.addListener("hyperlink",e=>{e.internal?(this.navigateToInternalUrl(e.href),this.tocVisible()&&this.tocVisible(!1),document.getElementById("vivliostyle-viewer-viewport").focus()):window.location.href=e.href})}setupViewerOptionSubscriptions(){i.computed((function(){const e=this.viewerOptions_.toObject();this.coreViewer_.setOptions(e)}),this).extend({rateLimit:0})}loadDocument(e,t){this.state_.status.value(h.LOADING),t&&this.viewerOptions_.copyFrom(t),this.documentOptions_=e,e.srcUrls()?e.bookMode()?this.coreViewer_.loadPublication(e.srcUrls()[0],e.toObject(),this.viewerOptions_.toObject()):this.coreViewer_.loadDocument(e.srcUrls(),e.toObject(),this.viewerOptions_.toObject()):this.state_.status.value("")}navigateToPrevious(){this.coreViewer_.navigateToPage(u.PREVIOUS)}navigateToNext(){this.coreViewer_.navigateToPage(u.NEXT)}navigateToLeft(){this.coreViewer_.navigateToPage(u.LEFT)}navigateToRight(){this.coreViewer_.navigateToPage(u.RIGHT)}navigateToFirst(){this.coreViewer_.navigateToPage(u.FIRST)}navigateToLast(){this.coreViewer_.navigateToPage(u.LAST)}navigateToEPage(e){this.coreViewer_.navigateToPage(u.EPAGE,e)}navigateToInternalUrl(e){this.coreViewer_.navigateToInternalUrl(e)}queryZoomFactor(e){return this.coreViewer_.queryZoomFactor(e)}epageToPageNumber(e){if(!e&&0!=e)return;return Math.round(e+1)}epageFromPageNumber(e){if(!e&&0!=e)return;return e-1}showTOC(e,t){if(null==this.coreViewer_.isTOCVisible())return;const n=null==e?!this.tocVisible():e;this.tocVisible(n),this.tocPinned(!!n&&!t),this.coreViewer_.showTOC(n,t)}}const j={Unidentified:"Unidentified",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",ArrowRight:"ArrowRight",ArrowUp:"ArrowUp",Home:"Home",End:"End",PageDown:"PageDown",PageUp:"PageUp",Escape:"Escape",Enter:"Enter",Space:" "};var K={Keys:j,identifyKeyFromEvent:function(e){const t=e.key,n=e.keyIdentifier,i=e.location;return t===j.ArrowDown||"Down"===t||"Down"===n?e.metaKey?j.End:j.ArrowDown:t===j.ArrowLeft||"Left"===t||"Left"===n?j.ArrowLeft:t===j.ArrowRight||"Right"===t||"Right"===n?j.ArrowRight:t===j.ArrowUp||"Up"===t||"Up"===n?e.metaKey?j.Home:j.ArrowUp:t===j.Escape||"Esc"===t||"U+001B"===n?j.Escape:t===j.Enter||"Enter"===n?j.Enter:t===j.Space||"U+0020"===n?j.Space:"0"===t||"U+0030"===n?"0":"+"===t||"Add"===t||"U+002B"===n||"U+00BB"===n||"U+004B"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"+":"-"===t||"Subtract"===t||"U+002D"===n||"U+00BD"===n||"U+004D"===n&&i===KeyboardEvent.DOM_KEY_LOCATION_NUMPAD?"-":t||n||j.Unidentified}};const{Keys:Y}=K;class q{constructor(e,t,n,o){this.viewerOptions_=e,this.viewer_=t,this.settingsPanel_=n,this.justClicked=!1,this.isDisabled=i.pureComputed(()=>this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()||!this.viewer_.state.navigatable());const s=i.pureComputed(()=>o.disablePageNavigation||this.isDisabled());s.subscribe(e=>{const t=document.getElementById("vivliostyle-page-number");t&&(t.disabled=e)}),this.isPageNumberDisabled=i.pureComputed(()=>s()),this.isNavigateToPreviousDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&this.viewer_.firstPage()),this.isNavigateToNextDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&((!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)&&this.viewer_.lastPage())),this.isNavigateToLeftDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToPreviousDisabled():this.isNavigateToNextDisabled())),this.isNavigateToRightDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.pageProgression&&(this.viewer_.state.pageProgression()===a.LTR?this.isNavigateToNextDisabled():this.isNavigateToPreviousDisabled())),this.isNavigateToFirstDisabled=this.isNavigateToPreviousDisabled,this.isNavigateToLastDisabled=i.pureComputed(()=>!!s()||void 0!==this.viewer_.state.status&&(!(!this.viewerOptions_.renderAllPages()||this.viewer_.state.status()==h.COMPLETE)||this.viewer_.lastPage())),this.hidePageNavigation=!!o.disablePageNavigation;const r=i.pureComputed(()=>o.disableZoom||this.isDisabled());this.isZoomOutDisabled=r,this.isZoomInDisabled=r,this.isZoomToActualSizeDisabled=r,this.isToggleFitToScreenDisabled=r,this.hideZoom=!!o.disableZoom,this.fitToScreen=i.pureComputed(()=>e.zoom().fitToScreen);const l=i.pureComputed(()=>o.disableFontSizeChange||this.isDisabled());this.isIncreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()>=72),this.isDecreaseFontSizeDisabled=i.pureComputed(()=>!!l()||this.viewerOptions_.fontSize()<=5),this.isDefaultFontSizeDisabled=l,this.hideFontSizeChange=!!o.disableFontSizeChange,this.isTOCToggleDisabled=i.pureComputed(()=>o.disableTOCNavigation||this.isDisabled()||null==this.viewer_.tocVisible()),this.hideTOCNavigation=!!o.disableTOCNavigation,this.pageNumber=i.pureComputed({read(){return this.viewer_.epageToPageNumber(this.viewer_.epage())},write(e){const t=this.viewer_.epage(),n=this.viewer_.epageToPageNumber(t);let i=parseFloat(e.toString().replace(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248)))||0;if(/^[-+]/.test(e.toString())&&(i=n+i),i<1)i=1;else{const e=this.viewer_.epageCount();this.viewerOptions_.renderAllPages()?i>e&&(i=e):i>e+1&&(i=e+1)}const o=this.viewer_.epageFromPageNumber(i),s=document.getElementById("vivliostyle-page-number");s.value=i.toString(),this.viewer_.navigateToEPage(o),setTimeout(()=>{this.viewer_.state.status()!=h.LOADING&&this.viewer_.epage()===t&&(s.value=n.toString()),document.getElementById("vivliostyle-viewer-viewport").focus()},10)},owner:this}),this.totalPages=i.pureComputed(()=>{let e=this.viewer_.epageCount();if(!e)return e;const t=Number(this.pageNumber());return this.viewer_.lastPage()?e=t:t>=e&&e++,e}),["navigateToPrevious","navigateToNext","navigateToLeft","navigateToRight","navigateToFirst","navigateToLast","zoomIn","zoomOut","zoomToActualSize","toggleFitToScreen","increaseFontSize","decreaseFontSize","defaultFontSize","onclickViewport","toggleTOC"].forEach(e=>{this[e]=this[e].bind(this)})}static PREVIOUS(e){throw new Error("Method not implemented.")}static NEXT(e){throw new Error("Method not implemented.")}static LEFT(e){throw new Error("Method not implemented.")}static RIGHT(e){throw new Error("Method not implemented.")}static FIRST(e){throw new Error("Method not implemented.")}static LAST(e){throw new Error("Method not implemented.")}static EPAGE(e,t){throw new Error("Method not implemented.")}navigateToPrevious(){return!this.isNavigateToPreviousDisabled()&&(this.viewer_.navigateToPrevious(),!0)}navigateToNext(){return!this.isNavigateToNextDisabled()&&(this.viewer_.navigateToNext(),!0)}navigateToLeft(){return!this.isNavigateToLeftDisabled()&&(this.viewer_.navigateToLeft(),!0)}navigateToRight(){return!this.isNavigateToRightDisabled()&&(this.viewer_.navigateToRight(),!0)}navigateToFirst(){return!this.isNavigateToFirstDisabled()&&(this.viewer_.navigateToFirst(),!0)}navigateToLast(){return!this.isNavigateToLastDisabled()&&(this.viewer_.navigateToLast(),!0)}zoomIn(){if(this.isZoomInDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomIn(this.viewer_)),!0}}zoomOut(){if(this.isZoomOutDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomOut(this.viewer_)),!0}}zoomToActualSize(){if(this.isZoomToActualSizeDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.zoomToActualSize()),!0}}toggleFitToScreen(){if(this.isToggleFitToScreenDisabled())return!1;{const e=this.viewerOptions_.zoom();return this.viewerOptions_.zoom(e.toggleFitToScreen()),!0}}increaseFontSize(){if(this.isIncreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e<10?Math.floor(e)+1:e<20?2*(Math.floor(e/2)+1):e<40?4*(Math.floor(e/4)+1):e<72?8*(Math.floor(e/8)+1):72,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}decreaseFontSize(){if(this.isDecreaseFontSizeDisabled())return!1;{let e=Number(this.viewerOptions_.fontSize());return e=e>40?8*(Math.ceil(e/8)-1):e>20?4*(Math.ceil(e/4)-1):e>10?2*(Math.ceil(e/2)-1):e>5?Math.ceil(e)-1:5,this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}defaultFontSize(){if(this.isDefaultFontSizeDisabled())return!1;{const e=V.getDefaultValues().fontSize;return this.viewerOptions_.fontSize(e),this.updateFontSizeSettings(),!0}}updateFontSizeSettings(){this.settingsPanel_.state.viewerOptions.fontSize(this.viewerOptions_.fontSize()),this.viewer_.documentOptions_.pageStyle.baseFontSizeSpecified()&&(this.viewer_.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.viewer_.documentOptions_,this.viewerOptions_))}onclickViewport(){if(this.settingsPanel_.justClicked)return!0;if(this.viewer_.tocVisible()&&!this.viewer_.tocPinned()){const e=document.querySelector("[data-vivliostyle-toc-box]");e&&!e.contains(document.activeElement)&&this.toggleTOC()}return this.settingsPanel_.opened()&&!this.settingsPanel_.pinned()&&this.settingsPanel_.close(),!0}toggleTOC(){if(this.isTOCToggleDisabled())return!1;{let e=null;return this.viewer_.tocVisible()?this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(null!==e&&(clearInterval(e),e=null),this.viewer_.showTOC(!1),this.justClicked=!0,setTimeout(()=>{this.justClicked&&(document.getElementById("vivliostyle-viewer-viewport").focus(),this.justClicked=!1)},300)):(this.justClicked?(this.viewer_.showTOC(!0,!1),this.justClicked=!1):(this.viewer_.showTOC(!0,!0),this.justClicked=!0),e=setInterval(()=>{const t=document.querySelector("[data-vivliostyle-toc-box]");t&&"visible"===t.style.visibility&&(t.tabIndex=0,t.focus(),clearInterval(e),e=null),this.justClicked=!1},300)),!0}}navigateTOC(e){const t=Array.from(document.querySelectorAll("[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) [tabindex='0'],[data-vivliostyle-toc-box]>*>*>*>*>*:not([hidden]) a[href]:not([tabindex='-1'])"));let n=t.indexOf(document.activeElement);const i=e=>t[e]&&"button"===t[e].getAttribute("role"),o=e=>t[e]&&"true"===t[e].getAttribute("aria-expanded");switch(e){case Y.ArrowLeft:if(-1==n){n=t.length-1;break}if(!i(n)&&i(n-1)&&n--,i(n)&&o(n))t[n].click();else for(let e=n-1;e>=0;e--)if(i(e)&&t[e].parentElement.contains(t[n])){n=e;break}break;case Y.ArrowRight:if(-1==n){n=0;break}!i(n)&&i(n-1)&&n--,i(n)&&(o(n)?n+=2:t[n].click());break;case Y.ArrowDown:n++;break;case Y.ArrowUp:if(-1==n){n=t.length-1;break}n>0&&i(--n)&&n--;break;case Y.Home:n=0;break;case Y.End:n=t.length-1;break;case Y.Space:!i(n)&&i(n-1)&&n--,i(n)&&t[n].click()}return i(n)&&n++,t[n]&&t[n].focus(),!0}handleKey(e){if(this.settingsPanel_.opened()&&this.settingsPanel_.settingsToggle.contains(document.activeElement))return!0;const t=document.getElementById("vivliostyle-page-number"),n=document.getElementById("vivliostyle-viewer-viewport"),i=n.scrollWidth>n.clientWidth,o=n.scrollHeight>n.clientHeight,s=t===document.activeElement,r=this.viewer_.tocVisible()&&!s&&n!=document.activeElement;switch(e){case"+":return s||!this.increaseFontSize();case"-":return s||!this.decreaseFontSize();case"0":return s||!this.defaultFontSize();case"1":return s||!this.zoomToActualSize();case Y.ArrowLeft:return r?!this.navigateTOC(e):s||i||!this.navigateToLeft();case Y.ArrowRight:return r?!this.navigateTOC(e):s||i||!this.navigateToRight();case Y.ArrowDown:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToNext());case Y.ArrowUp:return r?!this.navigateTOC(e):(n.focus(),o||!this.navigateToPrevious());case Y.PageDown:return!!r||(n.focus(),!this.navigateToNext());case Y.PageUp:return!!r||(n.focus(),!this.navigateToPrevious());case Y.Home:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToFirst());case Y.End:return r?!this.navigateTOC(e):(n.focus(),!this.navigateToLast());case"o":case"O":return n.focus(),!this.zoomOut();case"i":case"I":return n.focus(),!this.zoomIn();case"f":case"F":return n.focus(),!this.toggleFitToScreen();case"g":case"G":return t.focus(),!1;case"t":case"T":return n.focus(),!this.toggleTOC();case Y.Escape:return this.viewer_.tocVisible()?!this.toggleTOC():(n.focus(),!0);case Y.Space:return r?!this.navigateTOC(e):"button"!==document.activeElement.getAttribute("role")||(document.activeElement.click(),!1);default:return!0}}}const{Keys:Z}=K;class Q{constructor(e,t,n,o,s){this.viewerOptions_=e,this.documentOptions_=t,this.viewer_=n,this.isPageStyleChangeDisabled=!!s.disablePageStyleChange,this.isOverrideDocumentStyleSheetDisabled=this.isPageStyleChangeDisabled,this.isPageViewModeChangeDisabled=!!s.disablePageViewModeChange,this.isBookModeChangeDisabled=!!s.disableBookModeChange,this.isRenderAllPagesChangeDisabled=!!s.disableRenderAllPagesChange,this.justClicked=!1,this.settingsToggle=document.getElementById("vivliostyle-menu-item_settings-toggle"),this.opened=i.observable(!1),this.pinned=i.observable(!1),this.state={viewerOptions:new V(e),pageStyle:new O(t.pageStyle),pageViewMode:i.pureComputed({read:()=>this.state.viewerOptions.pageViewMode().toString(),write:e=>{this.state.viewerOptions.pageViewMode(_.of(e))}}),bookMode:i.observable(t.bookMode()),renderAllPages:i.pureComputed({read:()=>this.state.viewerOptions.renderAllPages(),write:e=>{this.state.viewerOptions.renderAllPages(e)}})},this.state.pageStyle.setViewerFontSizeObservable(this.state.viewerOptions.fontSize),this.defaultPageStyle=new O,["close","toggle","apply","cancel","resetUserStyle"].forEach((function(e){this[e]=this[e].bind(this)}),this),o.visible.subscribe((function(e){e&&this.close()}),this),this.state.bookMode.subscribe(e=>{t.bookMode(e)}),this.state.renderAllPages.subscribe(t=>{e.renderAllPages(t)})}close(){this.opened(!1),this.pinned(!1);const e=document.getElementById("vivliostyle-viewer-viewport");return e&&e.focus(),!0}toggle(){this.opened()?this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.close(),this.justClicked=!0,setTimeout(()=>{this.justClicked=!1},300)):(this.viewer_.tocPinned()||this.viewer_.showTOC(!1),this.opened(!0),this.justClicked?(this.justClicked=!1,this.pinned(!0)):(this.pinned(!1),this.justClicked=!0,this.focusToFirstItem(),setTimeout(()=>{this.justClicked=!1},300)))}apply(){this.documentOptions_.pageStyle.copyFrom(this.state.pageStyle),this.documentOptions_.pageStyle.baseFontSizeSpecified()&&this.documentOptions_.updateUserStyleSheetFromCSSText(),this.viewer_.loadDocument(this.documentOptions_,this.state.viewerOptions),this.pinned()?this.focusToFirstItem():this.close()}cancel(){this.state.viewerOptions.copyFrom(this.viewerOptions_),this.state.pageStyle.copyFrom(this.documentOptions_.pageStyle),this.close()}resetUserStyle(){return this.state.pageStyle.copyFrom(this.defaultPageStyle),this.state.viewerOptions.fontSize(V.getDefaultValues().fontSize),setTimeout(()=>{document.getElementsByName("vivliostyle-settings_reset-user-style")[0].checked=!1},200),!0}focusToFirstItem(e){const t=e||this.settingsToggle,n=["input","textarea","summary"].includes(t.localName)?t:Array.from(t.getElementsByTagName("input")).find(e=>!e.disabled&&("radio"!=e.type||e.checked));if(n){for(let e=n.parentElement;e&&e!=this.settingsToggle;e=e.parentElement)"details"==e.localName&&(e.open=!0);n.focus()}}handleKey(e){const t=this.opened()&&this.settingsToggle.contains(document.activeElement),n=t&&("text"==document.activeElement.type||"select"==document.activeElement.localName),i=t&&"textarea"==document.activeElement.localName,o=t&&!n&&!i;switch(e){case Z.Escape:return this.opened()&&(this.cancel(),this.close()),!0;case"s":case"S":return!(!this.opened()||o||!t)||(this.toggle(),!1);case"p":case"P":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-and-rendering").firstElementChild),!1);case"v":case"V":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-view-mode")),!1);case"b":case"B":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_book-mode")[0]),!1);case"a":case"A":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_render-all-pages")[0]),!1);case"u":case"U":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_user-style").firstElementChild),!1);case"z":case"Z":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-size")),!1);case"m":case"M":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-margin")),!1);case"k":case"K":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_page-breaks")),!1);case"i":case"I":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_images")),!1);case"t":case"T":return!o||(this.focusToFirstItem(document.getElementById("vivliostyle-settings_text")),!1);case"o":case"O":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_override-document-stylesheets")[0]),!1);case"c":case"C":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_css-details")[0]),!1);case"r":case"R":return!o||(this.focusToFirstItem(document.getElementsByName("vivliostyle-settings_reset-user-style")[0]),!1);case Z.Enter:return!(n||o&&"vivliostyle-menu-button_apply"!==document.activeElement.id&&"vivliostyle-menu-button_reset"!==document.activeElement.id)||(document.getElementById("vivliostyle-menu-button_apply").focus(),!1);default:return!0}}}class J{constructor(e){this.list=e,this.visible=i.pureComputed(()=>e().length>0)}getDisplayMessage(e){const t=e.error;let n=t&&(t.toString()||t.frameTrace||t.stack);return n&&(n=n.split("\n",1)[0]),n||(n=e.messages.join("\n")),n}}function ee(){this.documentOptions=new F,this.viewerOptions=new V,this.documentOptions.pageStyle.setViewerFontSizeObservable(this.viewerOptions.fontSize),this.viewerOptions.profile()&&I.profiler.enable(),this.isDebug="true"===L.getParameter("debug")[0],this.viewerSettings={userAgentRootURL:`${L.getBaseURL()}resources/`,viewportElement:document.getElementById("vivliostyle-viewer-viewport"),debug:this.isDebug};const e=L.getParameter("src"),t=L.getParameter("b"),n=L.getParameter("x");e.length||(t.length?(L.setParameter("src",t[0]),L.setParameter("bookMode","true"),L.hasParameter("renderAllPages")||L.setParameter("renderAllPages","false")):n.length&&n.forEach((e,t)=>{L.setParameter("src",e,t)})),L.removeParameter("b"),L.removeParameter("x"),L.removeParameter("f",!0),L.removeParameter("spread",!0),L.removeParameter("bookMode",!0),L.removeParameter("renderAllPages",!0),L.removeParameter("fontSize",!0),L.removeParameter("profile",!0),L.removeParameter("debug",!0),this.viewer=new X(this.viewerSettings,this.viewerOptions),this.viewer.inputUrl.subscribe(e=>{""!=e?(L.hasParameter("src")||L.history.pushState&&L.history.pushState(null,""),e=e.startsWith("<")?"data:,"+R.percentEncodeForDataURI(e):R.percentEncodeAmpersandAndUnencodedPercent(e),L.setParameter("src",e),this.documentOptions.srcUrls(L.getParameter("src"))):L.removeParameter("src")}),this.messageDialog=new J($);this.settingsPanel=new Q(this.viewerOptions,this.documentOptions,this.viewer,this.messageDialog,{disablePageStyleChange:!1,disablePageViewModeChange:!1,disableBookModeChange:!1,disableRenderAllPagesChange:!1});this.navigation=new q(this.viewerOptions,this.viewer,this.settingsPanel,{disableTOCNavigation:!1,disablePageNavigation:!1,disableZoom:!1,disableFontSizeChange:!1}),this.handleKey=(e,t)=>{const n=K.identifyKeyFromEvent(t);if("vivliostyle-input-url"===document.activeElement.id)return"Enter"!==n||13!==t.keyCode||(this.viewer.loadDocument(this.documentOptions),!1);if("Home"!==n&&"End"!==n&&(t.ctrlKey||t.metaKey)||t.altKey||t.shiftKey)return!0;let i=this.settingsPanel.handleKey(n);return i&&(i=this.navigation.handleKey(n)),i},this.viewer.loadDocument(this.documentOptions),window.onhashchange=()=>{window.location.href!=L.storedUrl&&window.location.reload()}}const te="ontouchstart"in window;i.bindingHandlers.menuButton={init(e,t){i.unwrap(t())&&(te?(e.addEventListener("touchstart",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!0)}),e.addEventListener("touchend",()=>{i.utils.toggleDomNodeCssClass(e,"hover active",!1)})):(e.addEventListener("mouseover",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!0)}),e.addEventListener("mousedown",()=>{i.utils.toggleDomNodeCssClass(e,"active",!0)}),e.addEventListener("mouseup",()=>{i.utils.toggleDomNodeCssClass(e,"active",!1)}),e.addEventListener("mouseout",()=>{i.utils.toggleDomNodeCssClass(e,"hover",!1),i.utils.toggleDomNodeCssClass(e,"active",!1),window.getSelection().removeAllRanges()})))}};const ne="ontouchstart"in window;let ie=null,oe=null,se=null;i.bindingHandlers.swipePages={init(e,t){ne&&i.unwrap(t())&&(e.addEventListener("touchstart",e=>{if(e.touches.length>1)return;if(window.visualViewport&&window.visualViewport.scale>1)return;const t=document.getElementById("vivliostyle-viewer-viewport");t&&t.scrollWidth>t.clientWidth||(ie=e.touches[0].clientX,oe=e.touches[0].clientY)}),e.addEventListener("touchmove",e=>{if(!(e.touches.length>1)&&null!==ie&&null!==oe){const t=e.touches[0].clientX-ie,n=e.touches[0].clientY-oe;Math.abs(t)>Math.abs(n)&&(se=t<0?document.getElementById("vivliostyle-page-navigation-right"):document.getElementById("vivliostyle-page-navigation-left")),Math.abs(t)+Math.abs(n)>=16&&(se&&(se.click(),i.utils.toggleDomNodeCssClass(se,"active",!0)),ie=null,oe=null)}}),e.addEventListener("touchend",()=>{se&&i.utils.toggleDomNodeCssClass(se,"active",!1),se=null,ie=null,oe=null}))}},{start(){function e(){i.applyBindings(new ee)}window.__loaded?e():window.onload=e}}.start()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml2bGlvc3R5bGUtdmlld2VyLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL3BhZ2Utc3R5bGUudHMiLCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMva25vY2tvdXQvYnVpbGQvb3V0cHV0L2tub2Nrb3V0LWxhdGVzdC5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvbnN0YW50cy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xvZ2dpbmcudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wbHVnaW4udHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wcm9maWxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvYmFzZS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NmaS50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2V4cHJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZ2VvbWV0cnktdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wcm9wLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY291bnRlcnMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdG9rZW5pemVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdGFzay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Rhc2stdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL25ldC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1wYXJzZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9tYXRjaGVycy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1jYXNjYWRlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLWxvZ2ljYWwtdXRpbC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3NpemluZy50cyIsIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LWRpZmYvZGlmZi5qcyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3R5cGVzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZGlmZi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3Z0cmVlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcGFnZS1mbG9hdHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9mb290bm90ZXMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC1oZWxwZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9icmVhay1wb3NpdGlvbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Rpc3BsYXkudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9sYXlvdXQtcHJvY2Vzc29yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXJldHJ5ZXJzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbGF5b3V0LXV0aWwudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGFyZWQudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9wc2V1ZG8tZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2xheW91dC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3JlcGV0aXRpdmUtZWxlbWVudC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3RhYmxlLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvbWF0aC11dGlsLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY29sdW1ucy50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2Nzcy1zdHlsZXIudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9jc3MtdmFsaWRhdG9yLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZm9udC50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3BhZ2UtbWFzdGVyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvY3NzLXBhZ2UudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS91cmxzLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdmdlbi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL3htbC1kb2MudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9vcHMudHMiLCIuLi8uLi8uLi9jb3JlL3NyYy92aXZsaW9zdHlsZS9zaGExLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvdG9jLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvZXB1Yi50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2FkYXB0aXZlLXZpZXdlci50cyIsIi4uLy4uLy4uL2NvcmUvc3JjL3Zpdmxpb3N0eWxlL2NvcmUtdmlld2VyLnRzIiwiLi4vLi4vLi4vY29yZS9zcmMvdml2bGlvc3R5bGUvcHJpbnQudHMiLCIuLi8uLi9zcmMvdXRpbHMvc3RyaW5nLXV0aWwudHMiLCIuLi8uLi9zcmMvc3RvcmVzL3VybC1wYXJhbWV0ZXJzLnRzIiwiLi4vLi4vc3JjL21vZGVscy9kb2N1bWVudC1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy9wYWdlLXZpZXctbW9kZS50cyIsIi4uLy4uL3NyYy9tb2RlbHMvem9vbS1vcHRpb25zLnRzIiwiLi4vLi4vc3JjL21vZGVscy92aWV3ZXItb3B0aW9ucy50cyIsIi4uLy4uL3NyYy9sb2dnaW5nL2xvZ2dlci50cyIsIi4uLy4uL3NyYy9tb2RlbHMvbWVzc2FnZS1xdWV1ZS50cyIsIi4uLy4uL3NyYy91dGlscy9vYnNlcnZhYmxlLXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy92aWV3ZXIudHMiLCIuLi8uLi9zcmMvdXRpbHMva2V5LXV0aWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9uYXZpZ2F0aW9uLnRzIiwiLi4vLi4vc3JjL3ZpZXdtb2RlbHMvc2V0dGluZ3MtcGFuZWwudHMiLCIuLi8uLi9zcmMvdmlld21vZGVscy9tZXNzYWdlLWRpYWxvZy50cyIsIi4uLy4uL3NyYy92aWV3bW9kZWxzL3ZpZXdlci1hcHAudHMiLCIuLi8uLi9zcmMvYmluZGluZ3MvbWVudUJ1dHRvbi50cyIsIi4uLy4uL3NyYy9iaW5kaW5ncy9zd2lwZVBhZ2VzLnRzIiwiLi4vLi4vc3JjL3Zpdmxpb3N0eWxlLXZpZXdlci50cyIsIi4uLy4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlLCBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxudHlwZSBQcmVzZXRTaXplID0geyBuYW1lOiBzdHJpbmc7IGRlc2NyaXB0aW9uOiBzdHJpbmcgfTtcbnR5cGUgQ29uc3RhbnRzID0ge1xuICBjdXN0b21XaWR0aDogc3RyaW5nO1xuICBjdXN0b21IZWlnaHQ6IHN0cmluZztcbiAgY3VzdG9tTWFyZ2luOiBzdHJpbmc7XG4gIGJhc2VGb250U2l6ZTogc3RyaW5nO1xuICBiYXNlTGluZUhlaWdodDogc3RyaW5nO1xuICBiYXNlRm9udEZhbWlseTogc3RyaW5nO1xuICB2aWV3ZXJGb250U2l6ZTogbnVtYmVyO1xufTtcblxuZW51bSBNb2RlIHtcbiAgRGVmYXVsdCA9IFwiXCIsXG4gIEF1dG8gPSBcImF1dG9cIixcbiAgUHJlc2V0ID0gXCJwcmVzZXRcIixcbiAgQ3VzdG9tID0gXCJjdXN0b21cIixcbiAgWmVybyA9IFwiMFwiLFxufVxuXG5jb25zdCBQUkVTRVRfU0laRTogQXJyYXk8UHJlc2V0U2l6ZT4gPSBbXG4gIHsgbmFtZTogXCJBNVwiLCBkZXNjcmlwdGlvbjogXCJBNVwiIH0sXG4gIHsgbmFtZTogXCJBNFwiLCBkZXNjcmlwdGlvbjogXCJBNFwiIH0sXG4gIHsgbmFtZTogXCJBM1wiLCBkZXNjcmlwdGlvbjogXCJBM1wiIH0sXG4gIHsgbmFtZTogXCJCNVwiLCBkZXNjcmlwdGlvbjogXCJCNSAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJCNFwiLCBkZXNjcmlwdGlvbjogXCJCNCAoSVNPKVwiIH0sXG4gIHsgbmFtZTogXCJKSVMtQjVcIiwgZGVzY3JpcHRpb246IFwiQjUgKEpJUylcIiB9LFxuICB7IG5hbWU6IFwiSklTLUI0XCIsIGRlc2NyaXB0aW9uOiBcIkI0IChKSVMpXCIgfSxcbiAgeyBuYW1lOiBcImxldHRlclwiLCBkZXNjcmlwdGlvbjogXCJsZXR0ZXJcIiB9LFxuICB7IG5hbWU6IFwibGVnYWxcIiwgZGVzY3JpcHRpb246IFwibGVnYWxcIiB9LFxuICB7IG5hbWU6IFwibGVkZ2VyXCIsIGRlc2NyaXB0aW9uOiBcImxlZGdlclwiIH0sXG5dO1xuXG5jb25zdCBDT05TVEFOVFM6IENvbnN0YW50cyA9IHtcbiAgY3VzdG9tV2lkdGg6IFwiMjEwbW1cIixcbiAgY3VzdG9tSGVpZ2h0OiBcIjI5N21tXCIsXG4gIGN1c3RvbU1hcmdpbjogXCIxMCVcIixcbiAgYmFzZUZvbnRTaXplOiBcIjEycHRcIixcbiAgYmFzZUxpbmVIZWlnaHQ6IFwiMS4yXCIsXG4gIGJhc2VGb250RmFtaWx5OiBcInNlcmlmXCIsXG4gIHZpZXdlckZvbnRTaXplOiAxNixcbn07XG5cbmNsYXNzIFBhZ2VTdHlsZSB7XG4gIHBhZ2VTaXplTW9kZTogT2JzZXJ2YWJsZTxNb2RlPjtcbiAgcHJlc2V0U2l6ZTogT2JzZXJ2YWJsZTxQcmVzZXRTaXplPjtcbiAgaXNMYW5kc2NhcGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGN1c3RvbVdpZHRoOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGN1c3RvbUhlaWdodDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlU2l6ZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZU1hcmdpbk1vZGU6IE9ic2VydmFibGU8TW9kZT47XG4gIGN1c3RvbU1hcmdpbjogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBwYWdlTWFyZ2luSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBmb3JjZUh0bWxCb2R5TWFyZ2luWmVybzogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgd2lkb3dzT3JwaGFuczogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICB3aWRvd3NPcnBoYW5zSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBpbWFnZU1heFNpemVUb0ZpdFBhZ2U6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgaW1hZ2VLZWVwQXNwZWN0UmF0aW86IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRTaXplU3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlRm9udFNpemVJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VMaW5lSGVpZ2h0OiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBiYXNlTGluZUhlaWdodEltcG9ydGFudDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgYmFzZUZvbnRGYW1pbHk6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGJhc2VGb250RmFtaWx5SW1wb3J0YW50OiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBhbGxJbXBvcnRhbnQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIHBhZ2VPdGhlclN0eWxlOiBPYnNlcnZhYmxlPHN0cmluZz47XG4gIGZpcnN0UGFnZU90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgcm9vdE90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgYmVmb3JlT3RoZXJTdHlsZTogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBhZnRlck90aGVyU3R5bGU6IE9ic2VydmFibGU8c3RyaW5nPjtcblxuICBjc3NUZXh0OiBQdXJlQ29tcHV0ZWQ8c3RyaW5nPjtcbiAgc2V0Vmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiAoXG4gICAgdmlld2VyRm9udFNpemVPYnNlcnZhYmxlOiBudWxsIHwgT2JzZXJ2YWJsZTxudW1iZXIgfCBzdHJpbmc+LFxuICApID0+IHZvaWQ7XG4gIHBhZ2VTdHlsZVJlZ0V4cDogUmVnRXhwO1xuICB2aWV3ZXJGb250U2l6ZTogbnVsbCB8IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgdmlld2VyRm9udFNpemVQZXJjZW50OiBQdXJlQ29tcHV0ZWQ8bnVtYmVyIHwgc3RyaW5nPjtcblxuICBzdGF0aWMgTW9kZSA9IE1vZGU7XG4gIHN0YXRpYyBDb25zdGFudHMgPSBDT05TVEFOVFM7XG4gIHN0YXRpYyBQcmVzZXRTaXplID0gUFJFU0VUX1NJWkU7XG4gIFByZXNldFNpemUgPSBQYWdlU3R5bGUuUHJlc2V0U2l6ZTtcblxuICBjb25zdHJ1Y3RvcihwYWdlU3R5bGU/OiB1bmtub3duKSB7XG4gICAgdGhpcy5wYWdlU2l6ZU1vZGUgPSBrby5vYnNlcnZhYmxlKE1vZGUuRGVmYXVsdCk7XG4gICAgdGhpcy5wcmVzZXRTaXplID0ga28ub2JzZXJ2YWJsZShQUkVTRVRfU0laRVsxXSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuY3VzdG9tV2lkdGggPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21XaWR0aCk7XG4gICAgdGhpcy5jdXN0b21IZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5jdXN0b21IZWlnaHQpO1xuICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlID0ga28ub2JzZXJ2YWJsZShNb2RlLkRlZmF1bHQpO1xuICAgIHRoaXMuY3VzdG9tTWFyZ2luID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuY3VzdG9tTWFyZ2luKTtcbiAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8gPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZSA9IGtvLm9ic2VydmFibGUoQ09OU1RBTlRTLmJhc2VGb250U2l6ZSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHQgPSBrby5vYnNlcnZhYmxlKENPTlNUQU5UUy5iYXNlTGluZUhlaWdodCk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5ID0ga28ub2JzZXJ2YWJsZShDT05TVEFOVFMuYmFzZUZvbnRGYW1pbHkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcbiAgICB0aGlzLnBhZ2VPdGhlclN0eWxlID0ga28ub2JzZXJ2YWJsZShcIlwiKTtcbiAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMucm9vdE90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuICAgIHRoaXMuYmVmb3JlT3RoZXJTdHlsZSA9IGtvLm9ic2VydmFibGUoXCJcIik7XG4gICAgdGhpcy5hZnRlck90aGVyU3R5bGUgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgdGhpcy52aWV3ZXJGb250U2l6ZSA9IG51bGw7XG4gICAgdGhpcy5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUgPSAodmlld2VyRm9udFNpemVPYnNlcnZhYmxlKTogdm9pZCA9PiB7XG4gICAgICB0aGlzLnZpZXdlckZvbnRTaXplID0gdmlld2VyRm9udFNpemVPYnNlcnZhYmxlO1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX3ZpZXdlci1mb250LXNpemVcIixcbiAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgIGlmIChlbGVtKSB7XG4gICAgICAgIGVsZW0udmFsdWUgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSgpKSxcbiAgICAgICAgICAxMDAsXG4gICAgICAgICAgNSxcbiAgICAgICAgKS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnZpZXdlckZvbnRTaXplUGVyY2VudCA9IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICByZWFkKCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm4gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBlcmNlbnQgPSB0aGlzLmZvbnRTaXplUHhUb1BlcmNlbnQoXG4gICAgICAgICAgTnVtYmVyKHRoaXMudmlld2VyRm9udFNpemUoKSksXG4gICAgICAgICAgMTAwLFxuICAgICAgICAgIDUsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBwZXJjZW50O1xuICAgICAgfSxcbiAgICAgIHdyaXRlKHZpZXdlckZvbnRTaXplUGVyY2VudCkge1xuICAgICAgICBpZiAoIXRoaXMudmlld2VyRm9udFNpemUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGVyY2VudCA9IHBhcnNlRmxvYXQoU3RyaW5nKHZpZXdlckZvbnRTaXplUGVyY2VudCkpO1xuICAgICAgICBsZXQgZm9udFNpemUgPSBwZXJjZW50ICYmIHRoaXMuZm9udFNpemVQZXJjZW50VG9QeChwZXJjZW50KTtcbiAgICAgICAgaWYgKCFmb250U2l6ZSB8fCBmb250U2l6ZSA8IDUgfHwgZm9udFNpemUgPiA3Mikge1xuICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3Nfdmlld2VyLWZvbnQtc2l6ZVwiLFxuICAgICAgICAgIClbMF0gYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICBpZiAoZWxlbSkge1xuICAgICAgICAgICAgZWxlbS52YWx1ZSA9IFwiMTAwXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvbnRTaXplID0gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmlld2VyRm9udFNpemUoTnVtYmVyKGZvbnRTaXplKSk7XG4gICAgICB9LFxuICAgICAgb3duZXI6IHRoaXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLmNzc1RleHQgPSBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgcmVhZDogdGhpcy50b0NTU1RleHQsXG4gICAgICB3cml0ZTogdGhpcy5mcm9tQ1NTVGV4dCxcbiAgICAgIG93bmVyOiB0aGlzLFxuICAgIH0pO1xuXG4gICAgdGhpcy5hbGxJbXBvcnRhbnQuc3Vic2NyaWJlKChhbGxJbXBvcnRhbnQpID0+IHtcbiAgICAgIHRoaXMucGFnZVNpemVJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLndpZG93c09ycGhhbnNJbXBvcnRhbnQoYWxsSW1wb3J0YW50KTtcbiAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KGFsbEltcG9ydGFudCk7XG4gICAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodEltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudChhbGxJbXBvcnRhbnQpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYWdlU3R5bGVSZWdFeHAgPSBuZXcgUmVnRXhwKFxuICAgICAgLy8gMS4gYmVmb3JlT3RoZXJTdHlsZSxcbiAgICAgIFwiXigoPzpcXFxcbnwuKSo/KVxcXFwvXFxcXCo8dmlld2VyPlxcXFwqXFxcXC9cXFxccyooPzpAcGFnZVxcXFxzKlxcXFx7XFxcXHMqXCIgK1xuICAgICAgICAvLyAyLiBzaXplVywgc2l6ZUgsIHNpemVJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86c2l6ZTpcXFxccyooW15cXFxccyE7e31dKykoPzpcXFxccysoW15cXFxccyE7e31dKykpP1xcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDUuIHBhZ2VNYXJnaW4sIHBhZ2VNYXJnaW5JbXBvcnRhbnQsXG4gICAgICAgIFwiKD86bWFyZ2luOlxcXFxzKihbXlxcXFxzITt7fV0rKD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KD86XFxcXHMrW15cXFxccyE7e31dKyk/KVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDcuIHBhZ2VPdGhlclN0eWxlLFxuICAgICAgICBcIigoPzpbXnt9XSt8XFxcXHtbXnt9XSpcXFxcfSkqKVxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDguIGZpcnN0UGFnZU1hcmdpblplcm8sIGZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQsIGZpcnN0UGFnZU90aGVyU3R5bGUsXG4gICAgICAgIFwiKD86QHBhZ2VcXFxccyo6Zmlyc3RcXFxccypcXFxce1xcXFxzKihtYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KCg/Oltee31dK3xcXFxce1tee31dKlxcXFx9KSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTEuIGZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvLFxuICAgICAgICBcIigoPzpodG1sfDpyb290KSxcXFxccypib2R5XFxcXHMqXFxcXHtcXFxccyptYXJnaW46XFxcXHMqMCg/OlxcXFx3K3wlKT9cXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKlxcXFx9XFxcXHMqKT9cIiArXG4gICAgICAgIC8vIDEyLiBiYXNlRm9udFNpemUsIGJhc2VGb250U2l6ZUltcG9ydGFudCwgYmFzZUxpbmVIZWlnaHQsIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LCBiYXNlRm9udEZhbWlseSwgYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQsIHJvb3RPdGhlclN0eWxlLFxuICAgICAgICBcIig/Oig/Omh0bWx8OnJvb3QpXFxcXHMqXFxcXHtcXFxccyooPzpmb250LXNpemU6XFxcXHMqKGNhbGNcXFxcKFteKCldK1xcXFwpfFteXFxcXHMhO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyg/OmxpbmUtaGVpZ2h0OlxcXFxzKihbXlxcXFxzITt7fV0rKVxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT8oPzpmb250LWZhbWlseTpcXFxccyooW14hO3t9XSspXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccyopPyhbXnt9XSopXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gYm9keSB7Zm9udC1zaXplOiBpbmhlcml0ICFpbXBvcnRhbnQ7fSBldGMuXG4gICAgICAgIFwiKD86Ym9keVxcXFxzKlxcXFx7XFxcXHMqKD86Wy1cXFxcd10rOlxcXFxzKmluaGVyaXRcXFxccyohaW1wb3J0YW50KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKikrXFxcXH1cXFxccyopP1wiICtcbiAgICAgICAgLy8gMTkuIHdpZG93c09ycGhhbnMsIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIFwiKD86XFxcXCpcXFxccypcXFxce1xcXFxzKndpZG93czpcXFxccyooMXw5OTkpXFxcXHMqKCFpbXBvcnRhbnQpPyg/Ojt8KD89W1xcXFxze31dKSlcXFxccypvcnBoYW5zOlxcXFxzKlxcXFwxOVxcXFxzKlxcXFwyMCg/Ojt8KD89W1xcXFxze31dKSlcXFxccypcXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyMS4gaW1hZ2VNYXhTaXplVG9GaXRQYWdlLCBpbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQsIGltYWdlS2VlcEFzcGVjdFJhdGlvLCBpbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCxcbiAgICAgICAgXCIoPzppbWcsXFxcXHMqc3ZnXFxcXHMqXFxcXHtcXFxccyoobWF4LWlubGluZS1zaXplOlxcXFxzKjEwMCVcXFxccyooIWltcG9ydGFudCk/KD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKm1heC1ibG9jay1zaXplOlxcXFxzKjEwMHZiXFxcXHMqXFxcXDIyKD86O3woPz1bXFxcXHN7fV0pKVxcXFxzKik/KG9iamVjdC1maXQ6XFxcXHMqY29udGFpblxcXFxzKighaW1wb3J0YW50KT8oPzo7fCg/PVtcXFxcc3t9XSkpXFxcXHMqKT9cXFxcfVxcXFxzKik/XCIgK1xuICAgICAgICAvLyAyNS4gYWZ0ZXJPdGhlclN0eWxlXG4gICAgICAgIFwiKCg/OlxcXFxufC4pKikkXCIsXG4gICAgKTtcblxuICAgIGlmIChwYWdlU3R5bGUpIHtcbiAgICAgIHRoaXMuY29weUZyb20ocGFnZVN0eWxlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHB4IEZvbnQgc2l6ZSBpbiBweCB1bml0XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gY2VudCBXaGVuIF9OXyAoZS5nLiAxKSBpcyBzcGVjaWZpZWQsIGdldCBcInBlciBfTl9cIiB2YWx1ZSBpbnN0ZWFkIG9mIHBlcmNlbnRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBwcmVjaXNpb24gV2hlbiBzcGVjaWZpZWQsIGNvbnZlcnRzIHJlc3VsdCBudW1iZXIgdG8gc3RyaW5nIHdpdGggbWF4IF9wcmVjaXNpb25fIGRpZ2l0c1xuICAgKiBAcmV0dXJucyB7bnVtYmVyfHN0cmluZ30gY29udmVydGVkIHBlcmNlbnQgKG9yIHBlciBfTl8pIHZhbHVlLiBSZXR1cm5zIHN0cmluZyB3aGVuIG9wdF9wcmVjaXNpb24gaXMgc3BlY2lmaWVkLlxuICAgKi9cbiAgZm9udFNpemVQeFRvUGVyY2VudChcbiAgICBweDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBwZXJjZW50OiBudW1iZXIgfCBzdHJpbmcgPVxuICAgICAgKHB4IC8gQ09OU1RBTlRTLnZpZXdlckZvbnRTaXplKSAqIChjZW50IHx8IDEwMCk7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcGVyY2VudCA9IHBlcmNlbnRcbiAgICAgICAgLnRvUHJlY2lzaW9uKHByZWNpc2lvbilcbiAgICAgICAgLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHBlcmNlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBlcmNlbnQgRm9udCBzaXplIGluIHBlcmNlbnQgKG9yIHBlciBfTl8pIHVuaXRcbiAgICogQHBhcmFtIHtudW1iZXI9fSBjZW50IFdoZW4gX05fIChlLmcuIDEpIGlzIHNwZWNpZmllZCwgY29udmVydHMgZnJvbWcgXCJwZXIgX05fXCIgdmFsdWUgaW5zdGVhZCBvZiBwZXJjZW50XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gcHJlY2lzaW9uIFdoZW4gc3BlY2lmaWVkLCBjb252ZXJ0cyByZXN1bHQgbnVtYmVyIHRvIHN0cmluZyB3aXRoIG1heCBfcHJlY2lzaW9uXyBkaWdpdHNcbiAgICogQHJldHVybnMge251bWJlcnxzdHJpbmd9IGNvbnZlcnRlZCBmb250IHNpemUgaW4gcHggdW5pdC4gUmV0dXJucyBzdHJpbmcgd2hlbiBvcHRfcHJlY2lzaW9uIGlzIHNwZWNpZmllZC5cbiAgICovXG4gIGZvbnRTaXplUGVyY2VudFRvUHgoXG4gICAgcGVyY2VudDogbnVtYmVyLFxuICAgIGNlbnQ/OiBudW1iZXIsXG4gICAgcHJlY2lzaW9uPzogbnVtYmVyLFxuICApOiBudW1iZXIgfCBzdHJpbmcge1xuICAgIGxldCBweDogbnVtYmVyIHwgc3RyaW5nID1cbiAgICAgIChwZXJjZW50IC8gKGNlbnQgfHwgMTAwKSkgKiBDT05TVEFOVFMudmlld2VyRm9udFNpemU7XG4gICAgaWYgKHByZWNpc2lvbikge1xuICAgICAgcHggPSBweC50b1ByZWNpc2lvbihwcmVjaXNpb24pLnJlcGxhY2UoLyg/OlxcLjAqfChcXC5cXGQqPykwKykkLywgXCIkMVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHB4O1xuICB9XG5cbiAgZnJvbUNTU1RleHQoY3NzVGV4dDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgciA9IHRoaXMucGFnZVN0eWxlUmVnRXhwLmV4ZWMoY3NzVGV4dCk7XG4gICAgaWYgKHIpIHtcbiAgICAgIGNvbnN0IFtcbiAgICAgICAgLFxuICAgICAgICBiZWZvcmVPdGhlclN0eWxlLFxuICAgICAgICBzaXplV18sXG4gICAgICAgIHNpemVIXyxcbiAgICAgICAgc2l6ZUltcG9ydGFudCxcbiAgICAgICAgcGFnZU1hcmdpbixcbiAgICAgICAgcGFnZU1hcmdpbkltcG9ydGFudCxcbiAgICAgICAgcGFnZU90aGVyU3R5bGVfLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvLFxuICAgICAgICBmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50LFxuICAgICAgICBmaXJzdFBhZ2VPdGhlclN0eWxlXyxcbiAgICAgICAgZm9yY2VIdG1sQm9keU1hcmdpblplcm8sXG4gICAgICAgIGJhc2VGb250U2l6ZV8sXG4gICAgICAgIGJhc2VGb250U2l6ZUltcG9ydGFudCxcbiAgICAgICAgYmFzZUxpbmVIZWlnaHQsXG4gICAgICAgIGJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50LFxuICAgICAgICBiYXNlRm9udEZhbWlseV8sXG4gICAgICAgIGJhc2VGb250RmFtaWx5SW1wb3J0YW50LFxuICAgICAgICByb290T3RoZXJTdHlsZV8sXG4gICAgICAgIHdpZG93c09ycGhhbnMsXG4gICAgICAgIHdpZG93c09ycGhhbnNJbXBvcnRhbnQsXG4gICAgICAgIGltYWdlTWF4U2l6ZVRvRml0UGFnZSxcbiAgICAgICAgaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50LFxuICAgICAgICBpbWFnZUtlZXBBc3BlY3RSYXRpbyxcbiAgICAgICAgaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQsXG4gICAgICAgIGFmdGVyT3RoZXJTdHlsZV8sXG4gICAgICBdID0gcjtcbiAgICAgIGxldCBhZnRlck90aGVyU3R5bGUgPSBhZnRlck90aGVyU3R5bGVfO1xuICAgICAgbGV0IGJhc2VGb250RmFtaWx5ID0gYmFzZUZvbnRGYW1pbHlfO1xuICAgICAgbGV0IGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZV87XG4gICAgICBsZXQgZmlyc3RQYWdlT3RoZXJTdHlsZSA9IGZpcnN0UGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGVfO1xuICAgICAgbGV0IHJvb3RPdGhlclN0eWxlID0gcm9vdE90aGVyU3R5bGVfO1xuICAgICAgbGV0IHNpemVXID0gc2l6ZVdfO1xuICAgICAgbGV0IHNpemVIID0gc2l6ZUhfO1xuXG4gICAgICBsZXQgY291bnRJbXBvcnRhbnQgPSAwO1xuICAgICAgbGV0IGNvdW50Tm90SW1wb3J0YW50ID0gMDtcblxuICAgICAgdGhpcy5iZWZvcmVPdGhlclN0eWxlKGJlZm9yZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoc2l6ZVcgPT0gXCJsYW5kc2NhcGVcIiB8fCBzaXplVyA9PSBcInBvcnRyYWl0XCIpIHtcbiAgICAgICAgdGhpcy5pc0xhbmRzY2FwZShzaXplVyA9PSBcImxhbmRzY2FwZVwiKTtcbiAgICAgICAgc2l6ZVcgPSBzaXplSDtcbiAgICAgICAgc2l6ZUggPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChzaXplSCA9PSBcImxhbmRzY2FwZVwiIHx8IHNpemVIID09IFwicG9ydHJhaXRcIikge1xuICAgICAgICB0aGlzLmlzTGFuZHNjYXBlKHNpemVIID09IFwibGFuZHNjYXBlXCIpO1xuICAgICAgICBzaXplSCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc2l6ZVcgIT0gbnVsbCkge1xuICAgICAgICBpZiAoc2l6ZUggPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChzaXplVyA9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5BdXRvKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcHJlc2V0U2l6ZSA9IFBSRVNFVF9TSVpFLmZpbmQoXG4gICAgICAgICAgICAgIChwcmVzZXRTaXplKSA9PlxuICAgICAgICAgICAgICAgIHByZXNldFNpemUubmFtZS50b0xvd2VyQ2FzZSgpID09IHNpemVXLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHByZXNldFNpemUpIHtcbiAgICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5QcmVzZXQpO1xuICAgICAgICAgICAgICB0aGlzLnByZXNldFNpemUocHJlc2V0U2l6ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnBhZ2VTaXplTW9kZShNb2RlLkN1c3RvbSk7XG4gICAgICAgICAgICAgIHRoaXMuY3VzdG9tV2lkdGgoc2l6ZVcpO1xuICAgICAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplVyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGFnZVNpemVNb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbVdpZHRoKHNpemVXKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbUhlaWdodChzaXplSCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYWdlU2l6ZUltcG9ydGFudCghIXNpemVJbXBvcnRhbnQpO1xuICAgICAgICBpZiAoc2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIGlmIChwYWdlTWFyZ2luICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYWdlTWFyZ2luTW9kZShwYWdlTWFyZ2luID09IFwiMFwiID8gTW9kZS5aZXJvIDogTW9kZS5DdXN0b20pO1xuICAgICAgICBpZiAocGFnZU1hcmdpbiA9PSBcIjBcIikge1xuICAgICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5aZXJvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKE1vZGUuQ3VzdG9tKTtcbiAgICAgICAgICB0aGlzLmN1c3RvbU1hcmdpbihwYWdlTWFyZ2luKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoISFwYWdlTWFyZ2luSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKHBhZ2VNYXJnaW5JbXBvcnRhbnQpIGNvdW50SW1wb3J0YW50Kys7XG4gICAgICAgIGVsc2UgY291bnROb3RJbXBvcnRhbnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFnZU1hcmdpbk1vZGUoTW9kZS5EZWZhdWx0KTtcbiAgICAgIH1cbiAgICAgIHBhZ2VPdGhlclN0eWxlID0gcGFnZU90aGVyU3R5bGUgfHwgXCJcIjtcbiAgICAgIHRoaXMucGFnZU90aGVyU3R5bGUocGFnZU90aGVyU3R5bGUpO1xuXG4gICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8odHJ1ZSk7XG4gICAgICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCghIWZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQpO1xuICAgICAgICBpZiAoZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIGZpcnN0UGFnZU90aGVyU3R5bGUgPSBmaXJzdFBhZ2VPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoZmlyc3RQYWdlT3RoZXJTdHlsZSk7XG5cbiAgICAgIGlmIChmb3JjZUh0bWxCb2R5TWFyZ2luWmVybykge1xuICAgICAgICB0aGlzLmZvcmNlSHRtbEJvZHlNYXJnaW5aZXJvKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybyhmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChiYXNlRm9udFNpemUgIT0gbnVsbCkge1xuICAgICAgICAvLyBUaGlzIG1heSBiZSBjYWxjKCkgZS5nLiBcImNhbGMoMS4yNSAqIDEycHQpXCIgd2hlbiB2aWV3ZXIgZm9udCBzaXplIGlzIDEyNSUuXG4gICAgICAgIGJhc2VGb250U2l6ZSA9IGJhc2VGb250U2l6ZS5yZXBsYWNlKFxuICAgICAgICAgIC9eXFxzKmNhbGNcXChbLlxcZF0rXFxzKlxcKlxccyooWy5cXGRdK1xcdyspXFwpXFxzKiQvLFxuICAgICAgICAgIFwiJDFcIixcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQodHJ1ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplKGJhc2VGb250U2l6ZSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCEhYmFzZUZvbnRTaXplSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGJhc2VGb250U2l6ZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoZmFsc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VMaW5lSGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodChiYXNlTGluZUhlaWdodCk7XG4gICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoISFiYXNlTGluZUhlaWdodEltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlTGluZUhlaWdodEltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICBpZiAoYmFzZUZvbnRGYW1pbHkgIT0gbnVsbCkge1xuICAgICAgICBiYXNlRm9udEZhbWlseSA9IGJhc2VGb250RmFtaWx5LnRyaW0oKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCh0cnVlKTtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseShiYXNlRm9udEZhbWlseSk7XG4gICAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoISFiYXNlRm9udEZhbWlseUltcG9ydGFudCk7XG4gICAgICAgIGlmIChiYXNlRm9udEZhbWlseUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZChmYWxzZSk7XG4gICAgICB9XG4gICAgICByb290T3RoZXJTdHlsZSA9IHJvb3RPdGhlclN0eWxlIHx8IFwiXCI7XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKHJvb3RPdGhlclN0eWxlKTtcblxuICAgICAgaWYgKHdpZG93c09ycGhhbnMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLndpZG93c09ycGhhbnMod2lkb3dzT3JwaGFucyk7XG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCghIXdpZG93c09ycGhhbnNJbXBvcnRhbnQpO1xuICAgICAgICBpZiAod2lkb3dzT3JwaGFuc0ltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zKE1vZGUuRGVmYXVsdCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpbWFnZU1heFNpemVUb0ZpdFBhZ2UpIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UodHJ1ZSk7XG4gICAgICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KCEhaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCkgY291bnRJbXBvcnRhbnQrKztcbiAgICAgICAgZWxzZSBjb3VudE5vdEltcG9ydGFudCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW1hZ2VLZWVwQXNwZWN0UmF0aW8pIHtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbyh0cnVlKTtcbiAgICAgICAgdGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCghIWltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KTtcbiAgICAgICAgaWYgKGltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KSBjb3VudEltcG9ydGFudCsrO1xuICAgICAgICBlbHNlIGNvdW50Tm90SW1wb3J0YW50Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgYWZ0ZXJPdGhlclN0eWxlID1cbiAgICAgICAgYWZ0ZXJPdGhlclN0eWxlLnJlcGxhY2UoL1xcL1xcKjxcXC8/dmlld2VyPlxcKlxcL1xcbj8vZywgXCJcIikgfHwgXCJcIjtcbiAgICAgIHRoaXMuYWZ0ZXJPdGhlclN0eWxlKGFmdGVyT3RoZXJTdHlsZSk7XG5cbiAgICAgIHRoaXMuYWxsSW1wb3J0YW50KGNvdW50SW1wb3J0YW50ID4gMCAmJiBjb3VudE5vdEltcG9ydGFudCA9PSAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2hlbiBub3QgbWF0Y2hcbiAgICAgIGNvbnN0IGFmdGVyT3RoZXJTdHlsZSA9XG4gICAgICAgIGNzc1RleHQucmVwbGFjZSgvXFwvXFwqPFxcLz92aWV3ZXI+XFwqXFwvXFxuPy9nLCBcIlwiKSB8fCBcIlwiO1xuICAgICAgdGhpcy5hZnRlck90aGVyU3R5bGUoYWZ0ZXJPdGhlclN0eWxlKTtcbiAgICB9XG4gIH1cblxuICB0b0NTU1RleHQoKTogc3RyaW5nIHtcbiAgICBmdW5jdGlvbiBpbXAoaW1wb3J0YW50KTogc3RyaW5nIHtcbiAgICAgIHJldHVybiBpbXBvcnRhbnQgPyBcIiAhaW1wb3J0YW50XCIgOiBcIlwiO1xuICAgIH1cblxuICAgIGxldCBjc3NUZXh0ID0gdGhpcy5iZWZvcmVPdGhlclN0eWxlKCk7XG4gICAgY3NzVGV4dCArPSBcIi8qPHZpZXdlcj4qL1xcblwiO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0IHx8XG4gICAgICB0aGlzLnBhZ2VPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJAcGFnZSB7IFwiO1xuICAgICAgaWYgKHRoaXMucGFnZVNpemVNb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJzaXplOiBcIjtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMucGFnZVNpemVNb2RlKCkpIHtcbiAgICAgICAgICBjYXNlIE1vZGUuQXV0bzpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gXCJhdXRvXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIE1vZGUuUHJlc2V0OlxuICAgICAgICAgICAgY3NzVGV4dCArPSB0aGlzLnByZXNldFNpemUoKS5uYW1lO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMYW5kc2NhcGUoKSkge1xuICAgICAgICAgICAgICBjc3NUZXh0ICs9IFwiIGxhbmRzY2FwZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21XaWR0aCgpfSAke3RoaXMuY3VzdG9tSGVpZ2h0KCl9YDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gcGFnZVNpemVNb2RlICR7dGhpcy5wYWdlU2l6ZU1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkpfTsgYDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT0gTW9kZS5EZWZhdWx0KSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJtYXJnaW46IFwiO1xuXG4gICAgICAgIHN3aXRjaCAodGhpcy5wYWdlTWFyZ2luTW9kZSgpKSB7XG4gICAgICAgICAgY2FzZSBNb2RlLkF1dG86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiYXV0b1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLlplcm86XG4gICAgICAgICAgICBjc3NUZXh0ICs9IFwiMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBNb2RlLkN1c3RvbTpcbiAgICAgICAgICAgIGNzc1RleHQgKz0gYCR7dGhpcy5jdXN0b21NYXJnaW4oKX1gO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBwYWdlTWFyZ2luTW9kZSAke3RoaXMucGFnZU1hcmdpbk1vZGUoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjc3NUZXh0ICs9IGAke2ltcCh0aGlzLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnBhZ2VPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZpcnN0UGFnZU1hcmdpblplcm8oKSB8fCB0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIkBwYWdlIDpmaXJzdCB7IFwiO1xuICAgICAgaWYgKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG1hcmdpbjogMCR7aW1wKHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudCgpKX07IGA7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IHRoaXMuZmlyc3RQYWdlT3RoZXJTdHlsZSgpO1xuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKSB7XG4gICAgICBjc3NUZXh0ICs9IFwiOnJvb3QsIGJvZHkgeyBtYXJnaW46IDAgIWltcG9ydGFudDsgfVxcblwiO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgfHxcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSB8fFxuICAgICAgdGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpIHx8XG4gICAgICB0aGlzLnJvb3RPdGhlclN0eWxlKClcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCI6cm9vdCB7IFwiO1xuICAgICAgY29uc3QgYmFzZUZvbnRTaXplID0gdGhpcy5iYXNlRm9udFNpemUoKTtcbiAgICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLnZpZXdlckZvbnRTaXplICYmXG4gICAgICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9IENPTlNUQU5UUy52aWV3ZXJGb250U2l6ZSAmJlxuICAgICAgICAgICFiYXNlRm9udFNpemUuZW5kc1dpdGgoXCIlXCIpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IHBlck9uZSA9IHRoaXMuZm9udFNpemVQeFRvUGVyY2VudChcbiAgICAgICAgICAgIE51bWJlcih0aGlzLnZpZXdlckZvbnRTaXplKCkpLFxuICAgICAgICAgICAgMSxcbiAgICAgICAgICAgIDUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6IGNhbGMoJHtwZXJPbmV9ICogJHtiYXNlRm9udFNpemV9KSR7aW1wKFxuICAgICAgICAgICAgdGhpcy5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSxcbiAgICAgICAgICApfTsgYDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3NUZXh0ICs9IGBmb250LXNpemU6ICR7dGhpcy5iYXNlRm9udFNpemUoKX0ke2ltcChcbiAgICAgICAgICAgIHRoaXMuYmFzZUZvbnRTaXplSW1wb3J0YW50KCksXG4gICAgICAgICAgKX07IGA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpIHtcbiAgICAgICAgY3NzVGV4dCArPSBgbGluZS1oZWlnaHQ6ICR7dGhpcy5iYXNlTGluZUhlaWdodCgpfSR7aW1wKFxuICAgICAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYGZvbnQtZmFtaWx5OiAke3RoaXMuYmFzZUZvbnRGYW1pbHkoKX0ke2ltcChcbiAgICAgICAgICB0aGlzLmJhc2VGb250RmFtaWx5SW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSB0aGlzLnJvb3RPdGhlclN0eWxlKCk7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB8fFxuICAgICAgKHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpIHx8XG4gICAgICAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSlcbiAgICApIHtcbiAgICAgIGNzc1RleHQgKz0gXCJib2R5IHsgXCI7XG4gICAgICBpZiAodGhpcy5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSAmJiB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gXCJmb250LXNpemU6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwibGluZS1oZWlnaHQ6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseVNwZWNpZmllZCgpICYmIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IFwiZm9udC1mYW1pbHk6IGluaGVyaXQgIWltcG9ydGFudDsgXCI7XG4gICAgICB9XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndpZG93c09ycGhhbnMoKSkge1xuICAgICAgY3NzVGV4dCArPSBcIiogeyBcIjtcbiAgICAgIGNzc1RleHQgKz0gYHdpZG93czogJHt0aGlzLndpZG93c09ycGhhbnMoKX0ke2ltcChcbiAgICAgICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCksXG4gICAgICApfTsgYDtcbiAgICAgIGNzc1RleHQgKz0gYG9ycGhhbnM6ICR7dGhpcy53aWRvd3NPcnBoYW5zKCl9JHtpbXAoXG4gICAgICAgIHRoaXMud2lkb3dzT3JwaGFuc0ltcG9ydGFudCgpLFxuICAgICAgKX07IGA7XG4gICAgICBjc3NUZXh0ICs9IFwifVxcblwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpIHx8IHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSkge1xuICAgICAgY3NzVGV4dCArPSBcImltZywgc3ZnIHsgXCI7XG4gICAgICBpZiAodGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSkge1xuICAgICAgICBjc3NUZXh0ICs9IGBtYXgtaW5saW5lLXNpemU6IDEwMCUke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpLFxuICAgICAgICApfTsgYDtcbiAgICAgICAgY3NzVGV4dCArPSBgbWF4LWJsb2NrLXNpemU6IDEwMHZiJHtpbXAoXG4gICAgICAgICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2VJbXBvcnRhbnQoKSxcbiAgICAgICAgKX07IGA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pbWFnZUtlZXBBc3BlY3RSYXRpbygpKSB7XG4gICAgICAgIGNzc1RleHQgKz0gYG9iamVjdC1maXQ6IGNvbnRhaW4ke2ltcChcbiAgICAgICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCksXG4gICAgICAgICl9OyBgO1xuICAgICAgfVxuICAgICAgY3NzVGV4dCArPSBcIn1cXG5cIjtcbiAgICB9XG5cbiAgICBjc3NUZXh0ICs9IFwiLyo8L3ZpZXdlcj4qL1xcblwiO1xuICAgIGNzc1RleHQgKz0gdGhpcy5hZnRlck90aGVyU3R5bGUoKTtcblxuICAgIHJldHVybiBjc3NUZXh0O1xuICB9XG5cbiAgY29weUZyb20ob3RoZXIpOiB2b2lkIHtcbiAgICB0aGlzLnBhZ2VTaXplTW9kZShvdGhlci5wYWdlU2l6ZU1vZGUoKSk7XG4gICAgdGhpcy5wcmVzZXRTaXplKG90aGVyLnByZXNldFNpemUoKSk7XG4gICAgdGhpcy5pc0xhbmRzY2FwZShvdGhlci5pc0xhbmRzY2FwZSgpKTtcbiAgICB0aGlzLmN1c3RvbVdpZHRoKG90aGVyLmN1c3RvbVdpZHRoKCkpO1xuICAgIHRoaXMuY3VzdG9tSGVpZ2h0KG90aGVyLmN1c3RvbUhlaWdodCgpKTtcbiAgICB0aGlzLnBhZ2VTaXplSW1wb3J0YW50KG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbk1vZGUob3RoZXIucGFnZU1hcmdpbk1vZGUoKSk7XG4gICAgdGhpcy5jdXN0b21NYXJnaW4ob3RoZXIuY3VzdG9tTWFyZ2luKCkpO1xuICAgIHRoaXMucGFnZU1hcmdpbkltcG9ydGFudChvdGhlci5wYWdlTWFyZ2luSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVybyhvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvKCkpO1xuICAgIHRoaXMuZmlyc3RQYWdlTWFyZ2luWmVyb0ltcG9ydGFudChvdGhlci5maXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50KCkpO1xuICAgIHRoaXMuZm9yY2VIdG1sQm9keU1hcmdpblplcm8ob3RoZXIuZm9yY2VIdG1sQm9keU1hcmdpblplcm8oKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zKG90aGVyLndpZG93c09ycGhhbnMoKSk7XG4gICAgdGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5pbWFnZU1heFNpemVUb0ZpdFBhZ2Uob3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlKCkpO1xuICAgIHRoaXMuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KG90aGVyLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpKTtcbiAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvKG90aGVyLmltYWdlS2VlcEFzcGVjdFJhdGlvKCkpO1xuICAgIHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQob3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udFNpemUob3RoZXIuYmFzZUZvbnRTaXplKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKTtcbiAgICB0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudChvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlTGluZUhlaWdodChvdGhlci5iYXNlTGluZUhlaWdodCgpKTtcbiAgICB0aGlzLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKG90aGVyLmJhc2VMaW5lSGVpZ2h0U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQob3RoZXIuYmFzZUxpbmVIZWlnaHRJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5iYXNlRm9udEZhbWlseShvdGhlci5iYXNlRm9udEZhbWlseSgpKTtcbiAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKG90aGVyLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkpO1xuICAgIHRoaXMuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQob3RoZXIuYmFzZUZvbnRGYW1pbHlJbXBvcnRhbnQoKSk7XG4gICAgdGhpcy5hbGxJbXBvcnRhbnQob3RoZXIuYWxsSW1wb3J0YW50KCkpO1xuICAgIHRoaXMucGFnZU90aGVyU3R5bGUob3RoZXIucGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5maXJzdFBhZ2VPdGhlclN0eWxlKG90aGVyLmZpcnN0UGFnZU90aGVyU3R5bGUoKSk7XG4gICAgdGhpcy5yb290T3RoZXJTdHlsZShvdGhlci5yb290T3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmJlZm9yZU90aGVyU3R5bGUob3RoZXIuYmVmb3JlT3RoZXJTdHlsZSgpKTtcbiAgICB0aGlzLmFmdGVyT3RoZXJTdHlsZShvdGhlci5hZnRlck90aGVyU3R5bGUoKSk7XG5cbiAgICBpZiAodGhpcy52aWV3ZXJGb250U2l6ZSAmJiBvdGhlci52aWV3ZXJGb250U2l6ZSkge1xuICAgICAgdGhpcy52aWV3ZXJGb250U2l6ZShvdGhlci52aWV3ZXJGb250U2l6ZSgpKTtcbiAgICB9XG4gIH1cblxuICBlcXVpdmFsZW50VG8ob3RoZXIpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5wYWdlU2l6ZU1vZGUoKSAhPT0gb3RoZXIucGFnZVNpemVNb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5wcmVzZXRTaXplKCkgIT09IG90aGVyLnByZXNldFNpemUoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VTaXplTW9kZSgpID09PSBNb2RlLlByZXNldCAmJlxuICAgICAgdGhpcy5pc0xhbmRzY2FwZSgpICE9PSBvdGhlci5pc0xhbmRzY2FwZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZVNpemVNb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbVdpZHRoKCkgIT09IG90aGVyLmN1c3RvbVdpZHRoKClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKFxuICAgICAgdGhpcy5wYWdlU2l6ZU1vZGUoKSA9PT0gTW9kZS5DdXN0b20gJiZcbiAgICAgIHRoaXMuY3VzdG9tSGVpZ2h0KCkgIT09IG90aGVyLmN1c3RvbUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnBhZ2VTaXplSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VTaXplSW1wb3J0YW50KCkpIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgIT09IG90aGVyLnBhZ2VNYXJnaW5Nb2RlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBhZ2VNYXJnaW5Nb2RlKCkgPT09IE1vZGUuQ3VzdG9tICYmXG4gICAgICB0aGlzLmN1c3RvbU1hcmdpbigpICE9PSBvdGhlci5jdXN0b21NYXJnaW4oKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5wYWdlTWFyZ2luSW1wb3J0YW50KCkgIT09IG90aGVyLnBhZ2VNYXJnaW5JbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5maXJzdFBhZ2VNYXJnaW5aZXJvKCkgIT09IG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKSAhPT1cbiAgICAgIG90aGVyLmZpcnN0UGFnZU1hcmdpblplcm9JbXBvcnRhbnQoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpICE9PSBvdGhlci5mb3JjZUh0bWxCb2R5TWFyZ2luWmVybygpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMud2lkb3dzT3JwaGFucygpICE9PSBvdGhlci53aWRvd3NPcnBoYW5zKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy53aWRvd3NPcnBoYW5zSW1wb3J0YW50KCkgIT09IG90aGVyLndpZG93c09ycGhhbnNJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmICh0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZSgpICE9PSBvdGhlci5pbWFnZU1heFNpemVUb0ZpdFBhZ2UoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCgpICE9PVxuICAgICAgb3RoZXIuaW1hZ2VNYXhTaXplVG9GaXRQYWdlSW1wb3J0YW50KClcbiAgICApXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSAhPT0gb3RoZXIuaW1hZ2VLZWVwQXNwZWN0UmF0aW8oKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmltYWdlS2VlcEFzcGVjdFJhdGlvSW1wb3J0YW50KCkgIT09XG4gICAgICBvdGhlci5pbWFnZUtlZXBBc3BlY3RSYXRpb0ltcG9ydGFudCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZVNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRTaXplKCkgIT09IG90aGVyLmJhc2VGb250U2l6ZSgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VGb250U2l6ZUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udFNpemVJbXBvcnRhbnQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodFNwZWNpZmllZCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYmFzZUxpbmVIZWlnaHRTcGVjaWZpZWQoKSAmJlxuICAgICAgdGhpcy5iYXNlTGluZUhlaWdodCgpICE9PSBvdGhlci5iYXNlTGluZUhlaWdodCgpXG4gICAgKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkgIT09IG90aGVyLmJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50KCkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQoKSlcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmJhc2VGb250RmFtaWx5U3BlY2lmaWVkKCkgJiZcbiAgICAgIHRoaXMuYmFzZUZvbnRGYW1pbHkoKSAhPT0gb3RoZXIuYmFzZUZvbnRGYW1pbHkoKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpICE9PSBvdGhlci5iYXNlRm9udEZhbWlseUltcG9ydGFudCgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKHRoaXMuYWxsSW1wb3J0YW50KCkgIT09IG90aGVyLmFsbEltcG9ydGFudCgpKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRoaXMucGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIucGFnZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmZpcnN0UGFnZU90aGVyU3R5bGUoKSAhPT0gb3RoZXIuZmlyc3RQYWdlT3RoZXJTdHlsZSgpKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLnJvb3RPdGhlclN0eWxlKCkgIT09IG90aGVyLnJvb3RPdGhlclN0eWxlKCkpIHJldHVybiBmYWxzZTtcbiAgICBpZiAodGhpcy5iZWZvcmVPdGhlclN0eWxlKCkgIT09IG90aGVyLmJlZm9yZU90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmFmdGVyT3RoZXJTdHlsZSgpICE9PSBvdGhlci5hZnRlck90aGVyU3R5bGUoKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgaWYgKFxuICAgICAgIXRoaXMudmlld2VyRm9udFNpemUgIT09ICFvdGhlci52aWV3ZXJGb250U2l6ZSB8fFxuICAgICAgKHRoaXMudmlld2VyRm9udFNpemUgJiYgdGhpcy52aWV3ZXJGb250U2l6ZSgpICE9PSBvdGhlci52aWV3ZXJGb250U2l6ZSgpKVxuICAgIClcbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhZ2VTdHlsZTtcbiIsIi8qIVxuICogS25vY2tvdXQgSmF2YVNjcmlwdCBsaWJyYXJ5IHYzLjUuMVxuICogKGMpIFRoZSBLbm9ja291dC5qcyB0ZWFtIC0gaHR0cDovL2tub2Nrb3V0anMuY29tL1xuICogTGljZW5zZTogTUlUIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcbiAqL1xuXG4oZnVuY3Rpb24oKSB7KGZ1bmN0aW9uKG4pe3ZhciBBPXRoaXN8fCgwLGV2YWwpKFwidGhpc1wiKSx3PUEuZG9jdW1lbnQsUj1BLm5hdmlnYXRvcix2PUEualF1ZXJ5LEg9QS5KU09OO3Z8fFwidW5kZWZpbmVkXCI9PT10eXBlb2YgalF1ZXJ5fHwodj1qUXVlcnkpOyhmdW5jdGlvbihuKXtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJyZXF1aXJlXCJdLG4pOlwib2JqZWN0XCI9PT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09PXR5cGVvZiBtb2R1bGU/bihtb2R1bGUuZXhwb3J0c3x8ZXhwb3J0cyk6bihBLmtvPXt9KX0pKGZ1bmN0aW9uKFMsVCl7ZnVuY3Rpb24gSyhhLGMpe3JldHVybiBudWxsPT09YXx8dHlwZW9mIGEgaW4gVz9hPT09YzohMX1mdW5jdGlvbiBYKGIsYyl7dmFyIGQ7cmV0dXJuIGZ1bmN0aW9uKCl7ZHx8KGQ9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkPW47YigpfSxjKSl9fWZ1bmN0aW9uIFkoYixjKXt2YXIgZDtyZXR1cm4gZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCk7XG5kPWEuYS5zZXRUaW1lb3V0KGIsYyl9fWZ1bmN0aW9uIFooYSxjKXtjJiZcImNoYW5nZVwiIT09Yz9cImJlZm9yZUNoYW5nZVwiPT09Yz90aGlzLnBjKGEpOnRoaXMuZ2IoYSxjKTp0aGlzLnFjKGEpfWZ1bmN0aW9uIGFhKGEsYyl7bnVsbCE9PWMmJmMucyYmYy5zKCl9ZnVuY3Rpb24gYmEoYSxjKXt2YXIgZD10aGlzLnFkLGU9ZFtyXTtlLnJhfHwodGhpcy5RYiYmdGhpcy5tYltjXT8oZC51YyhjLGEsdGhpcy5tYltjXSksdGhpcy5tYltjXT1udWxsLC0tdGhpcy5RYik6ZS5JW2NdfHxkLnVjKGMsYSxlLko/e2RhOmF9OmQuJGMoYSkpLGEuSmEmJmEuZ2QoKSl9dmFyIGE9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTP1M6e307YS5iPWZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWIuc3BsaXQoXCIuXCIpLGU9YSxmPTA7ZjxkLmxlbmd0aC0xO2YrKyllPWVbZFtmXV07ZVtkW2QubGVuZ3RoLTFdXT1jfTthLkw9ZnVuY3Rpb24oYSxjLGQpe2FbY109ZH07YS52ZXJzaW9uPVwiMy41LjFcIjthLmIoXCJ2ZXJzaW9uXCIsXG5hLnZlcnNpb24pO2Eub3B0aW9ucz17ZGVmZXJVcGRhdGVzOiExLHVzZU9ubHlOYXRpdmVFdmVudHM6ITEsZm9yZWFjaEhpZGVzRGVzdHJveWVkOiExfTthLmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjIGluIGEpZi5jYWxsKGEsYykmJmIoYyxhW2NdKX1mdW5jdGlvbiBjKGEsYil7aWYoYilmb3IodmFyIGMgaW4gYilmLmNhbGwoYixjKSYmKGFbY109YltjXSk7cmV0dXJuIGF9ZnVuY3Rpb24gZChhLGIpe2EuX19wcm90b19fPWI7cmV0dXJuIGF9ZnVuY3Rpb24gZShiLGMsZCxlKXt2YXIgbD1iW2NdLm1hdGNoKHEpfHxbXTthLmEuRChkLm1hdGNoKHEpLGZ1bmN0aW9uKGIpe2EuYS5OYShsLGIsZSl9KTtiW2NdPWwuam9pbihcIiBcIil9dmFyIGY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxnPXtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSxoPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wsbT17fSxrPXt9O21bUiYmL0ZpcmVmb3hcXC8yL2kudGVzdChSLnVzZXJBZ2VudCk/XG5cIktleWJvYXJkRXZlbnRcIjpcIlVJRXZlbnRzXCJdPVtcImtleXVwXCIsXCJrZXlkb3duXCIsXCJrZXlwcmVzc1wiXTttLk1vdXNlRXZlbnRzPVwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmVcIi5zcGxpdChcIiBcIik7YihtLGZ1bmN0aW9uKGEsYil7aWYoYi5sZW5ndGgpZm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWtbYltjXV09YX0pO3ZhciBsPXtwcm9wZXJ0eWNoYW5nZTohMH0scD13JiZmdW5jdGlvbigpe2Zvcih2YXIgYT0zLGI9dy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGM9Yi5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlcIik7Yi5pbm5lckhUTUw9XCJcXHgzYyEtLVtpZiBndCBJRSBcIisgKythK1wiXT48aT48L2k+PCFbZW5kaWZdLS1cXHgzZVwiLGNbMF07KTtyZXR1cm4gNDxhP2E6bn0oKSxxPS9cXFMrL2csdDtyZXR1cm57SmM6W1wiYXV0aGVudGljaXR5X3Rva2VuXCIsL15fX1JlcXVlc3RWZXJpZmljYXRpb25Ub2tlbihfLiopPyQvXSxcbkQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKyliLmNhbGwoYyxhW2RdLGQsYSl9LEE6XCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChhLGIpfTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKylpZihhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTGI6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGFbZF07cmV0dXJuIG59LFBhOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLkEoYixjKTswPGQ/Yi5zcGxpY2UoZCwxKTowPT09ZCYmYi5zaGlmdCgpfSx3YzpmdW5jdGlvbihiKXt2YXIgYz1bXTtiJiZhLmEuRChiLGZ1bmN0aW9uKGIpezA+YS5hLkEoYyxiKSYmYy5wdXNoKGIpfSk7cmV0dXJuIGN9LE1iOmZ1bmN0aW9uKGEsXG5iLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWQucHVzaChiLmNhbGwoYyxhW2VdLGUpKTtyZXR1cm4gZH0samI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdO2lmKGEpZm9yKHZhciBlPTAsbD1hLmxlbmd0aDtlPGw7ZSsrKWIuY2FsbChjLGFbZV0sZSkmJmQucHVzaChhW2VdKTtyZXR1cm4gZH0sTmI6ZnVuY3Rpb24oYSxiKXtpZihiIGluc3RhbmNlb2YgQXJyYXkpYS5wdXNoLmFwcGx5KGEsYik7ZWxzZSBmb3IodmFyIGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspYS5wdXNoKGJbY10pO3JldHVybiBhfSxOYTpmdW5jdGlvbihiLGMsZCl7dmFyIGU9YS5hLkEoYS5hLmJjKGIpLGMpOzA+ZT9kJiZiLnB1c2goYyk6ZHx8Yi5zcGxpY2UoZSwxKX0sQmE6ZyxleHRlbmQ6YyxzZXRQcm90b3R5cGVPZjpkLEFiOmc/ZDpjLFA6YixHYTpmdW5jdGlvbihhLGIsYyl7aWYoIWEpcmV0dXJuIGE7dmFyIGQ9e30sZTtmb3IoZSBpbiBhKWYuY2FsbChhLGUpJiYoZFtlXT1cbmIuY2FsbChjLGFbZV0sZSxhKSk7cmV0dXJuIGR9LFRiOmZ1bmN0aW9uKGIpe2Zvcig7Yi5maXJzdENoaWxkOylhLnJlbW92ZU5vZGUoYi5maXJzdENoaWxkKX0sWWI6ZnVuY3Rpb24oYil7Yj1hLmEubGEoYik7Zm9yKHZhciBjPShiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fHcpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKyljLmFwcGVuZENoaWxkKGEub2EoYltkXSkpO3JldHVybiBjfSxDYTpmdW5jdGlvbihiLGMpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGgsbD1bXTtkPGU7ZCsrKXt2YXIgaz1iW2RdLmNsb25lTm9kZSghMCk7bC5wdXNoKGM/YS5vYShrKTprKX1yZXR1cm4gbH0sdmE6ZnVuY3Rpb24oYixjKXthLmEuVGIoYik7aWYoYylmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYi5hcHBlbmRDaGlsZChjW2RdKX0sWGM6ZnVuY3Rpb24oYixjKXt2YXIgZD1iLm5vZGVUeXBlP1tiXTpiO2lmKDA8ZC5sZW5ndGgpe2Zvcih2YXIgZT1kWzBdLFxubD1lLnBhcmVudE5vZGUsaz0wLGY9Yy5sZW5ndGg7azxmO2srKylsLmluc2VydEJlZm9yZShjW2tdLGUpO2s9MDtmb3IoZj1kLmxlbmd0aDtrPGY7aysrKWEucmVtb3ZlTm9kZShkW2tdKX19LFVhOmZ1bmN0aW9uKGEsYil7aWYoYS5sZW5ndGgpe2ZvcihiPTg9PT1iLm5vZGVUeXBlJiZiLnBhcmVudE5vZGV8fGI7YS5sZW5ndGgmJmFbMF0ucGFyZW50Tm9kZSE9PWI7KWEuc3BsaWNlKDAsMSk7Zm9yKDsxPGEubGVuZ3RoJiZhW2EubGVuZ3RoLTFdLnBhcmVudE5vZGUhPT1iOylhLmxlbmd0aC0tO2lmKDE8YS5sZW5ndGgpe3ZhciBjPWFbMF0sZD1hW2EubGVuZ3RoLTFdO2ZvcihhLmxlbmd0aD0wO2MhPT1kOylhLnB1c2goYyksYz1jLm5leHRTaWJsaW5nO2EucHVzaChkKX19cmV0dXJuIGF9LFpjOmZ1bmN0aW9uKGEsYil7Nz5wP2Euc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixiKTphLnNlbGVjdGVkPWJ9LERiOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT09YXx8YT09PW4/XCJcIjphLnRyaW0/XG5hLnRyaW0oKTphLnRvU3RyaW5nKCkucmVwbGFjZSgvXltcXHNcXHhhMF0rfFtcXHNcXHhhMF0rJC9nLFwiXCIpfSxVZDpmdW5jdGlvbihhLGIpe2E9YXx8XCJcIjtyZXR1cm4gYi5sZW5ndGg+YS5sZW5ndGg/ITE6YS5zdWJzdHJpbmcoMCxiLmxlbmd0aCk9PT1ifSx2ZDpmdW5jdGlvbihhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKDExPT09YS5ub2RlVHlwZSlyZXR1cm4hMTtpZihiLmNvbnRhaW5zKXJldHVybiBiLmNvbnRhaW5zKDEhPT1hLm5vZGVUeXBlP2EucGFyZW50Tm9kZTphKTtpZihiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiAxNj09KGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpO2Zvcig7YSYmYSE9YjspYT1hLnBhcmVudE5vZGU7cmV0dXJuISFhfSxTYjpmdW5jdGlvbihiKXtyZXR1cm4gYS5hLnZkKGIsYi5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl9LGtkOmZ1bmN0aW9uKGIpe3JldHVybiEhYS5hLkxiKGIsYS5hLlNiKX0sUjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmXG5hLnRhZ05hbWUmJmEudGFnTmFtZS50b0xvd2VyQ2FzZSgpfSxBYzpmdW5jdGlvbihiKXtyZXR1cm4gYS5vbkVycm9yP2Z1bmN0aW9uKCl7dHJ5e3JldHVybiBiLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1jYXRjaChjKXt0aHJvdyBhLm9uRXJyb3ImJmEub25FcnJvcihjKSxjO319OmJ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYixjKXtyZXR1cm4gc2V0VGltZW91dChhLmEuQWMoYiksYyl9LEdjOmZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9uRXJyb3ImJmEub25FcnJvcihiKTt0aHJvdyBiO30sMCl9LEI6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPWEuYS5BYyhkKTtkPWxbY107aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fGR8fCF2KWlmKGR8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGIuYWRkRXZlbnRMaXN0ZW5lcilpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYi5hdHRhY2hFdmVudCl7dmFyIGs9ZnVuY3Rpb24oYSl7ZS5jYWxsKGIsYSl9LGY9XCJvblwiK2M7Yi5hdHRhY2hFdmVudChmLFxuayk7YS5hLksuemEoYixmdW5jdGlvbigpe2IuZGV0YWNoRXZlbnQoZixrKX0pfWVsc2UgdGhyb3cgRXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBhZGRFdmVudExpc3RlbmVyIG9yIGF0dGFjaEV2ZW50XCIpO2Vsc2UgYi5hZGRFdmVudExpc3RlbmVyKGMsZSwhMSk7ZWxzZSB0fHwodD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB2KGIpLm9uP1wib25cIjpcImJpbmRcIiksdihiKVt0XShjLGUpfSxGYjpmdW5jdGlvbihiLGMpe2lmKCFifHwhYi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImVsZW1lbnQgbXVzdCBiZSBhIERPTSBub2RlIHdoZW4gY2FsbGluZyB0cmlnZ2VyRXZlbnRcIik7dmFyIGQ7XCJpbnB1dFwiPT09YS5hLlIoYikmJmIudHlwZSYmXCJjbGlja1wiPT1jLnRvTG93ZXJDYXNlKCk/KGQ9Yi50eXBlLGQ9XCJjaGVja2JveFwiPT1kfHxcInJhZGlvXCI9PWQpOmQ9ITE7aWYoYS5vcHRpb25zLnVzZU9ubHlOYXRpdmVFdmVudHN8fCF2fHxkKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHcuY3JlYXRlRXZlbnQpaWYoXCJmdW5jdGlvblwiPT1cbnR5cGVvZiBiLmRpc3BhdGNoRXZlbnQpZD13LmNyZWF0ZUV2ZW50KGtbY118fFwiSFRNTEV2ZW50c1wiKSxkLmluaXRFdmVudChjLCEwLCEwLEEsMCwwLDAsMCwwLCExLCExLCExLCExLDAsYiksYi5kaXNwYXRjaEV2ZW50KGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJUaGUgc3VwcGxpZWQgZWxlbWVudCBkb2Vzbid0IHN1cHBvcnQgZGlzcGF0Y2hFdmVudFwiKTtlbHNlIGlmKGQmJmIuY2xpY2spYi5jbGljaygpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGIuZmlyZUV2ZW50KWIuZmlyZUV2ZW50KFwib25cIitjKTtlbHNlIHRocm93IEVycm9yKFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgdHJpZ2dlcmluZyBldmVudHNcIik7ZWxzZSB2KGIpLnRyaWdnZXIoYyl9LGY6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iKCk6Yn0sYmM6ZnVuY3Rpb24oYil7cmV0dXJuIGEuTyhiKT9iLnYoKTpifSxFYjpmdW5jdGlvbihiLGMsZCl7dmFyIGw7YyYmKFwib2JqZWN0XCI9PT10eXBlb2YgYi5jbGFzc0xpc3Q/XG4obD1iLmNsYXNzTGlzdFtkP1wiYWRkXCI6XCJyZW1vdmVcIl0sYS5hLkQoYy5tYXRjaChxKSxmdW5jdGlvbihhKXtsLmNhbGwoYi5jbGFzc0xpc3QsYSl9KSk6XCJzdHJpbmdcIj09PXR5cGVvZiBiLmNsYXNzTmFtZS5iYXNlVmFsP2UoYi5jbGFzc05hbWUsXCJiYXNlVmFsXCIsYyxkKTplKGIsXCJjbGFzc05hbWVcIixjLGQpKX0sQmI6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO3ZhciBlPWEuaC5maXJzdENoaWxkKGIpOyFlfHwzIT1lLm5vZGVUeXBlfHxhLmgubmV4dFNpYmxpbmcoZSk/YS5oLnZhKGIsW2Iub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkKV0pOmUuZGF0YT1kO2EuYS5BZChiKX0sWWM6ZnVuY3Rpb24oYSxiKXthLm5hbWU9YjtpZig3Pj1wKXRyeXt2YXIgYz1hLm5hbWUucmVwbGFjZSgvWyY8PidcIl0vZyxmdW5jdGlvbihhKXtyZXR1cm5cIiYjXCIrYS5jaGFyQ29kZUF0KDApK1wiO1wifSk7YS5tZXJnZUF0dHJpYnV0ZXMody5jcmVhdGVFbGVtZW50KFwiPGlucHV0IG5hbWU9J1wiK1xuYytcIicvPlwiKSwhMSl9Y2F0Y2goZCl7fX0sQWQ6ZnVuY3Rpb24oYSl7OTw9cCYmKGE9MT09YS5ub2RlVHlwZT9hOmEucGFyZW50Tm9kZSxhLnN0eWxlJiYoYS5zdHlsZS56b29tPWEuc3R5bGUuem9vbSkpfSx3ZDpmdW5jdGlvbihhKXtpZihwKXt2YXIgYj1hLnN0eWxlLndpZHRoO2Euc3R5bGUud2lkdGg9MDthLnN0eWxlLndpZHRoPWJ9fSxQZDpmdW5jdGlvbihiLGMpe2I9YS5hLmYoYik7Yz1hLmEuZihjKTtmb3IodmFyIGQ9W10sZT1iO2U8PWM7ZSsrKWQucHVzaChlKTtyZXR1cm4gZH0sbGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9MCxkPWEubGVuZ3RoO2M8ZDtjKyspYi5wdXNoKGFbY10pO3JldHVybiBifSxEYTpmdW5jdGlvbihhKXtyZXR1cm4gaD9TeW1ib2woYSk6YX0sWmQ6Nj09PXAsJGQ6Nz09PXAsVzpwLExjOmZ1bmN0aW9uKGIsYyl7Zm9yKHZhciBkPWEuYS5sYShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIikpLmNvbmNhdChhLmEubGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpKSksXG5lPVwic3RyaW5nXCI9PXR5cGVvZiBjP2Z1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PT1jfTpmdW5jdGlvbihhKXtyZXR1cm4gYy50ZXN0KGEubmFtZSl9LGw9W10saz1kLmxlbmd0aC0xOzA8PWs7ay0tKWUoZFtrXSkmJmwucHVzaChkW2tdKTtyZXR1cm4gbH0sTmQ6ZnVuY3Rpb24oYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWEuYS5EYihiKSk/SCYmSC5wYXJzZT9ILnBhcnNlKGIpOihuZXcgRnVuY3Rpb24oXCJyZXR1cm4gXCIrYikpKCk6bnVsbH0saGM6ZnVuY3Rpb24oYixjLGQpe2lmKCFIfHwhSC5zdHJpbmdpZnkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBKU09OLnN0cmluZ2lmeSgpLiBTb21lIGJyb3dzZXJzIChlLmcuLCBJRSA8IDgpIGRvbid0IHN1cHBvcnQgaXQgbmF0aXZlbHksIGJ1dCB5b3UgY2FuIG92ZXJjb21lIHRoaXMgYnkgYWRkaW5nIGEgc2NyaXB0IHJlZmVyZW5jZSB0byBqc29uMi5qcywgZG93bmxvYWRhYmxlIGZyb20gaHR0cDovL3d3dy5qc29uLm9yZy9qc29uMi5qc1wiKTtcbnJldHVybiBILnN0cmluZ2lmeShhLmEuZihiKSxjLGQpfSxPZDpmdW5jdGlvbihjLGQsZSl7ZT1lfHx7fTt2YXIgbD1lLnBhcmFtc3x8e30saz1lLmluY2x1ZGVGaWVsZHN8fHRoaXMuSmMsZj1jO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBjJiZcImZvcm1cIj09PWEuYS5SKGMpKWZvcih2YXIgZj1jLmFjdGlvbixoPWsubGVuZ3RoLTE7MDw9aDtoLS0pZm9yKHZhciBnPWEuYS5MYyhjLGtbaF0pLG09Zy5sZW5ndGgtMTswPD1tO20tLSlsW2dbbV0ubmFtZV09Z1ttXS52YWx1ZTtkPWEuYS5mKGQpO3ZhciBwPXcuY3JlYXRlRWxlbWVudChcImZvcm1cIik7cC5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3AuYWN0aW9uPWY7cC5tZXRob2Q9XCJwb3N0XCI7Zm9yKHZhciBxIGluIGQpYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxjLnR5cGU9XCJoaWRkZW5cIixjLm5hbWU9cSxjLnZhbHVlPWEuYS5oYyhhLmEuZihkW3FdKSkscC5hcHBlbmRDaGlsZChjKTtiKGwsZnVuY3Rpb24oYSxiKXt2YXIgYz13LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmMudHlwZT1cImhpZGRlblwiO2MubmFtZT1hO2MudmFsdWU9YjtwLmFwcGVuZENoaWxkKGMpfSk7dy5ib2R5LmFwcGVuZENoaWxkKHApO2Uuc3VibWl0dGVyP2Uuc3VibWl0dGVyKHApOnAuc3VibWl0KCk7c2V0VGltZW91dChmdW5jdGlvbigpe3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwKX0sMCl9fX0oKTthLmIoXCJ1dGlsc1wiLGEuYSk7YS5iKFwidXRpbHMuYXJyYXlGb3JFYWNoXCIsYS5hLkQpO2EuYihcInV0aWxzLmFycmF5Rmlyc3RcIixhLmEuTGIpO2EuYihcInV0aWxzLmFycmF5RmlsdGVyXCIsYS5hLmpiKTthLmIoXCJ1dGlscy5hcnJheUdldERpc3RpbmN0VmFsdWVzXCIsYS5hLndjKTthLmIoXCJ1dGlscy5hcnJheUluZGV4T2ZcIixhLmEuQSk7YS5iKFwidXRpbHMuYXJyYXlNYXBcIixhLmEuTWIpO2EuYihcInV0aWxzLmFycmF5UHVzaEFsbFwiLGEuYS5OYik7YS5iKFwidXRpbHMuYXJyYXlSZW1vdmVJdGVtXCIsYS5hLlBhKTthLmIoXCJ1dGlscy5jbG9uZU5vZGVzXCIsYS5hLkNhKTthLmIoXCJ1dGlscy5jcmVhdGVTeW1ib2xPclN0cmluZ1wiLFxuYS5hLkRhKTthLmIoXCJ1dGlscy5leHRlbmRcIixhLmEuZXh0ZW5kKTthLmIoXCJ1dGlscy5maWVsZHNJbmNsdWRlZFdpdGhKc29uUG9zdFwiLGEuYS5KYyk7YS5iKFwidXRpbHMuZ2V0Rm9ybUZpZWxkc1wiLGEuYS5MYyk7YS5iKFwidXRpbHMub2JqZWN0TWFwXCIsYS5hLkdhKTthLmIoXCJ1dGlscy5wZWVrT2JzZXJ2YWJsZVwiLGEuYS5iYyk7YS5iKFwidXRpbHMucG9zdEpzb25cIixhLmEuT2QpO2EuYihcInV0aWxzLnBhcnNlSnNvblwiLGEuYS5OZCk7YS5iKFwidXRpbHMucmVnaXN0ZXJFdmVudEhhbmRsZXJcIixhLmEuQik7YS5iKFwidXRpbHMuc3RyaW5naWZ5SnNvblwiLGEuYS5oYyk7YS5iKFwidXRpbHMucmFuZ2VcIixhLmEuUGQpO2EuYihcInV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzc1wiLGEuYS5FYik7YS5iKFwidXRpbHMudHJpZ2dlckV2ZW50XCIsYS5hLkZiKTthLmIoXCJ1dGlscy51bndyYXBPYnNlcnZhYmxlXCIsYS5hLmYpO2EuYihcInV0aWxzLm9iamVjdEZvckVhY2hcIixhLmEuUCk7YS5iKFwidXRpbHMuYWRkT3JSZW1vdmVJdGVtXCIsXG5hLmEuTmEpO2EuYihcInV0aWxzLnNldFRleHRDb250ZW50XCIsYS5hLkJiKTthLmIoXCJ1bndyYXBcIixhLmEuZik7RnVuY3Rpb24ucHJvdG90eXBlLmJpbmR8fChGdW5jdGlvbi5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihhKXt2YXIgYz10aGlzO2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmFwcGx5KGEsYXJndW1lbnRzKX07dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPWQuc2xpY2UoMCk7ZS5wdXNoLmFwcGx5KGUsYXJndW1lbnRzKTtyZXR1cm4gYy5hcHBseShhLGUpfX0pO2EuYS5nPW5ldyBmdW5jdGlvbigpe3ZhciBiPTAsYz1cIl9fa29fX1wiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9e30sZSxmO2EuYS5XPyhlPWZ1bmN0aW9uKGEsZSl7dmFyIGY9YVtjXTtpZighZnx8XCJudWxsXCI9PT1mfHwhZFtmXSl7aWYoIWUpcmV0dXJuIG47Zj1hW2NdPVwia29cIitiKys7ZFtmXT1cbnt9fXJldHVybiBkW2ZdfSxmPWZ1bmN0aW9uKGEpe3ZhciBiPWFbY107cmV0dXJuIGI/KGRlbGV0ZSBkW2JdLGFbY109bnVsbCwhMCk6ITF9KTooZT1mdW5jdGlvbihhLGIpe3ZhciBkPWFbY107IWQmJmImJihkPWFbY109e30pO3JldHVybiBkfSxmPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdPyhkZWxldGUgYVtjXSwhMCk6ITF9KTtyZXR1cm57Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9ZShhLCExKTtyZXR1cm4gYyYmY1tiXX0sc2V0OmZ1bmN0aW9uKGEsYixjKXsoYT1lKGEsYyE9PW4pKSYmKGFbYl09Yyl9LFViOmZ1bmN0aW9uKGEsYixjKXthPWUoYSwhMCk7cmV0dXJuIGFbYl18fChhW2JdPWMpfSxjbGVhcjpmLFo6ZnVuY3Rpb24oKXtyZXR1cm4gYisrICtjfX19O2EuYihcInV0aWxzLmRvbURhdGFcIixhLmEuZyk7YS5iKFwidXRpbHMuZG9tRGF0YS5jbGVhclwiLGEuYS5nLmNsZWFyKTthLmEuSz1uZXcgZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIsZSk7XG5kPT09biYmYyYmKGQ9W10sYS5hLmcuc2V0KGIsZSxkKSk7cmV0dXJuIGR9ZnVuY3Rpb24gYyhjKXt2YXIgZT1iKGMsITEpO2lmKGUpZm9yKHZhciBlPWUuc2xpY2UoMCksaz0wO2s8ZS5sZW5ndGg7aysrKWVba10oYyk7YS5hLmcuY2xlYXIoYyk7YS5hLksuY2xlYW5FeHRlcm5hbERhdGEoYyk7Z1tjLm5vZGVUeXBlXSYmZChjLmNoaWxkTm9kZXMsITApfWZ1bmN0aW9uIGQoYixkKXtmb3IodmFyIGU9W10sbCxmPTA7ZjxiLmxlbmd0aDtmKyspaWYoIWR8fDg9PT1iW2ZdLm5vZGVUeXBlKWlmKGMoZVtlLmxlbmd0aF09bD1iW2ZdKSxiW2ZdIT09bClmb3IoO2YtLSYmLTE9PWEuYS5BKGUsYltmXSk7KTt9dmFyIGU9YS5hLmcuWigpLGY9ezE6ITAsODohMCw5OiEwfSxnPXsxOiEwLDk6ITB9O3JldHVybnt6YTpmdW5jdGlvbihhLGMpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJDYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7YihhLCEwKS5wdXNoKGMpfSx5YjpmdW5jdGlvbihjLFxuZCl7dmFyIGY9YihjLCExKTtmJiYoYS5hLlBhKGYsZCksMD09Zi5sZW5ndGgmJmEuYS5nLnNldChjLGUsbikpfSxvYTpmdW5jdGlvbihiKXthLnUuRyhmdW5jdGlvbigpe2ZbYi5ub2RlVHlwZV0mJihjKGIpLGdbYi5ub2RlVHlwZV0mJmQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIikpKX0pO3JldHVybiBifSxyZW1vdmVOb2RlOmZ1bmN0aW9uKGIpe2Eub2EoYik7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9LGNsZWFuRXh0ZXJuYWxEYXRhOmZ1bmN0aW9uKGEpe3YmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHYuY2xlYW5EYXRhJiZ2LmNsZWFuRGF0YShbYV0pfX19O2Eub2E9YS5hLksub2E7YS5yZW1vdmVOb2RlPWEuYS5LLnJlbW92ZU5vZGU7YS5iKFwiY2xlYW5Ob2RlXCIsYS5vYSk7YS5iKFwicmVtb3ZlTm9kZVwiLGEucmVtb3ZlTm9kZSk7YS5iKFwidXRpbHMuZG9tTm9kZURpc3Bvc2FsXCIsYS5hLkspO2EuYihcInV0aWxzLmRvbU5vZGVEaXNwb3NhbC5hZGREaXNwb3NlQ2FsbGJhY2tcIixcbmEuYS5LLnphKTthLmIoXCJ1dGlscy5kb21Ob2RlRGlzcG9zYWwucmVtb3ZlRGlzcG9zZUNhbGxiYWNrXCIsYS5hLksueWIpOyhmdW5jdGlvbigpe3ZhciBiPVswLFwiXCIsXCJcIl0sYz1bMSxcIjx0YWJsZT5cIixcIjwvdGFibGU+XCJdLGQ9WzMsXCI8dGFibGU+PHRib2R5Pjx0cj5cIixcIjwvdHI+PC90Ym9keT48L3RhYmxlPlwiXSxlPVsxLFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLFwiPC9zZWxlY3Q+XCJdLGY9e3RoZWFkOmMsdGJvZHk6Yyx0Zm9vdDpjLHRyOlsyLFwiPHRhYmxlPjx0Ym9keT5cIixcIjwvdGJvZHk+PC90YWJsZT5cIl0sdGQ6ZCx0aDpkLG9wdGlvbjplLG9wdGdyb3VwOmV9LGc9OD49YS5hLlc7YS5hLnVhPWZ1bmN0aW9uKGMsZCl7dmFyIGU7aWYodilpZih2LnBhcnNlSFRNTCllPXYucGFyc2VIVE1MKGMsZCl8fFtdO2Vsc2V7aWYoKGU9di5jbGVhbihbY10sZCkpJiZlWzBdKXtmb3IodmFyIGw9ZVswXTtsLnBhcmVudE5vZGUmJjExIT09bC5wYXJlbnROb2RlLm5vZGVUeXBlOylsPWwucGFyZW50Tm9kZTtcbmwucGFyZW50Tm9kZSYmbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGwpfX1lbHNleyhlPWQpfHwoZT13KTt2YXIgbD1lLnBhcmVudFdpbmRvd3x8ZS5kZWZhdWx0Vmlld3x8QSxwPWEuYS5EYihjKS50b0xvd2VyQ2FzZSgpLHE9ZS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHQ7dD0ocD1wLm1hdGNoKC9eKD86XFx4M2MhLS0uKj8tLVxceDNlXFxzKj8pKj88KFthLXpdKylbXFxzPl0vKSkmJmZbcFsxXV18fGI7cD10WzBdO3Q9XCJpZ25vcmVkPGRpdj5cIit0WzFdK2MrdFsyXStcIjwvZGl2PlwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGwuaW5uZXJTaGl2P3EuYXBwZW5kQ2hpbGQobC5pbm5lclNoaXYodCkpOihnJiZlLmJvZHkuYXBwZW5kQ2hpbGQocSkscS5pbm5lckhUTUw9dCxnJiZxLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocSkpO2Zvcig7cC0tOylxPXEubGFzdENoaWxkO2U9YS5hLmxhKHEubGFzdENoaWxkLmNoaWxkTm9kZXMpfXJldHVybiBlfTthLmEuTWQ9ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEudWEoYixcbmMpO3JldHVybiBkLmxlbmd0aCYmZFswXS5wYXJlbnRFbGVtZW50fHxhLmEuWWIoZCl9O2EuYS5mYz1mdW5jdGlvbihiLGMpe2EuYS5UYihiKTtjPWEuYS5mKGMpO2lmKG51bGwhPT1jJiZjIT09bilpZihcInN0cmluZ1wiIT10eXBlb2YgYyYmKGM9Yy50b1N0cmluZygpKSx2KXYoYikuaHRtbChjKTtlbHNlIGZvcih2YXIgZD1hLmEudWEoYyxiLm93bmVyRG9jdW1lbnQpLGU9MDtlPGQubGVuZ3RoO2UrKyliLmFwcGVuZENoaWxkKGRbZV0pfX0pKCk7YS5iKFwidXRpbHMucGFyc2VIdG1sRnJhZ21lbnRcIixhLmEudWEpO2EuYihcInV0aWxzLnNldEh0bWxcIixhLmEuZmMpO2EuYWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGMsZSl7aWYoYylpZig4PT1jLm5vZGVUeXBlKXt2YXIgZj1hLmFhLlVjKGMubm9kZVZhbHVlKTtudWxsIT1mJiZlLnB1c2goe3VkOmMsS2Q6Zn0pfWVsc2UgaWYoMT09Yy5ub2RlVHlwZSlmb3IodmFyIGY9MCxnPWMuY2hpbGROb2RlcyxoPWcubGVuZ3RoO2Y8aDtmKyspYihnW2ZdLFxuZSl9dmFyIGM9e307cmV0dXJue1hiOmZ1bmN0aW9uKGEpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhyb3cgRXJyb3IoXCJZb3UgY2FuIG9ubHkgcGFzcyBhIGZ1bmN0aW9uIHRvIGtvLm1lbW9pemF0aW9uLm1lbW9pemUoKVwiKTt2YXIgYj0oNDI5NDk2NzI5NiooMStNYXRoLnJhbmRvbSgpKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpKyg0Mjk0OTY3Mjk2KigxK01hdGgucmFuZG9tKCkpfDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7Y1tiXT1hO3JldHVyblwiXFx4M2MhLS1ba29fbWVtbzpcIitiK1wiXS0tXFx4M2VcIn0sYmQ6ZnVuY3Rpb24oYSxiKXt2YXIgZj1jW2FdO2lmKGY9PT1uKXRocm93IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhbnkgbWVtbyB3aXRoIElEIFwiK2ErXCIuIFBlcmhhcHMgaXQncyBhbHJlYWR5IGJlZW4gdW5tZW1vaXplZC5cIik7dHJ5e3JldHVybiBmLmFwcGx5KG51bGwsYnx8W10pLCEwfWZpbmFsbHl7ZGVsZXRlIGNbYV19fSxjZDpmdW5jdGlvbihjLGUpe3ZhciBmPVxuW107YihjLGYpO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKyl7dmFyIG09ZltnXS51ZCxrPVttXTtlJiZhLmEuTmIoayxlKTthLmFhLmJkKGZbZ10uS2Qsayk7bS5ub2RlVmFsdWU9XCJcIjttLnBhcmVudE5vZGUmJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKX19LFVjOmZ1bmN0aW9uKGEpe3JldHVybihhPWEubWF0Y2goL15cXFtrb19tZW1vXFw6KC4qPylcXF0kLykpP2FbMV06bnVsbH19fSgpO2EuYihcIm1lbW9pemF0aW9uXCIsYS5hYSk7YS5iKFwibWVtb2l6YXRpb24ubWVtb2l6ZVwiLGEuYWEuWGIpO2EuYihcIm1lbW9pemF0aW9uLnVubWVtb2l6ZVwiLGEuYWEuYmQpO2EuYihcIm1lbW9pemF0aW9uLnBhcnNlTWVtb1RleHRcIixhLmFhLlVjKTthLmIoXCJtZW1vaXphdGlvbi51bm1lbW9pemVEb21Ob2RlQW5kRGVzY2VuZGFudHNcIixhLmFhLmNkKTthLm5hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYigpe2lmKGYpZm9yKHZhciBiPWYsYz0wLGQ7aDxmOylpZihkPWVbaCsrXSl7aWYoaD5iKXtpZig1RTM8PVxuKytjKXtoPWY7YS5hLkdjKEVycm9yKFwiJ1RvbyBtdWNoIHJlY3Vyc2lvbicgYWZ0ZXIgcHJvY2Vzc2luZyBcIitjK1wiIHRhc2sgZ3JvdXBzLlwiKSk7YnJlYWt9Yj1mfXRyeXtkKCl9Y2F0Y2gocCl7YS5hLkdjKHApfX19ZnVuY3Rpb24gYygpe2IoKTtoPWY9ZS5sZW5ndGg9MH12YXIgZCxlPVtdLGY9MCxnPTEsaD0wO0EuTXV0YXRpb25PYnNlcnZlcj9kPWZ1bmN0aW9uKGEpe3ZhciBiPXcuY3JlYXRlRWxlbWVudChcImRpdlwiKTsobmV3IE11dGF0aW9uT2JzZXJ2ZXIoYSkpLm9ic2VydmUoYix7YXR0cmlidXRlczohMH0pO3JldHVybiBmdW5jdGlvbigpe2IuY2xhc3NMaXN0LnRvZ2dsZShcImZvb1wiKX19KGMpOmQ9dyYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIHcuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbihhKXt2YXIgYj13LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtiLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3cuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGIpO1xuYj1udWxsO2EoKX07dy5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoYil9OmZ1bmN0aW9uKGEpe3NldFRpbWVvdXQoYSwwKX07cmV0dXJue3NjaGVkdWxlcjpkLHpiOmZ1bmN0aW9uKGIpe2Z8fGEubmEuc2NoZWR1bGVyKGMpO2VbZisrXT1iO3JldHVybiBnKyt9LGNhbmNlbDpmdW5jdGlvbihhKXthPWEtKGctZik7YT49aCYmYTxmJiYoZVthXT1udWxsKX0scmVzZXRGb3JUZXN0aW5nOmZ1bmN0aW9uKCl7dmFyIGE9Zi1oO2g9Zj1lLmxlbmd0aD0wO3JldHVybiBhfSxTZDpifX0oKTthLmIoXCJ0YXNrc1wiLGEubmEpO2EuYihcInRhc2tzLnNjaGVkdWxlXCIsYS5uYS56Yik7YS5iKFwidGFza3MucnVuRWFybHlcIixhLm5hLlNkKTthLlRhPXt0aHJvdHRsZTpmdW5jdGlvbihiLGMpe2IudGhyb3R0bGVFdmFsdWF0aW9uPWM7dmFyIGQ9bnVsbDtyZXR1cm4gYS4kKHtyZWFkOmIsd3JpdGU6ZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGQpO2Q9YS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKGUpfSxcbmMpfX0pfSxyYXRlTGltaXQ6ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGY7XCJudW1iZXJcIj09dHlwZW9mIGM/ZD1jOihkPWMudGltZW91dCxlPWMubWV0aG9kKTthLkhiPSExO2Y9XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lOlwibm90aWZ5V2hlbkNoYW5nZXNTdG9wXCI9PWU/WTpYO2EudWIoZnVuY3Rpb24oYSl7cmV0dXJuIGYoYSxkLGMpfSl9LGRlZmVycmVkOmZ1bmN0aW9uKGIsYyl7aWYoITAhPT1jKXRocm93IEVycm9yKFwiVGhlICdkZWZlcnJlZCcgZXh0ZW5kZXIgb25seSBhY2NlcHRzIHRoZSB2YWx1ZSAndHJ1ZScsIGJlY2F1c2UgaXQgaXMgbm90IHN1cHBvcnRlZCB0byB0dXJuIGRlZmVycmFsIG9mZiBvbmNlIGVuYWJsZWQuXCIpO2IuSGJ8fChiLkhiPSEwLGIudWIoZnVuY3Rpb24oYyl7dmFyIGUsZj0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighZil7YS5uYS5jYW5jZWwoZSk7ZT1hLm5hLnpiKGMpO3RyeXtmPSEwLGIubm90aWZ5U3Vic2NyaWJlcnMobixcImRpcnR5XCIpfWZpbmFsbHl7Zj1cbiExfX19fSkpfSxub3RpZnk6ZnVuY3Rpb24oYSxjKXthLmVxdWFsaXR5Q29tcGFyZXI9XCJhbHdheXNcIj09Yz9udWxsOkt9fTt2YXIgVz17dW5kZWZpbmVkOjEsXCJib29sZWFuXCI6MSxudW1iZXI6MSxzdHJpbmc6MX07YS5iKFwiZXh0ZW5kZXJzXCIsYS5UYSk7YS5pYz1mdW5jdGlvbihiLGMsZCl7dGhpcy5kYT1iO3RoaXMubGM9Yzt0aGlzLm1jPWQ7dGhpcy5JYj0hMTt0aGlzLmZiPXRoaXMuSmI9bnVsbDthLkwodGhpcyxcImRpc3Bvc2VcIix0aGlzLnMpO2EuTCh0aGlzLFwiZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkXCIsdGhpcy5sKX07YS5pYy5wcm90b3R5cGUucz1mdW5jdGlvbigpe3RoaXMuSWJ8fCh0aGlzLmZiJiZhLmEuSy55Yih0aGlzLkpiLHRoaXMuZmIpLHRoaXMuSWI9ITAsdGhpcy5tYygpLHRoaXMuZGE9dGhpcy5sYz10aGlzLm1jPXRoaXMuSmI9dGhpcy5mYj1udWxsKX07YS5pYy5wcm90b3R5cGUubD1mdW5jdGlvbihiKXt0aGlzLkpiPWI7YS5hLksuemEoYix0aGlzLmZiPXRoaXMucy5iaW5kKHRoaXMpKX07XG5hLlQ9ZnVuY3Rpb24oKXthLmEuQWIodGhpcyxEKTtELnFiKHRoaXMpfTt2YXIgRD17cWI6ZnVuY3Rpb24oYSl7YS5VPXtjaGFuZ2U6W119O2Euc2M9MX0sc3Vic2NyaWJlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2Q9ZHx8XCJjaGFuZ2VcIjt2YXIgZj1uZXcgYS5pYyhlLGM/Yi5iaW5kKGMpOmIsZnVuY3Rpb24oKXthLmEuUGEoZS5VW2RdLGYpO2UuaGImJmUuaGIoZCl9KTtlLlFhJiZlLlFhKGQpO2UuVVtkXXx8KGUuVVtkXT1bXSk7ZS5VW2RdLnB1c2goZik7cmV0dXJuIGZ9LG5vdGlmeVN1YnNjcmliZXJzOmZ1bmN0aW9uKGIsYyl7Yz1jfHxcImNoYW5nZVwiO1wiY2hhbmdlXCI9PT1jJiZ0aGlzLkdiKCk7aWYodGhpcy5XYShjKSl7dmFyIGQ9XCJjaGFuZ2VcIj09PWMmJnRoaXMuZWR8fHRoaXMuVVtjXS5zbGljZSgwKTt0cnl7YS51LnhjKCk7Zm9yKHZhciBlPTAsZjtmPWRbZV07KytlKWYuSWJ8fGYubGMoYil9ZmluYWxseXthLnUuZW5kKCl9fX0sb2I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY30sXG5EZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vYigpIT09YX0sR2I6ZnVuY3Rpb24oKXsrK3RoaXMuc2N9LHViOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1hLk8oYyksZSxmLGcsaCxtO2MuZ2J8fChjLmdiPWMubm90aWZ5U3Vic2NyaWJlcnMsYy5ub3RpZnlTdWJzY3JpYmVycz1aKTt2YXIgaz1iKGZ1bmN0aW9uKCl7Yy5KYT0hMTtkJiZoPT09YyYmKGg9Yy5uYz9jLm5jKCk6YygpKTt2YXIgYT1mfHxtJiZjLnNiKGcsaCk7bT1mPWU9ITE7YSYmYy5nYihnPWgpfSk7Yy5xYz1mdW5jdGlvbihhLGIpe2ImJmMuSmF8fChtPSFiKTtjLmVkPWMuVS5jaGFuZ2Uuc2xpY2UoMCk7Yy5KYT1lPSEwO2g9YTtrKCl9O2MucGM9ZnVuY3Rpb24oYSl7ZXx8KGc9YSxjLmdiKGEsXCJiZWZvcmVDaGFuZ2VcIikpfTtjLnJjPWZ1bmN0aW9uKCl7bT0hMH07Yy5nZD1mdW5jdGlvbigpe2Muc2IoZyxjLnYoITApKSYmKGY9ITApfX0sV2E6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuVVthXSYmdGhpcy5VW2FdLmxlbmd0aH0sXG5CZDpmdW5jdGlvbihiKXtpZihiKXJldHVybiB0aGlzLlVbYl0mJnRoaXMuVVtiXS5sZW5ndGh8fDA7dmFyIGM9MDthLmEuUCh0aGlzLlUsZnVuY3Rpb24oYSxiKXtcImRpcnR5XCIhPT1hJiYoYys9Yi5sZW5ndGgpfSk7cmV0dXJuIGN9LHNiOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIXRoaXMuZXF1YWxpdHlDb21wYXJlcnx8IXRoaXMuZXF1YWxpdHlDb21wYXJlcihhLGMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCJ9LGV4dGVuZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzO2ImJmEuYS5QKGIsZnVuY3Rpb24oYixlKXt2YXIgZj1hLlRhW2JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGYmJihjPWYoYyxlKXx8Yyl9KTtyZXR1cm4gY319O2EuTChELFwiaW5pdFwiLEQucWIpO2EuTChELFwic3Vic2NyaWJlXCIsRC5zdWJzY3JpYmUpO2EuTChELFwiZXh0ZW5kXCIsRC5leHRlbmQpO2EuTChELFwiZ2V0U3Vic2NyaXB0aW9uc0NvdW50XCIsRC5CZCk7YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRCxcbkZ1bmN0aW9uLnByb3RvdHlwZSk7YS5ULmZuPUQ7YS5RYz1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5zdWJzY3JpYmUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEubm90aWZ5U3Vic2NyaWJlcnN9O2EuYihcInN1YnNjcmliYWJsZVwiLGEuVCk7YS5iKFwiaXNTdWJzY3JpYmFibGVcIixhLlFjKTthLlM9YS51PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtkLnB1c2goZSk7ZT1hfWZ1bmN0aW9uIGMoKXtlPWQucG9wKCl9dmFyIGQ9W10sZSxmPTA7cmV0dXJue3hjOmIsZW5kOmMsY2M6ZnVuY3Rpb24oYil7aWYoZSl7aWYoIWEuUWMoYikpdGhyb3cgRXJyb3IoXCJPbmx5IHN1YnNjcmliYWJsZSB0aGluZ3MgY2FuIGFjdCBhcyBkZXBlbmRlbmNpZXNcIik7ZS5vZC5jYWxsKGUucGQsYixiLmZkfHwoYi5mZD0rK2YpKX19LEc6ZnVuY3Rpb24oYSxkLGUpe3RyeXtyZXR1cm4gYigpLGEuYXBwbHkoZCxlfHxbXSl9ZmluYWxseXtjKCl9fSxxYTpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUuby5xYSgpfSxcblZhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5vLlZhKCl9LFlhOmZ1bmN0aW9uKCl7aWYoZSlyZXR1cm4gZS5ZYX0sbzpmdW5jdGlvbigpe2lmKGUpcmV0dXJuIGUub319fSgpO2EuYihcImNvbXB1dGVkQ29udGV4dFwiLGEuUyk7YS5iKFwiY29tcHV0ZWRDb250ZXh0LmdldERlcGVuZGVuY2llc0NvdW50XCIsYS5TLnFhKTthLmIoXCJjb21wdXRlZENvbnRleHQuZ2V0RGVwZW5kZW5jaWVzXCIsYS5TLlZhKTthLmIoXCJjb21wdXRlZENvbnRleHQuaXNJbml0aWFsXCIsYS5TLllhKTthLmIoXCJjb21wdXRlZENvbnRleHQucmVnaXN0ZXJEZXBlbmRlbmN5XCIsYS5TLmNjKTthLmIoXCJpZ25vcmVEZXBlbmRlbmNpZXNcIixhLllkPWEudS5HKTt2YXIgST1hLmEuRGEoXCJfbGF0ZXN0VmFsdWVcIik7YS50YT1mdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXJldHVybiBjLnNiKGNbSV0sYXJndW1lbnRzWzBdKSYmKGMueWEoKSxjW0ldPWFyZ3VtZW50c1swXSxjLnhhKCkpLHRoaXM7XG5hLnUuY2MoYyk7cmV0dXJuIGNbSV19Y1tJXT1iO2EuYS5CYXx8YS5hLmV4dGVuZChjLGEuVC5mbik7YS5ULmZuLnFiKGMpO2EuYS5BYihjLEYpO2Eub3B0aW9ucy5kZWZlclVwZGF0ZXMmJmEuVGEuZGVmZXJyZWQoYywhMCk7cmV0dXJuIGN9O3ZhciBGPXtlcXVhbGl0eUNvbXBhcmVyOkssdjpmdW5jdGlvbigpe3JldHVybiB0aGlzW0ldfSx4YTpmdW5jdGlvbigpe3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSxcInNwZWN0YXRlXCIpO3RoaXMubm90aWZ5U3Vic2NyaWJlcnModGhpc1tJXSl9LHlhOmZ1bmN0aW9uKCl7dGhpcy5ub3RpZnlTdWJzY3JpYmVycyh0aGlzW0ldLFwiYmVmb3JlQ2hhbmdlXCIpfX07YS5hLkJhJiZhLmEuc2V0UHJvdG90eXBlT2YoRixhLlQuZm4pO3ZhciBHPWEudGEuTWE9XCJfX2tvX3Byb3RvX19cIjtGW0ddPWEudGE7YS5PPWZ1bmN0aW9uKGIpe2lmKChiPVwiZnVuY3Rpb25cIj09dHlwZW9mIGImJmJbR10pJiZiIT09RltHXSYmYiE9PWEuby5mbltHXSl0aHJvdyBFcnJvcihcIkludmFsaWQgb2JqZWN0IHRoYXQgbG9va3MgbGlrZSBhbiBvYnNlcnZhYmxlOyBwb3NzaWJseSBmcm9tIGFub3RoZXIgS25vY2tvdXQgaW5zdGFuY2VcIik7XG5yZXR1cm4hIWJ9O2EuWmE9ZnVuY3Rpb24oYil7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGJbR109PT1GW0ddfHxiW0ddPT09YS5vLmZuW0ddJiZiLk5jKX07YS5iKFwib2JzZXJ2YWJsZVwiLGEudGEpO2EuYihcImlzT2JzZXJ2YWJsZVwiLGEuTyk7YS5iKFwiaXNXcml0ZWFibGVPYnNlcnZhYmxlXCIsYS5aYSk7YS5iKFwiaXNXcml0YWJsZU9ic2VydmFibGVcIixhLlphKTthLmIoXCJvYnNlcnZhYmxlLmZuXCIsRik7YS5MKEYsXCJwZWVrXCIsRi52KTthLkwoRixcInZhbHVlSGFzTXV0YXRlZFwiLEYueGEpO2EuTChGLFwidmFsdWVXaWxsTXV0YXRlXCIsRi55YSk7YS5IYT1mdW5jdGlvbihiKXtiPWJ8fFtdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBifHwhKFwibGVuZ3RoXCJpbiBiKSl0aHJvdyBFcnJvcihcIlRoZSBhcmd1bWVudCBwYXNzZWQgd2hlbiBpbml0aWFsaXppbmcgYW4gb2JzZXJ2YWJsZSBhcnJheSBtdXN0IGJlIGFuIGFycmF5LCBvciBudWxsLCBvciB1bmRlZmluZWQuXCIpO2I9YS50YShiKTthLmEuQWIoYixcbmEuSGEuZm4pO3JldHVybiBiLmV4dGVuZCh7dHJhY2tBcnJheUNoYW5nZXM6ITB9KX07YS5IYS5mbj17cmVtb3ZlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz10aGlzLnYoKSxkPVtdLGU9XCJmdW5jdGlvblwiIT10eXBlb2YgYnx8YS5PKGIpP2Z1bmN0aW9uKGEpe3JldHVybiBhPT09Yn06YixmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBnPWNbZl07aWYoZShnKSl7MD09PWQubGVuZ3RoJiZ0aGlzLnlhKCk7aWYoY1tmXSE9PWcpdGhyb3cgRXJyb3IoXCJBcnJheSBtb2RpZmllZCBkdXJpbmcgcmVtb3ZlOyBjYW5ub3QgcmVtb3ZlIGl0ZW1cIik7ZC5wdXNoKGcpO2Muc3BsaWNlKGYsMSk7Zi0tfX1kLmxlbmd0aCYmdGhpcy54YSgpO3JldHVybiBkfSxyZW1vdmVBbGw6ZnVuY3Rpb24oYil7aWYoYj09PW4pe3ZhciBjPXRoaXMudigpLGQ9Yy5zbGljZSgwKTt0aGlzLnlhKCk7Yy5zcGxpY2UoMCxjLmxlbmd0aCk7dGhpcy54YSgpO3JldHVybiBkfXJldHVybiBiP3RoaXMucmVtb3ZlKGZ1bmN0aW9uKGMpe3JldHVybiAwPD1cbmEuYS5BKGIsYyl9KTpbXX0sZGVzdHJveTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLnYoKSxkPVwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fGEuTyhiKT9mdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9OmI7dGhpcy55YSgpO2Zvcih2YXIgZT1jLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgZj1jW2VdO2QoZikmJihmLl9kZXN0cm95PSEwKX10aGlzLnhhKCl9LGRlc3Ryb3lBbGw6ZnVuY3Rpb24oYil7cmV0dXJuIGI9PT1uP3RoaXMuZGVzdHJveShmdW5jdGlvbigpe3JldHVybiEwfSk6Yj90aGlzLmRlc3Ryb3koZnVuY3Rpb24oYyl7cmV0dXJuIDA8PWEuYS5BKGIsYyl9KTpbXX0saW5kZXhPZjpmdW5jdGlvbihiKXt2YXIgYz10aGlzKCk7cmV0dXJuIGEuYS5BKGMsYil9LHJlcGxhY2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmluZGV4T2YoYSk7MDw9ZCYmKHRoaXMueWEoKSx0aGlzLnYoKVtkXT1jLHRoaXMueGEoKSl9LHNvcnRlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzKCkuc2xpY2UoMCk7XG5yZXR1cm4gYT9jLnNvcnQoYSk6Yy5zb3J0KCl9LHJldmVyc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMoKS5zbGljZSgwKS5yZXZlcnNlKCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihhLkhhLmZuLGEudGEuZm4pO2EuYS5EKFwicG9wIHB1c2ggcmV2ZXJzZSBzaGlmdCBzb3J0IHNwbGljZSB1bnNoaWZ0XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGIpe2EuSGEuZm5bYl09ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnYoKTt0aGlzLnlhKCk7dGhpcy56YyhhLGIsYXJndW1lbnRzKTt2YXIgZD1hW2JdLmFwcGx5KGEsYXJndW1lbnRzKTt0aGlzLnhhKCk7cmV0dXJuIGQ9PT1hP3RoaXM6ZH19KTthLmEuRChbXCJzbGljZVwiXSxmdW5jdGlvbihiKXthLkhhLmZuW2JdPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcygpO3JldHVybiBhW2JdLmFwcGx5KGEsYXJndW1lbnRzKX19KTthLlBjPWZ1bmN0aW9uKGIpe3JldHVybiBhLk8oYikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIucmVtb3ZlJiZcImZ1bmN0aW9uXCI9PVxudHlwZW9mIGIucHVzaH07YS5iKFwib2JzZXJ2YWJsZUFycmF5XCIsYS5IYSk7YS5iKFwiaXNPYnNlcnZhYmxlQXJyYXlcIixhLlBjKTthLlRhLnRyYWNrQXJyYXlDaGFuZ2VzPWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZCgpe2Z1bmN0aW9uIGMoKXtpZihtKXt2YXIgZD1bXS5jb25jYXQoYi52KCl8fFtdKSxlO2lmKGIuV2EoXCJhcnJheUNoYW5nZVwiKSl7aWYoIWZ8fDE8bSlmPWEuYS5QYihrLGQsYi5PYik7ZT1mfWs9ZDtmPW51bGw7bT0wO2UmJmUubGVuZ3RoJiZiLm5vdGlmeVN1YnNjcmliZXJzKGUsXCJhcnJheUNoYW5nZVwiKX19ZT9jKCk6KGU9ITAsaD1iLnN1YnNjcmliZShmdW5jdGlvbigpeysrbX0sbnVsbCxcInNwZWN0YXRlXCIpLGs9W10uY29uY2F0KGIudigpfHxbXSksZj1udWxsLGc9Yi5zdWJzY3JpYmUoYykpfWIuT2I9e307YyYmXCJvYmplY3RcIj09dHlwZW9mIGMmJmEuYS5leHRlbmQoYi5PYixjKTtiLk9iLnNwYXJzZT0hMDtpZighYi56Yyl7dmFyIGU9ITEsZj1udWxsLGcsaCxtPTAsXG5rLGw9Yi5RYSxwPWIuaGI7Yi5RYT1mdW5jdGlvbihhKXtsJiZsLmNhbGwoYixhKTtcImFycmF5Q2hhbmdlXCI9PT1hJiZkKCl9O2IuaGI9ZnVuY3Rpb24oYSl7cCYmcC5jYWxsKGIsYSk7XCJhcnJheUNoYW5nZVwiIT09YXx8Yi5XYShcImFycmF5Q2hhbmdlXCIpfHwoZyYmZy5zKCksaCYmaC5zKCksaD1nPW51bGwsZT0hMSxrPW4pfTtiLnpjPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBsKGEsYixjKXtyZXR1cm4ga1trLmxlbmd0aF09e3N0YXR1czphLHZhbHVlOmIsaW5kZXg6Y319aWYoZSYmIW0pe3ZhciBrPVtdLHA9Yi5sZW5ndGgsZz1kLmxlbmd0aCxoPTA7c3dpdGNoKGMpe2Nhc2UgXCJwdXNoXCI6aD1wO2Nhc2UgXCJ1bnNoaWZ0XCI6Zm9yKGM9MDtjPGc7YysrKWwoXCJhZGRlZFwiLGRbY10saCtjKTticmVhaztjYXNlIFwicG9wXCI6aD1wLTE7Y2FzZSBcInNoaWZ0XCI6cCYmbChcImRlbGV0ZWRcIixiW2hdLGgpO2JyZWFrO2Nhc2UgXCJzcGxpY2VcIjpjPU1hdGgubWluKE1hdGgubWF4KDAsMD5kWzBdP3ArZFswXTpcbmRbMF0pLHApO2Zvcih2YXIgcD0xPT09Zz9wOk1hdGgubWluKGMrKGRbMV18fDApLHApLGc9YytnLTIsaD1NYXRoLm1heChwLGcpLFU9W10sTD1bXSxuPTI7YzxoOysrYywrK24pYzxwJiZMLnB1c2gobChcImRlbGV0ZWRcIixiW2NdLGMpKSxjPGcmJlUucHVzaChsKFwiYWRkZWRcIixkW25dLGMpKTthLmEuS2MoTCxVKTticmVhaztkZWZhdWx0OnJldHVybn1mPWt9fX19O3ZhciByPWEuYS5EYShcIl9zdGF0ZVwiKTthLm89YS4kPWZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7aWYoMDxhcmd1bWVudHMubGVuZ3RoKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgZilmLmFwcGx5KGcubmIsYXJndW1lbnRzKTtlbHNlIHRocm93IEVycm9yKFwiQ2Fubm90IHdyaXRlIGEgdmFsdWUgdG8gYSBrby5jb21wdXRlZCB1bmxlc3MgeW91IHNwZWNpZnkgYSAnd3JpdGUnIG9wdGlvbi4gSWYgeW91IHdpc2ggdG8gcmVhZCB0aGUgY3VycmVudCB2YWx1ZSwgZG9uJ3QgcGFzcyBhbnkgcGFyYW1ldGVycy5cIik7cmV0dXJuIHRoaXN9Zy5yYXx8XG5hLnUuY2MoZSk7KGcua2F8fGcuSiYmZS5YYSgpKSYmZS5oYSgpO3JldHVybiBnLlh9XCJvYmplY3RcIj09PXR5cGVvZiBiP2Q9YjooZD1kfHx7fSxiJiYoZC5yZWFkPWIpKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBkLnJlYWQpdGhyb3cgRXJyb3IoXCJQYXNzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUga28uY29tcHV0ZWRcIik7dmFyIGY9ZC53cml0ZSxnPXtYOm4sc2E6ITAsa2E6ITAscmI6ITEsamM6ITEscmE6ITEsd2I6ITEsSjohMSxXYzpkLnJlYWQsbmI6Y3x8ZC5vd25lcixsOmQuZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkfHxkLmx8fG51bGwsU2E6ZC5kaXNwb3NlV2hlbnx8ZC5TYSxSYjpudWxsLEk6e30sVjowLEljOm51bGx9O2Vbcl09ZztlLk5jPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBmO2EuYS5CYXx8YS5hLmV4dGVuZChlLGEuVC5mbik7YS5ULmZuLnFiKGUpO2EuYS5BYihlLEMpO2QucHVyZT8oZy53Yj0hMCxnLko9ITAsYS5hLmV4dGVuZChlLGRhKSk6XG5kLmRlZmVyRXZhbHVhdGlvbiYmYS5hLmV4dGVuZChlLGVhKTthLm9wdGlvbnMuZGVmZXJVcGRhdGVzJiZhLlRhLmRlZmVycmVkKGUsITApO2cubCYmKGcuamM9ITAsZy5sLm5vZGVUeXBlfHwoZy5sPW51bGwpKTtnLkp8fGQuZGVmZXJFdmFsdWF0aW9ufHxlLmhhKCk7Zy5sJiZlLmphKCkmJmEuYS5LLnphKGcubCxnLlJiPWZ1bmN0aW9uKCl7ZS5zKCl9KTtyZXR1cm4gZX07dmFyIEM9e2VxdWFsaXR5Q29tcGFyZXI6SyxxYTpmdW5jdGlvbigpe3JldHVybiB0aGlzW3JdLlZ9LFZhOmZ1bmN0aW9uKCl7dmFyIGI9W107YS5hLlAodGhpc1tyXS5JLGZ1bmN0aW9uKGEsZCl7YltkLkthXT1kLmRhfSk7cmV0dXJuIGJ9LFZiOmZ1bmN0aW9uKGIpe2lmKCF0aGlzW3JdLlYpcmV0dXJuITE7dmFyIGM9dGhpcy5WYSgpO3JldHVybi0xIT09YS5hLkEoYyxiKT8hMDohIWEuYS5MYihjLGZ1bmN0aW9uKGEpe3JldHVybiBhLlZiJiZhLlZiKGIpfSl9LHVjOmZ1bmN0aW9uKGEsYyxkKXtpZih0aGlzW3JdLndiJiZcbmM9PT10aGlzKXRocm93IEVycm9yKFwiQSAncHVyZScgY29tcHV0ZWQgbXVzdCBub3QgYmUgY2FsbGVkIHJlY3Vyc2l2ZWx5XCIpO3RoaXNbcl0uSVthXT1kO2QuS2E9dGhpc1tyXS5WKys7ZC5MYT1jLm9iKCl9LFhhOmZ1bmN0aW9uKCl7dmFyIGEsYyxkPXRoaXNbcl0uSTtmb3IoYSBpbiBkKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGEpJiYoYz1kW2FdLHRoaXMuSWEmJmMuZGEuSmF8fGMuZGEuRGQoYy5MYSkpKXJldHVybiEwfSxKZDpmdW5jdGlvbigpe3RoaXMuSWEmJiF0aGlzW3JdLnJiJiZ0aGlzLklhKCExKX0samE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzW3JdO3JldHVybiBhLmthfHwwPGEuVn0sUmQ6ZnVuY3Rpb24oKXt0aGlzLkphP3RoaXNbcl0ua2EmJih0aGlzW3JdLnNhPSEwKTp0aGlzLkhjKCl9LCRjOmZ1bmN0aW9uKGEpe2lmKGEuSGIpe3ZhciBjPWEuc3Vic2NyaWJlKHRoaXMuSmQsdGhpcyxcImRpcnR5XCIpLGQ9YS5zdWJzY3JpYmUodGhpcy5SZCxcbnRoaXMpO3JldHVybntkYTphLHM6ZnVuY3Rpb24oKXtjLnMoKTtkLnMoKX19fXJldHVybiBhLnN1YnNjcmliZSh0aGlzLkhjLHRoaXMpfSxIYzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLnRocm90dGxlRXZhbHVhdGlvbjtjJiYwPD1jPyhjbGVhclRpbWVvdXQodGhpc1tyXS5JYyksdGhpc1tyXS5JYz1hLmEuc2V0VGltZW91dChmdW5jdGlvbigpe2IuaGEoITApfSxjKSk6Yi5JYT9iLklhKCEwKTpiLmhhKCEwKX0saGE6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPWMuU2EsZT0hMTtpZighYy5yYiYmIWMucmEpe2lmKGMubCYmIWEuYS5TYihjLmwpfHxkJiZkKCkpe2lmKCFjLmpjKXt0aGlzLnMoKTtyZXR1cm59fWVsc2UgYy5qYz0hMTtjLnJiPSEwO3RyeXtlPXRoaXMuemQoYil9ZmluYWxseXtjLnJiPSExfXJldHVybiBlfX0semQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXSxkPSExLGU9Yy53Yj9uOiFjLlYsZD17cWQ6dGhpcyxtYjpjLkksUWI6Yy5WfTthLnUueGMoe3BkOmQsXG5vZDpiYSxvOnRoaXMsWWE6ZX0pO2MuST17fTtjLlY9MDt2YXIgZj10aGlzLnlkKGMsZCk7Yy5WP2Q9dGhpcy5zYihjLlgsZik6KHRoaXMucygpLGQ9ITApO2QmJihjLko/dGhpcy5HYigpOnRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwiYmVmb3JlQ2hhbmdlXCIpLGMuWD1mLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoYy5YLFwic3BlY3RhdGVcIiksIWMuSiYmYiYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgpLHRoaXMucmMmJnRoaXMucmMoKSk7ZSYmdGhpcy5ub3RpZnlTdWJzY3JpYmVycyhjLlgsXCJhd2FrZVwiKTtyZXR1cm4gZH0seWQ6ZnVuY3Rpb24oYixjKXt0cnl7dmFyIGQ9Yi5XYztyZXR1cm4gYi5uYj9kLmNhbGwoYi5uYik6ZCgpfWZpbmFsbHl7YS51LmVuZCgpLGMuUWImJiFiLkomJmEuYS5QKGMubWIsYWEpLGIuc2E9Yi5rYT0hMX19LHY6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpc1tyXTsoYy5rYSYmKGF8fCFjLlYpfHxjLkomJnRoaXMuWGEoKSkmJnRoaXMuaGEoKTtyZXR1cm4gYy5YfSxcbnViOmZ1bmN0aW9uKGIpe2EuVC5mbi51Yi5jYWxsKHRoaXMsYik7dGhpcy5uYz1mdW5jdGlvbigpe3RoaXNbcl0uSnx8KHRoaXNbcl0uc2E/dGhpcy5oYSgpOnRoaXNbcl0ua2E9ITEpO3JldHVybiB0aGlzW3JdLlh9O3RoaXMuSWE9ZnVuY3Rpb24oYSl7dGhpcy5wYyh0aGlzW3JdLlgpO3RoaXNbcl0ua2E9ITA7YSYmKHRoaXNbcl0uc2E9ITApO3RoaXMucWModGhpcywhYSl9fSxzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTshYi5KJiZiLkkmJmEuYS5QKGIuSSxmdW5jdGlvbihhLGIpe2IucyYmYi5zKCl9KTtiLmwmJmIuUmImJmEuYS5LLnliKGIubCxiLlJiKTtiLkk9bjtiLlY9MDtiLnJhPSEwO2Iuc2E9ITE7Yi5rYT0hMTtiLko9ITE7Yi5sPW47Yi5TYT1uO2IuV2M9bjt0aGlzLk5jfHwoYi5uYj1uKX19LGRhPXtRYTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Y1tyXTtpZighZC5yYSYmZC5KJiZcImNoYW5nZVwiPT1iKXtkLko9ITE7aWYoZC5zYXx8Yy5YYSgpKWQuST1udWxsLGQuVj1cbjAsYy5oYSgpJiZjLkdiKCk7ZWxzZXt2YXIgZT1bXTthLmEuUChkLkksZnVuY3Rpb24oYSxiKXtlW2IuS2FdPWF9KTthLmEuRChlLGZ1bmN0aW9uKGEsYil7dmFyIGU9ZC5JW2FdLG09Yy4kYyhlLmRhKTttLkthPWI7bS5MYT1lLkxhO2QuSVthXT1tfSk7Yy5YYSgpJiZjLmhhKCkmJmMuR2IoKX1kLnJhfHxjLm5vdGlmeVN1YnNjcmliZXJzKGQuWCxcImF3YWtlXCIpfX0saGI6ZnVuY3Rpb24oYil7dmFyIGM9dGhpc1tyXTtjLnJhfHxcImNoYW5nZVwiIT1ifHx0aGlzLldhKFwiY2hhbmdlXCIpfHwoYS5hLlAoYy5JLGZ1bmN0aW9uKGEsYil7Yi5zJiYoYy5JW2FdPXtkYTpiLmRhLEthOmIuS2EsTGE6Yi5MYX0sYi5zKCkpfSksYy5KPSEwLHRoaXMubm90aWZ5U3Vic2NyaWJlcnMobixcImFzbGVlcFwiKSl9LG9iOmZ1bmN0aW9uKCl7dmFyIGI9dGhpc1tyXTtiLkomJihiLnNhfHx0aGlzLlhhKCkpJiZ0aGlzLmhhKCk7cmV0dXJuIGEuVC5mbi5vYi5jYWxsKHRoaXMpfX0sZWE9e1FhOmZ1bmN0aW9uKGEpe1wiY2hhbmdlXCIhPVxuYSYmXCJiZWZvcmVDaGFuZ2VcIiE9YXx8dGhpcy52KCl9fTthLmEuQmEmJmEuYS5zZXRQcm90b3R5cGVPZihDLGEuVC5mbik7dmFyIE49YS50YS5NYTtDW05dPWEubzthLk9jPWZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGEmJmFbTl09PT1DW05dfTthLkZkPWZ1bmN0aW9uKGIpe3JldHVybiBhLk9jKGIpJiZiW3JdJiZiW3JdLndifTthLmIoXCJjb21wdXRlZFwiLGEubyk7YS5iKFwiZGVwZW5kZW50T2JzZXJ2YWJsZVwiLGEubyk7YS5iKFwiaXNDb21wdXRlZFwiLGEuT2MpO2EuYihcImlzUHVyZUNvbXB1dGVkXCIsYS5GZCk7YS5iKFwiY29tcHV0ZWQuZm5cIixDKTthLkwoQyxcInBlZWtcIixDLnYpO2EuTChDLFwiZGlzcG9zZVwiLEMucyk7YS5MKEMsXCJpc0FjdGl2ZVwiLEMuamEpO2EuTChDLFwiZ2V0RGVwZW5kZW5jaWVzQ291bnRcIixDLnFhKTthLkwoQyxcImdldERlcGVuZGVuY2llc1wiLEMuVmEpO2EueGI9ZnVuY3Rpb24oYixjKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilyZXR1cm4gYS5vKGIsXG5jLHtwdXJlOiEwfSk7Yj1hLmEuZXh0ZW5kKHt9LGIpO2IucHVyZT0hMDtyZXR1cm4gYS5vKGIsYyl9O2EuYihcInB1cmVDb21wdXRlZFwiLGEueGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSxmLGcpe2c9Z3x8bmV3IGQ7YT1mKGEpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBhfHxudWxsPT09YXx8YT09PW58fGEgaW5zdGFuY2VvZiBSZWdFeHB8fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgU3RyaW5nfHxhIGluc3RhbmNlb2YgTnVtYmVyfHxhIGluc3RhbmNlb2YgQm9vbGVhbilyZXR1cm4gYTt2YXIgaD1hIGluc3RhbmNlb2YgQXJyYXk/W106e307Zy5zYXZlKGEsaCk7YyhhLGZ1bmN0aW9uKGMpe3ZhciBkPWYoYVtjXSk7c3dpdGNoKHR5cGVvZiBkKXtjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6Y2FzZSBcImZ1bmN0aW9uXCI6aFtjXT1kO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjpjYXNlIFwidW5kZWZpbmVkXCI6dmFyIGw9Zy5nZXQoZCk7aFtjXT1sIT09XG5uP2w6YihkLGYsZyl9fSk7cmV0dXJuIGh9ZnVuY3Rpb24gYyhhLGIpe2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspYihjKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLnRvSlNPTiYmYihcInRvSlNPTlwiKX1lbHNlIGZvcihjIGluIGEpYihjKX1mdW5jdGlvbiBkKCl7dGhpcy5rZXlzPVtdO3RoaXMudmFsdWVzPVtdfWEuYWQ9ZnVuY3Rpb24oYyl7aWYoMD09YXJndW1lbnRzLmxlbmd0aCl0aHJvdyBFcnJvcihcIldoZW4gY2FsbGluZyBrby50b0pTLCBwYXNzIHRoZSBvYmplY3QgeW91IHdhbnQgdG8gY29udmVydC5cIik7cmV0dXJuIGIoYyxmdW5jdGlvbihiKXtmb3IodmFyIGM9MDthLk8oYikmJjEwPmM7YysrKWI9YigpO3JldHVybiBifSl9O2EudG9KU09OPWZ1bmN0aW9uKGIsYyxkKXtiPWEuYWQoYik7cmV0dXJuIGEuYS5oYyhiLGMsZCl9O2QucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpkLHNhdmU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuQSh0aGlzLmtleXMsXG5iKTswPD1kP3RoaXMudmFsdWVzW2RdPWM6KHRoaXMua2V5cy5wdXNoKGIpLHRoaXMudmFsdWVzLnB1c2goYykpfSxnZXQ6ZnVuY3Rpb24oYil7Yj1hLmEuQSh0aGlzLmtleXMsYik7cmV0dXJuIDA8PWI/dGhpcy52YWx1ZXNbYl06bn19fSkoKTthLmIoXCJ0b0pTXCIsYS5hZCk7YS5iKFwidG9KU09OXCIsYS50b0pTT04pO2EuV2Q9ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoYyl7dmFyIGU9YS54YihiLGQpLmV4dGVuZCh7bWE6XCJhbHdheXNcIn0pLGg9ZS5zdWJzY3JpYmUoZnVuY3Rpb24oYSl7YSYmKGgucygpLGMoYSkpfSk7ZS5ub3RpZnlTdWJzY3JpYmVycyhlLnYoKSk7cmV0dXJuIGh9cmV0dXJuXCJmdW5jdGlvblwiIT09dHlwZW9mIFByb21pc2V8fGM/ZShjLmJpbmQoZCkpOm5ldyBQcm9taXNlKGUpfTthLmIoXCJ3aGVuXCIsYS5XZCk7KGZ1bmN0aW9uKCl7YS53PXtNOmZ1bmN0aW9uKGIpe3N3aXRjaChhLmEuUihiKSl7Y2FzZSBcIm9wdGlvblwiOnJldHVybiEwPT09Yi5fX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXz9cbmEuYS5nLmdldChiLGEuYy5vcHRpb25zLiRiKTo3Pj1hLmEuVz9iLmdldEF0dHJpYnV0ZU5vZGUoXCJ2YWx1ZVwiKSYmYi5nZXRBdHRyaWJ1dGVOb2RlKFwidmFsdWVcIikuc3BlY2lmaWVkP2IudmFsdWU6Yi50ZXh0OmIudmFsdWU7Y2FzZSBcInNlbGVjdFwiOnJldHVybiAwPD1iLnNlbGVjdGVkSW5kZXg/YS53Lk0oYi5vcHRpb25zW2Iuc2VsZWN0ZWRJbmRleF0pOm47ZGVmYXVsdDpyZXR1cm4gYi52YWx1ZX19LGNiOmZ1bmN0aW9uKGIsYyxkKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJvcHRpb25cIjpcInN0cmluZ1wiPT09dHlwZW9mIGM/KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLG4pLFwiX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX19cImluIGImJmRlbGV0ZSBiLl9fa29fX2hhc0RvbURhdGFPcHRpb25WYWx1ZV9fLGIudmFsdWU9Yyk6KGEuYS5nLnNldChiLGEuYy5vcHRpb25zLiRiLGMpLGIuX19rb19faGFzRG9tRGF0YU9wdGlvblZhbHVlX189ITAsYi52YWx1ZT1cIm51bWJlclwiPT09XG50eXBlb2YgYz9jOlwiXCIpO2JyZWFrO2Nhc2UgXCJzZWxlY3RcIjppZihcIlwiPT09Y3x8bnVsbD09PWMpYz1uO2Zvcih2YXIgZT0tMSxmPTAsZz1iLm9wdGlvbnMubGVuZ3RoLGg7ZjxnOysrZilpZihoPWEudy5NKGIub3B0aW9uc1tmXSksaD09Y3x8XCJcIj09PWgmJmM9PT1uKXtlPWY7YnJlYWt9aWYoZHx8MDw9ZXx8Yz09PW4mJjE8Yi5zaXplKWIuc2VsZWN0ZWRJbmRleD1lLDY9PT1hLmEuVyYmYS5hLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNlbGVjdGVkSW5kZXg9ZX0sMCk7YnJlYWs7ZGVmYXVsdDppZihudWxsPT09Y3x8Yz09PW4pYz1cIlwiO2IudmFsdWU9Y319fX0pKCk7YS5iKFwic2VsZWN0RXh0ZW5zaW9uc1wiLGEudyk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy5yZWFkVmFsdWVcIixhLncuTSk7YS5iKFwic2VsZWN0RXh0ZW5zaW9ucy53cml0ZVZhbHVlXCIsYS53LmNiKTthLm09ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIpe2I9YS5hLkRiKGIpOzEyMz09PWIuY2hhckNvZGVBdCgwKSYmKGI9Yi5zbGljZSgxLFxuLTEpKTtiKz1cIlxcbixcIjt2YXIgYz1bXSxkPWIubWF0Y2goZSkscCxxPVtdLGg9MDtpZigxPGQubGVuZ3RoKXtmb3IodmFyIHg9MCxCO0I9ZFt4XTsrK3gpe3ZhciB1PUIuY2hhckNvZGVBdCgwKTtpZig0ND09PXUpe2lmKDA+PWgpe2MucHVzaChwJiZxLmxlbmd0aD97a2V5OnAsdmFsdWU6cS5qb2luKFwiXCIpfTp7dW5rbm93bjpwfHxxLmpvaW4oXCJcIil9KTtwPWg9MDtxPVtdO2NvbnRpbnVlfX1lbHNlIGlmKDU4PT09dSl7aWYoIWgmJiFwJiYxPT09cS5sZW5ndGgpe3A9cS5wb3AoKTtjb250aW51ZX19ZWxzZSBpZig0Nz09PXUmJjE8Qi5sZW5ndGgmJig0Nz09PUIuY2hhckNvZGVBdCgxKXx8NDI9PT1CLmNoYXJDb2RlQXQoMSkpKWNvbnRpbnVlO2Vsc2UgNDc9PT11JiZ4JiYxPEIubGVuZ3RoPyh1PWRbeC0xXS5tYXRjaChmKSkmJiFnW3VbMF1dJiYoYj1iLnN1YnN0cihiLmluZGV4T2YoQikrMSksZD1iLm1hdGNoKGUpLHg9LTEsQj1cIi9cIik6NDA9PT11fHwxMjM9PT11fHw5MT09PXU/KytoOlxuNDE9PT11fHwxMjU9PT11fHw5Mz09PXU/LS1oOnB8fHEubGVuZ3RofHwzNCE9PXUmJjM5IT09dXx8KEI9Qi5zbGljZSgxLC0xKSk7cS5wdXNoKEIpfWlmKDA8aCl0aHJvdyBFcnJvcihcIlVuYmFsYW5jZWQgcGFyZW50aGVzZXMsIGJyYWNlcywgb3IgYnJhY2tldHNcIik7fXJldHVybiBjfXZhciBjPVtcInRydWVcIixcImZhbHNlXCIsXCJudWxsXCIsXCJ1bmRlZmluZWRcIl0sZD0vXig/OlskX2Etel1bJFxcd10qfCguKykoXFwuXFxzKlskX2Etel1bJFxcd10qfFxcWy4rXFxdKSkkL2ksZT1SZWdFeHAoXCJcXFwiKD86XFxcXFxcXFwufFteXFxcIl0pKlxcXCJ8Jyg/OlxcXFxcXFxcLnxbXiddKSonfGAoPzpcXFxcXFxcXC58W15gXSkqYHwvXFxcXCooPzpbXipdfFxcXFwqK1teKi9dKSpcXFxcKisvfC8vLipcXG58Lyg/OlxcXFxcXFxcLnxbXi9dKSsvdyp8W15cXFxcczosL11bXixcXFwiJ2B7fSgpLzpbXFxcXF1dKlteXFxcXHMsXFxcIidge30oKS86W1xcXFxdXXxbXlxcXFxzXVwiLFwiZ1wiKSxmPS9bXFxdKVwiJ0EtWmEtejAtOV8kXSskLyxnPXtcImluXCI6MSxcInJldHVyblwiOjEsXCJ0eXBlb2ZcIjoxfSxcbmg9e307cmV0dXJue1JhOltdLHdhOmgsYWM6Yix2YjpmdW5jdGlvbihlLGYpe2Z1bmN0aW9uIGwoYixlKXt2YXIgZjtpZigheCl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihiKTtpZihrJiZrLnByZXByb2Nlc3MmJiEoZT1rLnByZXByb2Nlc3MoZSxiLGwpKSlyZXR1cm47aWYoaz1oW2JdKWY9ZSwwPD1hLmEuQShjLGYpP2Y9ITE6KGs9Zi5tYXRjaChkKSxmPW51bGw9PT1rPyExOmtbMV0/XCJPYmplY3QoXCIra1sxXStcIilcIitrWzJdOmYpLGs9ZjtrJiZxLnB1c2goXCInXCIrKFwic3RyaW5nXCI9PXR5cGVvZiBoW2JdP2hbYl06YikrXCInOmZ1bmN0aW9uKF96KXtcIitmK1wiPV96fVwiKX1nJiYoZT1cImZ1bmN0aW9uKCl7cmV0dXJuIFwiK2UrXCIgfVwiKTtwLnB1c2goXCInXCIrYitcIic6XCIrZSl9Zj1mfHx7fTt2YXIgcD1bXSxxPVtdLGc9Zi52YWx1ZUFjY2Vzc29ycyx4PWYuYmluZGluZ1BhcmFtcyxCPVwic3RyaW5nXCI9PT10eXBlb2YgZT9iKGUpOmU7YS5hLkQoQixmdW5jdGlvbihhKXtsKGEua2V5fHxhLnVua25vd24sXG5hLnZhbHVlKX0pO3EubGVuZ3RoJiZsKFwiX2tvX3Byb3BlcnR5X3dyaXRlcnNcIixcIntcIitxLmpvaW4oXCIsXCIpK1wiIH1cIik7cmV0dXJuIHAuam9pbihcIixcIil9LElkOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspaWYoYVtjXS5rZXk9PWIpcmV0dXJuITA7cmV0dXJuITF9LGViOmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYiYmYS5PKGIpKSFhLlphKGIpfHxmJiZiLnYoKT09PWV8fGIoZSk7ZWxzZSBpZigoYj1jLmdldChcIl9rb19wcm9wZXJ0eV93cml0ZXJzXCIpKSYmYltkXSliW2RdKGUpfX19KCk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZ1wiLGEubSk7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5iaW5kaW5nUmV3cml0ZVZhbGlkYXRvcnNcIixhLm0uUmEpO2EuYihcImV4cHJlc3Npb25SZXdyaXRpbmcucGFyc2VPYmplY3RMaXRlcmFsXCIsYS5tLmFjKTthLmIoXCJleHByZXNzaW9uUmV3cml0aW5nLnByZVByb2Nlc3NCaW5kaW5nc1wiLGEubS52Yik7YS5iKFwiZXhwcmVzc2lvblJld3JpdGluZy5fdHdvV2F5QmluZGluZ3NcIixcbmEubS53YSk7YS5iKFwianNvbkV4cHJlc3Npb25SZXdyaXRpbmdcIixhLm0pO2EuYihcImpzb25FeHByZXNzaW9uUmV3cml0aW5nLmluc2VydFByb3BlcnR5QWNjZXNzb3JzSW50b0pzb25cIixhLm0udmIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIDg9PWEubm9kZVR5cGUmJmcudGVzdChmP2EudGV4dDphLm5vZGVWYWx1ZSl9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gOD09YS5ub2RlVHlwZSYmaC50ZXN0KGY/YS50ZXh0OmEubm9kZVZhbHVlKX1mdW5jdGlvbiBkKGQsZSl7Zm9yKHZhciBmPWQsaD0xLGc9W107Zj1mLm5leHRTaWJsaW5nOyl7aWYoYyhmKSYmKGEuYS5nLnNldChmLGssITApLGgtLSwwPT09aCkpcmV0dXJuIGc7Zy5wdXNoKGYpO2IoZikmJmgrK31pZighZSl0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGNsb3NpbmcgY29tbWVudCB0YWcgdG8gbWF0Y2g6IFwiK2Qubm9kZVZhbHVlKTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBlKGEsYil7dmFyIGM9ZChhLGIpO3JldHVybiBjP1xuMDxjLmxlbmd0aD9jW2MubGVuZ3RoLTFdLm5leHRTaWJsaW5nOmEubmV4dFNpYmxpbmc6bnVsbH12YXIgZj13JiZcIlxceDNjIS0tdGVzdC0tXFx4M2VcIj09PXcuY3JlYXRlQ29tbWVudChcInRlc3RcIikudGV4dCxnPWY/L15cXHgzYyEtLVxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKi0tXFx4M2UkLzovXlxccyprbyg/OlxccysoW1xcc1xcU10rKSk/XFxzKiQvLGg9Zj8vXlxceDNjIS0tXFxzKlxcL2tvXFxzKi0tXFx4M2UkLzovXlxccypcXC9rb1xccyokLyxtPXt1bDohMCxvbDohMH0saz1cIl9fa29fbWF0Y2hlZEVuZENvbW1lbnRfX1wiO2EuaD17ZWE6e30sY2hpbGROb2RlczpmdW5jdGlvbihhKXtyZXR1cm4gYihhKT9kKGEpOmEuY2hpbGROb2Rlc30sRWE6ZnVuY3Rpb24oYyl7aWYoYihjKSl7Yz1hLmguY2hpbGROb2RlcyhjKTtmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5yZW1vdmVOb2RlKGNbZF0pfWVsc2UgYS5hLlRiKGMpfSx2YTpmdW5jdGlvbihjLGQpe2lmKGIoYykpe2EuaC5FYShjKTtmb3IodmFyIGU9XG5jLm5leHRTaWJsaW5nLGY9MCxrPWQubGVuZ3RoO2Y8aztmKyspZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkW2ZdLGUpfWVsc2UgYS5hLnZhKGMsZCl9LFZjOmZ1bmN0aW9uKGEsYyl7dmFyIGQ7YihhKT8oZD1hLm5leHRTaWJsaW5nLGE9YS5wYXJlbnROb2RlKTpkPWEuZmlyc3RDaGlsZDtkP2MhPT1kJiZhLmluc2VydEJlZm9yZShjLGQpOmEuYXBwZW5kQ2hpbGQoYyl9LFdiOmZ1bmN0aW9uKGMsZCxlKXtlPyhlPWUubmV4dFNpYmxpbmcsYihjKSYmKGM9Yy5wYXJlbnROb2RlKSxlP2QhPT1lJiZjLmluc2VydEJlZm9yZShkLGUpOmMuYXBwZW5kQ2hpbGQoZCkpOmEuaC5WYyhjLGQpfSxmaXJzdENoaWxkOmZ1bmN0aW9uKGEpe2lmKGIoYSkpcmV0dXJuIWEubmV4dFNpYmxpbmd8fGMoYS5uZXh0U2libGluZyk/bnVsbDphLm5leHRTaWJsaW5nO2lmKGEuZmlyc3RDaGlsZCYmYyhhLmZpcnN0Q2hpbGQpKXRocm93IEVycm9yKFwiRm91bmQgaW52YWxpZCBlbmQgY29tbWVudCwgYXMgdGhlIGZpcnN0IGNoaWxkIG9mIFwiK1xuYSk7cmV0dXJuIGEuZmlyc3RDaGlsZH0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24oZCl7YihkKSYmKGQ9ZShkKSk7aWYoZC5uZXh0U2libGluZyYmYyhkLm5leHRTaWJsaW5nKSl7dmFyIGY9ZC5uZXh0U2libGluZztpZihjKGYpJiYhYS5hLmcuZ2V0KGYsaykpdGhyb3cgRXJyb3IoXCJGb3VuZCBlbmQgY29tbWVudCB3aXRob3V0IGEgbWF0Y2hpbmcgb3BlbmluZyBjb21tZW50LCBhcyBjaGlsZCBvZiBcIitkKTtyZXR1cm4gbnVsbH1yZXR1cm4gZC5uZXh0U2libGluZ30sQ2Q6YixWZDpmdW5jdGlvbihhKXtyZXR1cm4oYT0oZj9hLnRleHQ6YS5ub2RlVmFsdWUpLm1hdGNoKGcpKT9hWzFdOm51bGx9LFNjOmZ1bmN0aW9uKGQpe2lmKG1bYS5hLlIoZCldKXt2YXIgZj1kLmZpcnN0Q2hpbGQ7aWYoZil7ZG8gaWYoMT09PWYubm9kZVR5cGUpe3ZhciBrO2s9Zi5maXJzdENoaWxkO3ZhciBoPW51bGw7aWYoayl7ZG8gaWYoaCloLnB1c2goayk7ZWxzZSBpZihiKGspKXt2YXIgZz1lKGssITApO2c/az1cbmc6aD1ba119ZWxzZSBjKGspJiYoaD1ba10pO3doaWxlKGs9ay5uZXh0U2libGluZyl9aWYoaz1oKWZvcihoPWYubmV4dFNpYmxpbmcsZz0wO2c8ay5sZW5ndGg7ZysrKWg/ZC5pbnNlcnRCZWZvcmUoa1tnXSxoKTpkLmFwcGVuZENoaWxkKGtbZ10pfXdoaWxlKGY9Zi5uZXh0U2libGluZyl9fX19fSkoKTthLmIoXCJ2aXJ0dWFsRWxlbWVudHNcIixhLmgpO2EuYihcInZpcnR1YWxFbGVtZW50cy5hbGxvd2VkQmluZGluZ3NcIixhLmguZWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5lbXB0eU5vZGVcIixhLmguRWEpO2EuYihcInZpcnR1YWxFbGVtZW50cy5pbnNlcnRBZnRlclwiLGEuaC5XYik7YS5iKFwidmlydHVhbEVsZW1lbnRzLnByZXBlbmRcIixhLmguVmMpO2EuYihcInZpcnR1YWxFbGVtZW50cy5zZXREb21Ob2RlQ2hpbGRyZW5cIixhLmgudmEpOyhmdW5jdGlvbigpe2EuZ2E9ZnVuY3Rpb24oKXt0aGlzLm5kPXt9fTthLmEuZXh0ZW5kKGEuZ2EucHJvdG90eXBlLHtub2RlSGFzQmluZGluZ3M6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gbnVsbCE9XG5iLmdldEF0dHJpYnV0ZShcImRhdGEtYmluZFwiKXx8YS5qLmdldENvbXBvbmVudE5hbWVGb3JOb2RlKGIpO2Nhc2UgODpyZXR1cm4gYS5oLkNkKGIpO2RlZmF1bHQ6cmV0dXJuITF9fSxnZXRCaW5kaW5nczpmdW5jdGlvbihiLGMpe3ZhciBkPXRoaXMuZ2V0QmluZGluZ3NTdHJpbmcoYixjKSxkPWQ/dGhpcy5wYXJzZUJpbmRpbmdzU3RyaW5nKGQsYyxiKTpudWxsO3JldHVybiBhLmoudGMoZCxiLGMsITEpfSxnZXRCaW5kaW5nQWNjZXNzb3JzOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcy5nZXRCaW5kaW5nc1N0cmluZyhiLGMpLGQ9ZD90aGlzLnBhcnNlQmluZGluZ3NTdHJpbmcoZCxjLGIse3ZhbHVlQWNjZXNzb3JzOiEwfSk6bnVsbDtyZXR1cm4gYS5qLnRjKGQsYixjLCEwKX0sZ2V0QmluZGluZ3NTdHJpbmc6ZnVuY3Rpb24oYil7c3dpdGNoKGIubm9kZVR5cGUpe2Nhc2UgMTpyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoXCJkYXRhLWJpbmRcIik7Y2FzZSA4OnJldHVybiBhLmguVmQoYik7ZGVmYXVsdDpyZXR1cm4gbnVsbH19LFxucGFyc2VCaW5kaW5nc1N0cmluZzpmdW5jdGlvbihiLGMsZCxlKXt0cnl7dmFyIGY9dGhpcy5uZCxnPWIrKGUmJmUudmFsdWVBY2Nlc3NvcnN8fFwiXCIpLGg7aWYoIShoPWZbZ10pKXt2YXIgbSxrPVwid2l0aCgkY29udGV4dCl7d2l0aCgkZGF0YXx8e30pe3JldHVybntcIithLm0udmIoYixlKStcIn19fVwiO209bmV3IEZ1bmN0aW9uKFwiJGNvbnRleHRcIixcIiRlbGVtZW50XCIsayk7aD1mW2ddPW19cmV0dXJuIGgoYyxkKX1jYXRjaChsKXt0aHJvdyBsLm1lc3NhZ2U9XCJVbmFibGUgdG8gcGFyc2UgYmluZGluZ3MuXFxuQmluZGluZ3MgdmFsdWU6IFwiK2IrXCJcXG5NZXNzYWdlOiBcIitsLm1lc3NhZ2UsbDt9fX0pO2EuZ2EuaW5zdGFuY2U9bmV3IGEuZ2F9KSgpO2EuYihcImJpbmRpbmdQcm92aWRlclwiLGEuZ2EpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7dmFyIGM9KGI9YS5hLmcuZ2V0KGIseikpJiZiLk47YyYmKGIuTj1udWxsLGMuVGMoKSl9ZnVuY3Rpb24gYyhjLGQsZSl7dGhpcy5ub2RlPWM7dGhpcy55Yz1cbmQ7dGhpcy5rYj1bXTt0aGlzLkg9ITE7ZC5OfHxhLmEuSy56YShjLGIpO2UmJmUuTiYmKGUuTi5rYi5wdXNoKGMpLHRoaXMuS2I9ZSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gYSgpfWZ1bmN0aW9uIGYoYil7cmV0dXJuIGEuYS5HYShhLnUuRyhiKSxmdW5jdGlvbihhLGMpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiKClbY119fSl9ZnVuY3Rpb24gZyhiLGMsZSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGI/ZihiLmJpbmQobnVsbCxjLGUpKTphLmEuR2EoYixkKX1mdW5jdGlvbiBoKGEsYil7cmV0dXJuIGYodGhpcy5nZXRCaW5kaW5ncy5iaW5kKHRoaXMsYSxiKSl9ZnVuY3Rpb24gbShiLGMpe3ZhciBkPWEuaC5maXJzdENoaWxkKGMpO2lmKGQpe3ZhciBlLGY9YS5nYS5pbnN0YW5jZSxsPWYucHJlcHJvY2Vzc05vZGU7aWYobCl7Zm9yKDtlPWQ7KWQ9YS5oLm5leHRTaWJsaW5nKGUpLGwuY2FsbChmLGUpO1xuZD1hLmguZmlyc3RDaGlsZChjKX1mb3IoO2U9ZDspZD1hLmgubmV4dFNpYmxpbmcoZSksayhiLGUpfWEuaS5tYShjLGEuaS5IKX1mdW5jdGlvbiBrKGIsYyl7dmFyIGQ9YixlPTE9PT1jLm5vZGVUeXBlO2UmJmEuaC5TYyhjKTtpZihlfHxhLmdhLmluc3RhbmNlLm5vZGVIYXNCaW5kaW5ncyhjKSlkPXAoYyxudWxsLGIpLmJpbmRpbmdDb250ZXh0Rm9yRGVzY2VuZGFudHM7ZCYmIXVbYS5hLlIoYyldJiZtKGQsYyl9ZnVuY3Rpb24gbChiKXt2YXIgYz1bXSxkPXt9LGU9W107YS5hLlAoYixmdW5jdGlvbiBjYShmKXtpZighZFtmXSl7dmFyIGs9YS5nZXRCaW5kaW5nSGFuZGxlcihmKTtrJiYoay5hZnRlciYmKGUucHVzaChmKSxhLmEuRChrLmFmdGVyLGZ1bmN0aW9uKGMpe2lmKGJbY10pe2lmKC0xIT09YS5hLkEoZSxjKSl0aHJvdyBFcnJvcihcIkNhbm5vdCBjb21iaW5lIHRoZSBmb2xsb3dpbmcgYmluZGluZ3MsIGJlY2F1c2UgdGhleSBoYXZlIGEgY3ljbGljIGRlcGVuZGVuY3k6IFwiK2Uuam9pbihcIiwgXCIpKTtcbmNhKGMpfX0pLGUubGVuZ3RoLS0pLGMucHVzaCh7a2V5OmYsTWM6a30pKTtkW2ZdPSEwfX0pO3JldHVybiBjfWZ1bmN0aW9uIHAoYixjLGQpe3ZhciBmPWEuYS5nLlViKGIseix7fSksaz1mLmhkO2lmKCFjKXtpZihrKXRocm93IEVycm9yKFwiWW91IGNhbm5vdCBhcHBseSBiaW5kaW5ncyBtdWx0aXBsZSB0aW1lcyB0byB0aGUgc2FtZSBlbGVtZW50LlwiKTtmLmhkPSEwfWt8fChmLmNvbnRleHQ9ZCk7Zi5aYnx8KGYuWmI9e30pO3ZhciBnO2lmKGMmJlwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjKWc9YztlbHNle3ZhciBwPWEuZ2EuaW5zdGFuY2UscT1wLmdldEJpbmRpbmdBY2Nlc3NvcnN8fGgsbT1hLiQoZnVuY3Rpb24oKXtpZihnPWM/YyhkLGIpOnEuY2FsbChwLGIsZCkpe2lmKGRbdF0pZFt0XSgpO2lmKGRbQl0pZFtCXSgpfXJldHVybiBnfSxudWxsLHtsOmJ9KTtnJiZtLmphKCl8fChtPW51bGwpfXZhciB4PWQsdTtpZihnKXt2YXIgSj1mdW5jdGlvbigpe3JldHVybiBhLmEuR2EobT9tKCk6XG5nLGUpfSxyPW0/ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUobSgpW2FdKX19OmZ1bmN0aW9uKGEpe3JldHVybiBnW2FdfTtKLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gZ1thXSYmZShyKGEpKX07Si5oYXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW4gZ307YS5pLkggaW4gZyYmYS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7dmFyIGM9KDAsZ1thLmkuSF0pKCk7aWYoYyl7dmFyIGQ9YS5oLmNoaWxkTm9kZXMoYik7ZC5sZW5ndGgmJmMoZCxhLkVjKGRbMF0pKX19KTthLmkucGEgaW4gZyYmKHg9YS5pLkNiKGIsZCksYS5pLnN1YnNjcmliZShiLGEuaS5wYSxmdW5jdGlvbigpe3ZhciBjPSgwLGdbYS5pLnBhXSkoKTtjJiZhLmguZmlyc3RDaGlsZChiKSYmYyhiKX0pKTtmPWwoZyk7YS5hLkQoZixmdW5jdGlvbihjKXt2YXIgZD1jLk1jLmluaXQsZT1jLk1jLnVwZGF0ZSxmPWMua2V5O2lmKDg9PT1iLm5vZGVUeXBlJiYhYS5oLmVhW2ZdKXRocm93IEVycm9yKFwiVGhlIGJpbmRpbmcgJ1wiK1xuZitcIicgY2Fubm90IGJlIHVzZWQgd2l0aCB2aXJ0dWFsIGVsZW1lbnRzXCIpO3RyeXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkJiZhLnUuRyhmdW5jdGlvbigpe3ZhciBhPWQoYixyKGYpLEoseC4kZGF0YSx4KTtpZihhJiZhLmNvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzKXtpZih1IT09bil0aHJvdyBFcnJvcihcIk11bHRpcGxlIGJpbmRpbmdzIChcIit1K1wiIGFuZCBcIitmK1wiKSBhcmUgdHJ5aW5nIHRvIGNvbnRyb2wgZGVzY2VuZGFudCBiaW5kaW5ncyBvZiB0aGUgc2FtZSBlbGVtZW50LiBZb3UgY2Fubm90IHVzZSB0aGVzZSBiaW5kaW5ncyB0b2dldGhlciBvbiB0aGUgc2FtZSBlbGVtZW50LlwiKTt1PWZ9fSksXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmYS4kKGZ1bmN0aW9uKCl7ZShiLHIoZiksSix4LiRkYXRhLHgpfSxudWxsLHtsOmJ9KX1jYXRjaChrKXt0aHJvdyBrLm1lc3NhZ2U9J1VuYWJsZSB0byBwcm9jZXNzIGJpbmRpbmcgXCInK2YrXCI6IFwiK2dbZl0rJ1wiXFxuTWVzc2FnZTogJytrLm1lc3NhZ2UsXG5rO319KX1mPXU9PT1uO3JldHVybntzaG91bGRCaW5kRGVzY2VuZGFudHM6ZixiaW5kaW5nQ29udGV4dEZvckRlc2NlbmRhbnRzOmYmJnh9fWZ1bmN0aW9uIHEoYixjKXtyZXR1cm4gYiYmYiBpbnN0YW5jZW9mIGEuZmE/YjpuZXcgYS5mYShiLG4sbixjKX12YXIgdD1hLmEuRGEoXCJfc3Vic2NyaWJhYmxlXCIpLHg9YS5hLkRhKFwiX2FuY2VzdG9yQmluZGluZ0luZm9cIiksQj1hLmEuRGEoXCJfZGF0YURlcGVuZGVuY3lcIik7YS5jPXt9O3ZhciB1PXtzY3JpcHQ6ITAsdGV4dGFyZWE6ITAsdGVtcGxhdGU6ITB9O2EuZ2V0QmluZGluZ0hhbmRsZXI9ZnVuY3Rpb24oYil7cmV0dXJuIGEuY1tiXX07dmFyIEo9e307YS5mYT1mdW5jdGlvbihiLGMsZCxlLGYpe2Z1bmN0aW9uIGsoKXt2YXIgYj1wP2goKTpoLGY9YS5hLmYoYik7Yz8oYS5hLmV4dGVuZChsLGMpLHggaW4gYyYmKGxbeF09Y1t4XSkpOihsLiRwYXJlbnRzPVtdLGwuJHJvb3Q9ZixsLmtvPWEpO2xbdF09cTtnP2Y9bC4kZGF0YToobC4kcmF3RGF0YT1cbmIsbC4kZGF0YT1mKTtkJiYobFtkXT1mKTtlJiZlKGwsYyxmKTtpZihjJiZjW3RdJiYhYS5TLm8oKS5WYihjW3RdKSljW3RdKCk7bSYmKGxbQl09bSk7cmV0dXJuIGwuJGRhdGF9dmFyIGw9dGhpcyxnPWI9PT1KLGg9Zz9uOmIscD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBoJiYhYS5PKGgpLHEsbT1mJiZmLmRhdGFEZXBlbmRlbmN5O2YmJmYuZXhwb3J0RGVwZW5kZW5jaWVzP2soKToocT1hLnhiKGspLHEudigpLHEuamEoKT9xLmVxdWFsaXR5Q29tcGFyZXI9bnVsbDpsW3RdPW4pfTthLmZhLnByb3RvdHlwZS5jcmVhdGVDaGlsZENvbnRleHQ9ZnVuY3Rpb24oYixjLGQsZSl7IWUmJmMmJlwib2JqZWN0XCI9PXR5cGVvZiBjJiYoZT1jLGM9ZS5hcyxkPWUuZXh0ZW5kKTtpZihjJiZlJiZlLm5vQ2hpbGRDb250ZXh0KXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiJiYhYS5PKGIpO3JldHVybiBuZXcgYS5mYShKLHRoaXMsbnVsbCxmdW5jdGlvbihhKXtkJiZkKGEpO2FbY109Zj9iKCk6Yn0sZSl9cmV0dXJuIG5ldyBhLmZhKGIsXG50aGlzLGMsZnVuY3Rpb24oYSxiKXthLiRwYXJlbnRDb250ZXh0PWI7YS4kcGFyZW50PWIuJGRhdGE7YS4kcGFyZW50cz0oYi4kcGFyZW50c3x8W10pLnNsaWNlKDApO2EuJHBhcmVudHMudW5zaGlmdChhLiRwYXJlbnQpO2QmJmQoYSl9LGUpfTthLmZhLnByb3RvdHlwZS5leHRlbmQ9ZnVuY3Rpb24oYixjKXtyZXR1cm4gbmV3IGEuZmEoSix0aGlzLG51bGwsZnVuY3Rpb24oYyl7YS5hLmV4dGVuZChjLFwiZnVuY3Rpb25cIj09dHlwZW9mIGI/YihjKTpiKX0sYyl9O3ZhciB6PWEuYS5nLlooKTtjLnByb3RvdHlwZS5UYz1mdW5jdGlvbigpe3RoaXMuS2ImJnRoaXMuS2IuTiYmdGhpcy5LYi5OLnNkKHRoaXMubm9kZSl9O2MucHJvdG90eXBlLnNkPWZ1bmN0aW9uKGIpe2EuYS5QYSh0aGlzLmtiLGIpOyF0aGlzLmtiLmxlbmd0aCYmdGhpcy5IJiZ0aGlzLkNjKCl9O2MucHJvdG90eXBlLkNjPWZ1bmN0aW9uKCl7dGhpcy5IPSEwO3RoaXMueWMuTiYmIXRoaXMua2IubGVuZ3RoJiYodGhpcy55Yy5OPVxubnVsbCxhLmEuSy55Yih0aGlzLm5vZGUsYiksYS5pLm1hKHRoaXMubm9kZSxhLmkucGEpLHRoaXMuVGMoKSl9O2EuaT17SDpcImNoaWxkcmVuQ29tcGxldGVcIixwYTpcImRlc2NlbmRhbnRzQ29tcGxldGVcIixzdWJzY3JpYmU6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgaz1hLmEuZy5VYihiLHose30pO2suRmF8fChrLkZhPW5ldyBhLlQpO2YmJmYubm90aWZ5SW1tZWRpYXRlbHkmJmsuWmJbY10mJmEudS5HKGQsZSxbYl0pO3JldHVybiBrLkZhLnN1YnNjcmliZShkLGUsYyl9LG1hOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmcuZ2V0KGIseik7aWYoZCYmKGQuWmJbY109ITAsZC5GYSYmZC5GYS5ub3RpZnlTdWJzY3JpYmVycyhiLGMpLGM9PWEuaS5IKSlpZihkLk4pZC5OLkNjKCk7ZWxzZSBpZihkLk49PT1uJiZkLkZhJiZkLkZhLldhKGEuaS5wYSkpdGhyb3cgRXJyb3IoXCJkZXNjZW5kYW50c0NvbXBsZXRlIGV2ZW50IG5vdCBzdXBwb3J0ZWQgZm9yIGJpbmRpbmdzIG9uIHRoaXMgbm9kZVwiKTtcbn0sQ2I6ZnVuY3Rpb24oYixkKXt2YXIgZT1hLmEuZy5VYihiLHose30pO2UuTnx8KGUuTj1uZXcgYyhiLGUsZFt4XSkpO3JldHVybiBkW3hdPT1lP2Q6ZC5leHRlbmQoZnVuY3Rpb24oYSl7YVt4XT1lfSl9fTthLlRkPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuYS5nLmdldChiLHopKSYmYi5jb250ZXh0fTthLmliPWZ1bmN0aW9uKGIsYyxkKXsxPT09Yi5ub2RlVHlwZSYmYS5oLlNjKGIpO3JldHVybiBwKGIsYyxxKGQpKX07YS5sZD1mdW5jdGlvbihiLGMsZCl7ZD1xKGQpO3JldHVybiBhLmliKGIsZyhjLGQsYiksZCl9O2EuT2E9ZnVuY3Rpb24oYSxiKXsxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGV8fG0ocShhKSxiKX07YS52Yz1mdW5jdGlvbihhLGIsYyl7IXYmJkEualF1ZXJ5JiYodj1BLmpRdWVyeSk7aWYoMj5hcmd1bWVudHMubGVuZ3RoKXtpZihiPXcuYm9keSwhYil0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGNvdWxkIG5vdCBmaW5kIGRvY3VtZW50LmJvZHk7IGhhcyB0aGUgZG9jdW1lbnQgYmVlbiBsb2FkZWQ/XCIpO1xufWVsc2UgaWYoIWJ8fDEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZSl0aHJvdyBFcnJvcihcImtvLmFwcGx5QmluZGluZ3M6IGZpcnN0IHBhcmFtZXRlciBzaG91bGQgYmUgeW91ciB2aWV3IG1vZGVsOyBzZWNvbmQgcGFyYW1ldGVyIHNob3VsZCBiZSBhIERPTSBub2RlXCIpO2socShhLGMpLGIpfTthLkRjPWZ1bmN0aW9uKGIpe3JldHVybiFifHwxIT09Yi5ub2RlVHlwZSYmOCE9PWIubm9kZVR5cGU/bjphLlRkKGIpfTthLkVjPWZ1bmN0aW9uKGIpe3JldHVybihiPWEuRGMoYikpP2IuJGRhdGE6bn07YS5iKFwiYmluZGluZ0hhbmRsZXJzXCIsYS5jKTthLmIoXCJiaW5kaW5nRXZlbnRcIixhLmkpO2EuYihcImJpbmRpbmdFdmVudC5zdWJzY3JpYmVcIixhLmkuc3Vic2NyaWJlKTthLmIoXCJiaW5kaW5nRXZlbnQuc3RhcnRQb3NzaWJseUFzeW5jQ29udGVudEJpbmRpbmdcIixhLmkuQ2IpO2EuYihcImFwcGx5QmluZGluZ3NcIixhLnZjKTthLmIoXCJhcHBseUJpbmRpbmdzVG9EZXNjZW5kYW50c1wiLGEuT2EpO1xuYS5iKFwiYXBwbHlCaW5kaW5nQWNjZXNzb3JzVG9Ob2RlXCIsYS5pYik7YS5iKFwiYXBwbHlCaW5kaW5nc1RvTm9kZVwiLGEubGQpO2EuYihcImNvbnRleHRGb3JcIixhLkRjKTthLmIoXCJkYXRhRm9yXCIsYS5FYyl9KSgpOyhmdW5jdGlvbihiKXtmdW5jdGlvbiBjKGMsZSl7dmFyIGs9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsYyk/ZltjXTpiLGw7az9rLnN1YnNjcmliZShlKTooaz1mW2NdPW5ldyBhLlQsay5zdWJzY3JpYmUoZSksZChjLGZ1bmN0aW9uKGIsZCl7dmFyIGU9ISghZHx8IWQuc3luY2hyb25vdXMpO2dbY109e2RlZmluaXRpb246YixHZDplfTtkZWxldGUgZltjXTtsfHxlP2subm90aWZ5U3Vic2NyaWJlcnMoYik6YS5uYS56YihmdW5jdGlvbigpe2subm90aWZ5U3Vic2NyaWJlcnMoYil9KX0pLGw9ITApfWZ1bmN0aW9uIGQoYSxiKXtlKFwiZ2V0Q29uZmlnXCIsW2FdLGZ1bmN0aW9uKGMpe2M/ZShcImxvYWRDb21wb25lbnRcIixbYSxjXSxmdW5jdGlvbihhKXtiKGEsXG5jKX0pOmIobnVsbCxudWxsKX0pfWZ1bmN0aW9uIGUoYyxkLGYsbCl7bHx8KGw9YS5qLmxvYWRlcnMuc2xpY2UoMCkpO3ZhciBnPWwuc2hpZnQoKTtpZihnKXt2YXIgcT1nW2NdO2lmKHEpe3ZhciB0PSExO2lmKHEuYXBwbHkoZyxkLmNvbmNhdChmdW5jdGlvbihhKXt0P2YobnVsbCk6bnVsbCE9PWE/ZihhKTplKGMsZCxmLGwpfSkpIT09YiYmKHQ9ITAsIWcuc3VwcHJlc3NMb2FkZXJFeGNlcHRpb25zKSl0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBsb2FkZXJzIG11c3Qgc3VwcGx5IHZhbHVlcyBieSBpbnZva2luZyB0aGUgY2FsbGJhY2ssIG5vdCBieSByZXR1cm5pbmcgdmFsdWVzIHN5bmNocm9ub3VzbHkuXCIpO31lbHNlIGUoYyxkLGYsbCl9ZWxzZSBmKG51bGwpfXZhciBmPXt9LGc9e307YS5qPXtnZXQ6ZnVuY3Rpb24oZCxlKXt2YXIgZj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZyxkKT9nW2RdOmI7Zj9mLkdkP2EudS5HKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6XG5hLm5hLnpiKGZ1bmN0aW9uKCl7ZShmLmRlZmluaXRpb24pfSk6YyhkLGUpfSxCYzpmdW5jdGlvbihhKXtkZWxldGUgZ1thXX0sb2M6ZX07YS5qLmxvYWRlcnM9W107YS5iKFwiY29tcG9uZW50c1wiLGEuaik7YS5iKFwiY29tcG9uZW50cy5nZXRcIixhLmouZ2V0KTthLmIoXCJjb21wb25lbnRzLmNsZWFyQ2FjaGVkRGVmaW5pdGlvblwiLGEuai5CYyl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsZSl7ZnVuY3Rpb24gZygpezA9PT0tLUImJmUoaCl9dmFyIGg9e30sQj0yLHU9ZC50ZW1wbGF0ZTtkPWQudmlld01vZGVsO3U/ZihjLHUsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFRlbXBsYXRlXCIsW2IsY10sZnVuY3Rpb24oYSl7aC50ZW1wbGF0ZT1hO2coKX0pfSk6ZygpO2Q/ZihjLGQsZnVuY3Rpb24oYyl7YS5qLm9jKFwibG9hZFZpZXdNb2RlbFwiLFtiLGNdLGZ1bmN0aW9uKGEpe2hbbV09YTtnKCl9KX0pOmcoKX1mdW5jdGlvbiBjKGEsYixkKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYilkKGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYihhKX0pO1xuZWxzZSBpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYlttXSlkKGJbbV0pO2Vsc2UgaWYoXCJpbnN0YW5jZVwiaW4gYil7dmFyIGU9Yi5pbnN0YW5jZTtkKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KX1lbHNlXCJ2aWV3TW9kZWxcImluIGI/YyhhLGIudmlld01vZGVsLGQpOmEoXCJVbmtub3duIHZpZXdNb2RlbCB2YWx1ZTogXCIrYil9ZnVuY3Rpb24gZChiKXtzd2l0Y2goYS5hLlIoYikpe2Nhc2UgXCJzY3JpcHRcIjpyZXR1cm4gYS5hLnVhKGIudGV4dCk7Y2FzZSBcInRleHRhcmVhXCI6cmV0dXJuIGEuYS51YShiLnZhbHVlKTtjYXNlIFwidGVtcGxhdGVcIjppZihlKGIuY29udGVudCkpcmV0dXJuIGEuYS5DYShiLmNvbnRlbnQuY2hpbGROb2Rlcyl9cmV0dXJuIGEuYS5DYShiLmNoaWxkTm9kZXMpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIEEuRG9jdW1lbnRGcmFnbWVudD9hIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudDphJiYxMT09PWEubm9kZVR5cGV9ZnVuY3Rpb24gZihhLGIsYyl7XCJzdHJpbmdcIj09PXR5cGVvZiBiLnJlcXVpcmU/XG5UfHxBLnJlcXVpcmU/KFR8fEEucmVxdWlyZSkoW2IucmVxdWlyZV0sZnVuY3Rpb24oYSl7YSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZhLlhkJiZhW1wiZGVmYXVsdFwiXSYmKGE9YVtcImRlZmF1bHRcIl0pO2MoYSl9KTphKFwiVXNlcyByZXF1aXJlLCBidXQgbm8gQU1EIGxvYWRlciBpcyBwcmVzZW50XCIpOmMoYil9ZnVuY3Rpb24gZyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7dGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2ErXCInOiBcIitiKTt9fXZhciBoPXt9O2Euai5yZWdpc3Rlcj1mdW5jdGlvbihiLGMpe2lmKCFjKXRocm93IEVycm9yKFwiSW52YWxpZCBjb25maWd1cmF0aW9uIGZvciBcIitiKTtpZihhLmoudGIoYikpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgXCIrYitcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIik7aFtiXT1jfTthLmoudGI9ZnVuY3Rpb24oYSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChoLGEpfTthLmoudW5yZWdpc3Rlcj1mdW5jdGlvbihiKXtkZWxldGUgaFtiXTtcbmEuai5CYyhiKX07YS5qLkZjPXtnZXRDb25maWc6ZnVuY3Rpb24oYixjKXtjKGEuai50YihiKT9oW2JdOm51bGwpfSxsb2FkQ29tcG9uZW50OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1nKGEpO2YoZSxjLGZ1bmN0aW9uKGMpe2IoYSxlLGMsZCl9KX0sbG9hZFRlbXBsYXRlOmZ1bmN0aW9uKGIsYyxmKXtiPWcoYik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKWYoYS5hLnVhKGMpKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBBcnJheSlmKGMpO2Vsc2UgaWYoZShjKSlmKGEuYS5sYShjLmNoaWxkTm9kZXMpKTtlbHNlIGlmKGMuZWxlbWVudClpZihjPWMuZWxlbWVudCxBLkhUTUxFbGVtZW50P2MgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDpjJiZjLnRhZ05hbWUmJjE9PT1jLm5vZGVUeXBlKWYoZChjKSk7ZWxzZSBpZihcInN0cmluZ1wiPT09dHlwZW9mIGMpe3ZhciBoPXcuZ2V0RWxlbWVudEJ5SWQoYyk7aD9mKGQoaCkpOmIoXCJDYW5ub3QgZmluZCBlbGVtZW50IHdpdGggSUQgXCIrYyl9ZWxzZSBiKFwiVW5rbm93biBlbGVtZW50IHR5cGU6IFwiK1xuYyk7ZWxzZSBiKFwiVW5rbm93biB0ZW1wbGF0ZSB2YWx1ZTogXCIrYyl9LGxvYWRWaWV3TW9kZWw6ZnVuY3Rpb24oYSxiLGQpe2MoZyhhKSxiLGQpfX07dmFyIG09XCJjcmVhdGVWaWV3TW9kZWxcIjthLmIoXCJjb21wb25lbnRzLnJlZ2lzdGVyXCIsYS5qLnJlZ2lzdGVyKTthLmIoXCJjb21wb25lbnRzLmlzUmVnaXN0ZXJlZFwiLGEuai50Yik7YS5iKFwiY29tcG9uZW50cy51bnJlZ2lzdGVyXCIsYS5qLnVucmVnaXN0ZXIpO2EuYihcImNvbXBvbmVudHMuZGVmYXVsdExvYWRlclwiLGEuai5GYyk7YS5qLmxvYWRlcnMucHVzaChhLmouRmMpO2Euai5kZD1ofSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZSl7dmFyIGY9Yi5nZXRBdHRyaWJ1dGUoXCJwYXJhbXNcIik7aWYoZil7dmFyIGY9Yy5wYXJzZUJpbmRpbmdzU3RyaW5nKGYsZSxiLHt2YWx1ZUFjY2Vzc29yczohMCxiaW5kaW5nUGFyYW1zOiEwfSksZj1hLmEuR2EoZixmdW5jdGlvbihjKXtyZXR1cm4gYS5vKGMsbnVsbCx7bDpifSl9KSxnPWEuYS5HYShmLFxuZnVuY3Rpb24oYyl7dmFyIGU9Yy52KCk7cmV0dXJuIGMuamEoKT9hLm8oe3JlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hLmYoYygpKX0sd3JpdGU6YS5aYShlKSYmZnVuY3Rpb24oYSl7YygpKGEpfSxsOmJ9KTplfSk7T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGcsXCIkcmF3XCIpfHwoZy4kcmF3PWYpO3JldHVybiBnfXJldHVybnskcmF3Ont9fX1hLmouZ2V0Q29tcG9uZW50TmFtZUZvck5vZGU9ZnVuY3Rpb24oYil7dmFyIGM9YS5hLlIoYik7aWYoYS5qLnRiKGMpJiYoLTEhPWMuaW5kZXhPZihcIi1cIil8fFwiW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdXCI9PVwiXCIrYnx8OD49YS5hLlcmJmIudGFnTmFtZT09PWMpKXJldHVybiBjfTthLmoudGM9ZnVuY3Rpb24oYyxlLGYsZyl7aWYoMT09PWUubm9kZVR5cGUpe3ZhciBoPWEuai5nZXRDb21wb25lbnROYW1lRm9yTm9kZShlKTtpZihoKXtjPWN8fHt9O2lmKGMuY29tcG9uZW50KXRocm93IEVycm9yKCdDYW5ub3QgdXNlIHRoZSBcImNvbXBvbmVudFwiIGJpbmRpbmcgb24gYSBjdXN0b20gZWxlbWVudCBtYXRjaGluZyBhIGNvbXBvbmVudCcpO1xudmFyIG09e25hbWU6aCxwYXJhbXM6YihlLGYpfTtjLmNvbXBvbmVudD1nP2Z1bmN0aW9uKCl7cmV0dXJuIG19Om19fXJldHVybiBjfTt2YXIgYz1uZXcgYS5nYTs5PmEuYS5XJiYoYS5qLnJlZ2lzdGVyPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fShhLmoucmVnaXN0ZXIpLHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1iKCksZj1hLmouZGQsZztmb3IoZyBpbiBmKTtyZXR1cm4gY319KHcuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCkpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXtjPWMudGVtcGxhdGU7aWYoIWMpdGhyb3cgRXJyb3IoXCJDb21wb25lbnQgJ1wiK2IrXCInIGhhcyBubyB0ZW1wbGF0ZVwiKTtiPWEuYS5DYShjKTthLmgudmEoZCxiKX1mdW5jdGlvbiBjKGEsYixjKXt2YXIgZD1hLmNyZWF0ZVZpZXdNb2RlbDtyZXR1cm4gZD9kLmNhbGwoYSxcbmIsYyk6Yn12YXIgZD0wO2EuYy5jb21wb25lbnQ9e2luaXQ6ZnVuY3Rpb24oZSxmLGcsaCxtKXtmdW5jdGlvbiBrKCl7dmFyIGE9bCYmbC5kaXNwb3NlO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBhJiZhLmNhbGwobCk7cSYmcS5zKCk7cD1sPXE9bnVsbH12YXIgbCxwLHEsdD1hLmEubGEoYS5oLmNoaWxkTm9kZXMoZSkpO2EuaC5FYShlKTthLmEuSy56YShlLGspO2EubyhmdW5jdGlvbigpe3ZhciBnPWEuYS5mKGYoKSksaCx1O1wic3RyaW5nXCI9PT10eXBlb2YgZz9oPWc6KGg9YS5hLmYoZy5uYW1lKSx1PWEuYS5mKGcucGFyYW1zKSk7aWYoIWgpdGhyb3cgRXJyb3IoXCJObyBjb21wb25lbnQgbmFtZSBzcGVjaWZpZWRcIik7dmFyIG49YS5pLkNiKGUsbSksej1wPSsrZDthLmouZ2V0KGgsZnVuY3Rpb24oZCl7aWYocD09PXope2soKTtpZighZCl0aHJvdyBFcnJvcihcIlVua25vd24gY29tcG9uZW50ICdcIitoK1wiJ1wiKTtiKGgsZCxlKTt2YXIgZj1jKGQsdSx7ZWxlbWVudDplLHRlbXBsYXRlTm9kZXM6dH0pO1xuZD1uLmNyZWF0ZUNoaWxkQ29udGV4dChmLHtleHRlbmQ6ZnVuY3Rpb24oYSl7YS4kY29tcG9uZW50PWY7YS4kY29tcG9uZW50VGVtcGxhdGVOb2Rlcz10fX0pO2YmJmYua29EZXNjZW5kYW50c0NvbXBsZXRlJiYocT1hLmkuc3Vic2NyaWJlKGUsYS5pLnBhLGYua29EZXNjZW5kYW50c0NvbXBsZXRlLGYpKTtsPWY7YS5PYShkLGUpfX0pfSxudWxsLHtsOmV9KTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fX07YS5oLmVhLmNvbXBvbmVudD0hMH0pKCk7dmFyIFY9e1wiY2xhc3NcIjpcImNsYXNzTmFtZVwiLFwiZm9yXCI6XCJodG1sRm9yXCJ9O2EuYy5hdHRyPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpfHx7fTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTt2YXIgZz1jLmluZGV4T2YoXCI6XCIpLGc9XCJsb29rdXBOYW1lc3BhY2VVUklcImluIGImJjA8ZyYmYi5sb29rdXBOYW1lc3BhY2VVUkkoYy5zdWJzdHIoMCxnKSksaD0hMT09PWR8fG51bGw9PT1cbmR8fGQ9PT1uO2g/Zz9iLnJlbW92ZUF0dHJpYnV0ZU5TKGcsYyk6Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6ZD1kLnRvU3RyaW5nKCk7OD49YS5hLlcmJmMgaW4gVj8oYz1WW2NdLGg/Yi5yZW1vdmVBdHRyaWJ1dGUoYyk6YltjXT1kKTpofHwoZz9iLnNldEF0dHJpYnV0ZU5TKGcsYyxkKTpiLnNldEF0dHJpYnV0ZShjLGQpKTtcIm5hbWVcIj09PWMmJmEuYS5ZYyhiLGg/XCJcIjpkKX0pfX07KGZ1bmN0aW9uKCl7YS5jLmNoZWNrZWQ9e2FmdGVyOltcInZhbHVlXCIsXCJhdHRyXCJdLGluaXQ6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXt2YXIgZT1iLmNoZWNrZWQsZj1nKCk7aWYoIWEuUy5ZYSgpJiYoZXx8IW0mJiFhLlMucWEoKSkpe3ZhciBrPWEudS5HKGMpO2lmKGwpe3ZhciBxPXA/ay52KCk6ayx6PXQ7dD1mO3ohPT1mP2UmJihhLmEuTmEocSxmLCEwKSxhLmEuTmEocSx6LCExKSk6YS5hLk5hKHEsZixlKTtwJiZhLlphKGspJiZrKHEpfWVsc2UgaCYmKGY9PT1uP2Y9ZTplfHwoZj1uKSksYS5tLmViKGssXG5kLFwiY2hlY2tlZFwiLGYsITApfX1mdW5jdGlvbiBmKCl7dmFyIGQ9YS5hLmYoYygpKSxlPWcoKTtsPyhiLmNoZWNrZWQ9MDw9YS5hLkEoZCxlKSx0PWUpOmIuY2hlY2tlZD1oJiZlPT09bj8hIWQ6ZygpPT09ZH12YXIgZz1hLnhiKGZ1bmN0aW9uKCl7aWYoZC5oYXMoXCJjaGVja2VkVmFsdWVcIikpcmV0dXJuIGEuYS5mKGQuZ2V0KFwiY2hlY2tlZFZhbHVlXCIpKTtpZihxKXJldHVybiBkLmhhcyhcInZhbHVlXCIpP2EuYS5mKGQuZ2V0KFwidmFsdWVcIikpOmIudmFsdWV9KSxoPVwiY2hlY2tib3hcIj09Yi50eXBlLG09XCJyYWRpb1wiPT1iLnR5cGU7aWYoaHx8bSl7dmFyIGs9YygpLGw9aCYmYS5hLmYoaylpbnN0YW5jZW9mIEFycmF5LHA9IShsJiZrLnB1c2gmJmsuc3BsaWNlKSxxPW18fGwsdD1sP2coKTpuO20mJiFiLm5hbWUmJmEuYy51bmlxdWVOYW1lLmluaXQoYixmdW5jdGlvbigpe3JldHVybiEwfSk7YS5vKGUsbnVsbCx7bDpifSk7YS5hLkIoYixcImNsaWNrXCIsZSk7YS5vKGYsbnVsbCx7bDpifSk7XG5rPW59fX07YS5tLndhLmNoZWNrZWQ9ITA7YS5jLmNoZWNrZWRWYWx1ZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7Yi52YWx1ZT1hLmEuZihjKCkpfX19KSgpO2EuY1tcImNsYXNzXCJdPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuRGIoYS5hLmYoYygpKSk7YS5hLkViKGIsYi5fX2tvX19jc3NWYWx1ZSwhMSk7Yi5fX2tvX19jc3NWYWx1ZT1kO2EuYS5FYihiLGQsITApfX07YS5jLmNzcz17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtudWxsIT09ZCYmXCJvYmplY3RcIj09dHlwZW9mIGQ/YS5hLlAoZCxmdW5jdGlvbihjLGQpe2Q9YS5hLmYoZCk7YS5hLkViKGIsYyxkKX0pOmEuY1tcImNsYXNzXCJdLnVwZGF0ZShiLGMpfX07YS5jLmVuYWJsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpKTtkJiZiLmRpc2FibGVkP2IucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik6ZHx8Yi5kaXNhYmxlZHx8KGIuZGlzYWJsZWQ9ITApfX07YS5jLmRpc2FibGU9XG57dXBkYXRlOmZ1bmN0aW9uKGIsYyl7YS5jLmVuYWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTthLmMuZXZlbnQ9e2luaXQ6ZnVuY3Rpb24oYixjLGQsZSxmKXt2YXIgZz1jKCl8fHt9O2EuYS5QKGcsZnVuY3Rpb24oZyl7XCJzdHJpbmdcIj09dHlwZW9mIGcmJmEuYS5CKGIsZyxmdW5jdGlvbihiKXt2YXIgayxsPWMoKVtnXTtpZihsKXt0cnl7dmFyIHA9YS5hLmxhKGFyZ3VtZW50cyk7ZT1mLiRkYXRhO3AudW5zaGlmdChlKTtrPWwuYXBwbHkoZSxwKX1maW5hbGx5eyEwIT09ayYmKGIucHJldmVudERlZmF1bHQ/Yi5wcmV2ZW50RGVmYXVsdCgpOmIucmV0dXJuVmFsdWU9ITEpfSExPT09ZC5nZXQoZytcIkJ1YmJsZVwiKSYmKGIuY2FuY2VsQnViYmxlPSEwLGIuc3RvcFByb3BhZ2F0aW9uJiZiLnN0b3BQcm9wYWdhdGlvbigpKX19KX0pfX07YS5jLmZvcmVhY2g9e1JjOmZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPWIoKSxkPWEuYS5iYyhjKTtcbmlmKCFkfHxcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgpcmV0dXJue2ZvcmVhY2g6Yyx0ZW1wbGF0ZUVuZ2luZTphLmJhLk1hfTthLmEuZihjKTtyZXR1cm57Zm9yZWFjaDpkLmRhdGEsYXM6ZC5hcyxub0NoaWxkQ29udGV4dDpkLm5vQ2hpbGRDb250ZXh0LGluY2x1ZGVEZXN0cm95ZWQ6ZC5pbmNsdWRlRGVzdHJveWVkLGFmdGVyQWRkOmQuYWZ0ZXJBZGQsYmVmb3JlUmVtb3ZlOmQuYmVmb3JlUmVtb3ZlLGFmdGVyUmVuZGVyOmQuYWZ0ZXJSZW5kZXIsYmVmb3JlTW92ZTpkLmJlZm9yZU1vdmUsYWZ0ZXJNb3ZlOmQuYWZ0ZXJNb3ZlLHRlbXBsYXRlRW5naW5lOmEuYmEuTWF9fX0saW5pdDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmMudGVtcGxhdGUuaW5pdChiLGEuYy5mb3JlYWNoLlJjKGMpKX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyxkLGUsZil7cmV0dXJuIGEuYy50ZW1wbGF0ZS51cGRhdGUoYixhLmMuZm9yZWFjaC5SYyhjKSxkLGUsZil9fTthLm0uUmEuZm9yZWFjaD0hMTthLmguZWEuZm9yZWFjaD1cbiEwO2EuYy5oYXNmb2N1cz17aW5pdDpmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZShlKXtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMDt2YXIgZj1iLm93bmVyRG9jdW1lbnQ7aWYoXCJhY3RpdmVFbGVtZW50XCJpbiBmKXt2YXIgZzt0cnl7Zz1mLmFjdGl2ZUVsZW1lbnR9Y2F0Y2gobCl7Zz1mLmJvZHl9ZT1nPT09Yn1mPWMoKTthLm0uZWIoZixkLFwiaGFzZm9jdXNcIixlLCEwKTtiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9ZTtiLl9fa29faGFzZm9jdXNVcGRhdGluZz0hMX12YXIgZj1lLmJpbmQobnVsbCwhMCksZz1lLmJpbmQobnVsbCwhMSk7YS5hLkIoYixcImZvY3VzXCIsZik7YS5hLkIoYixcImZvY3VzaW5cIixmKTthLmEuQihiLFwiYmx1clwiLGcpO2EuYS5CKGIsXCJmb2N1c291dFwiLGcpO2IuX19rb19oYXNmb2N1c0xhc3RWYWx1ZT0hMX0sdXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9ISFhLmEuZihjKCkpO2IuX19rb19oYXNmb2N1c1VwZGF0aW5nfHxiLl9fa29faGFzZm9jdXNMYXN0VmFsdWU9PT1cbmR8fChkP2IuZm9jdXMoKTpiLmJsdXIoKSwhZCYmYi5fX2tvX2hhc2ZvY3VzTGFzdFZhbHVlJiZiLm93bmVyRG9jdW1lbnQuYm9keS5mb2N1cygpLGEudS5HKGEuYS5GYixudWxsLFtiLGQ/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiXSkpfX07YS5tLndhLmhhc2ZvY3VzPSEwO2EuYy5oYXNGb2N1cz1hLmMuaGFzZm9jdXM7YS5tLndhLmhhc0ZvY3VzPVwiaGFzZm9jdXNcIjthLmMuaHRtbD17aW5pdDpmdW5jdGlvbigpe3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMpe2EuYS5mYyhiLGMoKSl9fTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsZCxlKXthLmNbYl09e2luaXQ6ZnVuY3Rpb24oYixjLGgsbSxrKXt2YXIgbCxwLHE9e30sdCx4LG47aWYoZCl7bT1oLmdldChcImFzXCIpO3ZhciB1PWguZ2V0KFwibm9DaGlsZENvbnRleHRcIik7bj0hKG0mJnUpO3E9e2FzOm0sbm9DaGlsZENvbnRleHQ6dSxleHBvcnREZXBlbmRlbmNpZXM6bn19eD0odD1cblwicmVuZGVyXCI9PWguZ2V0KFwiY29tcGxldGVPblwiKSl8fGguaGFzKGEuaS5wYSk7YS5vKGZ1bmN0aW9uKCl7dmFyIGg9YS5hLmYoYygpKSxtPSFlIT09IWgsdT0hcCxyO2lmKG58fG0hPT1sKXt4JiYoaz1hLmkuQ2IoYixrKSk7aWYobSl7aWYoIWR8fG4pcS5kYXRhRGVwZW5kZW5jeT1hLlMubygpO3I9ZD9rLmNyZWF0ZUNoaWxkQ29udGV4dChcImZ1bmN0aW9uXCI9PXR5cGVvZiBoP2g6YyxxKTphLlMucWEoKT9rLmV4dGVuZChudWxsLHEpOmt9dSYmYS5TLnFhKCkmJihwPWEuYS5DYShhLmguY2hpbGROb2RlcyhiKSwhMCkpO20/KHV8fGEuaC52YShiLGEuYS5DYShwKSksYS5PYShyLGIpKTooYS5oLkVhKGIpLHR8fGEuaS5tYShiLGEuaS5IKSk7bD1tfX0sbnVsbCx7bDpifSk7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EubS5SYVtiXT0hMTthLmguZWFbYl09ITB9YihcImlmXCIpO2IoXCJpZm5vdFwiLCExLCEwKTtiKFwid2l0aFwiLCEwKX0pKCk7YS5jLmxldD17aW5pdDpmdW5jdGlvbihiLFxuYyxkLGUsZil7Yz1mLmV4dGVuZChjKTthLk9hKGMsYik7cmV0dXJue2NvbnRyb2xzRGVzY2VuZGFudEJpbmRpbmdzOiEwfX19O2EuaC5lYS5sZXQ9ITA7dmFyIFE9e307YS5jLm9wdGlvbnM9e2luaXQ6ZnVuY3Rpb24oYil7aWYoXCJzZWxlY3RcIiE9PWEuYS5SKGIpKXRocm93IEVycm9yKFwib3B0aW9ucyBiaW5kaW5nIGFwcGxpZXMgb25seSB0byBTRUxFQ1QgZWxlbWVudHNcIik7Zm9yKDswPGIubGVuZ3RoOyliLnJlbW92ZSgwKTtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gYS5hLmpiKGIub3B0aW9ucyxmdW5jdGlvbihhKXtyZXR1cm4gYS5zZWxlY3RlZH0pfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPXR5cGVvZiBiO3JldHVyblwiZnVuY3Rpb25cIj09ZD9iKGEpOlwic3RyaW5nXCI9PWQ/YVtiXTpjfWZ1bmN0aW9uIGcoYyxkKXtpZih4JiZsKWEuaS5tYShiLGEuaS5IKTtlbHNlIGlmKHQubGVuZ3RoKXt2YXIgZT1cbjA8PWEuYS5BKHQsYS53Lk0oZFswXSkpO2EuYS5aYyhkWzBdLGUpO3gmJiFlJiZhLnUuRyhhLmEuRmIsbnVsbCxbYixcImNoYW5nZVwiXSl9fXZhciBoPWIubXVsdGlwbGUsbT0wIT1iLmxlbmd0aCYmaD9iLnNjcm9sbFRvcDpudWxsLGs9YS5hLmYoYygpKSxsPWQuZ2V0KFwidmFsdWVBbGxvd1Vuc2V0XCIpJiZkLmhhcyhcInZhbHVlXCIpLHA9ZC5nZXQoXCJvcHRpb25zSW5jbHVkZURlc3Ryb3llZFwiKTtjPXt9O3ZhciBxLHQ9W107bHx8KGg/dD1hLmEuTWIoZSgpLGEudy5NKTowPD1iLnNlbGVjdGVkSW5kZXgmJnQucHVzaChhLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkpKTtrJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGsubGVuZ3RoJiYoaz1ba10pLHE9YS5hLmpiKGssZnVuY3Rpb24oYil7cmV0dXJuIHB8fGI9PT1ufHxudWxsPT09Ynx8IWEuYS5mKGIuX2Rlc3Ryb3kpfSksZC5oYXMoXCJvcHRpb25zQ2FwdGlvblwiKSYmKGs9YS5hLmYoZC5nZXQoXCJvcHRpb25zQ2FwdGlvblwiKSksbnVsbCE9PVxuayYmayE9PW4mJnEudW5zaGlmdChRKSkpO3ZhciB4PSExO2MuYmVmb3JlUmVtb3ZlPWZ1bmN0aW9uKGEpe2IucmVtb3ZlQ2hpbGQoYSl9O2s9ZztkLmhhcyhcIm9wdGlvbnNBZnRlclJlbmRlclwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5nZXQoXCJvcHRpb25zQWZ0ZXJSZW5kZXJcIikmJihrPWZ1bmN0aW9uKGIsYyl7ZygwLGMpO2EudS5HKGQuZ2V0KFwib3B0aW9uc0FmdGVyUmVuZGVyXCIpLG51bGwsW2NbMF0sYiE9PVE/YjpuXSl9KTthLmEuZWMoYixxLGZ1bmN0aW9uKGMsZSxnKXtnLmxlbmd0aCYmKHQ9IWwmJmdbMF0uc2VsZWN0ZWQ/W2Eudy5NKGdbMF0pXTpbXSx4PSEwKTtlPWIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2M9PT1RPyhhLmEuQmIoZSxkLmdldChcIm9wdGlvbnNDYXB0aW9uXCIpKSxhLncuY2IoZSxuKSk6KGc9ZihjLGQuZ2V0KFwib3B0aW9uc1ZhbHVlXCIpLGMpLGEudy5jYihlLGEuYS5mKGcpKSxjPWYoYyxkLmdldChcIm9wdGlvbnNUZXh0XCIpLGcpLFxuYS5hLkJiKGUsYykpO3JldHVybltlXX0sYyxrKTtpZighbCl7dmFyIEI7aD9CPXQubGVuZ3RoJiZlKCkubGVuZ3RoPHQubGVuZ3RoOkI9dC5sZW5ndGgmJjA8PWIuc2VsZWN0ZWRJbmRleD9hLncuTShiLm9wdGlvbnNbYi5zZWxlY3RlZEluZGV4XSkhPT10WzBdOnQubGVuZ3RofHwwPD1iLnNlbGVjdGVkSW5kZXg7QiYmYS51LkcoYS5hLkZiLG51bGwsW2IsXCJjaGFuZ2VcIl0pfShsfHxhLlMuWWEoKSkmJmEuaS5tYShiLGEuaS5IKTthLmEud2QoYik7bSYmMjA8TWF0aC5hYnMobS1iLnNjcm9sbFRvcCkmJihiLnNjcm9sbFRvcD1tKX19O2EuYy5vcHRpb25zLiRiPWEuYS5nLlooKTthLmMuc2VsZWN0ZWRPcHRpb25zPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXtmdW5jdGlvbiBlKCl7dmFyIGU9YygpLGY9W107YS5hLkQoYi5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm9wdGlvblwiKSxmdW5jdGlvbihiKXtiLnNlbGVjdGVkJiZmLnB1c2goYS53Lk0oYikpfSk7YS5tLmViKGUsZCxcInNlbGVjdGVkT3B0aW9uc1wiLFxuZil9ZnVuY3Rpb24gZigpe3ZhciBkPWEuYS5mKGMoKSksZT1iLnNjcm9sbFRvcDtkJiZcIm51bWJlclwiPT10eXBlb2YgZC5sZW5ndGgmJmEuYS5EKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7dmFyIGM9MDw9YS5hLkEoZCxhLncuTShiKSk7Yi5zZWxlY3RlZCE9YyYmYS5hLlpjKGIsYyl9KTtiLnNjcm9sbFRvcD1lfWlmKFwic2VsZWN0XCIhPWEuYS5SKGIpKXRocm93IEVycm9yKFwic2VsZWN0ZWRPcHRpb25zIGJpbmRpbmcgYXBwbGllcyBvbmx5IHRvIFNFTEVDVCBlbGVtZW50c1wiKTt2YXIgZzthLmkuc3Vic2NyaWJlKGIsYS5pLkgsZnVuY3Rpb24oKXtnP2UoKTooYS5hLkIoYixcImNoYW5nZVwiLGUpLGc9YS5vKGYsbnVsbCx7bDpifSkpfSxudWxsLHtub3RpZnlJbW1lZGlhdGVseTohMH0pfSx1cGRhdGU6ZnVuY3Rpb24oKXt9fTthLm0ud2Euc2VsZWN0ZWRPcHRpb25zPSEwO2EuYy5zdHlsZT17dXBkYXRlOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5hLmYoYygpfHxcbnt9KTthLmEuUChkLGZ1bmN0aW9uKGMsZCl7ZD1hLmEuZihkKTtpZihudWxsPT09ZHx8ZD09PW58fCExPT09ZClkPVwiXCI7aWYodil2KGIpLmNzcyhjLGQpO2Vsc2UgaWYoL14tLS8udGVzdChjKSliLnN0eWxlLnNldFByb3BlcnR5KGMsZCk7ZWxzZXtjPWMucmVwbGFjZSgvLShcXHcpL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSk7dmFyIGc9Yi5zdHlsZVtjXTtiLnN0eWxlW2NdPWQ7ZD09PWd8fGIuc3R5bGVbY10hPWd8fGlzTmFOKGQpfHwoYi5zdHlsZVtjXT1kK1wicHhcIil9fSl9fTthLmMuc3VibWl0PXtpbml0OmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYygpKXRocm93IEVycm9yKFwiVGhlIHZhbHVlIGZvciBhIHN1Ym1pdCBiaW5kaW5nIG11c3QgYmUgYSBmdW5jdGlvblwiKTthLmEuQihiLFwic3VibWl0XCIsZnVuY3Rpb24oYSl7dmFyIGQsZT1jKCk7dHJ5e2Q9ZS5jYWxsKGYuJGRhdGEsYil9ZmluYWxseXshMCE9PWQmJihhLnByZXZlbnREZWZhdWx0P1xuYS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfX0pfX07YS5jLnRleHQ9e2luaXQ6ZnVuY3Rpb24oKXtyZXR1cm57Y29udHJvbHNEZXNjZW5kYW50QmluZGluZ3M6ITB9fSx1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmEuQmIoYixjKCkpfX07YS5oLmVhLnRleHQ9ITA7KGZ1bmN0aW9uKCl7aWYoQSYmQS5uYXZpZ2F0b3Ipe3ZhciBiPWZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIHBhcnNlRmxvYXQoYVsxXSl9LGM9QS5uYXZpZ2F0b3IudXNlckFnZW50LGQsZSxmLGcsaDsoZD1BLm9wZXJhJiZBLm9wZXJhLnZlcnNpb24mJnBhcnNlSW50KEEub3BlcmEudmVyc2lvbigpKSl8fChoPWIoYy5tYXRjaCgvRWRnZVxcLyhbXiBdKykkLykpKXx8YihjLm1hdGNoKC9DaHJvbWVcXC8oW14gXSspLykpfHwoZT1iKGMubWF0Y2goL1ZlcnNpb25cXC8oW14gXSspIFNhZmFyaS8pKSl8fChmPWIoYy5tYXRjaCgvRmlyZWZveFxcLyhbXiBdKykvKSkpfHwoZz1hLmEuV3x8YihjLm1hdGNoKC9NU0lFIChbXiBdKykvKSkpfHxcbihnPWIoYy5tYXRjaCgvcnY6KFteICldKykvKSkpfWlmKDg8PWcmJjEwPmcpdmFyIG09YS5hLmcuWigpLGs9YS5hLmcuWigpLGw9ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5hY3RpdmVFbGVtZW50OyhjPWMmJmEuYS5nLmdldChjLGspKSYmYyhiKX0scD1mdW5jdGlvbihiLGMpe3ZhciBkPWIub3duZXJEb2N1bWVudDthLmEuZy5nZXQoZCxtKXx8KGEuYS5nLnNldChkLG0sITApLGEuYS5CKGQsXCJzZWxlY3Rpb25jaGFuZ2VcIixsKSk7YS5hLmcuc2V0KGIsayxjKX07YS5jLnRleHRJbnB1dD17aW5pdDpmdW5jdGlvbihiLGMsayl7ZnVuY3Rpb24gbChjLGQpe2EuYS5CKGIsYyxkKX1mdW5jdGlvbiBtKCl7dmFyIGQ9YS5hLmYoYygpKTtpZihudWxsPT09ZHx8ZD09PW4pZD1cIlwiO0whPT1uJiZkPT09TD9hLmEuc2V0VGltZW91dChtLDQpOmIudmFsdWUhPT1kJiYoeT0hMCxiLnZhbHVlPWQseT0hMSx2PWIudmFsdWUpfWZ1bmN0aW9uIHIoKXt3fHwoTD1iLnZhbHVlLHc9YS5hLnNldFRpbWVvdXQoeixcbjQpKX1mdW5jdGlvbiB6KCl7Y2xlYXJUaW1lb3V0KHcpO0w9dz1uO3ZhciBkPWIudmFsdWU7diE9PWQmJih2PWQsYS5tLmViKGMoKSxrLFwidGV4dElucHV0XCIsZCkpfXZhciB2PWIudmFsdWUsdyxMLEE9OT09YS5hLlc/cjp6LHk9ITE7ZyYmbChcImtleXByZXNzXCIseik7MTE+ZyYmbChcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7eXx8XCJ2YWx1ZVwiIT09YS5wcm9wZXJ0eU5hbWV8fEEoYSl9KTs4PT1nJiYobChcImtleXVwXCIseiksbChcImtleWRvd25cIix6KSk7cCYmKHAoYixBKSxsKFwiZHJhZ2VuZFwiLHIpKTsoIWd8fDk8PWcpJiZsKFwiaW5wdXRcIixBKTs1PmUmJlwidGV4dGFyZWFcIj09PWEuYS5SKGIpPyhsKFwia2V5ZG93blwiLHIpLGwoXCJwYXN0ZVwiLHIpLGwoXCJjdXRcIixyKSk6MTE+ZD9sKFwia2V5ZG93blwiLHIpOjQ+Zj8obChcIkRPTUF1dG9Db21wbGV0ZVwiLHopLGwoXCJkcmFnZHJvcFwiLHopLGwoXCJkcm9wXCIseikpOmgmJlwibnVtYmVyXCI9PT1iLnR5cGUmJmwoXCJrZXlkb3duXCIscik7bChcImNoYW5nZVwiLFxueik7bChcImJsdXJcIix6KTthLm8obSxudWxsLHtsOmJ9KX19O2EubS53YS50ZXh0SW5wdXQ9ITA7YS5jLnRleHRpbnB1dD17cHJlcHJvY2VzczpmdW5jdGlvbihhLGIsYyl7YyhcInRleHRJbnB1dFwiLGEpfX19KSgpO2EuYy51bmlxdWVOYW1lPXtpbml0OmZ1bmN0aW9uKGIsYyl7aWYoYygpKXt2YXIgZD1cImtvX3VuaXF1ZV9cIisgKythLmMudW5pcXVlTmFtZS5yZDthLmEuWWMoYixkKX19fTthLmMudW5pcXVlTmFtZS5yZD0wO2EuYy51c2luZz17aW5pdDpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnO2QuaGFzKFwiYXNcIikmJihnPXthczpkLmdldChcImFzXCIpLG5vQ2hpbGRDb250ZXh0OmQuZ2V0KFwibm9DaGlsZENvbnRleHRcIil9KTtjPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMsZyk7YS5PYShjLGIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19fTthLmguZWEudXNpbmc9ITA7YS5jLnZhbHVlPXtpbml0OmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmEuUihiKSxmPVwiaW5wdXRcIj09XG5lO2lmKCFmfHxcImNoZWNrYm94XCIhPWIudHlwZSYmXCJyYWRpb1wiIT1iLnR5cGUpe3ZhciBnPVtdLGg9ZC5nZXQoXCJ2YWx1ZVVwZGF0ZVwiKSxtPSExLGs9bnVsbDtoJiYoXCJzdHJpbmdcIj09dHlwZW9mIGg/Zz1baF06Zz1hLmEud2MoaCksYS5hLlBhKGcsXCJjaGFuZ2VcIikpO3ZhciBsPWZ1bmN0aW9uKCl7az1udWxsO209ITE7dmFyIGU9YygpLGY9YS53Lk0oYik7YS5tLmViKGUsZCxcInZhbHVlXCIsZil9OyFhLmEuV3x8IWZ8fFwidGV4dFwiIT1iLnR5cGV8fFwib2ZmXCI9PWIuYXV0b2NvbXBsZXRlfHxiLmZvcm0mJlwib2ZmXCI9PWIuZm9ybS5hdXRvY29tcGxldGV8fC0xIT1hLmEuQShnLFwicHJvcGVydHljaGFuZ2VcIil8fChhLmEuQihiLFwicHJvcGVydHljaGFuZ2VcIixmdW5jdGlvbigpe209ITB9KSxhLmEuQihiLFwiZm9jdXNcIixmdW5jdGlvbigpe209ITF9KSxhLmEuQihiLFwiYmx1clwiLGZ1bmN0aW9uKCl7bSYmbCgpfSkpO2EuYS5EKGcsZnVuY3Rpb24oYyl7dmFyIGQ9bDthLmEuVWQoYyxcImFmdGVyXCIpJiZcbihkPWZ1bmN0aW9uKCl7az1hLncuTShiKTthLmEuc2V0VGltZW91dChsLDApfSxjPWMuc3Vic3RyaW5nKDUpKTthLmEuQihiLGMsZCl9KTt2YXIgcDtwPWYmJlwiZmlsZVwiPT1iLnR5cGU/ZnVuY3Rpb24oKXt2YXIgZD1hLmEuZihjKCkpO251bGw9PT1kfHxkPT09bnx8XCJcIj09PWQ/Yi52YWx1ZT1cIlwiOmEudS5HKGwpfTpmdW5jdGlvbigpe3ZhciBmPWEuYS5mKGMoKSksZz1hLncuTShiKTtpZihudWxsIT09ayYmZj09PWspYS5hLnNldFRpbWVvdXQocCwwKTtlbHNlIGlmKGYhPT1nfHxnPT09bilcInNlbGVjdFwiPT09ZT8oZz1kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKSxhLncuY2IoYixmLGcpLGd8fGY9PT1hLncuTShiKXx8YS51LkcobCkpOmEudy5jYihiLGYpfTtpZihcInNlbGVjdFwiPT09ZSl7dmFyIHE7YS5pLnN1YnNjcmliZShiLGEuaS5ILGZ1bmN0aW9uKCl7cT9kLmdldChcInZhbHVlQWxsb3dVbnNldFwiKT9wKCk6bCgpOihhLmEuQihiLFwiY2hhbmdlXCIsbCkscT1hLm8ocCxudWxsLHtsOmJ9KSl9LFxubnVsbCx7bm90aWZ5SW1tZWRpYXRlbHk6ITB9KX1lbHNlIGEuYS5CKGIsXCJjaGFuZ2VcIixsKSxhLm8ocCxudWxsLHtsOmJ9KX1lbHNlIGEuaWIoYix7Y2hlY2tlZFZhbHVlOmN9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7fX07YS5tLndhLnZhbHVlPSEwO2EuYy52aXNpYmxlPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXt2YXIgZD1hLmEuZihjKCkpLGU9XCJub25lXCIhPWIuc3R5bGUuZGlzcGxheTtkJiYhZT9iLnN0eWxlLmRpc3BsYXk9XCJcIjohZCYmZSYmKGIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIil9fTthLmMuaGlkZGVuPXt1cGRhdGU6ZnVuY3Rpb24oYixjKXthLmMudmlzaWJsZS51cGRhdGUoYixmdW5jdGlvbigpe3JldHVybiFhLmEuZihjKCkpfSl9fTsoZnVuY3Rpb24oYil7YS5jW2JdPXtpbml0OmZ1bmN0aW9uKGMsZCxlLGYsZyl7cmV0dXJuIGEuYy5ldmVudC5pbml0LmNhbGwodGhpcyxjLGZ1bmN0aW9uKCl7dmFyIGE9e307YVtiXT1kKCk7cmV0dXJuIGF9LGUsZixnKX19fSkoXCJjbGlja1wiKTtcbmEuY2E9ZnVuY3Rpb24oKXt9O2EuY2EucHJvdG90eXBlLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJPdmVycmlkZSByZW5kZXJUZW1wbGF0ZVNvdXJjZVwiKTt9O2EuY2EucHJvdG90eXBlLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiT3ZlcnJpZGUgY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrXCIpO307YS5jYS5wcm90b3R5cGUubWFrZVRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsYyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpe2M9Y3x8dzt2YXIgZD1jLmdldEVsZW1lbnRCeUlkKGIpO2lmKCFkKXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgdGVtcGxhdGUgd2l0aCBJRCBcIitiKTtyZXR1cm4gbmV3IGEuQy5GKGQpfWlmKDE9PWIubm9kZVR5cGV8fDg9PWIubm9kZVR5cGUpcmV0dXJuIG5ldyBhLkMuaWEoYik7dGhyb3cgRXJyb3IoXCJVbmtub3duIHRlbXBsYXRlIHR5cGU6IFwiK2IpO307YS5jYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGU9XG5mdW5jdGlvbihhLGMsZCxlKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZSk7cmV0dXJuIHRoaXMucmVuZGVyVGVtcGxhdGVTb3VyY2UoYSxjLGQsZSl9O2EuY2EucHJvdG90eXBlLmlzVGVtcGxhdGVSZXdyaXR0ZW49ZnVuY3Rpb24oYSxjKXtyZXR1cm4hMT09PXRoaXMuYWxsb3dUZW1wbGF0ZVJld3JpdGluZz8hMDp0aGlzLm1ha2VUZW1wbGF0ZVNvdXJjZShhLGMpLmRhdGEoXCJpc1Jld3JpdHRlblwiKX07YS5jYS5wcm90b3R5cGUucmV3cml0ZVRlbXBsYXRlPWZ1bmN0aW9uKGEsYyxkKXthPXRoaXMubWFrZVRlbXBsYXRlU291cmNlKGEsZCk7Yz1jKGEudGV4dCgpKTthLnRleHQoYyk7YS5kYXRhKFwiaXNSZXdyaXR0ZW5cIiwhMCl9O2EuYihcInRlbXBsYXRlRW5naW5lXCIsYS5jYSk7YS5rYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCl7Yj1hLm0uYWMoYik7Zm9yKHZhciBtPWEubS5SYSxrPTA7azxiLmxlbmd0aDtrKyspe3ZhciBsPWJba10ua2V5O2lmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtLFxubCkpe3ZhciBwPW1bbF07aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIHApe2lmKGw9cChiW2tdLnZhbHVlKSl0aHJvdyBFcnJvcihsKTt9ZWxzZSBpZighcCl0aHJvdyBFcnJvcihcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgdGhlICdcIitsK1wiJyBiaW5kaW5nIHdpdGhpbiBpdHMgdGVtcGxhdGVzXCIpO319ZD1cImtvLl9fdHJfYW1idG5zKGZ1bmN0aW9uKCRjb250ZXh0LCRlbGVtZW50KXtyZXR1cm4oZnVuY3Rpb24oKXtyZXR1cm57IFwiK2EubS52YihiLHt2YWx1ZUFjY2Vzc29yczohMH0pK1wiIH0gfSkoKX0sJ1wiK2QudG9Mb3dlckNhc2UoKStcIicpXCI7cmV0dXJuIGguY3JlYXRlSmF2YVNjcmlwdEV2YWx1YXRvckJsb2NrKGQpK2N9dmFyIGM9Lyg8KFthLXpdK1xcZCopKD86XFxzKyg/IWRhdGEtYmluZFxccyo9XFxzKilbYS16MC05XFwtXSsoPzo9KD86XFxcIlteXFxcIl0qXFxcInxcXCdbXlxcJ10qXFwnfFtePl0qKSk/KSpcXHMrKWRhdGEtYmluZFxccyo9XFxzKihbXCInXSkoW1xcc1xcU10qPylcXDMvZ2ksXG5kPS9cXHgzYyEtLVxccyprb1xcYlxccyooW1xcc1xcU10qPylcXHMqLS1cXHgzZS9nO3JldHVybnt4ZDpmdW5jdGlvbihiLGMsZCl7Yy5pc1RlbXBsYXRlUmV3cml0dGVuKGIsZCl8fGMucmV3cml0ZVRlbXBsYXRlKGIsZnVuY3Rpb24oYil7cmV0dXJuIGEua2MuTGQoYixjKX0sZCl9LExkOmZ1bmN0aW9uKGEsZil7cmV0dXJuIGEucmVwbGFjZShjLGZ1bmN0aW9uKGEsYyxkLGUsbCl7cmV0dXJuIGIobCxjLGQsZil9KS5yZXBsYWNlKGQsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYihjLFwiXFx4M2MhLS0ga28gLS1cXHgzZVwiLFwiI2NvbW1lbnRcIixmKX0pfSxtZDpmdW5jdGlvbihiLGMpe3JldHVybiBhLmFhLlhiKGZ1bmN0aW9uKGQsaCl7dmFyIG09ZC5uZXh0U2libGluZzttJiZtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1jJiZhLmliKG0sYixoKX0pfX19KCk7YS5iKFwiX190cl9hbWJ0bnNcIixhLmtjLm1kKTsoZnVuY3Rpb24oKXthLkM9e307YS5DLkY9ZnVuY3Rpb24oYil7aWYodGhpcy5GPWIpe3ZhciBjPVxuYS5hLlIoYik7dGhpcy5hYj1cInNjcmlwdFwiPT09Yz8xOlwidGV4dGFyZWFcIj09PWM/MjpcInRlbXBsYXRlXCI9PWMmJmIuY29udGVudCYmMTE9PT1iLmNvbnRlbnQubm9kZVR5cGU/Mzo0fX07YS5DLkYucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXt2YXIgYj0xPT09dGhpcy5hYj9cInRleHRcIjoyPT09dGhpcy5hYj9cInZhbHVlXCI6XCJpbm5lckhUTUxcIjtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLkZbYl07dmFyIGM9YXJndW1lbnRzWzBdO1wiaW5uZXJIVE1MXCI9PT1iP2EuYS5mYyh0aGlzLkYsYyk6dGhpcy5GW2JdPWN9O3ZhciBiPWEuYS5nLlooKStcIl9cIjthLkMuRi5wcm90b3R5cGUuZGF0YT1mdW5jdGlvbihjKXtpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gYS5hLmcuZ2V0KHRoaXMuRixiK2MpO2EuYS5nLnNldCh0aGlzLkYsYitjLGFyZ3VtZW50c1sxXSl9O3ZhciBjPWEuYS5nLlooKTthLkMuRi5wcm90b3R5cGUubm9kZXM9ZnVuY3Rpb24oKXt2YXIgYj10aGlzLkY7XG5pZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgZT1hLmEuZy5nZXQoYixjKXx8e30sZj1lLmxifHwoMz09PXRoaXMuYWI/Yi5jb250ZW50OjQ9PT10aGlzLmFiP2I6bik7aWYoIWZ8fGUuamQpe3ZhciBnPXRoaXMudGV4dCgpO2cmJmchPT1lLmJiJiYoZj1hLmEuTWQoZyxiLm93bmVyRG9jdW1lbnQpLGEuYS5nLnNldChiLGMse2xiOmYsYmI6ZyxqZDohMH0pKX1yZXR1cm4gZn1lPWFyZ3VtZW50c1swXTt0aGlzLmFiIT09biYmdGhpcy50ZXh0KFwiXCIpO2EuYS5nLnNldChiLGMse2xiOmV9KX07YS5DLmlhPWZ1bmN0aW9uKGEpe3RoaXMuRj1hfTthLkMuaWEucHJvdG90eXBlPW5ldyBhLkMuRjthLkMuaWEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuQy5pYTthLkMuaWEucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oKXtpZigwPT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgYj1hLmEuZy5nZXQodGhpcy5GLGMpfHx7fTtiLmJiPT09biYmYi5sYiYmKGIuYmI9Yi5sYi5pbm5lckhUTUwpO3JldHVybiBiLmJifWEuYS5nLnNldCh0aGlzLkYsXG5jLHtiYjphcmd1bWVudHNbMF19KX07YS5iKFwidGVtcGxhdGVTb3VyY2VzXCIsYS5DKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuZG9tRWxlbWVudFwiLGEuQy5GKTthLmIoXCJ0ZW1wbGF0ZVNvdXJjZXMuYW5vbnltb3VzVGVtcGxhdGVcIixhLkMuaWEpfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGIsYyxkKXt2YXIgZTtmb3IoYz1hLmgubmV4dFNpYmxpbmcoYyk7YiYmKGU9YikhPT1jOyliPWEuaC5uZXh0U2libGluZyhlKSxkKGUsYil9ZnVuY3Rpb24gYyhjLGQpe2lmKGMubGVuZ3RoKXt2YXIgZT1jWzBdLGY9Y1tjLmxlbmd0aC0xXSxnPWUucGFyZW50Tm9kZSxoPWEuZ2EuaW5zdGFuY2UsbT1oLnByZXByb2Nlc3NOb2RlO2lmKG0pe2IoZSxmLGZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wcmV2aW91c1NpYmxpbmcsZD1tLmNhbGwoaCxhKTtkJiYoYT09PWUmJihlPWRbMF18fGIpLGE9PT1mJiYoZj1kW2QubGVuZ3RoLTFdfHxjKSl9KTtjLmxlbmd0aD0wO2lmKCFlKXJldHVybjtlPT09Zj9jLnB1c2goZSk6XG4oYy5wdXNoKGUsZiksYS5hLlVhKGMsZykpfWIoZSxmLGZ1bmN0aW9uKGIpezEhPT1iLm5vZGVUeXBlJiY4IT09Yi5ub2RlVHlwZXx8YS52YyhkLGIpfSk7YihlLGYsZnVuY3Rpb24oYil7MSE9PWIubm9kZVR5cGUmJjghPT1iLm5vZGVUeXBlfHxhLmFhLmNkKGIsW2RdKX0pO2EuYS5VYShjLGcpfX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLm5vZGVUeXBlP2E6MDxhLmxlbmd0aD9hWzBdOm51bGx9ZnVuY3Rpb24gZShiLGUsZixoLG0pe209bXx8e307dmFyIG49KGImJmQoYil8fGZ8fHt9KS5vd25lckRvY3VtZW50LEI9bS50ZW1wbGF0ZUVuZ2luZXx8ZzthLmtjLnhkKGYsQixuKTtmPUIucmVuZGVyVGVtcGxhdGUoZixoLG0sbik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGYubGVuZ3RofHwwPGYubGVuZ3RoJiZcIm51bWJlclwiIT10eXBlb2YgZlswXS5ub2RlVHlwZSl0aHJvdyBFcnJvcihcIlRlbXBsYXRlIGVuZ2luZSBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBET00gbm9kZXNcIik7bj0hMTtzd2l0Y2goZSl7Y2FzZSBcInJlcGxhY2VDaGlsZHJlblwiOmEuaC52YShiLFxuZik7bj0hMDticmVhaztjYXNlIFwicmVwbGFjZU5vZGVcIjphLmEuWGMoYixmKTtuPSEwO2JyZWFrO2Nhc2UgXCJpZ25vcmVUYXJnZXROb2RlXCI6YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gcmVuZGVyTW9kZTogXCIrZSk7fW4mJihjKGYsaCksbS5hZnRlclJlbmRlciYmYS51LkcobS5hZnRlclJlbmRlcixudWxsLFtmLGhbbS5hc3x8XCIkZGF0YVwiXV0pLFwicmVwbGFjZUNoaWxkcmVuXCI9PWUmJmEuaS5tYShiLGEuaS5IKSk7cmV0dXJuIGZ9ZnVuY3Rpb24gZihiLGMsZCl7cmV0dXJuIGEuTyhiKT9iKCk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGI/YihjLGQpOmJ9dmFyIGc7YS5nYz1mdW5jdGlvbihiKXtpZihiIT1uJiYhKGIgaW5zdGFuY2VvZiBhLmNhKSl0aHJvdyBFcnJvcihcInRlbXBsYXRlRW5naW5lIG11c3QgaW5oZXJpdCBmcm9tIGtvLnRlbXBsYXRlRW5naW5lXCIpO2c9Yn07YS5kYz1mdW5jdGlvbihiLGMsaCxtLHQpe2g9aHx8e307aWYoKGgudGVtcGxhdGVFbmdpbmV8fGcpPT1cbm4pdGhyb3cgRXJyb3IoXCJTZXQgYSB0ZW1wbGF0ZSBlbmdpbmUgYmVmb3JlIGNhbGxpbmcgcmVuZGVyVGVtcGxhdGVcIik7dD10fHxcInJlcGxhY2VDaGlsZHJlblwiO2lmKG0pe3ZhciB4PWQobSk7cmV0dXJuIGEuJChmdW5jdGlvbigpe3ZhciBnPWMmJmMgaW5zdGFuY2VvZiBhLmZhP2M6bmV3IGEuZmEoYyxudWxsLG51bGwsbnVsbCx7ZXhwb3J0RGVwZW5kZW5jaWVzOiEwfSksbj1mKGIsZy4kZGF0YSxnKSxnPWUobSx0LG4sZyxoKTtcInJlcGxhY2VOb2RlXCI9PXQmJihtPWcseD1kKG0pKX0sbnVsbCx7U2E6ZnVuY3Rpb24oKXtyZXR1cm4heHx8IWEuYS5TYih4KX0sbDp4JiZcInJlcGxhY2VOb2RlXCI9PXQ/eC5wYXJlbnROb2RlOnh9KX1yZXR1cm4gYS5hYS5YYihmdW5jdGlvbihkKXthLmRjKGIsYyxoLGQsXCJyZXBsYWNlTm9kZVwiKX0pfTthLlFkPWZ1bmN0aW9uKGIsZCxnLGgsbSl7ZnVuY3Rpb24geChiLGMpe2EudS5HKGEuYS5lYyxudWxsLFtoLGIsdSxnLHIsY10pO2EuaS5tYShoLGEuaS5IKX1cbmZ1bmN0aW9uIHIoYSxiKXtjKGIsdik7Zy5hZnRlclJlbmRlciYmZy5hZnRlclJlbmRlcihiLGEpO3Y9bnVsbH1mdW5jdGlvbiB1KGEsYyl7dj1tLmNyZWF0ZUNoaWxkQ29udGV4dChhLHthczp6LG5vQ2hpbGRDb250ZXh0Omcubm9DaGlsZENvbnRleHQsZXh0ZW5kOmZ1bmN0aW9uKGEpe2EuJGluZGV4PWM7eiYmKGFbeitcIkluZGV4XCJdPWMpfX0pO3ZhciBkPWYoYixhLHYpO3JldHVybiBlKGgsXCJpZ25vcmVUYXJnZXROb2RlXCIsZCx2LGcpfXZhciB2LHo9Zy5hcyx3PSExPT09Zy5pbmNsdWRlRGVzdHJveWVkfHxhLm9wdGlvbnMuZm9yZWFjaEhpZGVzRGVzdHJveWVkJiYhZy5pbmNsdWRlRGVzdHJveWVkO2lmKHd8fGcuYmVmb3JlUmVtb3ZlfHwhYS5QYyhkKSlyZXR1cm4gYS4kKGZ1bmN0aW9uKCl7dmFyIGI9YS5hLmYoZCl8fFtdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBiLmxlbmd0aCYmKGI9W2JdKTt3JiYoYj1hLmEuamIoYixmdW5jdGlvbihiKXtyZXR1cm4gYj09PW58fG51bGw9PT1ifHxcbiFhLmEuZihiLl9kZXN0cm95KX0pKTt4KGIpfSxudWxsLHtsOmh9KTt4KGQudigpKTt2YXIgQT1kLnN1YnNjcmliZShmdW5jdGlvbihhKXt4KGQoKSxhKX0sbnVsbCxcImFycmF5Q2hhbmdlXCIpO0EubChoKTtyZXR1cm4gQX07dmFyIGg9YS5hLmcuWigpLG09YS5hLmcuWigpO2EuYy50ZW1wbGF0ZT17aW5pdDpmdW5jdGlvbihiLGMpe3ZhciBkPWEuYS5mKGMoKSk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGR8fFwibmFtZVwiaW4gZClhLmguRWEoYik7ZWxzZSBpZihcIm5vZGVzXCJpbiBkKXtkPWQubm9kZXN8fFtdO2lmKGEuTyhkKSl0aHJvdyBFcnJvcignVGhlIFwibm9kZXNcIiBvcHRpb24gbXVzdCBiZSBhIHBsYWluLCBub24tb2JzZXJ2YWJsZSBhcnJheS4nKTt2YXIgZT1kWzBdJiZkWzBdLnBhcmVudE5vZGU7ZSYmYS5hLmcuZ2V0KGUsbSl8fChlPWEuYS5ZYihkKSxhLmEuZy5zZXQoZSxtLCEwKSk7KG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpfWVsc2UgaWYoZD1hLmguY2hpbGROb2RlcyhiKSwwPGQubGVuZ3RoKWU9XG5hLmEuWWIoZCksKG5ldyBhLkMuaWEoYikpLm5vZGVzKGUpO2Vsc2UgdGhyb3cgRXJyb3IoXCJBbm9ueW1vdXMgdGVtcGxhdGUgZGVmaW5lZCwgYnV0IG5vIHRlbXBsYXRlIGNvbnRlbnQgd2FzIHByb3ZpZGVkXCIpO3JldHVybntjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5nczohMH19LHVwZGF0ZTpmdW5jdGlvbihiLGMsZCxlLGYpe3ZhciBnPWMoKTtjPWEuYS5mKGcpO2Q9ITA7ZT1udWxsO1wic3RyaW5nXCI9PXR5cGVvZiBjP2M9e306KGc9XCJuYW1lXCJpbiBjP2MubmFtZTpiLFwiaWZcImluIGMmJihkPWEuYS5mKGNbXCJpZlwiXSkpLGQmJlwiaWZub3RcImluIGMmJihkPSFhLmEuZihjLmlmbm90KSksZCYmIWcmJihkPSExKSk7XCJmb3JlYWNoXCJpbiBjP2U9YS5RZChnLGQmJmMuZm9yZWFjaHx8W10sYyxiLGYpOmQ/KGQ9ZixcImRhdGFcImluIGMmJihkPWYuY3JlYXRlQ2hpbGRDb250ZXh0KGMuZGF0YSx7YXM6Yy5hcyxub0NoaWxkQ29udGV4dDpjLm5vQ2hpbGRDb250ZXh0LGV4cG9ydERlcGVuZGVuY2llczohMH0pKSxcbmU9YS5kYyhnLGQsYyxiKSk6YS5oLkVhKGIpO2Y9ZTsoYz1hLmEuZy5nZXQoYixoKSkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGMucyYmYy5zKCk7YS5hLmcuc2V0KGIsaCwhZnx8Zi5qYSYmIWYuamEoKT9uOmYpfX07YS5tLlJhLnRlbXBsYXRlPWZ1bmN0aW9uKGIpe2I9YS5tLmFjKGIpO3JldHVybiAxPT1iLmxlbmd0aCYmYlswXS51bmtub3dufHxhLm0uSWQoYixcIm5hbWVcIik/bnVsbDpcIlRoaXMgdGVtcGxhdGUgZW5naW5lIGRvZXMgbm90IHN1cHBvcnQgYW5vbnltb3VzIHRlbXBsYXRlcyBuZXN0ZWQgd2l0aGluIGl0cyB0ZW1wbGF0ZXNcIn07YS5oLmVhLnRlbXBsYXRlPSEwfSkoKTthLmIoXCJzZXRUZW1wbGF0ZUVuZ2luZVwiLGEuZ2MpO2EuYihcInJlbmRlclRlbXBsYXRlXCIsYS5kYyk7YS5hLktjPWZ1bmN0aW9uKGEsYyxkKXtpZihhLmxlbmd0aCYmYy5sZW5ndGgpe3ZhciBlLGYsZyxoLG07Zm9yKGU9Zj0wOyghZHx8ZTxkKSYmKGg9YVtmXSk7KytmKXtmb3IoZz0wO209Y1tnXTsrK2cpaWYoaC52YWx1ZT09PVxubS52YWx1ZSl7aC5tb3ZlZD1tLmluZGV4O20ubW92ZWQ9aC5pbmRleDtjLnNwbGljZShnLDEpO2U9Zz0wO2JyZWFrfWUrPWd9fX07YS5hLlBiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihiLGQsZSxmLGcpe3ZhciBoPU1hdGgubWluLG09TWF0aC5tYXgsaz1bXSxsLHA9Yi5sZW5ndGgscSxuPWQubGVuZ3RoLHI9bi1wfHwxLHY9cCtuKzEsdSx3LHo7Zm9yKGw9MDtsPD1wO2wrKylmb3Iodz11LGsucHVzaCh1PVtdKSx6PWgobixsK3IpLHE9bSgwLGwtMSk7cTw9ejtxKyspdVtxXT1xP2w/YltsLTFdPT09ZFtxLTFdP3dbcS0xXTpoKHdbcV18fHYsdVtxLTFdfHx2KSsxOnErMTpsKzE7aD1bXTttPVtdO3I9W107bD1wO2ZvcihxPW47bHx8cTspbj1rW2xdW3FdLTEscSYmbj09PWtbbF1bcS0xXT9tLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czplLHZhbHVlOmRbLS1xXSxpbmRleDpxfSk6bCYmbj09PWtbbC0xXVtxXT9yLnB1c2goaFtoLmxlbmd0aF09e3N0YXR1czpmLHZhbHVlOmJbLS1sXSxpbmRleDpsfSk6XG4oLS1xLC0tbCxnLnNwYXJzZXx8aC5wdXNoKHtzdGF0dXM6XCJyZXRhaW5lZFwiLHZhbHVlOmRbcV19KSk7YS5hLktjKHIsbSwhZy5kb250TGltaXRNb3ZlcyYmMTAqcCk7cmV0dXJuIGgucmV2ZXJzZSgpfXJldHVybiBmdW5jdGlvbihhLGQsZSl7ZT1cImJvb2xlYW5cIj09PXR5cGVvZiBlP3tkb250TGltaXRNb3ZlczplfTplfHx7fTthPWF8fFtdO2Q9ZHx8W107cmV0dXJuIGEubGVuZ3RoPGQubGVuZ3RoP2IoYSxkLFwiYWRkZWRcIixcImRlbGV0ZWRcIixlKTpiKGQsYSxcImRlbGV0ZWRcIixcImFkZGVkXCIsZSl9fSgpO2EuYihcInV0aWxzLmNvbXBhcmVBcnJheXNcIixhLmEuUGIpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYixjLGQsaCxtKXt2YXIgaz1bXSxsPWEuJChmdW5jdGlvbigpe3ZhciBsPWMoZCxtLGEuYS5VYShrLGIpKXx8W107MDxrLmxlbmd0aCYmKGEuYS5YYyhrLGwpLGgmJmEudS5HKGgsbnVsbCxbZCxsLG1dKSk7ay5sZW5ndGg9MDthLmEuTmIoayxsKX0sbnVsbCx7bDpiLFNhOmZ1bmN0aW9uKCl7cmV0dXJuIWEuYS5rZChrKX19KTtcbnJldHVybntZOmssJDpsLmphKCk/bDpufX12YXIgYz1hLmEuZy5aKCksZD1hLmEuZy5aKCk7YS5hLmVjPWZ1bmN0aW9uKGUsZixnLGgsbSxrKXtmdW5jdGlvbiBsKGIpe3k9e0FhOmIscGI6YS50YSh3KyspfTt2LnB1c2goeSk7cnx8Ri5wdXNoKHkpfWZ1bmN0aW9uIHAoYil7eT10W2JdO3chPT15LnBiLnYoKSYmRC5wdXNoKHkpO3kucGIodysrKTthLmEuVWEoeS5ZLGUpO3YucHVzaCh5KX1mdW5jdGlvbiBxKGIsYyl7aWYoYilmb3IodmFyIGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYS5hLkQoY1tkXS5ZLGZ1bmN0aW9uKGEpe2IoYSxkLGNbZF0uQWEpfSl9Zj1mfHxbXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgZi5sZW5ndGgmJihmPVtmXSk7aD1ofHx7fTt2YXIgdD1hLmEuZy5nZXQoZSxjKSxyPSF0LHY9W10sdT0wLHc9MCx6PVtdLEE9W10sQz1bXSxEPVtdLEY9W10seSxJPTA7aWYocilhLmEuRChmLGwpO2Vsc2V7aWYoIWt8fHQmJnQuX2NvdW50V2FpdGluZ0ZvclJlbW92ZSl7dmFyIEU9XG5hLmEuTWIodCxmdW5jdGlvbihhKXtyZXR1cm4gYS5BYX0pO2s9YS5hLlBiKEUsZix7ZG9udExpbWl0TW92ZXM6aC5kb250TGltaXRNb3ZlcyxzcGFyc2U6ITB9KX1mb3IodmFyIEU9MCxHLEgsSztHPWtbRV07RSsrKXN3aXRjaChIPUcubW92ZWQsSz1HLmluZGV4LEcuc3RhdHVzKXtjYXNlIFwiZGVsZXRlZFwiOmZvcig7dTxLOylwKHUrKyk7SD09PW4mJih5PXRbdV0seS4kJiYoeS4kLnMoKSx5LiQ9biksYS5hLlVhKHkuWSxlKS5sZW5ndGgmJihoLmJlZm9yZVJlbW92ZSYmKHYucHVzaCh5KSxJKysseS5BYT09PWQ/eT1udWxsOkMucHVzaCh5KSkseSYmei5wdXNoLmFwcGx5KHoseS5ZKSkpO3UrKzticmVhaztjYXNlIFwiYWRkZWRcIjpmb3IoO3c8SzspcCh1KyspO0ghPT1uPyhBLnB1c2godi5sZW5ndGgpLHAoSCkpOmwoRy52YWx1ZSl9Zm9yKDt3PGYubGVuZ3RoOylwKHUrKyk7di5fY291bnRXYWl0aW5nRm9yUmVtb3ZlPUl9YS5hLmcuc2V0KGUsYyx2KTtxKGguYmVmb3JlTW92ZSxEKTthLmEuRCh6LFxuaC5iZWZvcmVSZW1vdmU/YS5vYTphLnJlbW92ZU5vZGUpO3ZhciBNLE8sUDt0cnl7UD1lLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH1jYXRjaChOKXt9aWYoQS5sZW5ndGgpZm9yKDsoRT1BLnNoaWZ0KCkpIT1uOyl7eT12W0VdO2ZvcihNPW47RTspaWYoKE89dlstLUVdLlkpJiZPLmxlbmd0aCl7TT1PW08ubGVuZ3RoLTFdO2JyZWFrfWZvcihmPTA7dT15LllbZl07TT11LGYrKylhLmguV2IoZSx1LE0pfWZvcihFPTA7eT12W0VdO0UrKyl7eS5ZfHxhLmEuZXh0ZW5kKHksYihlLGcseS5BYSxtLHkucGIpKTtmb3IoZj0wO3U9eS5ZW2ZdO009dSxmKyspYS5oLldiKGUsdSxNKTsheS5FZCYmbSYmKG0oeS5BYSx5LlkseS5wYikseS5FZD0hMCxNPXkuWVt5LlkubGVuZ3RoLTFdKX1QJiZlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9UCYmUC5mb2N1cygpO3EoaC5iZWZvcmVSZW1vdmUsQyk7Zm9yKEU9MDtFPEMubGVuZ3RoOysrRSlDW0VdLkFhPWQ7cShoLmFmdGVyTW92ZSxEKTtcbnEoaC5hZnRlckFkZCxGKX19KSgpO2EuYihcInV0aWxzLnNldERvbU5vZGVDaGlsZHJlbkZyb21BcnJheU1hcHBpbmdcIixhLmEuZWMpO2EuYmE9ZnVuY3Rpb24oKXt0aGlzLmFsbG93VGVtcGxhdGVSZXdyaXRpbmc9ITF9O2EuYmEucHJvdG90eXBlPW5ldyBhLmNhO2EuYmEucHJvdG90eXBlLmNvbnN0cnVjdG9yPWEuYmE7YS5iYS5wcm90b3R5cGUucmVuZGVyVGVtcGxhdGVTb3VyY2U9ZnVuY3Rpb24oYixjLGQsZSl7aWYoYz0oOT5hLmEuVz8wOmIubm9kZXMpP2Iubm9kZXMoKTpudWxsKXJldHVybiBhLmEubGEoYy5jbG9uZU5vZGUoITApLmNoaWxkTm9kZXMpO2I9Yi50ZXh0KCk7cmV0dXJuIGEuYS51YShiLGUpfTthLmJhLk1hPW5ldyBhLmJhO2EuZ2MoYS5iYS5NYSk7YS5iKFwibmF0aXZlVGVtcGxhdGVFbmdpbmVcIixhLmJhKTsoZnVuY3Rpb24oKXthLiRhPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5IZD1mdW5jdGlvbigpe2lmKCF2fHwhdi50bXBsKXJldHVybiAwO3RyeXtpZigwPD12LnRtcGwudGFnLnRtcGwub3Blbi50b1N0cmluZygpLmluZGV4T2YoXCJfX1wiKSlyZXR1cm4gMn1jYXRjaChhKXt9cmV0dXJuIDF9KCk7XG50aGlzLnJlbmRlclRlbXBsYXRlU291cmNlPWZ1bmN0aW9uKGIsZSxmLGcpe2c9Z3x8dztmPWZ8fHt9O2lmKDI+YSl0aHJvdyBFcnJvcihcIllvdXIgdmVyc2lvbiBvZiBqUXVlcnkudG1wbCBpcyB0b28gb2xkLiBQbGVhc2UgdXBncmFkZSB0byBqUXVlcnkudG1wbCAxLjAuMHByZSBvciBsYXRlci5cIik7dmFyIGg9Yi5kYXRhKFwicHJlY29tcGlsZWRcIik7aHx8KGg9Yi50ZXh0KCl8fFwiXCIsaD12LnRlbXBsYXRlKG51bGwsXCJ7e2tvX3dpdGggJGl0ZW0ua29CaW5kaW5nQ29udGV4dH19XCIraCtcInt7L2tvX3dpdGh9fVwiKSxiLmRhdGEoXCJwcmVjb21waWxlZFwiLGgpKTtiPVtlLiRkYXRhXTtlPXYuZXh0ZW5kKHtrb0JpbmRpbmdDb250ZXh0OmV9LGYudGVtcGxhdGVPcHRpb25zKTtlPXYudG1wbChoLGIsZSk7ZS5hcHBlbmRUbyhnLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO3YuZnJhZ21lbnRzPXt9O3JldHVybiBlfTt0aGlzLmNyZWF0ZUphdmFTY3JpcHRFdmFsdWF0b3JCbG9jaz1mdW5jdGlvbihhKXtyZXR1cm5cInt7a29fY29kZSAoKGZ1bmN0aW9uKCkgeyByZXR1cm4gXCIrXG5hK1wiIH0pKCkpIH19XCJ9O3RoaXMuYWRkVGVtcGxhdGU9ZnVuY3Rpb24oYSxiKXt3LndyaXRlKFwiPHNjcmlwdCB0eXBlPSd0ZXh0L2h0bWwnIGlkPSdcIithK1wiJz5cIitiK1wiXFx4M2Mvc2NyaXB0PlwiKX07MDxhJiYodi50bXBsLnRhZy5rb19jb2RlPXtvcGVuOlwiX18ucHVzaCgkMSB8fCAnJyk7XCJ9LHYudG1wbC50YWcua29fd2l0aD17b3BlbjpcIndpdGgoJDEpIHtcIixjbG9zZTpcIn0gXCJ9KX07YS4kYS5wcm90b3R5cGU9bmV3IGEuY2E7YS4kYS5wcm90b3R5cGUuY29uc3RydWN0b3I9YS4kYTt2YXIgYj1uZXcgYS4kYTswPGIuSGQmJmEuZ2MoYik7YS5iKFwianF1ZXJ5VG1wbFRlbXBsYXRlRW5naW5lXCIsYS4kYSl9KSgpfSl9KSgpO30pKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHNcbiAqL1xuXG4vKipcbiAqIERlYnVnIGZsYWcuXG4gKi9cbmV4cG9ydCBsZXQgaXNEZWJ1ZzogYm9vbGVhbiA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIHNldERlYnVnKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gIGlzRGVidWcgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBQYWdlIHByb2dyZXNzaW9uIGRpcmVjdGlvbi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VQcm9ncmVzc2lvbiB7XG4gIExUUiA9IFwibHRyXCIsXG4gIFJUTCA9IFwicnRsXCIsXG59XG5cbi8qKlxuICogUmV0dXJuIFBhZ2VQcm9ncmVzc2lvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBzcGVjaWZpZWQgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYWdlUHJvZ3Jlc3Npb25PZihzdHI6IHN0cmluZyk6IFBhZ2VQcm9ncmVzc2lvbiB7XG4gIHN3aXRjaCAoc3RyKSB7XG4gICAgY2FzZSBcImx0clwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5MVFI7XG4gICAgY2FzZSBcInJ0bFwiOlxuICAgICAgcmV0dXJuIFBhZ2VQcm9ncmVzc2lvbi5SVEw7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBQYWdlUHJvZ3Jlc3Npb246ICR7c3RyfWApO1xuICB9XG59XG5cbi8qKlxuICogUGFnZSBzaWRlIChsZWZ0L3JpZ2h0KS5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFBhZ2VTaWRlIHtcbiAgTEVGVCA9IFwibGVmdFwiLFxuICBSSUdIVCA9IFwicmlnaHRcIixcbn1cblxuLyoqXG4gKiBWaWV3ZXIgcmVhZHkgc3RhdGUuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBSZWFkeVN0YXRlIHtcbiAgTE9BRElORyA9IFwibG9hZGluZ1wiLFxuICBJTlRFUkFDVElWRSA9IFwiaW50ZXJhY3RpdmVcIixcbiAgQ09NUExFVEUgPSBcImNvbXBsZXRlXCIsXG59XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnN0YW50cyA9IHtcbiAgUGFnZVByb2dyZXNzaW9uLFxuICBQYWdlU2lkZSxcbiAgUmVhZHlTdGF0ZSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMb2dnaW5nIC0gTG9nZ2luZyB1dGlsaXR5XG4gKi9cblxuLyoqXG4gKiBMb2cgbGV2ZWwuXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBMb2dMZXZlbCB7XG4gIERFQlVHID0gMSxcbiAgSU5GTyxcbiAgV0FSTixcbiAgRVJST1IsXG59XG5cbmV4cG9ydCB0eXBlIEVycm9ySW5mbyA9IHtcbiAgZXJyb3I6IEVycm9yO1xuICBtZXNzYWdlczogYW55W107XG59O1xuXG4vKipcbiAqIENsYXNzIGxvZ2dpbmcgZXJyb3IsIHdhcm5pbmcsIGluZm9ybWF0aW9uIG9yIGRlYnVnIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgY2xhc3MgTG9nZ2VyIHtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnM6IHsgW2tleSBpbiBMb2dMZXZlbF0/OiAoKHAxOiBFcnJvckluZm8pID0+IHZvaWQpW10gfSA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgb3B0X2NvbnNvbGU/OiBDb25zb2xlKSB7fVxuXG4gIHByaXZhdGUgY29uc29sZURlYnVnKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuZGVidWcpIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5kZWJ1ZyguLi5tc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5vcHRfY29uc29sZS5sb2coLi4ubXNnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVJbmZvKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUuaW5mbykge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLmluZm8oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuaW5mbyguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVXYXJuKG1zZzogYW55W10pIHtcbiAgICBpZiAodGhpcy5vcHRfY29uc29sZSkge1xuICAgICAgaWYgKHRoaXMub3B0X2NvbnNvbGUud2Fybikge1xuICAgICAgICB0aGlzLm9wdF9jb25zb2xlLndhcm4oLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybiguLi5tc2cpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNvbnNvbGVFcnJvcihtc2c6IGFueVtdKSB7XG4gICAgaWYgKHRoaXMub3B0X2NvbnNvbGUpIHtcbiAgICAgIGlmICh0aGlzLm9wdF9jb25zb2xlLmVycm9yKSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUuZXJyb3IoLi4ubXNnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3B0X2NvbnNvbGUubG9nKC4uLm1zZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoLi4ubXNnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB0cmlnZ2VyTGlzdGVuZXJzKGxldmVsOiBMb2dMZXZlbCwgYXJnczogRXJyb3JJbmZvKSB7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdO1xuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT4ge1xuICAgICAgICBsaXN0ZW5lcihhcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiBpbnZva2VkIHdoZW4gYSBsb2cgZXZlbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGxldmVsXG4gICAqIG9jY3Vycy5cbiAgICovXG4gIGFkZExpc3RlbmVyKGxldmVsOiBMb2dMZXZlbCwgbGlzdGVuZXI6IChwMTogRXJyb3JJbmZvKSA9PiB2b2lkKSB7XG4gICAgbGV0IGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzW2xldmVsXTtcbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzID0gdGhpcy5saXN0ZW5lcnNbbGV2ZWxdID0gW107XG4gICAgfVxuICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgfVxuXG4gIGRlYnVnKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZURlYnVnKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5ERUJVRywgYXJncyk7XG4gIH1cblxuICBpbmZvKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUluZm8oYnVpbGRNZXNzYWdlQW5kU3RhY2tUcmFjZShhcmdzKSk7XG4gICAgdGhpcy50cmlnZ2VyTGlzdGVuZXJzKExvZ0xldmVsLklORk8sIGFyZ3MpO1xuICB9XG5cbiAgd2FybiguLi52YXJfYXJnczogYW55W10pIHtcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzVG9FcnJvckluZm8oYXJndW1lbnRzKTtcbiAgICB0aGlzLmNvbnNvbGVXYXJuKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5XQVJOLCBhcmdzKTtcbiAgfVxuXG4gIGVycm9yKC4uLnZhcl9hcmdzOiBhbnlbXSkge1xuICAgIGNvbnN0IGFyZ3MgPSBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmd1bWVudHMpO1xuICAgIHRoaXMuY29uc29sZUVycm9yKGJ1aWxkTWVzc2FnZUFuZFN0YWNrVHJhY2UoYXJncykpO1xuICAgIHRoaXMudHJpZ2dlckxpc3RlbmVycyhMb2dMZXZlbC5FUlJPUiwgYXJncyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gYXJnc1xuICovXG5mdW5jdGlvbiBhcmd1bWVudHNUb0Vycm9ySW5mbyhhcmdzOiBJQXJndW1lbnRzKTogRXJyb3JJbmZvIHtcbiAgY29uc3QgYSA9IEFycmF5LmZyb20oYXJncyk7XG4gIGxldCBlOiBFcnJvciA9IG51bGw7XG4gIGlmIChhWzBdIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICBlID0gYS5zaGlmdCgpO1xuICB9XG4gIHJldHVybiB7IGVycm9yOiBlLCBtZXNzYWdlczogYSB9O1xufVxuXG5mdW5jdGlvbiBidWlsZE1lc3NhZ2VBbmRTdGFja1RyYWNlKGFyZ3M6IEVycm9ySW5mbyk6IHN0cmluZ1tdIHtcbiAgY29uc3QgZSA9IGFyZ3MuZXJyb3I7XG4gIGNvbnN0IHN0YWNrID0gZSAmJiAoZVtcImZyYW1lVHJhY2VcIl0gfHwgZVtcInN0YWNrXCJdKTtcbiAgbGV0IG1lc3NhZ2VzID0gW10uY29uY2F0KGFyZ3NbXCJtZXNzYWdlc1wiXSk7XG4gIGlmIChlKSB7XG4gICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtcIlxcblwiXSk7XG4gICAgfVxuICAgIG1lc3NhZ2VzID0gbWVzc2FnZXMuY29uY2F0KFtlW1widG9TdHJpbmdcIl0oKV0pO1xuICAgIGlmIChzdGFjaykge1xuICAgICAgbWVzc2FnZXMgPSBtZXNzYWdlcy5jb25jYXQoW1wiXFxuXCJdKS5jb25jYXQoc3RhY2spO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWVzc2FnZXM7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKCk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQbHVnaW4gLSBQbHVnaW4gbWVjaGFuaXNtXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgeyBMYXlvdXQsIFZ0cmVlIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuLyoqXG4gKiBUeXBlIG9mIGltcGxlbWVudGVkIGhvb2tzLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gSE9PS1Mge1xuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgcHJvcGVydHkgZGVjbGFyYXRpb24gaXMgcGFyc2VkLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge3N0cmluZ30gbmFtZTogUHJvcGVydHkgbmFtZVxuICAgKiAgIHshQ3NzLlZhbH0gdmFsdWU6IFByb3BlcnR5IHZhbHVlXG4gICAqICAge2Jvb2xlYW59IGltcG9ydGFudDogV2hldGhlciAnIWltcG9ydGFudCcgZmxhZyBpcyBwcmVzZW50IG9yIG5vdFxuICAgKiBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmUgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUgd2l0aCB0aGUgc2FtZVxuICAgKiB0eXBlIGFzIHRoZSBhYm92ZS4gVGhlIGRlY2xhcmF0aW9uIGlzIHRoZW4gcmVwbGFjZWQgYnkgdGhlIHJldHVybmVkIHZhbHVlLlxuICAgKlxuICAgKiBOb3RlIHRoYXQgYSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgbm90IGRpcmVjdGx5IHBhc3NlZCB0byB0aGlzIGhvb2suXG4gICAqIEFmdGVyIHRoZSBzaG9ydGhhbmQgZGVjbGFyYXRpb24gaXMgaW50ZXJwcmV0ZWQgYW5kIGJyb2tlbiBpbnRvXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLCB0aGUgaG9vayBpcyBjYWxsZWQgZm9yIGVhY2ggb2YgdGhlXG4gICAqIG5vbi1zaG9ydGhhbmQgZGVjbGFyYXRpb25zLlxuICAgKi9cbiAgU0lNUExFX1BST1BFUlRZID0gXCJTSU1QTEVfUFJPUEVSVFlcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBzaW5nbGUgZG9jdW1lbnQgKGkuZS4gYSBzaW5nbGUgc3BpbmUgaXRlbSkgaGFzIGJlZW4gZmV0Y2hlZCxcbiAgICogYmVmb3JlIHBhcnNpbmcuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIHRoZSBEb2N1bWVudCBvYmplY3QuXG4gICAqL1xuICBQUkVQUk9DRVNTX1NJTkdMRV9ET0NVTUVOVCA9IFwiUFJFUFJPQ0VTU19TSU5HTEVfRE9DVU1FTlRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIGJlZm9yZSBjcmVhdGluZyBhIHRleHQgbm9kZSBmb3IgbW9kaWZ5aW5nIGEgdGV4dCBjb250ZW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICAge1Z0cmVlLk5vZGVDb250ZXh0fSBub2RlQ29udGV4dFxuICAgKiAgIHtzdHJpbmd9IHNvdXJjZVRleHRDb250ZW50XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0byByZXR1cm4gYVxuICAgKiBUYXNrLlJlc3VsdC48c3RyaW5nPi4gVGhlIHRleHQgY29udGVudCBpcyB0aGVuIHJlcGxhY2VkIGJ5IHRoZVxuICAgKiByZXR1cm5lZCB2YWx1ZS5cbiAgICovXG4gIFBSRVBST0NFU1NfVEVYVF9DT05URU5UID0gXCJQUkVQUk9DRVNTX1RFWFRfQ09OVEVOVFwiLFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYmVmb3JlIGNyZWF0aW5nIGEgZWxlbWVudCBmb3IgbW9kaWZ5aW5nIGEgZWxlbWVudCBzdHlsZS5cbiAgICpcbiAgICogVGhlIGhvb2sgaXMgY2FsbGVkIHdpdGggYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKiAgIHtWdHJlZS5Ob2RlQ29udGV4dH0gbm9kZUNvbnRleHRcbiAgICogICB7IU9iamVjdH0gc3R5bGVcbiAgICovXG4gIFBSRVBST0NFU1NfRUxFTUVOVF9TVFlMRSA9IFwiUFJFUFJPQ0VTU19FTEVNRU5UX1NUWUxFXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBiZWZvcmUgZ2V0aW5nIENzc0Nhc2NhZGUucG9seWZpbGxlZEluaGVyaXRlZFByb3BzLlxuICAgKlxuICAgKiBUaGUgaG9vayByZXR1cm4gYSBhcnJheSBvZiBwb2x5ZmlsbGVkIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lLlxuICAgKi9cbiAgUE9MWUZJTExFRF9JTkhFUklURURfUFJPUFMgPSBcIlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgVmlld2VyIGlzIGNvbmZpZ3VyZWQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICogIHtCYXNlLkpTT059IGNvbW1hbmRcbiAgICovXG4gIENPTkZJR1VSQVRJT04gPSBcIkNPTkZJR1VSQVRJT05cIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgdGV4dCBub2RlIGJyZWFrZXJcbiAgICogd2hpY2ggZGV0ZWN0cyBhbiBhY2NlcHRhYmxlIGJyZWFrcG9pbnQgYW5kIGJyZWFrIHRleHQgbm9kZSBhdCB0aGlzIHBvaW50LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqXG4gICAqIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZCB0b1xuICAgKiByZXR1cm4gYW4gaW5zdG5jZSBvZiB7TGF5b3V0LlRleHROb2RlQnJlYWtlcn0gb3IgbnVsbC5cbiAgICovXG4gIFJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVIgPSBcIlJFU09MVkVfVEVYVF9OT0RFX0JSRUFLRVJcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgZm9ybWF0dGluZyBjb250ZXh0LlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAqICAgbm9kZUNvbnRleHQ6IGEgTm9kZUNvbnRleHQgb2JqZWN0XG4gICAqICAgZmlyc3RUaW1lOiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzIG5vZGUgaXMgZW5jb3VudGVyZWRcbiAgICogZm9yIHRoZSBmaXJzdCB0aW1lIG9yIG5vdCBkaXNwbGF5OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdkaXNwbGF5JyB2YWx1ZSBvZiB0aGUgbm9kZSBwb3NpdGlvbjogYW4gQ3NzLklkZW50IHZhbHVlIHJlcHJlc2VudGluZ1xuICAgKiAncG9zaXRpb24nIHZhbHVlIG9mIHRoZSBub2RlIGZsb2F0OiBhbiBDc3MuSWRlbnQgdmFsdWUgcmVwcmVzZW50aW5nXG4gICAqICdmbG9hdCcgdmFsdWUgb2YgdGhlIG5vZGUgaXNSb290OiBhIGJvb2xlYW4gZmxhZyByZXByZXNlbnRpbmcgd2hldGhlciB0aGlzXG4gICAqIG5vZGUgaXMgYSByb290IChvZiBhIGZsb3cpIG9yIG5vdCBGdW5jdGlvbnMgY2FsbGVkIGJ5IHRoaXMgaG9vayBhcmVcbiAgICogZXhwZWN0ZWQgdG8gcmV0dXJuIGEgZm9ybWF0dGluZyBjb250ZXh0IGZvciB0aGUgTm9kZUNvbnRleHQuXG4gICAqL1xuICBSRVNPTFZFX0ZPUk1BVFRJTkdfQ09OVEVYVCA9IFwiUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFRcIixcblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gcmVzb2x2aW5nIGEgbGF5b3V0IHByb2Nlc3NvciAoTGF5b3V0UHJvY2Vzc29yKSBmb3JcbiAgICogYSBmb3JtYXR0aW5nIGNvbnRleHQuXG4gICAqXG4gICAqIFRoZSBob29rIGlzIGNhbGxlZCB3aXRoIGEgZm9ybWF0dGluZyBjb250ZXh0XG4gICAqIChWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCkuIEZ1bmN0aW9ucyBjYWxsZWQgYnkgdGhpcyBob29rIGFyZSBleHBlY3RlZFxuICAgKiB0byByZXR1cm4gYSBsYXlvdXQgcHJvY2Vzc29yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIFJFU09MVkVfTEFZT1VUX1BST0NFU1NPUiA9IFwiUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SXCIsXG5cbiAgLyoqXG4gICAqIENhbGxlZCBhZnRlciBsYWlkIG91dCBhIGJsb2NrIGNvbnRlbnRzLlxuICAgKlxuICAgKiBUaGUgaG9vayBpcyBjYWxsZWQgd2l0aCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqICB7VnRyZWUuTm9kZUNvbnRleHR9IG5vZGVDb250ZXh0XG4gICAqICB7QXJyYXkuPFZ0cmVlLk5vZGVDb250ZXh0Pn0gY2hlY2tQb2ludHNcbiAgICogIHtMYXlvdXQuQ29sdW1ufSBjb2x1bW5cbiAgICovXG4gIFBPU1RfTEFZT1VUX0JMT0NLID0gXCJQT1NUX0xBWU9VVF9CTE9DS1wiLFxufVxuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzU2luZ2xlRG9jdW1lbnRIb29rID0gKHAxOiBEb2N1bWVudCkgPT4gYW55O1xuXG5leHBvcnQgdHlwZSBQcmVQcm9jZXNzVGV4dENvbnRlbnRIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBzdHJpbmcsXG4pID0+IFRhc2suUmVzdWx0PHN0cmluZz47XG5cbmV4cG9ydCB0eXBlIFByZVByb2Nlc3NFbGVtZW50U3R5bGVIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4gIHAyOiBvYmplY3QsXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wc0hvb2sgPSAoKSA9PiBzdHJpbmdbXTtcblxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbkhvb2sgPSAoXG4gIHAxOiBCYXNlLkpTT04sXG4pID0+IHtcbiAgbmVlZFJlc2l6ZTogYm9vbGVhbiB8IG51bGwgfCB1bmRlZmluZWQ7XG4gIG5lZWRSZWZyZXNoOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVUZXh0Tm9kZUJyZWFrZXJIb29rID0gKFxuICBwMTogVnRyZWUuTm9kZUNvbnRleHQsXG4pID0+IExheW91dC5UZXh0Tm9kZUJyZWFrZXI7XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVGb3JtYXR0aW5nQ29udGV4dEhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgcDI6IGJvb2xlYW4sXG4gIHAzOiBDc3MuSWRlbnQsXG4gIHA0OiBDc3MuSWRlbnQsXG4gIHA1OiBDc3MuSWRlbnQsXG4gIHA2OiBib29sZWFuLFxuKSA9PiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dDtcblxuZXhwb3J0IHR5cGUgUmVzb2x2ZUxheW91dFByb2Nlc3Nvckhvb2sgPSAoXG4gIHAxOiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbikgPT4gTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvcjtcblxuZXhwb3J0IHR5cGUgUG9zdExheW91dEJsb2NrSG9vayA9IChcbiAgcDE6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBwMjogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgcDM6IExheW91dC5Db2x1bW4sXG4pID0+IHZvaWQ7XG5cbmNvbnN0IGhvb2tzID0ge307XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBhIGhvb2sgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGUgcmVnaXN0ZXJlZCBmdW5jdGlvbiBpcyBjYWxsZWQgYXQgYXBwcm9wcmlhdGUgdGltaW5ncyBieSB0aGUgY29yZSBjb2RlLlxuICogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24gZGVwZW5kIG9uIHRoZSBob29rLlxuICogV2hlbiBtdWx0aXBsZSBmdW5jdGlvbnMgYXJlIHJlZ2lzdGVyZWQsIHRoZXkgYXJlIGNhbGxlZCBieSB0aGUgb3JkZXIgaW4gd2hpY2hcbiAqIHRoZXkgYXJlIHJlZ2lzdGVyZWQuXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBob29rLlxuICogQHBhcmFtIGZuIEZ1bmN0aW9uIHRvIGJlIHJlZ2lzdGVyZWQgdG8gdGhlIGhvb2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3Rlckhvb2sobmFtZTogc3RyaW5nLCBmbjogKC4uLnAxKSA9PiBhbnkpOiB2b2lkIHtcbiAgaWYgKCFIT09LU1tuYW1lXSkge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4obmV3IEVycm9yKGBTa2lwcGluZyB1bmtub3duIHBsdWdpbiBob29rICcke25hbWV9Jy5gKSk7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICAgIGlmICghaG9va3NGb3JOYW1lKSB7XG4gICAgICBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXSA9IFtdO1xuICAgIH1cbiAgICBob29rc0Zvck5hbWUucHVzaChmbik7XG4gIH1cbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBmdW5jdGlvbiBhbHJlYWR5IHJlZ2lzdGVyZWQgdG8gdGhlIHNwZWNpZmllZCBuYW1lLlxuICogTm90ZSB0aGF0IGV2ZW4gaWYgdGhlIHNhbWUgZnVuY3Rpb24gYXJlIHJlZ2lzdGVyZWQgbXVsdGlwbGUgdGltZXMsIHRoaXNcbiAqIG1ldGhvZCByZW1vdmVzIG9ubHkgdGhlIGZpcnN0IG9uZS5cbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGhvb2suXG4gKiBAcGFyYW0gZm4gRnVuY3Rpb24gdG8gYmUgcmVtb3ZlZCBmcm9tIHRoZSBob29rLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSG9vayhuYW1lOiBzdHJpbmcsIGZuOiAoLi4ucDEpID0+IGFueSk6IHZvaWQge1xuICBpZiAoIUhPT0tTW25hbWVdKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihuZXcgRXJyb3IoYElnbm9yaW5nIHVua25vd24gcGx1Z2luIGhvb2sgJyR7bmFtZX0nLmApKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBob29rc0Zvck5hbWUgPSBob29rc1tuYW1lXTtcbiAgICBpZiAoaG9va3NGb3JOYW1lKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGhvb2tzRm9yTmFtZS5pbmRleE9mKGZuKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGhvb2tzRm9yTmFtZS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEdldCBhbGwgaG9va3MgcmVnaXN0ZXJlZCB0byB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGlzIG1ldGhvZCBpcyBmb3IgaW50ZXJuYWwgdXNlIChmcm9tIHRoZSBjb3JlIGNvZGUpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9va3NGb3JOYW1lKG5hbWU6IHN0cmluZyk6ICgoLi4ucDEpID0+IGFueSlbXSB7XG4gIGNvbnN0IGhvb2tzRm9yTmFtZSA9IGhvb2tzW25hbWVdO1xuICByZXR1cm4gaG9va3NGb3JOYW1lIHx8IFtdO1xufVxuXG4vKipcbiAqIFB1YmlsYyBtZW1iZXJzIG9mIHRoZSBidW5kbGVkIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjb25zdCBwbHVnaW4gPSB7XG4gIHJlZ2lzdGVySG9vayxcbiAgcmVtb3ZlSG9vayxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQcm9maWxlIC0gVXRpbGl0eSBmb3IgcHJvZmlsaW5nXG4gKi9cbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIFBlcmZvcm1hbmNlIHByb2ZpbGVyIG1lYXN1cmluZyBleGVjdXRpb24gdGltZSBvZiB0aGUgc2NyaXB0LlxuICovXG5leHBvcnQgY2xhc3MgUHJvZmlsZXIge1xuICB0aW1lc3RhbXBzOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0gfSA9IHt9O1xuICBwcml2YXRlIHJlZ2lzdGVyVGltaW5nOiAocDE6IHN0cmluZywgcDI6IHN0cmluZywgcDM/OiBudW1iZXIpID0+IGFueTtcbiAgcmVnaXN0ZXJTdGFydFRpbWluZzogKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKSA9PiBhbnk7XG4gIHJlZ2lzdGVyRW5kVGltaW5nOiAobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpID0+IGFueTtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGVyZm9ybWFuY2VJbnN0YW5jZTogUGVyZm9ybWFuY2UpIHtcbiAgICB0aGlzLnJlZ2lzdGVyVGltaW5nID0gbm9vcDtcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcInJlZ2lzdGVyU3RhcnRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPSBub29wO1xuICAgIHRoaXNbXCJyZWdpc3RlckVuZFRpbWluZ1wiXSA9IHRoaXMucmVnaXN0ZXJFbmRUaW1pbmcgPSBub29wO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudCwgZXZlbiBpZiBwcm9maWxlIGlzIGRpc2FibGVkLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIGV2ZW50XG4gICAqIEBwYXJhbSB0aW1lc3RhbXAgVXNlZCBhcyB0aGUgYWN0dWFsIHRpbWVzdGFtcCBvZiB0aGUgZXZlbnQgaWYgc3BlY2lmaWVkLFxuICAgKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gICAqL1xuICBmb3JjZVJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwic3RhcnRcIiwgdGltZXN0YW1wKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgZW5kIHRpbWluZyBvZiBzb21lIGV2ZW50LCBldmVuIGlmIHByb2ZpbGUgaXMgZGlzYWJsZWQuXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgZXZlbnRcbiAgICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gICAqICAgICBpbnN0ZWFkIG9mIFwibm93XCJcbiAgICovXG4gIGZvcmNlUmVnaXN0ZXJFbmRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpIHtcbiAgICByZWdpc3RlclRpbWluZy5jYWxsKHRoaXMsIG5hbWUsIFwiZW5kXCIsIHRpbWVzdGFtcCk7XG4gIH1cblxuICAvKipcbiAgICogTG9nIHJlZ2lzdGVyZWQgdGltaW5ncyAoc3RhcnQvZW5kL2R1cmF0aW9uKS5cbiAgICogQWxsIHZhbHVlcyBhcmUgcHJpbnRlZCBpbiBtcyB1bml0LlxuICAgKi9cbiAgcHJpbnRUaW1pbmdzKCkge1xuICAgIGNvbnN0IHRpbWVzdGFtcHMgPSB0aGlzLnRpbWVzdGFtcHM7XG4gICAgbGV0IHN0ID0gXCJcIjtcbiAgICBPYmplY3Qua2V5cyh0aW1lc3RhbXBzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICBjb25zdCBzdGFtcHMgPSB0aW1lc3RhbXBzW25hbWVdO1xuICAgICAgY29uc3QgbCA9IHN0YW1wcy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICBjb25zdCB0ID0gc3RhbXBzW2ldO1xuICAgICAgICBzdCArPSBuYW1lO1xuICAgICAgICBpZiAobCA+IDEpIHtcbiAgICAgICAgICBzdCArPSBgKCR7aX0pYDtcbiAgICAgICAgfVxuICAgICAgICBzdCArPSBgID0+IHN0YXJ0OiAke3RbXCJzdGFydFwiXX0sIGVuZDogJHt0W1wiZW5kXCJdfSwgZHVyYXRpb246ICR7XG4gICAgICAgICAgdFtcImVuZFwiXSAtIHRbXCJzdGFydFwiXVxuICAgICAgICB9XFxuYDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5pbmZvKHN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIHByb2ZpbGluZy5cbiAgICovXG4gIGRpc2FibGUoKSB7XG4gICAgdGhpcy5yZWdpc3RlclRpbWluZyA9IG5vb3A7XG5cbiAgICAvLyBoYWNrIHRvIGV4cG9ydCAobm9uLXByb3RvdHlwZSkgbWV0aG9kc1xuICAgIHRoaXNbXCJyZWdpc3RlclN0YXJ0VGltaW5nXCJdID0gdGhpcy5yZWdpc3RlclN0YXJ0VGltaW5nID0gbm9vcDtcbiAgICB0aGlzW1wicmVnaXN0ZXJFbmRUaW1pbmdcIl0gPSB0aGlzLnJlZ2lzdGVyRW5kVGltaW5nID0gbm9vcDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgcHJvZmlsaW5nLlxuICAgKi9cbiAgZW5hYmxlKCkge1xuICAgIHRoaXMucmVnaXN0ZXJUaW1pbmcgPSByZWdpc3RlclRpbWluZztcblxuICAgIC8vIGhhY2sgdG8gZXhwb3J0IChub24tcHJvdG90eXBlKSBtZXRob2RzXG4gICAgdGhpc1tcbiAgICAgIFwicmVnaXN0ZXJTdGFydFRpbWluZ1wiXG4gICAgXSA9IHRoaXMucmVnaXN0ZXJTdGFydFRpbWluZyA9IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gICAgdGhpc1tcInJlZ2lzdGVyRW5kVGltaW5nXCJdID0gdGhpcy5yZWdpc3RlckVuZFRpbWluZyA9IHJlZ2lzdGVyRW5kVGltaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgcHJvZmlsaW5nIGlzIGVuYWJsZWQgb3Igbm90LlxuICAgKi9cbiAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyU3RhcnRUaW1pbmcgPT09IHJlZ2lzdGVyU3RhcnRUaW1pbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gbm9vcCgpOiB2b2lkIHt9XG5cbi8qKlxuICogUmVnaXN0ZXJzIHN0YXJ0L2VuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHN0YXJ0RW5kIEVpdGhlciBvZiBcInN0YXJ0XCIgb3IgXCJlbmRcIlxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyVGltaW5nKFxuICBuYW1lOiBzdHJpbmcsXG4gIHN0YXJ0RW5kOiBzdHJpbmcsXG4gIHRpbWVzdGFtcD86IG51bWJlcixcbik6IHZvaWQge1xuICBpZiAoIXRpbWVzdGFtcCkge1xuICAgIHRpbWVzdGFtcCA9IHRoaXMucGVyZm9ybWFuY2VJbnN0YW5jZS5ub3coKTtcbiAgfVxuICBsZXQgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXTtcbiAgaWYgKCF0aW1lc3RhbXBzKSB7XG4gICAgdGltZXN0YW1wcyA9IHRoaXMudGltZXN0YW1wc1tuYW1lXSA9IFtdO1xuICB9XG4gIGxldCB0O1xuICBjb25zdCBsID0gdGltZXN0YW1wcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSBsIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICB0ID0gdGltZXN0YW1wc1tpXTtcbiAgICBpZiAodCAmJiAhdFtzdGFydEVuZF0pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0ID0gbnVsbDtcbiAgfVxuICBpZiAoIXQpIHtcbiAgICB0ID0ge307XG4gICAgdGltZXN0YW1wcy5wdXNoKHQpO1xuICB9XG4gIHRbc3RhcnRFbmRdID0gdGltZXN0YW1wO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBzdGFydCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyU3RhcnRUaW1pbmcobmFtZTogc3RyaW5nLCB0aW1lc3RhbXA/OiBudW1iZXIpOiB2b2lkIHtcbiAgdGhpcy5yZWdpc3RlclRpbWluZyhuYW1lLCBcInN0YXJ0XCIsIHRpbWVzdGFtcCk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGVuZCB0aW1pbmcgb2Ygc29tZSBldmVudC5cbiAqIEB0aGlzIHtQcm9maWxlLlByb2ZpbGVyfVxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiBldmVudFxuICogQHBhcmFtIHRpbWVzdGFtcCBVc2VkIGFzIHRoZSBhY3R1YWwgdGltZXN0YW1wIG9mIHRoZSBldmVudCBpZiBzcGVjaWZpZWQsXG4gKiAgICAgaW5zdGVhZCBvZiBcIm5vd1wiXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRW5kVGltaW5nKG5hbWU6IHN0cmluZywgdGltZXN0YW1wPzogbnVtYmVyKTogdm9pZCB7XG4gIHRoaXMucmVnaXN0ZXJUaW1pbmcobmFtZSwgXCJlbmRcIiwgdGltZXN0YW1wKTtcbn1cbmNvbnN0IGZhbGxiYWNrUGVyZm9ybWFuY2VJbnN0YW5jZSA9IHsgbm93OiBEYXRlLm5vdyB9IGFzIFBlcmZvcm1hbmNlO1xuY29uc3QgcGVyZm9ybWFuY2VJbnN0YW5jZSA9IHdpbmRvdyAmJiB3aW5kb3cucGVyZm9ybWFuY2U7XG5leHBvcnQgY29uc3QgcHJvZmlsZXIgPSBuZXcgUHJvZmlsZXIoXG4gIHBlcmZvcm1hbmNlSW5zdGFuY2UgfHwgZmFsbGJhY2tQZXJmb3JtYW5jZUluc3RhbmNlLFxuKTtcbnByb2ZpbGVyLmZvcmNlUmVnaXN0ZXJTdGFydFRpbWluZyhcImxvYWRfdml2bGlvc3R5bGVcIik7XG5cbi8qKlxuICogUHViaWxjIG1lbWJlcnMgb2YgdGhlIGJ1bmRsZWQgbGlicmFyeS5cbiAqL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGUgPSB7XG4gIHByb2ZpbGVyOiB7XG4gICAgcmVnaXN0ZXJTdGFydFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJTdGFydFRpbWluZyxcbiAgICByZWdpc3RlckVuZFRpbWluZzogcHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcsXG4gICAgcHJpbnRUaW1pbmdzOiBwcm9maWxlci5wcmludFRpbWluZ3MsXG4gICAgZGlzYWJsZTogcHJvZmlsZXIuZGlzYWJsZSxcbiAgICBlbmFibGU6IHByb2ZpbGVyLmVuYWJsZSxcbiAgfSxcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEJhc2UgLSBDb21tb24gdXRpbGl0aWVzLlxuICovXG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuXG5leHBvcnQgbGV0IGVtcHR5T2JqID0ge307XG5cbmV4cG9ydCB0eXBlIEpTT04gPSBhbnk7XG5cbmV4cG9ydCBmdW5jdGlvbiBqc29uVG9TdHJpbmcoanNvbjogSlNPTik6IHN0cmluZyB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvSlNPTihzdHI6IHN0cmluZyk6IEpTT04ge1xuICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jXSopLyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMV07XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwRnJhZ21lbnRBbmRRdWVyeSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jP10qKS8pO1xuICBpZiAocikge1xuICAgIHJldHVybiByWzFdO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbi8qKlxuICogQmFzZSBVUkwgcmVsYXRpdmUgdG8gd2hpY2ggVVJMcyBvZiByZXNvdXJjZXMgYXJlIHJlc29sdmVkLlxuICovXG5leHBvcnQgbGV0IGJhc2VVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbmV4cG9ydCBmdW5jdGlvbiBzZXRCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgYmFzZVVSTCA9IHZhbHVlO1xufVxuXG4vKipcbiAqIEJhc2UgVVJMIHJlbGF0aXZlIHRvIHdoaWNoIFVSTHMgb2YgcmVzb3VyY2VzIHN1Y2ggYXMgdmFsaWRhdGlvbi50eHQgYW5kXG4gKiB1c2VyLWFnZW50LmNzcyBhcmUgcmVzb2x2ZWQuXG4gKi9cbmV4cG9ydCBsZXQgcmVzb3VyY2VCYXNlVVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG5leHBvcnQgZnVuY3Rpb24gc2V0UmVzb3VyY2VCYXNlVVJMKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgcmVzb3VyY2VCYXNlVVJMID0gdmFsdWU7XG59XG5cbi8qKlxuICogQHBhcmFtIHJlbFVSTCByZWxhdGl2ZSBVUkxcbiAqIEBwYXJhbSBiYXNlVVJMIGJhc2UgKGFic29sdXRlKSBVUkxcbiAqIEByZXR1cm4gcmVzb2x2ZWQgKGFic29sdXRlKSBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVUkwocmVsVVJMOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICgvXmRhdGE6L2kudGVzdChiYXNlVVJMKSkge1xuICAgIHJldHVybiByZWxVUkwgfHwgYmFzZVVSTDtcbiAgfVxuICBpZiAoIWJhc2VVUkwgfHwgcmVsVVJMLm1hdGNoKC9eXFx3ezIsfTovKSkge1xuICAgIGlmIChyZWxVUkwudG9Mb3dlckNhc2UoKS5tYXRjaChcIl5qYXZhc2NyaXB0OlwiKSkge1xuICAgICAgcmV0dXJuIFwiI1wiO1xuICAgIH1cbiAgICBpZiAocmVsVVJMLm1hdGNoKC9eXFx3ezIsfTpcXC9cXC9bXlxcL10rJC8pKSB7XG4gICAgICByZWxVUkwgPSBgJHtyZWxVUkx9L2A7XG4gICAgfVxuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGJhc2VVUkwubWF0Y2goL15cXHd7Mix9OlxcL1xcL1teXFwvXSskLykpIHtcbiAgICBiYXNlVVJMID0gYCR7YmFzZVVSTH0vYDtcbiAgfVxuICBsZXQgcjogc3RyaW5nW107XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC9cXC8vKSkge1xuICAgIHIgPSBiYXNlVVJMLm1hdGNoKC9eKFxcd3syLH06KVxcL1xcLy8pO1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gclsxXSArIHJlbFVSTDtcbiAgICB9XG4gICAgcmV0dXJuIHJlbFVSTDtcbiAgfVxuICBpZiAocmVsVVJMLm1hdGNoKC9eXFwvLykpIHtcbiAgICByID0gYmFzZVVSTC5tYXRjaCgvXihcXHd7Mix9OlxcL1xcL1teXFwvXSspXFwvLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByWzFdICsgcmVsVVJMO1xuICAgIH1cbiAgICByZXR1cm4gcmVsVVJMO1xuICB9XG4gIGlmIChyZWxVUkwubWF0Y2goL15cXC4oXFwvfCQpLykpIHtcbiAgICByZWxVUkwgPSByZWxVUkwuc3Vic3RyKDIpOyAvLyAnLi9mb28nID0+ICdmb28nXG4gIH1cbiAgYmFzZVVSTCA9IHN0cmlwRnJhZ21lbnRBbmRRdWVyeShiYXNlVVJMKTtcbiAgaWYgKHJlbFVSTC5tYXRjaCgvXiMvKSkge1xuICAgIHJldHVybiBiYXNlVVJMICsgcmVsVVJMO1xuICB9XG4gIGxldCBpID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi9cIik7XG4gIGlmIChpIDwgMCkge1xuICAgIHJldHVybiByZWxVUkw7XG4gIH1cbiAgaWYgKGkgPCBiYXNlVVJMLmxlbmd0aCAtIDEpIHtcbiAgICBjb25zdCBqID0gYmFzZVVSTC5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGogPCBpKSB7XG4gICAgICAvLyBBc3N1bWUgdGhlIGxhc3QgcGFydCB3aXRob3V0ICcuJyB0byBiZSBhIGRpcmVjdG9yeSBuYW1lLlxuICAgICAgaWYgKHJlbFVSTCA9PSBcIlwiKSB7XG4gICAgICAgIHJldHVybiBiYXNlVVJMO1xuICAgICAgfVxuICAgICAgYmFzZVVSTCArPSBcIi9cIjtcbiAgICAgIGkgPSBiYXNlVVJMLmxlbmd0aCAtIDE7XG4gICAgfVxuICB9XG4gIGxldCB1cmwgPSBiYXNlVVJMLnN1YnN0cigwLCBpICsgMSkgKyByZWxVUkw7XG4gIGxldCB1cmxPcHRpb24gPSBcIlwiO1xuICByID0gdXJsLm1hdGNoKC9eKFtePyNdKikoWz8jXS4qKSQvKTtcbiAgaWYgKHIpIHtcbiAgICB1cmwgPSByWzFdO1xuICAgIHVybE9wdGlvbiA9IHJbMl07XG4gIH1cblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGkgPSB1cmwuaW5kZXhPZihcIi8uLi9cIik7XG4gICAgaWYgKGkgPD0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNvbnN0IGogPSB1cmwubGFzdEluZGV4T2YoXCIvXCIsIGkgLSAxKTtcbiAgICBpZiAoaiA8PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdXJsID0gdXJsLnN1YnN0cigwLCBqKSArIHVybC5zdWJzdHIoaSArIDMpO1xuICB9XG4gIHJldHVybiB1cmwucmVwbGFjZSgvXFwvKFxcLlxcLykrL2csIFwiL1wiKSArIHVybE9wdGlvbjtcbn1cblxuLyoqXG4gKiBAcmV0dXJuIGNvbnZlcnRlZCBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTcGVjaWFsVVJMKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gIGlmIChcbiAgICAociA9IC9eKGh0dHBzPzopXFwvXFwvZ2l0aHViXFwuY29tXFwvKFteL10rXFwvW14vXSspXFwvKGJsb2JcXC98dHJlZVxcL3xyYXdcXC8pPyguKikkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgR2l0SHViIFVSTCB0byBHaXRIdWIgcmF3IFVSTFxuICAgIHVybCA9IGAke3JbMV19Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tLyR7clsyXX0vJHtyWzNdID8gXCJcIiA6IFwibWFzdGVyL1wifSR7XG4gICAgICByWzRdXG4gICAgfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL3d3d1xcLmFvem9yYVxcLmdyXFwuanBcXC8oY2FyZHNcXC9bXi9dK1xcL2ZpbGVzXFwvW14vLl0rXFwuaHRtbCkkLy5leGVjKFxuICAgICAgdXJsLFxuICAgICkpXG4gICkge1xuICAgIC8vIENvbnZlcnQgQW96b3JhYnVua28gKFgpSFRNTCBVUkwgdG8gR2l0SHViIHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9hb3pvcmFidW5rby9hb3pvcmFidW5rby9tYXN0ZXIvJHtyWzJdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcL2dpc3RcXC5naXRodWJcXC5jb21cXC8oW14vXStcXC9cXHcrKShcXC98JCkocmF3KFxcL3wkKSk/KC4qKSQvLmV4ZWMoXG4gICAgICB1cmwsXG4gICAgKSlcbiAgKSB7XG4gICAgLy8gQ29udmVydCBHaXN0IFVSTCB0byBHaXN0IHJhdyBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vZ2lzdC5naXRodWJ1c2VyY29udGVudC5jb20vJHtyWzJdfS9yYXcvJHtyWzZdfWA7XG4gIH0gZWxzZSBpZiAoXG4gICAgKHIgPSAvXihodHRwcz86KVxcL1xcLyg/OlteLy5dK1xcLik/anNiaW5cXC5jb21cXC8oPyEoPzpibG9nfGhlbHApXFxiKShcXHcrKSgoXFwvXFxkKyk/KS4qJC8uZXhlYyhcbiAgICAgIHVybCxcbiAgICApKVxuICApIHtcbiAgICAvLyBDb252ZXJ0IEpTIEJpbiBVUkwgdG8gSlMgQmluIG91dHB1dCBVUkxcbiAgICB1cmwgPSBgJHtyWzFdfS8vb3V0cHV0LmpzYmluLmNvbS8ke3JbMl19JHtyWzNdfS9gO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRVUkxUcmFuc2Zvcm1lciB7XG4gIHRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50OiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICB0cmFuc2Zvcm1VUkwodXJsOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZztcblxuICByZXN0b3JlVVJMKGVuY29kZWQ6IHN0cmluZyk6IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIFZhcmlvdXMgbmFtZXNwYWNlcy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIE5TIHtcbiAgRkIyID0gXCJodHRwOi8vd3d3LmdyaWJ1c2VyLnJ1L3htbC9maWN0aW9uYm9vay8yLjBcIixcbiAgZXB1YiA9IFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA3L29wc1wiLFxuICBFViA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMS94bWwtZXZlbnRzXCIsXG4gIE1BVEhNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLFxuICBYTUwgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICBYSFRNTCA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuICBYTElOSyA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICBTSEFET1cgPSBcImh0dHA6Ly93d3cucHlyb3h5LmNvbS9ucy9zaGFkb3dcIixcbiAgU1ZHID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICBEQyA9IFwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIixcbiAgTkNYID0gXCJodHRwOi8vd3d3LmRhaXN5Lm9yZy96Mzk4Ni8yMDA1L25jeC9cIixcbiAgU1NFID0gXCJodHRwOi8vZXhhbXBsZS5jb20vc3NlXCIsIC8vIHRlbXBvcmFyeSBkdW1teSBuYW1lc3BhY2Vcbn1cblxuLyoqXG4gKiBAcGFyYW0gbmFtZSBwYXJhbWV0ZXIgbmFtZVxuICogQHBhcmFtIG9wdF91cmwgVVJMOyB3aW5kb3cubG9jYXRpb24uaHJlZiBpcyB1c2VkIGlmIG5vdCBwcm92aWRlZFxuICogQHJldHVybiBwYXJhbWV0ZXIgdmFsdWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFVSTFBhcmFtKG5hbWU6IHN0cmluZywgb3B0X3VybD86IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICBjb25zdCByZyA9IG5ldyBSZWdFeHAoYCMoLiomKT8ke2VzY2FwZVJlZ0V4cChuYW1lKX09KFteIyZdKilgKTtcbiAgY29uc3QgdXJsID0gb3B0X3VybCB8fCB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgY29uc3QgciA9IHVybC5tYXRjaChyZyk7XG4gIGlmIChyKSB7XG4gICAgcmV0dXJuIHJbMl07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogQHBhcmFtIG5hbWUgcGFyYW1ldGVyIG5hbWVcbiAqIEBwYXJhbSB2YWx1ZSBwYXJhbWV0ZXIgdmFsdWVcbiAqIEByZXR1cm4gbmV3IHVybFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VVJMUGFyYW0odXJsOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHJnID0gbmV3IFJlZ0V4cChgIyguKiYpPyR7ZXNjYXBlUmVnRXhwKG5hbWUpfT0oW14jJl0qKWApO1xuICBjb25zdCByID0gdXJsLm1hdGNoKHJnKTtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBsZW5ndGggPSByWzJdLmxlbmd0aDtcbiAgICBjb25zdCBpbmRleCA9IHIuaW5kZXggKyByWzBdLmxlbmd0aCAtIGxlbmd0aDtcbiAgICByZXR1cm4gdXJsLnN1YnN0cigwLCBpbmRleCkgKyB2YWx1ZSArIHVybC5zdWJzdHIoaW5kZXggKyBsZW5ndGgpO1xuICB9XG4gIGlmICghdXJsLm1hdGNoKC8jLykpIHtcbiAgICByZXR1cm4gYCR7dXJsfSMke25hbWV9PSR7dmFsdWV9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYCR7dXJsfSYke25hbWV9PSR7dmFsdWV9YDtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm4gP3N0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gYXNTdHJpbmcodjogYW55KTogYW55IHtcbiAgaWYgKHYgPT0gbnVsbCkge1xuICAgIHJldHVybiB2O1xuICB9XG4gIHJldHVybiB2LnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGFyYWJsZSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIC0xIHdoZW4gdGhpcyBsZXNzIHRoZW4gb3RoZXIsIDAgd2hlbiB0aGlzIGVxdWFscyBvdGhlclxuICAgKi9cbiAgY29tcGFyZShvdGhlcjogQ29tcGFyYWJsZSk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBBIHByaW9yaXR5IHF1ZXVlLlxuICovXG5leHBvcnQgY2xhc3MgUHJpb3JpdHlRdWV1ZSB7XG4gIHF1ZXVlOiBDb21wYXJhYmxlW10gPSBbbnVsbF07XG5cbiAgbGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIGFkZChpdGVtOiBDb21wYXJhYmxlKTogdm9pZCB7XG4gICAgbGV0IGluZGV4ID0gdGhpcy5xdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUgKGluZGV4ID4gMSkge1xuICAgICAgY29uc3QgcGFyZW50SW5kZXggPSBNYXRoLmZsb29yKGluZGV4IC8gMik7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnF1ZXVlW3BhcmVudEluZGV4XTtcbiAgICAgIGlmIChwYXJlbnQuY29tcGFyZShpdGVtKSA+IDApIHtcbiAgICAgICAgdGhpcy5xdWV1ZVtpbmRleF0gPSBpdGVtO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHBhcmVudDtcbiAgICAgIGluZGV4ID0gcGFyZW50SW5kZXg7XG4gICAgfVxuICAgIHRoaXMucXVldWVbMV0gPSBpdGVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaGlnaGVzdCBwcmlvcml0eSBDb21wYXJhYmxlLlxuICAgKi9cbiAgcGVlaygpOiBDb21wYXJhYmxlIHtcbiAgICByZXR1cm4gdGhpcy5xdWV1ZVsxXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGhpZ2hlc3QtcHJpb3JpdHkgaXRlbSBmcm9tIHRoZSBxdWV1ZS5cbiAgICogQHJldHVybiByZW1vdmVkIGl0ZW0uXG4gICAqL1xuICByZW1vdmUoKTogQ29tcGFyYWJsZSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5xdWV1ZVsxXSBhcyBDb21wYXJhYmxlO1xuICAgIGNvbnN0IGN1cnIgPSB0aGlzLnF1ZXVlLnBvcCgpIGFzIENvbXBhcmFibGU7XG4gICAgY29uc3Qgc2l6ZSA9IHRoaXMucXVldWUubGVuZ3RoO1xuICAgIGlmIChzaXplID4gMSkge1xuICAgICAgbGV0IGluZGV4ID0gMTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGxldCBjaGlsZEluZGV4ID0gaW5kZXggKiAyO1xuICAgICAgICBpZiAoY2hpbGRJbmRleCA+PSBzaXplKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVldWVbY2hpbGRJbmRleF0uY29tcGFyZShjdXJyKSA+IDApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjaGlsZEluZGV4ICsgMSA8IHNpemUgJiZcbiAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoXG4gICAgICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleF0gYXMgQ29tcGFyYWJsZSxcbiAgICAgICAgICAgICkgPiAwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjaGlsZEluZGV4Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIGNoaWxkSW5kZXggKyAxIDwgc2l6ZSAmJlxuICAgICAgICAgIHRoaXMucXVldWVbY2hpbGRJbmRleCArIDFdLmNvbXBhcmUoY3VycikgPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIGNoaWxkSW5kZXgrKztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlW2luZGV4XSA9IHRoaXMucXVldWVbY2hpbGRJbmRleF07XG4gICAgICAgIGluZGV4ID0gY2hpbGRJbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMucXVldWVbaW5kZXhdID0gY3VycjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBwcmVmaXggUHJlZml4IChjb250YWluaW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGh5cGhlbnMpXG4gKiBAcGFyYW0gY3NzUHJvcE5hbWUgQ1NTIHByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm4gSmF2YVNjcmlwdCBwcm9wZXJ0eSBuYW1lXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NUb0pTUHJvcChwcmVmaXg6IHN0cmluZywgY3NzUHJvcE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmIChwcmVmaXgpIHtcbiAgICBjc3NQcm9wTmFtZSA9IGAtJHtjc3NQcm9wTmFtZX1gO1xuICAgIHByZWZpeCA9IHByZWZpeC5yZXBsYWNlKC8tL2csIFwiXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwibW96XCIpIHtcbiAgICAgIHByZWZpeCA9IFwiTW96XCI7XG4gICAgfVxuICB9XG4gIHJldHVybiAoXG4gICAgcHJlZml4ICtcbiAgICBjc3NQcm9wTmFtZS5yZXBsYWNlKC8tW2Etel0vZywgKHR4dCkgPT4gdHh0LnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpKVxuICApO1xufVxuXG5leHBvcnQgY29uc3Qga25vd25QcmVmaXhlcyA9IFtcIlwiLCBcIi13ZWJraXQtXCIsIFwiLW1vei1cIiwgXCItbXMtXCIsIFwiLW8tXCIsIFwiLWVwdWItXCJdO1xuXG5leHBvcnQgY29uc3QgcHJvcE5hbWVNYXAgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcbiAgcHJlZml4OiBzdHJpbmcsXG4gIHByb3A6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICAvLyBTcGVjaWFsIGNhc2VcbiAgaWYgKHByb3AgPT09IFwid3JpdGluZy1tb2RlXCIpIHtcbiAgICBjb25zdCBwcm9iZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlmIChwcmVmaXggPT09IFwiLW1zLVwiKSB7XG4gICAgICBwcm9iZS5zdHlsZS5zZXRQcm9wZXJ0eShwcmVmaXggKyBwcm9wLCBcInRiLXJsXCIpO1xuICAgICAgcmV0dXJuIHByb2JlLnN0eWxlW1wid3JpdGluZy1tb2RlXCJdID09PSBcInRiLXJsXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2JlLnN0eWxlLnNldFByb3BlcnR5KHByZWZpeCArIHByb3AsIFwidmVydGljYWwtcmxcIik7XG4gICAgICByZXR1cm4gcHJvYmUuc3R5bGVbcHJlZml4ICsgcHJvcF0gPT09IFwidmVydGljYWwtcmxcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3R5bGUgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG4gICAgcmV0dXJuIHR5cGVvZiBzdHlsZVtjc3NUb0pTUHJvcChwcmVmaXgsIHByb3ApXSA9PT0gXCJzdHJpbmdcIjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3A6IHN0cmluZyk6IHN0cmluZ1tdIHwgbnVsbCB7XG4gIGxldCBwcmVmaXhlZCA9IHByb3BOYW1lTWFwW3Byb3BdO1xuICBpZiAocHJlZml4ZWQgfHwgcHJlZml4ZWQgPT09IG51bGwpIHtcbiAgICAvLyBudWxsIG1lYW5zIHRoZSBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdGhlIHByb3BlcnR5XG4gICAgcmV0dXJuIHByZWZpeGVkO1xuICB9XG4gIHN3aXRjaCAocHJvcCkge1xuICAgIGNhc2UgXCJ0ZXh0LWNvbWJpbmUtdXByaWdodFwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBTYWZhcmlcbiAgICAgIGlmIChcbiAgICAgICAgY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLXdlYmtpdC1cIiwgXCJ0ZXh0LWNvbWJpbmVcIikgJiZcbiAgICAgICAgIWNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIlwiLCBcInRleHQtY29tYmluZS11cHJpZ2h0XCIpXG4gICAgICApIHtcbiAgICAgICAgcHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LXRleHQtY29tYmluZVwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtdGV4dC1jb21iaW5lXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIndyaXRpbmctbW9kZVwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy1tcy13cml0aW5nLW1vZGUnIHRvICd3cml0aW5nLW1vZGUnXG4gICAgICBpZiAoY2hlY2tJZlByb3BlcnR5U3VwcG9ydGVkKFwiLW1zLVwiLCBcIndyaXRpbmctbW9kZVwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi1tcy13cml0aW5nLW1vZGVcIl07XG4gICAgICAgIHJldHVybiBbXCItbXMtd3JpdGluZy1tb2RlXCJdO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImZpbHRlclwiOlxuICAgICAgLy8gU3BlY2lhbCBjYXNlOiBwcmVmZXIgJy13ZWJraXQtZmlsdGVyJyB0byAnZmlsdGVyJ1xuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiZmlsdGVyXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1maWx0ZXJcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LWZpbHRlclwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJjbGlwLXBhdGhcIjpcbiAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgY2hyb21lLlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwiY2xpcC1wYXRoXCIpKSB7XG4gICAgICAgIHJldHVybiAocHJvcE5hbWVNYXBbcHJvcF0gPSBbXCItd2Via2l0LWNsaXAtcGF0aFwiLCBcImNsaXAtcGF0aFwiXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibWFyZ2luLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLXN0YXJ0XCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1tYXJnaW4tc3RhcnRcIl07XG4gICAgICAgIHJldHVybiBbXCItd2Via2l0LW1hcmdpbi1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJtYXJnaW4taW5saW5lLWVuZFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwibWFyZ2luLWVuZFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtbWFyZ2luLWVuZFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1zdGFydFwiOlxuICAgICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChcIi13ZWJraXQtXCIsIFwicGFkZGluZy1zdGFydFwiKSkge1xuICAgICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1zdGFydFwiXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJwYWRkaW5nLWlubGluZS1lbmRcIjpcbiAgICAgIGlmIChjaGVja0lmUHJvcGVydHlTdXBwb3J0ZWQoXCItd2Via2l0LVwiLCBcInBhZGRpbmctZW5kXCIpKSB7XG4gICAgICAgIHByb3BOYW1lTWFwW3Byb3BdID0gW1wiLXdlYmtpdC1wYWRkaW5nLWVuZFwiXTtcbiAgICAgICAgcmV0dXJuIFtcIi13ZWJraXQtcGFkZGluZy1lbmRcIl07XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgfVxuICBmb3IgKGNvbnN0IHByZWZpeCBvZiBrbm93blByZWZpeGVzKSB7XG4gICAgaWYgKGNoZWNrSWZQcm9wZXJ0eVN1cHBvcnRlZChwcmVmaXgsIHByb3ApKSB7XG4gICAgICBwcmVmaXhlZCA9IHByZWZpeCArIHByb3A7XG4gICAgICBwcm9wTmFtZU1hcFtwcm9wXSA9IFtwcmVmaXhlZF07XG4gICAgICByZXR1cm4gW3ByZWZpeGVkXTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG4gIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJQcm9wZXJ0eSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyOiBcIiwgcHJvcCk7XG4gIHByb3BOYW1lTWFwW3Byb3BdID0gbnVsbDtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICB2YWx1ZTogc3RyaW5nLFxuKTogdm9pZCB7XG4gIHRyeSB7XG4gICAgY29uc3QgcHJlZml4ZWRQcm9wZXJ0eU5hbWVzID0gZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzKHByb3ApO1xuICAgIGlmICghcHJlZml4ZWRQcm9wZXJ0eU5hbWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByZWZpeGVkUHJvcGVydHlOYW1lcy5mb3JFYWNoKChwcmVmaXhlZCkgPT4ge1xuICAgICAgaWYgKHByZWZpeGVkID09PSBcIi1tcy13cml0aW5nLW1vZGVcIikge1xuICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImhvcml6b250YWwtdGJcIjpcbiAgICAgICAgICAgIHZhbHVlID0gXCJsci10YlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInZlcnRpY2FsLXJsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwidGItcmxcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbC1sclwiOlxuICAgICAgICAgICAgdmFsdWUgPSBcInRiLWxyXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChwcmVmaXhlZCA9PT0gXCItd2Via2l0LXRleHQtY29tYmluZVwiKSB7XG4gICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiYWxsXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwiaG9yaXpvbnRhbFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbGVtICYmIChlbGVtIGFzIEhUTUxFbGVtZW50KS5zdHlsZSkge1xuICAgICAgICAoZWxlbSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc2V0UHJvcGVydHkocHJlZml4ZWQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDU1NQcm9wZXJ0eShcbiAgZWxlbTogRWxlbWVudCxcbiAgcHJvcDogc3RyaW5nLFxuICBvcHRfdmFsdWU/OiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICB0cnkge1xuICAgIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBwcm9wTmFtZU1hcFtwcm9wXTtcbiAgICByZXR1cm4gKGVsZW0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoXG4gICAgICBwcm9wZXJ0eU5hbWVzID8gcHJvcGVydHlOYW1lc1swXSA6IHByb3AsXG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyKSB7fVxuICByZXR1cm4gb3B0X3ZhbHVlIHx8IFwiXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRMYW5nQXR0cmlidXRlKGVsZW1lbnQ6IEVsZW1lbnQpOiBzdHJpbmcge1xuICBsZXQgbGFuZyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoTlMuWE1MLCBcImxhbmdcIik7XG4gIGlmICghbGFuZyAmJiBlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBOUy5YSFRNTCkge1xuICAgIGxhbmcgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImxhbmdcIik7XG4gIH1cbiAgcmV0dXJuIGxhbmc7XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdCdWZmZXIge1xuICBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuXG4gIGFwcGVuZChzdHI6IHN0cmluZyk6IFN0cmluZ0J1ZmZlciB7XG4gICAgdGhpcy5saXN0LnB1c2goc3RyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMubGlzdCA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBzdHIgPSB0aGlzLmxpc3Quam9pbihcIlwiKTtcbiAgICB0aGlzLmxpc3QgPSBbc3RyXTtcbiAgICByZXR1cm4gc3RyO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgLy8gbm90IGNhbGxlZCBmb3Igc3Vycm9nYXRlIHBhaXJzLCBubyBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZW1cbiAgcmV0dXJuIGBcXFxcJHtzdHIuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNil9IGA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDU1NJZGVudChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gbmFtZS5yZXBsYWNlKC9bXi1fYS16QS1aMC05XFx1MDA4MC1cXHVGRkZGXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZUNTU1N0cihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcdTAwMDAtXFx1MDAxRlwiXFxcXF0vZywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsaWdodFVSTEVuY29kZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xccysmPz0jXFx1MDA3Ri1cXHVGRkZGXSsvZywgZW5jb2RlVVJJQ29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTGV0dGVyKGNoOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhY2gubWF0Y2goXG4gICAgL15bYS16QS1aXFx1MDA5RVxcdTAwOUZcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyNEZcXHUwMzdCLVxcdTAzN0RcXHUwMzg2XFx1MDM4OC1cXHUwNDgyXFx1MDQ4QS1cXHUwNTI3XSQvLFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlQ2hhclRvSGV4KHN0cjogc3RyaW5nLCBwcmVmaXg/OiBzdHJpbmcpOiBzdHJpbmcge1xuICBwcmVmaXggPSB0eXBlb2YgcHJlZml4ID09PSBcInN0cmluZ1wiID8gcHJlZml4IDogXCJcXFxcdVwiO1xuICByZXR1cm4gcHJlZml4ICsgKDY1NTM2IHwgc3RyLmNoYXJDb2RlQXQoMCkpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVOYW1lU3RyVG9IZXgoc3RyOiBzdHJpbmcsIHByZWZpeD86IHN0cmluZyk6IHN0cmluZyB7XG4gIGZ1bmN0aW9uIGVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiBlc2NhcGVDaGFyVG9IZXgocywgcHJlZml4KTtcbiAgfVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL1teLWEtekEtWjAtOV9dL2csIGVzY2FwZUNoYXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVzY2FwZU5hbWVTdHJUb0hleChzdHIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGVDaGFyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcbiAgaWYgKHN0ci5pbmRleE9mKHByZWZpeCkgPT09IDApIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChzdHIuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpLCAxNikpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlU3RyRnJvbUhleChzdHI6IHN0cmluZywgcHJlZml4Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgcHJlZml4ID0gdHlwZW9mIHByZWZpeCA9PT0gXCJzdHJpbmdcIiA/IHByZWZpeCA6IFwiXFxcXHVcIjtcblxuICBmdW5jdGlvbiB1bmVzY2FwZUNoYXIocykge1xuICAgIHJldHVybiB1bmVzY2FwZUNoYXJGcm9tSGV4KHMsIHByZWZpeCk7XG4gIH1cbiAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChgJHtlc2NhcGVSZWdFeHAocHJlZml4KX1bMC05YS1mQS1GXXs0fWAsIFwiZ1wiKTtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4cCwgdW5lc2NhcGVDaGFyKTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiBnb29kIGlzIGRlZmluZWQgZm9yIGludHMgZnJvbSAwIHRvIGhpZ2gtMS4gSXQgaXMgc3VjaCB0aGF0IGZvclxuICogZWFjaCBpIGJldHdlZW4gMSBhbmQgaGlnaC0xICFnb29kKGktMSkgfHwgZ29vZChpKSBpcyB0cnVlLiBJbiBvdGhlciB3b3JkcyxcbiAqIGl0IGdvZXMgbGlrZSBmYWxzZSAuLi4gZmFsc2UgdHJ1ZSAuLi4gdHJ1ZS5cbiAqIEZpbmQgaSBzdWNoIHRoYXQgKGkgPT0gMCB8fCAhZ29vZChpLTEpKSAmJiAoaSA9PSBoIHx8IGdvb2QoaSkpXG4gKiBJbiBvdGhlciB3b3JkcywgZ29vZChpKSBpcyB0aGUgXCJmaXJzdFwiIGdvb2QgPSB0cnVlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoKFxuICBoaWdoOiBudW1iZXIsXG4gIGdvb2Q6IChwMTogbnVtYmVyKSA9PiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgbGV0IGwgPSAwO1xuICBsZXQgaCA9IGhpZ2g7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgQXNzZXJ0cy5hc3NlcnQobCA8PSBoKTtcbiAgICBBc3NlcnRzLmFzc2VydChsID09IDAgfHwgIWdvb2QobCAtIDEpKTtcbiAgICBBc3NlcnRzLmFzc2VydChoID09IGhpZ2ggfHwgZ29vZChoKSk7XG4gICAgaWYgKGwgPT0gaCkge1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIGNvbnN0IG0gPSAobCArIGgpID4+IDE7XG4gICAgaWYgKGdvb2QobSkpIHtcbiAgICAgIGggPSBtO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gbSArIDE7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBudW1iZXJzIGxvdyB0byBoaWdoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBudW1iZXJDb21wYXJlKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIGEgLSBiO1xufVxuXG5leHBvcnQgY29uc3QgYmFzZTY0Q2hhcnMgPVxuICBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEJhc2U2NChzYjogU3RyaW5nQnVmZmVyLCBkYXRhOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gIGNvbnN0IGxlbmd0aDMgPSBNYXRoLmZsb29yKGxlbmd0aCAvIDMpICogMztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGgzOyBpICs9IDMpIHtcbiAgICBjb25zdCBjMSA9IGRhdGEuY2hhckNvZGVBdChpKSAmIDI1NTtcbiAgICBjb25zdCBjMiA9IGRhdGEuY2hhckNvZGVBdChpICsgMSkgJiAyNTU7XG4gICAgY29uc3QgYzMgPSBkYXRhLmNoYXJDb2RlQXQoaSArIDIpICYgMjU1O1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzEgPj4gMikpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMSA8PCA0KSB8IChjMiA+PiA0KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChjMiA8PCAyKSB8IChjMyA+PiA2KSkgJiA2MykpO1xuICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoYzMgJiA2MykpO1xuICB9XG4gIHN3aXRjaCAobGVuZ3RoIC0gbGVuZ3RoMykge1xuICAgIGNhc2UgMToge1xuICAgICAgY29uc3QgcDEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHAxID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKHAxIDw8IDQpICYgNjMpKTtcbiAgICAgIHNiLmFwcGVuZChcIj09XCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgMjoge1xuICAgICAgY29uc3QgcTEgPSBkYXRhLmNoYXJDb2RlQXQobGVuZ3RoMykgJiAyNTU7XG4gICAgICBjb25zdCBxMiA9IGRhdGEuY2hhckNvZGVBdChsZW5ndGgzICsgMSkgJiAyNTU7XG4gICAgICBzYi5hcHBlbmQoYmFzZTY0Q2hhcnMuY2hhckF0KHExID4+IDIpKTtcbiAgICAgIHNiLmFwcGVuZChiYXNlNjRDaGFycy5jaGFyQXQoKChxMSA8PCA0KSB8IChxMiA+PiA0KSkgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKGJhc2U2NENoYXJzLmNoYXJBdCgocTIgPDwgMikgJiA2MykpO1xuICAgICAgc2IuYXBwZW5kKFwiPVwiKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gRmlyc3QgZW5jb3VudGVyZWQgaXRlbSB3aW5zIG9uIGNvbGxpc2lvbi5cbiAqIEVsZW1lbnRzIHdpdGggZW1wdHkgYW5kIG51bGwga2V5cyBhcmUgZHJvcHBlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVCB9IHtcbiAgY29uc3QgbWFwOiB7IFtrZXk6IHN0cmluZ106IFQgfSA9IHt9O1xuICBmb3IgKGNvbnN0IHYgb2YgYXJyKSB7XG4gICAgY29uc3Qgazogc3RyaW5nIHwgbnVsbCA9IGtleSh2KTtcbiAgICBpZiAoayAmJiAhbWFwW2tdKSB7XG4gICAgICBtYXBba10gPSB2O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2Ygc3RyaW5ncyB0byBhbiBvYmplY3Qgd2l0aCB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBzZXQgdG9cbiAqIHRydWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheVRvU2V0KGFycjogc3RyaW5nW10pOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSB7XG4gIGNvbnN0IHNldCA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHNldFthcnJbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuXG4vKipcbiAqIEluZGV4IGFycmF5IHVzaW5nIGtleSBmdW5jdGlvbi4gUmVwZWF0ZWQgaW5kaWNlcyBhcmUgYWxsIGNvbWJpbmVkIGludG9cbiAqIGFycmF5cy4gRWxlbWVudHMgd2l0aCBlbXB0eSBhbmQgbnVsbCBrZXlzIGFyZSBkcm9wcGVkLiBPcmRlcmluZyBvZiB0aGVcbiAqIGVsZW1lbnRzIGluIGFycmF5cyBpcyBwcmVzZXJ2ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdWx0aUluZGV4QXJyYXk8VD4oXG4gIGFycjogVFtdLFxuICBrZXk6IChwMTogVCkgPT4gc3RyaW5nIHwgbnVsbCxcbik6IHsgW2tleTogc3RyaW5nXTogVFtdIH0ge1xuICBjb25zdCBtYXA6IHsgW2tleTogc3RyaW5nXTogVFtdIH0gPSB7fTtcbiAgZm9yIChjb25zdCB2IG9mIGFycikge1xuICAgIGNvbnN0IGsgPSBrZXkodik7XG4gICAgaWYgKGspIHtcbiAgICAgIGlmIChtYXBba10pIHtcbiAgICAgICAgbWFwW2tdLnB1c2godik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXBba10gPSBbdl07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogQXBwbHkgZnVuY3Rpb24gdG8gZWFjaCB2YWx1ZSBvZiB0aGUgb2JqZWN0XG4gKiBAcGFyYW0gZm4gc2Vjb25kIHBhcmFtZXRlciBpcyB0aGUga2V5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBPYmo8UCwgUj4oXG4gIG9iajogeyBba2V5OiBzdHJpbmddOiBQIH0sXG4gIGZuOiAocDE6IFAsIHAyOiBzdHJpbmcpID0+IFIsXG4pOiB7IFtrZXk6IHN0cmluZ106IFIgfSB7XG4gIGNvbnN0IHJlczogeyBba2V5OiBzdHJpbmddOiBSIH0gPSB7fTtcbiAgZm9yIChjb25zdCBuIGluIG9iaikge1xuICAgIHJlc1tuXSA9IGZuKG9ialtuXSwgbik7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1hcFNpemUob2JqOiBvYmplY3QpOiBudW1iZXIge1xuICBsZXQgbiA9IDA7XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIG4rKztcbiAgfVxuICByZXR1cm4gbjtcbn1cblxuZXhwb3J0IHR5cGUgRXZlbnQgPSB7XG4gIHR5cGU6IHN0cmluZztcbiAgdGFyZ2V0PztcbiAgY3VycmVudFRhcmdldD87XG4gIHByZXZlbnREZWZhdWx0PztcbiAgbmV3UGFnZT87XG4gIGFuY2hvckVsZW1lbnQ/O1xuICBocmVmPztcbiAgY29udGVudD87XG59O1xuXG5leHBvcnQgdHlwZSBFdmVudExpc3RlbmVyID0gKHAxOiBFdmVudCkgPT4gdm9pZDtcblxuLyoqXG4gKiBFeHRlbWVseSBzaW1wbGUtbWluZGVkIEV2ZW50VGFyZ2V0IGltcGxlbWVudGF0aW9uLiBDb25zaWRlciB1c2luZ1xuICogZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQgaWYgeW91IGFyZSB1c2luZyBDbG9zdXJlIGxpYnJhcnkuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaW1wbGVFdmVudFRhcmdldCB7XG4gIGxpc3RlbmVyczogeyBba2V5OiBzdHJpbmddOiBFdmVudExpc3RlbmVyW10gfSA9IHt9O1xuXG4gIGRpc3BhdGNoRXZlbnQoZXZ0OiBFdmVudCk6IHZvaWQge1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1tldnQudHlwZV07XG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIGV2dC50YXJnZXQgPSB0aGlzO1xuICAgICAgZXZ0LmN1cnJlbnRUYXJnZXQgPSB0aGlzO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxpc3RbaV0oZXZ0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcixcbiAgICBjYXB0dXJlPzogYm9vbGVhbixcbiAgKTogdm9pZCB7XG4gICAgaWYgKGNhcHR1cmUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbGlzdCA9IHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgIGlmIChsaXN0KSB7XG4gICAgICBsaXN0LnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1t0eXBlXSA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmIChjYXB0dXJlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmxpc3RlbmVyc1t0eXBlXTtcbiAgICBpZiAobGlzdCkge1xuICAgICAgY29uc3QgaW5kZXggPSBsaXN0LmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuZXhwb3J0IHR5cGUgRXZlbnRUYXJnZXQgPSBTaW1wbGVFdmVudFRhcmdldDtcblxuZXhwb3J0IGxldCBoYXNMU2hhcGVGbG9hdEJ1ZzogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZXJlIGlzIGEgYnVnIHdpdGggTC1zaGFwZSBmbG9hdHMgb3ZlcmxhcHBpbmcgdGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrTFNoYXBlRmxvYXRCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc0xTaGFwZUZsb2F0QnVnID09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgIGNvbnN0IGYxID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgZjEuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgIGYxLnN0eWxlLmhlaWdodCA9IFwiMTRweFwiO1xuICAgIGYxLnN0eWxlLmNzc0Zsb2F0ID0gXCJsZWZ0XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGYxKTtcbiAgICBjb25zdCBmMiA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGYyLnN0eWxlLndpZHRoID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuaGVpZ2h0ID0gXCI1MHB4XCI7XG4gICAgZjIuc3R5bGUuY3NzRmxvYXQgPSBcImxlZnRcIjtcbiAgICBmMi5zdHlsZS5jbGVhciA9IFwibGVmdFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmMik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGxlZnRFZGdlID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICBoYXNMU2hhcGVGbG9hdEJ1ZyA9IGxlZnRFZGdlIDwgNDA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNMU2hhcGVGbG9hdEJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNWZXJ0aWNhbEJCb3hCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGVyZSBpcyBhIGJ1ZyB3aXRoIHRoZSBib3VuZGluZyBib3hlcyBvZiB2ZXJ0aWNhbCB0ZXh0IGNoYXJhY3RlcnMuXG4gKiBUaG91Z2ggbWV0aG9kIHVzZWQgdG8gYmUgdXNlZCBjaGVjayBDaHJvbWUgYnVnLCBpdCBzZWVtcyB0aGF0IHRoZSBidWcgaGFzXG4gKiBiZWVuIGFscmVhZHkgZml4ZWQ6XG4gKiAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI5NzgwOFxuICogV2Ugbm93IHVzZSB0aGlzIG1ldGhvZCB0byBjaGVjayBGaXJlZm94IGJ1ZzpcbiAqICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTE1OTMwOVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tWZXJ0aWNhbEJCb3hCdWcoYm9keTogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgaWYgKGhhc1ZlcnRpY2FsQkJveEJ1ZyA9PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBcIjEwMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIHNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgXCJ3cml0aW5nLW1vZGVcIiwgXCJ2ZXJ0aWNhbC1ybFwiKTtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGEgYSBhIGFcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IHJhbmdlID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQodCwgMCk7XG4gICAgcmFuZ2Uuc2V0RW5kKHQsIDEpO1xuICAgIGNvbnN0IGJveCA9IHJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGhhc1ZlcnRpY2FsQkJveEJ1ZyA9IGJveC5yaWdodCAtIGJveC5sZWZ0IDwgMTA7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNWZXJ0aWNhbEJCb3hCdWc7XG59XG5cbmV4cG9ydCBsZXQgaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zyhib2R5OiBIVE1MRWxlbWVudCk6IGJvb2xlYW4ge1xuICBpZiAoaGFzSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgfCBcIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCIzMHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDApO1xuICAgIHJhbmdlLnNldEVuZCh0LCAzKTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNJbmxpbmVCbG9ja0p1c3RpZmljYXRpb25CdWcgPSBib3gucmlnaHQgPCAyNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnKFxuICBib2R5OiBIVE1MRWxlbWVudCxcbik6IGJvb2xlYW4ge1xuICBpZiAoaGFzU29mdFdyYXBPcHBvcnR1bml0eUFmdGVySHlwaGVuQnVnID09PSBudWxsKSB7XG4gICAgY29uc3QgZG9jID0gYm9keS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBjb250YWluZXIuc3R5bGUudG9wID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGVmdCA9IFwiMHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IFwiMTAwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5mb250U2l6ZSA9IFwiMTZweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBcImp1c3RpZnlcIjtcbiAgICBib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcik7XG4gICAgY29uc3QgdCA9IGRvYy5jcmVhdGVUZXh0Tm9kZShcImEgYS1cIik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO1xuICAgIGNvbnN0IGlubGluZUJsb2NrID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xuICAgIGlubGluZUJsb2NrLnN0eWxlLndpZHRoID0gXCI0MHB4XCI7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlubGluZUJsb2NrKTtcbiAgICBjb25zdCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgIHJhbmdlLnNldFN0YXJ0KHQsIDIpO1xuICAgIHJhbmdlLnNldEVuZCh0LCA0KTtcbiAgICBjb25zdCBib3ggPSByYW5nZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWcgPSBib3gucmlnaHQgPCAzNztcbiAgICBib2R5LnJlbW92ZUNoaWxkKGNvbnRhaW5lcik7XG4gIH1cbiAgcmV0dXJuIGhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1Zztcbn1cblxuZXhwb3J0IGxldCBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc6IGJvb2xlYW4gfCBudWxsID0gbnVsbDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnKGJvZHk6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gIGlmIChoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWcgPT09IG51bGwpIHtcbiAgICBjb25zdCBkb2MgPSBib2R5Lm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBcIjQwcHhcIjtcbiAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gXCIxMDBweFwiO1xuICAgIGNvbnRhaW5lci5zdHlsZS5saW5lSGVpZ2h0ID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLmZvbnRTaXplID0gXCIxNnB4XCI7XG4gICAgY29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9IFwianVzdGlmeVwiO1xuICAgIGJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICBjb25zdCB0ID0gZG9jLmNyZWF0ZVRleHROb2RlKFwiYSBhLVwiKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodCk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVFbGVtZW50KFwid2JyXCIpKTtcbiAgICBjb25zdCBpbmxpbmVCbG9jayA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcbiAgICBpbmxpbmVCbG9jay5zdHlsZS53aWR0aCA9IFwiNDBweFwiO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmxpbmVCbG9jayk7XG4gICAgY29uc3QgcmFuZ2UgPSBkb2MuY3JlYXRlUmFuZ2UoKTtcbiAgICByYW5nZS5zZXRTdGFydCh0LCAyKTtcbiAgICByYW5nZS5zZXRFbmQodCwgNCk7XG4gICAgY29uc3QgYm94ID0gcmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaGFzU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnID0gYm94LnJpZ2h0IDwgMzc7XG4gICAgYm9keS5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICB9XG4gIHJldHVybiBoYXNTb2Z0V3JhcE9wcG9ydHVuaXR5QnlXYnJCdWc7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENmaSAtIFN1cHBvcnQgZm9yIEVQVUIgQ2Fub25pY2FsIEZyYWdtZW50IElkZW50aWZpZXJzLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUG9zaXRpb24gPSB7XG4gIG5vZGU6IE5vZGU7XG4gIG9mZnNldDogbnVtYmVyO1xuICBhZnRlcjogYm9vbGVhbjtcbiAgc2lkZUJpYXM6IHN0cmluZyB8IG51bGw7XG4gIHJlZjogRnJhZ21lbnQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SWQobm9kZTogTm9kZSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgY29uc3QgaWR0eHQgPSAobm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBpZiAoaWR0eHQgJiYgaWR0eHQubWF0Y2goL15bLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSskLykpIHtcbiAgICAgIHJldHVybiBpZHR4dDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVDaGFyKGNoOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYF4ke2NofWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXFtcXF1cXChcXCksPTteXS9nLCBlc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuZXNjYXBlQ2hhcihzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIuc3Vic3RyKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXF5bXFxbXFxdXFwoXFwpLD07Xl0vZywgdW5lc2NhcGVDaGFyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlRXh0VmFsKGV4dHN0cjogc3RyaW5nKTogc3RyaW5nIHwgc3RyaW5nW10ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZG8ge1xuICAgIGNvbnN0IHIgPSBleHRzdHIubWF0Y2goL14oXFxeLHxbXixdKSovKTtcbiAgICBjb25zdCBwID0gdW5lc2NhcGUoclswXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCArIDEpO1xuICAgIGlmICghZXh0c3RyICYmICFyZXN1bHQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgcmVzdWx0LnB1c2gocCk7XG4gIH0gd2hpbGUgKGV4dHN0cik7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUV4dChleHRzdHI6IHN0cmluZyk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIHwgc3RyaW5nW10gfSB7XG4gIGNvbnN0IGV4dCA9IHt9O1xuICB3aGlsZSAoZXh0c3RyKSB7XG4gICAgY29uc3QgciA9IGV4dHN0ci5tYXRjaCgvXjsoW147PV0rKT0oKFteO118XFxeOykqKS8pO1xuICAgIGlmICghcikge1xuICAgICAgcmV0dXJuIGV4dDtcbiAgICB9XG4gICAgZXh0W3JbMV1dID0gcGFyc2VFeHRWYWwoclsyXSk7XG4gICAgZXh0c3RyID0gZXh0c3RyLnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gIH1cbiAgcmV0dXJuIGV4dDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdGVwIHtcbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZDtcblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgUmVmU3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBhcHBlbmRUbyhzYjogQmFzZS5TdHJpbmdCdWZmZXIpIHtcbiAgICBzYi5hcHBlbmQoXCIhXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlUbyhwb3M6IFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGlsZFN0ZXAgaW1wbGVtZW50cyBTdGVwIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGluZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKHNiOiBCYXNlLlN0cmluZ0J1ZmZlcik6IHZvaWQge1xuICAgIHNiLmFwcGVuZChcIi9cIik7XG4gICAgc2IuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMuaWQgfHwgdGhpcy5zaWRlQmlhcykge1xuICAgICAgc2IuYXBwZW5kKFwiW1wiKTtcbiAgICAgIGlmICh0aGlzLmlkKSB7XG4gICAgICAgIHNiLmFwcGVuZCh0aGlzLmlkKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAocG9zLm5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0VMRU1FTlRcIik7XG4gICAgfVxuICAgIGNvbnN0IGVsZW0gPSBwb3Mubm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudHMgPSBlbGVtLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoaWxkRWxlbWVudENvdW50ID0gY2hpbGRFbGVtZW50cy5sZW5ndGg7XG4gICAgbGV0IGNoaWxkOiBOb2RlO1xuICAgIGNvbnN0IGNoaWxkSW5kZXggPSBNYXRoLmZsb29yKHRoaXMuaW5kZXggLyAyKSAtIDE7XG4gICAgaWYgKGNoaWxkSW5kZXggPCAwIHx8IGNoaWxkRWxlbWVudENvdW50ID09IDApIHtcbiAgICAgIGNoaWxkID0gZWxlbS5maXJzdENoaWxkO1xuICAgICAgcG9zLm5vZGUgPSBjaGlsZCB8fCBlbGVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZCA9IGNoaWxkRWxlbWVudHNbTWF0aC5taW4oY2hpbGRJbmRleCwgY2hpbGRFbGVtZW50Q291bnQgLSAxKV07XG4gICAgICBpZiAodGhpcy5pbmRleCAmIDEpIHtcbiAgICAgICAgY29uc3QgbmV4dCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAoIW5leHQgfHwgbmV4dC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgcG9zLmFmdGVyID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZCA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHBvcy5ub2RlID0gY2hpbGQ7XG4gICAgfVxuICAgIGlmICh0aGlzLmlkICYmIChwb3MuYWZ0ZXIgfHwgdGhpcy5pZCAhPSBnZXRJZChwb3Mubm9kZSkpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9JRF9NSVNNQVRDSFwiKTtcbiAgICB9XG4gICAgcG9zLnNpZGVCaWFzID0gdGhpcy5zaWRlQmlhcztcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2Zmc2V0U3RlcCBpbXBsZW1lbnRzIFN0ZXAge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRCZWZvcmU6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHRleHRBZnRlcjogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2lkZUJpYXM6IHN0cmluZyB8IG51bGwsXG4gICkge31cblxuICBhcHBseVRvKHBvczogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5vZmZzZXQgPiAwICYmICFwb3MuYWZ0ZXIpIHtcbiAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICAgIGxldCBub2RlID0gcG9zLm5vZGU7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XG4gICAgICAgIGlmIChub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmICgzIDw9IG5vZGVUeXBlICYmIG5vZGVUeXBlIDw9IDUpIHtcbiAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICAgICAgaWYgKG9mZnNldCA8PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCAtPSB0ZXh0TGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICB9XG4gICAgICBwb3Mubm9kZSA9IG5vZGU7XG4gICAgICBwb3Mub2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICBwb3Muc2lkZUJpYXMgPSB0aGlzLnNpZGVCaWFzO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oc2I6IEJhc2UuU3RyaW5nQnVmZmVyKTogdm9pZCB7XG4gICAgc2IuYXBwZW5kKFwiOlwiKTtcbiAgICBzYi5hcHBlbmQodGhpcy5vZmZzZXQudG9TdHJpbmcoKSk7XG4gICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlciB8fCB0aGlzLnNpZGVCaWFzKSB7XG4gICAgICBzYi5hcHBlbmQoXCJbXCIpO1xuICAgICAgaWYgKHRoaXMudGV4dEJlZm9yZSB8fCB0aGlzLnRleHRBZnRlcikge1xuICAgICAgICBpZiAodGhpcy50ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgc2IuYXBwZW5kKGVzY2FwZSh0aGlzLnRleHRCZWZvcmUpKTtcbiAgICAgICAgfVxuICAgICAgICBzYi5hcHBlbmQoXCIsXCIpO1xuICAgICAgICBpZiAodGhpcy50ZXh0QWZ0ZXIpIHtcbiAgICAgICAgICBzYi5hcHBlbmQoZXNjYXBlKHRoaXMudGV4dEFmdGVyKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNpZGVCaWFzKSB7XG4gICAgICAgIHNiLmFwcGVuZChcIjtzPVwiKTtcbiAgICAgICAgc2IuYXBwZW5kKHRoaXMuc2lkZUJpYXMpO1xuICAgICAgfVxuICAgICAgc2IuYXBwZW5kKFwiXVwiKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyYWdtZW50IHtcbiAgc3RlcHM6IFN0ZXBbXSA9IG51bGw7XG5cbiAgZnJvbVN0cmluZyhmcmFnc3RyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgciA9IGZyYWdzdHIubWF0Y2goL14jP2VwdWJjZmlcXCgoLiopXFwpJC8pO1xuICAgIGlmICghcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTk9UX0NGSVwiKTtcbiAgICB9XG4gICAgY29uc3Qgc3RyID0gclsxXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGV4dDoge1xuICAgICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBzdHJpbmdbXTtcbiAgICAgIH07XG4gICAgICBzd2l0Y2ggKHN0ci5jaGFyQXQoaSkpIHtcbiAgICAgICAgY2FzZSBcIi9cIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWyhbLWEtekEtWl8wLTkuXFx1MDA3Ri1cXHVGRkZGXSspKDsoW15cXF1dfFxcXlxcXSkqKT9cXF0pPy8sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DRklfTlVNQkVSX0VYUEVDVEVEXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpICs9IHJbMF0ubGVuZ3RoO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGNvbnN0IGlkID0gclszXTtcbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzRdKTtcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBDaGlsZFN0ZXAoaW5kZXgsIGlkLCBCYXNlLmFzU3RyaW5nKGV4dFtcInNcIl0pKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjpcIjoge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICByID0gc3RyXG4gICAgICAgICAgICAuc3Vic3RyKGkpXG4gICAgICAgICAgICAubWF0Y2goXG4gICAgICAgICAgICAgIC9eKDB8WzEtOV1bMC05XSopKFxcWygoKFteXFxdOyxdfFxcXltcXF07LF0pKikoLCgoW15cXF07LF18XFxeW1xcXTssXSkqKSk/KSg7KFteXV18XFxeXFxdKSopP1xcXSk/LyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9OVU1CRVJfRVhQRUNURURcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkgKz0gclswXS5sZW5ndGg7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyc2VJbnQoclsxXSwgMTApO1xuICAgICAgICAgIGxldCB0ZXh0QmVmb3JlID0gcls0XTtcbiAgICAgICAgICBpZiAodGV4dEJlZm9yZSkge1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHVuZXNjYXBlKHRleHRCZWZvcmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdGV4dEFmdGVyID0gcls3XTtcbiAgICAgICAgICBpZiAodGV4dEFmdGVyKSB7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB1bmVzY2FwZSh0ZXh0QWZ0ZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleHQgPSBwYXJzZUV4dChyWzEwXSk7XG4gICAgICAgICAgc3RlcHMucHVzaChcbiAgICAgICAgICAgIG5ldyBPZmZzZXRTdGVwKFxuICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgIHRleHRCZWZvcmUsXG4gICAgICAgICAgICAgIHRleHRBZnRlcixcbiAgICAgICAgICAgICAgQmFzZS5hc1N0cmluZyhleHRbXCJzXCJdKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiIVwiOlxuICAgICAgICAgIGkrKztcbiAgICAgICAgICBzdGVwcy5wdXNoKG5ldyBSZWZTdGVwKCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiflwiOlxuICAgICAgICBjYXNlIFwiQFwiOlxuXG4gICAgICAgIC8vIFRpbWUvc3BhY2UgdGVybWludXM7IG9ubHkgdXNlZnVsIGZvciBoaWdobGlnaHRzL3NlbGVjdGlvbnMgd2hpY2ggYXJlXG4gICAgICAgIC8vIG5vdCB5ZXQgc3VwcG9ydGVkLCBza2lwIGZvciBub3cuIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIFwiXCI6XG4gICAgICAgICAgdGhpcy5zdGVwcyA9IHN0ZXBzO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NGSV9QQVJTRV9FUlJPUlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZShkb2M6IERvY3VtZW50KTogUG9zaXRpb24ge1xuICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgIG5vZGU6IGRvYy5kb2N1bWVudEVsZW1lbnQsXG4gICAgICBvZmZzZXQ6IDAsXG4gICAgICBhZnRlcjogZmFsc2UsXG4gICAgICBzaWRlQmlhczogbnVsbCxcbiAgICAgIHJlZjogbnVsbCxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zdGVwcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnN0ZXBzW2ldLmFwcGx5VG8ocG9zKSkge1xuICAgICAgICBwb3MucmVmID0gbmV3IEZyYWdtZW50KCk7XG4gICAgICAgIHBvcy5yZWYuc3RlcHMgPSB0aGlzLnN0ZXBzLnNsaWNlKGkgKyAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICB0cmltKHRleHQ6IHN0cmluZywgYWZ0ZXI6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIHJldHVybiB0ZXh0XG4gICAgICAucmVwbGFjZSgvXFxzKy9nLCBcIiBcIilcbiAgICAgIC5tYXRjaChcbiAgICAgICAgYWZ0ZXJcbiAgICAgICAgICA/IC9eWyAtXFx1RDdGRlxcdUUwMDAtXFx1RkZGRl17MCw4fS9cbiAgICAgICAgICA6IC9bIC1cXHVEN0ZGXFx1RTAwMC1cXHVGRkZGXXswLDh9JC8sXG4gICAgICApWzBdXG4gICAgICAucmVwbGFjZSgvXlxccy8sIFwiXCIpXG4gICAgICAucmVwbGFjZSgvXFxzJC8sIFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZnJvbSBhIG5vZGUgYW5kIGFuIG9mZnNldC5cbiAgICovXG4gIHByZXBlbmRQYXRoRnJvbU5vZGUoXG4gICAgbm9kZTogTm9kZSxcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBhZnRlcjogYm9vbGVhbixcbiAgICBzaWRlQmlhczogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICBsZXQgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIGxldCB0ZXh0QmVmb3JlID0gXCJcIjtcbiAgICBsZXQgdGV4dEFmdGVyID0gXCJcIjtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgMzogLy8gVGV4dCBub2Rlc1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgNToge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSBub2RlLnRleHRDb250ZW50O1xuICAgICAgICAgIGNvbnN0IHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgaWYgKCF0ZXh0QmVmb3JlKSB7XG4gICAgICAgICAgICAgIHRleHRCZWZvcmUgPSB0ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID4gdGV4dExlbmd0aCkge1xuICAgICAgICAgICAgICBvZmZzZXQgPSB0ZXh0TGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWZ0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgdGV4dEJlZm9yZSA9IHRleHQuc3Vic3RyKDAsIG9mZnNldCk7XG4gICAgICAgICAgICB0ZXh0QWZ0ZXIgPSB0ZXh0LnN1YnN0cihvZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSA4OiAvLyBDb21tZW50IE5vZGVcbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG9mZnNldCA+IDAgfHwgdGV4dEJlZm9yZSB8fCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIHRleHRCZWZvcmUgPSB0aGlzLnRyaW0odGV4dEJlZm9yZSwgZmFsc2UpO1xuICAgICAgdGV4dEFmdGVyID0gdGhpcy50cmltKHRleHRBZnRlciwgdHJ1ZSk7XG4gICAgICBzdGVwcy5wdXNoKG5ldyBPZmZzZXRTdGVwKG9mZnNldCwgdGV4dEJlZm9yZSwgdGV4dEFmdGVyLCBzaWRlQmlhcykpO1xuICAgICAgc2lkZUJpYXMgPSBudWxsO1xuICAgIH1cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgPT0gOSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlkID0gYWZ0ZXIgPyBudWxsIDogZ2V0SWQobm9kZSk7XG4gICAgICBsZXQgaW5kZXggPSBhZnRlciA/IDEgOiAwO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgfVxuICAgICAgc3RlcHMucHVzaChuZXcgQ2hpbGRTdGVwKGluZGV4LCBpZCwgc2lkZUJpYXMpKTtcbiAgICAgIHNpZGVCaWFzID0gbnVsbDtcbiAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTtcbiAgICAgIGFmdGVyID0gZmFsc2U7XG4gICAgfVxuICAgIHN0ZXBzLnJldmVyc2UoKTtcbiAgICBpZiAodGhpcy5zdGVwcykge1xuICAgICAgc3RlcHMucHVzaChuZXcgUmVmU3RlcCgpKTtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcy5jb25jYXQodGhpcy5zdGVwcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RlcHMgPSBzdGVwcztcbiAgICB9XG4gIH1cblxuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGlmICghdGhpcy5zdGVwcykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgc2IuYXBwZW5kKFwiZXB1YmNmaShcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN0ZXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnN0ZXBzW2ldLmFwcGVuZFRvKHNiKTtcbiAgICB9XG4gICAgc2IuYXBwZW5kKFwiKVwiKTtcbiAgICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBFeHBycyAtIGAtZXB1YngtZXhwcmAgQWRhcHRpdmUgTGF5b3V0IGV4cHJlc3Npb25zLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuZXhwb3J0IHR5cGUgUHJlZmVyZW5jZXMgPSB7XG4gIGZvbnRGYW1pbHk6IHN0cmluZztcbiAgbGluZUhlaWdodDogbnVtYmVyO1xuICBtYXJnaW46IG51bWJlcjtcbiAgaHlwaGVuYXRlOiBib29sZWFuO1xuICBjb2x1bW5XaWR0aDogbnVtYmVyO1xuICBob3Jpem9udGFsOiBib29sZWFuO1xuICBuaWdodE1vZGU6IGJvb2xlYW47XG4gIHNwcmVhZFZpZXc6IGJvb2xlYW47XG4gIHBhZ2VCb3JkZXI6IG51bWJlcjtcbiAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9O1xuICBkZWZhdWx0UGFwZXJTaXplPzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UHJlZmVyZW5jZXMoKTogUHJlZmVyZW5jZXMge1xuICByZXR1cm4ge1xuICAgIGZvbnRGYW1pbHk6IFwic2VyaWZcIixcbiAgICBsaW5lSGVpZ2h0OiAxLjI1LFxuICAgIG1hcmdpbjogOCxcbiAgICBoeXBoZW5hdGU6IGZhbHNlLFxuICAgIGNvbHVtbldpZHRoOiAyNSxcbiAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICBuaWdodE1vZGU6IGZhbHNlLFxuICAgIHNwcmVhZFZpZXc6IGZhbHNlLFxuICAgIHBhZ2VCb3JkZXI6IDEsXG4gICAgZW5hYmxlZE1lZGlhVHlwZXM6IHsgdml2bGlvc3R5bGU6IHRydWUsIHByaW50OiB0cnVlIH0sXG4gICAgZGVmYXVsdFBhcGVyU2l6ZTogdW5kZWZpbmVkLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xvbmVQcmVmZXJlbmNlcyhwcmVmOiBQcmVmZXJlbmNlcyk6IFByZWZlcmVuY2VzIHtcbiAgcmV0dXJuIHtcbiAgICBmb250RmFtaWx5OiBwcmVmLmZvbnRGYW1pbHksXG4gICAgbGluZUhlaWdodDogcHJlZi5saW5lSGVpZ2h0LFxuICAgIG1hcmdpbjogcHJlZi5tYXJnaW4sXG4gICAgaHlwaGVuYXRlOiBwcmVmLmh5cGhlbmF0ZSxcbiAgICBjb2x1bW5XaWR0aDogcHJlZi5jb2x1bW5XaWR0aCxcbiAgICBob3Jpem9udGFsOiBwcmVmLmhvcml6b250YWwsXG4gICAgbmlnaHRNb2RlOiBwcmVmLm5pZ2h0TW9kZSxcbiAgICBzcHJlYWRWaWV3OiBwcmVmLnNwcmVhZFZpZXcsXG4gICAgcGFnZUJvcmRlcjogcHJlZi5wYWdlQm9yZGVyLFxuICAgIGVuYWJsZWRNZWRpYVR5cGVzOiBPYmplY3QuYXNzaWduKHt9LCBwcmVmLmVuYWJsZWRNZWRpYVR5cGVzKSxcbiAgICBkZWZhdWx0UGFwZXJTaXplOiBwcmVmLmRlZmF1bHRQYXBlclNpemVcbiAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgcHJlZi5kZWZhdWx0UGFwZXJTaXplKVxuICAgICAgOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZSA9IGRlZmF1bHRQcmVmZXJlbmNlcygpO1xuXG5pbnRlcmZhY2UgUGVuZGluZyB7fVxudHlwZSBTcGVjaWFsID0gUGVuZGluZztcblxuLyoqXG4gKiBTcGVjaWFsIG1hcmtlciB2YWx1ZSB0aGF0IGluZGljYXRlcyB0aGF0IHRoZSBleHByZXNzaW9uIHJlc3VsdCBpcyBiZWluZ1xuICogY2FsY3VsYXRlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNwZWNpYWwgPSB7XG4gIFBFTkRJTkc6IHt9IGFzIFBlbmRpbmcsXG59O1xuXG5leHBvcnQgdHlwZSBSZXN1bHQgPSBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgdHlwZSBQZW5kaW5nUmVzdWx0ID0gU3BlY2lhbCB8IFJlc3VsdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGxldHRlcmJveChcbiAgdmlld1c6IG51bWJlcixcbiAgdmlld0g6IG51bWJlcixcbiAgb2JqVzogbnVtYmVyLFxuICBvYmpIOiBudW1iZXIsXG4pOiBzdHJpbmcge1xuICBjb25zdCBzY2FsZSA9IE1hdGgubWluKCh2aWV3VyAtIDApIC8gb2JqVywgKHZpZXdIIC0gMCkgLyBvYmpIKTtcbiAgcmV0dXJuIGBtYXRyaXgoJHtzY2FsZX0sMCwwLCR7c2NhbGV9LDAsMClgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1Mgc3RyaW5nIHdpdGggdmFsdWUgc3RyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NTdHJpbmcoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYFwiJHtCYXNlLmVzY2FwZUNTU1N0cihgJHtzdHJ9YCl9XCJgO1xufVxuXG4vKipcbiAqIEByZXR1cm4gc3RyaW5nIHRoYXQgY2FuIGJlIHBhcnNlZCBhcyBDU1MgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3NzSWRlbnQobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIEJhc2UuZXNjYXBlQ1NTSWRlbnQoYCR7bmFtZX1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VRdWFsaWZpZWROYW1lKFxuICBvYmpOYW1lOiBzdHJpbmcgfCBudWxsLFxuICBtZW1iZXJOYW1lOiBzdHJpbmcsXG4pOiBzdHJpbmcge1xuICBpZiAob2JqTmFtZSkge1xuICAgIHJldHVybiBgJHtCYXNlLmVzY2FwZUNTU0lkZW50KG9iak5hbWUpfS4ke0Jhc2UuZXNjYXBlQ1NTSWRlbnQobWVtYmVyTmFtZSl9YDtcbiAgfVxuICByZXR1cm4gQmFzZS5lc2NhcGVDU1NJZGVudChtZW1iZXJOYW1lKTtcbn1cblxuZXhwb3J0IGxldCBuZXh0S2V5SW5kZXg6IG51bWJlciA9IDA7XG5cbi8qKlxuICogTGV4aWNhbCBzY29wZSBvZiB0aGUgZXhwcmVzc2lvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIExleGljYWxTY29wZSB7XG4gIHNjb3BlS2V5OiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBMZXhpY2FsU2NvcGVbXSA9IFtdO1xuICB6ZXJvOiBDb25zdDtcbiAgb25lOiBDb25zdDtcbiAgX3RydWU6IENvbnN0O1xuICBfZmFsc2U6IENvbnN0O1xuICB2YWx1ZXM6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgZnVuY3M6IHsgW2tleTogc3RyaW5nXTogVmFsIH0gPSB7fTtcbiAgYnVpbHRJbnM6IHsgW2tleTogc3RyaW5nXTogKC4uLnAxOiBSZXN1bHRbXSkgPT4gUmVzdWx0IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcGFyZW50OiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlc29sdmVyPzogKHAxOiBzdHJpbmcsIHAyOiBib29sZWFuKSA9PiBWYWwsXG4gICkge1xuICAgIHRoaXMuc2NvcGVLZXkgPSBgUyR7bmV4dEtleUluZGV4Kyt9YDtcbiAgICB0aGlzLnplcm8gPSBuZXcgQ29uc3QodGhpcywgMCk7XG4gICAgdGhpcy5vbmUgPSBuZXcgQ29uc3QodGhpcywgMSk7XG4gICAgdGhpcy5fdHJ1ZSA9IG5ldyBDb25zdCh0aGlzLCB0cnVlKTtcbiAgICB0aGlzLl9mYWxzZSA9IG5ldyBDb25zdCh0aGlzLCBmYWxzZSk7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2godGhpcyk7XG4gICAgfVxuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAvLyByb290IHNjb3BlXG4gICAgICBjb25zdCBidWlsdElucyA9IHRoaXMuYnVpbHRJbnM7XG4gICAgICBidWlsdEluc1tcImZsb29yXCJdID0gTWF0aC5mbG9vcjtcbiAgICAgIGJ1aWx0SW5zW1wiY2VpbFwiXSA9IE1hdGguY2VpbDtcbiAgICAgIGJ1aWx0SW5zW1wicm91bmRcIl0gPSBNYXRoLnJvdW5kO1xuICAgICAgYnVpbHRJbnNbXCJzcXJ0XCJdID0gTWF0aC5zcXJ0O1xuICAgICAgYnVpbHRJbnNbXCJtaW5cIl0gPSBNYXRoLm1pbjtcbiAgICAgIGJ1aWx0SW5zW1wibWF4XCJdID0gTWF0aC5tYXg7XG4gICAgICBidWlsdEluc1tcImxldHRlcmJveFwiXSA9IGxldHRlcmJveDtcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLXN0cmluZ1wiXSA9IGNzc1N0cmluZztcbiAgICAgIGJ1aWx0SW5zW1wiY3NzLW5hbWVcIl0gPSBjc3NJZGVudDtcbiAgICAgIGJ1aWx0SW5zW1widHlwZW9mXCJdID0gKHgpID0+IHR5cGVvZiB4O1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInBhZ2Utd2lkdGhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdlV2lkdGgoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInBhZ2UtaGVpZ2h0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZUhlaWdodCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHJlZi1mb250LWZhbWlseVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuZm9udEZhbWlseTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtbmlnaHQtbW9kZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYubmlnaHRNb2RlO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHJlZi1oeXBoZW5hdGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLmh5cGhlbmF0ZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtbWFyZ2luXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5tYXJnaW47XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZGVmaW5lQnVpbHRJbk5hbWUoXCJwcmVmLWxpbmUtaGVpZ2h0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZi5saW5lSGVpZ2h0O1xuICAgICAgfSk7XG4gICAgICB0aGlzLmRlZmluZUJ1aWx0SW5OYW1lKFwicHJlZi1jb2x1bW4td2lkdGhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLmNvbHVtbldpZHRoICogdGhpcy5mb250U2l6ZTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtaG9yaXpvbnRhbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuaG9yaXpvbnRhbDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInByZWYtc3ByZWFkLXZpZXdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmLnNwcmVhZFZpZXc7XG4gICAgICB9KTtcblxuICAgICAgLy8gRm9yIGVudihwdWItdGl0bGUpIGFuZCBlbnYoZG9jLXRpdGxlKVxuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcInB1Yi10aXRsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjc3NTdHJpbmcodGhpcy5wdWJUaXRsZSA/IHRoaXMucHViVGl0bGUgOiBcIlwiKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5kZWZpbmVCdWlsdEluTmFtZShcImRvYy10aXRsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjc3NTdHJpbmcodGhpcy5kb2NUaXRsZSA/IHRoaXMuZG9jVGl0bGUgOiBcIlwiKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRlZmluZUJ1aWx0SW5OYW1lKG5hbWU6IHN0cmluZywgZm46ICgpID0+IFJlc3VsdCkge1xuICAgIHRoaXMudmFsdWVzW25hbWVdID0gbmV3IE5hdGl2ZSh0aGlzLCBmbiwgbmFtZSk7XG4gIH1cblxuICBkZWZpbmVOYW1lKHF1YWxpZmllZE5hbWU6IHN0cmluZywgdmFsOiBWYWwpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlc1txdWFsaWZpZWROYW1lXSA9IHZhbDtcbiAgfVxuXG4gIGRlZmluZUZ1bmMocXVhbGlmaWVkTmFtZTogc3RyaW5nLCB2YWw6IFZhbCk6IHZvaWQge1xuICAgIHRoaXMuZnVuY3NbcXVhbGlmaWVkTmFtZV0gPSB2YWw7XG4gIH1cblxuICBkZWZpbmVCdWlsdEluKHF1YWxpZmllZE5hbWU6IHN0cmluZywgZm46ICguLi5wMTogUmVzdWx0W10pID0+IFJlc3VsdCk6IHZvaWQge1xuICAgIHRoaXMuYnVpbHRJbnNbcXVhbGlmaWVkTmFtZV0gPSBmbjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInB4XCI6XG4gICAgY2FzZSBcImluXCI6XG4gICAgY2FzZSBcInB0XCI6XG4gICAgY2FzZSBcInBjXCI6XG4gICAgY2FzZSBcImNtXCI6XG4gICAgY2FzZSBcIm1tXCI6XG4gICAgY2FzZSBcInFcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVmlld3BvcnRSZWxhdGl2ZUxlbmd0aFVuaXQodW5pdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAodW5pdC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgY2FzZSBcInZ3XCI6XG4gICAgY2FzZSBcInZoXCI6XG4gICAgY2FzZSBcInZpXCI6XG4gICAgY2FzZSBcInZiXCI6XG4gICAgY2FzZSBcInZtaW5cIjpcbiAgICBjYXNlIFwidm1heFwiOlxuICAgIGNhc2UgXCJwdndcIjpcbiAgICBjYXNlIFwicHZoXCI6XG4gICAgY2FzZSBcInB2aVwiOlxuICAgIGNhc2UgXCJwdmJcIjpcbiAgICBjYXNlIFwicHZtaW5cIjpcbiAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRm9udFJlbGF0aXZlTGVuZ3RoVW5pdCh1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0LnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlIFwiZW1cIjpcbiAgICBjYXNlIFwiZXhcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0VW5pdFNpemVzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0ge1xuICBweDogMSxcbiAgaW46IDk2LFxuICBwdDogNCAvIDMsXG4gIHBjOiA5NiAvIDYsXG4gIGNtOiA5NiAvIDIuNTQsXG4gIG1tOiA5NiAvIDI1LjQsXG4gIHE6IDk2IC8gMi41NCAvIDQwLFxuICBlbTogMTYsXG4gIHJlbTogMTYsXG4gIGV4OiA4LFxuICAvLyA8cmVzb2x1dGlvbj5cbiAgZHBweDogMSxcbiAgZHBpOiAxIC8gOTYsXG4gIGRwY206IDIuNTQgLyA5Nixcbn07XG5cbi8qKlxuICogUmV0dXJucyBpZiBhIHVuaXQgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBweCBiZWZvcmUgYXBwbGllZCB0byB0aGUgcmF3IERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5lZWRVbml0Q29udmVyc2lvbih1bml0OiBzdHJpbmcpOiBib29sZWFuIHtcbiAgc3dpdGNoICh1bml0KSB7XG4gICAgY2FzZSBcInFcIjpcbiAgICBjYXNlIFwicmVtXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFNjb3BlQ29udGV4dCA9IHtcbiAgW2tleTogc3RyaW5nXTogUmVzdWx0O1xufTtcblxuLyoqXG4gKiBSdW4tdGltZSBpbnN0YW5jZSBvZiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250ZXh0IHtcbiAgcHJvdGVjdGVkIGFjdHVhbFBhZ2VXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VXaWR0aDogKCkgPT4gbnVtYmVyO1xuICBwcm90ZWN0ZWQgYWN0dWFsUGFnZUhlaWdodDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VIZWlnaHQ6ICgpID0+IG51bWJlcjtcbiAgaW5pdGlhbEZvbnRTaXplOiBudW1iZXI7XG4gIHJvb3RGb250U2l6ZTogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGZvbnRTaXplOiAoKSA9PiBudW1iZXI7XG4gIHByZWY6IFByZWZlcmVuY2VzO1xuICBzY29wZXM6IHsgW2tleTogc3RyaW5nXTogU2NvcGVDb250ZXh0IH0gPSB7fTtcbiAgcGFnZUFyZWFXaWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHBhZ2VBcmVhSGVpZ2h0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgcGFnZVZlcnRpY2FsOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIHB1YlRpdGxlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZG9jVGl0bGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb290U2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnRXaWR0aDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydEhlaWdodDogbnVtYmVyLFxuICAgIGZvbnRTaXplOiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMucGFnZVdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuYWN0dWFsUGFnZVdpZHRoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdHVhbFBhZ2VXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWYuc3ByZWFkVmlld1xuICAgICAgICAgID8gTWF0aC5mbG9vcih2aWV3cG9ydFdpZHRoIC8gMikgLSB0aGlzLnByZWYucGFnZUJvcmRlclxuICAgICAgICAgIDogdmlld3BvcnRXaWR0aDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMucGFnZUhlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLmFjdHVhbFBhZ2VIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0dWFsUGFnZUhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2aWV3cG9ydEhlaWdodDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuaW5pdGlhbEZvbnRTaXplID0gZm9udFNpemU7XG4gICAgdGhpcy5mb250U2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnJvb3RGb250U2l6ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Rm9udFNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZm9udFNpemU7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnByZWYgPSBkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0U2NvcGVDb250ZXh0KHNjb3BlOiBMZXhpY2FsU2NvcGUpOiBTY29wZUNvbnRleHQge1xuICAgIGxldCBzID0gdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldO1xuICAgIGlmICghcykge1xuICAgICAgcyA9IHt9O1xuICAgICAgdGhpcy5zY29wZXNbc2NvcGUuc2NvcGVLZXldID0gcztcbiAgICB9XG4gICAgcmV0dXJuIHM7XG4gIH1cblxuICBjbGVhclNjb3BlKHNjb3BlOiBMZXhpY2FsU2NvcGUpOiB2b2lkIHtcbiAgICB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV0gPSB7fTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IHNjb3BlLmNoaWxkcmVuLmxlbmd0aDsgaysrKSB7XG4gICAgICB0aGlzLmNsZWFyU2NvcGUoc2NvcGUuY2hpbGRyZW5ba10pO1xuICAgIH1cbiAgfVxuXG4gIHF1ZXJ5VW5pdFNpemUodW5pdDogc3RyaW5nLCBpc1Jvb3Q6IGJvb2xlYW4pOiBudW1iZXIge1xuICAgIGlmIChpc1ZpZXdwb3J0UmVsYXRpdmVMZW5ndGhVbml0KHVuaXQpKSB7XG4gICAgICBjb25zdCBwdncgPSB0aGlzLnBhZ2VXaWR0aCgpIC8gMTAwO1xuICAgICAgY29uc3QgcHZoID0gdGhpcy5wYWdlSGVpZ2h0KCkgLyAxMDA7XG4gICAgICBjb25zdCB2dyA9IHRoaXMucGFnZUFyZWFXaWR0aCAhPSBudWxsID8gdGhpcy5wYWdlQXJlYVdpZHRoIC8gMTAwIDogcHZ3O1xuICAgICAgY29uc3QgdmggPSB0aGlzLnBhZ2VBcmVhSGVpZ2h0ICE9IG51bGwgPyB0aGlzLnBhZ2VBcmVhSGVpZ2h0IC8gMTAwIDogcHZoO1xuXG4gICAgICBzd2l0Y2ggKHVuaXQpIHtcbiAgICAgICAgY2FzZSBcInZ3XCI6XG4gICAgICAgICAgcmV0dXJuIHZ3O1xuICAgICAgICBjYXNlIFwidmhcIjpcbiAgICAgICAgICByZXR1cm4gdmg7XG4gICAgICAgIGNhc2UgXCJ2aVwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZoIDogdnc7XG4gICAgICAgIGNhc2UgXCJ2YlwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLnBhZ2VWZXJ0aWNhbCA/IHZ3IDogdmg7XG4gICAgICAgIGNhc2UgXCJ2bWluXCI6XG4gICAgICAgICAgcmV0dXJuIHZ3IDwgdmggPyB2dyA6IHZoO1xuICAgICAgICBjYXNlIFwidm1heFwiOlxuICAgICAgICAgIHJldHVybiB2dyA+IHZoID8gdncgOiB2aDtcbiAgICAgICAgY2FzZSBcInB2d1wiOlxuICAgICAgICAgIHJldHVybiBwdnc7XG4gICAgICAgIGNhc2UgXCJwdmhcIjpcbiAgICAgICAgICByZXR1cm4gcHZoO1xuICAgICAgICBjYXNlIFwicHZpXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZoIDogcHZ3O1xuICAgICAgICBjYXNlIFwicHZiXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFnZVZlcnRpY2FsID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtaW5cIjpcbiAgICAgICAgICByZXR1cm4gcHZ3IDwgcHZoID8gcHZ3IDogcHZoO1xuICAgICAgICBjYXNlIFwicHZtYXhcIjpcbiAgICAgICAgICByZXR1cm4gcHZ3ID4gcHZoID8gcHZ3IDogcHZoO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodW5pdCA9PSBcImVtXCIgfHwgdW5pdCA9PSBcInJlbVwiKSB7XG4gICAgICByZXR1cm4gaXNSb290ID8gdGhpcy5pbml0aWFsRm9udFNpemUgOiB0aGlzLmZvbnRTaXplKCk7XG4gICAgfVxuICAgIGlmICh1bml0ID09IFwiZXhcIikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGRlZmF1bHRVbml0U2l6ZXNbXCJleFwiXSAqXG4gICAgICAgICAgKGlzUm9vdCA/IHRoaXMuaW5pdGlhbEZvbnRTaXplIDogdGhpcy5mb250U2l6ZSgpKSkgL1xuICAgICAgICBkZWZhdWx0VW5pdFNpemVzW1wiZW1cIl1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBkZWZhdWx0VW5pdFNpemVzW3VuaXRdO1xuICB9XG5cbiAgZXZhbE5hbWUoc2NvcGU6IExleGljYWxTY29wZSwgcXVhbGlmaWVkTmFtZTogc3RyaW5nKTogVmFsIHtcbiAgICBkbyB7XG4gICAgICBsZXQgdmFsID0gc2NvcGUudmFsdWVzW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIHZhbCA9IHNjb3BlLnJlc29sdmVyLmNhbGwodGhpcywgcXVhbGlmaWVkTmFtZSwgZmFsc2UpO1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgTmFtZSAnJHtxdWFsaWZpZWROYW1lfScgaXMgdW5kZWZpbmVkYCk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vQnVpbHRJbkV2YWwgZG9uJ3QgZXZhbHVhdGUgYnVpbHQtaW5zIChmb3IgZGVwZW5kZW5jeSBjYWxjdWxhdGlvbnMpXG4gICAqL1xuICBldmFsQ2FsbChcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHF1YWxpZmllZE5hbWU6IHN0cmluZyxcbiAgICBwYXJhbXM6IFZhbFtdLFxuICAgIG5vQnVpbHRJbkV2YWw6IGJvb2xlYW4sXG4gICk6IFZhbCB7XG4gICAgZG8ge1xuICAgICAgbGV0IGJvZHkgPSBzY29wZS5mdW5jc1txdWFsaWZpZWROYW1lXTtcbiAgICAgIGlmIChib2R5KSB7XG4gICAgICAgIHJldHVybiBib2R5OyAvLyB3aWxsIGJlIGV4cGFuZGVkIGJ5IGNhbGxlZVxuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLnJlc29sdmVyKSB7XG4gICAgICAgIGJvZHkgPSBzY29wZS5yZXNvbHZlci5jYWxsKHRoaXMsIHF1YWxpZmllZE5hbWUsIHRydWUpO1xuICAgICAgICBpZiAoYm9keSkge1xuICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBmbiA9IHNjb3BlLmJ1aWx0SW5zW3F1YWxpZmllZE5hbWVdO1xuICAgICAgaWYgKGZuKSB7XG4gICAgICAgIGlmIChub0J1aWx0SW5FdmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXJncyA9IEFycmF5KHBhcmFtcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGFyZ3NbaV0gPSBwYXJhbXNbaV0uZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDb25zdChzY29wZSwgZm4uYXBwbHkodGhpcywgYXJncykpO1xuICAgICAgfVxuICAgICAgc2NvcGUgPSBzY29wZS5wYXJlbnQ7XG4gICAgfSB3aGlsZSAoc2NvcGUpO1xuICAgIHRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gJyR7cXVhbGlmaWVkTmFtZX0nIGlzIHVuZGVmaW5lZGApO1xuICB9XG5cbiAgZXZhbE1lZGlhTmFtZShuYW1lOiBzdHJpbmcsIG5vdDogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVuYWJsZWQgPSBuYW1lID09PSBcImFsbFwiIHx8ICEhdGhpcy5wcmVmLmVuYWJsZWRNZWRpYVR5cGVzW25hbWVdO1xuICAgIHJldHVybiBub3QgPyAhZW5hYmxlZCA6IGVuYWJsZWQ7XG4gIH1cblxuICBldmFsTWVkaWFUZXN0KGZlYXR1cmU6IHN0cmluZywgdmFsdWU6IFZhbCk6IGJvb2xlYW4ge1xuICAgIGxldCBwcmVmaXggPSBcIlwiO1xuICAgIGNvbnN0IHIgPSBmZWF0dXJlLm1hdGNoKC9eKG1pbnxtYXgpLSguKikkLyk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHByZWZpeCA9IHJbMV07XG4gICAgICBmZWF0dXJlID0gclsyXTtcbiAgICB9XG4gICAgbGV0IHJlcTogUmVzdWx0IHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGFjdHVhbDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gICAgc3dpdGNoIChmZWF0dXJlKSB7XG4gICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2Utd2lkdGhcIjpcbiAgICAgIGNhc2UgXCJkZXZpY2UtaGVpZ2h0XCI6XG4gICAgICBjYXNlIFwiY29sb3JcIjpcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVxID0gdmFsdWUuZXZhbHVhdGUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHN3aXRjaCAoZmVhdHVyZSkge1xuICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHRoaXMucGFnZVdpZHRoKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB0aGlzLnBhZ2VIZWlnaHQoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLXdpZHRoXCI6XG4gICAgICAgIGFjdHVhbCA9IHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGV2aWNlLWhlaWdodFwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICBhY3R1YWwgPSB3aW5kb3cuc2NyZWVuLnBpeGVsRGVwdGg7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYWN0dWFsICE9IG51bGwgJiYgcmVxICE9IG51bGwpIHtcbiAgICAgIHN3aXRjaCAocHJlZml4KSB7XG4gICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICByZXR1cm4gYWN0dWFsID49IHJlcTtcbiAgICAgICAgY2FzZSBcIm1heFwiOlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPD0gcmVxO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhY3R1YWwgPT0gcmVxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYWN0dWFsICE9IG51bGwgJiYgdmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGFjdHVhbCAhPT0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcXVlcnlWYWwoc2NvcGU6IExleGljYWxTY29wZSwga2V5OiBzdHJpbmcpOiBSZXN1bHQgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNjb3Blc1tzY29wZS5zY29wZUtleV07XG4gICAgcmV0dXJuIHMgPyBzW2tleV0gOiB1bmRlZmluZWQ7XG4gIH1cblxuICBzdG9yZVZhbChzY29wZTogTGV4aWNhbFNjb3BlLCBrZXk6IHN0cmluZywgdmFsOiBSZXN1bHQpOiB2b2lkIHtcbiAgICB0aGlzLmdldFNjb3BlQ29udGV4dChzY29wZSlba2V5XSA9IHZhbDtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0gbmFtZSByZXNvbHV0aW9uIC0tLS0tLS0tLS0tLS0tXG5leHBvcnQgdHlwZSBEZXBlbmRlbmN5Q2FjaGUgPSB7XG4gIFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBTcGVjaWFsO1xufTtcblxuZXhwb3J0IGNsYXNzIFZhbCB7XG4gIGtleTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzY29wZTogTGV4aWNhbFNjb3BlKSB7XG4gICAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICAgIHRoaXMua2V5ID0gYF8ke25leHRLZXlJbmRleCsrfWA7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b1N0cmluZygpOiBzdHJpbmcge1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIHRoaXMuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCk7XG4gIH1cblxuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gb3RoZXIgPT09IHRoaXM7XG4gIH1cblxuICBkZXBlbmRPdXRlcihcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhY2hlZCA9IGRlcGVuZGVuY3lDYWNoZVt0aGlzLmtleV07XG4gICAgaWYgKGNhY2hlZCAhPSBudWxsKSB7XG4gICAgICBpZiAoY2FjaGVkID09PSBTcGVjaWFsLlBFTkRJTkcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlZCBhcyBib29sZWFuO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXBlbmRlbmN5Q2FjaGVbdGhpcy5rZXldID0gU3BlY2lhbC5QRU5ESU5HO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5kZXBlbmRDb3JlKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICAgICAgZGVwZW5kZW5jeUNhY2hlW3RoaXMua2V5XSA9IHJlc3VsdDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgZGVwZW5kKG90aGVyOiBWYWwsIGNvbnRleHQ6IENvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwge30pO1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbnRleHQucXVlcnlWYWwodGhpcy5zY29wZSwgdGhpcy5rZXkpO1xuICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlc3VsdCA9IHRoaXMuZXZhbHVhdGVDb3JlKGNvbnRleHQpO1xuICAgIGNvbnRleHQuc3RvcmVWYWwodGhpcy5zY29wZSwgdGhpcy5rZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGlzTWVkaWFOYW1lKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlZml4IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldE9wKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkZfQUJTVFJBQ1RcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgdmFsID0gdGhpcy52YWwuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgcmV0dXJuIHRoaXMuZXZhbFByZWZpeCh2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fCB0aGlzLnZhbC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy52YWwuYXBwZW5kVG8oYnVmLCAxMCk7XG4gICAgaWYgKDEwIDwgcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCB2YWwgPSB0aGlzLnZhbC5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsID09PSB0aGlzLnZhbCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGNvbnN0IHIgPSBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgYW55KSh0aGlzLnNjb3BlLCB2YWwpO1xuICAgIHJldHVybiByO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbmZpeCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBsaHM6IFZhbCwgcHVibGljIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG5cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICByZXR1cm4gdGhpcy5ldmFsSW5maXgobGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5saHMuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSkgfHxcbiAgICAgIHRoaXMucmhzLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCB0aGlzUHJpb3JpdHkgPSB0aGlzLmdldFByaW9yaXR5KCk7XG4gICAgaWYgKHRoaXNQcmlvcml0eSA8PSBwcmlvcml0eSkge1xuICAgICAgYnVmLmFwcGVuZChcIihcIik7XG4gICAgfVxuICAgIHRoaXMubGhzLmFwcGVuZFRvKGJ1ZiwgdGhpc1ByaW9yaXR5KTtcbiAgICBidWYuYXBwZW5kKHRoaXMuZ2V0T3AoKSk7XG4gICAgdGhpcy5yaHMuYXBwZW5kVG8oYnVmLCB0aGlzUHJpb3JpdHkpO1xuICAgIGlmICh0aGlzUHJpb3JpdHkgPD0gcHJpb3JpdHkpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBsaHMgPSB0aGlzLmxocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBjb25zdCByaHMgPSB0aGlzLnJocy5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAobGhzID09PSB0aGlzLmxocyAmJiByaHMgPT09IHRoaXMucmhzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY29uc3QgciA9IG5ldyAodGhpcy5jb25zdHJ1Y3RvciBhcyBhbnkpKHRoaXMuc2NvcGUsIGxocywgcmhzKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9naWNhbCBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBhcmlzb24gZXh0ZW5kcyBJbmZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZGRpdGl2ZSBleHRlbmRzIEluZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE11bHRpcGxpY2F0aXZlIGV4dGVuZHMgSW5maXgge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTm90IGV4dGVuZHMgUHJlZml4IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgdmFsOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgdmFsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbFByZWZpeCh2YWw6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuICF2YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lZ2F0ZSBleHRlbmRzIFByZWZpeCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHZhbDogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIHZhbCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIi1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxQcmVmaXgodmFsOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAtdmFsO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbmQgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiJiZcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgJiYgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFuZE1lZGlhIGV4dGVuZHMgQW5kIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIGFuZCBcIjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT3IgZXh0ZW5kcyBMb2dpY2FsIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwifHxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5saHMuZXZhbHVhdGUoY29udGV4dCkgfHwgdGhpcy5yaHMuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9yTWVkaWEgZXh0ZW5kcyBPciB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiwgXCI7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEx0IGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPCByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExlIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIjw9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzIDw9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR3QgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA+IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2UgZXh0ZW5kcyBDb21wYXJpc29uIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiPj1cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBsaHMgPj0gcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFcSBleHRlbmRzIENvbXBhcmlzb24ge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCI9PVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGxocyA9PSByaHM7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lIGV4dGVuZHMgQ29tcGFyaXNvbiB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiE9XCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gbGhzICE9IHJocztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWRkIGV4dGVuZHMgQWRkaXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIrXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpICsgcmhzO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJ0cmFjdCBleHRlbmRzIEFkZGl0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiIC0gXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC0gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aXBseSBleHRlbmRzIE11bHRpcGxpY2F0aXZlIHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgbGhzOiBWYWwsIHJoczogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUsIGxocywgcmhzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE9wKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiKlwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbEluZml4KGxoczogUmVzdWx0LCByaHM6IFJlc3VsdCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIChsaHMgYXMgYW55KSAqIChyaHMgYXMgYW55KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGl2aWRlIGV4dGVuZHMgTXVsdGlwbGljYXRpdmUge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBsaHM6IFZhbCwgcmhzOiBWYWwpIHtcbiAgICBzdXBlcihzY29wZSwgbGhzLCByaHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3AoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCIvXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsSW5maXgobGhzOiBSZXN1bHQsIHJoczogUmVzdWx0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gKGxocyBhcyBhbnkpIC8gKHJocyBhcyBhbnkpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb2R1bG8gZXh0ZW5kcyBNdWx0aXBsaWNhdGl2ZSB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIGxoczogVmFsLCByaHM6IFZhbCkge1xuICAgIHN1cGVyKHNjb3BlLCBsaHMsIHJocyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcCgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIiVcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWxJbmZpeChsaHM6IFJlc3VsdCwgcmhzOiBSZXN1bHQpOiBSZXN1bHQge1xuICAgIHJldHVybiAobGhzIGFzIGFueSkgJSAocmhzIGFzIGFueSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOdW1lcmljYWwgdmFsdWUgd2l0aCBhIHVuaXQuXG4gKi9cbmV4cG9ydCBjbGFzcyBOdW1lcmljIGV4dGVuZHMgVmFsIHtcbiAgdW5pdDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBudW06IG51bWJlciwgdW5pdDogc3RyaW5nKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICAgIHRoaXMudW5pdCA9IHVuaXQudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLnVuaXQpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5udW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUodGhpcy51bml0LCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqIEBwYXJhbSBxdWFsaWZpZWROYW1lIENTUy1lc2NhcGVkIG5hbWUgc2VxdWVuY2Ugc2VwYXJhdGVkIGJ5IGRvdHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOYW1lZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCh0aGlzLnF1YWxpZmllZE5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXZhbHVhdGVDb3JlKGNvbnRleHQ6IENvbnRleHQpOiBSZXN1bHQge1xuICAgIHJldHVybiBjb250ZXh0LmV2YWxOYW1lKHRoaXMuc2NvcGUsIHRoaXMucXVhbGlmaWVkTmFtZSkuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8XG4gICAgICBjb250ZXh0XG4gICAgICAgIC5ldmFsTmFtZSh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUpXG4gICAgICAgIC5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBOYW1lZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhTmFtZSBleHRlbmRzIFZhbCB7XG4gIC8vIEZJWE1FOiBUaGlzIHByb3BlcnR5IGlzIGFkZGVkIHRvIHJlZHVjZSBUeXBlU2NyaXB0IGVycm9yIG9uIGBkZXBlbmRDb3JlYFxuICAvLyBidXQgaXQgaXMgbmV2ZXIgaW5pdGlhbGl6ZWQuIElzIGl0IHJlYWxseSBjb3JyZWN0IGNvZGU/XG4gIHZhbHVlOiBWYWw7XG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IExleGljYWxTY29wZSwgcHVibGljIG5vdDogYm9vbGVhbiwgcHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub3QpIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCJub3QgXCIpO1xuICAgIH1cbiAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTSWRlbnQodGhpcy5uYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhTmFtZSh0aGlzLm5hbWUsIHRoaXMubm90KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlcGVuZENvcmUoXG4gICAgb3RoZXI6IFZhbCxcbiAgICBjb250ZXh0OiBDb250ZXh0LFxuICAgIGRlcGVuZGVuY3lDYWNoZTogRGVwZW5kZW5jeUNhY2hlLFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgb3RoZXIgPT09IHRoaXMgfHwgdGhpcy52YWx1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc01lZGlhTmFtZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdmFsdWUgdGhhdCBpcyBjYWxjdWxhdGVkIGJ5IGNhbGxpbmcgYSBKYXZhU2NyaXB0IGZ1bmN0aW9uLiBOb3RlIHRoYXQgdGhlXG4gKiByZXN1bHQgaXMgY2FjaGVkIGFuZCB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIG9ubHkgb25jZSBiZXR3ZWVuIGFueVxuICogY2xlYXJzIGZvciBpdHMgc2NvcGUgaW4gdGhlIGNvbnRleHQuXG4gKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gY2FsbC5cbiAqIEBwYXJhbSBzdHIgYSB3YXkgdG8gcmVwcmVzZW50IHRoaXMgdmFsdWUgaW4gdG9TdHJpbmcoKSBjYWxsLlxuICovXG5leHBvcnQgY2xhc3MgTmF0aXZlIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IExleGljYWxTY29wZSxcbiAgICBwdWJsaWMgZm46ICgpID0+IFJlc3VsdCxcbiAgICBwdWJsaWMgc3RyOiBzdHJpbmcsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy5mbi5jYWxsKGNvbnRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRWYWxBcnJheShidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBhcnI6IFZhbFtdKTogdm9pZCB7XG4gIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpKSB7XG4gICAgICBidWYuYXBwZW5kKFwiLFwiKTtcbiAgICB9XG4gICAgYXJyW2ldLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gIH1cbiAgYnVmLmFwcGVuZChcIilcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHBhbmRWYWxBcnJheShcbiAgY29udGV4dDogQ29udGV4dCxcbiAgYXJyOiBWYWxbXSxcbiAgcGFyYW1zOiBWYWxbXSxcbik6IFZhbFtdIHtcbiAgbGV0IGV4cGFuZGVkOiBWYWxbXSA9IGFycjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBwID0gYXJyW2ldLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGlmIChhcnIgIT09IGV4cGFuZGVkKSB7XG4gICAgICBleHBhbmRlZFtpXSA9IHA7XG4gICAgfSBlbHNlIGlmIChwICE9PSBhcnJbaV0pIHtcbiAgICAgIGV4cGFuZGVkID0gQXJyYXkoYXJyLmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGk7IGorKykge1xuICAgICAgICBleHBhbmRlZFtqXSA9IGFycltqXTtcbiAgICAgIH1cbiAgICAgIGV4cGFuZGVkW2ldID0gcDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGV4cGFuZGVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXZhbFZhbEFycmF5KGNvbnRleHQ6IENvbnRleHQsIGFycjogVmFsW10pOiBSZXN1bHRbXSB7XG4gIGNvbnN0IHJlc3VsdDogUmVzdWx0W10gPSBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHRbaV0gPSBhcnJbaV0uZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGNsYXNzIENhbGwgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyBxdWFsaWZpZWROYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHBhcmFtczogVmFsW10sXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMucXVhbGlmaWVkTmFtZSk7XG4gICAgYXBwZW5kVmFsQXJyYXkoYnVmLCB0aGlzLnBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgY29uc3QgYm9keSA9IGNvbnRleHQuZXZhbENhbGwoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5xdWFsaWZpZWROYW1lLFxuICAgICAgdGhpcy5wYXJhbXMsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIHJldHVybiBib2R5LmV4cGFuZChjb250ZXh0LCB0aGlzLnBhcmFtcykuZXZhbHVhdGUoY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKG90aGVyID09PSB0aGlzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcmFtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMucGFyYW1zW2ldLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBib2R5ID0gY29udGV4dC5ldmFsQ2FsbChcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLnF1YWxpZmllZE5hbWUsXG4gICAgICB0aGlzLnBhcmFtcyxcbiAgICAgIHRydWUsXG4gICAgKTtcblxuICAgIC8vIE5vIGV4cGFuc2lvbiBoZXJlIVxuICAgIHJldHVybiBib2R5LmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IGV4cGFuZGVkUGFyYW1zID0gZXhwYW5kVmFsQXJyYXkoY29udGV4dCwgdGhpcy5wYXJhbXMsIHBhcmFtcyk7XG4gICAgaWYgKGV4cGFuZGVkUGFyYW1zID09PSB0aGlzLnBhcmFtcykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FsbCh0aGlzLnNjb3BlLCB0aGlzLnF1YWxpZmllZE5hbWUsIGV4cGFuZGVkUGFyYW1zKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uZCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBMZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIGNvbmQ6IFZhbCxcbiAgICBwdWJsaWMgaWZUcnVlOiBWYWwsXG4gICAgcHVibGljIGlmRmFsc2U6IFZhbCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbmQuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiP1wiKTtcbiAgICB0aGlzLmlmVHJ1ZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGJ1Zi5hcHBlbmQoXCI6XCIpO1xuICAgIHRoaXMuaWZGYWxzZS5hcHBlbmRUbyhidWYsIDApO1xuICAgIGlmIChwcmlvcml0eSA+IDApIHtcbiAgICAgIGJ1Zi5hcHBlbmQoXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICBpZiAodGhpcy5jb25kLmV2YWx1YXRlKGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5pZlRydWUuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmlmRmFsc2UuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVwZW5kQ29yZShcbiAgICBvdGhlcjogVmFsLFxuICAgIGNvbnRleHQ6IENvbnRleHQsXG4gICAgZGVwZW5kZW5jeUNhY2hlOiBEZXBlbmRlbmN5Q2FjaGUsXG4gICk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBvdGhlciA9PT0gdGhpcyB8fFxuICAgICAgdGhpcy5jb25kLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpIHx8XG4gICAgICB0aGlzLmlmVHJ1ZS5kZXBlbmRPdXRlcihvdGhlciwgY29udGV4dCwgZGVwZW5kZW5jeUNhY2hlKSB8fFxuICAgICAgdGhpcy5pZkZhbHNlLmRlcGVuZE91dGVyKG90aGVyLCBjb250ZXh0LCBkZXBlbmRlbmN5Q2FjaGUpXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV4cGFuZChjb250ZXh0OiBDb250ZXh0LCBwYXJhbXM6IFZhbFtdKTogVmFsIHtcbiAgICBjb25zdCBjb25kID0gdGhpcy5jb25kLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmVHJ1ZSA9IHRoaXMuaWZUcnVlLmV4cGFuZChjb250ZXh0LCBwYXJhbXMpO1xuICAgIGNvbnN0IGlmRmFsc2UgPSB0aGlzLmlmRmFsc2UuZXhwYW5kKGNvbnRleHQsIHBhcmFtcyk7XG4gICAgaWYgKFxuICAgICAgY29uZCA9PT0gdGhpcy5jb25kICYmXG4gICAgICBpZlRydWUgPT09IHRoaXMuaWZUcnVlICYmXG4gICAgICBpZkZhbHNlID09PSB0aGlzLmlmRmFsc2VcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IENvbmQodGhpcy5zY29wZSwgY29uZCwgaWZUcnVlLCBpZkZhbHNlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgdmFsOiBSZXN1bHQpIHtcbiAgICBzdXBlcihzY29wZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCBwcmlvcml0eTogbnVtYmVyKTogdm9pZCB7XG4gICAgc3dpdGNoICh0eXBlb2YgdGhpcy52YWwpIHtcbiAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGJ1Zi5hcHBlbmQodGhpcy52YWwudG9TdHJpbmcoKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgICBidWYuYXBwZW5kKEJhc2UuZXNjYXBlQ1NTU3RyKHRoaXMudmFsKSk7XG4gICAgICAgIGJ1Zi5hcHBlbmQoJ1wiJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9VTkVYUEVDVEVEX1NUQVRFXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGV2YWx1YXRlQ29yZShjb250ZXh0OiBDb250ZXh0KTogUmVzdWx0IHtcbiAgICByZXR1cm4gdGhpcy52YWw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhVGVzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBMZXhpY2FsU2NvcGUsIHB1YmxpYyBuYW1lOiBNZWRpYU5hbWUsIHB1YmxpYyB2YWx1ZTogVmFsKSB7XG4gICAgc3VwZXIoc2NvcGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIoXCIpO1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NTdHIodGhpcy5uYW1lLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiOlwiKTtcbiAgICB0aGlzLnZhbHVlLmFwcGVuZFRvKGJ1ZiwgMCk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBldmFsdWF0ZUNvcmUoY29udGV4dDogQ29udGV4dCk6IFJlc3VsdCB7XG4gICAgcmV0dXJuIGNvbnRleHQuZXZhbE1lZGlhVGVzdCh0aGlzLm5hbWUubmFtZSwgdGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBkZXBlbmRDb3JlKFxuICAgIG90aGVyOiBWYWwsXG4gICAgY29udGV4dDogQ29udGV4dCxcbiAgICBkZXBlbmRlbmN5Q2FjaGU6IERlcGVuZGVuY3lDYWNoZSxcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG90aGVyID09PSB0aGlzIHx8IHRoaXMudmFsdWUuZGVwZW5kT3V0ZXIob3RoZXIsIGNvbnRleHQsIGRlcGVuZGVuY3lDYWNoZSlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXhwYW5kKGNvbnRleHQ6IENvbnRleHQsIHBhcmFtczogVmFsW10pOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy52YWx1ZS5leHBhbmQoY29udGV4dCwgcGFyYW1zKTtcbiAgICBpZiAodmFsdWUgPT09IHRoaXMudmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjb25zdCByID0gbmV3IE1lZGlhVGVzdCh0aGlzLnNjb3BlLCB0aGlzLm5hbWUsIHZhbHVlKTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFyYW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihzY29wZTogTGV4aWNhbFNjb3BlLCBwdWJsaWMgaW5kZXg6IG51bWJlcikge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHByaW9yaXR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKFwiJFwiKTtcbiAgICBidWYuYXBwZW5kKHRoaXMuaW5kZXgudG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBleHBhbmQoY29udGV4dDogQ29udGV4dCwgcGFyYW1zOiBWYWxbXSk6IFZhbCB7XG4gICAgY29uc3QgdiA9IHBhcmFtc1t0aGlzLmluZGV4XTtcbiAgICBpZiAoIXYpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUGFyYW1ldGVyIG1pc3Npbmc6ICR7dGhpcy5pbmRleH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHYgYXMgVmFsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbmQoc2NvcGU6IExleGljYWxTY29wZSwgdjE6IFZhbCwgdjI6IFZhbCk6IFZhbCB7XG4gIGlmIChcbiAgICB2MSA9PT0gc2NvcGUuX2ZhbHNlIHx8XG4gICAgdjEgPT09IHNjb3BlLnplcm8gfHxcbiAgICB2MiA9PSBzY29wZS5fZmFsc2UgfHxcbiAgICB2MiA9PSBzY29wZS56ZXJvXG4gICkge1xuICAgIHJldHVybiBzY29wZS5fZmFsc2U7XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5fdHJ1ZSB8fCB2MSA9PT0gc2NvcGUub25lKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuX3RydWUgfHwgdjIgPT09IHNjb3BlLm9uZSkge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFuZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHYyO1xuICB9XG4gIGlmICh2MiA9PT0gc2NvcGUuemVybykge1xuICAgIHJldHVybiB2MTtcbiAgfVxuICByZXR1cm4gbmV3IEFkZChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIG5ldyBOZWdhdGUoc2NvcGUsIHYyKTtcbiAgfVxuICBpZiAodjIgPT09IHNjb3BlLnplcm8pIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBTdWJ0cmFjdChzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG11bChzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvIHx8IHYyID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYxID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjI7XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBNdWx0aXBseShzY29wZSwgdjEsIHYyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRpdihzY29wZTogTGV4aWNhbFNjb3BlLCB2MTogVmFsLCB2MjogVmFsKTogVmFsIHtcbiAgaWYgKHYxID09PSBzY29wZS56ZXJvKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH1cbiAgaWYgKHYyID09PSBzY29wZS5vbmUpIHtcbiAgICByZXR1cm4gdjE7XG4gIH1cbiAgcmV0dXJuIG5ldyBEaXZpZGUoc2NvcGUsIHYxLCB2Mik7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzcyAtIENTUyBWYWx1ZXMgYW5kIHV0aWxpdGllcyB0byBoYW5kbGUgdGhlbS5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuXG5leHBvcnQgY2xhc3MgVmlzaXRvciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBhbnkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZXNbaV0udmlzaXQodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgdmlzaXRFbXB0eShlbXB0eTogVmFsKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19FTVBUWV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0U2xhc2goc2xhc2g6IFZhbCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU0xBU0hfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfU1RSX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJZGVudChpZGVudDogSWRlbnQpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0lERU5UX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IE51bWVyaWMpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX05VTUVSSUNfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdE51bShudW06IE51bSk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfTlVNX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiB0aGlzLnZpc2l0TnVtKG51bSk7XG4gIH1cblxuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JfTk9UX0FMTE9XRURcIik7XG4gIH1cblxuICB2aXNpdFVSTCh1cmw6IFVSTCk6IFZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfVVJMX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogU3BhY2VMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19MSVNUX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ29tbWFMaXN0KTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19DT01NQV9OT1RfQUxMT1dFRFwiKTtcbiAgfVxuXG4gIHZpc2l0RnVuYyhmdW5jOiBGdW5jKTogVmFsIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX0NTU19GVU5DX05PVF9BTExPV0VEXCIpO1xuICB9XG5cbiAgdmlzaXRFeHByKGV4cHI6IEV4cHIpOiBWYWwge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkVfQ1NTX0VYUFJfTk9UX0FMTE9XRURcIik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbHRlclZpc2l0b3IgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHZpc2l0VmFsdWVzKHZhbHVlczogVmFsW10pOiBWYWxbXSB7XG4gICAgbGV0IGFycjogVmFsW10gPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBiZWZvcmUgPSB2YWx1ZXNbaV07XG4gICAgICBjb25zdCBhZnRlciA9IGJlZm9yZS52aXNpdCh0aGlzKTtcbiAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgYXJyW2ldID0gYWZ0ZXI7XG4gICAgICB9IGVsc2UgaWYgKGJlZm9yZSAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgYXJyID0gbmV3IEFycmF5KHZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGk7IGsrKykge1xuICAgICAgICAgIGFycltrXSA9IHZhbHVlc1trXTtcbiAgICAgICAgfVxuICAgICAgICBhcnJbaV0gPSBhZnRlcjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyciB8fCB2YWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFN0cihzdHI6IFN0cik6IFZhbCB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IElkZW50KTogVmFsIHtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNsYXNoKHNsYXNoOiBWYWwpOiBWYWwge1xuICAgIHJldHVybiBzbGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBOdW1lcmljKTogVmFsIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogTnVtKTogVmFsIHtcbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBJbnQpOiBWYWwge1xuICAgIHJldHVybiBudW07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDb2xvcik6IFZhbCB7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBVUkwpOiBWYWwge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBTcGFjZUxpc3QpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMobGlzdC52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGxpc3QudmFsdWVzKSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTcGFjZUxpc3QodmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENvbW1hTGlzdCk6IFZhbCB7XG4gICAgY29uc3QgdmFsdWVzID0gdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgaWYgKHZhbHVlcyA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbW1hTGlzdCh2YWx1ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IEZ1bmMpOiBWYWwge1xuICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgIGlmICh2YWx1ZXMgPT09IGZ1bmMudmFsdWVzKSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGdW5jKGZ1bmMubmFtZSwgdmFsdWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RXhwcihleHByOiBFeHByKTogVmFsIHtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmFsIHtcbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgdHJ1ZSk7XG4gICAgcmV0dXJuIGJ1Zi50b1N0cmluZygpO1xuICB9XG5cbiAgc3RyaW5nVmFsdWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBidWYgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICB0aGlzLmFwcGVuZFRvKGJ1ZiwgZmFsc2UpO1xuICAgIHJldHVybiBidWYudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRl9BQlNUUkFDVFwiKTtcbiAgfVxuXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIltlcnJvcl1cIik7XG4gIH1cblxuICBpc0V4cHIoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzTnVtKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzSWRlbnQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNTcGFjZUxpc3QoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0FCU1RSQUNUXCIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbXB0eSBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIGVtcHR5OiBFbXB0eTtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBFbXB0eSB7XG4gICAgaWYgKCF0aGlzLmVtcHR5KSB7XG4gICAgICB0aGlzLmVtcHR5ID0gbmV3IEVtcHR5KCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmVtcHR5O1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFbXB0eSh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZW1wdHk6IEVtcHR5ID0gRW1wdHkuaW5zdGFuY2U7XG5cbmV4cG9ydCBjbGFzcyBTbGFzaCBleHRlbmRzIFZhbCB7XG4gIHByaXZhdGUgc3RhdGljIHNsYXNoOiBTbGFzaDtcblxuICBwdWJsaWMgc3RhdGljIGdldCBpbnN0YW5jZSgpOiBTbGFzaCB7XG4gICAgaWYgKCF0aGlzLnNsYXNoKSB7XG4gICAgICB0aGlzLnNsYXNoID0gbmV3IFNsYXNoKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNsYXNoO1xuICB9XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCBcIi9cIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoXCIvXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNsYXNoKHRoaXMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBzbGFzaDogU2xhc2ggPSBTbGFzaC5pbnN0YW5jZTtcblxuZXhwb3J0IGNsYXNzIFN0ciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzdHI6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMuc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRvU3RyaW5nKSB7XG4gICAgICBidWYuYXBwZW5kKCdcIicpO1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnN0cikpO1xuICAgICAgYnVmLmFwcGVuZCgnXCInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnVmLmFwcGVuZCh0aGlzLnN0cik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFN0cih0aGlzKTtcbiAgfVxufVxuXG5jb25zdCBuYW1lVGFibGUgPSB7fTtcblxuZXhwb3J0IGNsYXNzIElkZW50IGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKG5hbWVUYWJsZVtuYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9JTlZBTElEX0NBTExcIik7XG4gICAgfVxuICAgIG5hbWVUYWJsZVtuYW1lXSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b0V4cHIoc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSwgcmVmOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIHRoaXMubmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0b1N0cmluZykge1xuICAgICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU0lkZW50KHRoaXMubmFtZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidWYuYXBwZW5kKHRoaXMubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdElkZW50KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNJZGVudCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFtZShuYW1lOiBzdHJpbmcpOiBJZGVudCB7XG4gIGxldCByID0gbmFtZVRhYmxlW25hbWVdO1xuICBpZiAoIXIpIHtcbiAgICByID0gbmV3IElkZW50KG5hbWUpO1xuICB9XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgY2xhc3MgTnVtZXJpYyBleHRlbmRzIFZhbCB7XG4gIHVuaXQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIsIHVuaXQ6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy51bml0ID0gdW5pdC50b0xvd2VyQ2FzZSgpOyAvLyB1bml0cyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBpbiBDU1NcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRvRXhwcihzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLCByZWY6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgaWYgKHRoaXMubnVtID09IDApIHtcbiAgICAgIHJldHVybiBzY29wZS56ZXJvO1xuICAgIH1cbiAgICBpZiAocmVmICYmIHRoaXMudW5pdCA9PSBcIiVcIikge1xuICAgICAgaWYgKHRoaXMubnVtID09IDEwMCkge1xuICAgICAgICByZXR1cm4gcmVmO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBFeHBycy5NdWx0aXBseShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHJlZixcbiAgICAgICAgbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSAvIDEwMCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLk51bWVyaWMoc2NvcGUsIHRoaXMubnVtLCB0aGlzLnVuaXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwZW5kVG8oYnVmOiBCYXNlLlN0cmluZ0J1ZmZlciwgdG9TdHJpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBidWYuYXBwZW5kKHRoaXMubnVtLnRvU3RyaW5nKCkpO1xuICAgIGJ1Zi5hcHBlbmQodGhpcy51bml0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXROdW1lcmljKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW1lcmljKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOdW0gZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbnVtOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHJlZjogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICBpZiAodGhpcy5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHNjb3BlLnplcm87XG4gICAgfVxuICAgIGlmICh0aGlzLm51bSA9PSAxKSB7XG4gICAgICByZXR1cm4gc2NvcGUub25lO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KHNjb3BlLCB0aGlzLm51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQodGhpcy5udW0udG9TdHJpbmcoKSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0TnVtKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNOdW0oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludCBleHRlbmRzIE51bSB7XG4gIGNvbnN0cnVjdG9yKG51bTogbnVtYmVyKSB7XG4gICAgc3VwZXIobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRJbnQodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJnYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIiNcIik7XG4gICAgY29uc3Qgc3RyID0gdGhpcy5yZ2IudG9TdHJpbmcoMTYpO1xuICAgIGJ1Zi5hcHBlbmQoXCIwMDAwMDBcIi5zdWJzdHIoc3RyLmxlbmd0aCkpO1xuICAgIGJ1Zi5hcHBlbmQoc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb2xvcih0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVVJMIGV4dGVuZHMgVmFsIHtcbiAgY29uc3RydWN0b3IocHVibGljIHVybDogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZCgndXJsKFwiJyk7XG4gICAgYnVmLmFwcGVuZChCYXNlLmVzY2FwZUNTU1N0cih0aGlzLnVybCkpO1xuICAgIGJ1Zi5hcHBlbmQoJ1wiKScpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFVSTCh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kTGlzdChcbiAgYnVmOiBCYXNlLlN0cmluZ0J1ZmZlcixcbiAgdmFsdWVzOiBWYWxbXSxcbiAgc2VwYXJhdG9yOiBzdHJpbmcsXG4gIHRvU3RyaW5nOiBib29sZWFuLFxuKTogdm9pZCB7XG4gIGNvbnN0IGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG4gIHZhbHVlc1swXS5hcHBlbmRUbyhidWYsIHRvU3RyaW5nKTtcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJ1Zi5hcHBlbmQoc2VwYXJhdG9yKTtcbiAgICB2YWx1ZXNbaV0uYXBwZW5kVG8oYnVmLCB0b1N0cmluZyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYWNlTGlzdCBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZXM6IFZhbFtdKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYXBwZW5kTGlzdChidWYsIHRoaXMudmFsdWVzLCBcIiBcIiwgdG9TdHJpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXQodmlzaXRvcjogYW55KTogYW55IHtcbiAgICByZXR1cm4gdmlzaXRvci52aXNpdFNwYWNlTGlzdCh0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGlzU3BhY2VMaXN0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21tYUxpc3QgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGFwcGVuZExpc3QoYnVmLCB0aGlzLnZhbHVlcywgXCIsXCIsIHRvU3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRDb21tYUxpc3QodGhpcyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZ1bmMgZXh0ZW5kcyBWYWwge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwdWJsaWMgdmFsdWVzOiBWYWxbXSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBlbmRUbyhidWY6IEJhc2UuU3RyaW5nQnVmZmVyLCB0b1N0cmluZzogYm9vbGVhbik6IHZvaWQge1xuICAgIGJ1Zi5hcHBlbmQoQmFzZS5lc2NhcGVDU1NJZGVudCh0aGlzLm5hbWUpKTtcbiAgICBidWYuYXBwZW5kKFwiKFwiKTtcbiAgICBhcHBlbmRMaXN0KGJ1ZiwgdGhpcy52YWx1ZXMsIFwiLFwiLCB0b1N0cmluZyk7XG4gICAgYnVmLmFwcGVuZChcIilcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdCh2aXNpdG9yOiBhbnkpOiBhbnkge1xuICAgIHJldHVybiB2aXNpdG9yLnZpc2l0RnVuYyh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXhwciBleHRlbmRzIFZhbCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBleHByOiBFeHBycy5WYWwpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdG9FeHByKCk6IEV4cHJzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMuZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGVuZFRvKGJ1ZjogQmFzZS5TdHJpbmdCdWZmZXIsIHRvU3RyaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgYnVmLmFwcGVuZChcIi1lcHVieC1leHByKFwiKTtcbiAgICB0aGlzLmV4cHIuYXBwZW5kVG8oYnVmLCAwKTtcbiAgICBidWYuYXBwZW5kKFwiKVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0KHZpc2l0b3I6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIHZpc2l0b3IudmlzaXRFeHByKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNFeHByKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b051bWJlcih2YWw6IFZhbCwgY29udGV4dDogRXhwcnMuQ29udGV4dCk6IG51bWJlciB7XG4gIGlmICh2YWwpIHtcbiAgICBpZiAodmFsLmlzTnVtZXJpYygpKSB7XG4gICAgICBjb25zdCBudW1lcmljID0gdmFsIGFzIE51bWVyaWM7XG4gICAgICByZXR1cm4gY29udGV4dC5xdWVyeVVuaXRTaXplKG51bWVyaWMudW5pdCwgZmFsc2UpICogbnVtZXJpYy5udW07XG4gICAgfVxuICAgIGlmICh2YWwuaXNOdW0oKSkge1xuICAgICAgcmV0dXJuICh2YWwgYXMgTnVtKS5udW07XG4gICAgfVxuICB9XG4gIHJldHVybiAwO1xufVxuXG4vKipcbiAqIENvbnZlcnQgbnVtZXJpYyB2YWx1ZSB0byBweFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29udmVydE51bWVyaWNUb1B4KHZhbDogVmFsLCBjb250ZXh0OiBFeHBycy5Db250ZXh0KTogTnVtZXJpYyB7XG4gIHJldHVybiBuZXcgTnVtZXJpYyh0b051bWJlcih2YWwsIGNvbnRleHQpLCBcInB4XCIpO1xufVxuXG5leHBvcnQgY29uc3QgaWRlbnQ6IHsgW2tleTogc3RyaW5nXTogSWRlbnQgfSA9IHtcbiAgYWJzb2x1dGU6IGdldE5hbWUoXCJhYnNvbHV0ZVwiKSxcbiAgYWxsOiBnZXROYW1lKFwiYWxsXCIpLFxuICBhbHdheXM6IGdldE5hbWUoXCJhbHdheXNcIiksXG4gIGF1dG86IGdldE5hbWUoXCJhdXRvXCIpLFxuICBhdm9pZDogZ2V0TmFtZShcImF2b2lkXCIpLFxuICBiYWxhbmNlOiBnZXROYW1lKFwiYmFsYW5jZVwiKSxcbiAgYmFsYW5jZV9hbGw6IGdldE5hbWUoXCJiYWxhbmNlLWFsbFwiKSxcbiAgYmxvY2s6IGdldE5hbWUoXCJibG9ja1wiKSxcbiAgYmxvY2tfZW5kOiBnZXROYW1lKFwiYmxvY2stZW5kXCIpLFxuICBibG9ja19zdGFydDogZ2V0TmFtZShcImJsb2NrLXN0YXJ0XCIpLFxuICBib3RoOiBnZXROYW1lKFwiYm90aFwiKSxcbiAgYm90dG9tOiBnZXROYW1lKFwiYm90dG9tXCIpLFxuICBib3JkZXJfYm94OiBnZXROYW1lKFwiYm9yZGVyLWJveFwiKSxcbiAgYnJlYWtfYWxsOiBnZXROYW1lKFwiYnJlYWstYWxsXCIpLFxuICBicmVha193b3JkOiBnZXROYW1lKFwiYnJlYWstd29yZFwiKSxcbiAgY3JvcDogZ2V0TmFtZShcImNyb3BcIiksXG4gIGNyb3NzOiBnZXROYW1lKFwiY3Jvc3NcIiksXG4gIGNvbHVtbjogZ2V0TmFtZShcImNvbHVtblwiKSxcbiAgZXhjbHVzaXZlOiBnZXROYW1lKFwiZXhjbHVzaXZlXCIpLFxuICBfZmFsc2U6IGdldE5hbWUoXCJmYWxzZVwiKSxcbiAgZml4ZWQ6IGdldE5hbWUoXCJmaXhlZFwiKSxcbiAgZmxleDogZ2V0TmFtZShcImZsZXhcIiksXG4gIGZvb3Rub3RlOiBnZXROYW1lKFwiZm9vdG5vdGVcIiksXG4gIGZvb3RlcjogZ2V0TmFtZShcImZvb3RlclwiKSxcbiAgaGVhZGVyOiBnZXROYW1lKFwiaGVhZGVyXCIpLFxuICBoaWRkZW46IGdldE5hbWUoXCJoaWRkZW5cIiksXG4gIGhvcml6b250YWxfdGI6IGdldE5hbWUoXCJob3Jpem9udGFsLXRiXCIpLFxuICBpbmhlcml0OiBnZXROYW1lKFwiaW5oZXJpdFwiKSxcbiAgaW5saW5lOiBnZXROYW1lKFwiaW5saW5lXCIpLFxuICBpbmxpbmVfYmxvY2s6IGdldE5hbWUoXCJpbmxpbmUtYmxvY2tcIiksXG4gIGlubGluZV9lbmQ6IGdldE5hbWUoXCJpbmxpbmUtZW5kXCIpLFxuICBpbmxpbmVfc3RhcnQ6IGdldE5hbWUoXCJpbmxpbmUtc3RhcnRcIiksXG4gIGxhbmRzY2FwZTogZ2V0TmFtZShcImxhbmRzY2FwZVwiKSxcbiAgbGVmdDogZ2V0TmFtZShcImxlZnRcIiksXG4gIGxpbmU6IGdldE5hbWUoXCJsaW5lXCIpLFxuICBsaXN0X2l0ZW06IGdldE5hbWUoXCJsaXN0LWl0ZW1cIiksXG4gIGx0cjogZ2V0TmFtZShcImx0clwiKSxcbiAgbWFudWFsOiBnZXROYW1lKFwibWFudWFsXCIpLFxuICBub25lOiBnZXROYW1lKFwibm9uZVwiKSxcbiAgbm9ybWFsOiBnZXROYW1lKFwibm9ybWFsXCIpLFxuICBvZWJfcGFnZV9mb290OiBnZXROYW1lKFwib2ViLXBhZ2UtZm9vdFwiKSxcbiAgb2ViX3BhZ2VfaGVhZDogZ2V0TmFtZShcIm9lYi1wYWdlLWhlYWRcIiksXG4gIHBhZ2U6IGdldE5hbWUoXCJwYWdlXCIpLFxuICByZWxhdGl2ZTogZ2V0TmFtZShcInJlbGF0aXZlXCIpLFxuICByaWdodDogZ2V0TmFtZShcInJpZ2h0XCIpLFxuICBzYW1lOiBnZXROYW1lKFwic2FtZVwiKSxcbiAgc2NhbGU6IGdldE5hbWUoXCJzY2FsZVwiKSxcbiAgc25hcF9ibG9jazogZ2V0TmFtZShcInNuYXAtYmxvY2tcIiksXG4gIHNwcmVhZDogZ2V0TmFtZShcInNwcmVhZFwiKSxcbiAgX3N0YXRpYzogZ2V0TmFtZShcInN0YXRpY1wiKSxcbiAgcnRsOiBnZXROYW1lKFwicnRsXCIpLFxuICB0YWJsZTogZ2V0TmFtZShcInRhYmxlXCIpLFxuICB0YWJsZV9jYXB0aW9uOiBnZXROYW1lKFwidGFibGUtY2FwdGlvblwiKSxcbiAgdGFibGVfY2VsbDogZ2V0TmFtZShcInRhYmxlLWNlbGxcIiksXG4gIHRhYmxlX2Zvb3Rlcl9ncm91cDogZ2V0TmFtZShcInRhYmxlLWZvb3Rlci1ncm91cFwiKSxcbiAgdGFibGVfaGVhZGVyX2dyb3VwOiBnZXROYW1lKFwidGFibGUtaGVhZGVyLWdyb3VwXCIpLFxuICB0YWJsZV9yb3c6IGdldE5hbWUoXCJ0YWJsZS1yb3dcIiksXG4gIHRvcDogZ2V0TmFtZShcInRvcFwiKSxcbiAgdHJhbnNwYXJlbnQ6IGdldE5hbWUoXCJ0cmFuc3BhcmVudFwiKSxcbiAgdmVydGljYWxfbHI6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1sclwiKSxcbiAgdmVydGljYWxfcmw6IGdldE5hbWUoXCJ2ZXJ0aWNhbC1ybFwiKSxcbiAgdmlzaWJsZTogZ2V0TmFtZShcInZpc2libGVcIiksXG4gIF90cnVlOiBnZXROYW1lKFwidHJ1ZVwiKSxcbn07XG5cbmV4cG9ydCBjb25zdCBodW5kcmVkUGVyY2VudDogTnVtZXJpYyA9IG5ldyBOdW1lcmljKDEwMCwgXCIlXCIpO1xuXG5leHBvcnQgY29uc3QgZnVsbFdpZHRoOiBOdW1lcmljID0gbmV3IE51bWVyaWMoMTAwLCBcInB2d1wiKTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxIZWlnaHQ6IE51bWVyaWMgPSBuZXcgTnVtZXJpYygxMDAsIFwicHZoXCIpO1xuXG5leHBvcnQgY29uc3QgbnVtZXJpY1plcm86IE51bWVyaWMgPSBuZXcgTnVtZXJpYygwLCBcInB4XCIpO1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc2luZ09yZGVyID0ge1xuICBcImZvbnQtc2l6ZVwiOiAxLFxuICBjb2xvcjogMixcbn07XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc29ydCBwcm9wZXJ0eSBuYW1lcyBpbiB0aGUgb3JkZXIgdGhleSBzaG91bGQgYmUgcHJvY2Vzc2VkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzaW5nT3JkZXJGbihuYW1lMTogc3RyaW5nLCBuYW1lMjogc3RyaW5nKTogbnVtYmVyIHtcbiAgY29uc3QgbjEgPSBwcm9jZXNzaW5nT3JkZXJbbmFtZTFdIHx8IE51bWJlci5NQVhfVkFMVUU7XG4gIGNvbnN0IG4yID0gcHJvY2Vzc2luZ09yZGVyW25hbWUyXSB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICByZXR1cm4gbjEgLSBuMjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgR2VvbWV0cnlVdGlsIC0gR2VvbWV0cmljIHV0aWxpdGllcy5cbiAqL1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5cbmV4cG9ydCBjbGFzcyBSZWN0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHgxOiBudW1iZXIsXG4gICAgcHVibGljIHkxOiBudW1iZXIsXG4gICAgcHVibGljIHgyOiBudW1iZXIsXG4gICAgcHVibGljIHkyOiBudW1iZXIsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFBvaW50IHtcbiAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikge31cbn1cblxuZXhwb3J0IGNsYXNzIEluc2V0cyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsZWZ0OiBudW1iZXIsXG4gICAgcHVibGljIHRvcDogbnVtYmVyLFxuICAgIHB1YmxpYyByaWdodDogbnVtYmVyLFxuICAgIHB1YmxpYyBib3R0b206IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgU2VnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBsb3c6IFBvaW50LFxuICAgIHB1YmxpYyBoaWdoOiBQb2ludCxcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICkge31cbn1cblxuLyoqXG4gKiBBIHNpbmdsZSBiYW5kIGZvciBleGNsdXNpb24gcmVzdWx0LiBMZWZ0IGZsb2F0IGlzIGZyb20gdGhlIGxlZnQgYm94IGVkZ2VcbiAqIHRvIHgxLiBSaWdodCBmbG9hdCBpcyBmcm9tIHgyIHRvIHRoZSByaWdodCBib3ggZWRnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJhbmQge1xuICAvKiogTGVmdCBmbG9hdC4gKi9cbiAgbGVmdDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIC8qKiBSaWdodCBmbG9hdC4gKi9cbiAgcmlnaHQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgeTE6IG51bWJlcixcbiAgICBwdWJsaWMgeTI6IG51bWJlcixcbiAgICBwdWJsaWMgeDE6IG51bWJlcixcbiAgICBwdWJsaWMgeDI6IG51bWJlcixcbiAgKSB7fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VnbWVudENvbXBhcmUoczE6IFNlZ21lbnQsIHMyOiBTZWdtZW50KTogbnVtYmVyIHtcbiAgcmV0dXJuIHMxLmxvdy55IC0gczIubG93LnkgfHwgczEubG93LnggLSBzMi5sb3cueDtcbn1cblxuZXhwb3J0IGNsYXNzIFNoYXBlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHBvaW50czogUG9pbnRbXSkge31cblxuICAvKipcbiAgICogQ29udmVydHMgdGhpcyBzaGFwZSB0byBhIHNlcXVlbmNlIG9mIFNlZ21lbnRzIGFuZCBhZGRzIHNlZ21lbnRzIHRvIHRoZVxuICAgKiBnaXZlbiBhcnJheS5cbiAgICogQHBhcmFtIGFyciBhcnJheSB0byBhZGQgc2VnbWVudHMuXG4gICAqIEBwYXJhbSBpZCBzaGFwZUlkIHRvIHdyaXRlIGludG8gc2VnbWVudHMuXG4gICAqL1xuICBhZGRTZWdtZW50cyhhcnI6IFNlZ21lbnRbXSwgaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIGNvbnN0IGxlbmd0aCA9IHBvaW50cy5sZW5ndGg7XG4gICAgbGV0IHByZXYgPSBwb2ludHNbbGVuZ3RoIC0gMV07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY3VyciA9IHBvaW50c1tpXTtcbiAgICAgIGxldCBzOiBTZWdtZW50O1xuICAgICAgaWYgKHByZXYueSA8IGN1cnIueSkge1xuICAgICAgICBzID0gbmV3IFNlZ21lbnQocHJldiwgY3VyciwgMSwgaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcyA9IG5ldyBTZWdtZW50KGN1cnIsIHByZXYsIC0xLCBpZCk7XG4gICAgICB9XG4gICAgICBhcnIucHVzaChzKTtcbiAgICAgIHByZXYgPSBjdXJyO1xuICAgIH1cbiAgfVxuXG4gIHdpdGhPZmZzZXQob2Zmc2V0WDogbnVtYmVyLCBvZmZzZXRZOiBudW1iZXIpOiBTaGFwZSB7XG4gICAgY29uc3QgcG9pbnRzID0gW107XG4gICAgZm9yIChjb25zdCBwIG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICBwb2ludHMucHVzaChuZXcgUG9pbnQocC54ICsgb2Zmc2V0WCwgcC55ICsgb2Zmc2V0WSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNoYXBlKHBvaW50cyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yRWxsaXBzZShcbiAgY3g6IG51bWJlcixcbiAgY3k6IG51bWJlcixcbiAgcng6IG51bWJlcixcbiAgcnk6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgY29uc3QgY291bnQgPSAyMDtcbiAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIGNvbnN0IGEgPSAoaSAqIDIgKiBNYXRoLlBJKSAvIGNvdW50O1xuICAgIHBvaW50cy5wdXNoKG5ldyBQb2ludChjeCArIHJ4ICogTWF0aC5zaW4oYSksIGN5ICsgcnkgKiBNYXRoLmNvcyhhKSkpO1xuICB9XG4gIHJldHVybiBuZXcgU2hhcGUocG9pbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlRm9yUmVjdChcbiAgeDE6IG51bWJlcixcbiAgeTE6IG51bWJlcixcbiAgeDI6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IFNoYXBlIHtcbiAgcmV0dXJuIG5ldyBTaGFwZShbXG4gICAgbmV3IFBvaW50KHgxLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MSksXG4gICAgbmV3IFBvaW50KHgyLCB5MiksXG4gICAgbmV3IFBvaW50KHgxLCB5MiksXG4gIF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2hhcGVGb3JSZWN0T2JqKHI6IFJlY3QpOiBTaGFwZSB7XG4gIHJldHVybiBuZXcgU2hhcGUoW1xuICAgIG5ldyBQb2ludChyLngxLCByLnkxKSxcbiAgICBuZXcgUG9pbnQoci54Miwgci55MSksXG4gICAgbmV3IFBvaW50KHIueDIsIHIueTIpLFxuICAgIG5ldyBQb2ludChyLngxLCByLnkyKSxcbiAgXSk7XG59XG5cbmV4cG9ydCBjbGFzcyBCYW5kSW50ZXJzZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHg6IG51bWJlcixcbiAgICBwdWJsaWMgd2luZGluZzogbnVtYmVyLFxuICAgIHB1YmxpYyBzaGFwZUlkOiBudW1iZXIsXG4gICAgcHVibGljIGxvd09ySGlnaDogbnVtYmVyLFxuICApIHt9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlcnNlY3RZKHM6IFNlZ21lbnQsIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGNvbnN0IHggPVxuICAgIHMubG93LnggKyAoKHMuaGlnaC54IC0gcy5sb3cueCkgKiAoeSAtIHMubG93LnkpKSAvIChzLmhpZ2gueSAtIHMubG93LnkpO1xuICBpZiAoaXNOYU4oeCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJCYWQgaW50ZXJzZWN0aW9uXCIpO1xuICB9XG4gIHJldHVybiB4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQmFuZEludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgczogU2VnbWVudCxcbiAgeTE6IG51bWJlcixcbiAgeTI6IG51bWJlcixcbik6IHZvaWQge1xuICBsZXQgeDE6IG51bWJlcjtcbiAgbGV0IHcxOiBudW1iZXI7XG4gIGxldCB4MjogbnVtYmVyO1xuICBsZXQgdzI6IG51bWJlcjtcbiAgaWYgKHMuaGlnaC55IDwgeTEpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRXJyb3I6IGluY29uc2lzdGVudCBzZWdtZW50ICgxKVwiKTtcbiAgfVxuICBpZiAocy5sb3cueSA8PSB5MSkge1xuICAgIC8vIG91dHNpZGVcbiAgICB4MSA9IGludGVyc2VjdFkocywgeTEpO1xuICAgIHcxID0gcy53aW5kaW5nO1xuICB9IGVsc2Uge1xuICAgIHgxID0gcy5sb3cueDtcbiAgICB3MSA9IDA7XG4gIH1cbiAgaWYgKHMuaGlnaC55ID49IHkyKSB7XG4gICAgLy8gb3V0c2lkZVxuICAgIHgyID0gaW50ZXJzZWN0WShzLCB5Mik7XG4gICAgdzIgPSBzLndpbmRpbmc7XG4gIH0gZWxzZSB7XG4gICAgeDIgPSBzLmhpZ2gueDtcbiAgICB3MiA9IDA7XG4gIH1cbiAgaWYgKHgxIDwgeDIpIHtcbiAgICBpbnRlcnNlY3Rpb25zLnB1c2gobmV3IEJhbmRJbnRlcnNlY3Rpb24oeDEsIHcxLCBzLnNoYXBlSWQsIC0xKSk7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAxKSk7XG4gIH0gZWxzZSB7XG4gICAgaW50ZXJzZWN0aW9ucy5wdXNoKG5ldyBCYW5kSW50ZXJzZWN0aW9uKHgyLCB3Miwgcy5zaGFwZUlkLCAtMSkpO1xuICAgIGludGVyc2VjdGlvbnMucHVzaChuZXcgQmFuZEludGVyc2VjdGlvbih4MSwgdzEsIHMuc2hhcGVJZCwgMSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUludGVyc2VjdGlvbnMoXG4gIGludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSxcbiAgaW5jbHVkZUNvdW50OiBudW1iZXIsXG4gIGV4Y2x1ZGVDb3VudDogbnVtYmVyLFxuKTogbnVtYmVyW10ge1xuICBjb25zdCBzaGFwZUNvdW50ID0gaW5jbHVkZUNvdW50ICsgZXhjbHVkZUNvdW50O1xuICBjb25zdCB3aW5kaW5nczE6IG51bWJlcltdID0gQXJyYXkoc2hhcGVDb3VudCk7XG4gIGNvbnN0IHdpbmRpbmdzMjogbnVtYmVyW10gPSBBcnJheShzaGFwZUNvdW50KTtcbiAgbGV0IGk6IG51bWJlcjtcbiAgZm9yIChpID0gMDsgaSA8PSBzaGFwZUNvdW50OyBpKyspIHtcbiAgICB3aW5kaW5nczFbaV0gPSAwO1xuICAgIHdpbmRpbmdzMltpXSA9IDA7XG4gIH1cbiAgY29uc3QgeHJhbmdlczogbnVtYmVyW10gPSBbXTtcbiAgbGV0IGluc2lkZTogYm9vbGVhbiA9IGZhbHNlO1xuICBjb25zdCBpbnRlcnNlY3Rpb25Db3VudCA9IGludGVyc2VjdGlvbnMubGVuZ3RoO1xuICBmb3IgKGxldCBrID0gMDsgayA8IGludGVyc2VjdGlvbkNvdW50OyBrKyspIHtcbiAgICBjb25zdCBpbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb25zW2tdO1xuICAgIHdpbmRpbmdzMVtpbnRlcnNlY3Rpb24uc2hhcGVJZF0gKz0gaW50ZXJzZWN0aW9uLndpbmRpbmc7XG4gICAgd2luZGluZ3MyW2ludGVyc2VjdGlvbi5zaGFwZUlkXSArPSBpbnRlcnNlY3Rpb24ubG93T3JIaWdoO1xuICAgIGxldCBzdGlsbEluc2lkZSA9IGZhbHNlO1xuICAgIGZvciAoaSA9IDA7IGkgPCBpbmNsdWRlQ291bnQ7IGkrKykge1xuICAgICAgaWYgKHdpbmRpbmdzMVtpXSAmJiAhd2luZGluZ3MyW2ldKSB7XG4gICAgICAgIHN0aWxsSW5zaWRlID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChzdGlsbEluc2lkZSkge1xuICAgICAgZm9yIChpID0gaW5jbHVkZUNvdW50OyBpIDw9IHNoYXBlQ291bnQ7IGkrKykge1xuICAgICAgICBpZiAod2luZGluZ3MxW2ldIHx8IHdpbmRpbmdzMltpXSkge1xuICAgICAgICAgIHN0aWxsSW5zaWRlID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluc2lkZSAhPSBzdGlsbEluc2lkZSkge1xuICAgICAgeHJhbmdlcy5wdXNoKGludGVyc2VjdGlvbi54KTtcbiAgICAgIGluc2lkZSA9IHN0aWxsSW5zaWRlO1xuICAgIH1cbiAgfVxuICByZXR1cm4geHJhbmdlcztcbn1cblxuLyoqXG4gKiBSb3VuZCB2IHVwIHRvIG1ha2UgaXQgYSBtdWx0aXBsZSBvZiB1bml0LiBJZiB1bml0IGlzIHplcm8sIHJldHVybiB2LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2VpbCh2OiBudW1iZXIsIHVuaXQ6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiB1bml0ID8gTWF0aC5jZWlsKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG4vKipcbiAqIFJvdW5kIHYgZG93biB0byBtYWtlIGl0IGEgbXVsdGlwbGUgb2YgdW5pdC4gSWYgdW5pdCBpcyB6ZXJvLCByZXR1cm4gdi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsb29yKHY6IG51bWJlciwgdW5pdDogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIHVuaXQgPyBNYXRoLmZsb29yKHYgLyB1bml0KSAqIHVuaXQgOiB2O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlUG9pbnQocG9pbnQ6IFBvaW50KTogUG9pbnQge1xuICByZXR1cm4gbmV3IFBvaW50KHBvaW50LnksIC1wb2ludC54KTtcbn1cblxuLyoqXG4gKiBWZXJ0aWNhbCBib3ggdG8gcHNldWRvLWhvcml6b250YWwgY29vcmRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoYm94LnkxLCAtYm94LngyLCBib3gueTIsIC1ib3gueDEpO1xufVxuXG4vKipcbiAqIFBzZXVkby1ob3Jpem9udGFsIGNvb3JkcyB0byB2ZXJ0aWNhbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVucm90YXRlQm94KGJveDogUmVjdCk6IFJlY3Qge1xuICByZXR1cm4gbmV3IFJlY3QoLWJveC55MiwgYm94LngxLCAtYm94LnkxLCBib3gueDIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcm90YXRlU2hhcGUoc2hhcGU6IFNoYXBlKTogU2hhcGUge1xuICByZXR1cm4gbmV3IFNoYXBlKHNoYXBlLnBvaW50cy5tYXAoKHBvaW50KSA9PiByb3RhdGVQb2ludChwb2ludCkpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNoYXBlc1RvQmFuZHMoXG4gIGJveDogUmVjdCxcbiAgaW5jbHVkZTogU2hhcGVbXSxcbiAgZXhjbHVkZTogU2hhcGVbXSxcbiAgZ3JhbnVsYXJpdHk6IG51bWJlcixcbiAgc25hcEhlaWdodDogbnVtYmVyLFxuICB2ZXJ0aWNhbDogYm9vbGVhbixcbik6IEJhbmRbXSB7XG4gIGlmICh2ZXJ0aWNhbCkge1xuICAgIGJveCA9IHJvdGF0ZUJveChib3gpO1xuICAgIGluY2x1ZGUgPSBpbmNsdWRlLm1hcCgoc2hhcGUpID0+IHJvdGF0ZVNoYXBlKHNoYXBlKSk7XG4gICAgZXhjbHVkZSA9IGV4Y2x1ZGUubWFwKChzaGFwZSkgPT4gcm90YXRlU2hhcGUoc2hhcGUpKTtcbiAgfVxuICBjb25zdCBpbmNsdWRlQ291bnQgPSBpbmNsdWRlLmxlbmd0aDtcbiAgY29uc3QgZXhjbHVkZUNvdW50ID0gZXhjbHVkZSA/IGV4Y2x1ZGUubGVuZ3RoIDogMDtcbiAgY29uc3QgcmVzdWx0OiBCYW5kW10gPSBbXTtcbiAgY29uc3Qgc2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICBsZXQgaTogbnVtYmVyO1xuICBsZXQgazogbnVtYmVyO1xuICBsZXQgc2VnbWVudDogU2VnbWVudDtcbiAgZm9yIChpID0gMDsgaSA8IGluY2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgaW5jbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSk7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IGV4Y2x1ZGVDb3VudDsgaSsrKSB7XG4gICAgZXhjbHVkZVtpXS5hZGRTZWdtZW50cyhzZWdtZW50cywgaSArIGluY2x1ZGVDb3VudCk7XG4gIH1cbiAgY29uc3Qgc2VnbWVudENvdW50ID0gc2VnbWVudHMubGVuZ3RoO1xuICBzZWdtZW50cy5zb3J0KHNlZ21lbnRDb21wYXJlKTtcbiAgbGV0IGxvd2VzdEluY2x1ZGVJbmRleCA9IDA7XG4gIHdoaWxlIChzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLnNoYXBlSWQgPj0gaW5jbHVkZUNvdW50KSB7XG4gICAgbG93ZXN0SW5jbHVkZUluZGV4Kys7XG4gIH1cbiAgbGV0IHkgPSBzZWdtZW50c1tsb3dlc3RJbmNsdWRlSW5kZXhdLmxvdy55O1xuICBpZiAoeSA+IGJveC55MSkge1xuICAgIHJlc3VsdC5wdXNoKG5ldyBCYW5kKGJveC55MSwgeSwgYm94LngyLCBib3gueDIpKTtcbiAgfVxuICBsZXQgc2VnbWVudEluZGV4ID0gMDtcbiAgY29uc3QgYWN0aXZlU2VnbWVudHM6IFNlZ21lbnRbXSA9IFtdO1xuICB3aGlsZSAoXG4gICAgc2VnbWVudEluZGV4IDwgc2VnbWVudENvdW50ICYmXG4gICAgKHNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50SW5kZXhdKS5sb3cueSA8IHlcbiAgKSB7XG4gICAgaWYgKHNlZ21lbnQuaGlnaC55ID4geSkge1xuICAgICAgYWN0aXZlU2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG4gICAgc2VnbWVudEluZGV4Kys7XG4gIH1cblxuICAvLyBwcm9jZXNzIHRoZSBzZWdtZW50cyBmcm9tIGxvdyB0byBoaWdoIHkgdmFsdWVzXG4gIHdoaWxlIChzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgfHwgYWN0aXZlU2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgIC8vIGNhbGN1bGF0ZSB0aGUgaGVpZ2h0IG9mIHRoZSBiYW5kIHRvIHdvcmsgd2l0aFxuICAgIGxldCB5MiA9IGJveC55MjsgLy8gYmFuZCBib3R0b21cbiAgICAvLyBtaW4gcG9zc2libGUgeTJcbiAgICBjb25zdCB5Mm1pbiA9IE1hdGgubWluKFxuICAgICAgY2VpbChNYXRoLmNlaWwoeSArIGdyYW51bGFyaXR5KSwgc25hcEhlaWdodCksXG4gICAgICBib3gueTIsXG4gICAgKTtcbiAgICBmb3IgKGsgPSAwOyBrIDwgYWN0aXZlU2VnbWVudHMubGVuZ3RoICYmIHkyID4geTJtaW47IGsrKykge1xuICAgICAgc2VnbWVudCA9IGFjdGl2ZVNlZ21lbnRzW2tdO1xuICAgICAgaWYgKHNlZ21lbnQubG93LnggPT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gdmVydGljYWxcbiAgICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeTIpIHtcbiAgICAgICAgICB5MiA9IE1hdGgubWF4KGZsb29yKHNlZ21lbnQuaGlnaC55LCBzbmFwSGVpZ2h0KSwgeTJtaW4pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNlZ21lbnQubG93LnggIT0gc2VnbWVudC5oaWdoLngpIHtcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHdlIGNvbXBhcmUgeT8/P1xuICAgICAgICAvLyBzbGFudGVkIChub3QgaG9yaXpvbnRhbClcbiAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHkyID4gYm94LnkyKSB7XG4gICAgICB5MiA9IGJveC55MjtcbiAgICB9XG5cbiAgICAvLyBpbmNsdWRlIG5ldyBzZWdtZW50cywgZGVjcmVhc2luZyB5MiBpZiBuZWVkZWRcbiAgICB3aGlsZSAoXG4gICAgICBzZWdtZW50SW5kZXggPCBzZWdtZW50Q291bnQgJiZcbiAgICAgIChzZWdtZW50ID0gc2VnbWVudHNbc2VnbWVudEluZGV4XSkubG93LnkgPCB5MlxuICAgICkge1xuICAgICAgaWYgKHNlZ21lbnQuaGlnaC55IDwgeSkge1xuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoc2VnbWVudC5sb3cueSA8IHkybWluKSB7XG4gICAgICAgIGlmIChzZWdtZW50Lmxvdy55ID09IHNlZ21lbnQuaGlnaC55ICYmIHNlZ21lbnQubG93LnkgPT0geSkge1xuICAgICAgICAgIC8vIEhvcml6b250YWwgc2VnbWVudCB0aGF0IGdvZXMgcmlnaHQgYXQgeSBpcyBub3QgYWN0aXZlLFxuICAgICAgICAgIC8vIGJ1dCBjb25zdW1lIGl0IGFueXdheVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2ZVNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgICAgICAgeTIgPSB5Mm1pbjtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50SW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERvIG5vdCBjb25zdW1lIGl0LCBjb25zaWRlciBib3R0b20gZWRnZSBcIm91dHNpZGVcIlxuICAgICAgICBjb25zdCB5biA9IGZsb29yKHNlZ21lbnQubG93LnksIHNuYXBIZWlnaHQpO1xuICAgICAgICBpZiAoeW4gPCB5Mikge1xuICAgICAgICAgIHkyID0geW47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbm93IGxvb2sgYXQgdGhlIGJhbmQgd2l0aCB0b3AgYXQgeSBhbmQgYm90dG9tIGF0IHkyXG4gICAgLy8gYWN0aXZlU2VnbWVudHMgc2hvdWxkIGxpc3QgYWxsIHNlZ21lbnRzIHRoYXQgaW50ZXJzZWN0IHRoYXQgYmFuZFxuXG4gICAgLy8gZmluZCBhbGwgaW50ZXJzZWN0aW9ucyB3aXRoIHRoZSBiYW5kXG4gICAgY29uc3QgYmFuZEludGVyc2VjdGlvbnM6IEJhbmRJbnRlcnNlY3Rpb25bXSA9IFtdO1xuICAgIGZvciAoayA9IDA7IGsgPCBhY3RpdmVTZWdtZW50cy5sZW5ndGg7IGsrKykge1xuICAgICAgYWRkQmFuZEludGVyc2VjdGlvbnMoYmFuZEludGVyc2VjdGlvbnMsIGFjdGl2ZVNlZ21lbnRzW2tdLCB5LCB5Mik7XG4gICAgfVxuICAgIGJhbmRJbnRlcnNlY3Rpb25zLnNvcnQoXG4gICAgICAoYmkxLCBiaTIpID0+IGJpMS54IC0gYmkyLnggfHwgYmkxLmxvd09ySGlnaCAtIGJpMi5sb3dPckhpZ2gsXG4gICAgKTtcbiAgICBjb25zdCB4cmFuZ2VzID0gbWVyZ2VJbnRlcnNlY3Rpb25zKFxuICAgICAgYmFuZEludGVyc2VjdGlvbnMsXG4gICAgICBpbmNsdWRlQ291bnQsXG4gICAgICBleGNsdWRlQ291bnQsXG4gICAgKTtcbiAgICBpZiAoeHJhbmdlcy5sZW5ndGggPT0gMCkge1xuICAgICAgcmVzdWx0LnB1c2gobmV3IEJhbmQoeSwgeTIsIGJveC54MiwgYm94LngyKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGdldCB0aGUgd2lkZXN0XG4gICAgICBsZXQgd2lkdGggPSAwO1xuICAgICAgbGV0IHggPSBib3gueDE7XG4gICAgICBmb3IgKGsgPSAwOyBrIDwgeHJhbmdlcy5sZW5ndGg7IGsgKz0gMikge1xuICAgICAgICBjb25zdCByeCA9IE1hdGgubWF4KGJveC54MSwgeHJhbmdlc1trXSk7XG4gICAgICAgIGNvbnN0IHJ3ID0gTWF0aC5taW4oYm94LngyLCB4cmFuZ2VzW2sgKyAxXSkgLSByeDtcbiAgICAgICAgaWYgKHJ3ID4gd2lkdGgpIHtcbiAgICAgICAgICB3aWR0aCA9IHJ3O1xuICAgICAgICAgIHggPSByeDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHdpZHRoID09IDApIHtcbiAgICAgICAgLy8gbm8gc3BhY2UgbGVmdFxuICAgICAgICByZXN1bHQucHVzaChuZXcgQmFuZCh5LCB5MiwgYm94LngyLCBib3gueDIpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICAgIG5ldyBCYW5kKHksIHkyLCBNYXRoLm1heCh4LCBib3gueDEpLCBNYXRoLm1pbih4ICsgd2lkdGgsIGJveC54MikpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeTIgPT0gYm94LnkyKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgeSA9IHkyO1xuICAgIGZvciAoayA9IGFjdGl2ZVNlZ21lbnRzLmxlbmd0aCAtIDE7IGsgPj0gMDsgay0tKSB7XG4gICAgICBpZiAoYWN0aXZlU2VnbWVudHNba10uaGlnaC55IDw9IHkyKSB7XG4gICAgICAgIGFjdGl2ZVNlZ21lbnRzLnNwbGljZShrLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbm9ybWFsaXplKGJveCwgcmVzdWx0KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShib3g6IFJlY3QsIGJhbmRzOiBCYW5kW10pOiB2b2lkIHtcbiAgbGV0IGsgPSBiYW5kcy5sZW5ndGggLSAxO1xuXG4gIC8vIE1lcmdlIGJhbmRzIHdpdGggdGhlIHNhbWUgeDEsIHgyIGFuZCByZW1vdmUgdW5uZWVkZWQgYmFuZHMgYXQgdGhlIGVuZC5cbiAgLy8gQ3JlYXRlIGZpY3Rpb3VzIGxhc3QgYmFuZCB0byBtZXJnZSB1bm5lZWRlZCBiYW5kcyBhdCB0aGUgZW5kXG4gIGxldCBjdXJyQmFuZCA9IG5ldyBCYW5kKGJveC55MiwgYm94LnkyLCBib3gueDEsIGJveC54Mik7XG4gIHdoaWxlIChrID49IDApIHtcbiAgICBjb25zdCBwcmV2QmFuZCA9IGN1cnJCYW5kOyAvLyByZXN1bHRbaysxXVxuICAgIGN1cnJCYW5kID0gYmFuZHNba107XG4gICAgaWYgKFxuICAgICAgY3VyckJhbmQueTIgLSBjdXJyQmFuZC55MSA8IDEgfHwgLy8gUmVtb3ZlIGJhbmRzIHdpdGggaGVpZ2h0IGxlc3MgdGhhbiAxcHhcbiAgICAgIChjdXJyQmFuZC54MSA9PSBwcmV2QmFuZC54MSAmJiBjdXJyQmFuZC54MiA9PSBwcmV2QmFuZC54MilcbiAgICApIHtcbiAgICAgIHByZXZCYW5kLnkxID0gY3VyckJhbmQueTE7IC8vIG1lcmdlXG4gICAgICBiYW5kcy5zcGxpY2UoaywgMSk7XG4gICAgICBjdXJyQmFuZCA9IHByZXZCYW5kO1xuICAgIH1cbiAgICBrLS07XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBpbmRleCBvZiB0aGUgYm90dG9tbW9zdCBiYW5kIHNvIHRoYXQgeSA8IGJhbmQueTJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCYW5kKGJhbmRzOiBCYW5kW10sIHk6IG51bWJlcik6IG51bWJlciB7XG4gIGxldCBsb3cgPSAwO1xuICBsZXQgaGlnaCA9IGJhbmRzLmxlbmd0aDtcbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICBjb25zdCBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgIGlmICh5ID49IGJhbmRzW21pZF0ueTIpIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3c7XG59XG5cbi8qKlxuICogRmluZCB0aGUgdXBwZXJtb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRVcHBlcm1vc3RGdWxseU9wZW5SZWN0KFxuICBiYW5kczogQmFuZFtdLFxuICByZWN0OiBSZWN0LFxuKTogUmVjdCB8IG51bGwge1xuICBpZiAoIWJhbmRzLmxlbmd0aCkge1xuICAgIHJldHVybiByZWN0O1xuICB9XG4gIGxldCB0b3BFZGdlID0gcmVjdC55MTtcbiAgbGV0IGJhbmQ6IEJhbmQ7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkyID4gcmVjdC55MSAmJlxuICAgICAgYmFuZC54MSAtIDAuMSA8PSByZWN0LngxICYmXG4gICAgICBiYW5kLngyICsgMC4xID49IHJlY3QueDJcbiAgICApIHtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b3BFZGdlID0gTWF0aC5tYXgodG9wRWRnZSwgYmFuZC55Mik7XG4gICAgfVxuICB9XG4gIGxldCBib3R0b21FZGdlID0gdG9wRWRnZTtcbiAgZm9yICg7IGkgPCBiYW5kcy5sZW5ndGg7IGkrKykge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoXG4gICAgICBiYW5kLnkxID49IHJlY3QueTIgfHxcbiAgICAgIGJhbmQueDEgLSAwLjEgPiByZWN0LngxIHx8XG4gICAgICBiYW5kLngyICsgMC4xIDwgcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBiYW5kLnkyO1xuICAgIH1cbiAgfVxuICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoKSB7XG4gICAgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIH0gZWxzZSB7XG4gICAgYm90dG9tRWRnZSA9IE1hdGgubWluKGJvdHRvbUVkZ2UsIHJlY3QueTIpO1xuICB9XG4gIGlmIChib3R0b21FZGdlIDw9IHRvcEVkZ2UpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFJlY3QocmVjdC54MSwgdG9wRWRnZSwgcmVjdC54MiwgYm90dG9tRWRnZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGaW5kIHRoZSBib3R0b21tb3N0IHJlY3RhbmdsZSBjb250YWluZWQgaW4gdGhlIHNwZWNpZmllZCByZWN0IHdoaWNoIG9jY3VwaWVzXG4gKiBmdWxsIHdpZHRoIG9mIHRoZSByZWN0IHdpdGhvdXQgb3ZlcmxhcHBpbmcgd2l0aCBhbnkgYmFuZCBpbiB0aGUgc3BlY2lmaWVkXG4gKiBiYW5kcy5cbiAqIEByZXR1cm5zIFJldHVybnMgbnVsbCBpZiBzdWNoIHJlY3RhbmdsZSBkb2VzIG5vdCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCb3R0b21tb3N0RnVsbHlPcGVuUmVjdChcbiAgYmFuZHM6IEJhbmRbXSxcbiAgcmVjdDogUmVjdCxcbik6IFJlY3QgfCBudWxsIHtcbiAgaWYgKCFiYW5kcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gcmVjdDtcbiAgfVxuICBsZXQgYm90dG9tRWRnZSA9IHJlY3QueTI7XG4gIGxldCBiYW5kOiBCYW5kO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGkgPSBiYW5kcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGJhbmQgPSBiYW5kc1tpXTtcbiAgICBpZiAoaSA9PT0gYmFuZHMubGVuZ3RoIC0gMSAmJiBiYW5kLnkyIDwgcmVjdC55Mikge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmIChcbiAgICAgIGJhbmQueTEgPCByZWN0LnkyICYmXG4gICAgICBiYW5kLngxIC0gMC4xIDw9IHJlY3QueDEgJiZcbiAgICAgIGJhbmQueDIgKyAwLjEgPj0gcmVjdC54MlxuICAgICkge1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvdHRvbUVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkxKTtcbiAgICB9XG4gIH1cbiAgbGV0IHRvcEVkZ2UgPSBNYXRoLm1pbihib3R0b21FZGdlLCBiYW5kLnkyKTtcbiAgZm9yICg7IGkgPj0gMDsgaS0tKSB7XG4gICAgYmFuZCA9IGJhbmRzW2ldO1xuICAgIGlmIChcbiAgICAgIGJhbmQueTIgPD0gcmVjdC55MSB8fFxuICAgICAgYmFuZC54MSAtIDAuMSA+IHJlY3QueDEgfHxcbiAgICAgIGJhbmQueDIgKyAwLjEgPCByZWN0LngyXG4gICAgKSB7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2Uge1xuICAgICAgdG9wRWRnZSA9IGJhbmQueTE7XG4gICAgfVxuICB9XG4gIHRvcEVkZ2UgPSBNYXRoLm1heCh0b3BFZGdlLCByZWN0LnkxKTtcbiAgaWYgKGJvdHRvbUVkZ2UgPD0gdG9wRWRnZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgUmVjdChyZWN0LngxLCB0b3BFZGdlLCByZWN0LngyLCBib3R0b21FZGdlKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBzaWRlIGVpdGhlciBcImxlZnRcIiBvciBcInJpZ2h0XCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvc2l0aW9uRmxvYXQoXG4gIGJveDogUmVjdCxcbiAgYmFuZHM6IEJhbmRbXSxcbiAgZmxvYXRCb3g6IFJlY3QsXG4gIHNpZGU6IHN0cmluZyxcbik6IGJvb2xlYW4ge1xuICBsZXQgeSA9IGZsb2F0Qm94LnkxO1xuICBjb25zdCBmbG9hdFdpZHRoID0gZmxvYXRCb3gueDIgLSBmbG9hdEJveC54MTtcbiAgY29uc3QgZmxvYXRIZWlnaHQgPSBmbG9hdEJveC55MiAtIGZsb2F0Qm94LnkxO1xuICBsZXQgaW5kZXggPSBmaW5kQmFuZChiYW5kcywgeSk7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgLy8gQ2hlY2sgaWYgaXQgZml0c1xuICAgIGNvbnN0IGZsb2F0Qm90dG9tID0geSArIGZsb2F0SGVpZ2h0O1xuICAgIGlmIChmbG9hdEJvdHRvbSA+IGJveC55Mikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGRvZXMgbm90IGZpdCB2ZXJ0aWNhbGx5XG4gICAgbGV0IHgxID0gYm94LngxO1xuICAgIGxldCB4MiA9IGJveC54MjtcbiAgICBmb3IgKGxldCBpID0gaW5kZXg7IGkgPCBiYW5kcy5sZW5ndGggJiYgYmFuZHNbaV0ueTEgPCBmbG9hdEJvdHRvbTsgaSsrKSB7XG4gICAgICBjb25zdCBiYW5kID0gYmFuZHNbaV07XG4gICAgICBpZiAoYmFuZC54MSA+IHgxKSB7XG4gICAgICAgIHgxID0gYmFuZC54MTtcbiAgICAgIH1cbiAgICAgIGlmIChiYW5kLngyIDwgeDIpIHtcbiAgICAgICAgeDIgPSBiYW5kLngyO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoeDEgKyBmbG9hdFdpZHRoIDw9IHgyIHx8IGluZGV4ID49IGJhbmRzLmxlbmd0aCkge1xuICAgICAgaWYgKHNpZGUgPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgZmxvYXRCb3gueDEgPSB4MTtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MSArIGZsb2F0V2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmbG9hdEJveC54MSA9IHgyIC0gZmxvYXRXaWR0aDtcbiAgICAgICAgZmxvYXRCb3gueDIgPSB4MjtcbiAgICAgIH1cbiAgICAgIGZsb2F0Qm94LnkyICs9IHkgLSBmbG9hdEJveC55MTtcbiAgICAgIGZsb2F0Qm94LnkxID0geTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB5ID0gYmFuZHNbaW5kZXhdLnkyO1xuICAgIGluZGV4Kys7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEZsb2F0VG9CYW5kcyhcbiAgYm94OiBSZWN0LFxuICBiYW5kczogQmFuZFtdLFxuICBmbG9hdEJveDogUmVjdCxcbiAgZmxvYXRCYW5kczogQmFuZFtdLFxuICBzaWRlOiBzdHJpbmcsXG4pOiB2b2lkIHtcbiAgaWYgKCFmbG9hdEJhbmRzKSB7XG4gICAgZmxvYXRCYW5kcyA9IFtuZXcgQmFuZChmbG9hdEJveC55MSwgZmxvYXRCb3gueTIsIGZsb2F0Qm94LngxLCBmbG9hdEJveC54MildO1xuICB9XG4gIHdoaWxlIChmbG9hdEJhbmRzLmxlbmd0aCA+IDAgJiYgZmxvYXRCYW5kc1swXS55MiA8PSBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzLnNoaWZ0KCk7XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHMubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGZsb2F0QmFuZHNbMF0ueTEgPCBib3gueTEpIHtcbiAgICBmbG9hdEJhbmRzWzBdLnkxID0gYm94LnkxO1xuICB9XG4gIGxldCBiYW5kOiBCYW5kO1xuICBjb25zdCBsYXN0WSA9IGJhbmRzLmxlbmd0aCA9PSAwID8gYm94LnkxIDogYmFuZHNbYmFuZHMubGVuZ3RoIC0gMV0ueTI7XG4gIGlmIChsYXN0WSA8IGJveC55Mikge1xuICAgIC8vIGFkZCB0aGUgdGFpbCBiYW5kIHRoYXQgd2UgdHlwaWNhbGx5IGRvbid0IGtlZXAsIGl0IHdpbGwgYmUgY2xlYXJlZCBieVxuICAgIC8vIG5vcm1hbGl6ZSgpXG4gICAgYmFuZHMucHVzaChuZXcgQmFuZChsYXN0WSwgYm94LnkyLCBib3gueDEsIGJveC54MikpO1xuICB9XG4gIGxldCBpbmRleCA9IGZpbmRCYW5kKGJhbmRzLCBmbG9hdEJhbmRzWzBdLnkxKTtcbiAgZm9yIChjb25zdCBmbG9hdEJhbmQgb2YgZmxvYXRCYW5kcykge1xuICAgIGlmIChpbmRleCA9PSBiYW5kcy5sZW5ndGgpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoYmFuZHNbaW5kZXhdLnkxIDwgZmxvYXRCYW5kLnkxKSB7XG4gICAgICAvLyBzcGxpdCBpdFxuICAgICAgYmFuZCA9IGJhbmRzW2luZGV4XTtcbiAgICAgIGluZGV4Kys7XG4gICAgICBiYW5kcy5zcGxpY2UoaW5kZXgsIDAsIG5ldyBCYW5kKGZsb2F0QmFuZC55MSwgYmFuZC55MiwgYmFuZC54MSwgYmFuZC54MikpO1xuICAgICAgYmFuZC55MiA9IGZsb2F0QmFuZC55MTtcbiAgICB9XG4gICAgd2hpbGUgKGluZGV4IDwgYmFuZHMubGVuZ3RoKSB7XG4gICAgICBiYW5kID0gYmFuZHNbaW5kZXgrK107XG4gICAgICBpZiAoYmFuZC55MiA+IGZsb2F0QmFuZC55Mikge1xuICAgICAgICAvLyBzcGxpdCBpdFxuICAgICAgICBiYW5kcy5zcGxpY2UoXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgMCxcbiAgICAgICAgICBuZXcgQmFuZChmbG9hdEJhbmQueTIsIGJhbmQueTIsIGJhbmQueDEsIGJhbmQueDIpLFxuICAgICAgICApO1xuICAgICAgICBiYW5kLnkyID0gZmxvYXRCYW5kLnkyO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0QmFuZC54MSAhPSBmbG9hdEJhbmQueDIpIHtcbiAgICAgICAgLy8gbm9uLWVtcHR5IGZsb2F0QmFuZFxuICAgICAgICBpZiAoc2lkZSA9PSBcImxlZnRcIikge1xuICAgICAgICAgIGJhbmQueDEgPSBNYXRoLm1pbihmbG9hdEJhbmQueDIsIGJveC54Mik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYmFuZC54MiA9IE1hdGgubWF4KGZsb2F0QmFuZC54MSwgYm94LngxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJhbmQueTIgPT0gZmxvYXRCYW5kLnkyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBub3JtYWxpemUoYm94LCBiYW5kcyk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1Byb3AgLSBTdXBwb3J0IHV0aWxpdGllcyB0byBleHRyYWN0IGluZm9ybWF0aW9uXG4gKiBmcm9tIHZhcmlvdXMgKHBhcnNlZCkgQ1NTIHZhbHVlcy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gdmFsdWUgcGFyc2VycyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgU2V0VmlzaXRvciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgcHJvcFNldDogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgdGhpcy5wcm9wU2V0W2lkZW50Lm5hbWVdID0gdHJ1ZTtcbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2V0KHZhbDogQ3NzLlZhbCk6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgU2V0VmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5wcm9wU2V0O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9TZXQ6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge307XG59XG5cbmV4cG9ydCBjbGFzcyBJbnRWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdmFsdWU6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZhbHVlID0gbnVtLm51bTtcbiAgICByZXR1cm4gbnVtO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ludCh2YWw6IENzcy5WYWwsIGRlZjogbnVtYmVyKTogbnVtYmVyIHtcbiAgaWYgKHZhbCkge1xuICAgIGNvbnN0IHZpc2l0b3IgPSBuZXcgSW50VmlzaXRvcihkZWYpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci52YWx1ZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvSW50OiBcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWY7XG59XG5cbmV4cG9ydCBjbGFzcyBTaGFwZVZpc2l0b3IgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIGNvbGxlY3Q6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29vcmRzOiBDc3MuTnVtZXJpY1tdID0gW107XG4gIG5hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5jb2xsZWN0KSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG51bWVyaWMpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmNvbGxlY3QgJiYgbnVtLm51bSA9PSAwKSB7XG4gICAgICB0aGlzLmNvb3Jkcy5wdXNoKG5ldyBDc3MuTnVtZXJpYygwLCBcInB4XCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEZ1bmMoZnVuYzogQ3NzLkZ1bmMpOiBDc3MuVmFsIHtcbiAgICBpZiAoIXRoaXMuY29sbGVjdCkge1xuICAgICAgdGhpcy5jb2xsZWN0ID0gdHJ1ZTtcbiAgICAgIHRoaXMudmlzaXRWYWx1ZXMoZnVuYy52YWx1ZXMpO1xuICAgICAgdGhpcy5jb2xsZWN0ID0gZmFsc2U7XG4gICAgICB0aGlzLm5hbWUgPSBmdW5jLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTaGFwZShcbiAgICB4OiBudW1iZXIsXG4gICAgeTogbnVtYmVyLFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKTogR2VvbWV0cnlVdGlsLlNoYXBlIHtcbiAgICBpZiAodGhpcy5jb29yZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgbnVtYmVyczogbnVtYmVyW10gPSBbXTtcbiAgICAgIHRoaXMuY29vcmRzLmZvckVhY2goKGNvb3JkLCBpKSA9PiB7XG4gICAgICAgIGlmIChjb29yZC51bml0ID09IFwiJVwiKSB7XG4gICAgICAgICAgbGV0IHJlZiA9IGkgJSAyID09IDAgPyB3aWR0aCA6IGhlaWdodDtcbiAgICAgICAgICBpZiAoaSA9PSAzICYmIHRoaXMubmFtZSA9PSBcImNpcmNsZVwiKSB7XG4gICAgICAgICAgICByZWYgPSBNYXRoLnNxcnQoKHdpZHRoICogd2lkdGggKyBoZWlnaHQgKiBoZWlnaHQpIC8gMik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG51bWJlcnMucHVzaCgoY29vcmQubnVtICogcmVmKSAvIDEwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbnVtYmVycy5wdXNoKGNvb3JkLm51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZShjb29yZC51bml0LCBmYWxzZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHN3aXRjaCAodGhpcy5uYW1lKSB7XG4gICAgICAgIGNhc2UgXCJwb2x5Z29uXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoICUgMiA9PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBwb2ludHM6IEdlb21ldHJ5VXRpbC5Qb2ludFtdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG51bWJlcnMubGVuZ3RoOyBrICs9IDIpIHtcbiAgICAgICAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgbmV3IEdlb21ldHJ5VXRpbC5Qb2ludCh4ICsgbnVtYmVyc1trXSwgeSArIG51bWJlcnNbayArIDFdKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgR2VvbWV0cnlVdGlsLlNoYXBlKHBvaW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVjdGFuZ2xlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JSZWN0KFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIHggKyBudW1iZXJzWzBdICsgbnVtYmVyc1syXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0gKyBudW1iZXJzWzNdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJlbGxpcHNlXCI6XG4gICAgICAgICAgaWYgKG51bWJlcnMubGVuZ3RoID09IDQpIHtcbiAgICAgICAgICAgIHJldHVybiBHZW9tZXRyeVV0aWwuc2hhcGVGb3JFbGxpcHNlKFxuICAgICAgICAgICAgICB4ICsgbnVtYmVyc1swXSxcbiAgICAgICAgICAgICAgeSArIG51bWJlcnNbMV0sXG4gICAgICAgICAgICAgIG51bWJlcnNbMl0sXG4gICAgICAgICAgICAgIG51bWJlcnNbM10sXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNpcmNsZVwiOlxuICAgICAgICAgIGlmIChudW1iZXJzLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yRWxsaXBzZShcbiAgICAgICAgICAgICAgeCArIG51bWJlcnNbMF0sXG4gICAgICAgICAgICAgIHkgKyBudW1iZXJzWzFdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgICBudW1iZXJzWzJdLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NoYXBlKFxuICB2YWw6IENzcy5WYWwsXG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbik6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gIGlmICh2YWwpIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IFNoYXBlVmlzaXRvcigpO1xuICAgIHRyeSB7XG4gICAgICB2YWwudmlzaXQodmlzaXRvcik7XG4gICAgICByZXR1cm4gdmlzaXRvci5nZXRTaGFwZSh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oZXJyLCBcInRvU2hhcGU6XCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gR2VvbWV0cnlVdGlsLnNoYXBlRm9yUmVjdCh4LCB5LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQpO1xufVxuXG5leHBvcnQgY2xhc3MgQ291bnRlcnNWaXNpdG9yIGV4dGVuZHMgQ3NzLlZpc2l0b3Ige1xuICBjb3VudGVyczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuICBuYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcmVzZXQ6IGJvb2xlYW4pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICB0aGlzLm5hbWUgPSBpZGVudC50b1N0cmluZygpO1xuICAgIGlmICh0aGlzLnJlc2V0KSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gPSAodGhpcy5jb3VudGVyc1t0aGlzLm5hbWVdIHx8IDApICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5uYW1lKSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW3RoaXMubmFtZV0gKz0gbnVtLm51bSAtICh0aGlzLnJlc2V0ID8gMCA6IDEpO1xuICAgIH1cbiAgICByZXR1cm4gbnVtO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFNwYWNlTGlzdChsaXN0OiBDc3MuU3BhY2VMaXN0KTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFZhbHVlcyhsaXN0LnZhbHVlcyk7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQ291bnRlcnMoXG4gIHZhbDogQ3NzLlZhbCxcbiAgcmVzZXQ6IGJvb2xlYW4sXG4pOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9IHtcbiAgY29uc3QgdmlzaXRvciA9IG5ldyBDb3VudGVyc1Zpc2l0b3IocmVzZXQpO1xuICB0cnkge1xuICAgIHZhbC52aXNpdCh2aXNpdG9yKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwidG9Db3VudGVyczpcIik7XG4gIH1cbiAgcmV0dXJuIHZpc2l0b3IuY291bnRlcnM7XG59XG5cbmV4cG9ydCBjbGFzcyBVcmxUcmFuc2Zvcm1WaXNpdG9yIGV4dGVuZHMgQ3NzLkZpbHRlclZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYmFzZVVybDogc3RyaW5nLFxuICAgIHB1YmxpYyB0cmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbmV3IENzcy5VUkwodGhpcy50cmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwodXJsLnVybCwgdGhpcy5iYXNlVXJsKSk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENvdW50ZXJzXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogQ2xvbmUgY291bnRlciB2YWx1ZXMuXG4gKi9cbmZ1bmN0aW9uIGNsb25lQ291bnRlclZhbHVlcyhcbiAgY291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyxcbik6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyB7XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBPYmplY3Qua2V5cyhjb3VudGVycykuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgIHJlc3VsdFtuYW1lXSA9IEFycmF5LmZyb20oY291bnRlcnNbbmFtZV0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgYSByZWZlcmVuY2UgYnkgdGFyZ2V0LWNvdW50ZXIocykuXG4gKiBAcGFyYW0gdGFyZ2V0SWQgSUQgb2YgdGhlIHJlZmVyZW5jZWQgZWxlbWVudCAodHJhbnNmb3JtZWQgYnlcbiAqICAgICBEb2N1bWVudFVSTFRyYW5zZm9ybWVyIHRvIGhhbmRsZSBhIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlXG4gKiAgICAgZG9jdW1lbnRzKVxuICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3RcbiAqL1xuZXhwb3J0IGNsYXNzIFRhcmdldENvdW50ZXJSZWZlcmVuY2Uge1xuICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IG51bGw7XG4gIHNwaW5lSW5kZXg6IG51bWJlciA9IC0xO1xuICBwYWdlSW5kZXg6IG51bWJlciA9IC0xO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSB0YXJnZXRJZDogc3RyaW5nLCBwdWJsaWMgcmVzb2x2ZWQ6IGJvb2xlYW4pIHt9XG5cbiAgZXF1YWxzKG90aGVyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy50YXJnZXRJZCA9PT0gb3RoZXIudGFyZ2V0SWQgJiZcbiAgICAgIHRoaXMucmVzb2x2ZWQgPT09IG90aGVyLnJlc29sdmVkICYmXG4gICAgICB0aGlzLnNwaW5lSW5kZXggPT09IG90aGVyLnNwaW5lSW5kZXggJiZcbiAgICAgIHRoaXMucGFnZUluZGV4ID09PSBvdGhlci5wYWdlSW5kZXhcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIHJlZmVyZW5jZSBpcyByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBpc1Jlc29sdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgcmVzb2x2ZWQuXG4gICAqL1xuICByZXNvbHZlKCkge1xuICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoYXQgdGhpcyByZWZlcmVuY2UgaXMgdW5yZXNvbHZlZC5cbiAgICovXG4gIHVucmVzb2x2ZSgpIHtcbiAgICB0aGlzLnJlc29sdmVkID0gZmFsc2U7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlckxpc3RlbmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyTGlzdGVuZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNvdW50ZXJzT2ZJZChpZDogc3RyaW5nLCBjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgaWQgPSB0aGlzLmNvdW50ZXJTdG9yZS5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLnRyYW5zZm9ybUZyYWdtZW50KFxuICAgICAgaWQsXG4gICAgICB0aGlzLmJhc2VVUkwsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5jb3VudGVyc0J5SWRbaWRdID0gY291bnRlcnM7XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmNvdW50ZXJTdG9yZS5nZXRFeHByQ29udGVudExpc3RlbmVyKCk7XG4gIH1cbn1cblxuY2xhc3MgQ291bnRlclJlc29sdmVyIGltcGxlbWVudHMgQ3NzQ2FzY2FkZS5Db3VudGVyUmVzb2x2ZXIge1xuICBzdHlsZXI6IENzc1N0eWxlci5TdHlsZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVyU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IGJhc2VVUkw6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICApIHt9XG5cbiAgc2V0U3R5bGVyKHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlcikge1xuICAgIHRoaXMuc3R5bGVyID0gc3R5bGVyO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRGcmFnbWVudCh1cmw6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgIGNvbnN0IHIgPSB1cmwubWF0Y2goL15bXiNdKiMoLiopJC8pO1xuICAgIHJldHVybiByID8gclsxXSA6IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdldFRyYW5zZm9ybWVkSWQodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGxldCB0cmFuc2Zvcm1lZElkID0gdGhpcy5jb3VudGVyU3RvcmUuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwoXG4gICAgICBCYXNlLnJlc29sdmVVUkwodXJsLCB0aGlzLmJhc2VVUkwpLFxuICAgICAgdGhpcy5iYXNlVVJMLFxuICAgICk7XG4gICAgaWYgKHRyYW5zZm9ybWVkSWQuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgdHJhbnNmb3JtZWRJZCA9IHRyYW5zZm9ybWVkSWQuc3Vic3RyaW5nKDEpO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNmb3JtZWRJZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyVmFsKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q291bnRlck51bWJlcigpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IHNlbGYuY291bnRlclN0b3JlLmN1cnJlbnRQYWdlQ291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gdmFsdWVzICYmIHZhbHVlcy5sZW5ndGggPyB2YWx1ZXNbdmFsdWVzLmxlbmd0aCAtIDFdIDogbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZXhwciA9IG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IGZvcm1hdChnZXRDb3VudGVyTnVtYmVyKCkpLFxuICAgICAgYHBhZ2UtY291bnRlci0ke25hbWV9YCxcbiAgICApO1xuXG4gICAgZnVuY3Rpb24gYXJyYXlGb3JtYXQoYXJyKSB7XG4gICAgICByZXR1cm4gZm9ybWF0KGFyclswXSk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlclN0b3JlLnJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKG5hbWUsIGFycmF5Rm9ybWF0LCBleHByKTtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFBhZ2VDb3VudGVyc1ZhbChcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZm9ybWF0OiAocDE6IG51bWJlcltdKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbCB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBnZXRDb3VudGVyTnVtYmVycygpIHtcbiAgICAgIHJldHVybiBzZWxmLmNvdW50ZXJTdG9yZS5jdXJyZW50UGFnZUNvdW50ZXJzW25hbWVdIHx8IFtdO1xuICAgIH1cbiAgICBjb25zdCBleHByID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4gZm9ybWF0KGdldENvdW50ZXJOdW1iZXJzKCkpLFxuICAgICAgYHBhZ2UtY291bnRlcnMtJHtuYW1lfWAsXG4gICAgKTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZS5yZWdpc3RlclBhZ2VDb3VudGVyRXhwcihuYW1lLCBmb3JtYXQsIGV4cHIpO1xuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgKG5vbiBwYWdlLWJhc2VkKSBjb3VudGVyIHZhbHVlcyBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWRcbiAgICogSUQuIFJldHVybnMgbnVsbCBpZiB0aGUgc3R5bGUgb2YgdGhlIGVsZW1lbnRzIGhhcyBub3QgYmVlbiBjYWxjdWxhdGVkIHlldFxuICAgKiAoaS5lLiB0aGUgZWxlbWVudCBkb2VzIG5vdCBleGl0IG9yIGl0IGlzIGluIGEgc291cmNlIGRvY3VtZW50IHdoaWNoIGlzIG5vdFxuICAgKiBsb2FkZWQgeWV0KS5cbiAgICogQHBhcmFtIGlkIE9yaWdpbmFsIElEIHZhbHVlXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKiBAcGFyYW0gbG9va0ZvckVsZW1lbnQgSWYgdHJ1ZSwgbG9vayBhaGVhZCBmb3IgYW4gZWxlbWVudCB3aXRoIHRoZSBJRCBpbiB0aGVcbiAgICogICAgIGN1cnJlbnQgc291cmNlIGRvY3VtZW50IHdoZW4gc3VjaCBhbiBlbGVtZW50IGhhcyBub3QgYXBwZWFyZWQgeWV0LiBEb1xuICAgKiAgICAgbm90IHNldCB0byB0cnVlIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsIHNpbmNlIGluIHRoYXRcbiAgICogICAgIGNhc2UgU3R5bGVyLnN0eWxlVW50aWwgY2FuIGJlIGNhbGxlZCBhZ2FpbiBhbmQgbWF5IGxlYWQgdG8gaW50ZXJuYWxcbiAgICogICAgIGluY29uc2lzdGVuY3kuXG4gICAqL1xuICBwcml2YXRlIGdldFRhcmdldENvdW50ZXJzKFxuICAgIGlkOiBzdHJpbmcgfCBudWxsLFxuICAgIHRyYW5zZm9ybWVkSWQ6IHN0cmluZyxcbiAgICBsb29rRm9yRWxlbWVudDogYm9vbGVhbixcbiAgKTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIHwgbnVsbCB7XG4gICAgbGV0IHRhcmdldENvdW50ZXJzID0gdGhpcy5jb3VudGVyU3RvcmUuY291bnRlcnNCeUlkW3RyYW5zZm9ybWVkSWRdO1xuICAgIGlmICghdGFyZ2V0Q291bnRlcnMgJiYgbG9va0ZvckVsZW1lbnQgJiYgaWQpIHtcbiAgICAgIHRoaXMuc3R5bGVyLnN0eWxlVW50aWxJZElzUmVhY2hlZChpZCk7XG4gICAgICB0YXJnZXRDb3VudGVycyA9IHRoaXMuY291bnRlclN0b3JlLmNvdW50ZXJzQnlJZFt0cmFuc2Zvcm1lZElkXTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldENvdW50ZXJzIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGZvciBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBJRC5cbiAgICogUmV0dXJucyBudWxsIGlmIHRoZSBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAqIEBwYXJhbSB0cmFuc2Zvcm1lZElkIElEIHRyYW5zZm9ybWVkIGJ5IERvY3VtZW50VVJMVHJhbnNmb3JtZXIgdG8gaGFuZGxlIGFcbiAgICogICAgIHJlZmVyZW5jZSBhY3Jvc3MgbXVsdGlwbGUgc291cmNlIGRvY3VtZW50c1xuICAgKi9cbiAgcHJpdmF0ZSBnZXRUYXJnZXRQYWdlQ291bnRlcnMoXG4gICAgdHJhbnNmb3JtZWRJZDogc3RyaW5nLFxuICApOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfCBudWxsIHtcbiAgICBpZiAodGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2UuZWxlbWVudHNCeUlkW3RyYW5zZm9ybWVkSWRdKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb3VudGVyU3RvcmUuY3VycmVudFBhZ2VDb3VudGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuY291bnRlclN0b3JlLnBhZ2VDb3VudGVyc0J5SWRbdHJhbnNmb3JtZWRJZF0gfHwgbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRUYXJnZXRDb3VudGVyVmFsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcblxuICAgIC8vIFNpbmNlIHRoaXMgbWV0aG9kIGlzIGV4ZWN1dGVkIGR1cmluZyBTdHlsZXIuc3R5bGVVbnRpbCBpcyBiZWluZyBjYWxsZWQsXG4gICAgLy8gc2V0IGZhbHNlIHRvIGxvb2tGb3JFbGVtZW50IGFyZ3VtZW50LlxuICAgIGxldCBjb3VudGVycyA9IHRoaXMuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICBpZiAoY291bnRlcnMgJiYgY291bnRlcnNbbmFtZV0pIHtcbiAgICAgIC8vIFNpbmNlIGFuIGVsZW1lbnQtYmFzZWQgY291bnRlciBpcyBkZWZpbmVkLCBhbnkgcGFnZS1iYXNlZCBjb3VudGVyIGlzXG4gICAgICAvLyBvYnNjdXJlZCBldmVuIGlmIGl0IGV4aXN0cy5cbiAgICAgIGNvbnN0IGNvdW50ZXJzT2ZOYW1lID0gY291bnRlcnNbbmFtZV07XG4gICAgICByZXR1cm4gbmV3IEV4cHJzLkNvbnN0KFxuICAgICAgICB0aGlzLnJvb3RTY29wZSxcbiAgICAgICAgZm9ybWF0KGNvdW50ZXJzT2ZOYW1lW2NvdW50ZXJzT2ZOYW1lLmxlbmd0aCAtIDFdIHx8IG51bGwpLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICB0aGlzLnBhZ2VTY29wZSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgLy8gU2luY2UgVGhpcyBibG9jayBpcyBldmFsdWF0ZWQgZHVyaW5nIGxheW91dCwgbG9va0ZvckVsZW1lbnRcbiAgICAgICAgLy8gYXJndW1lbnQgY2FuIGJlIHNldCB0byB0cnVlLlxuICAgICAgICBjb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0Q291bnRlcnMoaWQsIHRyYW5zZm9ybWVkSWQsIHRydWUpO1xuXG4gICAgICAgIGlmIChjb3VudGVycykge1xuICAgICAgICAgIGlmIChjb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgLy8gU2luY2UgYW4gZWxlbWVudC1iYXNlZCBjb3VudGVyIGlzIGRlZmluZWQsIGFueSBwYWdlLWJhc2VkXG4gICAgICAgICAgICAvLyBjb3VudGVyIGlzIG9ic2N1cmVkIGV2ZW4gaWYgaXQgZXhpc3RzLlxuICAgICAgICAgICAgY29uc3QgY291bnRlcnNPZk5hbWUgPSBjb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQoY291bnRlcnNPZk5hbWVbY291bnRlcnNPZk5hbWUubGVuZ3RoIC0gMV0gfHwgbnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVycyA9IHNlbGYuZ2V0VGFyZ2V0UGFnZUNvdW50ZXJzKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVycykge1xuICAgICAgICAgICAgICAvLyBUaGUgdGFyZ2V0IGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBsYWlkIG91dC5cbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucmVzb2x2ZVJlZmVyZW5jZSh0cmFuc2Zvcm1lZElkKTtcbiAgICAgICAgICAgICAgaWYgKHBhZ2VDb3VudGVyc1tuYW1lXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0KFxuICAgICAgICAgICAgICAgICAgcGFnZUNvdW50ZXJzT2ZOYW1lW3BhZ2VDb3VudGVyc09mTmFtZS5sZW5ndGggLSAxXSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gY29ycmVzcG9uZGluZyBjb3VudGVyIHdpdGggdGhlIG5hbWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdCgwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGhlIHRhcmdldCBlbGVtZW50IGhhcyBub3QgYmVlbiBsYWlkIG91dCB5ZXQuXG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKFxuICAgICAgICAgICAgICAgIHRyYW5zZm9ybWVkSWQsXG4gICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGUgc3R5bGUgb2YgdGFyZ2V0IGVsZW1lbnQgaGFzIG5vdCBiZWVuIGNhbGN1bGF0ZWQgeWV0LlxuICAgICAgICAgIC8vIChUaGUgZWxlbWVudCBpcyBpbiBhbm90aGVyIHNvdXJjZSBkb2N1bWVudCB0aGF0IGlzIG5vdCBwYXJzZWRcbiAgICAgICAgICAvLyB5ZXQpXG4gICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuc2F2ZVJlZmVyZW5jZU9mQ3VycmVudFBhZ2UodHJhbnNmb3JtZWRJZCwgZmFsc2UpO1xuICAgICAgICAgIHJldHVybiBcIj8/XCI7IC8vIFRPRE8gbW9yZSByZWFzb25hYmxlIHBsYWNlaG9sZGVyP1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYHRhcmdldC1jb3VudGVyLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IGlkID0gdGhpcy5nZXRGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHRyYW5zZm9ybWVkSWQgPSB0aGlzLmdldFRyYW5zZm9ybWVkSWQodXJsKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBwYWdlQ291bnRlcnMgPSBzZWxmLmdldFRhcmdldFBhZ2VDb3VudGVycyh0cmFuc2Zvcm1lZElkKTtcblxuICAgICAgICBpZiAoIXBhZ2VDb3VudGVycykge1xuICAgICAgICAgIC8vIFRoZSB0YXJnZXQgZWxlbWVudCBoYXMgbm90IGJlZW4gbGFpZCBvdXQgeWV0LlxuICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlKHRyYW5zZm9ybWVkSWQsIGZhbHNlKTtcbiAgICAgICAgICByZXR1cm4gXCI/P1wiOyAvLyBUT0RPIG1vcmUgcmVhc29uYWJsZSBwbGFjZWhvbGRlcj9cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmNvdW50ZXJTdG9yZS5yZXNvbHZlUmVmZXJlbmNlKHRyYW5zZm9ybWVkSWQpO1xuICAgICAgICAgIGNvbnN0IHBhZ2VDb3VudGVyc09mTmFtZSA9IHBhZ2VDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICBjb25zdCBlbGVtZW50Q291bnRlcnMgPSBzZWxmLmdldFRhcmdldENvdW50ZXJzKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0cmFuc2Zvcm1lZElkLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRDb3VudGVyc09mTmFtZSA9IGVsZW1lbnRDb3VudGVyc1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICByZXR1cm4gZm9ybWF0KHBhZ2VDb3VudGVyc09mTmFtZS5jb25jYXQoZWxlbWVudENvdW50ZXJzT2ZOYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBgdGFyZ2V0LWNvdW50ZXJzLSR7bmFtZX0tb2YtJHt1cmx9YCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb3VudGVyU3RvcmUge1xuICBjb3VudGVyc0J5SWQ6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzIH0gPSB7fTtcbiAgcGFnZUNvdW50ZXJzQnlJZDogeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgfSA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXMgPSB7fTtcbiAgcHJldmlvdXNQYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcyA9IHt9O1xuICBjdXJyZW50UGFnZUNvdW50ZXJzU3RhY2s6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlc1tdID0gW107XG4gIHBhZ2VJbmRpY2VzQnlJZDoge1xuICAgIFtrZXk6IHN0cmluZ106IHsgc3BpbmVJbmRleDogbnVtYmVyOyBwYWdlSW5kZXg6IG51bWJlciB9O1xuICB9ID0ge307XG4gIGN1cnJlbnRQYWdlOiBWdHJlZS5QYWdlID0gbnVsbDtcbiAgbmV3UmVmZXJlbmNlc09mQ3VycmVudFBhZ2U6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICByZWZlcmVuY2VzVG9Tb2x2ZTogVGFyZ2V0Q291bnRlclJlZmVyZW5jZVtdID0gW107XG4gIHJlZmVyZW5jZXNUb1NvbHZlU3RhY2s6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXVtdID0gW107XG4gIHVucmVzb2x2ZWRSZWZlcmVuY2VzOiB7IFtrZXk6IHN0cmluZ106IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSB9ID0ge307XG4gIHJlc29sdmVkUmVmZXJlbmNlczogeyBba2V5OiBzdHJpbmddOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW10gfSA9IHt9O1xuICBwcml2YXRlIHBhZ2VzQ291bnRlckV4cHJzOiB7XG4gICAgZXhwcjogRXhwcnMuVmFsO1xuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nO1xuICB9W10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICApIHtcbiAgICB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdID0gWzBdO1xuICB9XG5cbiAgY3JlYXRlQ291bnRlckxpc3RlbmVyKGJhc2VVUkw6IHN0cmluZyk6IENzc0Nhc2NhZGUuQ291bnRlckxpc3RlbmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJMaXN0ZW5lcih0aGlzLCBiYXNlVVJMKTtcbiAgfVxuXG4gIGNyZWF0ZUNvdW50ZXJSZXNvbHZlcihcbiAgICBiYXNlVVJMOiBzdHJpbmcsXG4gICAgcm9vdFNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICk6IENzc0Nhc2NhZGUuQ291bnRlclJlc29sdmVyIHtcbiAgICByZXR1cm4gbmV3IENvdW50ZXJSZXNvbHZlcih0aGlzLCBiYXNlVVJMLCByb290U2NvcGUsIHBhZ2VTY29wZSk7XG4gIH1cblxuICBzZXRDdXJyZW50UGFnZShwYWdlOiBWdHJlZS5QYWdlKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gIH1cblxuICBwcml2YXRlIGRlZmluZVBhZ2VDb3VudGVyKGNvdW50ZXJOYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSkge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXS5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW2NvdW50ZXJOYW1lXSA9IFt2YWx1ZV07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlZnVsbHkgc2V0IHRoZSBgcGFnZWAgcGFnZS1iYXNlZCBjb3VudGVyIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXG4gICAqL1xuICBmb3JjZVNldFBhZ2VDb3VudGVyKHBhZ2VOdW1iZXI6IG51bWJlcikge1xuICAgIGNvbnN0IGNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzW1wicGFnZVwiXTtcbiAgICBpZiAoIWNvdW50ZXJzIHx8ICFjb3VudGVycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tcInBhZ2VcIl0gPSBbcGFnZU51bWJlcl07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvdW50ZXJzW2NvdW50ZXJzLmxlbmd0aCAtIDFdID0gcGFnZU51bWJlcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXJzIHdpdGggJ2NvdW50ZXItcmVzZXQnIGFuZCAnY291bnRlci1pbmNyZW1lbnQnXG4gICAqIHByb3BlcnRpZXMgd2l0aGluIHRoZSBwYWdlIGNvbnRleHQuIENhbGwgYmVmb3JlIHN0YXJ0aW5nIGxheW91dCBvZiB0aGVcbiAgICogcGFnZS5cbiAgICovXG4gIHVwZGF0ZVBhZ2VDb3VudGVycyhcbiAgICBjYXNjYWRlZFBhZ2VTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgKSB7XG4gICAgLy8gU2F2ZSBwYWdlIGNvdW50ZXJzIHRvIHByZXZpb3VzUGFnZUNvdW50ZXJzIGJlZm9yZSB1cGRhdGluZ1xuICAgIHRoaXMucHJldmlvdXNQYWdlQ291bnRlcnMgPSBjbG9uZUNvdW50ZXJWYWx1ZXModGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzKTtcbiAgICBsZXQgcmVzZXRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgcmVzZXQgPSBjYXNjYWRlZFBhZ2VTdHlsZVtcImNvdW50ZXItcmVzZXRcIl07XG4gICAgaWYgKHJlc2V0KSB7XG4gICAgICBjb25zdCByZXNldFZhbCA9IHJlc2V0LmV2YWx1YXRlKGNvbnRleHQpO1xuICAgICAgaWYgKHJlc2V0VmFsKSB7XG4gICAgICAgIHJlc2V0TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKHJlc2V0VmFsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHJlc2V0Q291bnRlck5hbWUgaW4gcmVzZXRNYXApIHtcbiAgICAgICAgdGhpcy5kZWZpbmVQYWdlQ291bnRlcihyZXNldENvdW50ZXJOYW1lLCByZXNldE1hcFtyZXNldENvdW50ZXJOYW1lXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbmNyZW1lbnRNYXA6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gICAgY29uc3QgaW5jcmVtZW50ID0gY2FzY2FkZWRQYWdlU3R5bGVbXCJjb3VudGVyLWluY3JlbWVudFwiXTtcbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRWYWwgPSBpbmNyZW1lbnQuZXZhbHVhdGUoY29udGV4dCk7XG4gICAgICBpZiAoaW5jcmVtZW50VmFsKSB7XG4gICAgICAgIGluY3JlbWVudE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhpbmNyZW1lbnRWYWwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJZiAnY291bnRlci1pbmNyZW1lbnQnIGZvciB0aGUgYnVpbHRpbiAncGFnZScgY291bnRlciBpcyBhYnNlbnQsIGFkZCBpdFxuICAgIC8vIHdpdGggdmFsdWUgMS5cbiAgICBpZiAoaW5jcmVtZW50TWFwKSB7XG4gICAgICBpZiAoIShcInBhZ2VcIiBpbiBpbmNyZW1lbnRNYXApKSB7XG4gICAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbmNyZW1lbnRNYXAgPSB7fTtcbiAgICAgIGluY3JlbWVudE1hcFtcInBhZ2VcIl0gPSAxO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGluY3JlbWVudENvdW50ZXJOYW1lIGluIGluY3JlbWVudE1hcCkge1xuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdKSB7XG4gICAgICAgIHRoaXMuZGVmaW5lUGFnZUNvdW50ZXIoaW5jcmVtZW50Q291bnRlck5hbWUsIDApO1xuICAgICAgfVxuICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY3VycmVudFBhZ2VDb3VudGVyc1tpbmNyZW1lbnRDb3VudGVyTmFtZV07XG4gICAgICBjb3VudGVyVmFsdWVzW2NvdW50ZXJWYWx1ZXMubGVuZ3RoIC0gMV0gKz1cbiAgICAgICAgaW5jcmVtZW50TWFwW2luY3JlbWVudENvdW50ZXJOYW1lXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHBhZ2UtYmFzZWQgY291bnRlcnMgdmFsdWVzIGFuZCBzZXQgdGhlbSB0byB0aGUgdmFsdWVzIHBhc3NlZFxuICAgKiBpbi4gVGhlIHNhdmVkIGNvdW50ZXIgdmFsdWVzIGNhbiBiZSByZXN0b3JlZCBieSBwb3BQYWdlQ291bnRlcnMgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFBhZ2VDb3VudGVycyhjb3VudGVyczogQ3NzQ2FzY2FkZS5Db3VudGVyVmFsdWVzKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucHVzaCh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgIHRoaXMuY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyhjb3VudGVycyk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdG9yZSBwcmV2aW91c2x5IHNhdmVkIHBhZ2UtYmFzZWQgY291bnRlciB2YWx1ZXMuXG4gICAqL1xuICBwb3BQYWdlQ291bnRlcnMoKSB7XG4gICAgdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzID0gdGhpcy5jdXJyZW50UGFnZUNvdW50ZXJzU3RhY2sucG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSBhIHJlZmVyZW5jZSB3aXRoIHRoZSBzcGVjaWZpZWQgSUQuXG4gICAqL1xuICByZXNvbHZlUmVmZXJlbmNlKGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB1bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgIGxldCByZXNvbHZlZFJlZnMgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tpZF07XG4gICAgaWYgKCFyZXNvbHZlZFJlZnMpIHtcbiAgICAgIHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgIH1cbiAgICBsZXQgcHVzaGVkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlLmxlbmd0aDsgKSB7XG4gICAgICBjb25zdCByZWYgPSB0aGlzLnJlZmVyZW5jZXNUb1NvbHZlW2ldO1xuICAgICAgaWYgKHJlZi50YXJnZXRJZCA9PT0gaWQpIHtcbiAgICAgICAgcmVmLnJlc29sdmUoKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZS5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGlmICh1bnJlc29sdmVkUmVmcykge1xuICAgICAgICAgIGNvbnN0IGogPSB1bnJlc29sdmVkUmVmcy5pbmRleE9mKHJlZik7XG4gICAgICAgICAgaWYgKGogPj0gMCkge1xuICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMuc3BsaWNlKGosIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICBwdXNoZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXB1c2hlZCkge1xuICAgICAgdGhpcy5zYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZCwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYSByZWZlcmVuY2UgYXBwZWFyZWQgaW4gdGhlIGN1cnJlbnQgcGFnZS5cbiAgICogQHBhcmFtIHJlc29sdmVkIElmIHRoZSByZWZlcmVuY2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciBub3QuXG4gICAqL1xuICBzYXZlUmVmZXJlbmNlT2ZDdXJyZW50UGFnZShpZDogc3RyaW5nLCByZXNvbHZlZDogYm9vbGVhbikge1xuICAgIGlmICghdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5zb21lKChyZWYpID0+IHJlZi50YXJnZXRJZCA9PT0gaWQpKSB7XG4gICAgICBjb25zdCByZWYgPSBuZXcgVGFyZ2V0Q291bnRlclJlZmVyZW5jZShpZCwgcmVzb2x2ZWQpO1xuICAgICAgdGhpcy5uZXdSZWZlcmVuY2VzT2ZDdXJyZW50UGFnZS5wdXNoKHJlZik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpbmlzaCB0aGUgY3VycmVudCBwYWdlOyBlbGVtZW50cyB3aXRoIElEIGFyZSBjb2xsZWN0ZWQgYW5kIHNhdmVkIHdpdGhcbiAgICogY3VycmVudCBwYWdlLWJhc2VkIGNvdW50ZXIgdmFsdWVzIGludGVybmFsbHkuXG4gICAqIEBwYXJhbSBzcGluZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgc3BpbmUgaXRlbVxuICAgKiBAcGFyYW0gcGFnZUluZGV4IEluZGV4IG9mIHRoZSBjdXJyZW50bHkgbGFpZCBvdXQgcGFnZSBpbiBpdHMgc3BpbmUgaXRlbVxuICAgKi9cbiAgZmluaXNoUGFnZShzcGluZUluZGV4OiBudW1iZXIsIHBhZ2VJbmRleDogbnVtYmVyKSB7XG4gICAgY29uc3QgaWRzID0gT2JqZWN0LmtleXModGhpcy5jdXJyZW50UGFnZS5lbGVtZW50c0J5SWQpO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2VDb3VudGVycyA9IGNsb25lQ291bnRlclZhbHVlcyh0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnMpO1xuICAgICAgaWRzLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIHRoaXMucGFnZUNvdW50ZXJzQnlJZFtpZF0gPSBjdXJyZW50UGFnZUNvdW50ZXJzO1xuICAgICAgICBjb25zdCBvbGRQYWdlSW5kZXggPSB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgICAgIGlmIChvbGRQYWdlSW5kZXggJiYgb2xkUGFnZUluZGV4LnBhZ2VJbmRleCA8IHBhZ2VJbmRleCkge1xuICAgICAgICAgIGNvbnN0IHJlc29sdmVkUmVmcyA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICBpZiAocmVzb2x2ZWRSZWZzKSB7XG4gICAgICAgICAgICBsZXQgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXTtcbiAgICAgICAgICAgIGlmICghdW5yZXNvbHZlZFJlZnMpIHtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMgPSB0aGlzLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJlZjogVGFyZ2V0Q291bnRlclJlZmVyZW5jZTtcbiAgICAgICAgICAgIHdoaWxlICgocmVmID0gcmVzb2x2ZWRSZWZzLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICAgIHJlZi51bnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgdW5yZXNvbHZlZFJlZnMucHVzaChyZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2VzQnlJZFtpZF0gPSB7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCB9O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHByZXZQYWdlQ291bnRlcnMgPSB0aGlzLnByZXZpb3VzUGFnZUNvdW50ZXJzO1xuICAgIGxldCByZWY6IFRhcmdldENvdW50ZXJSZWZlcmVuY2U7XG4gICAgd2hpbGUgKChyZWYgPSB0aGlzLm5ld1JlZmVyZW5jZXNPZkN1cnJlbnRQYWdlLnNoaWZ0KCkpKSB7XG4gICAgICByZWYucGFnZUNvdW50ZXJzID0gcHJldlBhZ2VDb3VudGVycztcbiAgICAgIHJlZi5zcGluZUluZGV4ID0gc3BpbmVJbmRleDtcbiAgICAgIHJlZi5wYWdlSW5kZXggPSBwYWdlSW5kZXg7XG4gICAgICBsZXQgYXJyOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgICBpZiAocmVmLmlzUmVzb2x2ZWQoKSkge1xuICAgICAgICBhcnIgPSB0aGlzLnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMucmVzb2x2ZWRSZWZlcmVuY2VzW3JlZi50YXJnZXRJZF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXJyID0gdGhpcy51bnJlc29sdmVkUmVmZXJlbmNlc1tyZWYudGFyZ2V0SWRdO1xuICAgICAgICBpZiAoIWFycikge1xuICAgICAgICAgIGFyciA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbcmVmLnRhcmdldElkXSA9IFtdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXJyLmV2ZXJ5KChyKSA9PiAhcmVmLmVxdWFscyhyKSkpIHtcbiAgICAgICAgYXJyLnB1c2gocmVmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB1bnJlc29sdmVkIHJlZmVyZW5jZXMgcG9pbnRpbmcgdG8gdGhlIHNwZWNpZmllZCBwYWdlLlxuICAgKi9cbiAgZ2V0VW5yZXNvbHZlZFJlZnNUb1BhZ2UoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgKToge1xuICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgICBwYWdlQ291bnRlcnM6IENzc0Nhc2NhZGUuQ291bnRlclZhbHVlcztcbiAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gIH1bXSB7XG4gICAgbGV0IHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSA9IFtdO1xuICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHBhZ2UuZWxlbWVudHNCeUlkKTtcbiAgICBpZHMuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IGlkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZmVyZW5jZXNbaWRdO1xuICAgICAgaWYgKGlkUmVmcykge1xuICAgICAgICByZWZzID0gcmVmcy5jb25jYXQoaWRSZWZzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZWZzLnNvcnQoXG4gICAgICAocjEsIHIyKSA9PiByMS5zcGluZUluZGV4IC0gcjIuc3BpbmVJbmRleCB8fCByMS5wYWdlSW5kZXggLSByMi5wYWdlSW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQ6IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfVtdID0gW107XG4gICAgbGV0IG86IHtcbiAgICAgIHNwaW5lSW5kZXg6IG51bWJlcjtcbiAgICAgIHBhZ2VJbmRleDogbnVtYmVyO1xuICAgICAgcGFnZUNvdW50ZXJzOiBDc3NDYXNjYWRlLkNvdW50ZXJWYWx1ZXM7XG4gICAgICByZWZzOiBUYXJnZXRDb3VudGVyUmVmZXJlbmNlW107XG4gICAgfSA9IG51bGw7XG4gICAgcmVmcy5mb3JFYWNoKChyZWYpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgIW8gfHxcbiAgICAgICAgby5zcGluZUluZGV4ICE9PSByZWYuc3BpbmVJbmRleCB8fFxuICAgICAgICBvLnBhZ2VJbmRleCAhPT0gcmVmLnBhZ2VJbmRleFxuICAgICAgKSB7XG4gICAgICAgIG8gPSB7XG4gICAgICAgICAgc3BpbmVJbmRleDogcmVmLnNwaW5lSW5kZXgsXG4gICAgICAgICAgcGFnZUluZGV4OiByZWYucGFnZUluZGV4LFxuICAgICAgICAgIHBhZ2VDb3VudGVyczogcmVmLnBhZ2VDb3VudGVycyxcbiAgICAgICAgICByZWZzOiBbcmVmXSxcbiAgICAgICAgfTtcbiAgICAgICAgcmVzdWx0LnB1c2gobyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvLnJlZnMucHVzaChyZWYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBjdXJyZW50IHJlZmVyZW5jZXMgdG8gc29sdmUgYW5kIHNldCB0aGVtIHRvIHRoZSB2YWx1ZXMgcGFzc2VkIGluLlxuICAgKiBUaGUgc2F2ZWQgcmVmZXJlbmNlcyBjYW4gYmUgcmVzdG9yZWQgYnkgcG9wUmVmZXJlbmNlc1RvU29sdmUgbWV0aG9kLlxuICAgKi9cbiAgcHVzaFJlZmVyZW5jZXNUb1NvbHZlKHJlZnM6IFRhcmdldENvdW50ZXJSZWZlcmVuY2VbXSkge1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wdXNoKHRoaXMucmVmZXJlbmNlc1RvU29sdmUpO1xuICAgIHRoaXMucmVmZXJlbmNlc1RvU29sdmUgPSByZWZzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgcHJldmlvdXNseSBzYXZlZCByZWZlcmVuY2VzIHRvIHNvbHZlLlxuICAgKi9cbiAgcG9wUmVmZXJlbmNlc1RvU29sdmUoKSB7XG4gICAgdGhpcy5yZWZlcmVuY2VzVG9Tb2x2ZSA9IHRoaXMucmVmZXJlbmNlc1RvU29sdmVTdGFjay5wb3AoKTtcbiAgfVxuXG4gIHJlZ2lzdGVyUGFnZUNvdW50ZXJFeHByKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyW10pID0+IHN0cmluZyxcbiAgICBleHByOiBFeHBycy5WYWwsXG4gICkge1xuICAgIGlmIChuYW1lID09PSBcInBhZ2VzXCIpIHtcbiAgICAgIHRoaXMucGFnZXNDb3VudGVyRXhwcnMucHVzaCh7IGV4cHIsIGZvcm1hdCB9KTtcbiAgICB9XG4gIH1cblxuICBnZXRFeHByQ29udGVudExpc3RlbmVyKCk6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXIge1xuICAgIHJldHVybiB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHByaXZhdGUgZXhwckNvbnRlbnRMaXN0ZW5lcihleHByLCB2YWwsIGRvY3VtZW50KSB7XG4gICAgY29uc3QgZm91bmQgPSB0aGlzLnBhZ2VzQ291bnRlckV4cHJzLmZpbmRJbmRleCgobykgPT4gby5leHByID09PSBleHByKSA+PSAwO1xuICAgIGlmIChmb3VuZCkge1xuICAgICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHZhbDtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUiwgZXhwci5rZXkpO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZpbmlzaExhc3RQYWdlKHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0KSB7XG4gICAgY29uc3Qgbm9kZXMgPSB2aWV3cG9ydC5yb290LnF1ZXJ5U2VsZWN0b3JBbGwoYFske1BBR0VTX0NPVU5URVJfQVRUUn1dYCk7XG4gICAgY29uc3QgcGFnZXMgPSB0aGlzLmN1cnJlbnRQYWdlQ291bnRlcnNbXCJwYWdlXCJdWzBdO1xuICAgIEFycmF5LmZyb20obm9kZXMpLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IG5vZGUuZ2V0QXR0cmlidXRlKFBBR0VTX0NPVU5URVJfQVRUUik7XG4gICAgICBjb25zdCBpID0gdGhpcy5wYWdlc0NvdW50ZXJFeHBycy5maW5kSW5kZXgoKG8pID0+IG8uZXhwci5rZXkgPT09IGtleSk7XG4gICAgICBBc3NlcnRzLmFzc2VydChpID49IDApO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRoaXMucGFnZXNDb3VudGVyRXhwcnNbaV0uZm9ybWF0KFtwYWdlc10pO1xuICAgIH0pO1xuICB9XG5cbiAgY3JlYXRlTGF5b3V0Q29uc3RyYWludChwYWdlSW5kZXg6IG51bWJlcik6IExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgICByZXR1cm4gbmV3IExheW91dENvbnN0cmFpbnQodGhpcywgcGFnZUluZGV4KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgUEFHRVNfQ09VTlRFUl9BVFRSID0gXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2VzLWNvdW50ZXJcIjtcblxuY2xhc3MgTGF5b3V0Q29uc3RyYWludCBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJTdG9yZTogQ291bnRlclN0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlSW5kZXg6IG51bWJlcixcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB2aWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICAgIGlmICghdmlld05vZGUgfHwgdmlld05vZGUubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBpZCA9XG4gICAgICAodmlld05vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiaWRcIikgfHxcbiAgICAgICh2aWV3Tm9kZSBhcyBFbGVtZW50KS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGlmICghaWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhdGhpcy5jb3VudGVyU3RvcmUucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXSAmJlxuICAgICAgIXRoaXMuY291bnRlclN0b3JlLnVucmVzb2x2ZWRSZWZlcmVuY2VzW2lkXVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHBhZ2VJbmRleCA9IHRoaXMuY291bnRlclN0b3JlLnBhZ2VJbmRpY2VzQnlJZFtpZF07XG4gICAgaWYgKCFwYWdlSW5kZXgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYWdlSW5kZXggPj0gcGFnZUluZGV4LnBhZ2VJbmRleDtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NUb2tlbml6ZXIgLSBDU1MgVG9rZW5pemVyLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9rZW5pemVySGFuZGxlciB7XG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogVG9rZW4pOiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUGFyc2VTaW5nbGUoc3RyOiBzdHJpbmcpOiBzdHJpbmcge1xuICBzdHIgPSBzdHIuc3Vic3RyKDEpO1xuICBpZiAoc3RyLm1hdGNoKC9eW14wLTlhLWZBLUZcXG5cXHJdJC8pKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBjb25zdCBjb2RlID0gcGFyc2VJbnQoc3RyLCAxNik7XG4gIGlmIChpc05hTihjb2RlKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGlmIChjb2RlIDw9IDY1NTM1KSB7XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gIH1cbiAgaWYgKGNvZGUgPD0gMTExNDExMSkge1xuICAgIC8vIG5vbi1CTVAgY2hhcmFjdGVyczogY29udmVydCB0byBhIHN1cnJvZ2F0ZSBwYWlyXG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICA1NTI5NiB8ICgoY29kZSA+PiAxMCkgJiAxMDIzKSxcbiAgICAgIDU2MzIwIHwgKGNvZGUgJiAxMDIzKSxcbiAgICApO1xuICB9XG5cbiAgLy8gbm90IGEgdmFsaWQgVW5pY29kZSB2YWx1ZVxuICByZXR1cm4gXCJcXHVmZmZkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVQYXJzZShzdHI6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzdHIucmVwbGFjZShcbiAgICAvXFxcXChbMC05YS1mQS1GXXswLDZ9KFxcclxcbnxbIFxcblxcclxcdFxcZl0pP3xbXjAtOWEtZkEtRlxcblxccl0pL2csXG4gICAgZXNjYXBlUGFyc2VTaW5nbGUsXG4gICk7XG59XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gVG9rZW5UeXBlIHtcbiAgRU9GLFxuICBJREVOVCxcbiAgU1RSLFxuICBOVU1FUklDLFxuICBOVU0sXG4gIElOVCxcbiAgRlVOQyxcbiAgSEFTSCxcbiAgVVJMLFxuICBDTEFTUyxcbiAgT19QQVIsXG4gIENfUEFSLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIE9fQlJLLFxuICBDX0JSSyxcbiAgQ09NTUEsXG4gIFNFTUlDT0wsXG4gIENPTE9OLFxuICBTTEFTSCxcbiAgQVQsXG4gIFBFUkNFTlQsXG4gIFFNQVJLLFxuICBQTFVTLFxuICBNSU5VUyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcblxuICAvLyB0aG9zZSBjYW4gaGF2ZSBcIj1cIiBhdCB0aGUgZW5kXG4gIEJBTkcgPSAzMSxcbiAgRE9MTEFSLFxuICBIQVQsXG4gIEJBUixcbiAgVElMREUsXG4gIFNUQVIsXG4gIEdULFxuICBMVCxcbiAgRVEsXG5cbiAgLy8gdG9rZW5zIGFib3ZlIHBsdXMgXCI9XCIgYXQgdGhlIGVuZCwgb3JkZXIgbXVzdCBiZSB0aGUgc2FtZVxuICBCQU5HX0VRID0gNDEsXG4gIERPTExBUl9FUSxcbiAgSEFUX0VRLFxuICBCQVJfRVEsXG4gIFRJTERFX0VRLFxuICBTVEFSX0VRLFxuICBHVF9FUSxcbiAgTFRfRVEsXG4gIEVRX0VRLFxuICBDT0xfQ09MLFxuICBJTlZBTElELFxuICBMQVNUID0gNTEsXG59XG5cbmV4cG9ydCBjbGFzcyBUb2tlbiB7XG4gIHR5cGU6IFRva2VuVHlwZTtcbiAgcHJlY2VkZWRCeVNwYWNlOiBib29sZWFuID0gZmFsc2U7XG4gIG51bTogbnVtYmVyID0gMDtcbiAgdGV4dDogc3RyaW5nID0gXCJcIjtcbiAgcG9zaXRpb246IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy50eXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgfVxufVxuXG4vKipcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEFjdGlvbiB7XG4gIFNQQUNFID0gMSxcbiAgSU5ULFxuICBJREVOVCxcbiAgQkFORyxcbiAgSEFTSCA9IDYsXG4gIERPTExBUixcbiAgUEVSQ0VOVCxcbiAgQU1QLFxuICBPX1BBUixcbiAgQ19QQVIsXG4gIFNUQVIsXG4gIFBMVVMsXG4gIENPTU1BLFxuICBNSU5VUyxcbiAgRE9ULFxuICBTTEFTSCxcbiAgQ09MT04sXG4gIFNFTUlDT0wsXG4gIExULFxuICBFUSxcbiAgR1QsXG4gIFFNQVJLLFxuICBBVCxcbiAgT19CUkssXG4gIENfQlJLLFxuICBPX0JSQyxcbiAgQ19CUkMsXG4gIEJTTEFTSCxcbiAgSEFULFxuICBCQVIsXG4gIFRJTERFLFxuICBTVFIxLFxuICBTVFIyLFxuICBFTkQsXG4gIEVRVEFJTCxcbiAgRU5ESU5ULFxuICBFTkROVU0sXG4gIENPTlQsXG4gIFVOSVQsXG4gIFBDVU5JVCxcbiAgTlVNQkVSLFxuICBFTkRJRE5ULFxuICBJRE5URVNDLFxuICBFTkRJREVTLFxuXG4gIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICBFTkRTVFIsXG4gIEVOREVTVFIsXG5cbiAgLy8gZW5kIG9mIHN0cmluZyB3aXRoIGVzY2FwZXNcbiAgU1RSMUVTQyxcbiAgU1RSMkVTQyxcbiAgQkFSX0JBUixcbiAgQU1QX0FNUCxcbiAgRlVOQyxcbiAgRlVOQ0VTLFxuICBDT01NRU5ULFxuICBDT01NU1QsXG4gIEVORE5PVEssXG4gIE1JTk1JTixcbiAgVE9JTlQsXG4gIFRPTlVNLFxuICBUT0lERU5ULFxuICBUT0lERVMsXG4gIEtJTEwxLFxuICBLSUxMMixcbiAgVVJMLFxuICBVUkwxLFxuICBVUkwyLFxuICBFTkRVUkwsXG4gIFRFUk1VUkwsXG4gIEZJTlVSTCxcbiAgTFRfQkcsXG4gIExUX0JHX00sXG4gIElOVkFMSUQsXG4gIENIS1BPU1MsXG4gIENIS1BPU04sXG4gIFVSTEVTQyxcbiAgSURFU0NILFxuICBDT0xfQ09MLFxuICBUT0NMQVNTLFxuICBDSEtTUCxcbiAgRU9GLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZUFjdGlvbnMoZGVmOiBBY3Rpb24sIHNwZWM6IEFjdGlvbltdKTogQWN0aW9uW10ge1xuICBjb25zdCBhOiBudW1iZXJbXSA9IEFycmF5KDEyOCk7XG4gIGxldCBpOiBudW1iZXI7XG4gIGZvciAoaSA9IDA7IGkgPCAxMjg7IGkrKykge1xuICAgIGFbaV0gPSBkZWY7XG4gIH1cbiAgYVtOYU5dID0gZGVmID09IEFjdGlvbi5FTkQgPyBBY3Rpb24uRU5EIDogQWN0aW9uLklOVkFMSUQ7XG4gIGZvciAoaSA9IDA7IGkgPCBzcGVjLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgYVtzcGVjW2ldXSA9IHNwZWNbaSArIDFdO1xuICB9XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFN0YXJ0IG9mIHRoZSB0b2tlbi5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOb3JtYWw6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uU1BBQ0UsXG4gIEFjdGlvbi5TUEFDRSxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLlNQQUNFLFxuICBBY3Rpb24uQkFORyxcbiAgQWN0aW9uLlNUUjIsXG4gIEFjdGlvbi5IQVNILFxuICBBY3Rpb24uRE9MTEFSLFxuICBBY3Rpb24uUEVSQ0VOVCxcbiAgQWN0aW9uLkFNUCxcbiAgQWN0aW9uLlNUUjEsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uT19QQVIsXG4gIEFjdGlvbi5DX1BBUixcbiAgQWN0aW9uLlNUQVIsXG4gIEFjdGlvbi5QTFVTLFxuICBBY3Rpb24uQ09NTUEsXG4gIEFjdGlvbi5NSU5VUyxcbiAgQWN0aW9uLkRPVCxcbiAgQWN0aW9uLlNMQVNILCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCxcbiAgQWN0aW9uLklOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5JTlQsXG4gIEFjdGlvbi5DT0xPTixcbiAgQWN0aW9uLlNFTUlDT0wsXG4gIEFjdGlvbi5MVCxcbiAgQWN0aW9uLkVRLFxuICBBY3Rpb24uR1QsXG4gIEFjdGlvbi5RTUFSSywgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5BVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSSyxcbiAgQWN0aW9uLkJTTEFTSCxcbiAgQWN0aW9uLkNfQlJLLFxuICBBY3Rpb24uSEFULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5JREVOVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5JREVOVCxcbiAgQWN0aW9uLklERU5ULFxuICBBY3Rpb24uSURFTlQsXG4gIEFjdGlvbi5PX0JSQyxcbiAgQWN0aW9uLkJBUixcbiAgQWN0aW9uLkNfQlJDLFxuICBBY3Rpb24uVElMREUsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNOb3JtYWxbTmFOXSA9IEFjdGlvbi5FT0Y7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRlVOQyxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLklETlRFU0MsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsXG4gIEFjdGlvbi5FTkRJRE5ULFxuICBBY3Rpb24uRU5ESUROVCxcbiAgQWN0aW9uLkVORElETlQsIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc0lkZW50W05hTl0gPSBBY3Rpb24uRU5ESUROVDtcblxuLyoqXG4gKiBBZnRlciBkb3QgKGVpdGhlciAuY2xhc3Mgb3IgLjEyMylcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNOdW1PckNsYXNzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5UT05VTSxcbiAgQWN0aW9uLlRPTlVNLCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLlRPTlVNLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLlRPSURFUyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUywgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5UT0NMQVNTLFxuICBBY3Rpb24uVE9DTEFTUyxcbiAgQWN0aW9uLlRPQ0xBU1MsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIEFjdGlvbi5JTlZBTElELFxuICBBY3Rpb24uSU5WQUxJRCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zSWRlbnRbTmFOXSA9IEFjdGlvbi5FTkRJRE5UO1xuXG4vKipcbiAqIGFmdGVyICctJ1xuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc01pbnVzOiBBY3Rpb25bXSA9IFtcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MDgtMHgwRlxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDEwLTB4MTdcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjAtMHgyN1xuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uTUlOTUlOLFxuICBBY3Rpb24uVE9OVU0sXG4gIEFjdGlvbi5FTkQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uVE9JTlQsXG4gIEFjdGlvbi5UT0lOVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5UT0lOVCxcbiAgQWN0aW9uLlRPSU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDAtMHg0N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NDgtMHg0RlxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsIC8vIDB4NTAtMHg1N1xuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVTLFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uRU5ELFxuICBBY3Rpb24uVE9JREVOVCwgLy8gMHg1OC0weDVGXG4gIEFjdGlvbi5FTkQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLlRPSURFTlQsXG4gIEFjdGlvbi5UT0lERU5ULFxuICBBY3Rpb24uVE9JREVOVCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCxcbiAgQWN0aW9uLkVORCwgLy8gMHg3OC0weDdGXG5dO1xuXG5hY3Rpb25zTWludXNbTmFOXSA9IEFjdGlvbi5FTkQ7XG5cbi8qKlxuICogSW5zaWRlIGlkZW50aWZpZXIgd2l0aCBlc2NhcGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJZGVudEVzYzogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwMC0weDA3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uQ0hLUE9TUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgxOC0weDFGXG4gIEFjdGlvbi5DSEtQT1NTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUywgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5GVU5DRVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDI4LTB4MkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDMwLTB4MzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDM4LTB4M0ZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5JRE5URVNDLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDYwLTB4NjdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDY4LTB4NkZcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULCAvLyAweDcwLTB4NzdcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLFxuICBBY3Rpb24uRU5ESURFUyxcbiAgQWN0aW9uLkVORElERVMsXG4gIEFjdGlvbi5FTkRJREVTLCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJZGVudEVzY1tOYU5dID0gQWN0aW9uLkVORElERVM7XG5cbi8qKlxuICogSW5zaWRlIGludGVnZXJcbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGlvbnNJbnQ6IEFjdGlvbltdID0gW1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDAwLTB4MDdcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgwOC0weDBGXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MTAtMHgxN1xuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDE4LTB4MUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlBDVU5JVCxcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLkVORElOVCwgLy8gMHgyMC0weDI3XG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5OVU1CRVIsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MjgtMHgyRlxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsIC8vIDB4MzAtMHgzN1xuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsIC8vIDB4MzgtMHgzRlxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0MC0weDQ3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg0OC0weDRGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg1MC0weDU3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5FTkRJTlQsXG4gIEFjdGlvbi5VTklULCAvLyAweDU4LTB4NUZcbiAgQWN0aW9uLkVORElOVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjAtMHg2N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NjgtMHg2RlxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NzAtMHg3N1xuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULFxuICBBY3Rpb24uRU5ESU5ULCAvLyAweDc4LTB4N0Zcbl07XG5cbmFjdGlvbnNJbnRbTmFOXSA9IEFjdGlvbi5FTkRJTlQ7XG5cbi8qKlxuICogaW5zaWRlIHJlYWwsIGFmdGVyIGRvdFxuICovXG5leHBvcnQgY29uc3QgYWN0aW9uc051bWJlcjogQWN0aW9uW10gPSBbXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MDAtMHgwN1xuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDA4LTB4MEZcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgxMC0weDE3XG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4MTgtMHgxRlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uUENVTklULFxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uRU5ETlVNLCAvLyAweDIwLTB4MjdcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgyOC0weDJGXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkNPTlQsXG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCwgLy8gMHgzMC0weDM3XG4gIEFjdGlvbi5DT05ULFxuICBBY3Rpb24uQ09OVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSwgLy8gMHgzOC0weDNGXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQwLTB4NDdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDQ4LTB4NEZcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULCAvLyAweDUwLTB4NTdcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLkVORE5VTSxcbiAgQWN0aW9uLlVOSVQsIC8vIDB4NTgtMHg1RlxuICBBY3Rpb24uRU5ETlVNLFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2MC0weDY3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg2OC0weDZGXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCwgLy8gMHg3MC0weDc3XG4gIEFjdGlvbi5VTklULFxuICBBY3Rpb24uVU5JVCxcbiAgQWN0aW9uLlVOSVQsXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sXG4gIEFjdGlvbi5FTkROVU0sIC8vIDB4NzgtMHg3RlxuXTtcblxuYWN0aW9uc051bWJlcltOYU5dID0gQWN0aW9uLkVORE5VTTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDaGVja0VxOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgNjEgLyo9Ki8sXG4gIEFjdGlvbi5FUVRBSUwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNDb2xvbjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDU4IC8qOiovLFxuICBBY3Rpb24uQ09MX0NPTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0JhcjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAxMjQgLyp8Ki8sXG4gIEFjdGlvbi5CQVJfQkFSLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zQW1wOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5FTkQsIFtcbiAgMzggLyomKi8sXG4gIEFjdGlvbi5BTVBfQU1QLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU2xhc2g6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkVORCwgW1xuICA0MiAvKiAqICovLFxuICBBY3Rpb24uQ09NTUVOVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnQ6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgNDIgLyogKiAqLyxcbiAgQWN0aW9uLkNPTU1TVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0NvbW1lbnRTdGFyOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT01NRU5ULCBbXG4gIDQyIC8qICogKi8sXG4gIEFjdGlvbi5DT01NU1QsXG4gIDQ3IC8qIC8gKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTWludXNNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDEsIFtcbiAgNjIgLyogPiAqLyxcbiAgQWN0aW9uLkVORE5PVEssXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdDogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uRU5ELCBbXG4gIDYxIC8qPSovLFxuICBBY3Rpb24uRVFUQUlMLFxuICAzMyAvKiEqLyxcbiAgQWN0aW9uLkxUX0JHLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zTHRCYW5nOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5LSUxMMSwgW1xuICA0NSAvKi0qLyxcbiAgQWN0aW9uLkxUX0JHX00sXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNMdEJhbmdNaW51czogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uS0lMTDIsIFtcbiAgNDUgLyotKi8sXG4gIEFjdGlvbi5FTkROT1RLLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zSWRlbnRFc2NDaHI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklERVNDSCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVORFNUUixcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgOTIgLypcXCovLFxuICBBY3Rpb24uU1RSMUVTQyxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1N0cjI6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLkNPTlQsIFtcbiAgMzQgLypcIiovLFxuICBBY3Rpb24uRU5EU1RSLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5TVFIyRVNDLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zU3RyMUVzYzogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjFFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNTdHIyRXNjOiBBY3Rpb25bXSA9IG1ha2VBY3Rpb25zKEFjdGlvbi5DT05ULCBbXG4gIDM0IC8qXCIqLyxcbiAgQWN0aW9uLkVOREVTVFIsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlNUUjJFU0MsXG5dKTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNVUkw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLlVSTCwgW1xuICA5IC8qdGFiKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzMiAvKnNwKi8sXG4gIEFjdGlvbi5DT05ULFxuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5VUkwyLFxuICAzOSAvKicqLyxcbiAgQWN0aW9uLlVSTDEsXG4gIDQxIC8qKSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTEluc2lkZTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICA0MSAvKikqLyxcbiAgQWN0aW9uLkVORFVSTCxcbiAgOSAvKlRBQiovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1NQLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtTUCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ0hLU1AsXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgNDAgLyooKi8sXG4gIEFjdGlvbi5JTlZBTElELFxuICA5MSAvKlsqLyxcbiAgQWN0aW9uLklOVkFMSUQsXG4gIDkzIC8qXSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTIzIC8qeyovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgMTI1IC8qfSovLFxuICBBY3Rpb24uSU5WQUxJRCxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMTogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzOSAvKicqLyxcbiAgQWN0aW9uLlRFUk1VUkwsXG4gIDEwIC8qTEYqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDEzIC8qQ1IqLyxcbiAgQWN0aW9uLkNIS1BPU04sXG4gIDkyIC8qXFwqLyxcbiAgQWN0aW9uLlVSTEVTQyxcbiAgTmFOLFxuICBBY3Rpb24uRU5EVVJMLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zVVJMSW5zaWRlMjogQWN0aW9uW10gPSBtYWtlQWN0aW9ucyhBY3Rpb24uQ09OVCwgW1xuICAzNCAvKlwiKi8sXG4gIEFjdGlvbi5URVJNVVJMLFxuICAxMCAvKkxGKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICAxMyAvKkNSKi8sXG4gIEFjdGlvbi5DSEtQT1NOLFxuICA5MiAvKlxcKi8sXG4gIEFjdGlvbi5VUkxFU0MsXG4gIE5hTixcbiAgQWN0aW9uLkVORFVSTCxcbl0pO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1VSTFRhaWw6IEFjdGlvbltdID0gbWFrZUFjdGlvbnMoQWN0aW9uLklOVkFMSUQsIFtcbiAgOSAvKnRhYiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTAgLypMRiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMTMgLypDUiovLFxuICBBY3Rpb24uQ09OVCxcbiAgMzIgLypzcCovLFxuICBBY3Rpb24uQ09OVCxcbiAgNDEgLyopKi8sXG4gIEFjdGlvbi5GSU5VUkwsXG5dKTtcblxuZXhwb3J0IGNvbnN0IElOSVRJQUxfSU5ERVhfTUFTSyA9IDE1O1xuXG5leHBvcnQgY2xhc3MgVG9rZW5pemVyIHtcbiAgaW5kZXhNYXNrOiBudW1iZXI7XG4gIGJ1ZmZlcjogVG9rZW5bXTtcbiAgaGVhZDogbnVtYmVyID0gLTE7IC8vIHNhdmVkLCBvY2N1cGllZCBpZiA+PSAwXG4gIHRhaWw6IG51bWJlciA9IDA7IC8vIGF2YWlsYWJsZSwgcmVhZHkgdG8gd3JpdGVcbiAgY3VycjogbnVtYmVyID0gMDsgLy8gcmVhZHkgdG8gcmVhZFxuICBwb3NpdGlvbjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgaW5wdXQ6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IGhhbmRsZXI6IFRva2VuaXplckhhbmRsZXIpIHtcbiAgICB0aGlzLmluZGV4TWFzayA9IElOSVRJQUxfSU5ERVhfTUFTSztcbiAgICB0aGlzLmJ1ZmZlciA9IEFycmF5KHRoaXMuaW5kZXhNYXNrICsgMSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5pbmRleE1hc2s7IGkrKykge1xuICAgICAgdGhpcy5idWZmZXJbaV0gPSBuZXcgVG9rZW4oKTtcbiAgICB9XG4gIH1cblxuICB0b2tlbigpOiBUb2tlbiB7XG4gICAgaWYgKHRoaXMudGFpbCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbdGhpcy5jdXJyXTtcbiAgfVxuXG4gIG50aFRva2VuKG46IG51bWJlcik6IFRva2VuIHtcbiAgICBpZiAoKCh0aGlzLnRhaWwgLSB0aGlzLmN1cnIpICYgdGhpcy5pbmRleE1hc2spIDw9IG4pIHtcbiAgICAgIHRoaXMuZmlsbEJ1ZmZlcigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5idWZmZXJbKHRoaXMuY3VyciArIG4pICYgdGhpcy5pbmRleE1hc2tdO1xuICB9XG5cbiAgY29uc3VtZSgpOiB2b2lkIHtcbiAgICB0aGlzLmN1cnIgPSAodGhpcy5jdXJyICsgMSkgJiB0aGlzLmluZGV4TWFzaztcbiAgfVxuXG4gIG1hcmsoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaGVhZCA+PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX0NTU1RPS19CQURfQ0FMTCBtYXJrXCIpO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSB0aGlzLmN1cnI7XG4gIH1cblxuICByZXNldCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5oZWFkIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9DU1NUT0tfQkFEX0NBTEwgcmVzZXRcIik7XG4gICAgfVxuICAgIHRoaXMuY3VyciA9IHRoaXMuaGVhZDtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIHVubWFyaygpOiB2b2lkIHtcbiAgICB0aGlzLmhlYWQgPSAtMTtcbiAgfVxuXG4gIGhhc01hcmsoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGVhZCA+PSAwO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFsbG9jYXRlKCk6IHZvaWQge1xuICAgIGNvbnN0IG5ld0luZGV4TWFzayA9IDIgKiAodGhpcy5pbmRleE1hc2sgKyAxKSAtIDE7XG4gICAgY29uc3QgbmV3QnVmZmVyOiBUb2tlbltdID0gQXJyYXkobmV3SW5kZXhNYXNrICsgMSk7XG4gICAgbGV0IG9sZEluZGV4ID0gdGhpcy5oZWFkO1xuICAgIGxldCBuZXdJbmRleCA9IDA7XG4gICAgd2hpbGUgKG9sZEluZGV4ICE9IHRoaXMudGFpbCkge1xuICAgICAgbmV3QnVmZmVyW25ld0luZGV4XSA9IHRoaXMuYnVmZmVyW29sZEluZGV4XTtcbiAgICAgIGlmIChvbGRJbmRleCA9PSB0aGlzLmN1cnIpIHtcbiAgICAgICAgdGhpcy5jdXJyID0gbmV3SW5kZXg7XG4gICAgICB9XG4gICAgICBvbGRJbmRleCA9IChvbGRJbmRleCArIDEpICYgdGhpcy5pbmRleE1hc2s7XG4gICAgICBuZXdJbmRleCsrO1xuICAgIH1cbiAgICB0aGlzLmhlYWQgPSAwO1xuICAgIHRoaXMudGFpbCA9IG5ld0luZGV4O1xuICAgIHRoaXMuaW5kZXhNYXNrID0gbmV3SW5kZXhNYXNrO1xuICAgIHRoaXMuYnVmZmVyID0gbmV3QnVmZmVyO1xuICAgIHdoaWxlIChuZXdJbmRleCA8PSBuZXdJbmRleE1hc2spIHtcbiAgICAgIG5ld0J1ZmZlcltuZXdJbmRleCsrXSA9IG5ldyBUb2tlbigpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZXJyb3IocG9zaXRpb24sIHRva2VuLCBtbmVtb25pY3MpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyKSB7XG4gICAgICB0aGlzLmhhbmRsZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaWxsQnVmZmVyKCk6IHZvaWQge1xuICAgIGxldCB0YWlsID0gdGhpcy50YWlsO1xuICAgIGxldCBoZWFkID0gdGhpcy5oZWFkID49IDAgPyB0aGlzLmhlYWQgOiB0aGlzLmN1cnI7XG4gICAgbGV0IGluZGV4TWFzayA9IHRoaXMuaW5kZXhNYXNrO1xuICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgIGhlYWQgKz0gaW5kZXhNYXNrO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkLS07XG4gICAgfVxuICAgIGlmIChoZWFkID09IHRhaWwpIHtcbiAgICAgIC8vIG9ubHkgZXhwZWN0IHRvIGdldCBoZXJlIHdoZW4gbWFyayBpcyBpbiBlZmZlY3RcbiAgICAgIGlmICh0aGlzLmhlYWQgPCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfQ1NTVE9LX0lOVEVSTkFMXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWFsbG9jYXRlKCk7XG4gICAgICB0YWlsID0gdGhpcy50YWlsO1xuICAgICAgaW5kZXhNYXNrID0gdGhpcy5pbmRleE1hc2s7XG4gICAgICBoZWFkID0gaW5kZXhNYXNrOyAvLyB0aGlzLmhlYWQgaXMgemVyb1xuICAgIH1cbiAgICBsZXQgYWN0aW9ucyA9IGFjdGlvbnNOb3JtYWw7XG4gICAgY29uc3QgaW5wdXQgPSB0aGlzLmlucHV0O1xuICAgIGxldCBwb3NpdGlvbiA9IHRoaXMucG9zaXRpb247XG4gICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXI7XG4gICAgbGV0IHRva2VuVHlwZTogVG9rZW5UeXBlID0gVG9rZW5UeXBlLkVPRjtcbiAgICBsZXQgdG9rZW5Qb3NpdGlvbjogbnVtYmVyID0gMDtcbiAgICBsZXQgdG9rZW5UZXh0OiBzdHJpbmcgPSBcIlwiO1xuICAgIGxldCB0b2tlbk51bTogbnVtYmVyID0gMDtcbiAgICBsZXQgc2VlblNwYWNlID0gZmFsc2U7XG4gICAgbGV0IHRva2VuOiBUb2tlbiA9IGJ1ZmZlclt0YWlsXTtcbiAgICBsZXQgYmFja3NsYXNoUG9zID0gLTk7IC8vIGZhciBlbm91Z2ggYmVmb3JlIHRoZSBzdGFydCBvZiB0aGUgc3RyaW5nXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IGNoYXJDb2RlID0gaW5wdXQuY2hhckNvZGVBdChwb3NpdGlvbik7XG4gICAgICBzd2l0Y2ggKGFjdGlvbnNbY2hhckNvZGVdIHx8IGFjdGlvbnNbNjVdIC8qQSovKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVkFMSUQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklOVkFMSUQ7XG4gICAgICAgICAgaWYgKGlzTmFOKGNoYXJDb2RlKSkge1xuICAgICAgICAgICAgdG9rZW5UZXh0ID0gXCJFX0NTU19VTkVYUEVDVEVEX0VPRlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfQ0hBUlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5TUEFDRTpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIHNlZW5TcGFjZSA9IHRydWU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLklOVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0ludDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uSURFTlQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkJBTkc6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBTkc7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIxOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TVFIyOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5TVFI7XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIHF1b3RlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5IQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSArK3Bvc2l0aW9uOyAvLyBhZnRlciBoYXNoXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkhBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRE9MTEFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5ET0xMQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QRVJDRU5UOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QRVJDRU5UO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5BTVA6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkRPTExBUjtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0FtcDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uT19QQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk9fUEFSO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DX1BBUjpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ19QQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUQVI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLlNUQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNDaGVja0VxO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QTFVTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5QTFVTO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT01NQTpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09NTUE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk1JTlVTOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5NSU5VUztcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc01pbnVzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5ET1Q6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNOdW1PckNsYXNzO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0NMQVNTOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DTEFTUztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TTEFTSDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0xBU0g7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTbGFzaDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09MT046XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNPTE9OO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29sb247XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNPTF9DT0w6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQ09MX0NPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VNSUNPTDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuU0VNSUNPTDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uTFQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkxUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVROlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5FUTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkdUOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5HVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlFNQVJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5RTUFSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQVQ6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIGFmdGVyIFwiYXRcIiBzaWduXG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLk9fQlJLOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5PX0JSSztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ19CUks6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkNfQlJLO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5PX0JSQzpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuT19CUkM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkNfQlJDOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5DX0JSQztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQlNMQVNIOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGJhY2tzbGFzaFBvcyA9IHRva2VuUG9zaXRpb247XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLklERU5UO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zSWRlbnRFc2NDaHI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkhBVDpcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSEFUO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ2hlY2tFcTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQkFSOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5CQVI7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNCYXI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRJTERFOlxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrO1xuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5USUxERTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NoZWNrRXE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUVRBSUw6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSAodG9rZW5UeXBlICtcbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HX0VRIC1cbiAgICAgICAgICAgIFRva2VuVHlwZS5CQU5HKSBhcyBUb2tlblR5cGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORElOVDpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUludChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pLCAxMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORE5VTTpcbiAgICAgICAgICAvLyBkb24ndCBjb25zdW1lIGN1cnJlbnQgY2hhclxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU07XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DT05UOlxuICAgICAgICAgIC8vIGp1c3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5VTklUOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5OVU1FUklDO1xuICAgICAgICAgIHRva2VuTnVtID0gcGFyc2VGbG9hdChpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTtcbiAgICAgICAgICB0b2tlblBvc2l0aW9uID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QQ1VOSVQ6XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTUVSSUM7XG4gICAgICAgICAgdG9rZW5OdW0gPSBwYXJzZUZsb2F0KGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHRva2VuVGV4dCA9IFwiJVwiO1xuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbisrOyAvLyBmb3IgY29uc2lzdGVuY3kgd2l0aCBhbHBoYWJldGljIHVuaXRzXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLk5VTUJFUjpcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTnVtYmVyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJRE5UOlxuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLklETlRFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjQ2hyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRJREVTOlxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyIHdpdGggZXNjYXBlc1xuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUgY3VycmVudCBjaGFyXG4gICAgICAgICAgLy8gdG9rZW5UeXBlIHNob3VsZCBiZSBzZXQgYWxyZWFkeVxuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5FTkRTVFI6XG4gICAgICAgICAgdG9rZW5UZXh0ID0gaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ERVNUUjpcbiAgICAgICAgICB0b2tlblRleHQgPSBlc2NhcGVQYXJzZShpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pKTsgLy8gY29uc3VtZSBjbG9zaW5nIHF1b3RlXG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uU1RSMUVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbjtcbiAgICAgICAgICBwb3NpdGlvbiArPSAyOyAvLyBjb25zdW1lIGNoYXJhY3RlciBhZnRlciBiYWNrc2xhc2ggaW4gYW55IGNhc2VcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1N0cjFFc2M7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNUUjJFU0M6XG4gICAgICAgICAgYmFja3NsYXNoUG9zID0gcG9zaXRpb247XG4gICAgICAgICAgcG9zaXRpb24gKz0gMjsgLy8gY29uc3VtZSBjaGFyYWN0ZXIgYWZ0ZXIgYmFja3NsYXNoIGluIGFueSBjYXNlXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNTdHIyRXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5CQVJfQkFSOlxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLkJBUl9CQVI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkFNUF9BTVA6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuQU1QX0FNUDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uRlVOQzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVG9rZW5UeXBlLk5VTUVSSUNcbiAgICAgICAgICB0b2tlblRleHQgPSBpbnB1dC5zdWJzdHJpbmcodG9rZW5Qb3NpdGlvbiwgcG9zaXRpb24pO1xuICAgICAgICAgIGlmICh0b2tlblR5cGUgPT0gVG9rZW5UeXBlLklERU5UKSB7XG4gICAgICAgICAgICBwb3NpdGlvbisrOyAvLyBjb25zdW1lXG4gICAgICAgICAgICBpZiAodG9rZW5UZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRlVOQztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZVTkNFUzpcbiAgICAgICAgICAvLyB0b2tlblR5cGUgY2FuIGJlIFRva2VuVHlwZS5JREVOVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuQ0xBU1MsIFRva2VuVHlwZS5BVCxcbiAgICAgICAgICAvLyBUb2tlblR5cGUuSEFTSCwgVF9OVU1FUklDXG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgaWYgKHRva2VuVHlwZSA9PSBUb2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uKys7IC8vIGNvbnN1bWVcbiAgICAgICAgICAgIGlmICh0b2tlblRleHQudG9Mb3dlckNhc2UoKSA9PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zVVJMO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5GVU5DO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTUVOVDpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0NvbW1lbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ09NTVNUOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zQ29tbWVudFN0YXI7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRU5ETk9USzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5NSU5NSU46XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNNaW51c01pbnVzO1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJbnQ7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVE9OVU06XG4gICAgICAgICAgdG9rZW5UeXBlID0gVG9rZW5UeXBlLk5VTTtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc051bWJlcjtcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5UT0lERU5UOlxuICAgICAgICAgIHRva2VuVHlwZSA9IFRva2VuVHlwZS5JREVOVDtcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50O1xuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlRPSURFUzpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSURFTlQ7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNJZGVudEVzY0NocjtcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMTpcbiAgICAgICAgICBwb3NpdGlvbi0tO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5LSUxMMjpcbiAgICAgICAgICBwb3NpdGlvbiAtPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5VUkw6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9IHBvc2l0aW9uKys7XG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxJbnNpZGU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDE6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTE7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTDI6XG4gICAgICAgICAgdG9rZW5Qb3NpdGlvbiA9ICsrcG9zaXRpb247IC8vIHNraXAgcXVvdGVcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc1VSTEluc2lkZTI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVORFVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgJyknXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLkZJTlVSTDpcbiAgICAgICAgICBwb3NpdGlvbisrOyAvLyBza2lwICcpJ1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CRzpcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0x0QmFuZztcbiAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5MVF9CR19NOlxuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTHRCYW5nTWludXM7XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uQ0hLU1A6XG4gICAgICAgICAgLy8gbmV3bGluZSBpbiBub24tcXVvdGVkIFVSTCAtIGNoZWNrIGlmIGVuZCBvZiB1cmxcbiAgICAgICAgICBpZiAocG9zaXRpb24gLSBiYWNrc2xhc2hQb3MgPCA4KSB7XG4gICAgICAgICAgICAvLyBjbG9zZSBlbm91Z2g6IG1heSBiZSB2YWxpZFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoYmFja3NsYXNoUG9zICsgMSwgcG9zaXRpb24gKyAxKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKXxbIFxcdF0kLylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvLyB2YWxpZCwga2VlcCBnb2luZ1xuICAgICAgICAgICAgICBwb3NpdGlvbisrO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZW5kIG9mIHVybFxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uVEVSTVVSTDpcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuVVJMO1xuICAgICAgICAgIHRva2VuVGV4dCA9IGVzY2FwZVBhcnNlKGlucHV0LnN1YnN0cmluZyh0b2tlblBvc2l0aW9uLCBwb3NpdGlvbikpO1xuICAgICAgICAgIHBvc2l0aW9uKys7IC8vIHNraXAgcXVvdGUgKG9yIG5ld2xpbmUpXG4gICAgICAgICAgYWN0aW9ucyA9IGFjdGlvbnNVUkxUYWlsO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NOOlxuICAgICAgICAgIC8vIG5ld2xpbmUgaW4gc3RyaW5nIG9yIHF1b3RlZCBVUkwgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uIC0gYmFja3NsYXNoUG9zIDwgOSkge1xuICAgICAgICAgICAgLy8gY2xvc2UgZW5vdWdoOiBtYXkgYmUgdmFsaWRcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW5wdXRcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKGJhY2tzbGFzaFBvcyArIDEsIHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIC5tYXRjaCgvXlswLTlhLWZBLUZdezAsNn0oXFxyXFxufFtcXG5cXHJdKSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGludmFsaWQgdG9rZW5cbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICB0b2tlblRleHQgPSBcIkVfQ1NTX1VORVhQRUNURURfTkVXTElORVwiO1xuICAgICAgICAgIGFjdGlvbnMgPSBhY3Rpb25zTm9ybWFsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFjdGlvbi5DSEtQT1NTOlxuICAgICAgICAgIC8vIHNwYWNlIGluIGlkZW50aWZpZXIgLSBjaGVjayB2YWxpZGl0eVxuICAgICAgICAgIGlmIChwb3NpdGlvbiAtIGJhY2tzbGFzaFBvcyA8IDkpIHtcbiAgICAgICAgICAgIC8vIGNsb3NlIGVub3VnaDogbWF5IGJlIHZhbGlkXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZyhiYWNrc2xhc2hQb3MgKyAxLCBwb3NpdGlvbiArIDEpXG4gICAgICAgICAgICAgICAgLm1hdGNoKC9eWzAtOWEtZkEtRl17MCw2fVsgXFx0XSQvKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIHZhbGlkLCBrZWVwIGdvaW5nXG4gICAgICAgICAgICAgIHBvc2l0aW9uKys7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGVuZCBvZiBpZGVudGlmaWVyXG4gICAgICAgICAgLy8gZG9uJ3QgY29uc3VtZSBjdXJyZW50IGNoYXJcbiAgICAgICAgICAvLyB0b2tlblR5cGUgc2hvdWxkIGJlIHNldCBhbHJlYWR5XG4gICAgICAgICAgdG9rZW5UZXh0ID0gZXNjYXBlUGFyc2UoaW5wdXQuc3Vic3RyaW5nKHRva2VuUG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQWN0aW9uLlVSTEVTQzpcbiAgICAgICAgICBiYWNrc2xhc2hQb3MgPSBwb3NpdGlvbisrO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5JREVTQ0g6XG4gICAgICAgICAgcG9zaXRpb24rKztcbiAgICAgICAgICBhY3Rpb25zID0gYWN0aW9uc0lkZW50RXNjO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIEVPRlxuICAgICAgICAgIGlmIChhY3Rpb25zICE9PSBhY3Rpb25zTm9ybWFsKSB7XG4gICAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuSU5WQUxJRDtcbiAgICAgICAgICAgIHRva2VuVGV4dCA9IFwiRV9DU1NfVU5FWFBFQ1RFRF9TVEFURVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuUG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgICB0b2tlblR5cGUgPSBUb2tlblR5cGUuRU9GO1xuICAgICAgfVxuICAgICAgdG9rZW4udHlwZSA9IHRva2VuVHlwZTtcbiAgICAgIHRva2VuLnByZWNlZGVkQnlTcGFjZSA9IHNlZW5TcGFjZTtcbiAgICAgIHRva2VuLm51bSA9IHRva2VuTnVtO1xuICAgICAgdG9rZW4udGV4dCA9IHRva2VuVGV4dDtcbiAgICAgIHRva2VuLnBvc2l0aW9uID0gdG9rZW5Qb3NpdGlvbjtcbiAgICAgIHRhaWwrKztcbiAgICAgIGlmICh0YWlsID49IGhlYWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBhY3Rpb25zID0gYWN0aW9uc05vcm1hbDtcbiAgICAgIHNlZW5TcGFjZSA9IGZhbHNlO1xuICAgICAgdG9rZW4gPSBidWZmZXJbdGFpbCAmIGluZGV4TWFza107XG4gICAgfVxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB0aGlzLnRhaWwgPSB0YWlsICYgaW5kZXhNYXNrO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2sgLSBTdXBwb3J0IGZvciBhc3luY2hyb25vdXMgZXhlY3V0aW9uIGFuZCBjb29wZXJhdGl2ZVxuICogbXVsdGl0YXNraW5nLlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqIEV4dGVybmFsIHRpbWVyLiBPbmx5IG5lZWRlZCBmb3IgdGVzdGluZy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBjdXJyZW50VGltZSgpOiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENhbGxzIGZ1bmN0aW9uIGFmdGVyIGEgZ2l2ZW4gdGltZW91dC5cbiAgICogQHBhcmFtIGZuIGZ1bmN0aW9uIHRvIGNhbGwuXG4gICAqIEBwYXJhbSBkZWxheSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHJldHVybiB1bmlxdWUgbnVtYmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2xlYXIgdGhlIHRpbWVvdXQuXG4gICAqL1xuICBzZXRUaW1lb3V0KGZuOiAoKSA9PiB2b2lkLCBkZWxheTogbnVtYmVyKTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYWxscyBmdW5jdGlvbiBhZnRlciBhIGdpdmVuIHRpbWVvdXQuXG4gICAqIEBwYXJhbSB0b2tlbiB0aW1lb3V0IHRva2VuLlxuICAgKiBAcmV0dXJuLlxuICAgKi9cbiAgY2xlYXJUaW1lb3V0KHRva2VuOiBudW1iZXIpOiB2b2lkO1xufVxuXG4vKipcbiAqIFJlc3VsdCBvZiBhbiBhc3luY2hyb25vdXMgZnVuY3Rpb24gdGhhdCBtYXkgYmUgYXZhaWxhYmxlIGltbWVkaWF0ZWx5IG9yXG4gKiBzb21lIHRpbWUgbGF0ZXIuIFNpbWlsYXIgdG8gRGVmZXJyZWQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3VsdDxUPiB7XG4gIC8qKlxuICAgKiBDYWxsIHRoZSBnaXZlbiBmdW5jdGlvbiB3aGVuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiBpcyBmaW5pc2hlZC4gQ2FsbGJhY2tcbiAgICogaXMgZXhlY3V0ZWQgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZDtcblxuICAvKipcbiAgICogQ2FsbCB0aGUgZ2l2ZW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHdoZW4gc29tZSBhc3luY2hyb25vdXMgZnVuY3Rpb24gaXNcbiAgICogZmluaXNoZWQuIENhbGxiYWNrIGlzIGV4ZWN1dGVkIGluIHRoZSB0YXNrJ3MgY29udGV4dC5cbiAgICogQHRlbXBsYXRlIFQxXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pOiBSZXN1bHQ8VDE+O1xuXG4gIC8qKlxuICAgKiBQcm9kdWNlIGEgUmVzdWx0IHRoYXQgcmVzb2x2ZXMgdG8gdGhlIGdpdmVuIHZhbHVlIHdoZW4gdGhpcyBSZXN1bHQgaXNcbiAgICogcmVzb2x2ZWQuXG4gICAqIEB0ZW1wbGF0ZSBUMVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSk6IFJlc3VsdDxUMT47XG5cbiAgLyoqXG4gICAqIEZpbmlzaCBnaXZlbiBmcmFtZSB3aXRoIHRoZSByZXN1bHQgdmFsdWUgd2hlbiByZXN1bHQgYmVjb21lcyByZWFkeS5cbiAgICovXG4gIHRoZW5GaW5pc2goZnJhbWU6IEZyYW1lPFQ+KTogdm9pZDtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBSZXN1bHQgaXMgc3RpbGwgcGVuZGluZy5cbiAgICovXG4gIGlzUGVuZGluZygpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBJZiB0aGlzIFJlc3VsdCBpcyByZXNvbHZlZCwgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IGl0IGhvbGRzLlxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsO1xufVxuXG5leHBvcnQgbGV0IHByaXZhdGVDdXJyZW50VGFzazogVGFzayB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgbGV0IHByaW1hcnlTY2hlZHVsZXI6IFNjaGVkdWxlciB8IG51bGwgPSBudWxsO1xuXG4vKipcbiAqIFJldHVybnMgY3VycmVudCB0YXNrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3VycmVudFRhc2soKTogVGFzayB8IG51bGwge1xuICByZXR1cm4gcHJpdmF0ZUN1cnJlbnRUYXNrO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgbmV3IGZyYW1lIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBuZXdGcmFtZTxUPihuYW1lOiBzdHJpbmcpOiBGcmFtZTxUPiB7XG4gIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX05PX0NPTlRFWFRcIik7XG4gIH1cbiAgaWYgKCFwcml2YXRlQ3VycmVudFRhc2submFtZSkge1xuICAgIHByaXZhdGVDdXJyZW50VGFzay5uYW1lID0gbmFtZTtcbiAgfVxuICBjb25zdCB0YXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICBjb25zdCBmcmFtZSA9IG5ldyBGcmFtZTxUPih0YXNrLCB0YXNrLnRvcCwgbmFtZSk7XG4gIHRhc2sudG9wID0gZnJhbWU7XG4gIGZyYW1lLnN0YXRlID0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0V2ZW50U291cmNlKCk6IEV2ZW50U291cmNlIHtcbiAgcmV0dXJuIG5ldyBFdmVudFNvdXJjZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3U2NoZWR1bGVyKG9wdF90aW1lcj86IFRpbWVyKTogU2NoZWR1bGVyIHtcbiAgcmV0dXJuIG5ldyBTY2hlZHVsZXIob3B0X3RpbWVyIHx8IG5ldyBUaW1lckltcGwoKSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5ld1Jlc3VsdDxUPihvcHRfdmFsdWU6IFQpOiBSZXN1bHQ8VD4ge1xuICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsPFQ+KG9wdF92YWx1ZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBmcmFtZSBhbmQgcnVucyBjb2RlIGluIGl0cyBjb250ZXh0LCBjYXRjaGluZyBzeW5jaHJvbm91cyBhbmRcbiAqIGFzeW5jaHJvbm91cyBlcnJvcnMuIElmIGFuIGVycm9yIG9jY3Vycywgb25FcnIgaXMgcnVuIChpbiB0aGUgY29udGV4dCBvZlxuICogdGhlIHNhbWUgZnJhbWUpLiBBcyB1c3VhbCwgb25FcnIgaXMgc3VwcG9zZWQgZWl0aGVyIHByb2R1Y2UgYSByZXN1bHQgb3IgcmFpc2VcbiAqIGFuIGV4Y2VwdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZTxUPihcbiAgbmFtZTogYW55LFxuICBjb2RlOiAocDE6IEZyYW1lPFQ+KSA9PiB2b2lkLFxuICBvbkVycjogKHAxOiBGcmFtZTxUPiwgcDI6IEVycm9yKSA9PiB2b2lkLFxuKTogUmVzdWx0PFQ+IHtcbiAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxUPihuYW1lKTtcbiAgZnJhbWUuaGFuZGxlciA9IG9uRXJyO1xuICB0cnkge1xuICAgIGNvZGUoZnJhbWUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBzeW5jaHJvbm91cyBleGNlcHRpb25cbiAgICBmcmFtZS50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICB9XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0PFQ+KGZ1bmM6ICgpID0+IFJlc3VsdDxUPiwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgY29uc3Qgc2NoZWR1bGVyID0gcHJpdmF0ZUN1cnJlbnRUYXNrXG4gICAgPyBwcml2YXRlQ3VycmVudFRhc2suZ2V0U2NoZWR1bGVyKClcbiAgICA6IHByaW1hcnlTY2hlZHVsZXIgfHwgbmV3U2NoZWR1bGVyKCk7XG4gIHJldHVybiBzY2hlZHVsZXIucnVuKGZ1bmMsIG9wdF9uYW1lKTtcbn1cblxuLyoqXG4gKiBGcmFtZSBzdGF0ZS5cbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBlbnVtIEZyYW1lU3RhdGUge1xuICBJTklULCAvLyBiZWZvcmUgbmV3RnJhbWUgY2FsbFxuICBBQ1RJVkUsIC8vIGJlZm9yZSBmaW5pc2ggY2FsbFxuICBGSU5JU0hFRCwgLy8gYmVmb3JlIGNhbGxiYWNrIGNvbXBsZXRlXG4gIERFQUQsIC8vIHdoZW4gY2FsbGJhY2sgaXMgY29tcGxldGVcbn1cbmV4cG9ydCBjbGFzcyBUaW1lckltcGwgaW1wbGVtZW50cyBUaW1lciB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGN1cnJlbnRUaW1lKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkudmFsdWVPZigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2V0VGltZW91dChmbjogKCkgPT4gdm9pZCwgZGVsYXk6IG51bWJlcikge1xuICAgIC8vIEhBQ0s6IGNhc3RpbmcgdG8gdW5rbm93biB0eXBlIHRvIHByZXZlbnQgVHlwZVNjcmlwdCBlcnJvclxuICAgIC8vIFtUUzIzNTJdIENvbnZlcnNpb24gb2YgdHlwZSAnVGltZXInIHRvIHR5cGUgJ251bWJlcicgbWF5IGJlIGEgbWlzdGFrZSBiZWNhdXNlIG5laXRoZXIgdHlwZSBzdWZmaWNpZW50bHkgb3ZlcmxhcHMgd2l0aCB0aGUgb3RoZXIuXG4gICAgY29uc3QgdGltZXI6IHVua25vd24gPSBzZXRUaW1lb3V0KGZuLCBkZWxheSk7XG4gICAgcmV0dXJuIHRpbWVyIGFzIG51bWJlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsZWFyVGltZW91dCh0b2tlbjogbnVtYmVyKTogdm9pZCB7XG4gICAgY2xlYXJUaW1lb3V0KHRva2VuKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgY2xhc3MgdG8gY3JlYXRlIHRhc2tzLlxuICovXG5leHBvcnQgY2xhc3MgU2NoZWR1bGVyIHtcbiAgdGltZW91dDogbnVtYmVyID0gMTtcbiAgc2xpY2U6IG51bWJlciA9IDI1O1xuICBzbGljZU92ZXJUaW1lOiBudW1iZXIgPSAwO1xuICBxdWV1ZTogQmFzZS5Qcmlvcml0eVF1ZXVlO1xuICB3YWtldXBUaW1lOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgdGltZW91dFRva2VuOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgaW5UaW1lU2xpY2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRpbWVyOiBUaW1lcikge1xuICAgIHRoaXMucXVldWUgPSBuZXcgQmFzZS5Qcmlvcml0eVF1ZXVlKCk7XG4gICAgaWYgKCFwcmltYXJ5U2NoZWR1bGVyKSB7XG4gICAgICBwcmltYXJ5U2NoZWR1bGVyID0gdGhpcztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aW1lIHNsaWNlIGxlbmd0aC5cbiAgICogQHBhcmFtIHNsaWNlIGxlbmd0aCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRTbGljZShzbGljZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zbGljZSA9IHNsaWNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGltZW91dCBiZXR3ZWVuIHRpbWUgc2xpY2VzLlxuICAgKiBAcGFyYW0gdGltZW91dCBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzZXRUaW1lb3V0KHRpbWVvdXQ6IG51bWJlcikge1xuICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHRpbWUgc2xpY2UgaXMgb3Zlci5cbiAgICovXG4gIGlzVGltZVNsaWNlT3ZlcigpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgcmV0dXJuIG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWU7XG4gIH1cblxuICBwcml2YXRlIGFybSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pblRpbWVTbGljZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBuZXh0SW5RdWV1ZSA9IHRoaXMucXVldWUucGVlaygpIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5ld1RpbWUgPSBuZXh0SW5RdWV1ZS5zY2hlZHVsZWRUaW1lO1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBpZiAodGhpcy50aW1lb3V0VG9rZW4gIT0gbnVsbCkge1xuICAgICAgaWYgKG5vdyArIHRoaXMudGltZW91dCA+IHRoaXMud2FrZXVwVGltZSkge1xuICAgICAgICByZXR1cm47IC8vIG5vIHVzZSByZS1hcm1pbmdcbiAgICAgIH1cbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICB9XG4gICAgbGV0IHRpbWVvdXQgPSBuZXdUaW1lIC0gbm93O1xuICAgIGlmICh0aW1lb3V0IDw9IHRoaXMudGltZW91dCkge1xuICAgICAgdGltZW91dCA9IHRoaXMudGltZW91dDtcbiAgICB9XG4gICAgdGhpcy53YWtldXBUaW1lID0gbm93ICsgdGltZW91dDtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnRpbWVvdXRUb2tlbiA9IHRoaXMudGltZXIuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZWxmLnRpbWVvdXRUb2tlbiA9IG51bGw7XG4gICAgICBzZWxmLmRvVGltZVNsaWNlKCk7XG4gICAgfSwgdGltZW91dCk7XG4gIH1cblxuICBzY2hlZHVsZShjb250aW51YXRpb246IENvbnRpbnVhdGlvbjxhbnk+LCBvcHRfZGVsYXk/OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBjID0gY29udGludWF0aW9uIGFzIENvbnRpbnVhdGlvbjxhbnk+O1xuICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICBjLm9yZGVyID0gdGhpcy5vcmRlcisrO1xuICAgIGMuc2NoZWR1bGVkVGltZSA9IG5vdyArIChvcHRfZGVsYXkgfHwgMCk7XG4gICAgdGhpcy5xdWV1ZS5hZGQoYyk7XG4gICAgdGhpcy5hcm0oKTtcbiAgfVxuXG4gIHByaXZhdGUgZG9UaW1lU2xpY2UoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudGltZW91dFRva2VuICE9IG51bGwpIHtcbiAgICAgIHRoaXMudGltZXIuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICAgIHRoaXMudGltZW91dFRva2VuID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBub3cgPSB0aGlzLnRpbWVyLmN1cnJlbnRUaW1lKCk7XG4gICAgICB0aGlzLnNsaWNlT3ZlclRpbWUgPSBub3cgKyB0aGlzLnNsaWNlO1xuICAgICAgd2hpbGUgKHRoaXMucXVldWUubGVuZ3RoKCkpIHtcbiAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gdGhpcy5xdWV1ZS5wZWVrKCkgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgICAgIGlmIChjb250aW51YXRpb24uc2NoZWR1bGVkVGltZSA+IG5vdykge1xuICAgICAgICAgIGJyZWFrOyAvLyB0b28gZWFybHlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnF1ZXVlLnJlbW92ZSgpO1xuICAgICAgICBpZiAoIWNvbnRpbnVhdGlvbi5jYW5jZWxlZCkge1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5yZXN1bWVJbnRlcm5hbCgpO1xuICAgICAgICB9XG4gICAgICAgIG5vdyA9IHRoaXMudGltZXIuY3VycmVudFRpbWUoKTtcbiAgICAgICAgaWYgKG5vdyA+PSB0aGlzLnNsaWNlT3ZlclRpbWUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoZXJyKTtcbiAgICB9XG4gICAgdGhpcy5pblRpbWVTbGljZSA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCgpKSB7XG4gICAgICB0aGlzLmFybSgpO1xuICAgIH1cbiAgfVxuXG4gIHJ1bihmdW5jOiAoKSA9PiBSZXN1bHQ8YW55Piwgb3B0X25hbWU/OiBzdHJpbmcpOiBUYXNrIHtcbiAgICBjb25zdCB0YXNrID0gbmV3IFRhc2sodGhpcywgb3B0X25hbWUgfHwgXCJcIik7XG4gICAgdGFzay50b3AgPSBuZXcgRnJhbWU8YW55Pih0YXNrLCBudWxsLCBcImJvb3RzdHJhcFwiKTtcbiAgICB0YXNrLnRvcC5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgIHRhc2sudG9wLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3QgZG9uZSA9ICgpID0+IHtcbiAgICAgICAgdGFzay5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgdGFzay5jYWxsYmFja3MpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZnVuYygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHRhc2sucmVzdWx0ID0gcmVzdWx0O1xuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGFzay5yYWlzZShlcnIpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc2F2ZWRUYXNrID0gcHJpdmF0ZUN1cnJlbnRUYXNrO1xuICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHRhc2s7XG4gICAgdGhpcy5zY2hlZHVsZSh0YXNrLnRvcC5zdXNwZW5kKFwiYm9vdHN0cmFwXCIpKTtcbiAgICBwcml2YXRlQ3VycmVudFRhc2sgPSBzYXZlZFRhc2s7XG4gICAgcmV0dXJuIHRhc2s7XG4gIH1cbn1cblxuLyoqXG4gKiBUYXNrIHN1c3BlbnNpb24gcG9pbnQuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY2xhc3MgQ29udGludWF0aW9uPFQ+IGltcGxlbWVudHMgQmFzZS5Db21wYXJhYmxlIHtcbiAgc2NoZWR1bGVkVGltZTogbnVtYmVyID0gMDtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG4gIHJlc3VsdDogVCA9IG51bGw7XG4gIGNhbmNlbGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRhc2s6IFRhc2spIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY29tcGFyZShvdGhlckNvbXA6IEJhc2UuQ29tcGFyYWJsZSk6IG51bWJlciB7XG4gICAgLy8gZWFybGllciB3aW5zXG4gICAgY29uc3Qgb3RoZXIgPSBvdGhlckNvbXAgYXMgQ29udGludWF0aW9uPGFueT47XG4gICAgcmV0dXJuIG90aGVyLnNjaGVkdWxlZFRpbWUgLSB0aGlzLnNjaGVkdWxlZFRpbWUgfHwgb3RoZXIub3JkZXIgLSB0aGlzLm9yZGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnRpbnVhdGlvbidzIHRhc2tcbiAgICovXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBTY2hlZHVsZSB0YXNrIGNvbnRpbnVhdGlvbiBhZnRlciB0aGUgZ2l2ZW4gKG9wdGlvbmFsKSBkZWxheS5cbiAgICogQHBhcmFtIG9wdF9kZWxheSBvcHRpb25hbCBkZWxheSBpbiBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBzY2hlZHVsZShyZXN1bHQ6IFQsIG9wdF9kZWxheT86IG51bWJlcikge1xuICAgIHRoaXMucmVzdWx0ID0gcmVzdWx0O1xuICAgIHRoaXMudGFzay5zY2hlZHVsZXIuc2NoZWR1bGUodGhpcywgb3B0X2RlbGF5KTtcbiAgfVxuXG4gIHJlc3VtZUludGVybmFsKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHRhc2sgPSB0aGlzLnRhc2s7XG4gICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICBpZiAodGFzayAmJiB0YXNrLmNvbnRpbnVhdGlvbiA9PSB0aGlzKSB7XG4gICAgICB0YXNrLmNvbnRpbnVhdGlvbiA9IG51bGw7XG4gICAgICBjb25zdCBzYXZlZFRhc2sgPSBwcml2YXRlQ3VycmVudFRhc2s7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sgPSB0YXNrO1xuICAgICAgdGFzay50b3AuZmluaXNoKHRoaXMucmVzdWx0KTtcbiAgICAgIHByaXZhdGVDdXJyZW50VGFzayA9IHNhdmVkVGFzaztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIGNvbnRpbnVhdGlvblxuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuY2FuY2VsZWQgPSB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogQW4gYXN5bmNocm9ub3VzLCB0aW1lLXNsaWNlZCB0YXNrLlxuICovXG5leHBvcnQgY2xhc3MgVGFzayB7XG4gIGNhbGxiYWNrczogKCgpID0+IHZvaWQpW10gPSBbXTtcbiAgZXhjZXB0aW9uOiBFcnJvciB8IG51bGwgPSBudWxsO1xuICBydW5uaW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgcmVzdWx0OiBhbnkgPSBudWxsO1xuICB3YWl0VGFyZ2V0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdG9wOiBGcmFtZTxhbnk+IHwgbnVsbCA9IG51bGw7XG4gIGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPGFueT4gfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2NoZWR1bGVyOiBTY2hlZHVsZXIsIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gdGFzayBuYW1lLlxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGVyciBleGNlcHRpb24gdG8gdGhyb3cgaW4gdGhlIHRhc2sncyBjb250ZXh0LlxuICAgKi9cbiAgaW50ZXJydXB0KGVycjogRXJyb3IpOiB2b2lkIHtcbiAgICB0aGlzLnJhaXNlKGVyciB8fCBuZXcgRXJyb3IoXCJFX1RBU0tfSU5URVJSVVBUXCIpKTtcbiAgICBpZiAodGhpcyAhPT0gcHJpdmF0ZUN1cnJlbnRUYXNrICYmIHRoaXMuY29udGludWF0aW9uKSB7XG4gICAgICAvLyBibG9ja2VkIG9uIHNvbWV0aGluZ1xuICAgICAgdGhpcy5jb250aW51YXRpb24uY2FuY2VsKCk7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBuZXcgQ29udGludWF0aW9uKHRoaXMpO1xuICAgICAgdGhpcy53YWl0VGFyZ2V0ID0gXCJpbnRlcnJ1cHRcIjtcbiAgICAgIHRoaXMuY29udGludWF0aW9uID0gY29udGludWF0aW9uO1xuICAgICAgdGhpcy5zY2hlZHVsZXIuc2NoZWR1bGUoY29udGludWF0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0aGlzIHRhc2sncyBzY2hlZHVsZXIuXG4gICAqL1xuICBnZXRTY2hlZHVsZXIoKTogU2NoZWR1bGVyIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlZHVsZXI7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB0cnVlIGlmIHRhc2sgaXMgc3RpbGwgcnVubmluZy5cbiAgICovXG4gIGlzUnVubmluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ydW5uaW5nO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHRhc2sgaXMgZG9uZS4gQ2FsbGJhY2sgaXMgbm90XG4gICAqIGV4ZWN1dGVkIGluIGFueSB0YXNrIGNvbnRleHQuIE11bHRpcGxlIGNhbGxiYWNrcyBjYW4gYmUgcmVnaXN0ZXJlZCBhbmRcbiAgICogdGhleSB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgcmVnaXN0cmF0aW9uIG9yZGVyLlxuICAgKi9cbiAgd2hlbkRvbmUoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IGZvciB0YXNrIHRvIGZpbmlzaCAoZnJvbSBhbm90aGVyIHRhc2spLlxuICAgKi9cbiAgam9pbigpOiBSZXN1bHQ8YW55PiB7XG4gICAgY29uc3QgZnJhbWUgPSBuZXdGcmFtZTxhbnk+KFwiVGFzay5qb2luXCIpO1xuICAgIGlmICghdGhpcy5ydW5uaW5nKSB7XG4gICAgICBmcmFtZS5maW5pc2godGhpcy5yZXN1bHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKHRoaXMpO1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLndoZW5Eb25lKCgpID0+IHtcbiAgICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHNlbGYucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogVW53aW5kIHRoZSBzdGFjay4gV2UgaGF2ZSB0d28gc3RhY2tzOiBhc3luYyAobWFpbnRhaW5lZCBieSBmcmFtZVxuICAgKiBwYXJlbnQgbGluaykgYW5kIHN5bmMgKHJlZ3VsYXIgSmF2YVNjcmlwdCBzdGFjaykuXG4gICAqL1xuICB1bndpbmQoKSB7XG4gICAgLy8gV2UgaGF2ZSBhIHNlcXVlbmNlIG9mIGZyYW1lcyBvbiB0aGUgc3RhY2suXG4gICAgd2hpbGUgKHRoaXMudG9wICYmICF0aGlzLnRvcC5oYW5kbGVyKSB7XG4gICAgICB0aGlzLnRvcCA9IHRoaXMudG9wLnBhcmVudDtcbiAgICB9XG4gICAgaWYgKHRoaXMudG9wICYmIHRoaXMudG9wLmhhbmRsZXIgJiYgdGhpcy5leGNlcHRpb24pIHtcbiAgICAgIC8vIGZvdW5kIGEgaGFuZGxlclxuICAgICAgY29uc3QgZXJyID0gdGhpcy5leGNlcHRpb247XG4gICAgICB0aGlzLmV4Y2VwdGlvbiA9IG51bGw7XG4gICAgICB0aGlzLnRvcC5oYW5kbGVyKHRoaXMudG9wLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5leGNlcHRpb24pIHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgdGhpcy5leGNlcHRpb24sXG4gICAgICAgICAgXCJVbmhhbmRsZWQgZXhjZXB0aW9uIGluIHRhc2tcIixcbiAgICAgICAgICB0aGlzLm5hbWUsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmFpc2UoZXJyOiBFcnJvciwgb3B0X2ZyYW1lPzogRnJhbWU8YW55Pik6IHZvaWQge1xuICAgIHRoaXMuZmlsbFN0YWNrKGVycik7XG4gICAgaWYgKG9wdF9mcmFtZSkge1xuICAgICAgbGV0IGYgPSB0aGlzLnRvcDtcbiAgICAgIHdoaWxlIChmICYmIGYgIT0gb3B0X2ZyYW1lKSB7XG4gICAgICAgIGYgPSBmLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChmID09IG9wdF9mcmFtZSkge1xuICAgICAgICB0aGlzLnRvcCA9IGY7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZXhjZXB0aW9uID0gZXJyO1xuICAgIHRoaXMudW53aW5kKCk7XG4gIH1cblxuICAvKipcbiAgICogRmlsbCB0aGUgc3RhY2sgdHJhY2UgaW4gdGhlIGV4Y2VwdGlvblxuICAgKiBAcGFyYW0gZXJyIGV4Y2VwdGlvblxuICAgKi9cbiAgZmlsbFN0YWNrKGVycjogRXJyb3IpIHtcbiAgICBsZXQgb3V0ID0gZXJyW1wiZnJhbWVUcmFjZVwiXTtcbiAgICBpZiAoIW91dCkge1xuICAgICAgb3V0ID0gZXJyW1wic3RhY2tcIl0gPyBgJHtlcnJbXCJzdGFja1wiXX1cXG5cXHQtLS0tIGFzeW5jIC0tLVxcbmAgOiBcIlwiO1xuICAgICAgZm9yIChsZXQgZiA9IHRoaXMudG9wOyBmOyBmID0gZi5wYXJlbnQpIHtcbiAgICAgICAgb3V0ICs9IFwiXFx0XCI7XG4gICAgICAgIG91dCArPSBmLmdldE5hbWUoKTtcbiAgICAgICAgb3V0ICs9IFwiXFxuXCI7XG4gICAgICB9XG4gICAgICBlcnJbXCJmcmFtZVRyYWNlXCJdID0gb3V0O1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBTeW5jUmVzdWx0SW1wbDxUPiBpbXBsZW1lbnRzIFJlc3VsdDxUPiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWx1ZTogVCkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAoVDogYW55KSA9PiB2b2lkKSB7XG4gICAgY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuQXN5bmM8VDE+KGNhbGxiYWNrOiAocDE6IFQpID0+IFJlc3VsdDxUMT4pIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuUmV0dXJuPFQxPihyZXN1bHQ6IFQxKSB7XG4gICAgcmV0dXJuIG5ldyBTeW5jUmVzdWx0SW1wbChyZXN1bHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBmcmFtZS5maW5pc2godGhpcy52YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0KCk6IFQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN1bHRJbXBsPFQ+IGltcGxlbWVudHMgUmVzdWx0PFQ+IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZyYW1lOiBGcmFtZTxUPikge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0aGVuKGNhbGxiYWNrOiAocDE6IFQpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLmZyYW1lLnRoZW4oY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkFzeW5jPFQxPihjYWxsYmFjazogKHAxOiBUKSA9PiBSZXN1bHQ8VDE+KTogUmVzdWx0PFQxPiB7XG4gICAgaWYgKHRoaXMuaXNQZW5kaW5nKCkpIHtcbiAgICAgIC8vIHRoZW5Bc3luYyBpcyBzcGVjaWFsLCBkbyB0aGUgdHJpY2sgd2l0aCB0aGUgY29udGV4dFxuICAgICAgY29uc3QgZnJhbWUgPSBuZXcgRnJhbWU8VCB8IFQxPihcbiAgICAgICAgdGhpcy5mcmFtZS50YXNrLFxuICAgICAgICB0aGlzLmZyYW1lLnBhcmVudCxcbiAgICAgICAgXCJBc3luY1Jlc3VsdC50aGVuQXN5bmNcIixcbiAgICAgICk7XG4gICAgICBmcmFtZS5zdGF0ZSA9IEZyYW1lU3RhdGUuQUNUSVZFO1xuICAgICAgdGhpcy5mcmFtZS5wYXJlbnQgPSBmcmFtZSBhcyBGcmFtZTxUPjtcbiAgICAgIHRoaXMuZnJhbWUudGhlbigocmVzMSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhyZXMxKS50aGVuKChyZXMyKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHJlczIpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpIGFzIFJlc3VsdDxUMT47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0aGlzLmZyYW1lLnJlcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlblJldHVybjxUMT4ocmVzdWx0OiBUMSkge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICByZXR1cm4gdGhpcy50aGVuQXN5bmMoKCkgPT4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFN5bmNSZXN1bHRJbXBsKHJlc3VsdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGhlbkZpbmlzaChmcmFtZTogRnJhbWU8VD4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc1BlbmRpbmcoKSkge1xuICAgICAgdGhpcy50aGVuKChyZXMpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJhbWUuZmluaXNoKHRoaXMuZnJhbWUucmVzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1BlbmRpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUuc3RhdGUgPT0gRnJhbWVTdGF0ZS5BQ1RJVkU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXQoKTogVCB8IG51bGwge1xuICAgIGlmICh0aGlzLmlzUGVuZGluZygpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZXN1bHQgaXMgcGVuZGluZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZnJhbWUucmVzO1xuICB9XG59XG5cbi8qKlxuICogQXN5bmNocm9ub3VzIGV4ZWN1dGlvbiBmcmFtZS4gQ29ycmVzcG9uZHMgdG8gYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uXG4gKiBpbnZvY2F0aW9uLlxuICogQHRlbXBsYXRlIFRcbiAqL1xuZXhwb3J0IGNsYXNzIEZyYW1lPFQ+IHtcbiAgcmVzOiBUID0gbnVsbDtcbiAgc3RhdGU6IEZyYW1lU3RhdGU7XG4gIGNhbGxiYWNrOiAoKHAxOiBhbnkpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG4gIGhhbmRsZXI6ICgocDE6IEZyYW1lPGFueT4sIHAyOiBFcnJvcikgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgdGFzazogVGFzaywgcHVibGljIHBhcmVudDogRnJhbWU8VD4sIHB1YmxpYyBuYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5JTklUO1xuICB9XG5cbiAgcHJpdmF0ZSBjaGVja0Vudmlyb25tZW50KCk6IHZvaWQge1xuICAgIGlmICghcHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGX1RBU0tfTk9fQ09OVEVYVFwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMgIT09IHByaXZhdGVDdXJyZW50VGFzay50b3ApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZfVEFTS19OT1RfVE9QX0ZSQU1FXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHRvIGJlIHJldHVybmVkIGFzIHRoaXMgYXN5bmNocm9ub3VzIGZ1bmN0aW9uIHJldHVybiB2YWx1ZS5cbiAgICovXG4gIHJlc3VsdCgpOiBSZXN1bHQ8VD4ge1xuICAgIHJldHVybiBuZXcgUmVzdWx0SW1wbDxUPih0aGlzKTtcbiAgfVxuXG4gIGZpbmlzaChyZXM6IFQpIHtcbiAgICB0aGlzLmNoZWNrRW52aXJvbm1lbnQoKTtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrICYmICFwcml2YXRlQ3VycmVudFRhc2suZXhjZXB0aW9uKSB7XG4gICAgICB0aGlzLnJlcyA9IHJlcztcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IEZyYW1lU3RhdGUuRklOSVNIRUQ7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLnBhcmVudDtcbiAgICBpZiAocHJpdmF0ZUN1cnJlbnRUYXNrKSB7XG4gICAgICBwcml2YXRlQ3VycmVudFRhc2sudG9wID0gZnJhbWU7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmNhbGxiYWNrKHJlcyk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy50YXNrLnJhaXNlKGVyciwgZnJhbWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBjYWxsYmFjayB3YXMgY2FsbGVkXG4gICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgIH1cbiAgfVxuXG4gIGdldFRhc2soKTogVGFzayB7XG4gICAgcmV0dXJuIHRoaXMudGFzaztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGZyYW1lIG5hbWUuXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxuXG4gIGdldFNjaGVkdWxlcigpOiBTY2hlZHVsZXIge1xuICAgIHJldHVybiB0aGlzLnRhc2suc2NoZWR1bGVyO1xuICB9XG5cbiAgdGhlbihjYWxsYmFjazogKHAxOiBUKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgLy8gbGVnYWwgdG8gY2FsbCB3aGVuIGN1cnJlbnRUYXNrIGlzIG51bGxcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5BQ1RJVkU6XG4gICAgICAgIGlmICh0aGlzLmNhbGxiYWNrKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0ZSQU1FX0FMUkVBRFlfSEFTX0NBTExCQUNLXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgRnJhbWVTdGF0ZS5GSU5JU0hFRDoge1xuICAgICAgICBjb25zdCB0YXNrID0gdGhpcy50YXNrO1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMucGFyZW50O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNhbGxiYWNrKHRoaXMucmVzKTtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gRnJhbWVTdGF0ZS5ERUFEO1xuICAgICAgICAgIHRhc2sucmFpc2UoZXJyLCBmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIEZyYW1lU3RhdGUuREVBRDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRl9UQVNLX0RFQURfRlJBTUVcIik7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZfVEFTS19VTkVYUEVDVEVEX0ZSQU1FX1NUQVRFICR7dGhpcy5zdGF0ZX1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhpcyB0YXNrIHdhcyBleGVjdXRlZCBsb25nZXIgdGhhbiB0YXNrJ3Mgc2xpY2UgcGFyYW1ldGVyLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHRpbWVTbGljZSgpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS50aW1lU2xpY2VcIik7XG4gICAgY29uc3Qgc2NoZWR1bGVyID0gZnJhbWUuZ2V0U2NoZWR1bGVyKCk7XG4gICAgaWYgKHNjaGVkdWxlci5pc1RpbWVTbGljZU92ZXIoKSkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCItLSB0aW1lIHNsaWNlIC0tXCIpO1xuICAgICAgZnJhbWUuc3VzcGVuZCgpLnNjaGVkdWxlKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBZaWVsZCB0byBvdGhlciB0YXNrcyBmb3IgdGhlIHNwZWNpZmllZCB0aW1lLlxuICAgKiBAcGFyYW0gZGVsYXkgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWVcbiAgICovXG4gIHNsZWVwKGRlbGF5OiBudW1iZXIpOiBSZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lID0gbmV3RnJhbWU8Ym9vbGVhbj4oXCJGcmFtZS5zbGVlcFwiKTtcbiAgICBmcmFtZS5zdXNwZW5kKCkuc2NoZWR1bGUodHJ1ZSwgZGVsYXkpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXBlYXRlZGx5IGV4ZWN1dGUgdGhlIGdpdmVuIGZ1bmN0aW9uIGFzeW5jaHJvbm91c2x5IHVudGlsIGl0IHJldHVybnNcbiAgICogZmFsc2UuXG4gICAqIEByZXR1cm4gaG9sZHMgdHJ1ZS5cbiAgICovXG4gIGxvb3AoZnVuYzogKCkgPT4gUmVzdWx0PGJvb2xlYW4+KTogUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmcmFtZSA9IG5ld0ZyYW1lPGJvb2xlYW4+KFwiRnJhbWUubG9vcFwiKTtcbiAgICBjb25zdCBzdGVwID0gKG1vcmUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdoaWxlIChtb3JlKSB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gZnVuYygpO1xuICAgICAgICAgIGlmIChyZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIHJlc3VsdC50aGVuKHN0ZXApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQudGhlbigobSkgPT4ge1xuICAgICAgICAgICAgICBtb3JlID0gbTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgZnJhbWUudGFzay5yYWlzZShlcnIsIGZyYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHN0ZXAodHJ1ZSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbWlsYXIgdG8gbG9vcCgpLCBidXQgcHJvdmlkZXMgYSBGcmFtZSBmb3IgbG9vcCBib2R5IGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRzIHRydWUuXG4gICAqL1xuICBsb29wV2l0aEZyYW1lKGZ1bmM6IChwMTogTG9vcEJvZHlGcmFtZSkgPT4gdm9pZCk6IFJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgdGFzayA9IHByaXZhdGVDdXJyZW50VGFzaztcbiAgICBpZiAoIXRhc2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19OT19DT05URVhUXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5sb29wKCgpID0+IHtcbiAgICAgIGxldCByZXN1bHQ6IFJlc3VsdDxib29sZWFuPjtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBuZXcgTG9vcEJvZHlGcmFtZSh0YXNrIGFzIFRhc2ssIHRhc2sudG9wKTtcbiAgICAgICAgdGFzay50b3AgPSBmcmFtZTtcbiAgICAgICAgZnJhbWUuc3RhdGUgPSBGcmFtZVN0YXRlLkFDVElWRTtcbiAgICAgICAgZnVuYyhmcmFtZSk7XG4gICAgICAgIHJlc3VsdCA9IGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfSB3aGlsZSAoIXJlc3VsdC5pc1BlbmRpbmcoKSAmJiByZXN1bHQuZ2V0KCkpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuXG4gIHN1c3BlbmQob3B0X3dhaXRUYXJnZXQ/OiBhbnkpOiBDb250aW51YXRpb248VD4ge1xuICAgIHRoaXMuY2hlY2tFbnZpcm9ubWVudCgpO1xuICAgIGlmICh0aGlzLnRhc2suY29udGludWF0aW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1RBU0tfQUxSRUFEWV9TVVNQRU5ERURcIik7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRpbnVhdGlvbjogQ29udGludWF0aW9uPFQ+ID0gbmV3IENvbnRpbnVhdGlvbih0aGlzLnRhc2spO1xuICAgIHRoaXMudGFzay5jb250aW51YXRpb24gPSBjb250aW51YXRpb247XG4gICAgcHJpdmF0ZUN1cnJlbnRUYXNrID0gbnVsbDtcbiAgICB0aGlzLnRhc2sud2FpdFRhcmdldCA9IG9wdF93YWl0VGFyZ2V0IHx8IG51bGw7XG4gICAgcmV0dXJuIGNvbnRpbnVhdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9vcEJvZHlGcmFtZSBleHRlbmRzIEZyYW1lPGJvb2xlYW4+IHtcbiAgY29uc3RydWN0b3IodGFzazogVGFzaywgcGFyZW50OiBGcmFtZTxib29sZWFuPikge1xuICAgIHN1cGVyKHRhc2ssIHBhcmVudCwgXCJsb29wXCIpO1xuICB9XG5cbiAgY29udGludWVMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKHRydWUpO1xuICB9XG5cbiAgYnJlYWtMb29wKCk6IHZvaWQge1xuICAgIHRoaXMuZmluaXNoKGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRXZlbnRJdGVtIHtcbiAgbmV4dDogRXZlbnRJdGVtID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZXZlbnQ6IEJhc2UuRXZlbnQpIHt9XG59XG5cbi8qKlxuICogQW4gY2xhc3MgdG8gbGlzdGVuIHRvIGV2ZW5zIGFuZCBwcmVzZW50IHRoZW0gYXMgYSByZWFkYWJsZSBhc3luY2hyb25vdXNcbiAqIHN0cmVhbSB0byB0YXNrcy5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50U291cmNlIHtcbiAgY29udGludWF0aW9uOiBDb250aW51YXRpb248Ym9vbGVhbj4gPSBudWxsO1xuICBsaXN0ZW5lcnM6IHtcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQ7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGxpc3RlbmVyOiBCYXNlLkV2ZW50TGlzdGVuZXI7XG4gIH1bXSA9IFtdO1xuICBoZWFkOiBFdmVudEl0ZW07XG4gIHRhaWw6IEV2ZW50SXRlbTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmhlYWQgPSBuZXcgRXZlbnRJdGVtKG51bGwpO1xuICAgIHRoaXMudGFpbCA9IHRoaXMuaGVhZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhcyBhbiBldmVudCBsaXN0ZW5lciB0byBhbiBFdmVudFRhcmdldC5cbiAgICovXG4gIGF0dGFjaChcbiAgICB0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG9wdF9wcmV2ZW50RGVmYXVsdD86IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICBpZiAob3B0X3ByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZi50YWlsLmV2ZW50KSB7XG4gICAgICAgIHNlbGYudGFpbC5uZXh0ID0gbmV3IEV2ZW50SXRlbShldmVudCk7XG4gICAgICAgIHNlbGYudGFpbCA9IHNlbGYudGFpbC5uZXh0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi50YWlsLmV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGNvbnN0IGNvbnRpbnVhdGlvbiA9IHNlbGYuY29udGludWF0aW9uO1xuICAgICAgICBpZiAoY29udGludWF0aW9uKSB7XG4gICAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBudWxsO1xuICAgICAgICAgIGNvbnRpbnVhdGlvbi5zY2hlZHVsZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB0aGlzLmxpc3RlbmVycy5wdXNoKHsgdGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciB9KTtcbiAgfVxuXG4gIGRldGFjaCh0YXJnZXQ6IEJhc2UuRXZlbnRUYXJnZXQsIHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgaXRlbToge1xuICAgICAgdGFyZ2V0OiBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0O1xuICAgICAgdHlwZTogc3RyaW5nO1xuICAgICAgbGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcjtcbiAgICB9ID0gbnVsbDtcbiAgICB3aGlsZSAoaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aCkge1xuICAgICAgaXRlbSA9IHRoaXMubGlzdGVuZXJzW2ldO1xuICAgICAgaWYgKGl0ZW0udHlwZSA9PSB0eXBlICYmIGl0ZW0udGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKGksIDEpO1xuICAgICAgICBpdGVtLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGl0ZW0udHlwZSwgaXRlbS5saXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIkVfVEFTS19FVkVOVF9TT1VSQ0VfTk9UX0FUVEFDSEVEXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgbmV4dCBkaXNwYXRjaGVkIGV2ZW50LCBibG9ja2luZyB0aGUgY3VycmVudCB0YXNrIGlmIG5lZWRlZC5cbiAgICovXG4gIG5leHRFdmVudCgpOiBSZXN1bHQ8QmFzZS5FdmVudD4ge1xuICAgIGNvbnN0IGZyYW1lOiBGcmFtZTxCYXNlLkV2ZW50PiA9IG5ld0ZyYW1lKFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50XCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHJlYWRFdmVudCA9ICgpID0+IHtcbiAgICAgIGlmIChzZWxmLmhlYWQuZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBzZWxmLmhlYWQuZXZlbnQ7XG4gICAgICAgIGlmIChzZWxmLmhlYWQubmV4dCkge1xuICAgICAgICAgIHNlbGYuaGVhZCA9IHNlbGYuaGVhZC5uZXh0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuaGVhZC5ldmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKGV2ZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5jb250aW51YXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRV9UQVNLX0VWRU5UX1NPVVJDRV9PVEhFUl9UQVNLX1dBSVRJTkdcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBmcmFtZUludGVybmFsOiBGcmFtZTxib29sZWFuPiA9IG5ld0ZyYW1lKFxuICAgICAgICAgIFwiRXZlbnRTb3VyY2UubmV4dEV2ZW50SW50ZXJuYWxcIixcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5jb250aW51YXRpb24gPSBmcmFtZUludGVybmFsLnN1c3BlbmQoc2VsZik7XG4gICAgICAgIGZyYW1lSW50ZXJuYWwucmVzdWx0KCkudGhlbihyZWFkRXZlbnQpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZEV2ZW50KCk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRhc2tVdGlsIC0gVXRpbGl0aWVzIGFzeW5jaHJvbm91cyBleGVjdXRpb24gYW5kIGNvb3BlcmF0aXZlXG4gKiBtdWx0aXRhc2tpbmcuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcblxuLyoqXG4gKiBBIGNsYXNzIHRoYXQgY2FuIGZldGNoIG9yIGNvbXB1dGUgYSByZXNvdXJjZSB0aGF0IG1heSBiZSBuZWVkZWQgYnkgbXVsdGlwbGVcbiAqIHRhc2tzLiBUaGUgZmlyc3QgdGltZSBhIHJlc291cmNlIGlzIHJlcXVlc3RlZCwgaXQgaXMgZmV0Y2hlZCBhbmQgdGhlbiBnaXZlblxuICogdG8gZXZlcnlvbmUgcmVxdWVzdGluZyBpdC5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0gZmV0Y2ggZnVuY3Rpb24gdGhhdCBmZXRjaGVzL2NvbXB1dGVzXG4gKiAgICBhIHJlc291cmNlOyBpdCB3aWxsIGJlIHJ1biBpbiBhIHNlcGFyYXRlIHRhc2suXG4gKi9cbmV4cG9ydCBjbGFzcyBGZXRjaGVyPFQ+IHtcbiAgbmFtZTogc3RyaW5nO1xuICBhcnJpdmVkOiBib29sZWFuID0gZmFsc2U7XG4gIHJlc291cmNlOiBUID0gbnVsbDtcbiAgdGFzazogVGFzay5UYXNrID0gbnVsbDtcbiAgcGlnZ3liYWNrczogKChwMTogYW55KSA9PiB2b2lkKVtdIHwgbnVsbCA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBmZXRjaDogKCkgPT4gVGFzay5SZXN1bHQ8VD4sIG9wdF9uYW1lPzogc3RyaW5nKSB7XG4gICAgdGhpcy5uYW1lID0gb3B0X25hbWU7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgZmV0Y2hpbmcvY29tcHV0aW5nIGEgcmVzb3VyY2UsIGRvbid0IGJsb2NrIGN1cnJlbnQgdGFzay5cbiAgICovXG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy50YXNrKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMudGFzayA9IFRhc2suY3VycmVudFRhc2soKVxuICAgICAgICAuZ2V0U2NoZWR1bGVyKClcbiAgICAgICAgLnJ1bigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFwiRmV0Y2hlci5ydW5cIik7XG4gICAgICAgICAgc2VsZi5mZXRjaCgpLnRoZW4oKHJlc291cmNlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwaWdnaWJhY2tzID0gc2VsZi5waWdneWJhY2tzO1xuICAgICAgICAgICAgc2VsZi5hcnJpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNlbGYucmVzb3VyY2UgPSByZXNvdXJjZTtcbiAgICAgICAgICAgIHNlbGYudGFzayA9IG51bGw7XG4gICAgICAgICAgICBzZWxmLnBpZ2d5YmFja3MgPSBbXTtcbiAgICAgICAgICAgIGlmIChwaWdnaWJhY2tzKSB7XG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGlnZ2liYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBwaWdnaWJhY2tzW2ldKHJlc291cmNlKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKGVyciwgXCJFcnJvcjpcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzb3VyY2UpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgICAgfSwgdGhpcy5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBwaWdneWJhY2soZm46IChwMTogVCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmFycml2ZWQpIHtcbiAgICAgIGZuKHRoaXMucmVzb3VyY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBpZ2d5YmFja3MucHVzaChmbik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoZXMgdGhlIHJlc291cmNlLCB3YWl0cyBmb3IgaXQgdG8gYXJyaXZlIGlmIGl0IGlzIGFscmVhZHkgYmVpbmdcbiAgICogZmV0Y2hlZC5cbiAgICovXG4gIGdldCgpOiBUYXNrLlJlc3VsdDxUPiB7XG4gICAgaWYgKHRoaXMuYXJyaXZlZCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRoaXMucmVzb3VyY2UpO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0KCk7XG4gICAgcmV0dXJuIHRoaXMudGFzay5qb2luKCkgYXMgVGFzay5SZXN1bHQ8VD47XG4gIH1cblxuICBoYXNBcnJpdmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmFycml2ZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBXYWl0IGZvciBhbGwgRmV0Y2hlciBvYmplY3RzIGluIHRoZSBhcnJheSB0byBhcnJpdmVcbiAqL1xuZXhwb3J0IGNvbnN0IHdhaXRGb3JGZXRjaGVycyA9IDxUPihcbiAgZmV0Y2hlcnM6IEZldGNoZXI8VD5bXSxcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+ID0+IHtcbiAgaWYgKGZldGNoZXJzLmxlbmd0aCA9PSAwKSB7XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG4gIGlmIChmZXRjaGVycy5sZW5ndGggPT0gMSkge1xuICAgIHJldHVybiBmZXRjaGVyc1swXS5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICB9XG4gIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcIndhaXRGb3JGZXRjaGVzXCIpO1xuICBsZXQgaSA9IDA7XG4gIGZyYW1lXG4gICAgLmxvb3AoKCkgPT4ge1xuICAgICAgd2hpbGUgKGkgPCBmZXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZmV0Y2hlciA9IGZldGNoZXJzW2krK107XG4gICAgICAgIGlmICghZmV0Y2hlci5oYXNBcnJpdmVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hlci5nZXQoKS50aGVuUmV0dXJuKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm4gaG9sZGluZyBldmVudCB0eXBlIChsb2FkL2Vycm9yL2Fib3J0KVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEVsZW1lbnQoZWxlbTogRWxlbWVudCwgc3JjOiBzdHJpbmcpOiBGZXRjaGVyPHN0cmluZz4ge1xuICBsZXQgd2lkdGg6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBsZXQgaGVpZ2h0OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaWYgKGVsZW0ubG9jYWxOYW1lID09IFwiaW1nXCIpIHtcbiAgICB3aWR0aCA9IGVsZW0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgaGVpZ2h0ID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIik7XG4gIH1cbiAgY29uc3QgZmV0Y2hlciA9IG5ldyBGZXRjaGVyKCgpID0+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxzdHJpbmc+ID0gVGFzay5uZXdGcmFtZShcImxvYWRJbWFnZVwiKTtcbiAgICBjb25zdCBjb250aW51YXRpb24gPSBmcmFtZS5zdXNwZW5kKGVsZW0pO1xuICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgY29uc3QgaGFuZGxlciA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtLmxvY2FsTmFtZSA9PSBcImltZ1wiKSB7XG4gICAgICAgIC8vIElFIHB1dHMgdGhlc2UgYm9ndXMgYXR0cmlidXRlcywgZXZlbiBpZiB0aGV5IHdlcmUgbm90IHByZXNlbnRcbiAgICAgICAgaWYgKCF3aWR0aCkge1xuICAgICAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoZWlnaHQpIHtcbiAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKGV2dCA/IGV2dC50eXBlIDogXCJ0aW1lb3V0XCIpO1xuICAgIH07XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBoYW5kbGVyLCBmYWxzZSk7XG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgaGFuZGxlciwgZmFsc2UpO1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICBpZiAoZWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TVkcpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJ4bGluazpocmVmXCIsIHNyYyk7XG5cbiAgICAgIC8vIFNWRyBoYW5kbGVycyBhcmUgbm90IHJlbGlhYmxlXG4gICAgICBzZXRUaW1lb3V0KGhhbmRsZXIsIDMwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIChlbGVtIGFzIGFueSkuc3JjID0gc3JjO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH0sIGBsb2FkRWxlbWVudCAke3NyY31gKTtcbiAgZmV0Y2hlci5zdGFydCgpO1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTmV0IC0gRmV0Y2ggcmVzb3VyY2UgZnJvbSBhIFVSTC5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgeyBOZXQsIFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgVXNlckFnZW50WG1sIGZyb20gXCIuL2Fzc2V0cy91c2VyLWFnZW50LnhtbFwiO1xuXG4vKipcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlIHtcbiAgREVGQVVMVCA9IFwiXCIsXG4gIEFSUkFZQlVGRkVSID0gXCJhcnJheWJ1ZmZlclwiLFxuICBCTE9CID0gXCJibG9iXCIsXG4gIERPQ1VNRU5UID0gXCJkb2N1bWVudFwiLFxuICBKU09OID0gXCJqc29uXCIsXG4gIFRFWFQgPSBcInRleHRcIixcbn1cblxuZXhwb3J0IHR5cGUgUmVzcG9uc2UgPSBOZXQuUmVzcG9uc2U7XG5cbmV4cG9ydCBmdW5jdGlvbiBhamF4KFxuICB1cmw6IHN0cmluZyxcbiAgb3B0X3R5cGU/OiBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZSxcbiAgb3B0X21ldGhvZD86IHN0cmluZyxcbiAgb3B0X2RhdGE/OiBzdHJpbmcsXG4gIG9wdF9jb250ZW50VHlwZT86IHN0cmluZyxcbik6IFRhc2suUmVzdWx0PFJlc3BvbnNlPiB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFJlc3BvbnNlPiA9IFRhc2submV3RnJhbWUoXCJhamF4XCIpO1xuICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGZyYW1lLnN1c3BlbmQocmVxdWVzdCk7XG4gIGNvbnN0IHJlc3BvbnNlOiBSZXNwb25zZSA9IHtcbiAgICBzdGF0dXM6IDAsXG4gICAgc3RhdHVzVGV4dDogXCJcIixcbiAgICB1cmwsXG4gICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgcmVzcG9uc2VUZXh0OiBudWxsLFxuICAgIHJlc3BvbnNlWE1MOiBudWxsLFxuICAgIHJlc3BvbnNlQmxvYjogbnVsbCxcbiAgfTtcbiAgcmVxdWVzdC5vcGVuKG9wdF9tZXRob2QgfHwgXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgaWYgKG9wdF90eXBlKSB7XG4gICAgcmVxdWVzdC5yZXNwb25zZVR5cGUgPSBvcHRfdHlwZTtcbiAgfVxuICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICByZXNwb25zZS5zdGF0dXMgPSByZXF1ZXN0LnN0YXR1cztcbiAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPVxuICAgICAgICByZXF1ZXN0LnN0YXR1c1RleHQgfHwgKHJlcXVlc3Quc3RhdHVzID09IDQwNCAmJiBcIk5vdCBGb3VuZFwiKSB8fCBcIlwiO1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDAgfHwgcmVzcG9uc2Uuc3RhdHVzID09IDApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkRPQ1VNRU5UKSAmJlxuICAgICAgICAgIHJlcXVlc3QucmVzcG9uc2VYTUwgJiZcbiAgICAgICAgICByZXF1ZXN0LnJlc3BvbnNlWE1MLmRvY3VtZW50RWxlbWVudC5sb2NhbE5hbWUgIT0gXCJwYXJzZXJlcnJvclwiXG4gICAgICAgICkge1xuICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlWE1MID0gcmVxdWVzdC5yZXNwb25zZVhNTDtcbiAgICAgICAgICByZXNwb25zZS5jb250ZW50VHlwZSA9IChyZXF1ZXN0LnJlc3BvbnNlWE1MIGFzIGFueSkuY29udGVudFR5cGU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgKCFvcHRfdHlwZSB8fCBvcHRfdHlwZSA9PT0gWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQpICYmXG4gICAgICAgICAgcmVxdWVzdC5yZXNwb25zZSBpbnN0YW5jZW9mIEhUTUxEb2N1bWVudFxuICAgICAgICApIHtcbiAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVhNTCA9IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPSAocmVxdWVzdC5yZXNwb25zZSBhcyBhbnkpLmNvbnRlbnRUeXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRleHQgPSByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICghb3B0X3R5cGUgfHwgb3B0X3R5cGUgPT09IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLlRFWFQpICYmXG4gICAgICAgICAgICB0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZVRleHQgPSB0ZXh0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoIXRleHQpIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbmV4cGVjdGVkIGVtcHR5IHN1Y2Nlc3MgcmVzcG9uc2UgZm9yXCIsIHVybCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3BvbnNlQmxvYiA9IG1ha2VCbG9iKFt0ZXh0XSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNwb25zZS5yZXNwb25zZUJsb2IgPSB0ZXh0IGFzIEJsb2I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlSGVhZGVyID0gcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgICAgICBpZiAoY29udGVudFR5cGVIZWFkZXIpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGVIZWFkZXIucmVwbGFjZSgvKC4qKTsuKiQvLCBcIiQxXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHJlc3BvbnNlKTtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgaWYgKG9wdF9kYXRhKSB7XG4gICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCIsXG4gICAgICAgIG9wdF9jb250ZW50VHlwZSB8fCBcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIixcbiAgICAgICk7XG4gICAgICByZXF1ZXN0LnNlbmQob3B0X2RhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXG4gICAgICAgIC9eZmlsZTp8Xmh0dHBzPzpcXC9cXC9bXi9dK1xcLmdpdGh1YnVzZXJjb250ZW50XFwuY29tfFxcLih4aHRtbHx4aHR8b3BmKSQvaS50ZXN0KFxuICAgICAgICAgIHVybCxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIC8vIEZpbGUgb3IgR2l0SHViIHJhdyBVUkwgb3IgLnhodChtbCkgb3IgLm9wZlxuICAgICAgICBpZiAoXG4gICAgICAgICAgL1xcL2Fvem9yYWJ1bmtvXFwvW14vXStcXC9jYXJkc1xcL1teL10rXFwvZmlsZXNcXC9bXi8uXStcXC5odG1sJC8udGVzdCh1cmwpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIEFvem9yYWJ1bmtvJ3MgKFgpSFRNTCBzdXBwb3J0XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVNoaWZ0X0pJU1wiKTtcbiAgICAgICAgfSBlbHNlIGlmICgvXFwuKGh0bWx8aHRtKSQvaS50ZXN0KHVybCkpIHtcbiAgICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoL1xcLih4aHRtbHx4aHR8eG1sfG9wZikkL2kudGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24veG1sOyBjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKC9cXC4odHh0fGNzcykkL2kudGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBmYWxsYmFjayB0byBIVE1MXG4gICAgICAgICAgcmVxdWVzdC5vdmVycmlkZU1pbWVUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosKDx8JTNjKS9pLnRlc3QodXJsKSkge1xuICAgICAgICByZXF1ZXN0Lm92ZXJyaWRlTWltZVR5cGUoXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICB9IGVsc2UgaWYgKC9eZGF0YTosL2kudGVzdCh1cmwpKSB7XG4gICAgICAgIHJlcXVlc3Qub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLThcIik7XG4gICAgICB9XG4gICAgICByZXF1ZXN0LnNlbmQobnVsbCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlLCBgRXJyb3IgZmV0Y2hpbmcgJHt1cmx9YCk7XG4gICAgY29udGludWF0aW9uLnNjaGVkdWxlKHJlc3BvbnNlKTtcbiAgfVxuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbi8qKlxuICogQHJldHVybiBCbG9iXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlQmxvYihcbiAgcGFydHM6IChzdHJpbmcgfCBCbG9iIHwgQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcpW10sXG4gIG9wdF90eXBlPzogc3RyaW5nLFxuKTogYW55IHtcbiAgY29uc3QgdHlwZSA9IG9wdF90eXBlIHx8IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCI7XG4gIGNvbnN0IGJ1aWxkZXJDdHIgPSB3aW5kb3dbXCJXZWJLaXRCbG9iQnVpbGRlclwiXSB8fCB3aW5kb3dbXCJNU0Jsb2JCdWlsZGVyXCJdOyAvLyBkZXByZWNhdGVkXG4gIGlmIChidWlsZGVyQ3RyKSB7XG4gICAgY29uc3QgYnVpbGRlciA9IG5ldyBidWlsZGVyQ3RyKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHR5cGUpO1xuICB9XG4gIHJldHVybiBuZXcgQmxvYihwYXJ0cywgeyB0eXBlIH0pO1xufVxuXG4vKipcbiAqIEByZXR1cm4gVGFzay5SZXN1bHQuPEFycmF5QnVmZmVyPlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZEJsb2IoYmxvYjogQmxvYik6IGFueSB7XG4gIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPEFycmF5QnVmZmVyPiA9IFRhc2submV3RnJhbWUoXCJyZWFkQmxvYlwiKTtcbiAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIGNvbnN0IGNvbnRpbnVhdGlvbiA9IGZyYW1lLnN1c3BlbmQoZmlsZVJlYWRlcik7XG4gIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImxvYWRcIixcbiAgICAoKSA9PiB7XG4gICAgICBjb250aW51YXRpb24uc2NoZWR1bGUoZmlsZVJlYWRlci5yZXN1bHQgYXMgQXJyYXlCdWZmZXIpO1xuICAgIH0sXG4gICAgZmFsc2UsXG4gICk7XG4gIGZpbGVSZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJldm9rZU9iamVjdFVSTCh1cmw6IHN0cmluZyk6IHZvaWQge1xuICAod2luZG93W1wiVVJMXCJdIHx8IHdpbmRvd1tcIndlYmtpdFVSTFwiXSkucmV2b2tlT2JqZWN0VVJMKHVybCk7XG59XG5cbi8qKlxuICogQHJldHVybiB1cmxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdFVSTChibG9iOiBCbG9iKTogc3RyaW5nIHtcbiAgcmV0dXJuICh3aW5kb3dbXCJVUkxcIl0gfHwgd2luZG93W1wid2Via2l0VVJMXCJdKS5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIFJlc291cmNlXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNvdXJjZVN0b3JlPFJlc291cmNlPiBpbXBsZW1lbnRzIE5ldC5SZXNvdXJjZVN0b3JlPFJlc291cmNlPiB7XG4gIHJlc291cmNlczogeyBba2V5OiBzdHJpbmddOiBSZXNvdXJjZSB9ID0ge307XG4gIGZldGNoZXJzOiB7IFtrZXk6IHN0cmluZ106IFRhc2tVdGlsLkZldGNoZXI8UmVzb3VyY2U+IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyc2VyOiAoXG4gICAgICBwMTogUmVzcG9uc2UsXG4gICAgICBwMjogUmVzb3VyY2VTdG9yZTxSZXNvdXJjZT4sXG4gICAgKSA9PiBUYXNrLlJlc3VsdDxSZXNvdXJjZT4sXG4gICAgcHVibGljIHJlYWRvbmx5IHR5cGU6IFhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gcmVzb3VyY2UgZm9yIHRoZSBnaXZlbiBVUkxcbiAgICovXG4gIGxvYWQoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8UmVzb3VyY2U+IHtcbiAgICB1cmwgPSBCYXNlLnN0cmlwRnJhZ21lbnQodXJsKTtcbiAgICBjb25zdCByZXNvdXJjZSA9IHRoaXMucmVzb3VyY2VzW3VybF07XG4gICAgaWYgKHR5cGVvZiByZXNvdXJjZSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocmVzb3VyY2UpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mZXRjaCh1cmwsIG9wdF9yZXF1aXJlZCwgb3B0X21lc3NhZ2UpLmdldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBmZXRjaElubmVyKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICk6IFRhc2suUmVzdWx0PFJlc291cmNlPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UmVzb3VyY2U+ID0gVGFzay5uZXdGcmFtZShcImZldGNoXCIpO1xuXG4gICAgLy8gSGFjayBmb3IgVE9DVmlldy5zaG93VE9DKClcbiAgICBjb25zdCBpc1RvY0JveCA9IHVybC5lbmRzV2l0aChcIj92aXYtdG9jLWJveFwiKTtcbiAgICBpZiAoaXNUb2NCb3gpIHtcbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKFwiP3Zpdi10b2MtYm94XCIsIFwiXCIpO1xuICAgIH1cbiAgICBjb25zdCB1c2VyQWdlbnRYbWxVcmwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICBcInVzZXItYWdlbnQueG1sXCIsXG4gICAgICBCYXNlLnJlc291cmNlQmFzZVVSTCxcbiAgICApO1xuICAgIGNvbnN0IGlzVXNlckFnZW50WG1sID0gIWlzVG9jQm94ICYmIHVybCA9PT0gdXNlckFnZW50WG1sVXJsO1xuICAgIGlmIChpc1VzZXJBZ2VudFhtbCkge1xuICAgICAgLy8gQ2hhbmdlIFwidXNlci1hZ2VudC54bWxcIiBVUkwgdG8gZGF0YSBVUkxcbiAgICAgIHVybCA9IGBkYXRhOmFwcGxpY2F0aW9uL3htbCwke2VuY29kZVVSSUNvbXBvbmVudChVc2VyQWdlbnRYbWwpfWA7XG4gICAgfVxuXG4gICAgYWpheCh1cmwsIHNlbGYudHlwZSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNDAwKSB7XG4gICAgICAgIGlmIChvcHRfcmVxdWlyZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAob3B0X21lc3NhZ2UgfHwgYEZhaWxlZCB0byBmZXRjaCByZXF1aXJlZCByZXNvdXJjZTogJHt1cmx9YCkgK1xuICAgICAgICAgICAgICBgICgke3Jlc3BvbnNlLnN0YXR1c30ke1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgOiBcIlwiXG4gICAgICAgICAgICAgIH0pYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNUb2NCb3gpIHtcbiAgICAgICAgLy8gSGFjayBmb3IgVE9DVmlldy5zaG93VE9DKClcbiAgICAgICAgdXJsICs9IFwiP3Zpdi10b2MtYm94XCI7XG4gICAgICAgIHJlc3BvbnNlLnVybCArPSBcIj92aXYtdG9jLWJveFwiO1xuICAgICAgfSBlbHNlIGlmIChpc1VzZXJBZ2VudFhtbCkge1xuICAgICAgICAvLyBSZXN0b3JlIFwidXNlci1hZ2VudC54bWxcIiBVUkxcbiAgICAgICAgcmVzcG9uc2UudXJsID0gdXJsID0gdXNlckFnZW50WG1sVXJsO1xuICAgICAgfVxuICAgICAgc2VsZi5wYXJzZXIocmVzcG9uc2UsIHNlbGYpLnRoZW4oKHJlc291cmNlKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBzZWxmLmZldGNoZXJzW3VybF07XG4gICAgICAgIHNlbGYucmVzb3VyY2VzW3VybF0gPSByZXNvdXJjZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc291cmNlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGZldGNoZXIgZm9yIHRoZSByZXNvdXJjZSBmb3IgdGhlIGdpdmVuIFVSTFxuICAgKi9cbiAgZmV0Y2goXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFza1V0aWwuRmV0Y2hlcjxSZXNvdXJjZT4ge1xuICAgIHVybCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGNvbnN0IHJlc291cmNlID0gdGhpcy5yZXNvdXJjZXNbdXJsXTtcbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlciA9IHRoaXMuZmV0Y2hlcnNbdXJsXTtcbiAgICBpZiAoIWZldGNoZXIpIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgZmV0Y2hlciA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKFxuICAgICAgICAoKSA9PiBzZWxmLmZldGNoSW5uZXIodXJsLCBvcHRfcmVxdWlyZWQsIG9wdF9tZXNzYWdlKSxcbiAgICAgICAgYEZldGNoICR7dXJsfWAsXG4gICAgICApO1xuICAgICAgc2VsZi5mZXRjaGVyc1t1cmxdID0gZmV0Y2hlcjtcbiAgICAgIGZldGNoZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH1cblxuICBnZXQodXJsOiBzdHJpbmcpOiBYbWxEb2MuWE1MRG9jSG9sZGVyIHtcbiAgICBjb25zdCByZXNvdXJjZTogdW5rbm93biA9IHRoaXMucmVzb3VyY2VzW0Jhc2Uuc3RyaXBGcmFnbWVudCh1cmwpXTtcbiAgICByZXR1cm4gcmVzb3VyY2UgYXMgWG1sRG9jLlhNTERvY0hvbGRlcjtcbiAgfVxuXG4gIGRlbGV0ZSh1cmw6IHN0cmluZykge1xuICAgIGRlbGV0ZSB0aGlzLnJlc291cmNlc1tCYXNlLnN0cmlwRnJhZ21lbnQodXJsKV07XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgSlNPTlN0b3JlID0gUmVzb3VyY2VTdG9yZTxCYXNlLkpTT04+O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VKU09OUmVzb3VyY2UoXG4gIHJlc3BvbnNlOiBSZXNwb25zZSxcbiAgc3RvcmU6IEpTT05TdG9yZSxcbik6IFRhc2suUmVzdWx0PEJhc2UuSlNPTj4ge1xuICBjb25zdCB0ZXh0ID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0O1xuICByZXR1cm4gVGFzay5uZXdSZXN1bHQodGV4dCA/IEJhc2Uuc3RyaW5nVG9KU09OKHRleHQpIDogbnVsbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdKU09OU3RvcmUoKTogSlNPTlN0b3JlIHtcbiAgcmV0dXJuIG5ldyBSZXNvdXJjZVN0b3JlKHBhcnNlSlNPTlJlc291cmNlLCBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZS5URVhUKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ3NzUGFyc2VyIC0gQ1NTIFBhcnNlci5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NUb2tlbml6ZXIgZnJvbSBcIi4vY3NzLXRva2VuaXplclwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5cbi8qKlxuICogVXNlciBhZ2VudCBzdHlsZXNoZWV0IGJhc2Ugc3BlY2lmaWNpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9VU0VSX0FHRU5UOiBudW1iZXIgPSAwO1xuXG4vKipcbiAqIFVzZXIgc3R5bGVzaGVldCBiYXNlIHNwZWNpZmljaXR5LlxuICovXG5leHBvcnQgY29uc3QgU1BFQ0lGSUNJVFlfVVNFUjogbnVtYmVyID0gMTY3NzcyMTY7XG5cbi8qKlxuICogQXV0aG9yIHN0eWxlc2hlZXQgKFwibm9ybWFsXCIgc3R5bGVzaGVldCkgYmFzZSBzcGVjaWZpY2l0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX0FVVEhPUjogbnVtYmVyID0gMzM1NTQ0MzI7XG5cbi8qKlxuICogU3R5bGUgYXR0cmlidXRlIGJhc2Ugc3BlY2lmaWNpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9TVFlMRTogbnVtYmVyID0gNTAzMzE2NDg7XG5cbi8qKlxuICogU3R5bGUgYXR0cmlidXRlIGJhc2Ugc3BlY2lmaWNpdHkgd2hlbiAhaW1wb3J0YW50IGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlQ6IG51bWJlciA9IDY3MTA4ODY0O1xuXG4vKipcbiAqIEF1dGhvciBzdHlsZXNoZWV0IGJhc2Ugc3BlY2lmaWNpdHkgd2hlbiAhaW1wb3J0YW50IGlzIHVzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UOiBudW1iZXIgPSA4Mzg4NjA4MDtcblxuLyoqXG4gKiBVc2VyIHN0eWxlc2hlZXQgYmFzZSBzcGVjaWZpY2l0eSB3aGVuICFpbXBvcnRhbnQgaXMgdXNlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNQRUNJRklDSVRZX1VTRVJfSU1QT1JUQU5UOiBudW1iZXIgPSAxMDA2NjMyOTY7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gU3R5bGVzaGVldEZsYXZvciB7XG4gIFVTRVJfQUdFTlQgPSBcIlVBXCIsXG4gIFVTRVIgPSBcIlVzZXJcIixcbiAgQVVUSE9SID0gXCJBdXRob3JcIixcbn1cblxuLyoqXG4gKiBDU1MgQ29sb3IgdmFsdWUgZnJvbSBoYXNoIHRleHQgKHdpdGhvdXQgJyMnIGNoYXJhY3RlcikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb2xvckZyb21IYXNoKHRleHQ6IHN0cmluZyk6IENzcy5Db2xvciB7XG4gIGxldCBudW0gPSBwYXJzZUludCh0ZXh0LCAxNik7XG4gIGlmIChpc05hTihudW0pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JcIik7XG4gIH1cbiAgaWYgKHRleHQubGVuZ3RoID09IDYpIHtcbiAgICByZXR1cm4gbmV3IENzcy5Db2xvcihudW0pO1xuICB9XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PSAzKSB7XG4gICAgbnVtID1cbiAgICAgIChudW0gJiAxNSkgfFxuICAgICAgKChudW0gJiAxNSkgPDwgNCkgfFxuICAgICAgKChudW0gJiAyNDApIDw8IDQpIHxcbiAgICAgICgobnVtICYgMjQwKSA8PCA4KSB8XG4gICAgICAoKG51bSAmIDM4NDApIDw8IDgpIHxcbiAgICAgICgobnVtICYgMzg0MCkgPDwgMTIpO1xuICAgIHJldHVybiBuZXcgQ3NzLkNvbG9yKG51bSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiRV9DU1NfQ09MT1JcIik7XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXJIYW5kbGVyIGltcGxlbWVudHMgQ3NzVG9rZW5pemVyLlRva2VuaXplckhhbmRsZXIge1xuICBmbGF2b3I6IFN0eWxlc2hlZXRGbGF2b3I7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICB0aGlzLmZsYXZvciA9IFN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SO1xuICB9XG5cbiAgZ2V0Q3VycmVudFRva2VuKCk6IENzc1Rva2VuaXplci5Ub2tlbiB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRTY29wZSgpOiBFeHBycy5MZXhpY2FsU2NvcGUge1xuICAgIHJldHVybiB0aGlzLnNjb3BlO1xuICB9XG5cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHt9XG5cbiAgc3RhcnRTdHlsZXNoZWV0KGZsYXZvcjogU3R5bGVzaGVldEZsYXZvcik6IHZvaWQge1xuICAgIHRoaXMuZmxhdm9yID0gZmxhdm9yO1xuICB9XG5cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHt9XG5cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgcHNldWRvY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge31cblxuICBwc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHt9XG5cbiAgaWRTZWxlY3RvcihpZDogc3RyaW5nKTogdm9pZCB7fVxuXG4gIGF0dHJpYnV0ZVNlbGVjdG9yKFxuICAgIG5zOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wOiBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICApOiB2b2lkIHt9XG5cbiAgZGVzY2VuZGFudFNlbGVjdG9yKCk6IHZvaWQge31cblxuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge31cblxuICBhZGphY2VudFNpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHt9XG5cbiAgZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk6IHZvaWQge31cblxuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge31cblxuICBzdGFydEZvbnRGYWNlUnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge31cblxuICBzdGFydFZpZXdwb3J0UnVsZSgpOiB2b2lkIHt9XG5cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge31cblxuICBzdGFydFJlZ2lvblJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFnZU1hcmdpbkJveFJ1bGUobmFtZTogc3RyaW5nKTogdm9pZCB7fVxuXG4gIHN0YXJ0V2hlblJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHt9XG5cbiAgc3RhcnRNZWRpYVJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXJ0V2hlblJ1bGUoZXhwcik7XG4gIH1cblxuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge31cblxuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7fVxuXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge31cblxuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge31cblxuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge31cblxuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHt9XG5cbiAgZW5kUnVsZSgpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBmdW5jTmFtZSBUaGUgbmFtZSBvZiB0aGUgZnVuY3Rpb24gdGFraW5nIGEgc2VsZWN0b3IgbGlzdCBhcyBhblxuICAgKiAgICAgYXJndW1lbnRcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7fVxuXG4gIGVuZEZ1bmNXaXRoU2VsZWN0b3IoKTogdm9pZCB7fVxuXG4gIGdldEltcG9ydGFudFNwZWNpZmljaXR5KCk6IG51bWJlciB7XG4gICAgc3dpdGNoICh0aGlzLmZsYXZvcikge1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVJfQUdFTlQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSX0FHRU5UO1xuICAgICAgY2FzZSBTdHlsZXNoZWV0Rmxhdm9yLlVTRVI6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9VU0VSX0lNUE9SVEFOVDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9BVVRIT1JfSU1QT1JUQU5UO1xuICAgIH1cbiAgfVxuXG4gIGdldEJhc2VTcGVjaWZpY2l0eSgpOiBudW1iZXIge1xuICAgIHN3aXRjaCAodGhpcy5mbGF2b3IpIHtcbiAgICAgIGNhc2UgU3R5bGVzaGVldEZsYXZvci5VU0VSX0FHRU5UOlxuICAgICAgICByZXR1cm4gU1BFQ0lGSUNJVFlfVVNFUl9BR0VOVDtcbiAgICAgIGNhc2UgU3R5bGVzaGVldEZsYXZvci5VU0VSOlxuICAgICAgICByZXR1cm4gU1BFQ0lGSUNJVFlfVVNFUjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBTUEVDSUZJQ0lUWV9BVVRIT1I7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaXNwYXRjaFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBQYXJzZXJIYW5kbGVyIHtcbiAgc3RhY2s6IFBhcnNlckhhbmRsZXJbXSA9IFtdO1xuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIgPSBudWxsO1xuICBzbGF2ZTogUGFyc2VySGFuZGxlciA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIobnVsbCk7XG4gIH1cblxuICBwdXNoSGFuZGxlcihzbGF2ZTogUGFyc2VySGFuZGxlcik6IHZvaWQge1xuICAgIHRoaXMuc3RhY2sucHVzaCh0aGlzLnNsYXZlKTtcbiAgICB0aGlzLnNsYXZlID0gc2xhdmU7XG4gIH1cblxuICBwb3BIYW5kbGVyKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUgPSB0aGlzLnN0YWNrLnBvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0Q3VycmVudFRva2VuKCk6IENzc1Rva2VuaXplci5Ub2tlbiB7XG4gICAgaWYgKHRoaXMudG9rZW5pemVyKSB7XG4gICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRTY29wZSgpOiBFeHBycy5MZXhpY2FsU2NvcGUge1xuICAgIHJldHVybiB0aGlzLnNsYXZlLmdldFNjb3BlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9yd2FyZHMgY2FsbCB0byBzbGF2ZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIGJ5IGEgc2xhdmUuXG4gICAqL1xuICBlcnJvck1zZyhtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4obW5lbW9uaWNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U3R5bGVzaGVldChmbGF2b3I6IFN0eWxlc2hlZXRGbGF2b3IpOiB2b2lkIHtcbiAgICBzdXBlci5zdGFydFN0eWxlc2hlZXQoZmxhdm9yKTtcbiAgICBpZiAodGhpcy5zdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBUaGlzIGNhbiBvY2N1ciBhcyBhIHJlc3VsdCBvZiBhbiBlcnJvclxuICAgICAgdGhpcy5zbGF2ZSA9IHRoaXMuc3RhY2tbMF07XG4gICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgfVxuICAgIHRoaXMuc2xhdmUuc3RhcnRTdHlsZXNoZWV0KGZsYXZvcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0YWdTZWxlY3Rvcihuczogc3RyaW5nIHwgbnVsbCwgbmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUudGFnU2VsZWN0b3IobnMsIG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmNsYXNzU2VsZWN0b3IobmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5wc2V1ZG9jbGFzc1NlbGVjdG9yKG5hbWUsIHBhcmFtcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwc2V1ZG9lbGVtZW50U2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnBzZXVkb2VsZW1lbnRTZWxlY3RvcihuYW1lLCBwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaWRTZWxlY3RvcihpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5pZFNlbGVjdG9yKGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGF0dHJpYnV0ZVNlbGVjdG9yKFxuICAgIG5zOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIG9wOiBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLmF0dHJpYnV0ZVNlbGVjdG9yKG5zLCBuYW1lLCBvcCwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVzY2VuZGFudFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuY2hpbGRTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqYWNlbnRTaWJsaW5nU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5hZGphY2VudFNpYmxpbmdTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5uZXh0U2VsZWN0b3IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGb250RmFjZVJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW06IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFZpZXdwb3J0UnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnREZWZpbmVSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJlZ2lvblJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFJlZ2lvblJ1bGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYWdlTWFyZ2luQm94UnVsZShuYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0V2hlblJ1bGUoZXhwcjogQ3NzLkV4cHIpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0V2hlblJ1bGUoZXhwcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNsYXZlLnN0YXJ0Rmxvd1J1bGUoZmxvd05hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYWdlVGVtcGxhdGVSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhZ2VNYXN0ZXJSdWxlKG5hbWUsIHBzZXVkb05hbWUsIGNsYXNzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25SdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5zdGFydFBhcnRpdGlvblJ1bGUobmFtZSwgcHNldWRvTmFtZSwgY2xhc3Nlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUobmFtZSwgcHNldWRvTmFtZSwgY2xhc3Nlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFJ1bGVCb2R5KCk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRSdWxlQm9keSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5wcm9wZXJ0eShuYW1lLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5lbmRSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuc2xhdmUuc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuZEZ1bmNXaXRoU2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5zbGF2ZS5lbmRGdW5jV2l0aFNlbGVjdG9yKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNraXBwaW5nUGFyc2VySGFuZGxlciBleHRlbmRzIFBhcnNlckhhbmRsZXIge1xuICBkZXB0aDogbnVtYmVyID0gMDtcbiAgZmxhdm9yOiBTdHlsZXNoZWV0Rmxhdm9yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHVibGljIG93bmVyOiBEaXNwYXRjaFBhcnNlckhhbmRsZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHRvcExldmVsLFxuICApIHtcbiAgICBzdXBlcihzY29wZSk7XG4gICAgaWYgKG93bmVyKSB7XG4gICAgICB0aGlzLmZsYXZvciA9IG93bmVyLmZsYXZvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRDdXJyZW50VG9rZW4oKTogQ3NzVG9rZW5pemVyLlRva2VuIHtcbiAgICByZXR1cm4gdGhpcy5vd25lci5nZXRDdXJyZW50VG9rZW4oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgdGhpcy5vd25lci5lcnJvck1zZyhtbmVtb25pY3MsIHRva2VuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UnVsZUJvZHkoKTogdm9pZCB7XG4gICAgdGhpcy5kZXB0aCsrO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kUnVsZSgpOiB2b2lkIHtcbiAgICBpZiAoLS10aGlzLmRlcHRoID09IDAgJiYgIXRoaXMudG9wTGV2ZWwpIHtcbiAgICAgIHRoaXMub3duZXIucG9wSGFuZGxlcigpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2xhdmVQYXJzZXJIYW5kbGVyIGV4dGVuZHMgU2tpcHBpbmdQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHRvcExldmVsOiBib29sZWFuLFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRvcExldmVsKTtcbiAgfVxuXG4gIHJlcG9ydChtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmVycm9yKG1lc3NhZ2UsIHRoaXMuZ2V0Q3VycmVudFRva2VuKCkpO1xuICB9XG5cbiAgcmVwb3J0QW5kU2tpcChtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChtZXNzYWdlKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IFNraXBwaW5nUGFyc2VySGFuZGxlcih0aGlzLnNjb3BlLCB0aGlzLm93bmVyLCBmYWxzZSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U2VsZWN0b3JSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfU0VMRUNUT1JcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZvbnRGYWNlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0ZPTlRfRkFDRVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9vdG5vdGVSdWxlKHBzZXVkb2VsZW06IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0ZPT1ROT1RFXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9WSUVXUE9SVFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RGVmaW5lUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0RFRklORVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UmVnaW9uUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1JFR0lPTlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9QQUdFXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfV0hFTlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rmxvd1J1bGUoZmxvd05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfRkxPV1wiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVRlbXBsYXRlUnVsZSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBR0VfVEVNUExBVEVcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9QQUdFX01BU1RFUlwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0QW5kU2tpcChcIkVfQ1NTX1VORVhQRUNURURfUEFSVElUSU9OXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYXJ0aXRpb25Hcm91cFJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1BBUlRJVElPTl9HUk9VUFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0RnVuY1dpdGhTZWxlY3RvcihmdW5jTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRUxFQ1RPUl9GVU5DXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZW5kRnVuY1dpdGhTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX0VORF9TRUxFQ1RPUl9GVU5DXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy5lcnJvcihcIkVfQ1NTX1VORVhQRUNURURfUFJPUEVSVFlcIiwgdGhpcy5nZXRDdXJyZW50VG9rZW4oKSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNCYXNlOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1N0eWxlQXR0cmlidXRlOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9yOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9ySW5GdW5jOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1NlbGVjdG9yQ29udDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNTZWxlY3RvclN0YXJ0OiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc1Byb3BWYWw6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXhwclZhbDogQWN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IGFjdGlvbnNFeHByT3A6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXJyb3I6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zRXJyb3JEZWNsOiBBY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgYWN0aW9uc0Vycm9yU2VsZWN0b3I6IEFjdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBwcmlvcml0eTogbnVtYmVyW10gPSBbXTtcblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBBY3Rpb24ge1xuICBTRUxFQ1RPUl9OQU1FXzEgPSAxLFxuICBTRUxFQ1RPUl9OQU1FLFxuICBTRUxFQ1RPUl9BTllfMSxcbiAgU0VMRUNUT1JfQU5ZLFxuICBTRUxFQ1RPUl9JRF8xLFxuICBTRUxFQ1RPUl9JRCxcbiAgU0VMRUNUT1JfQ0xBU1NfMSxcbiAgU0VMRUNUT1JfQ0xBU1MsXG4gIFNFTEVDVE9SX0FUVFJfMSxcbiAgU0VMRUNUT1JfQVRUUixcbiAgU0VMRUNUT1JfQ0hJTEQsXG4gIFNFTEVDVE9SX1NJQkxJTkcsXG4gIFNFTEVDVE9SX0JPRFksXG4gIFNFTEVDVE9SX1BTRVVET0NMQVNTLFxuICBWQUxfSURFTlQsXG4gIFZBTF9IQVNILFxuICBWQUxfTlVNLFxuICBWQUxfSU5ULFxuICBWQUxfTlVNRVJJQyxcbiAgVkFMX1NUUixcbiAgVkFMX1VSTCxcbiAgVkFMX0NPTU1BLFxuICBWQUxfU0xBU0gsXG4gIFZBTF9GVU5DLFxuICBWQUxfQ19QQVIsXG4gIFZBTF9FTkQsXG4gIFJVTEVfRU5ELFxuICBJREVOVCxcbiAgU0VMRUNUT1JfU1RBUlQsXG4gIEFULFxuICBFWFBSX0lERU5ULFxuICBFWFBSX05VTSxcbiAgRVhQUl9OVU1FUklDLFxuICBFWFBSX1NUUixcbiAgRVhQUl9QQVJBTSxcbiAgRVhQUl9QUkVGSVgsXG4gIEVYUFJfSU5GSVgsXG4gIEVYUFJfRlVOQyxcbiAgRVhQUl9DX1BBUixcbiAgRVhQUl9PX1BBUixcbiAgU0VMRUNUT1JfTkVYVCxcbiAgU0VMRUNUT1JfUFNFVURPRUxFTSxcbiAgRVhQUl9PX0JSQyxcbiAgVkFMX0ZJTklTSCxcbiAgRVhQUl9JTkZJWF9OQU1FLFxuICBQUk9QLFxuICBWQUxfQkFORyxcbiAgVkFMX0JSQyxcbiAgRVhQUl9TRU1JQ09MLFxuICBFUlJPUl9QVVNILFxuICBFUlJPUl9QT1AsXG4gIEVSUk9SX1BPUF9ERUNMLFxuICBFUlJPUl9TRU1JQ09MLFxuICBWQUxfUExVUyxcbiAgU0VMRUNUT1JfUFNFVURPQ0xBU1NfMSxcbiAgU0VMRUNUT1JfRk9MTE9XSU5HX1NJQkxJTkcsXG4gIERPTkUgPSAyMDAsXG59XG5cbmV4cG9ydCBjb25zdCBPUF9NRURJQV9BTkQ6IG51bWJlciA9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTEFTVCArIDE7XG5cbigoKSA9PiB7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLklERU5UO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9TVEFSVDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfU1RBUlQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLlNFTEVDVE9SX1NUQVJUO1xuICBhY3Rpb25zQmFzZVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkFUXSA9IEFjdGlvbi5BVDtcbiAgYWN0aW9uc0Jhc2VbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ10gPSBBY3Rpb24uUlVMRV9FTkQ7XG4gIGFjdGlvbnNCYXNlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU3R5bGVBdHRyaWJ1dGVbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uUFJPUDtcbiAgYWN0aW9uc1N0eWxlQXR0cmlidXRlW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXSA9IEFjdGlvbi5TRUxFQ1RPUl9OQU1FO1xuICBhY3Rpb25zU2VsZWN0b3JTdGFydFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJdID0gQWN0aW9uLlNFTEVDVE9SX0FOWTtcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIXSA9IEFjdGlvbi5TRUxFQ1RPUl9JRDtcbiAgYWN0aW9uc1NlbGVjdG9yU3RhcnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DTEFTU10gPSBBY3Rpb24uU0VMRUNUT1JfQ0xBU1M7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLlNFTEVDVE9SX0FUVFI7XG4gIGFjdGlvbnNTZWxlY3RvclN0YXJ0W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID1cbiAgICBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1M7XG5cbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RdID0gQWN0aW9uLlNFTEVDVE9SX0NISUxEO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IEFjdGlvbi5TRUxFQ1RPUl9TSUJMSU5HO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5USUxERV0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9GT0xMT1dJTkdfU0lCTElORztcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLlNFTEVDVE9SX05BTUVfMTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl0gPSBBY3Rpb24uU0VMRUNUT1JfQU5ZXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlNFTEVDVE9SX0lEXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9DTEFTU18xO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uU0VMRUNUT1JfQVRUUl8xO1xuICBhY3Rpb25zU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uU0VMRUNUT1JfQk9EWTtcbiAgYWN0aW9uc1NlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLlNFTEVDVE9SX1BTRVVET0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0xdID0gQWN0aW9uLlNFTEVDVE9SX1BTRVVET0VMRU07XG4gIGFjdGlvbnNTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BXSA9IEFjdGlvbi5TRUxFQ1RPUl9ORVhUO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uU0VMRUNUT1JfTkFNRV8xO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5TRUxFQ1RPUl9BTllfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSF0gPSBBY3Rpb24uU0VMRUNUT1JfSURfMTtcbiAgYWN0aW9uc1NlbGVjdG9ySW5GdW5jW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ0xBU1NdID0gQWN0aW9uLlNFTEVDVE9SX0NMQVNTXzE7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5TRUxFQ1RPUl9BVFRSXzE7XG4gIGFjdGlvbnNTZWxlY3RvckluRnVuY1tDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5ET05FO1xuICBhY3Rpb25zU2VsZWN0b3JJbkZ1bmNbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTl0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9DTEFTU18xO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlRdID0gQWN0aW9uLlNFTEVDVE9SX05BTUU7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5TRUxFQ1RPUl9BTlk7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5IQVNIXSA9IEFjdGlvbi5TRUxFQ1RPUl9JRDtcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNMQVNTXSA9IEFjdGlvbi5TRUxFQ1RPUl9DTEFTUztcbiAgYWN0aW9uc1NlbGVjdG9yQ29udFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OXSA9XG4gICAgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0NMQVNTO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MX0NPTF0gPVxuICAgIEFjdGlvbi5TRUxFQ1RPUl9QU0VVRE9FTEVNO1xuICBhY3Rpb25zU2VsZWN0b3JDb250W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLlNFTEVDVE9SX0FUVFI7XG4gIGFjdGlvbnNTZWxlY3RvckNvbnRbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQ10gPSBBY3Rpb24uU0VMRUNUT1JfQk9EWTtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uVkFMX0lERU5UO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBU0hdID0gQWN0aW9uLlZBTF9IQVNIO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTV0gPSBBY3Rpb24uVkFMX05VTTtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlRdID0gQWN0aW9uLlZBTF9JTlQ7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQ10gPSBBY3Rpb24uVkFMX05VTUVSSUM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSXSA9IEFjdGlvbi5WQUxfU1RSO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlVSTF0gPSBBY3Rpb24uVkFMX1VSTDtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQV0gPSBBY3Rpb24uVkFMX0NPTU1BO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNMQVNIXSA9IEFjdGlvbi5WQUxfU0xBU0g7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQ10gPSBBY3Rpb24uVkFMX0ZVTkM7XG4gIGFjdGlvbnNQcm9wVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLlZBTF9DX1BBUjtcbiAgYWN0aW9uc1Byb3BWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5WQUxfRU5EO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXSA9IEFjdGlvbi5WQUxfQlJDO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkddID0gQWN0aW9uLlZBTF9CQU5HO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVNdID0gQWN0aW9uLlZBTF9QTFVTO1xuICBhY3Rpb25zUHJvcFZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uVkFMX0ZJTklTSDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uRVhQUl9JREVOVDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1dID0gQWN0aW9uLkVYUFJfTlVNO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVF0gPSBBY3Rpb24uRVhQUl9OVU07XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQ10gPSBBY3Rpb24uRVhQUl9OVU1FUklDO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUUl0gPSBBY3Rpb24uRVhQUl9TVFI7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVJdID0gQWN0aW9uLkVYUFJfT19QQVI7XG4gIGFjdGlvbnNFeHByVmFsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQ10gPSBBY3Rpb24uRVhQUl9GVU5DO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkddID0gQWN0aW9uLkVYUFJfUFJFRklYO1xuICBhY3Rpb25zRXhwclZhbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk1JTlVTXSA9IEFjdGlvbi5FWFBSX1BSRUZJWDtcbiAgYWN0aW9uc0V4cHJWYWxbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5ET0xMQVJdID0gQWN0aW9uLkVYUFJfUEFSQU07XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVF0gPSBBY3Rpb24uRVhQUl9JTkZJWF9OQU1FO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RfRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MVF9FUV0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVRXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFfRVFdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQU5HX0VRXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQU1QX0FNUF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVJdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVNdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TTEFTSF0gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBFUkNFTlRdID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IEFjdGlvbi5FWFBSX0lORklYO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gQWN0aW9uLkVYUFJfSU5GSVg7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSS10gPSBBY3Rpb24uRVhQUl9JTkZJWDtcbiAgYWN0aW9uc0V4cHJPcFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5FWFBSX0NfUEFSO1xuICBhY3Rpb25zRXhwck9wW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVYUFJfT19CUkM7XG4gIGFjdGlvbnNFeHByT3BbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXSA9IEFjdGlvbi5FWFBSX1NFTUlDT0w7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uRE9ORTtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJDXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIGFjdGlvbnNFcnJvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX1BBUl0gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgYWN0aW9uc0Vycm9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTF0gPSBBY3Rpb24uRVJST1JfU0VNSUNPTDtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRl0gPSBBY3Rpb24uRE9ORTtcbiAgYWN0aW9uc0Vycm9yRGVjbFtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLkVSUk9SX1BPUF9ERUNMO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUktdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVJdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvckRlY2xbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUl0gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JEZWNsW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTF0gPSBBY3Rpb24uRVJST1JfU0VNSUNPTDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0ZdID0gQWN0aW9uLkRPTkU7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNdID0gQWN0aW9uLkVSUk9SX1BVU0g7XG4gIGFjdGlvbnNFcnJvclNlbGVjdG9yW0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkNdID0gQWN0aW9uLkVSUk9SX1BPUDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSS10gPSBBY3Rpb24uRVJST1JfUFVTSDtcbiAgYWN0aW9uc0Vycm9yU2VsZWN0b3JbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSS10gPSBBY3Rpb24uRVJST1JfUE9QO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSXSA9IEFjdGlvbi5FUlJPUl9QVVNIO1xuICBhY3Rpb25zRXJyb3JTZWxlY3RvcltDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXSA9IEFjdGlvbi5FUlJPUl9QT1A7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVJdID0gMDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQV0gPSAwO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLXSA9IDE7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT05dID0gMTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5BTVBfQU1QXSA9IDI7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0JBUl0gPSAyO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuR1RdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5MVF9FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUX0VRXSA9IDM7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUV9FUV0gPSAzO1xuICBwcmlvcml0eVtDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkdfRVFdID0gMztcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTXSA9IDQ7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVNdID0gNDtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVEFSXSA9IDU7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0hdID0gNTtcbiAgcHJpb3JpdHlbQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QRVJDRU5UXSA9IDU7XG4gIHByaW9yaXR5W0Nzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXSA9IDY7XG4gIHByaW9yaXR5W09QX01FRElBX0FORF0gPSAyO1xufSkoKTtcblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBFeHByQ29udGV4dCB7XG4gIFBST1AsXG4gIFdIRU4sXG4gIE1FRElBLFxuICBJTVBPUlQsXG59XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXIge1xuICB2YWxTdGFjazogYW55W10gPSBbXTtcbiAgbmFtZXNwYWNlUHJlZml4VG9VUkk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgZGVmYXVsdE5hbWVzcGFjZVVSSTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByb3BOYW1lOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJvcEltcG9ydGFudDogYm9vbGVhbiA9IGZhbHNlO1xuICBleHByQ29udGV4dDogRXhwckNvbnRleHQ7XG4gIHJlc3VsdDogQ3NzLlZhbCA9IG51bGw7XG4gIGltcG9ydFJlYWR5OiBib29sZWFuID0gZmFsc2U7XG4gIGltcG9ydFVSTDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGltcG9ydENvbmRpdGlvbjogQ3NzLkV4cHIgPSBudWxsO1xuICBlcnJvckJyYWNrZXRzOiBudW1iZXJbXSA9IFtdO1xuICBydWxlU3RhY2s6IHN0cmluZ1tdID0gW107XG4gIHJlZ2lvblJ1bGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcGFnZVJ1bGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgYWN0aW9uczogQWN0aW9uW10sXG4gICAgcHVibGljIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgYmFzZVVSTDogc3RyaW5nLFxuICApIHtcbiAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuTUVESUE7XG4gIH1cblxuICBleHRyYWN0VmFscyhzZXA6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgY29uc3QgYXJyOiBDc3MuVmFsW10gPSBbXTtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGFyci5wdXNoKHZhbFN0YWNrW2luZGV4KytdIGFzIENzcy5WYWwpO1xuICAgICAgaWYgKGluZGV4ID09IHZhbFN0YWNrLmxlbmd0aCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmICh2YWxTdGFja1tpbmRleCsrXSAhPSBzZXApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIHZhbFN0YWNrUmVkdWNlKHNlcDogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdmFsU3RhY2sgPSB0aGlzLnZhbFN0YWNrO1xuICAgIGxldCBpbmRleCA9IHZhbFN0YWNrLmxlbmd0aDtcbiAgICBsZXQgdjtcbiAgICBkbyB7XG4gICAgICB2ID0gdmFsU3RhY2tbLS1pbmRleF07XG4gICAgfSB3aGlsZSAodHlwZW9mIHYgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgdiAhPSBcInN0cmluZ1wiKTtcbiAgICBsZXQgY291bnQgPSB2YWxTdGFjay5sZW5ndGggLSAoaW5kZXggKyAxKTtcbiAgICBpZiAoY291bnQgPiAxKSB7XG4gICAgICB2YWxTdGFjay5zcGxpY2UoXG4gICAgICAgIGluZGV4ICsgMSxcbiAgICAgICAgY291bnQsXG4gICAgICAgIG5ldyBDc3MuU3BhY2VMaXN0KHZhbFN0YWNrLnNsaWNlKGluZGV4ICsgMSwgdmFsU3RhY2subGVuZ3RoKSksXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc2VwID09IFwiLFwiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5kZXgrKztcbiAgICBkbyB7XG4gICAgICB2ID0gdmFsU3RhY2tbLS1pbmRleF07XG4gICAgfSB3aGlsZSAodHlwZW9mIHYgIT0gXCJ1bmRlZmluZWRcIiAmJiAodHlwZW9mIHYgIT0gXCJzdHJpbmdcIiB8fCB2ID09IFwiLFwiKSk7XG4gICAgY291bnQgPSB2YWxTdGFjay5sZW5ndGggLSAoaW5kZXggKyAxKTtcbiAgICBpZiAodiA9PSBcIihcIikge1xuICAgICAgaWYgKHNlcCAhPSBcIilcIikge1xuICAgICAgICB0aGlzLmhhbmRsZXIuZXJyb3IoXCJFX0NTU19NSVNNQVRDSEVEX0NfUEFSXCIsIHRva2VuKTtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBmdW5jID0gbmV3IENzcy5GdW5jKFxuICAgICAgICB2YWxTdGFja1tpbmRleCAtIDFdIGFzIHN0cmluZyxcbiAgICAgICAgdGhpcy5leHRyYWN0VmFscyhcIixcIiwgaW5kZXggKyAxKSxcbiAgICAgICk7XG4gICAgICB2YWxTdGFjay5zcGxpY2UoaW5kZXggLSAxLCBjb3VudCArIDIsIGZ1bmMpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChzZXAgIT0gXCI7XCIgfHwgaW5kZXggPj0gMCkge1xuICAgICAgdGhpcy5oYW5kbGVyLmVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9WQUxfRU5EXCIsIHRva2VuKTtcbiAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvckRlY2w7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNvdW50ID4gMSkge1xuICAgICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KHRoaXMuZXh0cmFjdFZhbHMoXCIsXCIsIGluZGV4ICsgMSkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsU3RhY2tbMF0gYXMgQ3NzLlZhbDtcbiAgfVxuXG4gIGV4cHJFcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbikge1xuICAgIHRoaXMuYWN0aW9ucyA9IHRoaXMucHJvcE5hbWUgPyBhY3Rpb25zRXJyb3JEZWNsIDogYWN0aW9uc0Vycm9yO1xuICAgIHRoaXMuaGFuZGxlci5lcnJvcihtbmVtb25pY3MsIHRva2VuKTtcbiAgfVxuXG4gIGV4cHJTdGFja1JlZHVjZShvcDogbnVtYmVyLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdmFsU3RhY2sgPSB0aGlzLnZhbFN0YWNrO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmhhbmRsZXI7XG4gICAgbGV0IHZhbCA9IHZhbFN0YWNrLnBvcCgpIGFzIEV4cHJzLlZhbDtcbiAgICBsZXQgdmFsMjogRXhwcnMuVmFsO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgdG9rID0gdmFsU3RhY2sucG9wKCk7XG4gICAgICBpZiAob3AgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUikge1xuICAgICAgICBjb25zdCBhcmdzOiBFeHBycy5WYWxbXSA9IFt2YWxdO1xuICAgICAgICB3aGlsZSAodG9rID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09NTUEpIHtcbiAgICAgICAgICBhcmdzLnVuc2hpZnQodmFsU3RhY2sucG9wKCkpO1xuICAgICAgICAgIHRvayA9IHZhbFN0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdG9rID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICBpZiAodG9rID09IFwie1wiKSB7XG4gICAgICAgICAgICAvLyByZWFjaGVkIENTUyBwb3J0aW9uIG9mIHRoZSBzdGFja1xuICAgICAgICAgICAgd2hpbGUgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgY29uc3QgZTEgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgICAgICAgIGNvbnN0IGUyID0gYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgICBjb25zdCBlciA9IG5ldyBFeHBycy5Pck1lZGlhKGhhbmRsZXIuZ2V0U2NvcGUoKSwgZTEsIGUyKTtcbiAgICAgICAgICAgICAgYXJncy51bnNoaWZ0KGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5FeHByKGFyZ3NbMF0pKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9rID09IFwiKFwiKSB7XG4gICAgICAgICAgICAvLyBjYWxsXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHZhbFN0YWNrLnBvcCgpIGFzIHN0cmluZztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdmFsU3RhY2sucG9wKCkgYXMgc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5DYWxsKFxuICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgIEV4cHJzLm1ha2VRdWFsaWZpZWROYW1lKG5hbWUxLCBuYW1lMiksXG4gICAgICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3AgPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVIpIHtcbiAgICAgICAgICBpZiAodmFsLmlzTWVkaWFOYW1lKCkpIHtcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NZWRpYVRlc3QoXG4gICAgICAgICAgICAgIGhhbmRsZXIuZ2V0U2NvcGUoKSxcbiAgICAgICAgICAgICAgdmFsIGFzIEV4cHJzLk1lZGlhTmFtZSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0Y7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAvLyByZWFjaGVkIENTUyBwb3J0aW9uIG9mIHRoZSBzdGFjayBvciBhIGNhbGxcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRvayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICgodG9rIGFzIG51bWJlcikgPCAwKSB7XG4gICAgICAgIC8vIHByZWZpeFxuICAgICAgICBpZiAodG9rID09IC1Dc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkcpIHtcbiAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTm90KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIGlmICh0b2sgPT0gLUNzc1Rva2VuaXplci5Ub2tlblR5cGUuTUlOVVMpIHtcbiAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTmVnYXRlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkZfVU5FWFBFQ1RFRF9TVEFURVwiLCB0b2tlbik7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbmZpeFxuICAgICAgICBpZiAocHJpb3JpdHlbb3BdID4gcHJpb3JpdHlbdG9rIGFzIG51bWJlcl0pIHtcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRvayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFsMiA9IHZhbFN0YWNrLnBvcCgpIGFzIEV4cHJzLlZhbDtcbiAgICAgICAgc3dpdGNoICh0b2spIHtcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQU1QX0FNUDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5BbmQoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBPUF9NRURJQV9BTkQ6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQW5kTWVkaWEoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVI6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuT3IoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkxUOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkx0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5HVDpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5HdChoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTFRfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTGUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkdUX0VROlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLkdlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FUTpcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVFfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuRXEoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBTkdfRVE6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuTmUoaGFuZGxlci5nZXRTY29wZSgpLCB2YWwyLCB2YWwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVM6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQWRkKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5NSU5VUzpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5TdWJ0cmFjdChoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NdWx0aXBseShoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0g6XG4gICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuRGl2aWRlKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdmFsMiwgdmFsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QRVJDRU5UOlxuICAgICAgICAgICAgdmFsID0gbmV3IEV4cHJzLk1vZHVsbyhoYW5kbGVyLmdldFNjb3BlKCksIHZhbDIsIHZhbCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT046XG4gICAgICAgICAgICBpZiAodmFsU3RhY2subGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbFN0YWNrW3ZhbFN0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlFNQVJLOlxuICAgICAgICAgICAgICAgICAgdmFsU3RhY2sucG9wKCk7XG4gICAgICAgICAgICAgICAgICB2YWwgPSBuZXcgRXhwcnMuQ29uZChcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5nZXRTY29wZSgpLFxuICAgICAgICAgICAgICAgICAgICB2YWxTdGFjay5wb3AoKSBhcyBFeHBycy5WYWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbDIsXG4gICAgICAgICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19QQVI6XG4gICAgICAgICAgICAgICAgICBpZiAodmFsMi5pc01lZGlhTmFtZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IG5ldyBFeHBycy5NZWRpYVRlc3QoXG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5nZXRTY29wZSgpLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbDIgYXMgRXhwcnMuTWVkaWFOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbCxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfTUVESUFfVEVTVFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX0VYUFJfQ09ORFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSSzpcbiAgICAgICAgICAgIGlmIChvcCAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTE9OKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfRVhQUl9DT05EXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSOlxuICAgICAgICAgICAgLy8gZG9uJ3QgcmVkdWNlXG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKHZhbDIpO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh0b2spO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh2YWwpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkZfVU5FWFBFQ1RFRF9TVEFURVwiLCB0b2tlbik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFsU3RhY2sucHVzaCh2YWwpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlYWRQc2V1ZG9QYXJhbXMoKTogKG51bWJlciB8IHN0cmluZylbXSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgYXJyLnB1c2godG9rZW4udGV4dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTOlxuICAgICAgICAgIGFyci5wdXNoKFwiK1wiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk5VTTpcbiAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDpcbiAgICAgICAgICBhcnIucHVzaCh0b2tlbi5udW0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9XG4gICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgYGFuK2JgIGFyZ3VtZW50IG9mIHBzZXVkb2NsYXNzZXMuIFJvdWdobHkgYmFzZWQgb24gdGhlIGFsZ29yaXRobSBhdFxuICAgKiBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXN5bnRheC8jdGhlLWFuYi10eXBlXG4gICAqL1xuICBwcml2YXRlIHJlYWROdGhQc2V1ZG9QYXJhbXMoKTogbnVtYmVyW10gfCBudWxsIHtcbiAgICBsZXQgaGFzTGVhZGluZ1BsdXMgPSBmYWxzZTtcbiAgICBsZXQgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgIGlmICh0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVMpIHtcbiAgICAgIC8vICcrJ1xuICAgICAgaGFzTGVhZGluZ1BsdXMgPSB0cnVlO1xuICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgdG9rZW4gPSB0aGlzLnRva2VuaXplci50b2tlbigpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAodG9rZW4udGV4dCA9PT0gXCJldmVuXCIgfHwgdG9rZW4udGV4dCA9PT0gXCJvZGRcIilcbiAgICApIHtcbiAgICAgIC8vICdldmVuJyBvciAnb2RkJ1xuICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgcmV0dXJuIFsyLCB0b2tlbi50ZXh0ID09PSBcIm9kZFwiID8gMSA6IDBdO1xuICAgIH1cbiAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDOlxuICAgICAgICBpZiAoaGFzTGVhZGluZ1BsdXMgJiYgdG9rZW4ubnVtIDwgMCkge1xuICAgICAgICAgIC8vIHJlamVjdCAnKy1hbidcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAvLyBGQUxMVEhST1VHSFxuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICBpZiAoaGFzTGVhZGluZ1BsdXMgJiYgdG9rZW4udGV4dC5jaGFyQXQoMCkgPT09IFwiLVwiKSB7XG4gICAgICAgICAgLy8gcmVqZWN0ICcrLW4nXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRva2VuLnRleHQgPT09IFwiblwiIHx8IHRva2VuLnRleHQgPT09IFwiLW5cIikge1xuICAgICAgICAgIC8vICdhbicsICdhbiArYicsICdhbiAtYicsICduJywgJ24gK2InLCAnbiAtYicsICctbicsICctbiArYicgJy1uIC1iJ1xuICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIC8vIHJlamVjdCAnKyBhbidcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYSA9IHRva2VuLnRleHQgPT09IFwiLW5cIiA/IC0xIDogMTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDKSB7XG4gICAgICAgICAgICBhID0gdG9rZW4ubnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYiA9IDA7XG4gICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBjb25zdCBoYXNNaW51c1NpZ24gPSB0b2tlbi50eXBlID09PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk1JTlVTO1xuICAgICAgICAgIGNvbnN0IGhhc1NpZ24gPVxuICAgICAgICAgICAgdG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5QTFVTIHx8IGhhc01pbnVzU2lnbjtcbiAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgLy8gJ2FuICtiJywgJ2FuIC0gYidcbiAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UKSB7XG4gICAgICAgICAgICBiID0gdG9rZW4ubnVtO1xuXG4gICAgICAgICAgICBpZiAoMSAvIGIgPT09IDEgLyAtMCkge1xuICAgICAgICAgICAgICAvLyBuZWdhdGl2ZSB6ZXJvOiAnYW4gLTAnXG4gICAgICAgICAgICAgIGIgPSAwO1xuICAgICAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyByZWplY3QgJ2FuICsgLTAnLCAnYW4gLSAtMCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChiIDwgMCkge1xuICAgICAgICAgICAgICAvLyBuZWdhdGl2ZTogJ2FuIC1iJ1xuICAgICAgICAgICAgICBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyByZWplY3QgJ2FuICsgLWInLCAnYW4gLSAtYidcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChiID49IDApIHtcbiAgICAgICAgICAgICAgLy8gcG9zaXRpdmUgb3IgcG9zaXRpdmUgemVybzogJ2FuICtiJ1xuICAgICAgICAgICAgICBpZiAoIWhhc1NpZ24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzU2lnbikge1xuICAgICAgICAgICAgLy8gcmVqZWN0ICdhbiArIChub24taW50ZWdlciknXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFthLCBoYXNNaW51c1NpZ24gJiYgYiA+IDAgPyAtYiA6IGJdO1xuICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnRleHQgPT09IFwibi1cIiB8fCB0b2tlbi50ZXh0ID09PSBcIi1uLVwiKSB7XG4gICAgICAgICAgLy8gJ2FuLSBiJywgJy1uLSBiJ1xuICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIC8vIHJlamVjdCAnKyBhbi0gYidcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgYSA9IHRva2VuLnRleHQgPT09IFwiLW4tXCIgPyAtMSA6IDE7XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQykge1xuICAgICAgICAgICAgYSA9IHRva2VuLm51bTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdGhpcy50b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQpIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi5udW0gPCAwIHx8IDEgLyB0b2tlbi5udW0gPT09IDEgLyAtMCkge1xuICAgICAgICAgICAgICAvLyByZWplY3QgJ2FuLSAtYicsICdhbi0gLTAnXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gW2EsIHRva2VuLm51bV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCByID0gdG9rZW4udGV4dC5tYXRjaCgvXm4oLVswLTldKykkLyk7XG4gICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIC8vICduLWInLCAnYW4tYidcbiAgICAgICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiB0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgICAgLy8gcmVqZWN0ICcrIGFuLWInXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDID8gdG9rZW4ubnVtIDogMSxcbiAgICAgICAgICAgICAgcGFyc2VJbnQoclsxXSwgMTApLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgciA9IHRva2VuLnRleHQubWF0Y2goL14tbigtWzAtOV0rKSQvKTtcblxuICAgICAgICAgIC8vICctbi1iJ1xuICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICB0aGlzLnRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICByZXR1cm4gWy0xLCBwYXJzZUludChyWzFdLCAxMCldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6XG4gICAgICAgIGlmIChoYXNMZWFkaW5nUGx1cyAmJiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlIHx8IHRva2VuLm51bSA8IDApKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICByZXR1cm4gWzAsIHRva2VuLm51bV07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgbWFrZUNvbmRpdGlvbihjbGFzc2VzOiBzdHJpbmcgfCBudWxsLCBjb25kaXRpb246IEV4cHJzLlZhbCk6IENzcy5FeHByIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMuaGFuZGxlci5nZXRTY29wZSgpO1xuICAgIGlmICghc2NvcGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25kaXRpb24gPSBjb25kaXRpb24gfHwgc2NvcGUuX3RydWU7XG4gICAgaWYgKGNsYXNzZXMpIHtcbiAgICAgIGNvbnN0IGNsYXNzTGlzdCA9IGNsYXNzZXMuc3BsaXQoL1xccysvKTtcbiAgICAgIGZvciAoY29uc3QgY2xhc3NOYW1lIG9mIGNsYXNzTGlzdCkge1xuICAgICAgICBzd2l0Y2ggKGNsYXNzTmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJ2ZXJ0aWNhbFwiOlxuICAgICAgICAgICAgY29uZGl0aW9uID0gRXhwcnMuYW5kKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICAgICBuZXcgRXhwcnMuTm90KHNjb3BlLCBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicHJlZi1ob3Jpem9udGFsXCIpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiaG9yaXpvbnRhbFwiOlxuICAgICAgICAgICAgY29uZGl0aW9uID0gRXhwcnMuYW5kKFxuICAgICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgICAgY29uZGl0aW9uLFxuICAgICAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicHJlZi1ob3Jpem9udGFsXCIpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJkYXlcIjpcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IEV4cHJzLmFuZChcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgICAgICAgbmV3IEV4cHJzLk5vdChzY29wZSwgbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInByZWYtbmlnaHQtbW9kZVwiKSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm5pZ2h0XCI6XG4gICAgICAgICAgICBjb25kaXRpb24gPSBFeHBycy5hbmQoXG4gICAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgICAgIG5ldyBFeHBycy5OYW1lZChzY29wZSwgXCJwcmVmLW5pZ2h0LW1vZGVcIiksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IHNjb3BlLl9mYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29uZGl0aW9uID09PSBzY29wZS5fdHJ1ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLkV4cHIoY29uZGl0aW9uKTtcbiAgfVxuXG4gIGlzSW5zaWRlUHJvcGVydHlPbmx5UnVsZSgpOiBib29sZWFuIHtcbiAgICBzd2l0Y2ggKHRoaXMucnVsZVN0YWNrW3RoaXMucnVsZVN0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICBjYXNlIFwiW3NlbGVjdG9yXVwiOlxuICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgY2FzZSBcIi1lcHVieC1mbG93XCI6XG4gICAgICBjYXNlIFwiLWVwdWJ4LXZpZXdwb3J0XCI6XG4gICAgICBjYXNlIFwiLWVwdWJ4LWRlZmluZVwiOlxuICAgICAgY2FzZSBcIi1hZGFwdC1mb290bm90ZS1hcmVhXCI6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBydW5QYXJzZXIoXG4gICAgY291bnQ6IG51bWJlcixcbiAgICBwYXJzaW5nVmFsdWUsXG4gICAgcGFyc2luZ1N0eWxlQXR0cjogYm9vbGVhbixcbiAgICBwYXJzaW5nTWVkaWFRdWVyeSxcbiAgICBwYXJzaW5nRnVuY3Rpb25QYXJhbSxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcjtcbiAgICBjb25zdCB0b2tlbml6ZXIgPSB0aGlzLnRva2VuaXplcjtcbiAgICBjb25zdCB2YWxTdGFjayA9IHRoaXMudmFsU3RhY2s7XG4gICAgbGV0IHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW47XG4gICAgbGV0IHRva2VuMTogQ3NzVG9rZW5pemVyLlRva2VuO1xuICAgIGxldCBuczogc3RyaW5nIHwgbnVsbDtcbiAgICBsZXQgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgICBsZXQgbnVtOiBudW1iZXI7XG4gICAgbGV0IHZhbDogQ3NzLlZhbDtcbiAgICBsZXQgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdO1xuICAgIGlmIChwYXJzaW5nTWVkaWFRdWVyeSkge1xuICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0Lk1FRElBO1xuICAgICAgdGhpcy52YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICB9XG4gICAgcGFyc2VyTG9vcDogZm9yICg7IGNvdW50ID4gMDsgLS1jb3VudCkge1xuICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgIHN3aXRjaCAodGhpcy5hY3Rpb25zW3Rva2VuLnR5cGVdKSB7XG4gICAgICAgIGNhc2UgQWN0aW9uLklERU5UOlxuICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBhIHByb3BlcnR5IGFzc2lnbm1lbnQgb3Igc2VsZWN0b3JcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIHByb3BlcnR5IGFzc2lnbm1lbnRcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5zaWRlUHJvcGVydHlPbmx5UnVsZSgpKSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19DT0xPTl9FWFBFQ1RFRFwiLCB0b2tlbml6ZXIubnRoVG9rZW4oMSkpO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JEZWNsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbjEgPSB0b2tlbml6ZXIubnRoVG9rZW4oMik7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdG9rZW4xLnByZWNlZGVkQnlTcGFjZSB8fFxuICAgICAgICAgICAgKHRva2VuMS50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIGEgc2VsZWN0b3JcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY2FuIGJlIGVpdGhlciBhIHNlbGVjdG9yIG9yIGEgcHJvcGVydHkgYXNzaWdubWVudFxuICAgICAgICAgICAgdG9rZW5pemVyLm1hcmsoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgdGhpcy5wcm9wSW1wb3J0YW50ID0gZmFsc2U7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNQcm9wVmFsO1xuICAgICAgICAgIHZhbFN0YWNrLnNwbGljZSgwLCB2YWxTdGFjay5sZW5ndGgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5QUk9QOlxuICAgICAgICAgIC8vIGZpZ3VyZSBvdXQgaWYgdGhpcyBpcyBhIHByb3BlcnR5IGFzc2lnbm1lbnQgb3Igc2VsZWN0b3JcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICAgICAgLy8gY2Fubm90IGJlIHByb3BlcnR5IGFzc2lnbm1lbnRcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvckRlY2w7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQ09MT05fRVhQRUNURURcIiwgdG9rZW5pemVyLm50aFRva2VuKDEpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnByb3BOYW1lID0gdG9rZW4udGV4dDtcbiAgICAgICAgICB0aGlzLnByb3BJbXBvcnRhbnQgPSBmYWxzZTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1Byb3BWYWw7XG4gICAgICAgICAgdmFsU3RhY2suc3BsaWNlKDAsIHZhbFN0YWNrLmxlbmd0aCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX1NUQVJUOlxuICAgICAgICAgIC8vIGRvbid0IGNvbnN1bWUsIHByb2Nlc3MgYWdhaW5cbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICBoYW5kbGVyLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05BTUVfMTpcbiAgICAgICAgICBpZiAoIXRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfU1BBQ0VfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05BTUU6XG4gICAgICAgICAgaWYgKHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIG5zID0gdGhpcy5uYW1lc3BhY2VQcmVmaXhUb1VSSVt0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgIGlmIChucyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IobnMsIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIudGFnU2VsZWN0b3IobnMsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX05BTUVTUEFDRVwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1VOREVDTEFSRURfUFJFRklYXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3Rvcih0aGlzLmRlZmF1bHROYW1lc3BhY2VVUkksIHRva2VuLnRleHQpO1xuICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9BTllfMTpcbiAgICAgICAgICBpZiAoIXRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfU1BBQ0VfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0FOWTpcbiAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVIpIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgICAgaGFuZGxlci50YWdTZWxlY3RvcihudWxsLCB0b2tlbi50ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUjpcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKG51bGwsIG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19OQU1FU1BBQ0VcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVyLnRhZ1NlbGVjdG9yKHRoaXMuZGVmYXVsdE5hbWVzcGFjZVVSSSwgbnVsbCk7XG4gICAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0lEXzE6XG4gICAgICAgICAgaWYgKHRva2VuLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgaGFuZGxlci5kZXNjZW5kYW50U2VsZWN0b3IoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0lEOlxuICAgICAgICAgIGhhbmRsZXIuaWRTZWxlY3Rvcih0b2tlbi50ZXh0KTtcbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvckluRnVuYztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9DTEFTU18xOlxuICAgICAgICAgIGlmICh0b2tlbi5wcmVjZWRlZEJ5U3BhY2UpIHtcbiAgICAgICAgICAgIGhhbmRsZXIuZGVzY2VuZGFudFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9DTEFTUzpcbiAgICAgICAgICBoYW5kbGVyLmNsYXNzU2VsZWN0b3IodG9rZW4udGV4dCk7XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1NfMTpcbiAgICAgICAgICBpZiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc2NlbmRhbnRTZWxlY3RvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfUFNFVURPQ0xBU1M6XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIHBzZXVkb2NsYXNzVHlwZTogc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgIGhhbmRsZXIucHNldWRvY2xhc3NTZWxlY3Rvcih0b2tlbi50ZXh0LCBudWxsKTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DOlxuICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgc3dpdGNoICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vdFwiOlxuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yU3RhcnQ7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0RnVuY1dpdGhTZWxlY3RvcihcIm5vdFwiKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydW5QYXJzZXIoXG4gICAgICAgICAgICAgICAgICAgICAgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrIHBhcnNlckxvb3A7XG4gICAgICAgICAgICAgICAgY2FzZSBcImxhbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaHJlZi1lcHViLXR5cGVcIjpcbiAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSBbdG9rZW4udGV4dF07XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgcHNldWRvY2xhc3NUeXBlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJudGgtY2hpbGRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLW9mLXR5cGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLWxhc3QtY2hpbGRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibnRoLWxhc3Qtb2YtdHlwZVwiOlxuICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5yZWFkTnRoUHNldWRvUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoIXBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICBicmVhayBwc2V1ZG9jbGFzc1R5cGU7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdGhpcy5yZWFkUHNldWRvUGFyYW1zKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX1BBUikge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIucHNldWRvY2xhc3NTZWxlY3Rvcih0ZXh0IGFzIHN0cmluZywgcGFyYW1zKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzaW5nRnVuY3Rpb25QYXJhbSkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfUFNFVURPQ0xBU1NfU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX1BTRVVET0VMRU06XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgICBoYW5kbGVyLnBzZXVkb2VsZW1lbnRTZWxlY3Rvcih0b2tlbi50ZXh0LCBudWxsKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DOlxuICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgaWYgKHRleHQgPT0gXCJudGgtZnJhZ21lbnRcIikge1xuICAgICAgICAgICAgICAgIHBhcmFtcyA9IHRoaXMucmVhZE50aFBzZXVkb1BhcmFtcygpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSB0aGlzLnJlYWRQc2V1ZG9QYXJhbXMoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5wc2V1ZG9lbGVtZW50U2VsZWN0b3IodGV4dCBhcyBzdHJpbmcsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1BTRVVET0VMRU1fU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0FUVFJfMTpcbiAgICAgICAgICBpZiAodG9rZW4ucHJlY2VkZWRCeVNwYWNlKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmRlc2NlbmRhbnRTZWxlY3RvcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQVRUUjpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCkge1xuICAgICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVIpIHtcbiAgICAgICAgICAgIHRleHQgPSBudWxsO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVIpIHtcbiAgICAgICAgICAgIHRleHQgPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSXCIsIHRva2VuKTtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUikge1xuICAgICAgICAgICAgbnMgPSB0ZXh0ID8gdGhpcy5uYW1lc3BhY2VQcmVmaXhUb1VSSVt0ZXh0XSA6IHRleHQ7XG4gICAgICAgICAgICBpZiAobnMgPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3JTZWxlY3RvcjtcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX1VOREVDTEFSRURfUFJFRklYXCIsIHRva2VuKTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19BVFRSX05BTUVfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0O1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5zID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuVElMREVfRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSX0VROlxuICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBVF9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5ET0xMQVJfRVE6XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RBUl9FUTpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xfQ09MOlxuICAgICAgICAgICAgICBudW0gPSB0b2tlbi50eXBlO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSzpcbiAgICAgICAgICAgICAgaGFuZGxlci5hdHRyaWJ1dGVTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBucyBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgdGV4dCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0YsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9ySW5GdW5jO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUl9PUF9FWFBFQ1RFRFwiLCB0b2tlbik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFI6XG4gICAgICAgICAgICAgIGhhbmRsZXIuYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgbnMgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgIHRleHQgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgIG51bSxcbiAgICAgICAgICAgICAgICB0b2tlbi50ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUl9WQUxfRVhQRUNURURcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSykge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yU2VsZWN0b3I7XG4gICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQVRUUlwiLCB0b2tlbik7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JJbkZ1bmM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uU0VMRUNUT1JfQ0hJTEQ6XG4gICAgICAgICAgaGFuZGxlci5jaGlsZFNlbGVjdG9yKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9TSUJMSU5HOlxuICAgICAgICAgIGhhbmRsZXIuYWRqYWNlbnRTaWJsaW5nU2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JDb250O1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX0ZPTExPV0lOR19TSUJMSU5HOlxuICAgICAgICAgIGhhbmRsZXIuZm9sbG93aW5nU2libGluZ1NlbGVjdG9yKCk7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5TRUxFQ1RPUl9CT0RZOlxuICAgICAgICAgIGlmICh0aGlzLnJlZ2lvblJ1bGUpIHtcbiAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2goXCItZXB1YngtcmVnaW9uXCIpO1xuICAgICAgICAgICAgdGhpcy5yZWdpb25SdWxlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhZ2VSdWxlKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwicGFnZVwiKTtcbiAgICAgICAgICAgIHRoaXMucGFnZVJ1bGUgPSBmYWxzZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaChcIltzZWxlY3Rvcl1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlNFTEVDVE9SX05FWFQ6XG4gICAgICAgICAgaGFuZGxlci5uZXh0U2VsZWN0b3IoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zU2VsZWN0b3JTdGFydDtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfSURFTlQ6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChDc3MuZ2V0TmFtZSh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0hBU0g6XG4gICAgICAgICAgbnVtID0gcGFyc2VJbnQodG9rZW4udGV4dCwgMTYpO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKGNvbG9yRnJvbUhhc2godG9rZW4udGV4dCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0NPTE9SXCIsIHRva2VuKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX05VTTpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBDc3MuTnVtKHRva2VuLm51bSkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9JTlQ6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLkludCh0b2tlbi5udW0pKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfTlVNRVJJQzpcbiAgICAgICAgICBpZiAoRXhwcnMuaXNWaWV3cG9ydFJlbGF0aXZlTGVuZ3RoVW5pdCh0b2tlbi50ZXh0KSkge1xuICAgICAgICAgICAgLy8gVHJlYXQgbnVtZXJpYyB2YWx1ZSB3aXRoIHZpZXdwb3J0IHVuaXQgYXMgbnVtZXJpYyBpbiBleHByLlxuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgbmV3IENzcy5FeHByKFxuICAgICAgICAgICAgICAgIG5ldyBFeHBycy5OdW1lcmljKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtLCB0b2tlbi50ZXh0KSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5OdW1lcmljKHRva2VuLm51bSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfU1RSOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IENzcy5TdHIodG9rZW4udGV4dCkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9VUkw6XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChuZXcgQ3NzLlVSTChCYXNlLnJlc29sdmVVUkwodG9rZW4udGV4dCwgdGhpcy5iYXNlVVJMKSkpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLlZBTF9DT01NQTpcbiAgICAgICAgICB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiLFwiLCB0b2tlbik7XG4gICAgICAgICAgdmFsU3RhY2sucHVzaChcIixcIik7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX1NMQVNIOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2goQ3NzLnNsYXNoKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfRlVOQzpcbiAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmICh0ZXh0ID09IFwiLWVwdWJ4LWV4cHJcIiB8fCB0ZXh0ID09IFwiY2FsY1wiIHx8IHRleHQgPT0gXCJlbnZcIikge1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwclZhbDtcbiAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5QUk9QO1xuICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbFN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwiKFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0NfUEFSOlxuICAgICAgICAgIHRoaXMudmFsU3RhY2tSZWR1Y2UoXCIpXCIsIHRva2VuKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfQkFORzpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgdG9rZW4xID0gdG9rZW5pemVyLm50aFRva2VuKDEpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICAgICAgdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiaW1wb3J0YW50XCIgJiZcbiAgICAgICAgICAgICh0b2tlbjEudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0wgfHxcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5FT0YgfHxcbiAgICAgICAgICAgICAgdG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICB0aGlzLnByb3BJbXBvcnRhbnQgPSB0cnVlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfU1lOVEFYXCIsIHRva2VuKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX1BMVVM6XG4gICAgICAgICAgdG9rZW4xID0gdG9rZW5pemVyLm50aFRva2VuKDEpO1xuICAgICAgICAgIHN3aXRjaCAodG9rZW4xLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU06XG4gICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQzpcbiAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6XG4gICAgICAgICAgICAgIGlmICghdG9rZW4xLnByZWNlZGVkQnlTcGFjZSkge1xuICAgICAgICAgICAgICAgIC8vIFBsdXMgYmVmb3JlIG51bWJlciwgaWdub3JlXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zID09PSBhY3Rpb25zUHJvcFZhbCAmJiB0b2tlbml6ZXIuaGFzTWFyaygpKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9QTFVTXCIsIHRva2VuKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0VORDpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuXG4gICAgICAgIC8vIGZhbGwgdGhyb3VnaFxuICAgICAgICBjYXNlIEFjdGlvbi5WQUxfQlJDOlxuICAgICAgICAgIHRva2VuaXplci51bm1hcmsoKTtcbiAgICAgICAgICB2YWwgPSB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiO1wiLCB0b2tlbik7XG4gICAgICAgICAgaWYgKHZhbCAmJiB0aGlzLnByb3BOYW1lKSB7XG4gICAgICAgICAgICBoYW5kbGVyLnByb3BlcnR5KHRoaXMucHJvcE5hbWUgYXMgc3RyaW5nLCB2YWwsIHRoaXMucHJvcEltcG9ydGFudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IHBhcnNpbmdTdHlsZUF0dHIgPyBhY3Rpb25zU3R5bGVBdHRyaWJ1dGUgOiBhY3Rpb25zQmFzZTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uVkFMX0ZJTklTSDpcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRva2VuaXplci51bm1hcmsoKTtcbiAgICAgICAgICB2YWwgPSB0aGlzLnZhbFN0YWNrUmVkdWNlKFwiO1wiLCB0b2tlbik7XG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSB2YWw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgJiYgdmFsKSB7XG4gICAgICAgICAgICBoYW5kbGVyLnByb3BlcnR5KHRoaXMucHJvcE5hbWUgYXMgc3RyaW5nLCB2YWwsIHRoaXMucHJvcEltcG9ydGFudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0lERU5UOlxuICAgICAgICAgIHRva2VuMSA9IHRva2VuaXplci5udGhUb2tlbigxKTtcbiAgICAgICAgICBpZiAodG9rZW4xLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DTEFTUykge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fUEFSICYmXG4gICAgICAgICAgICAgICF0b2tlbml6ZXIubnRoVG9rZW4oMikucHJlY2VkZWRCeVNwYWNlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaCh0b2tlbi50ZXh0LCB0b2tlbjEudGV4dCwgXCIoXCIpO1xuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoXG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLmdldFNjb3BlKCksXG4gICAgICAgICAgICAgICAgICBFeHBycy5tYWtlUXVhbGlmaWVkTmFtZSh0b2tlbi50ZXh0LCB0b2tlbjEudGV4dCksXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5NRURJQSB8fFxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID09IEV4cHJDb250ZXh0LklNUE9SVFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCkgPT0gXCJub3RcIikge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcbiAgICAgICAgICAgICAgICAgIG5ldyBFeHBycy5NZWRpYU5hbWUoaGFuZGxlci5nZXRTY29wZSgpLCB0cnVlLCB0b2tlbjEudGV4dCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwib25seVwiKSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbjE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbFN0YWNrLnB1c2goXG4gICAgICAgICAgICAgICAgICBuZXcgRXhwcnMuTWVkaWFOYW1lKGhhbmRsZXIuZ2V0U2NvcGUoKSwgZmFsc2UsIHRva2VuLnRleHQpLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLk5hbWVkKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4udGV4dCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0V4cHJPcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9GVU5DOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobnVsbCwgdG9rZW4udGV4dCwgXCIoXCIpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfTlVNOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2gobmV3IEV4cHJzLkNvbnN0KGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtKSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX05VTUVSSUM6XG4gICAgICAgICAgdGV4dCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgaWYgKHRleHQgPT0gXCIlXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lICYmIHRoaXMucHJvcE5hbWUubWF0Y2goL2hlaWdodHxeKHRvcHxib3R0b20pJC8pKSB7XG4gICAgICAgICAgICAgIHRleHQgPSBcInZoXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0ZXh0ID0gXCJ2d1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5OdW1lcmljKGhhbmRsZXIuZ2V0U2NvcGUoKSwgdG9rZW4ubnVtLCB0ZXh0KSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwck9wO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX1NUUjpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5Db25zdChoYW5kbGVyLmdldFNjb3BlKCksIHRva2VuLnRleHQpKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfUEFSQU06XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRva2VuLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQgfHxcbiAgICAgICAgICAgIHRva2VuLnByZWNlZGVkQnlTcGFjZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKG5ldyBFeHBycy5QYXJhbShoYW5kbGVyLmdldFNjb3BlKCksIHRva2VuLm51bSkpO1xuICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByT3A7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX1BSRUZJWDpcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKC10b2tlbi50eXBlKTtcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0lORklYOlxuICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgIHRoaXMuZXhwclN0YWNrUmVkdWNlKHRva2VuLnR5cGUsIHRva2VuKTtcbiAgICAgICAgICB2YWxTdGFjay5wdXNoKHRva2VuLnR5cGUpO1xuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfSU5GSVhfTkFNRTpcbiAgICAgICAgICBpZiAodG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiYW5kXCIpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgdGhpcy5leHByU3RhY2tSZWR1Y2UoT1BfTUVESUFfQU5ELCB0b2tlbik7XG4gICAgICAgICAgICB2YWxTdGFjay5wdXNoKE9QX01FRElBX0FORCk7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmV4cHJFcnJvcihcIkVfQ1NTX1NZTlRBWFwiLCB0b2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX0NfUEFSOlxuICAgICAgICAgIGlmICh0aGlzLmV4cHJTdGFja1JlZHVjZSh0b2tlbi50eXBlLCB0b2tlbikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lKSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNQcm9wVmFsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkJBTEFOQ0VEX1BBUlwiLCB0b2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVYUFJfT19CUkM6XG4gICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIsIHRva2VuKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcE5hbWUgfHwgdGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5JTVBPUlQpIHtcbiAgICAgICAgICAgICAgdGhpcy5leHByRXJyb3IoXCJFX0NTU19VTkVYUEVDVEVEX0JSQ1wiLCB0b2tlbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAodGhpcy5leHByQ29udGV4dCA9PSBFeHByQ29udGV4dC5XSEVOKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFdoZW5SdWxlKHZhbFN0YWNrLnBvcCgpIGFzIENzcy5FeHByKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0TWVkaWFSdWxlKHZhbFN0YWNrLnBvcCgpIGFzIENzcy5FeHByKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKFwibWVkaWFcIik7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uRVhQUl9TRU1JQ09MOlxuICAgICAgICAgIGlmICh0aGlzLmV4cHJTdGFja1JlZHVjZShDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSLCB0b2tlbikpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BOYW1lIHx8IHRoaXMuZXhwckNvbnRleHQgIT0gRXhwckNvbnRleHQuSU1QT1JUKSB7XG4gICAgICAgICAgICAgIHRoaXMuZXhwckVycm9yKFwiRV9DU1NfVU5FWFBFQ1RFRF9TRU1JQ09MXCIsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuaW1wb3J0Q29uZGl0aW9uID0gdmFsU3RhY2sucG9wKCkgYXMgQ3NzLkV4cHI7XG4gICAgICAgICAgICAgIHRoaXMuaW1wb3J0UmVhZHkgPSB0cnVlO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zQmFzZTtcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FWFBSX09fUEFSOlxuICAgICAgICAgIHZhbFN0YWNrLnB1c2godG9rZW4udHlwZSk7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY2FzZSBBY3Rpb24uUlVMRV9FTkQ6XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBoYW5kbGVyLmVuZFJ1bGUoKTtcbiAgICAgICAgICBpZiAodGhpcy5ydWxlU3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkFUOlxuICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgc3dpdGNoICh0ZXh0KSB7XG4gICAgICAgICAgICBjYXNlIFwiaW1wb3J0XCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSIHx8XG4gICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlVSTFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFVSTCA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MIHx8XG4gICAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmltcG9ydFJlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJvcE5hbWUgPSBudWxsOyAvLyBzaWduYWxzIEAgcnVsZVxuICAgICAgICAgICAgICAgICAgdGhpcy5leHByQ29udGV4dCA9IEV4cHJDb250ZXh0LklNUE9SVDtcbiAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX0lNUE9SVF9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcIm5hbWVzcGFjZVwiOlxuICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHRva2VuLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQ6XG4gICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDsgLy8gUHJlZml4XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TVFIgfHxcbiAgICAgICAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuVVJMKSAmJlxuICAgICAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0xcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWVzcGFjZVByZWZpeFRvVVJJW3RleHRdID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSOlxuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5VUkw6XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0VNSUNPTFxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdE5hbWVzcGFjZVVSSSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihcIkVfQ1NTX05BTUVTUEFDRV9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcImNoYXJzZXRcIjpcbiAgICAgICAgICAgICAgLy8gVXNlbGVzcyBpbiBFUFVCIChvbmx5IFVURi04IG9yIFVURi0xNiBpcyBhbGxvd2VkIGFueXdheSBhbmRcbiAgICAgICAgICAgICAgLy8gd2UgYXJlIGF0IHRoZSBtZXJjeSBvZiB0aGUgYnJvd3NlciBjaGFyc2V0IGhhbmRsaW5nIGFueXdheSkuXG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuU1RSICYmXG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHRleHQgPSB0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQgIT0gXCJ1dGYtOFwiICYmIHRleHQgIT0gXCJ1dGYtMTZcIikge1xuICAgICAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfVU5FWFBFQ1RFRF9DSEFSU0VUICR7dGV4dH1gLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKFwiRV9DU1NfQ0hBUlNFVF9TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXJyb3I7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcImZvbnQtZmFjZVwiOlxuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYWdlLXRlbXBsYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LWRlZmluZVwiOlxuICAgICAgICAgICAgY2FzZSBcIi1lcHVieC12aWV3cG9ydFwiOlxuICAgICAgICAgICAgICBpZiAodG9rZW5pemVyLm50aFRva2VuKDEpLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQykge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmb250LWZhY2VcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydEZvbnRGYWNlUnVsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS10ZW1wbGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFnZVRlbXBsYXRlUnVsZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtZGVmaW5lXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnREZWZpbmVSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC12aWV3cG9ydFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Vmlld3BvcnRSdWxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIi1hZGFwdC1mb290bm90ZS1hcmVhXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQzpcbiAgICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0Rm9vdG5vdGVSdWxlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0w6XG4gICAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UICYmXG4gICAgICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuT19CUkNcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdG9rZW4udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydEZvb3Rub3RlUnVsZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaChcIi1hZGFwdC1mb290bm90ZS1hcmVhXCIpO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcmVnaW9uXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSZWdpb25SdWxlKCk7XG4gICAgICAgICAgICAgIHRoaXMucmVnaW9uUnVsZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNhc2UgXCJwYWdlXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRQYWdlUnVsZSgpO1xuICAgICAgICAgICAgICB0aGlzLnBhZ2VSdWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc1NlbGVjdG9yQ29udDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwidG9wLWxlZnQtY29ybmVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLWxlZnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0b3AtY2VudGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLXJpZ2h0XCI6XG4gICAgICAgICAgICBjYXNlIFwidG9wLXJpZ2h0LWNvcm5lclwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LXRvcFwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LW1pZGRsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0LWJvdHRvbVwiOlxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbS1yaWdodC1jb3JuZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tcmlnaHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tY2VudGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tLWxlZnRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b20tbGVmdC1jb3JuZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0LWJvdHRvbVwiOlxuICAgICAgICAgICAgY2FzZSBcImxlZnQtbWlkZGxlXCI6XG4gICAgICAgICAgICBjYXNlIFwibGVmdC10b3BcIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSQykge1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhZ2VNYXJnaW5Cb3hSdWxlKHRleHQpO1xuICAgICAgICAgICAgICAgIHRoaXMucnVsZVN0YWNrLnB1c2godGV4dCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFJ1bGVCb2R5KCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXdoZW5cIjpcbiAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdGhpcy5wcm9wTmFtZSA9IG51bGw7IC8vIHNpZ25hbHMgQCBydWxlXG4gICAgICAgICAgICAgIHRoaXMuZXhwckNvbnRleHQgPSBFeHByQ29udGV4dC5XSEVOO1xuICAgICAgICAgICAgICB0aGlzLmFjdGlvbnMgPSBhY3Rpb25zRXhwclZhbDtcbiAgICAgICAgICAgICAgdmFsU3RhY2sucHVzaChcIntcIik7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgY2FzZSBcIm1lZGlhXCI6XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRoaXMucHJvcE5hbWUgPSBudWxsOyAvLyBzaWduYWxzIEAgcnVsZVxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZXh0ID0gRXhwckNvbnRleHQuTUVESUE7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFeHByVmFsO1xuICAgICAgICAgICAgICB2YWxTdGFjay5wdXNoKFwie1wiKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LWZsb3dcIjpcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRGbG93UnVsZSh0b2tlbml6ZXIubnRoVG9rZW4oMSkudGV4dCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ydWxlU3RhY2sucHVzaCh0ZXh0KTtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS1tYXN0ZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFydGl0aW9uXCI6XG4gICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhcnRpdGlvbi1ncm91cFwiOiB7XG4gICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIGxldCBydWxlTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgIGxldCBydWxlUHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICAgICAgICBydWxlTmFtZSA9IHRva2VuLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IHRva2VuaXplci50b2tlbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ09MT04gJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMSkudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lID0gdG9rZW5pemVyLm50aFRva2VuKDEpLnRleHQ7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5pemVyLnRva2VuKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5GVU5DICYmXG4gICAgICAgICAgICAgICAgdG9rZW4udGV4dC50b0xvd2VyQ2FzZSgpID09IFwiY2xhc3NcIiAmJlxuICAgICAgICAgICAgICAgIHRva2VuaXplci5udGhUb2tlbigxKS50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQgJiZcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIubnRoVG9rZW4oMikudHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaCh0b2tlbml6ZXIubnRoVG9rZW4oMSkudGV4dCk7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSB0b2tlbml6ZXIudG9rZW4oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDKSB7XG4gICAgICAgICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRleHQpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCItZXB1YngtcGFnZS1tYXN0ZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhZ2VNYXN0ZXJSdWxlKFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIi1lcHVieC1wYXJ0aXRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5zdGFydFBhcnRpdGlvblJ1bGUoXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgcnVsZVBzZXVkb05hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiLWVwdWJ4LXBhcnRpdGlvbi1ncm91cFwiOlxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLnN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHJ1bGVQc2V1ZG9OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXMsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnJ1bGVTdGFjay5wdXNoKHRleHQpO1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIlwiOlxuICAgICAgICAgICAgICAvLyBObyB0ZXh0IGFmdGVyIEBcbiAgICAgICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfVU5FWFBFQ1RFRF9BVCR7dGV4dH1gLCB0b2tlbik7XG5cbiAgICAgICAgICAgICAgLy8gRXJyb3IgcmVjb3ZlcnkgdXNpbmcgc2VsZWN0b3IgcnVsZXMuXG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoYEVfQ1NTX0FUX1VOS05PV04gJHt0ZXh0fWAsIHRva2VuKTtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlci5lcnJvcihgRV9DU1NfQVRfU1lOVEFYICR7dGV4dH1gLCB0b2tlbik7XG4gICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUlJPUl9QVVNIOlxuICAgICAgICAgIC8vIE9wZW4gYnJhY2tldCB3aGlsZSBza2lwcGluZyBlcnJvciBzeW50YXhcbiAgICAgICAgICBpZiAocGFyc2luZ1ZhbHVlIHx8IHBhcnNpbmdTdHlsZUF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMucHVzaCh0b2tlbi50eXBlICsgMSk7XG5cbiAgICAgICAgICAvLyBFeHBlY3RlZCBjbG9zaW5nIGJyYWNrZXRcbiAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjYXNlIEFjdGlvbi5FUlJPUl9QT1BfREVDTDpcbiAgICAgICAgICAvLyBDbG9zZSBicmFja2V0IHdoaWxlIHNraXBwaW5nIGVycm9yIHN5bnRheCBpbiBkZWNsYXJhdGlvblxuICAgICAgICAgIGlmIChwYXJzaW5nVmFsdWUgfHwgcGFyc2luZ1N0eWxlQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNCYXNlO1xuXG4gICAgICAgICAgICAvLyBEb24ndCBjb25zdW1lIGNsb3NpbmcgYnJhY2VcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgY2FzZSBBY3Rpb24uRVJST1JfUE9QOlxuICAgICAgICAgIC8vIENsb3NlIGJyYWNrZXQgd2hpbGUgc2tpcHBpbmcgZXJyb3Igc3ludGF4XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5lcnJvckJyYWNrZXRzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgIHRoaXMuZXJyb3JCcmFja2V0c1t0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoIC0gMV0gPT0gdG9rZW4udHlwZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5lcnJvckJyYWNrZXRzLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLmVycm9yQnJhY2tldHMubGVuZ3RoID09IDAgJiZcbiAgICAgICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSQ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkVSUk9SX1NFTUlDT0w6XG4gICAgICAgICAgaWYgKHBhcnNpbmdWYWx1ZSB8fCBwYXJzaW5nU3R5bGVBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZXJyb3JCcmFja2V0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Jhc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRva2VuaXplci5jb25zdW1lKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNhc2UgQWN0aW9uLkRPTkU6XG4gICAgICAgICAgaWYgKHBhcnNpbmdGdW5jdGlvblBhcmFtKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIuY29uc3VtZSgpO1xuICAgICAgICAgICAgaGFuZGxlci5lbmRGdW5jV2l0aFNlbGVjdG9yKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChwYXJzaW5nVmFsdWUgfHwgcGFyc2luZ1N0eWxlQXR0cikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzaW5nTWVkaWFRdWVyeSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZXhwclN0YWNrUmVkdWNlKENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19QQVIsIHRva2VuKSkge1xuICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHZhbFN0YWNrLnBvcCgpIGFzIENzcy5WYWw7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyc2luZ0Z1bmN0aW9uUGFyYW0pIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5WQUxJRCkge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKHRva2VuLnRleHQsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodGhpcy5hY3Rpb25zID09PSBhY3Rpb25zUHJvcFZhbCAmJiB0b2tlbml6ZXIuaGFzTWFyaygpKSB7XG4gICAgICAgICAgICB0b2tlbml6ZXIucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNTZWxlY3RvclN0YXJ0O1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuYWN0aW9ucyAhPT0gYWN0aW9uc0Vycm9yICYmXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgIT09IGFjdGlvbnNFcnJvclNlbGVjdG9yICYmXG4gICAgICAgICAgICB0aGlzLmFjdGlvbnMgIT09IGFjdGlvbnNFcnJvckRlY2xcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5WQUxJRCkge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVycm9yKHRva2VuLnRleHQsIHRva2VuKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGhhbmRsZXIuZXJyb3IoXCJFX0NTU19TWU5UQVhcIiwgdG9rZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNJbnNpZGVQcm9wZXJ0eU9ubHlSdWxlKCkpIHtcbiAgICAgICAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9uc0Vycm9yRGVjbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnNFcnJvclNlbGVjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7IC8vIExldCBlcnJvci1yZWNvdmVyeSB0byByZS1wcm9jZXNzIHRoZSBvZmZlbmRpbmcgdG9rZW5cbiAgICAgICAgICB9XG4gICAgICAgICAgdG9rZW5pemVyLmNvbnN1bWUoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBOb3QgZG9uZSB5ZXQuXG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVycm9ySGFuZGxlciBleHRlbmRzIFBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZXJyb3IobW5lbW9uaWNzOiBzdHJpbmcsIHRva2VuOiBDc3NUb2tlbml6ZXIuVG9rZW4pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobW5lbW9uaWNzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFNjb3BlKCk6IEV4cHJzLkxleGljYWxTY29wZSB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGU7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU3R5bGVzaGVldChcbiAgdG9rZW5pemVyOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyLFxuICBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICBiYXNlVVJMOiBzdHJpbmcsXG4gIGNsYXNzZXM6IHN0cmluZyB8IG51bGwsXG4gIG1lZGlhOiBzdHJpbmcgfCBudWxsLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJwYXJzZVN0eWxlc2hlZXRcIik7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoYWN0aW9uc0Jhc2UsIHRva2VuaXplciwgaGFuZGxlciwgYmFzZVVSTCk7XG4gIGxldCBjb25kaXRpb246IENzcy5FeHByID0gbnVsbDtcbiAgaWYgKG1lZGlhKSB7XG4gICAgY29uZGl0aW9uID0gcGFyc2VNZWRpYVF1ZXJ5KFxuICAgICAgbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIobWVkaWEsIGhhbmRsZXIpLFxuICAgICAgaGFuZGxlcixcbiAgICAgIGJhc2VVUkwsXG4gICAgKTtcbiAgfVxuICBjb25kaXRpb24gPSBwYXJzZXIubWFrZUNvbmRpdGlvbihjbGFzc2VzLCBjb25kaXRpb24gJiYgY29uZGl0aW9uLnRvRXhwcigpKTtcbiAgaWYgKGNvbmRpdGlvbikge1xuICAgIGhhbmRsZXIuc3RhcnRNZWRpYVJ1bGUoY29uZGl0aW9uKTtcbiAgICBoYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgfVxuICBmcmFtZVxuICAgIC5sb29wKCgpID0+IHtcbiAgICAgIHdoaWxlICghcGFyc2VyLnJ1blBhcnNlcigxMDAsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKSkge1xuICAgICAgICBpZiAocGFyc2VyLmltcG9ydFJlYWR5KSB7XG4gICAgICAgICAgY29uc3QgcmVzb2x2ZWRVUkwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBwYXJzZXIuaW1wb3J0VVJMIGFzIHN0cmluZyxcbiAgICAgICAgICAgIGJhc2VVUkwsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocGFyc2VyLmltcG9ydENvbmRpdGlvbikge1xuICAgICAgICAgICAgaGFuZGxlci5zdGFydE1lZGlhUnVsZShwYXJzZXIuaW1wb3J0Q29uZGl0aW9uKTtcbiAgICAgICAgICAgIGhhbmRsZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBpbm5lckZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICAgIFwicGFyc2VTdHlsZXNoZWV0LmltcG9ydFwiLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGFyc2VTdHlsZXNoZWV0RnJvbVVSTChyZXNvbHZlZFVSTCwgaGFuZGxlciwgbnVsbCwgbnVsbCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyc2VyLmltcG9ydENvbmRpdGlvbikge1xuICAgICAgICAgICAgICBoYW5kbGVyLmVuZFJ1bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5pbXBvcnRSZWFkeSA9IGZhbHNlO1xuICAgICAgICAgICAgcGFyc2VyLmltcG9ydFVSTCA9IG51bGw7XG4gICAgICAgICAgICBwYXJzZXIuaW1wb3J0Q29uZGl0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlubmVyRnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBmcmFtZS50aW1lU2xpY2UoKTtcbiAgICAgICAgaWYgKHIuaXNQZW5kaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIGhhbmRsZXIuZW5kUnVsZSgpO1xuICAgICAgfVxuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgdGV4dDogc3RyaW5nLFxuICBoYW5kbGVyOiBQYXJzZXJIYW5kbGVyLFxuICBiYXNlVVJMOiBzdHJpbmcsXG4gIGNsYXNzZXM6IHN0cmluZyB8IG51bGwsXG4gIG1lZGlhOiBzdHJpbmcgfCBudWxsLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICByZXR1cm4gVGFzay5oYW5kbGUoXG4gICAgXCJwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dFwiLFxuICAgIChmcmFtZSkgPT4ge1xuICAgICAgY29uc3QgdG9rID0gbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIodGV4dCwgaGFuZGxlcik7XG4gICAgICBwYXJzZVN0eWxlc2hlZXQodG9rLCBoYW5kbGVyLCBiYXNlVVJMLCBjbGFzc2VzLCBtZWRpYSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgfSxcbiAgICAoZnJhbWUsIGVycikgPT4ge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIGBGYWlsZWQgdG8gcGFyc2Ugc3R5bGVzaGVldCB0ZXh0OiAke3RleHR9YCk7XG4gICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgIH0sXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlc2hlZXRGcm9tVVJMKFxuICB1cmw6IHN0cmluZyxcbiAgaGFuZGxlcjogUGFyc2VySGFuZGxlcixcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbCxcbiAgbWVkaWE6IHN0cmluZyB8IG51bGwsXG4pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICBcInBhcnNlU3R5bGVzaGVldEZyb21VUkxcIixcbiAgICAoZnJhbWUpID0+IHtcbiAgICAgIE5ldC5hamF4KHVybCkudGhlbigoeGhyKSA9PiB7XG4gICAgICAgIGlmICgheGhyLnJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVRleHQsXG4gICAgICAgICAgICBoYW5kbGVyLFxuICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgY2xhc3NlcyxcbiAgICAgICAgICAgIG1lZGlhLFxuICAgICAgICAgICkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGBGYWlsZWQgdG8gcGFyc2Ugc3R5bGVzaGVldCBmcm9tICR7dXJsfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChmcmFtZSwgZXJyKSA9PiB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGVyciwgXCJFeGNlcHRpb24gd2hpbGUgZmV0Y2hpbmcgYW5kIHBhcnNpbmc6XCIsIHVybCk7XG4gICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgfSxcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVmFsdWUoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHRva2VuaXplcjogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgYmFzZVVSTDogc3RyaW5nLFxuKTogQ3NzLlZhbCB7XG4gIGNvbnN0IHBhcnNlciA9IG5ldyBQYXJzZXIoXG4gICAgYWN0aW9uc1Byb3BWYWwsXG4gICAgdG9rZW5pemVyLFxuICAgIG5ldyBFcnJvckhhbmRsZXIoc2NvcGUpLFxuICAgIGJhc2VVUkwsXG4gICk7XG4gIHBhcnNlci5ydW5QYXJzZXIoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgcmV0dXJuIHBhcnNlci5yZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlQXR0cmlidXRlKFxuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbik6IHZvaWQge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgUGFyc2VyKGFjdGlvbnNTdHlsZUF0dHJpYnV0ZSwgdG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgcGFyc2VyLnJ1blBhcnNlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNZWRpYVF1ZXJ5KFxuICB0b2tlbml6ZXI6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIsXG4gIGhhbmRsZXI6IFBhcnNlckhhbmRsZXIsXG4gIGJhc2VVUkw6IHN0cmluZyxcbik6IENzcy5FeHByIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IFBhcnNlcihhY3Rpb25zRXhwclZhbCwgdG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgcGFyc2VyLnJ1blBhcnNlcihOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIGZhbHNlLCBmYWxzZSwgdHJ1ZSwgZmFsc2UpO1xuICByZXR1cm4gcGFyc2VyLnJlc3VsdCBhcyBDc3MuRXhwcjtcbn1cblxuZXhwb3J0IGNvbnN0IG51bVByb3A6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge1xuICBcInotaW5kZXhcIjogdHJ1ZSxcbiAgXCJjb2x1bW4tY291bnRcIjogdHJ1ZSxcbiAgXCJmbG93LWxpbmdlclwiOiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBwYWdlOiB0cnVlLFxuICBcImZsb3ctcHJpb3JpdHlcIjogdHJ1ZSxcbiAgdXRpbGl6YXRpb246IHRydWUsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGFrZXNPbmx5TnVtKHByb3BOYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhbnVtUHJvcFtwcm9wTmFtZV07XG59XG5cbi8qKlxuICogQHJldHVybiB2YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlRXhwclRvQ1NTKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB2YWw6IEV4cHJzLlZhbCxcbiAgcHJvcE5hbWU6IHN0cmluZyxcbik6IENzcy5WYWwge1xuICBjb25zdCByZXN1bHQgPSB2YWwuZXZhbHVhdGUoY29udGV4dCk7XG4gIHN3aXRjaCAodHlwZW9mIHJlc3VsdCkge1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIGlmICghdGFrZXNPbmx5TnVtKHByb3BOYW1lKSkge1xuICAgICAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKHJlc3VsdCBhcyBudW1iZXIsIFwicHhcIik7XG4gICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PSBNYXRoLnJvdW5kKHJlc3VsdCBhcyBudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLkludChyZXN1bHQgYXMgbnVtYmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLk51bShyZXN1bHQgYXMgbnVtYmVyKTtcbiAgICAgIH1cbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICByZXR1cm4gQ3NzLmVtcHR5O1xuICAgICAgfVxuXG4gICAgICAvLyBUT0RPOiB3aGVyZSBiYXNlVVJMIHNob3VsZCBjb21lIGZyb20/Pz9cbiAgICAgIHJldHVybiBwYXJzZVZhbHVlKFxuICAgICAgICB2YWwuc2NvcGUsXG4gICAgICAgIG5ldyBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKHJlc3VsdCBhcyBzdHJpbmcsIG51bGwpLFxuICAgICAgICBcIlwiLFxuICAgICAgKTtcbiAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgcmV0dXJuIHJlc3VsdCA/IENzcy5pZGVudC5fdHJ1ZSA6IENzcy5pZGVudC5fZmFsc2U7XG4gICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgcmV0dXJuIENzcy5lbXB0eTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJFX1VORVhQRUNURURcIik7XG59XG5cbi8qKlxuICogQHJldHVybiB2YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2YWx1YXRlQ1NTVG9DU1MoXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHZhbDogQ3NzLlZhbCxcbiAgcHJvcE5hbWU6IHN0cmluZyxcbik6IENzcy5WYWwge1xuICBpZiAodmFsLmlzRXhwcigpKSB7XG4gICAgcmV0dXJuIGV2YWx1YXRlRXhwclRvQ1NTKGNvbnRleHQsICh2YWwgYXMgQ3NzLkV4cHIpLmV4cHIsIHByb3BOYW1lKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IE1hdGNoZXJzIC0gRGVmaW5pdGlvbnMgb2YgTWF0Y2hlci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5cbi8qKlxuICogQ2hlY2tlcyB3aGV0aGVyIGdpdmVuIG9yZGVyIGNhbiBiZSByZXByZXNlbnRlZCBhcyBhbitiIHdpdGggYSBub24tbmVnYXRpdmVcbiAqIGludGVyZ2VyIG5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoQU5QbHVzQihvcmRlcjogbnVtYmVyLCBhOiBudW1iZXIsIGI6IG51bWJlcik6IGJvb2xlYW4ge1xuICBvcmRlciAtPSBiO1xuICBpZiAoYSA9PT0gMCkge1xuICAgIHJldHVybiBvcmRlciA9PT0gMDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gb3JkZXIgJSBhID09PSAwICYmIG9yZGVyIC8gYSA+PSAwO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWF0Y2hlciB7XG4gIG1hdGNoZXMoKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFueU1hdGNoZXIgaW1wbGVtZW50cyBNYXRjaGVyIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG1hdGNoZXJzOiBNYXRjaGVyW10pIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBtYXRjaGVzKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1hdGNoZXJzLnNvbWUoKG1hdGNoZXIpID0+IG1hdGNoZXIubWF0Y2hlcygpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWxsTWF0Y2hlciBpbXBsZW1lbnRzIE1hdGNoZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbWF0Y2hlcnM6IE1hdGNoZXJbXSkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIG1hdGNoZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWF0Y2hlcnMuZXZlcnkoKG1hdGNoZXIpID0+IG1hdGNoZXIubWF0Y2hlcygpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTnRoRnJhZ21lbnRNYXRjaGVyIGltcGxlbWVudHMgTWF0Y2hlciB7XG4gIHN0YXRpYyBmcmFnbWVudEluZGljZXMgPSB7fTtcblxuICBzdGF0aWMgcmVnaXN0ZXJGcmFnbWVudEluZGV4KFxuICAgIGVsZW1lbnRPZmZzZXQ6IG51bWJlcixcbiAgICBmcmFnbWVudEluZGV4OiBudW1iZXIsXG4gICAgcHJpb3JpdHk6IG51bWJlcixcbiAgKSB7XG4gICAgY29uc3QgaW5kaWNlcyA9IE50aEZyYWdtZW50TWF0Y2hlci5mcmFnbWVudEluZGljZXM7XG4gICAgaWYgKFxuICAgICAgIWluZGljZXNbZWxlbWVudE9mZnNldF0gfHxcbiAgICAgIGluZGljZXNbZWxlbWVudE9mZnNldF0ucHJpb3JpdHkgPD0gcHJpb3JpdHlcbiAgICApIHtcbiAgICAgIGluZGljZXNbZWxlbWVudE9mZnNldF0gPSB7IGZyYWdtZW50SW5kZXgsIHByaW9yaXR5IH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGNsZWFyRnJhZ21lbnRJbmRpY2VzKCkge1xuICAgIE50aEZyYWdtZW50TWF0Y2hlci5mcmFnbWVudEluZGljZXMgPSB7fTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50T2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGE6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgYjogbnVtYmVyLFxuICApIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBtYXRjaGVzKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGVudHJ5ID0gTnRoRnJhZ21lbnRNYXRjaGVyLmZyYWdtZW50SW5kaWNlc1t0aGlzLmVsZW1lbnRPZmZzZXRdO1xuICAgIHJldHVybiAoXG4gICAgICBlbnRyeSAhPSBudWxsICYmXG4gICAgICBlbnRyeS5mcmFnbWVudEluZGV4ICE9IG51bGwgJiZcbiAgICAgIG1hdGNoQU5QbHVzQihlbnRyeS5mcmFnbWVudEluZGV4LCB0aGlzLmEsIHRoaXMuYilcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXRjaGVyQnVpbGRlciB7XG4gIHN0YXRpYyBidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKFxuICAgIGVsZW1lbnRPZmZzZXQ6IG51bWJlcixcbiAgICB2aWV3Q29uZGl0aW9uOiBzdHJpbmcsXG4gICk6IE1hdGNoZXIge1xuICAgIGNvbnN0IHN0cnMgPSB2aWV3Q29uZGl0aW9uLnNwbGl0KFwiX1wiKTtcbiAgICBpZiAoc3Ryc1swXSA9PSBcIk5GU1wiKSB7XG4gICAgICByZXR1cm4gbmV3IE50aEZyYWdtZW50TWF0Y2hlcihcbiAgICAgICAgZWxlbWVudE9mZnNldCxcbiAgICAgICAgcGFyc2VJbnQoc3Ryc1sxXSwgMTApLFxuICAgICAgICBwYXJzZUludChzdHJzWzJdLCAxMCksXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBBc3NlcnRzLmZhaWwoYHVua25vd24gdmlldyBjb25kaXRpb24uIGNvbmRpdGlvbj0ke3ZpZXdDb25kaXRpb259YCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYnVpbGRBbGxNYXRjaGVyKG1hdGNoZXJzOiBNYXRjaGVyW10pOiBNYXRjaGVyIHtcbiAgICByZXR1cm4gbmV3IEFsbE1hdGNoZXIobWF0Y2hlcnMpO1xuICB9XG5cbiAgc3RhdGljIGJ1aWxkQW55TWF0Y2hlcihtYXRjaGVyczogTWF0Y2hlcltdKTogTWF0Y2hlciB7XG4gICAgcmV0dXJuIG5ldyBBbnlNYXRjaGVyKG1hdGNoZXJzKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxMyBHb29nbGUsIEluYy5cbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NDYXNjYWRlIC0gQ1NTIENhc2NhZGUuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBNYXRjaGVycyBmcm9tIFwiLi9tYXRjaGVyc1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IENzc0Nhc2NhZGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRTdHlsZSBleHRlbmRzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHt9XG5cbmV4cG9ydCBjb25zdCBpbmhlcml0ZWRQcm9wcyA9IHtcbiAgYXppbXV0aDogdHJ1ZSxcbiAgXCJib3JkZXItY29sbGFwc2VcIjogdHJ1ZSxcbiAgXCJib3JkZXItc3BhY2luZ1wiOiB0cnVlLFxuICBcImNhcHRpb24tc2lkZVwiOiB0cnVlLFxuICBcImNsaXAtcnVsZVwiOiB0cnVlLFxuICBjb2xvcjogdHJ1ZSxcbiAgXCJjb2xvci1pbnRlcnBvbGF0aW9uXCI6IHRydWUsXG4gIFwiY29sb3ItcmVuZGVyaW5nXCI6IHRydWUsXG4gIGN1cnNvcjogdHJ1ZSxcbiAgZGlyZWN0aW9uOiB0cnVlLFxuICBlbGV2YXRpb246IHRydWUsXG4gIFwiZW1wdHktY2VsbHNcIjogdHJ1ZSxcbiAgZmlsbDogdHJ1ZSxcbiAgXCJmaWxsLW9wYWNpdHlcIjogdHJ1ZSxcbiAgXCJmaWxsLXJ1bGVcIjogdHJ1ZSxcbiAgXCJmb250LWtlcm5pbmdcIjogdHJ1ZSxcbiAgXCJmb250LXNpemVcIjogdHJ1ZSxcbiAgXCJmb250LXNpemUtYWRqdXN0XCI6IHRydWUsXG4gIFwiZm9udC1mYW1pbHlcIjogdHJ1ZSxcbiAgXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIjogdHJ1ZSxcbiAgXCJmb250LXN0eWxlXCI6IHRydWUsXG4gIFwiZm9udC1zdHJldGNoXCI6IHRydWUsXG4gIFwiZm9udC12YXJpYW50XCI6IHRydWUsXG4gIFwiZm9udC13ZWlnaHRcIjogdHJ1ZSxcbiAgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiOiB0cnVlLFxuICBoeXBoZW5zOiB0cnVlLFxuICBcImh5cGhlbmF0ZS1jaGFyYWN0ZXJcIjogdHJ1ZSxcbiAgXCJoeXBoZW5hdGUtbGltaXQtY2hhcnNcIjogdHJ1ZSxcbiAgXCJoeXBoZW5hdGUtbGltaXQtbGFzdFwiOiB0cnVlLFxuICBcImltYWdlLXJlbmRlcmluZ1wiOiB0cnVlLFxuICBcImltYWdlLXJlc29sdXRpb25cIjogdHJ1ZSxcbiAgXCJsZXR0ZXItc3BhY2luZ1wiOiB0cnVlLFxuICBcImxpbmUtYnJlYWtcIjogdHJ1ZSxcbiAgXCJsaW5lLWhlaWdodFwiOiB0cnVlLFxuICBcImxpc3Qtc3R5bGUtaW1hZ2VcIjogdHJ1ZSxcbiAgXCJsaXN0LXN0eWxlLXBvc2l0aW9uXCI6IHRydWUsXG4gIFwibGlzdC1zdHlsZS10eXBlXCI6IHRydWUsXG4gIG1hcmtlcjogdHJ1ZSxcbiAgXCJtYXJrZXItZW5kXCI6IHRydWUsXG4gIFwibWFya2VyLW1pZFwiOiB0cnVlLFxuICBcIm1hcmtlci1zdGFydFwiOiB0cnVlLFxuICBvcnBoYW5zOiB0cnVlLFxuICBcIm92ZXJmbG93LXdyYXBcIjogdHJ1ZSxcbiAgXCJwYWludC1vcmRlclwiOiB0cnVlLFxuICBcInBvaW50ZXItZXZlbnRzXCI6IHRydWUsXG4gIFwicGl0Y2gtcmFuZ2VcIjogdHJ1ZSxcbiAgcXVvdGVzOiB0cnVlLFxuICByaWNobmVzczogdHJ1ZSxcbiAgXCJydWJ5LWFsaWduXCI6IHRydWUsXG4gIFwicnVieS1wb3NpdGlvblwiOiB0cnVlLFxuICBcInNwZWFrLWhlYWRlclwiOiB0cnVlLFxuICBcInNwZWFrLW51bWVyYWxcIjogdHJ1ZSxcbiAgXCJzcGVhay1wdW5jdHVhdGlvblwiOiB0cnVlLFxuICBcInNwZWVjaC1yYXRlXCI6IHRydWUsXG4gIFwic2hhcGUtcmVuZGVyaW5nXCI6IHRydWUsXG4gIHN0cmVzczogdHJ1ZSxcbiAgc3Ryb2tlOiB0cnVlLFxuICBcInN0cm9rZS1kYXNoYXJyYXlcIjogdHJ1ZSxcbiAgXCJzdHJva2UtZGFzaG9mZnNldFwiOiB0cnVlLFxuICBcInN0cm9rZS1saW5lY2FwXCI6IHRydWUsXG4gIFwic3Ryb2tlLWxpbmVqb2luXCI6IHRydWUsXG4gIFwic3Ryb2tlLW1pdGVybGltaXRcIjogdHJ1ZSxcbiAgXCJzdHJva2Utb3BhY2l0eVwiOiB0cnVlLFxuICBcInN0cm9rZS13aWR0aFwiOiB0cnVlLFxuICBcInRhYi1zaXplXCI6IHRydWUsXG4gIFwidGV4dC1hbGlnblwiOiB0cnVlLFxuICBcInRleHQtYWxpZ24tbGFzdFwiOiB0cnVlLFxuICBcInRleHQtYW5jaG9yXCI6IHRydWUsXG4gIFwidGV4dC1kZWNvcmF0aW9uLXNraXBcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWVtcGhhc2lzLWNvbG9yXCI6IHRydWUsXG4gIFwidGV4dC1lbXBoYXNpcy1wb3NpdGlvblwiOiB0cnVlLFxuICBcInRleHQtZW1waGFzaXMtc3R5bGVcIjogdHJ1ZSxcbiAgXCJ0ZXh0LWNvbWJpbmUtdXByaWdodFwiOiB0cnVlLFxuICBcInRleHQtaW5kZW50XCI6IHRydWUsXG4gIFwidGV4dC1qdXN0aWZ5XCI6IHRydWUsXG4gIFwidGV4dC1yZW5kZXJpbmdcIjogdHJ1ZSxcbiAgXCJ0ZXh0LXNpemUtYWRqdXN0XCI6IHRydWUsXG4gIFwidGV4dC10cmFuc2Zvcm1cIjogdHJ1ZSxcbiAgXCJ0ZXh0LXVuZGVybGluZS1wb3NpdGlvblwiOiB0cnVlLFxuICB2aXNpYmlsaXR5OiB0cnVlLFxuICBcInZvaWNlLWZhbWlseVwiOiB0cnVlLFxuICB2b2x1bWU6IHRydWUsXG4gIFwid2hpdGUtc3BhY2VcIjogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICBcIndvcmQtYnJlYWtcIjogdHJ1ZSxcbiAgXCJ3b3JkLXNwYWNpbmdcIjogdHJ1ZSxcbiAgXCJ3b3JkLXdyYXBcIjogdHJ1ZSxcbiAgXCJ3cml0aW5nLW1vZGVcIjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMgPSBbXG4gIFwiYm94LWRlY29yYXRpb24tYnJlYWtcIixcbiAgLy8gVE9ETzogYm94LWRlY29yYXRpb24tYmxvY2sgc2hvdWxkIG5vdCBiZSBpbmhlcml0ZWQuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aXZsaW9zdHlsZS92aXZsaW9zdHlsZS5qcy9pc3N1ZXMvMjU5XG4gIFwiaW1hZ2UtcmVzb2x1dGlvblwiLFxuICBcIm9ycGhhbnNcIixcbiAgXCJ3aWRvd3NcIixcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMoKTogc3RyaW5nW10ge1xuICBjb25zdCBob29rczogUGx1Z2luLlBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wc0hvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgUGx1Z2luLkhPT0tTLlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTLFxuICApO1xuICByZXR1cm4gaG9va3MucmVkdWNlKFxuICAgIChwcm9wcywgZikgPT4gcHJvcHMuY29uY2F0KGYoKSksXG4gICAgW10uY29uY2F0KHBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyksXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBzdXBwb3J0ZWROYW1lc3BhY2VzID0ge1xuICBcImh0dHA6Ly93d3cuaWRwZi5vcmcvMjAwNy9vcHNcIjogdHJ1ZSxcbiAgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI6IHRydWUsXG4gIFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBjb3VwbGVkUGF0dGVybnMgPSBbXG4gIFwibWFyZ2luLSVcIixcbiAgXCJwYWRkaW5nLSVcIixcbiAgXCJib3JkZXItJS13aWR0aFwiLFxuICBcImJvcmRlci0lLXN0eWxlXCIsXG4gIFwiYm9yZGVyLSUtY29sb3JcIixcbiAgXCIlXCIsXG5dO1xuXG5leHBvcnQgY29uc3QgY291cGxlZEV4dGVudFBhdHRlcm5zID0gW1wibWF4LSVcIiwgXCJtaW4tJVwiLCBcIiVcIl07XG5cbmV4cG9ydCBjb25zdCBnZW9tTmFtZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0gKCgpID0+IHtcbiAgY29uc3Qgc2lkZXMgPSBbXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ0b3BcIiwgXCJib3R0b21cIl07XG4gIGNvbnN0IG5hbWVzID0ge1xuICAgIHdpZHRoOiB0cnVlLFxuICAgIGhlaWdodDogdHJ1ZSxcbiAgICBcIm1heC13aWR0aFwiOiB0cnVlLFxuICAgIFwibWF4LWhlaWdodFwiOiB0cnVlLFxuICAgIFwibWluLXdpZHRoXCI6IHRydWUsXG4gICAgXCJtaW4taGVpZ2h0XCI6IHRydWUsXG4gIH07XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291cGxlZFBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgayA9IDA7IGsgPCBzaWRlcy5sZW5ndGg7IGsrKykge1xuICAgICAgY29uc3QgbmFtZSA9IGNvdXBsZWRQYXR0ZXJuc1tpXS5yZXBsYWNlKFwiJVwiLCBzaWRlc1trXSk7XG4gICAgICBuYW1lc1tuYW1lXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBuYW1lcztcbn0pKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZENvdXBsaW5nTWFwKFxuICBzaWRlTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICBleHRlbnRNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0sXG4pOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9IHtcbiAgY29uc3QgbWFwID0ge307XG4gIGZvciAoY29uc3QgcGF0dGVybiBvZiBjb3VwbGVkUGF0dGVybnMpIHtcbiAgICBmb3IgKGNvbnN0IHNpZGUgaW4gc2lkZU1hcCkge1xuICAgICAgY29uc3QgbmFtZTEgPSBwYXR0ZXJuLnJlcGxhY2UoXCIlXCIsIHNpZGUpO1xuICAgICAgY29uc3QgbmFtZTIgPSBwYXR0ZXJuLnJlcGxhY2UoXCIlXCIsIHNpZGVNYXBbc2lkZV0pO1xuICAgICAgbWFwW25hbWUxXSA9IG5hbWUyO1xuICAgICAgbWFwW25hbWUyXSA9IG5hbWUxO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IGV4dGVudFBhdHRlcm4gb2YgY291cGxlZEV4dGVudFBhdHRlcm5zKSB7XG4gICAgZm9yIChjb25zdCBleHRlbnQgaW4gZXh0ZW50TWFwKSB7XG4gICAgICBjb25zdCBuYW1lMSA9IGV4dGVudFBhdHRlcm4ucmVwbGFjZShcIiVcIiwgZXh0ZW50KTtcbiAgICAgIGNvbnN0IG5hbWUyID0gZXh0ZW50UGF0dGVybi5yZXBsYWNlKFwiJVwiLCBleHRlbnRNYXBbZXh0ZW50XSk7XG4gICAgICBtYXBbbmFtZTFdID0gbmFtZTI7XG4gICAgICBtYXBbbmFtZTJdID0gbmFtZTE7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbmV4cG9ydCBjb25zdCBjb3VwbGluZ01hcFZlcnQgPSBidWlsZENvdXBsaW5nTWFwKFxuICB7XG4gICAgXCJibG9jay1zdGFydFwiOiBcInJpZ2h0XCIsXG4gICAgXCJibG9jay1lbmRcIjogXCJsZWZ0XCIsXG4gICAgXCJpbmxpbmUtc3RhcnRcIjogXCJ0b3BcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJib3R0b21cIixcbiAgfSxcbiAgeyBcImJsb2NrLXNpemVcIjogXCJ3aWR0aFwiLCBcImlubGluZS1zaXplXCI6IFwiaGVpZ2h0XCIgfSxcbik7XG5cbmV4cG9ydCBjb25zdCBjb3VwbGluZ01hcEhvciA9IGJ1aWxkQ291cGxpbmdNYXAoXG4gIHtcbiAgICBcImJsb2NrLXN0YXJ0XCI6IFwidG9wXCIsXG4gICAgXCJibG9jay1lbmRcIjogXCJib3R0b21cIixcbiAgICBcImlubGluZS1zdGFydFwiOiBcImxlZnRcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJyaWdodFwiLFxuICB9LFxuICB7IFwiYmxvY2stc2l6ZVwiOiBcImhlaWdodFwiLCBcImlubGluZS1zaXplXCI6IFwid2lkdGhcIiB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwVmVydFJ0bCA9IGJ1aWxkQ291cGxpbmdNYXAoXG4gIHtcbiAgICBcImJsb2NrLXN0YXJ0XCI6IFwicmlnaHRcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImxlZnRcIixcbiAgICBcImlubGluZS1zdGFydFwiOiBcImJvdHRvbVwiLFxuICAgIFwiaW5saW5lLWVuZFwiOiBcInRvcFwiLFxuICB9LFxuICB7IFwiYmxvY2stc2l6ZVwiOiBcIndpZHRoXCIsIFwiaW5saW5lLXNpemVcIjogXCJoZWlnaHRcIiB9LFxuKTtcblxuZXhwb3J0IGNvbnN0IGNvdXBsaW5nTWFwSG9yUnRsID0gYnVpbGRDb3VwbGluZ01hcChcbiAge1xuICAgIFwiYmxvY2stc3RhcnRcIjogXCJ0b3BcIixcbiAgICBcImJsb2NrLWVuZFwiOiBcImJvdHRvbVwiLFxuICAgIFwiaW5saW5lLXN0YXJ0XCI6IFwicmlnaHRcIixcbiAgICBcImlubGluZS1lbmRcIjogXCJsZWZ0XCIsXG4gIH0sXG4gIHsgXCJibG9jay1zaXplXCI6IFwiaGVpZ2h0XCIsIFwiaW5saW5lLXNpemVcIjogXCJ3aWR0aFwiIH0sXG4pO1xuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZVZhbHVlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbHVlOiBDc3MuVmFsLFxuICAgIHB1YmxpYyByZWFkb25seSBwcmlvcml0eTogbnVtYmVyLFxuICApIHt9XG5cbiAgZ2V0QmFzZVZhbHVlKCk6IENhc2NhZGVWYWx1ZSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBmaWx0ZXJWYWx1ZSh2aXNpdG9yOiBDc3MuVmlzaXRvcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlLnZpc2l0KHZpc2l0b3IpO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCB0aGlzLnByaW9yaXR5KTtcbiAgfVxuXG4gIGluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHk6IG51bWJlcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgaWYgKHNwZWNpZmljaXR5ID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENhc2NhZGVWYWx1ZSh0aGlzLnZhbHVlLCB0aGlzLnByaW9yaXR5ICsgc3BlY2lmaWNpdHkpO1xuICB9XG5cbiAgZXZhbHVhdGUoY29udGV4dDogRXhwcnMuQ29udGV4dCwgcHJvcE5hbWU6IHN0cmluZyk6IENzcy5WYWwge1xuICAgIHJldHVybiBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyhjb250ZXh0LCB0aGlzLnZhbHVlLCBwcm9wTmFtZSk7XG4gIH1cblxuICBpc0VuYWJsZWQoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgc3ViY2xhc3Mgb2YgQ2FzY2FkZVZhbHVlLiBTaG91bGQgbmV2ZXIgYmUgc2VlbiBvdXRzaWRlIG9mIHRoZVxuICogY2FzY2FkZSBlbmdpbmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25kaXRpb25hbENhc2NhZGVWYWx1ZSBleHRlbmRzIENhc2NhZGVWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHZhbHVlOiBDc3MuVmFsLFxuICAgIHByaW9yaXR5OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogRXhwcnMuVmFsLFxuICApIHtcbiAgICBzdXBlcih2YWx1ZSwgcHJpb3JpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0QmFzZVZhbHVlKCk6IENhc2NhZGVWYWx1ZSB7XG4gICAgcmV0dXJuIG5ldyBDYXNjYWRlVmFsdWUodGhpcy52YWx1ZSwgdGhpcy5wcmlvcml0eSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaWx0ZXJWYWx1ZSh2aXNpdG9yOiBDc3MuVmlzaXRvcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLnZhbHVlLnZpc2l0KHZpc2l0b3IpO1xuICAgIGlmICh2YWx1ZSA9PT0gdGhpcy52YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHRoaXMucHJpb3JpdHksIHRoaXMuY29uZGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHk6IG51bWJlcik6IENhc2NhZGVWYWx1ZSB7XG4gICAgaWYgKHNwZWNpZmljaXR5ID09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlKFxuICAgICAgdGhpcy52YWx1ZSxcbiAgICAgIHRoaXMucHJpb3JpdHkgKyBzcGVjaWZpY2l0eSxcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICk7XG4gIH1cblxuICBpc0VuYWJsZWQoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuY29uZGl0aW9uLmV2YWx1YXRlKGNvbnRleHQpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHR2IGN1cnJlbnQgdmFsdWUgKGNhbm5vdCBiZSBjb25kaXRpb25hbClcbiAqIEBwYXJhbSBhdiBjYXNjYWRlZCB2YWx1ZSAoY2FuIGJlIGNvbmRpdGlvbmFsKVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FzY2FkZVZhbHVlcyhcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdHY6IENhc2NhZGVWYWx1ZSxcbiAgYXY6IENhc2NhZGVWYWx1ZSxcbik6IENhc2NhZGVWYWx1ZSB7XG4gIGlmICgodHYgPT0gbnVsbCB8fCBhdi5wcmlvcml0eSA+IHR2LnByaW9yaXR5KSAmJiBhdi5pc0VuYWJsZWQoY29udGV4dCkpIHtcbiAgICByZXR1cm4gYXYuZ2V0QmFzZVZhbHVlKCk7XG4gIH1cbiAgcmV0dXJuIHR2O1xufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50U3R5bGVNYXAgPSB7XG4gIFtrZXk6IHN0cmluZ106IEVsZW1lbnRTdHlsZTtcbn07XG5cbmV4cG9ydCBjb25zdCBTUEVDSUFMUyA9IHtcbiAgXCJyZWdpb24taWRcIjogdHJ1ZSxcbiAgXCJmcmFnbWVudC1zZWxlY3Rvci1pZFwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbE5hbWUobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIVNQRUNJQUxTW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNNYXBOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbmFtZS5jaGFyQXQoMCkgPT0gXCJfXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3BOYW1lKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gbmFtZS5jaGFyQXQoMCkgIT0gXCJfXCIgJiYgIVNQRUNJQUxTW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmhlcml0ZWQobmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWluaGVyaXRlZFByb3BzW25hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvcChzdHlsZTogRWxlbWVudFN0eWxlLCBuYW1lOiBzdHJpbmcpOiBDYXNjYWRlVmFsdWUge1xuICByZXR1cm4gc3R5bGVbbmFtZV0gYXMgQ2FzY2FkZVZhbHVlO1xufVxuXG4vKipcbiAqIEByZXR1cm4gdm9pZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UHJvcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuICB2YWx1ZTogQ2FzY2FkZVZhbHVlLFxuKTogYW55IHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIGRlbGV0ZSBzdHlsZVtuYW1lXTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZVtuYW1lXSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdHlsZU1hcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuKTogRWxlbWVudFN0eWxlTWFwIHtcbiAgcmV0dXJuIHN0eWxlW25hbWVdIGFzIEVsZW1lbnRTdHlsZU1hcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGFibGVTdHlsZU1hcChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgbmFtZTogc3RyaW5nLFxuKTogRWxlbWVudFN0eWxlTWFwIHtcbiAgbGV0IHIgPSBzdHlsZVtuYW1lXSBhcyBFbGVtZW50U3R5bGVNYXA7XG4gIGlmICghcikge1xuICAgIHIgPSB7fTtcbiAgICBzdHlsZVtuYW1lXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcCA9IChcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbik6IHsgbWF0Y2hlcjogTWF0Y2hlcnMuTWF0Y2hlcjsgc3R5bGVzOiBFbGVtZW50U3R5bGVNYXAgfVtdID0+IHtcbiAgbGV0IHIgPSBzdHlsZVtcIl92aWV3Q29uZGl0aW9uYWxTdHlsZXNcIl0gYXMge1xuICAgIG1hdGNoZXI6IE1hdGNoZXJzLk1hdGNoZXI7XG4gICAgc3R5bGVzOiBFbGVtZW50U3R5bGVNYXA7XG4gIH1bXTtcbiAgaWYgKCFyKSB7XG4gICAgciA9IFtdO1xuICAgIHN0eWxlW1wiX3ZpZXdDb25kaXRpb25hbFN0eWxlc1wiXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3BlY2lhbChzdHlsZTogRWxlbWVudFN0eWxlLCBuYW1lOiBzdHJpbmcpOiBDYXNjYWRlVmFsdWVbXSB7XG4gIHJldHVybiBzdHlsZVtuYW1lXSBhcyBDYXNjYWRlVmFsdWVbXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE11dGFibGVTcGVjaWFsKFxuICBzdHlsZTogRWxlbWVudFN0eWxlLFxuICBuYW1lOiBzdHJpbmcsXG4pOiBDYXNjYWRlVmFsdWVbXSB7XG4gIGxldCByID0gc3R5bGVbbmFtZV0gYXMgQ2FzY2FkZVZhbHVlW107XG4gIGlmICghcikge1xuICAgIHIgPSBbXTtcbiAgICBzdHlsZVtuYW1lXSA9IHI7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUluKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICB0YXJnZXQ6IEVsZW1lbnRTdHlsZSxcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgcHNldWRvZWxlbWVudDogc3RyaW5nIHwgbnVsbCxcbiAgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gIHZpZXdDb25kaXRpb25NYXRjaGVyOiBNYXRjaGVycy5NYXRjaGVyIHwgbnVsbCxcbik6IHZvaWQge1xuICBjb25zdCBoaWVyYXJjaHkgPSBbXG4gICAgeyBpZDogcHNldWRvZWxlbWVudCwgc3R5bGVLZXk6IFwiX3BzZXVkb3NcIiB9LFxuICAgIHsgaWQ6IHJlZ2lvbklkLCBzdHlsZUtleTogXCJfcmVnaW9uc1wiIH0sXG4gIF07XG4gIGhpZXJhcmNoeS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgaWYgKGl0ZW0uaWQpIHtcbiAgICAgIGNvbnN0IHN0eWxlTWFwID0gZ2V0TXV0YWJsZVN0eWxlTWFwKHRhcmdldCwgaXRlbS5zdHlsZUtleSk7XG4gICAgICB0YXJnZXQgPSBzdHlsZU1hcFtpdGVtLmlkXTtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IHt9IGFzIEVsZW1lbnRTdHlsZTtcbiAgICAgICAgc3R5bGVNYXBbaXRlbS5pZF0gPSB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKHZpZXdDb25kaXRpb25NYXRjaGVyKSB7XG4gICAgY29uc3Qgc3R5bGVNYXAgPSBnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcCh0YXJnZXQpO1xuICAgIHRhcmdldCA9IHt9IGFzIEVsZW1lbnRTdHlsZTtcbiAgICBzdHlsZU1hcC5wdXNoKHtcbiAgICAgIHN0eWxlczogdGFyZ2V0IGFzIEVsZW1lbnRTdHlsZU1hcCxcbiAgICAgIG1hdGNoZXI6IHZpZXdDb25kaXRpb25NYXRjaGVyLFxuICAgIH0pO1xuICB9XG4gIGZvciAoY29uc3QgcHJvcCBpbiBzdHlsZSkge1xuICAgIGlmIChpc01hcE5hbWUocHJvcCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoaXNTcGVjaWFsTmFtZShwcm9wKSkge1xuICAgICAgLy8gc3BlY2lhbCBwcm9wZXJ0aWVzOiBsaXN0IG9mIGFsbCBhc3NpZ25lZCB2YWx1ZXNcbiAgICAgIGNvbnN0IGFzID0gZ2V0U3BlY2lhbChzdHlsZSwgcHJvcCk7XG4gICAgICBjb25zdCB0cyA9IGdldE11dGFibGVTcGVjaWFsKHRhcmdldCwgcHJvcCk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0cywgYXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZWd1bGFyIHByb3BlcnRpZXM6IGhpZ2hlciBwcmlvcml0eSB3aW5zXG4gICAgICBjb25zdCBhdiA9IGdldFByb3Aoc3R5bGUsIHByb3ApLmluY3JlYXNlU3BlY2lmaWNpdHkoc3BlY2lmaWNpdHkpO1xuICAgICAgY29uc3QgdHYgPSBnZXRQcm9wKHRhcmdldCwgcHJvcCk7XG4gICAgICBzZXRQcm9wKHRhcmdldCwgcHJvcCwgY2FzY2FkZVZhbHVlcyhjb250ZXh0LCB0diwgYXYpKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQWxsKFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICBzdHlsZXM6IEVsZW1lbnRTdHlsZVtdLFxuKTogRWxlbWVudFN0eWxlIHtcbiAgY29uc3QgdGFyZ2V0ID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICBmb3IgKGxldCBrID0gMDsgayA8IHN0eWxlcy5sZW5ndGg7IGsrKykge1xuICAgIG1lcmdlSW4oY29udGV4dCwgdGFyZ2V0LCBzdHlsZXNba10sIDAsIG51bGwsIG51bGwsIG51bGwpO1xuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGFpbkFjdGlvbnMoXG4gIGNoYWluOiBDaGFpbmVkQWN0aW9uW10sXG4gIGFjdGlvbjogQ2FzY2FkZUFjdGlvbixcbik6IENhc2NhZGVBY3Rpb24ge1xuICBpZiAoY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgIGNoYWluLnNvcnQoKGEsIGIpID0+IGIuZ2V0UHJpb3JpdHkoKSAtIGEuZ2V0UHJpb3JpdHkoKSk7XG4gICAgbGV0IGNoYWluZWQ6IENoYWluZWRBY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNoYWluZWQgPSBjaGFpbltpXTtcbiAgICAgIGNoYWluZWQuY2hhaW5lZCA9IGFjdGlvbjtcbiAgICAgIGFjdGlvbiA9IGNoYWluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjaGFpbmVkO1xuICB9XG4gIHJldHVybiBhY3Rpb247XG59XG5cbmV4cG9ydCBjbGFzcyBJbmhlcml0YW5jZVZpc2l0b3IgZXh0ZW5kcyBDc3MuRmlsdGVyVmlzaXRvciB7XG4gIHByb3BOYW1lOiBzdHJpbmcgPSBcIlwiO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwcm9wczogRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgc2V0UHJvcE5hbWUobmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5wcm9wTmFtZSA9IG5hbWU7XG4gIH1cblxuICBwcml2YXRlIGdldEZvbnRTaXplKCkge1xuICAgIGNvbnN0IGNhc2N2YWwgPSBnZXRQcm9wKHRoaXMucHJvcHMsIFwiZm9udC1zaXplXCIpO1xuICAgIGNvbnN0IG4gPSBjYXNjdmFsLnZhbHVlIGFzIENzcy5OdW1lcmljO1xuICAgIGlmICghRXhwcnMuaXNBYnNvbHV0ZUxlbmd0aFVuaXQobi51bml0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG4ubnVtICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tuLnVuaXRdO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW1lcmljKG51bWVyaWM6IENzcy5OdW1lcmljKTogQ3NzLlZhbCB7XG4gICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250ZXh0KTtcbiAgICBpZiAodGhpcy5wcm9wTmFtZSA9PT0gXCJmb250LXNpemVcIikge1xuICAgICAgcmV0dXJuIGNvbnZlcnRGb250U2l6ZVRvUHgobnVtZXJpYywgdGhpcy5nZXRGb250U2l6ZSgpLCB0aGlzLmNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJlbVwiIHx8XG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJleFwiIHx8XG4gICAgICBudW1lcmljLnVuaXQgPT0gXCJyZW1cIlxuICAgICkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICAgICAgICBudW1lcmljLFxuICAgICAgICB0aGlzLmdldEZvbnRTaXplKCksXG4gICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChudW1lcmljLnVuaXQgPT0gXCIlXCIpIHtcbiAgICAgIGlmICh0aGlzLnByb3BOYW1lID09PSBcImxpbmUtaGVpZ2h0XCIpIHtcbiAgICAgICAgcmV0dXJuIG51bWVyaWM7XG4gICAgICB9XG4gICAgICBjb25zdCB1bml0ID0gdGhpcy5wcm9wTmFtZS5tYXRjaCgvaGVpZ2h0fF4odG9wfGJvdHRvbSkkLykgPyBcInZoXCIgOiBcInZ3XCI7XG4gICAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bWVyaWMubnVtLCB1bml0KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bWVyaWM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5wcm9wTmFtZSA9PSBcImZvbnQtc2l6ZVwiKSB7XG4gICAgICBjb25zdCB2YWwgPSBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyh0aGlzLmNvbnRleHQsIGV4cHIsIHRoaXMucHJvcE5hbWUpO1xuICAgICAgcmV0dXJuIHZhbC52aXNpdCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIGV4cHI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICBudW1lcmljOiBDc3MuTnVtZXJpYyxcbiAgYmFzZUZvbnRTaXplOiBudW1iZXIsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiBDc3MuTnVtZXJpYyB7XG4gIGNvbnN0IHVuaXQgPSBudW1lcmljLnVuaXQ7XG4gIGNvbnN0IG51bSA9IG51bWVyaWMubnVtO1xuICBpZiAodW5pdCA9PT0gXCJlbVwiIHx8IHVuaXQgPT09IFwiZXhcIikge1xuICAgIGNvbnN0IHJhdGlvID0gRXhwcnMuZGVmYXVsdFVuaXRTaXplc1t1bml0XSAvIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJlbVwiXTtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bSAqIHJhdGlvICogYmFzZUZvbnRTaXplLCBcInB4XCIpO1xuICB9IGVsc2UgaWYgKHVuaXQgPT09IFwicmVtXCIpIHtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKG51bSAqIGNvbnRleHQuZm9udFNpemUoKSwgXCJweFwiKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVtZXJpYztcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEZvbnRTaXplVG9QeChcbiAgbnVtZXJpYzogQ3NzLk51bWVyaWMsXG4gIHBhcmVudEZvbnRTaXplOiBudW1iZXIsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiBDc3MuTnVtZXJpYyB7XG4gIG51bWVyaWMgPSBjb252ZXJ0Rm9udFJlbGF0aXZlTGVuZ3RoVG9QeChudW1lcmljLCBwYXJlbnRGb250U2l6ZSwgY29udGV4dCk7XG4gIGNvbnN0IHVuaXQgPSBudW1lcmljLnVuaXQ7XG4gIGNvbnN0IG51bSA9IG51bWVyaWMubnVtO1xuICBpZiAodW5pdCA9PT0gXCJweFwiKSB7XG4gICAgcmV0dXJuIG51bWVyaWM7XG4gIH0gZWxzZSBpZiAodW5pdCA9PT0gXCIlXCIpIHtcbiAgICByZXR1cm4gbmV3IENzcy5OdW1lcmljKChudW0gLyAxMDApICogcGFyZW50Rm9udFNpemUsIFwicHhcIik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBDc3MuTnVtZXJpYyhudW0gKiBjb250ZXh0LnF1ZXJ5VW5pdFNpemUodW5pdCwgZmFsc2UpLCBcInB4XCIpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEFjdGlvblRhYmxlID0ge1xuICBba2V5OiBzdHJpbmddOiBDYXNjYWRlQWN0aW9uO1xufTtcblxuZXhwb3J0IGNsYXNzIENhc2NhZGVBY3Rpb24ge1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge31cblxuICBtZXJnZVdpdGgob3RoZXI6IENhc2NhZGVBY3Rpb24pOiBDYXNjYWRlQWN0aW9uIHtcbiAgICByZXR1cm4gbmV3IENvbXBvdW5kQWN0aW9uKFt0aGlzLCBvdGhlcl0pO1xuICB9XG5cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgLy8gTXV0YWJsZSBhY3Rpb25zIHdpbGwgb3ZlcnJpZGVcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29uZGl0aW9uSXRlbUFjdGlvbiBleHRlbmRzIENhc2NhZGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uSXRlbTogQ29uZGl0aW9uSXRlbSkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNhc2NhZGVJbnN0YW5jZS5wdXNoQ29uZGl0aW9uSXRlbShcbiAgICAgIHRoaXMuY29uZGl0aW9uSXRlbS5mcmVzaChjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvdW5kQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBsaXN0OiBDYXNjYWRlQWN0aW9uW10pIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5saXN0W2ldLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWVyZ2VXaXRoKG90aGVyOiBDYXNjYWRlQWN0aW9uKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgdGhpcy5saXN0LnB1c2gob3RoZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBDb21wb3VuZEFjdGlvbihbXS5jb25jYXQodGhpcy5saXN0KSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFwcGx5UnVsZUFjdGlvbiBleHRlbmRzIENhc2NhZGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHNldWRvZWxlbWVudDogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgbWVyZ2VJbihcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0LFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGUsXG4gICAgICB0aGlzLnNwZWNpZmljaXR5LFxuICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50LFxuICAgICAgdGhpcy5yZWdpb25JZCxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5idWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKHRoaXMudmlld0NvbmRpdGlvbklkKSxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGFpbmVkQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGNoYWluZWQ6IENhc2NhZGVBY3Rpb24gPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICB9XG5cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICAvLyBjYW5ub3QgYmUgbWFkZSBwcmltYXJ5XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja0NsYXNzQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBjbGFzc05hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudENsYXNzTmFtZXMuaW5jbHVkZXModGhpcy5jbGFzc05hbWUpKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAxMDtcbiAgfVxuICAvLyBjbGFzcyBzaG91bGQgYmUgY2hlY2tlZCBhZnRlciBpZFxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG1ha2VQcmltYXJ5KGNhc2NhZGU6IENhc2NhZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGFpbmVkKSB7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5jbGFzc2VzLCB0aGlzLmNsYXNzTmFtZSwgdGhpcy5jaGFpbmVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrSWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGlkOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudElkID09IHRoaXMuaWQgfHxcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50WG1sSWQgPT0gdGhpcy5pZFxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTE7XG4gIH1cbiAgLy8gaWQgc2hvdWxkIGJlIGNoZWNrZWQgYWZ0ZXIgOnJvb3RcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUuaWRzLCB0aGlzLmlkLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tMb2NhbE5hbWVBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxvY2FsTmFtZTogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lID09IHRoaXMubG9jYWxOYW1lKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA4O1xuICB9XG4gIC8vIHRhZyBpcyBhIHByZXR0eSBnb29kIHRoaW5nIHRvIGNoZWNrLCBhZnRlciBlcHViOnR5cGVcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDYXNjYWRlKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hhaW5lZCkge1xuICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUudGFncywgdGhpcy5sb2NhbE5hbWUsIHRoaXMuY2hhaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja05TVGFnQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBuczogc3RyaW5nLCBwdWJsaWMgcmVhZG9ubHkgbG9jYWxOYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZSA9PSB0aGlzLmxvY2FsTmFtZSAmJlxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnROYW1lc3BhY2UgPT0gdGhpcy5uc1xuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gODtcbiAgfVxuICAvLyB0YWcgaXMgYSBwcmV0dHkgZ29vZCB0aGluZyB0byBjaGVjaywgYWZ0ZXIgZXB1Yjp0eXBlXG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgIGxldCBwcmVmaXggPSBjYXNjYWRlLm5zUHJlZml4W3RoaXMubnNdO1xuICAgICAgaWYgKCFwcmVmaXgpIHtcbiAgICAgICAgcHJlZml4ID0gYG5zJHtjYXNjYWRlLm5zQ291bnQrK306YDtcbiAgICAgICAgY2FzY2FkZS5uc1ByZWZpeFt0aGlzLm5zXSA9IHByZWZpeDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG5zVGFnID0gcHJlZml4ICsgdGhpcy5sb2NhbE5hbWU7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5uc3RhZ3MsIG5zVGFnLCB0aGlzLmNoYWluZWQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tUYXJnZXRFcHViVHlwZUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgZXB1YlR5cGVQYXR0OiBSZWdFeHApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBlbGVtID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50O1xuICAgIGlmIChlbGVtICYmIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50TG9jYWxOYW1lID09IFwiYVwiKSB7XG4gICAgICBjb25zdCBocmVmID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgaWYgKGhyZWYgJiYgaHJlZi5tYXRjaCgvXiMvKSkge1xuICAgICAgICBjb25zdCBpZCA9IGhyZWYuc3Vic3RyaW5nKDEpO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlbGVtLm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgY29uc3QgZXB1YlR5cGUgPSB0YXJnZXQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5lcHViLCBcInR5cGVcIik7XG4gICAgICAgICAgaWYgKGVwdWJUeXBlICYmIGVwdWJUeXBlLm1hdGNoKHRoaXMuZXB1YlR5cGVQYXR0KSkge1xuICAgICAgICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDaGVja05hbWVzcGFjZUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZSA9PSB0aGlzLm5zKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZywgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudCAmJlxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZU5TKHRoaXMubnMsIHRoaXMubmFtZSlcbiAgICApIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBdHRyaWJ1dGVFcUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbnM6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWx1ZTogc3RyaW5nLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQgJiZcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGVOUyh0aGlzLm5zLCB0aGlzLm5hbWUpID09XG4gICAgICAgIHRoaXMudmFsdWVcbiAgICApIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMubmFtZSA9PSBcInR5cGVcIiAmJiB0aGlzLm5zID09IEJhc2UuTlMuZXB1Yikge1xuICAgICAgcmV0dXJuIDk7IC8vIGVwdWI6dHlwZSBpcyBhIHByZXR0eSBnb29kIHRoaW5nIHRvIGNoZWNrXG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm5hbWUgPT0gXCJ0eXBlXCIgJiYgdGhpcy5ucyA9PSBCYXNlLk5TLmVwdWIpIHtcbiAgICAgIGlmICh0aGlzLmNoYWluZWQpIHtcbiAgICAgICAgY2FzY2FkZS5pbnNlcnRJblRhYmxlKGNhc2NhZGUuZXB1YnR5cGVzLCB0aGlzLnZhbHVlLCB0aGlzLmNoYWluZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tOYW1lc3BhY2VTdXBwb3J0ZWRBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5zOiBzdHJpbmcsIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50KSB7XG4gICAgICBjb25zdCBucyA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgdGhpcy5ucyxcbiAgICAgICAgdGhpcy5uYW1lLFxuICAgICAgKTtcbiAgICAgIGlmIChucyAmJiBzdXBwb3J0ZWROYW1lc3BhY2VzW25zXSkge1xuICAgICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZVByaW1hcnkoY2FzY2FkZTogQ2FzY2FkZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG5zOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IG5hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnZXhwOiBSZWdFeHAsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGlmIChjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGF0dHIgPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoXG4gICAgICAgIHRoaXMubnMsXG4gICAgICAgIHRoaXMubmFtZSxcbiAgICAgICk7XG4gICAgICBpZiAoYXR0ciAmJiBhdHRyLm1hdGNoKHRoaXMucmVnZXhwKSkge1xuICAgICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrTGFuZ0FjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbGFuZ1JlZ0V4cDogUmVnRXhwKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5sYW5nLm1hdGNoKHRoaXMubGFuZ1JlZ0V4cCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNGaXJzdEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmlzRmlyc3QpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDY7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzUm9vdEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBpZiAoY2FzY2FkZUluc3RhbmNlLmlzUm9vdCkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gMTI7IC8vIDpyb290IGlzIHRoZSBmaXJzdCB0aGluZyB0byBjaGVja1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc050aEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgYTogbnVtYmVyLCBwdWJsaWMgcmVhZG9ubHkgYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja2VzIHdoZXRoZXIgZ2l2ZW4gb3JkZXIgY2FuIGJlIHJlcHJlc2VudGVkIGFzIGFuK2Igd2l0aCBhIG5vbi1uZWdhdGl2ZVxuICAgKiBpbnRlcmdlciBuXG4gICAqL1xuICBwcm90ZWN0ZWQgbWF0Y2hBTlBsdXNCKG9yZGVyOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICByZXR1cm4gTWF0Y2hlcnMubWF0Y2hBTlBsdXNCKG9yZGVyLCB0aGlzLmEsIHRoaXMuYik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTnRoU2libGluZ0FjdGlvbiBleHRlbmRzIElzTnRoQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBzdXBlcihhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWF0Y2hBTlBsdXNCKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50U2libGluZ09yZGVyKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uIGV4dGVuZHMgSXNOdGhBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihhOiBudW1iZXIsIGI6IG51bWJlcikge1xuICAgIHN1cGVyKGEsIGIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBvcmRlciA9XG4gICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFNpYmxpbmdUeXBlQ291bnRzW1xuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudE5hbWVzcGFjZVxuICAgICAgXVtjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZV07XG4gICAgaWYgKHRoaXMubWF0Y2hBTlBsdXNCKG9yZGVyKSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNOdGhMYXN0U2libGluZ0FjdGlvbiBleHRlbmRzIElzTnRoQWN0aW9uIHtcbiAgY29uc3RydWN0b3IoYTogbnVtYmVyLCBiOiBudW1iZXIpIHtcbiAgICBzdXBlcihhLCBiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgbGV0IG9yZGVyID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nT3JkZXI7XG4gICAgaWYgKG9yZGVyID09PSBudWxsKSB7XG4gICAgICBvcmRlciA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID1cbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50LnBhcmVudE5vZGUuY2hpbGRFbGVtZW50Q291bnQgLVxuICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudFNpYmxpbmdPcmRlciArXG4gICAgICAgIDE7XG4gICAgfVxuICAgIGlmICh0aGlzLm1hdGNoQU5QbHVzQihvcmRlcikpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzTnRoTGFzdFNpYmxpbmdPZlR5cGVBY3Rpb24gZXh0ZW5kcyBJc050aEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGE6IG51bWJlciwgYjogbnVtYmVyKSB7XG4gICAgc3VwZXIoYSwgYik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGNvdW50cyA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHM7XG4gICAgaWYgKCFjb3VudHNbY2FzY2FkZUluc3RhbmNlLmN1cnJlbnROYW1lc3BhY2VdKSB7XG4gICAgICBsZXQgZWxlbSA9IGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50RWxlbWVudDtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgbnMgPSBlbGVtLm5hbWVzcGFjZVVSSTtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gZWxlbS5sb2NhbE5hbWU7XG4gICAgICAgIGxldCBuc0NvdW50cyA9IGNvdW50c1tuc107XG4gICAgICAgIGlmICghbnNDb3VudHMpIHtcbiAgICAgICAgICBuc0NvdW50cyA9IGNvdW50c1tuc10gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBuc0NvdW50c1tsb2NhbE5hbWVdID0gKG5zQ291bnRzW2xvY2FsTmFtZV0gfHwgMCkgKyAxO1xuICAgICAgfSB3aGlsZSAoKGVsZW0gPSBlbGVtLm5leHRFbGVtZW50U2libGluZykpO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0aGlzLm1hdGNoQU5QbHVzQihcbiAgICAgICAgY291bnRzW2Nhc2NhZGVJbnN0YW5jZS5jdXJyZW50TmFtZXNwYWNlXVtcbiAgICAgICAgICBjYXNjYWRlSW5zdGFuY2UuY3VycmVudExvY2FsTmFtZVxuICAgICAgICBdLFxuICAgICAgKVxuICAgICkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNFbXB0eUFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBsZXQgbm9kZTogTm9kZSB8IG51bGwgPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgIGNhc2UgTm9kZS5FTEVNRU5UX05PREU6XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICAgIGlmICgobm9kZSBhcyBUZXh0KS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSXNFbmFibGVkQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKChlbGVtIGFzIGFueSkuZGlzYWJsZWQgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0Rpc2FibGVkQWN0aW9uIGV4dGVuZHMgQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGVsZW0gPSBjYXNjYWRlSW5zdGFuY2UuY3VycmVudEVsZW1lbnQ7XG4gICAgaWYgKChlbGVtIGFzIGFueSkuZGlzYWJsZWQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzQ2hlY2tlZEFjdGlvbiBleHRlbmRzIENoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBlbGVtID0gY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRFbGVtZW50O1xuICAgIGlmICgoZWxlbSBhcyBhbnkpLnNlbGVjdGVkID09PSB0cnVlIHx8IChlbGVtIGFzIGFueSkuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5jaGFpbmVkLmFwcGx5KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tDb25kaXRpb25BY3Rpb24gZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGNvbmRpdGlvbjogc3RyaW5nKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jb25kaXRpb25zW3RoaXMuY29uZGl0aW9uXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmRlcGVuZGVudENvbmRpdGlvbnMucHVzaCh0aGlzLmNvbmRpdGlvbik7XG4gICAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY2FzY2FkZUluc3RhbmNlLmRlcGVuZGVudENvbmRpdGlvbnMucG9wKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hlY2tBcHBsaWVkQWN0aW9uIGV4dGVuZHMgQ2FzY2FkZUFjdGlvbiB7XG4gIGFwcGxpZWQgPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICB0aGlzLmFwcGxpZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogQ2FzY2FkZUFjdGlvbiB7XG4gICAgY29uc3QgY2xvbmVkID0gbmV3IENoZWNrQXBwbGllZEFjdGlvbigpO1xuICAgIGNsb25lZC5hcHBsaWVkID0gdGhpcy5hcHBsaWVkO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5lZ2F0ZUFjdGlvbnNTZXQgZXh0ZW5kcyBDaGFpbmVkQWN0aW9uIHtcbiAgY2hlY2tBcHBsaWVkQWN0aW9uOiBDaGVja0FwcGxpZWRBY3Rpb247XG4gIGZpcnN0QWN0aW9uOiBDYXNjYWRlQWN0aW9uO1xuXG4gIGNvbnN0cnVjdG9yKGxpc3Q6IENoYWluZWRBY3Rpb25bXSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGVja0FwcGxpZWRBY3Rpb24gPSBuZXcgQ2hlY2tBcHBsaWVkQWN0aW9uKCk7XG4gICAgdGhpcy5maXJzdEFjdGlvbiA9IGNoYWluQWN0aW9ucyhsaXN0LCB0aGlzLmNoZWNrQXBwbGllZEFjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIHRoaXMuZmlyc3RBY3Rpb24uYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICBpZiAoIXRoaXMuY2hlY2tBcHBsaWVkQWN0aW9uLmFwcGxpZWQpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgICB0aGlzLmNoZWNrQXBwbGllZEFjdGlvbi5hcHBsaWVkID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAodGhpcy5maXJzdEFjdGlvbiBhcyBDaGFpbmVkQWN0aW9uKS5nZXRQcmlvcml0eSgpO1xuICB9XG59XG5cbi8qKlxuICogQW4gb2JqZWN0IHRoYXQgaXMgbm90aWZpZWQgYXMgZWxlbWVudHMgYXJlIHB1c2hlZCBhbmQgcG9wcGVkIGFuZCB0eXBpY2FsbHlcbiAqIGNvbnRyb2xzIGEgXCJuYW1lZCBjb25kaXRpb25cIiAod2hpY2ggaXMgYSBjb3VudCBhc3NvY2lhdGVkIHdpdGggYSBuYW1lKS5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25kaXRpb25JdGVtIHtcbiAgLyoqXG4gICAqIFJldHVybnMgYSBcImZyZXNoXCIgY29weSBvZiB0aGlzIGl0ZW0uIE1heSBiZSB0aGlzIGlmIGltbXV0YWJsZS5cbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbTtcblxuICAvKipcbiAgICogRGVwdGggaXMgMCBmb3IgZWxlbWVudCBpdHNlbGYgYW5kIGl0cyBzaWJsaW5ncywgMSBmb3IgZGlyZWN0IGNoaWxkcmVuIGFuZFxuICAgKiAtMSBmb3IgdGhlIHBhcmVudC5cbiAgICovXG4gIHB1c2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHJldHVybiB0cnVlIGlmIG5vIG1vcmUgbm90aWZpY2F0aW9ucyBhcmUgZGVzaXJlZFxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNsYXNzIEFic3RyYWN0Q29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb25kaXRpb246IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHt9XG5cbiAgaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKSB7XG4gICAgY2FzY2FkZUluc3RhbmNlLmluY3JlbWVudCh0aGlzLmNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIGRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSkge1xuICAgIGNhc2NhZGVJbnN0YW5jZS5kZWNyZW1lbnQodGhpcy5jb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbik7XG4gIH1cblxuICBidWlsZFZpZXdDb25kaXRpb25NYXRjaGVyKFxuICAgIGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLFxuICApOiBNYXRjaGVycy5NYXRjaGVyIHtcbiAgICByZXR1cm4gY2FzY2FkZUluc3RhbmNlLmJ1aWxkVmlld0NvbmRpdGlvbk1hdGNoZXIodGhpcy52aWV3Q29uZGl0aW9uSWQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZXNjZW5kYW50Q29uZGl0aW9uSXRlbSBleHRlbmRzIEFic3RyYWN0Q29uZGl0aW9uSXRlbVxuICBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBjb25kaXRpb246IHN0cmluZyxcbiAgICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcixcbiAgKSB7XG4gICAgc3VwZXIoY29uZGl0aW9uLCB2aWV3Q29uZGl0aW9uSWQsIHZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gbmV3IERlc2NlbmRhbnRDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2hpbGRDb25kaXRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb25kaXRpb25JdGVtXG4gIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbmRpdGlvbjogc3RyaW5nLFxuICAgIHZpZXdDb25kaXRpb25JZDogc3RyaW5nIHwgbnVsbCxcbiAgICB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyLFxuICApIHtcbiAgICBzdXBlcihjb25kaXRpb24sIHZpZXdDb25kaXRpb25JZCwgdmlld0NvbmRpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiBuZXcgQ2hpbGRDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfSBlbHNlIGlmIChkZXB0aCA9PSAxKSB7XG4gICAgICB0aGlzLmRlY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3AoY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UsIGRlcHRoOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBpZiAoZGVwdGggPT0gMCkge1xuICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZGVwdGggPT0gMSkge1xuICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtIGV4dGVuZHMgQWJzdHJhY3RDb25kaXRpb25JdGVtXG4gIGltcGxlbWVudHMgQ29uZGl0aW9uSXRlbSB7XG4gIGZpcmVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29uZGl0aW9uOiBzdHJpbmcsXG4gICAgdmlld0NvbmRpdGlvbklkOiBzdHJpbmcgfCBudWxsLFxuICAgIHZpZXdDb25kaXRpb246IE1hdGNoZXJzLk1hdGNoZXIsXG4gICkge1xuICAgIHN1cGVyKGNvbmRpdGlvbiwgdmlld0NvbmRpdGlvbklkLCB2aWV3Q29uZGl0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIG5ldyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIC8vIExlYXZpbmcgZWxlbWVudCB0aGF0IHRyaWdnZXJlZCB0aGlzIGl0ZW0uXG4gICAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9sbG93aW5nU2libGluZ0NvbmRpdGlvbkl0ZW0gZXh0ZW5kcyBBYnN0cmFjdENvbmRpdGlvbkl0ZW1cbiAgaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgZmlyZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb25kaXRpb246IHN0cmluZyxcbiAgICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcixcbiAgKSB7XG4gICAgc3VwZXIoY29uZGl0aW9uLCB2aWV3Q29uZGl0aW9uSWQsIHZpZXdDb25kaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZnJlc2goY2FzY2FkZUluc3RhbmNlOiBDYXNjYWRlSW5zdGFuY2UpOiBDb25kaXRpb25JdGVtIHtcbiAgICByZXR1cm4gbmV3IEZvbGxvd2luZ1NpYmxpbmdDb25kaXRpb25JdGVtKFxuICAgICAgdGhpcy5jb25kaXRpb24sXG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCxcbiAgICAgIHRoaXMuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihjYXNjYWRlSW5zdGFuY2UpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgIGlmIChkZXB0aCA9PSAtMSkge1xuICAgICAgICB0aGlzLmluY3JlbWVudChjYXNjYWRlSW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICAgIHRoaXMuZGVjcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLmZpcmVkKSB7XG4gICAgICBpZiAoZGVwdGggPT0gLTEpIHtcbiAgICAgICAgdGhpcy5kZWNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgdGhpcy5pbmNyZW1lbnQoY2FzY2FkZUluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgICAgLy8gTGVhdmluZyBlbGVtZW50IHRoYXQgdHJpZ2dlcmVkIHRoaXMgaXRlbS5cbiAgICAgICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuaW5jcmVtZW50KGNhc2NhZGVJbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIE5vdCBhIHRydWUgY29uZGl0aW9uIGl0ZW0sIHRoaXMgY2xhc3MgbWFuYWdlcyBwcm9wZXIgaGFuZGxpbmcgb2YgXCJhZnRlclwiXG4gKiBwc2V1ZG9lbGVtZW50LlxuICovXG5leHBvcnQgY2xhc3MgQWZ0ZXJQc2V1ZG9lbGVtZW50SXRlbSBpbXBsZW1lbnRzIENvbmRpdGlvbkl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWZ0ZXJwcm9wOiBFbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnQ6IEVsZW1lbnQsXG4gICkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICBjYXNjYWRlSW5zdGFuY2UucHJvY2Vzc1BzZXVkb2VsZW1lbnRQcm9wcyh0aGlzLmFmdGVycHJvcCwgdGhpcy5lbGVtZW50KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3QgYSB0cnVlIGNvbmRpdGlvbiBpdGVtLCB0aGlzIGNsYXNzIHJlc3RvcmVzIGN1cnJlbnQgbGFuZ3VhZ2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXN0b3JlTGFuZ0l0ZW0gaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGxhbmc6IHN0cmluZykge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmcmVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSk6IENvbmRpdGlvbkl0ZW0ge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHVzaChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvcChjYXNjYWRlSW5zdGFuY2U6IENhc2NhZGVJbnN0YW5jZSwgZGVwdGg6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIGlmIChkZXB0aCA9PSAwKSB7XG4gICAgICBjYXNjYWRlSW5zdGFuY2UubGFuZyA9IHRoaXMubGFuZztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBOb3QgYSB0cnVlIGNvbmRpdGlvbiBpdGVtLCB0aGlzIGNsYXNzIG1hbmFnZXMgaW5oZXJpdGFuY2Ugb2YgcXVvdGVzIHByb3BlcnR5XG4gKi9cbmV4cG9ydCBjbGFzcyBRdW90ZXNTY29wZUl0ZW0gaW1wbGVtZW50cyBDb25kaXRpb25JdGVtIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG9sZFF1b3RlczogQ3NzLlN0cltdKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZyZXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlKTogQ29uZGl0aW9uSXRlbSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwdXNoKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9wKGNhc2NhZGVJbnN0YW5jZTogQ2FzY2FkZUluc3RhbmNlLCBkZXB0aDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKGRlcHRoID09IDApIHtcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5xdW90ZXMgPSB0aGlzLm9sZFF1b3RlcztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbmV4cG9ydCB0eXBlIENvdW50ZXJWYWx1ZXMgPSB7XG4gIFtrZXk6IHN0cmluZ106IG51bWJlcltdO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBDb3VudGVyTGlzdGVuZXIge1xuICBjb3VudGVyc09mSWQoaWQ6IHN0cmluZywgY291bnRlcnM6IENvdW50ZXJWYWx1ZXMpO1xuXG4gIGdldEV4cHJDb250ZW50TGlzdGVuZXIoKTogVnRyZWUuRXhwckNvbnRlbnRMaXN0ZW5lcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUmVzb2x2ZXIge1xuICAvKipcbiAgICogUmV0dXJucyBhbiBFeHBycy5WYWwsIHdob3NlIHZhbHVlIGlzIGNhbGN1bGF0ZWQgYXQgdGhlIGxheW91dCB0aW1lIGJ5XG4gICAqIHJldHJpZXZpbmcgdGhlIGlubmVybW9zdCBwYWdlLWJhc2VkIGNvdW50ZXIgKG51bGwgaWYgaXQgZG9lcyBub3QgZXhpc3QpIGJ5XG4gICAqIGl0cyBuYW1lIGFuZCBmb3JtYXR0aW5nIHRoZSB2YWx1ZSBpbnRvIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXIgdG8gYmUgcmV0cmlldmVkXG4gICAqIEBwYXJhbSBmb3JtYXQgQSBmdW5jdGlvbiB0aGF0IGZvcm1hdHMgdGhlIGNvdW50ZXIgdmFsdWUgaW50byBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0UGFnZUNvdW50ZXJWYWwoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXIgfCBudWxsKSA9PiBzdHJpbmcsXG4gICk6IEV4cHJzLlZhbDtcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBFeHBycy5WYWwsIHdob3NlIHZhbHVlIGlzIGNhbGN1bGF0ZWQgYXQgdGhlIGxheW91dCB0aW1lIGJ5XG4gICAqIHJldHJpZXZpbmcgdGhlIHBhZ2UtYmFzZWQgY291bnRlcnMgYnkgaXRzIG5hbWUgYW5kIGZvcm1hdHRpbmcgdGhlIHZhbHVlc1xuICAgKiBpbnRvIGEgc3RyaW5nLlxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBwYWdlLWJhc2VkIGNvdW50ZXJzIHRvIGJlIHJldHJpZXZlZFxuICAgKiBAcGFyYW0gZm9ybWF0IEEgZnVuY3Rpb24gdGhhdCBmb3JtYXRzIHRoZSBjb3VudGVyIHZhbHVlcyAocGFzc2VkIGFzIGFuXG4gICAqICAgICBhcnJheSBvcmRlcmVkIGJ5IHRoZSBuZXN0aW5nIGRlcHRoIHdpdGggdGhlIG91dGVybW9zdCBjb3VudGVyIGZpcnN0IGFuZFxuICAgKiAgICAgdGhlIGlubmVybW9zdCBsYXN0KSBpbnRvIGEgc3RyaW5nXG4gICAqL1xuICBnZXRQYWdlQ291bnRlcnNWYWwobmFtZTogc3RyaW5nLCBmb3JtYXQ6IChwMTogbnVtYmVyW10pID0+IHN0cmluZyk6IEV4cHJzLlZhbDtcblxuICBnZXRUYXJnZXRDb3VudGVyVmFsKFxuICAgIHVybDogc3RyaW5nLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBmb3JtYXQ6IChwMTogbnVtYmVyIHwgbnVsbCkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWw7XG5cbiAgZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGZvcm1hdDogKHAxOiBudW1iZXJbXSkgPT4gc3RyaW5nLFxuICApOiBFeHBycy5WYWw7XG5cbiAgc2V0U3R5bGVyKHN0eWxlcjogYW55KTtcbn1cblxuZXhwb3J0IGNsYXNzIEF0dHJWYWx1ZUZpbHRlclZpc2l0b3IgZXh0ZW5kcyBDc3MuRmlsdGVyVmlzaXRvciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBlbGVtZW50OiBFbGVtZW50KSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVmFsdWVGcm9tU3RyaW5nKHN0cjogc3RyaW5nIHwgbnVsbCwgdHlwZTogc3RyaW5nKTogQ3NzLlZhbCB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENzcy5VUkwoc3RyKTsgLy8gVE9ETyBzaG91bGQgY29udmVydCB0byBhYnNvbHV0ZSBwYXRoXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuVVJMKFwiYWJvdXQ6aW52YWxpZFwiKTtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChzdHIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoc3RyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IENzcy5TdHIoXCJcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgaWYgKGZ1bmMubmFtZSAhPT0gXCJhdHRyXCIpIHtcbiAgICAgIHJldHVybiBzdXBlci52aXNpdEZ1bmMoZnVuYyk7XG4gICAgfVxuICAgIGxldCB0eXBlID0gXCJzdHJpbmdcIjtcbiAgICBsZXQgYXR0cmlidXRlTmFtZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IGRlZmF1bHRWYWx1ZTogQ3NzLlZhbCA9IG51bGw7XG4gICAgaWYgKGZ1bmMudmFsdWVzWzBdIGluc3RhbmNlb2YgQ3NzLlNwYWNlTGlzdCkge1xuICAgICAgY29uc3QgdmFsdWVzID0gKGZ1bmMudmFsdWVzWzBdIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlcztcbiAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdHlwZSA9IHZhbHVlc1sxXS5zdHJpbmdWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgYXR0cmlidXRlTmFtZSA9IHZhbHVlc1swXS5zdHJpbmdWYWx1ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdHRyaWJ1dGVOYW1lID0gZnVuYy52YWx1ZXNbMF0uc3RyaW5nVmFsdWUoKTtcbiAgICB9XG4gICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHRoaXMuY3JlYXRlVmFsdWVGcm9tU3RyaW5nKFxuICAgICAgICBmdW5jLnZhbHVlc1sxXS5zdHJpbmdWYWx1ZSgpLFxuICAgICAgICB0eXBlLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmYXVsdFZhbHVlID0gdGhpcy5jcmVhdGVWYWx1ZUZyb21TdHJpbmcobnVsbCwgdHlwZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmVsZW1lbnQgJiYgdGhpcy5lbGVtZW50Lmhhc0F0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlVmFsdWVGcm9tU3RyaW5nKFxuICAgICAgICB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpLFxuICAgICAgICB0eXBlLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29udGVudFByb3BWaXNpdG9yIGV4dGVuZHMgQ3NzLkZpbHRlclZpc2l0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY2FzY2FkZTogQ2FzY2FkZUluc3RhbmNlLFxuICAgIHB1YmxpYyBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjb3VudGVyUmVzb2x2ZXI6IENvdW50ZXJSZXNvbHZlcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGNhc2NhZGUgPSB0aGlzLmNhc2NhZGU7XG4gICAgY29uc3QgcXVvdGVzID0gY2FzY2FkZS5xdW90ZXM7XG4gICAgY29uc3QgbWF4RGVwdGggPSBNYXRoLmZsb29yKHF1b3Rlcy5sZW5ndGggLyAyKSAtIDE7XG4gICAgc3dpdGNoIChpZGVudC5uYW1lKSB7XG4gICAgICBjYXNlIFwib3Blbi1xdW90ZVwiOiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHF1b3Rlc1syICogTWF0aC5taW4obWF4RGVwdGgsIGNhc2NhZGUucXVvdGVEZXB0aCldO1xuICAgICAgICBjYXNjYWRlLnF1b3RlRGVwdGgrKztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJjbG9zZS1xdW90ZVwiOlxuICAgICAgICBpZiAoY2FzY2FkZS5xdW90ZURlcHRoID4gMCkge1xuICAgICAgICAgIGNhc2NhZGUucXVvdGVEZXB0aC0tO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdW90ZXNbMiAqIE1hdGgubWluKG1heERlcHRoLCBjYXNjYWRlLnF1b3RlRGVwdGgpICsgMV07XG4gICAgICBjYXNlIFwibm8tb3Blbi1xdW90ZVwiOlxuICAgICAgICBjYXNjYWRlLnF1b3RlRGVwdGgrKztcbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuU3RyKFwiXCIpO1xuICAgICAgY2FzZSBcIm5vLWNsb3NlLXF1b3RlXCI6XG4gICAgICAgIGlmIChjYXNjYWRlLnF1b3RlRGVwdGggPiAwKSB7XG4gICAgICAgICAgY2FzY2FkZS5xdW90ZURlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDc3MuU3RyKFwiXCIpO1xuICAgIH1cbiAgICByZXR1cm4gaWRlbnQ7XG4gIH1cblxuICBwcml2YXRlIGZvcm1hdChudW06IG51bWJlciwgdHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBsZXQgdXBwZXIgPSBmYWxzZTsgLy8gdHlwZSA9PSBcImFybWVuaWFuXCI7XG4gICAgLy8gY29udGVudC1jb3VudGVyLTEwLnhodCBhc3N1bWVzIGFybWVuaWFuIGlzIHVwcGVyY2FzZSwgZW5hYmxlIGlmIGRlc2lyZWRcblxuICAgIGxldCBsb3dlciA9IGZhbHNlO1xuICAgIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgIGlmICgociA9IHR5cGUubWF0Y2goL151cHBlci0oLiopLykpICE9IG51bGwpIHtcbiAgICAgIHVwcGVyID0gdHJ1ZTtcbiAgICAgIHR5cGUgPSByWzFdO1xuICAgIH0gZWxzZSBpZiAoKHIgPSB0eXBlLm1hdGNoKC9ebG93ZXItKC4qKS8pKSAhPSBudWxsKSB7XG4gICAgICBsb3dlciA9IHRydWU7XG4gICAgICB0eXBlID0gclsxXTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgaWYgKGFkZGl0aXZlTnVtYmVyaW5nW3R5cGVdKSB7XG4gICAgICByZXN1bHQgPSBhZGRpdGl2ZUZvcm1hdChhZGRpdGl2ZU51bWJlcmluZ1t0eXBlXSwgbnVtKTtcbiAgICB9IGVsc2UgaWYgKGFscGhhYmV0aWNOdW1iZXJpbmdbdHlwZV0pIHtcbiAgICAgIHJlc3VsdCA9IGFscGhhYmV0aWNGb3JtYXQoYWxwaGFiZXRpY051bWJlcmluZ1t0eXBlXSwgbnVtKTtcbiAgICB9IGVsc2UgaWYgKGZpeGVkW3R5cGVdICE9IG51bGwpIHtcbiAgICAgIHJlc3VsdCA9IGZpeGVkW3R5cGVdO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImRlY2ltYWwtbGVhZGluZy16ZXJvXCIpIHtcbiAgICAgIHJlc3VsdCA9IGAke251bX1gO1xuICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBgMCR7cmVzdWx0fWA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiY2prLWlkZW9ncmFwaGljXCIgfHwgdHlwZSA9PSBcInRyYWQtY2hpbmVzZS1pbmZvcm1hbFwiKSB7XG4gICAgICByZXN1bHQgPSBjaGluZXNlQ291bnRlcihudW0sIGNoaW5lc2VUcmFkSW5mb3JtYWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBgJHtudW19YDtcbiAgICB9XG4gICAgaWYgKHVwcGVyKSB7XG4gICAgICByZXR1cm4gcmVzdWx0LnRvVXBwZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmIChsb3dlcikge1xuICAgICAgcmV0dXJuIHJlc3VsdC50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmlzaXRGdW5jQ291bnRlcih2YWx1ZXM6IENzcy5WYWxbXSk6IENzcy5WYWwge1xuICAgIGNvbnN0IGNvdW50ZXJOYW1lID0gdmFsdWVzWzBdLnRvU3RyaW5nKCk7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlcy5sZW5ndGggPiAxID8gdmFsdWVzWzFdLnN0cmluZ1ZhbHVlKCkgOiBcImRlY2ltYWxcIjtcbiAgICBjb25zdCBhcnIgPSB0aGlzLmNhc2NhZGUuY291bnRlcnNbY291bnRlck5hbWVdO1xuICAgIGlmIChhcnIgJiYgYXJyLmxlbmd0aCkge1xuICAgICAgY29uc3QgbnVtdmFsID0gKGFyciAmJiBhcnIubGVuZ3RoICYmIGFyclthcnIubGVuZ3RoIC0gMV0pIHx8IDA7XG4gICAgICByZXR1cm4gbmV3IENzcy5TdHIodGhpcy5mb3JtYXQobnVtdmFsLCB0eXBlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0UGFnZUNvdW50ZXJWYWwoY291bnRlck5hbWUsIChudW12YWwpID0+XG4gICAgICAgICAgc2VsZi5mb3JtYXQobnVtdmFsIHx8IDAsIHR5cGUpLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICAgIH1cbiAgfVxuXG4gIHZpc2l0RnVuY0NvdW50ZXJzKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgY291bnRlck5hbWUgPSB2YWx1ZXNbMF0udG9TdHJpbmcoKTtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSB2YWx1ZXNbMV0uc3RyaW5nVmFsdWUoKTtcbiAgICBjb25zdCB0eXBlID0gdmFsdWVzLmxlbmd0aCA+IDIgPyB2YWx1ZXNbMl0uc3RyaW5nVmFsdWUoKSA6IFwiZGVjaW1hbFwiO1xuICAgIGNvbnN0IGFyciA9IHRoaXMuY2FzY2FkZS5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICBpZiAoYXJyICYmIGFyci5sZW5ndGgpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIHNiLmFwcGVuZChzZXBhcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHNiLmFwcGVuZCh0aGlzLmZvcm1hdChhcnJbaV0sIHR5cGUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgIHRoaXMuY291bnRlclJlc29sdmVyLmdldFBhZ2VDb3VudGVyc1ZhbChjb3VudGVyTmFtZSwgKG51bXZhbHMpID0+IHtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICAgICAgaWYgKG51bXZhbHMubGVuZ3RoKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW12YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHNlbGYuZm9ybWF0KG51bXZhbHNbaV0sIHR5cGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWxlbWVudENvdW50ZXJzID0gc2IudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKGVsZW1lbnRDb3VudGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKGVsZW1lbnRDb3VudGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBwYXJ0cy5qb2luKHNlcGFyYXRvcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuZm9ybWF0KDAsIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICB9XG5cbiAgdmlzaXRGdW5jVGFyZ2V0Q291bnRlcih2YWx1ZXM6IENzcy5WYWxbXSk6IENzcy5WYWwge1xuICAgIGNvbnN0IHRhcmdldFVybCA9IHZhbHVlc1swXTtcbiAgICBsZXQgdGFyZ2V0VXJsU3RyOiBzdHJpbmc7XG4gICAgaWYgKHRhcmdldFVybCBpbnN0YW5jZW9mIENzcy5VUkwpIHtcbiAgICAgIHRhcmdldFVybFN0ciA9IHRhcmdldFVybC51cmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldFVybFN0ciA9IHRhcmdldFVybC5zdHJpbmdWYWx1ZSgpO1xuICAgIH1cbiAgICBjb25zdCBjb3VudGVyTmFtZSA9IHZhbHVlc1sxXS50b1N0cmluZygpO1xuICAgIGNvbnN0IHR5cGUgPSB2YWx1ZXMubGVuZ3RoID4gMiA/IHZhbHVlc1syXS5zdHJpbmdWYWx1ZSgpIDogXCJkZWNpbWFsXCI7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYyA9IG5ldyBDc3MuRXhwcihcbiAgICAgIHRoaXMuY291bnRlclJlc29sdmVyLmdldFRhcmdldENvdW50ZXJWYWwoXG4gICAgICAgIHRhcmdldFVybFN0cixcbiAgICAgICAgY291bnRlck5hbWUsXG4gICAgICAgIChudW12YWwpID0+IHNlbGYuZm9ybWF0KG51bXZhbCB8fCAwLCB0eXBlKSxcbiAgICAgICksXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IENzcy5TcGFjZUxpc3QoW2NdKTtcbiAgfVxuXG4gIHZpc2l0RnVuY1RhcmdldENvdW50ZXJzKHZhbHVlczogQ3NzLlZhbFtdKTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdGFyZ2V0VXJsID0gdmFsdWVzWzBdO1xuICAgIGxldCB0YXJnZXRVcmxTdHI6IHN0cmluZztcbiAgICBpZiAodGFyZ2V0VXJsIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0VXJsU3RyID0gdGFyZ2V0VXJsLnN0cmluZ1ZhbHVlKCk7XG4gICAgfVxuICAgIGNvbnN0IGNvdW50ZXJOYW1lID0gdmFsdWVzWzFdLnRvU3RyaW5nKCk7XG4gICAgY29uc3Qgc2VwYXJhdG9yID0gdmFsdWVzWzJdLnN0cmluZ1ZhbHVlKCk7XG4gICAgY29uc3QgdHlwZSA9IHZhbHVlcy5sZW5ndGggPiAzID8gdmFsdWVzWzNdLnN0cmluZ1ZhbHVlKCkgOiBcImRlY2ltYWxcIjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBjID0gbmV3IENzcy5FeHByKFxuICAgICAgdGhpcy5jb3VudGVyUmVzb2x2ZXIuZ2V0VGFyZ2V0Q291bnRlcnNWYWwoXG4gICAgICAgIHRhcmdldFVybFN0cixcbiAgICAgICAgY291bnRlck5hbWUsXG4gICAgICAgIChudW12YWxzKSA9PiB7XG4gICAgICAgICAgY29uc3QgcGFydHMgPSBudW12YWxzLm1hcCgobnVtdmFsKSA9PiBzZWxmLmZvcm1hdChudW12YWwsIHR5cGUpKTtcbiAgICAgICAgICBpZiAocGFydHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydHMuam9pbihzZXBhcmF0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5mb3JtYXQoMCwgdHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApO1xuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChbY10pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRGdW5jKGZ1bmM6IENzcy5GdW5jKTogQ3NzLlZhbCB7XG4gICAgc3dpdGNoIChmdW5jLm5hbWUpIHtcbiAgICAgIGNhc2UgXCJjb3VudGVyXCI6XG4gICAgICAgIGlmIChmdW5jLnZhbHVlcy5sZW5ndGggPD0gMikge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0RnVuY0NvdW50ZXIoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNvdW50ZXJzXCI6XG4gICAgICAgIGlmIChmdW5jLnZhbHVlcy5sZW5ndGggPD0gMykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0RnVuY0NvdW50ZXJzKGZ1bmMudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YXJnZXQtY291bnRlclwiOlxuICAgICAgICBpZiAoZnVuYy52YWx1ZXMubGVuZ3RoIDw9IDMpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdEZ1bmNUYXJnZXRDb3VudGVyKGZ1bmMudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YXJnZXQtY291bnRlcnNcIjpcbiAgICAgICAgaWYgKGZ1bmMudmFsdWVzLmxlbmd0aCA8PSA0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudmlzaXRGdW5jVGFyZ2V0Q291bnRlcnMoZnVuYy52YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9DU1NfQ09OVEVOVF9QUk9QOlwiLCBmdW5jLnRvU3RyaW5nKCkpO1xuICAgIHJldHVybiBuZXcgQ3NzLlN0cihcIlwiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcm9tYW4obnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAobnVtIDw9IDAgfHwgbnVtICE9IE1hdGgucm91bmQobnVtKSB8fCBudW0gPiAzOTk5KSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgY29uc3QgZGlnaXRzID0gW1wiSVwiLCBcIlZcIiwgXCJYXCIsIFwiTFwiLCBcIkNcIiwgXCJEXCIsIFwiTVwiXTtcbiAgbGV0IG9mZnNldCA9IDA7XG4gIGxldCBhY2MgPSBcIlwiO1xuICB3aGlsZSAobnVtID4gMCkge1xuICAgIGxldCBkaWdpdCA9IG51bSAlIDEwO1xuICAgIG51bSA9IChudW0gLSBkaWdpdCkgLyAxMDtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBpZiAoZGlnaXQgPT0gOSkge1xuICAgICAgcmVzdWx0ICs9IGRpZ2l0c1tvZmZzZXRdICsgZGlnaXRzW29mZnNldCArIDJdO1xuICAgIH0gZWxzZSBpZiAoZGlnaXQgPT0gNCkge1xuICAgICAgcmVzdWx0ICs9IGRpZ2l0c1tvZmZzZXRdICsgZGlnaXRzW29mZnNldCArIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZGlnaXQgPj0gNSkge1xuICAgICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldCArIDFdO1xuICAgICAgICBkaWdpdCAtPSA1O1xuICAgICAgfVxuICAgICAgd2hpbGUgKGRpZ2l0ID4gMCkge1xuICAgICAgICByZXN1bHQgKz0gZGlnaXRzW29mZnNldF07XG4gICAgICAgIGRpZ2l0LS07XG4gICAgICB9XG4gICAgfVxuICAgIGFjYyA9IHJlc3VsdCArIGFjYztcbiAgICBvZmZzZXQgKz0gMjtcbiAgfVxuICByZXR1cm4gYWNjO1xufVxuXG5leHBvcnQgY29uc3QgYWRkaXRpdmVOdW1iZXJpbmcgPSB7XG4gIHJvbWFuOiBbXG4gICAgNDk5OSxcbiAgICAxMDAwLFxuICAgIFwiTVwiLFxuICAgIDkwMCxcbiAgICBcIkNNXCIsXG4gICAgNTAwLFxuICAgIFwiRFwiLFxuICAgIDQwMCxcbiAgICBcIkNEXCIsXG4gICAgMTAwLFxuICAgIFwiQ1wiLFxuICAgIDkwLFxuICAgIFwiWENcIixcbiAgICA1MCxcbiAgICBcIkxcIixcbiAgICA0MCxcbiAgICBcIlhMXCIsXG4gICAgMTAsXG4gICAgXCJYXCIsXG4gICAgOSxcbiAgICBcIklYXCIsXG4gICAgNSxcbiAgICBcIlZcIixcbiAgICA0LFxuICAgIFwiSVZcIixcbiAgICAxLFxuICAgIFwiSVwiLFxuICBdLFxuICBhcm1lbmlhbjogW1xuICAgIDk5OTksXG4gICAgOTAwMCxcbiAgICBcIlxcdTA1ODRcIixcbiAgICA4MDAwLFxuICAgIFwiXFx1MDU4M1wiLFxuICAgIDcwMDAsXG4gICAgXCJcXHUwNTgyXCIsXG4gICAgNjAwMCxcbiAgICBcIlxcdTA1ODFcIixcbiAgICA1MDAwLFxuICAgIFwiXFx1MDU4MFwiLFxuICAgIDQwMDAsXG4gICAgXCJcXHUwNTdmXCIsXG4gICAgMzAwMCxcbiAgICBcIlxcdTA1N2VcIixcbiAgICAyMDAwLFxuICAgIFwiXFx1MDU3ZFwiLFxuICAgIDEwMDAsXG4gICAgXCJcXHUwNTdjXCIsXG4gICAgOTAwLFxuICAgIFwiXFx1MDU3YlwiLFxuICAgIDgwMCxcbiAgICBcIlxcdTA1N2FcIixcbiAgICA3MDAsXG4gICAgXCJcXHUwNTc5XCIsXG4gICAgNjAwLFxuICAgIFwiXFx1MDU3OFwiLFxuICAgIDUwMCxcbiAgICBcIlxcdTA1NzdcIixcbiAgICA0MDAsXG4gICAgXCJcXHUwNTc2XCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MDU3NVwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTA1NzRcIixcbiAgICAxMDAsXG4gICAgXCJcXHUwNTczXCIsXG4gICAgOTAsXG4gICAgXCJcXHUwNTcyXCIsXG4gICAgODAsXG4gICAgXCJcXHUwNTcxXCIsXG4gICAgNzAsXG4gICAgXCJcXHUwNTcwXCIsXG4gICAgNjAsXG4gICAgXCJcXHUwNTZmXCIsXG4gICAgNTAsXG4gICAgXCJcXHUwNTZlXCIsXG4gICAgNDAsXG4gICAgXCJcXHUwNTZkXCIsXG4gICAgMzAsXG4gICAgXCJcXHUwNTZjXCIsXG4gICAgMjAsXG4gICAgXCJcXHUwNTZiXCIsXG4gICAgMTAsXG4gICAgXCJcXHUwNTZhXCIsXG4gICAgOSxcbiAgICBcIlxcdTA1NjlcIixcbiAgICA4LFxuICAgIFwiXFx1MDU2OFwiLFxuICAgIDcsXG4gICAgXCJcXHUwNTY3XCIsXG4gICAgNixcbiAgICBcIlxcdTA1NjZcIixcbiAgICA1LFxuICAgIFwiXFx1MDU2NVwiLFxuICAgIDQsXG4gICAgXCJcXHUwNTY0XCIsXG4gICAgMyxcbiAgICBcIlxcdTA1NjNcIixcbiAgICAyLFxuICAgIFwiXFx1MDU2MlwiLFxuICAgIDEsXG4gICAgXCJcXHUwNTYxXCIsXG4gIF0sXG4gIGdlb3JnaWFuOiBbXG4gICAgMTk5OTksXG4gICAgMTAwMDAsXG4gICAgXCJcXHUxMGY1XCIsXG4gICAgOTAwMCxcbiAgICBcIlxcdTEwZjBcIixcbiAgICA4MDAwLFxuICAgIFwiXFx1MTBlZlwiLFxuICAgIDcwMDAsXG4gICAgXCJcXHUxMGY0XCIsXG4gICAgNjAwMCxcbiAgICBcIlxcdTEwZWVcIixcbiAgICA1MDAwLFxuICAgIFwiXFx1MTBlZFwiLFxuICAgIDQwMDAsXG4gICAgXCJcXHUxMGVjXCIsXG4gICAgMzAwMCxcbiAgICBcIlxcdTEwZWJcIixcbiAgICAyMDAwLFxuICAgIFwiXFx1MTBlYVwiLFxuICAgIDEwMDAsXG4gICAgXCJcXHUxMGU5XCIsXG4gICAgOTAwLFxuICAgIFwiXFx1MTBlOFwiLFxuICAgIDgwMCxcbiAgICBcIlxcdTEwZTdcIixcbiAgICA3MDAsXG4gICAgXCJcXHUxMGU2XCIsXG4gICAgNjAwLFxuICAgIFwiXFx1MTBlNVwiLFxuICAgIDUwMCxcbiAgICBcIlxcdTEwZTRcIixcbiAgICA0MDAsXG4gICAgXCJcXHUxMGYzXCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MTBlMlwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTEwZTFcIixcbiAgICAxMDAsXG4gICAgXCJcXHUxMGUwXCIsXG4gICAgOTAsXG4gICAgXCJcXHUxMGRmXCIsXG4gICAgODAsXG4gICAgXCJcXHUxMGRlXCIsXG4gICAgNzAsXG4gICAgXCJcXHUxMGRkXCIsXG4gICAgNjAsXG4gICAgXCJcXHUxMGYyXCIsXG4gICAgNTAsXG4gICAgXCJcXHUxMGRjXCIsXG4gICAgNDAsXG4gICAgXCJcXHUxMGRiXCIsXG4gICAgMzAsXG4gICAgXCJcXHUxMGRhXCIsXG4gICAgMjAsXG4gICAgXCJcXHUxMGQ5XCIsXG4gICAgMTAsXG4gICAgXCJcXHUxMGQ4XCIsXG4gICAgOSxcbiAgICBcIlxcdTEwZDdcIixcbiAgICA4LFxuICAgIFwiXFx1MTBmMVwiLFxuICAgIDcsXG4gICAgXCJcXHUxMGQ2XCIsXG4gICAgNixcbiAgICBcIlxcdTEwZDVcIixcbiAgICA1LFxuICAgIFwiXFx1MTBkNFwiLFxuICAgIDQsXG4gICAgXCJcXHUxMGQzXCIsXG4gICAgMyxcbiAgICBcIlxcdTEwZDJcIixcbiAgICAyLFxuICAgIFwiXFx1MTBkMVwiLFxuICAgIDEsXG4gICAgXCJcXHUxMGQwXCIsXG4gIF0sXG4gIGhlYnJldzogW1xuICAgIDk5OSxcbiAgICA0MDAsXG4gICAgXCJcXHUwNWVhXCIsXG4gICAgMzAwLFxuICAgIFwiXFx1MDVlOVwiLFxuICAgIDIwMCxcbiAgICBcIlxcdTA1ZThcIixcbiAgICAxMDAsXG4gICAgXCJcXHUwNWU3XCIsXG4gICAgOTAsXG4gICAgXCJcXHUwNWU2XCIsXG4gICAgODAsXG4gICAgXCJcXHUwNWU0XCIsXG4gICAgNzAsXG4gICAgXCJcXHUwNWUyXCIsXG4gICAgNjAsXG4gICAgXCJcXHUwNWUxXCIsXG4gICAgNTAsXG4gICAgXCJcXHUwNWUwXCIsXG4gICAgNDAsXG4gICAgXCJcXHUwNWRlXCIsXG4gICAgMzAsXG4gICAgXCJcXHUwNWRjXCIsXG4gICAgMjAsXG4gICAgXCJcXHUwNWRiXCIsXG4gICAgMTksXG4gICAgXCJcXHUwNWQ5XFx1MDVkOFwiLFxuICAgIDE4LFxuICAgIFwiXFx1MDVkOVxcdTA1ZDdcIixcbiAgICAxNyxcbiAgICBcIlxcdTA1ZDlcXHUwNWQ2XCIsXG4gICAgMTYsXG4gICAgXCJcXHUwNWQ4XFx1MDVkNlwiLFxuICAgIDE1LFxuICAgIFwiXFx1MDVkOFxcdTA1ZDVcIixcbiAgICAxMCxcbiAgICBcIlxcdTA1ZDlcIixcbiAgICA5LFxuICAgIFwiXFx1MDVkOFwiLFxuICAgIDgsXG4gICAgXCJcXHUwNWQ3XCIsXG4gICAgNyxcbiAgICBcIlxcdTA1ZDZcIixcbiAgICA2LFxuICAgIFwiXFx1MDVkNVwiLFxuICAgIDUsXG4gICAgXCJcXHUwNWQ0XCIsXG4gICAgNCxcbiAgICBcIlxcdTA1ZDNcIixcbiAgICAzLFxuICAgIFwiXFx1MDVkMlwiLFxuICAgIDIsXG4gICAgXCJcXHUwNWQxXCIsXG4gICAgMSxcbiAgICBcIlxcdTA1ZDBcIixcbiAgXSxcbn07XG5cbmV4cG9ydCBjb25zdCBhbHBoYWJldGljTnVtYmVyaW5nID0ge1xuICBsYXRpbjogXCJhLXpcIixcbiAgYWxwaGE6IFwiYS16XCIsXG4gIGdyZWVrOiBcIlxcdTAzYjEtXFx1MDNjMVxcdTAzYzMtXFx1MDNjOVwiLFxuICBydXNzaWFuOiBcIlxcdTA0MzAtXFx1MDQzOFxcdTA0M2EtXFx1MDQ0OVxcdTA0NGQtXFx1MDQ0ZlwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZpeGVkID0ge1xuICBzcXVhcmU6IFwiXFx1MjVhMFwiLFxuICBkaXNjOiBcIlxcdTIwMjJcIixcbiAgY2lyY2xlOiBcIlxcdTI1ZTZcIixcbiAgbm9uZTogXCJcIixcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRpdGl2ZUZvcm1hdChlbnRyaWVzOiBhbnlbXSwgbnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBtYXggPSBlbnRyaWVzWzBdIGFzIG51bWJlcjtcbiAgaWYgKG51bSA+IG1heCB8fCBudW0gPD0gMCB8fCBudW0gIT0gTWF0aC5yb3VuZChudW0pKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgZW50cmllcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIGNvbnN0IHZhbHVlID0gZW50cmllc1tpXSBhcyBudW1iZXI7XG4gICAgbGV0IGNvdW50ID0gTWF0aC5mbG9vcihudW0gLyB2YWx1ZSk7XG4gICAgaWYgKGNvdW50ID4gMjApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBudW0gLT0gY291bnQgKiB2YWx1ZTtcbiAgICB3aGlsZSAoY291bnQgPiAwKSB7XG4gICAgICByZXN1bHQgKz0gZW50cmllc1tpICsgMV07XG4gICAgICBjb3VudC0tO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kQWxwaGFiZXQoc3RyOiBzdHJpbmcpOiBzdHJpbmdbXSB8IG51bGwge1xuICBjb25zdCBhcnIgPSBbXTtcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAoaSA8IHN0ci5sZW5ndGgpIHtcbiAgICBpZiAoc3RyLnN1YnN0cihpICsgMSwgMSkgPT0gXCItXCIpIHtcbiAgICAgIGNvbnN0IGZpcnN0ID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICBjb25zdCBsYXN0ID0gc3RyLmNoYXJDb2RlQXQoaSArIDIpO1xuICAgICAgaSArPSAzO1xuICAgICAgZm9yIChsZXQgayA9IGZpcnN0OyBrIDw9IGxhc3Q7IGsrKykge1xuICAgICAgICBhcnIucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGspKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goc3RyLnN1YnN0cihpKyssIDEpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFscGhhYmV0aWNGb3JtYXQoYWxwaGFiZXRTdHI6IHN0cmluZywgbnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAobnVtIDw9IDAgfHwgbnVtICE9IE1hdGgucm91bmQobnVtKSkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IGFscGhhYmV0ID0gZXhwYW5kQWxwaGFiZXQoYWxwaGFiZXRTdHIpO1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgZG8ge1xuICAgIG51bS0tO1xuICAgIGNvbnN0IGRpZ2l0ID0gbnVtICUgYWxwaGFiZXQubGVuZ3RoO1xuICAgIHJlc3VsdCA9IGFscGhhYmV0W2RpZ2l0XSArIHJlc3VsdDtcbiAgICBudW0gPSAobnVtIC0gZGlnaXQpIC8gYWxwaGFiZXQubGVuZ3RoO1xuICB9IHdoaWxlIChudW0gPiAwKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hpbmVzZU51bWJlcmluZyA9IHtcbiAgZGlnaXRzOiBzdHJpbmc7XG4gIG1hcmtlcnM6IHN0cmluZztcbiAgbmVnYXRpdmU6IHN0cmluZztcbiAgZm9ybWFsOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBGcm9tIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtbGlzdHMvXG4gKi9cbmV4cG9ydCBjb25zdCBjaGluZXNlVHJhZEluZm9ybWFsOiBDaGluZXNlTnVtYmVyaW5nID0ge1xuICBmb3JtYWw6IGZhbHNlLFxuICBkaWdpdHM6IFwiXFx1OTZmNlxcdTRlMDBcXHU0ZThjXFx1NGUwOVxcdTU2ZGJcXHU0ZTk0XFx1NTE2ZFxcdTRlMDNcXHU1MTZiXFx1NGU1ZFwiLFxuICBtYXJrZXJzOiBcIlxcdTUzNDFcXHU3NjdlXFx1NTM0M1wiLFxuICBuZWdhdGl2ZTogXCJcXHU4Y2EwXCIsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY2hpbmVzZUNvdW50ZXIoXG4gIG51bTogbnVtYmVyLFxuICBudW1iZXJpbmc6IENoaW5lc2VOdW1iZXJpbmcsXG4pOiBzdHJpbmcge1xuICBpZiAobnVtID4gOTk5OSB8fCBudW0gPCAtOTk5OSkge1xuICAgIHJldHVybiBgJHtudW19YDsgLy8gVE9ETzogc2hvdWxkIGJlIGNqay1kZWNpbWFsXG4gIH1cbiAgaWYgKG51bSA9PSAwKSB7XG4gICAgcmV0dXJuIG51bWJlcmluZy5kaWdpdHMuY2hhckF0KDApO1xuICB9XG4gIGNvbnN0IHJlcyA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBpZiAobnVtIDwgMCkge1xuICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm5lZ2F0aXZlKTtcbiAgICBudW0gPSAtbnVtO1xuICB9XG4gIGlmIChudW0gPCAxMCkge1xuICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQobnVtKSk7XG4gIH0gZWxzZSBpZiAoIW51bWJlcmluZy5mb3JtYWwgJiYgbnVtIDw9IDE5KSB7XG4gICAgcmVzLmFwcGVuZChudW1iZXJpbmcubWFya2Vycy5jaGFyQXQoMCkpO1xuICAgIGlmIChudW0gIT0gMCkge1xuICAgICAgcmVzLmFwcGVuZChudW1iZXJpbmcuZGlnaXRzLmNoYXJBdChudW0gLSAxMCkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCB0aG91c2FuZHMgPSBNYXRoLmZsb29yKG51bSAvIDEwMDApO1xuICAgIGlmICh0aG91c2FuZHMpIHtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLmRpZ2l0cy5jaGFyQXQodGhvdXNhbmRzKSk7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5tYXJrZXJzLmNoYXJBdCgyKSk7XG4gICAgfVxuICAgIGNvbnN0IGh1bmRyZWRzID0gTWF0aC5mbG9vcihudW0gLyAxMDApICUgMTA7XG4gICAgaWYgKGh1bmRyZWRzKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KGh1bmRyZWRzKSk7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5tYXJrZXJzLmNoYXJBdCgxKSk7XG4gICAgfVxuICAgIGNvbnN0IHRlbnMgPSBNYXRoLmZsb29yKG51bSAvIDEwKSAlIDEwO1xuICAgIGlmICh0ZW5zKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KHRlbnMpKTtcbiAgICAgIHJlcy5hcHBlbmQobnVtYmVyaW5nLm1hcmtlcnMuY2hhckF0KDApKTtcbiAgICB9XG4gICAgY29uc3Qgb25lcyA9IG51bSAlIDEwO1xuICAgIGlmIChvbmVzKSB7XG4gICAgICByZXMuYXBwZW5kKG51bWJlcmluZy5kaWdpdHMuY2hhckF0KG9uZXMpKTtcbiAgICB9XG4gIH1cblxuICAvLyByZXMuYXBwZW5kKFwiXFx1MzAwMVwiKTtcbiAgcmV0dXJuIHJlcy50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEZpdHRpbmcgb3JkZXIgYW5kIHNwZWNpZmljaXR5IGluIHRoZSBzYW1lIG51bWJlci4gT3JkZXIgaXMgcmVjb3JkZWQgaW4gdGhlXG4gKiBmcmFjdGlvbmFsIHBhcnQuIFNlbGVjdCB2YWx1ZSBzbyB0aGF0XG4gKlxuICogICAweDdGRkZGRkZGICE9IDB4N0ZGRkZGRkYgKyBPUkRFUl9JTkNSRU1FTlRcbiAqXG4gKi9cbmV4cG9ydCBjb25zdCBPUkRFUl9JTkNSRU1FTlQgPSAxIC8gMTA0ODU3NjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlUYWJsZShzcmM6IEFjdGlvblRhYmxlLCBkc3Q6IEFjdGlvblRhYmxlKTogdm9pZCB7XG4gIGZvciAoY29uc3QgbiBpbiBzcmMpIHtcbiAgICBkc3Rbbl0gPSBzcmNbbl0uY2xvbmUoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FzY2FkZSB7XG4gIG5zQ291bnQ6IG51bWJlciA9IDA7XG4gIG5zUHJlZml4OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gIHRhZ3M6IEFjdGlvblRhYmxlID0ge307XG4gIG5zdGFnczogQWN0aW9uVGFibGUgPSB7fTtcbiAgZXB1YnR5cGVzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBjbGFzc2VzOiBBY3Rpb25UYWJsZSA9IHt9O1xuICBpZHM6IEFjdGlvblRhYmxlID0ge307XG4gIHBhZ2V0eXBlczogQWN0aW9uVGFibGUgPSB7fTtcbiAgb3JkZXI6IG51bWJlciA9IDA7XG5cbiAgY2xvbmUoKTogQ2FzY2FkZSB7XG4gICAgY29uc3QgciA9IG5ldyBDYXNjYWRlKCk7XG4gICAgci5uc0NvdW50ID0gdGhpcy5uc0NvdW50O1xuICAgIGZvciAoY29uc3QgcCBpbiB0aGlzLm5zUHJlZml4KSB7XG4gICAgICByLm5zUHJlZml4W3BdID0gdGhpcy5uc1ByZWZpeFtwXTtcbiAgICB9XG4gICAgY29weVRhYmxlKHRoaXMudGFncywgci50YWdzKTtcbiAgICBjb3B5VGFibGUodGhpcy5uc3RhZ3MsIHIubnN0YWdzKTtcbiAgICBjb3B5VGFibGUodGhpcy5lcHVidHlwZXMsIHIuZXB1YnR5cGVzKTtcbiAgICBjb3B5VGFibGUodGhpcy5jbGFzc2VzLCByLmNsYXNzZXMpO1xuICAgIGNvcHlUYWJsZSh0aGlzLmlkcywgci5pZHMpO1xuICAgIGNvcHlUYWJsZSh0aGlzLnBhZ2V0eXBlcywgci5wYWdldHlwZXMpO1xuICAgIHIub3JkZXIgPSB0aGlzLm9yZGVyO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgaW5zZXJ0SW5UYWJsZSh0YWJsZTogQWN0aW9uVGFibGUsIGtleTogc3RyaW5nLCBhY3Rpb246IENhc2NhZGVBY3Rpb24pOiB2b2lkIHtcbiAgICBjb25zdCBhID0gdGFibGVba2V5XTtcbiAgICBpZiAoYSkge1xuICAgICAgYWN0aW9uID0gYS5tZXJnZVdpdGgoYWN0aW9uKTtcbiAgICB9XG4gICAgdGFibGVba2V5XSA9IGFjdGlvbjtcbiAgfVxuXG4gIGNyZWF0ZUluc3RhbmNlKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY291bnRlckxpc3RlbmVyOiBDb3VudGVyTGlzdGVuZXIsXG4gICAgY291bnRlclJlc29sdmVyOiBDb3VudGVyUmVzb2x2ZXIsXG4gICAgbGFuZyxcbiAgKTogQ2FzY2FkZUluc3RhbmNlIHtcbiAgICByZXR1cm4gbmV3IENhc2NhZGVJbnN0YW5jZShcbiAgICAgIHRoaXMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgbGFuZyxcbiAgICApO1xuICB9XG5cbiAgbmV4dE9yZGVyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuICh0aGlzLm9yZGVyICs9IE9SREVSX0lOQ1JFTUVOVCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhc2NhZGVJbnN0YW5jZSB7XG4gIGNvZGU6IENhc2NhZGU7XG4gIHN0YWNrID0gW1tdLCBbXV0gYXMgQ29uZGl0aW9uSXRlbVtdW107XG4gIGNvbmRpdGlvbnMgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICBjdXJyZW50RWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50RWxlbWVudE9mZnNldDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRTdHlsZTogRWxlbWVudFN0eWxlIHwgbnVsbCA9IG51bGw7XG4gIGN1cnJlbnRDbGFzc05hbWVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50TG9jYWxOYW1lOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50TmFtZXNwYWNlOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50SWQ6IHN0cmluZyA9IFwiXCI7XG4gIGN1cnJlbnRYbWxJZDogc3RyaW5nID0gXCJcIjtcbiAgY3VycmVudE5TVGFnOiBzdHJpbmcgPSBcIlwiO1xuICBjdXJyZW50RXB1YlR5cGVzOiBzdHJpbmdbXSB8IG51bGwgPSBudWxsO1xuICBjdXJyZW50UGFnZVR5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpc0ZpcnN0OiBib29sZWFuID0gdHJ1ZTtcbiAgaXNSb290OiBib29sZWFuID0gdHJ1ZTtcbiAgY291bnRlcnM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyW10gfSA9IHt9O1xuICBjb3VudGVyU2NvcGluZzogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH1bXSA9IFt7fV07XG4gIHF1b3RlczogQ3NzLlN0cltdO1xuICBxdW90ZURlcHRoOiBudW1iZXIgPSAwO1xuICBsYW5nOiBzdHJpbmcgPSBcIlwiO1xuICBzaWJsaW5nT3JkZXJTdGFjazogbnVtYmVyW10gPSBbMF07XG4gIGN1cnJlbnRTaWJsaW5nT3JkZXI6IG51bWJlciA9IDA7XG4gIHNpYmxpbmdUeXBlQ291bnRzU3RhY2s6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB9W10gPSBbe31dO1xuICBjdXJyZW50U2libGluZ1R5cGVDb3VudHM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSB9O1xuICBjdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2s6IChudW1iZXIgfCBudWxsKVtdO1xuICBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrOiB7XG4gICAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgfVtdID0gW3t9XTtcbiAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgfTtcbiAgdmlld0NvbmRpdGlvbnM6IHsgW2tleTogc3RyaW5nXTogTWF0Y2hlcnMuTWF0Y2hlcltdIH0gPSB7fTtcbiAgZGVwZW5kZW50Q29uZGl0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgZWxlbWVudFN0YWNrOiBFbGVtZW50W107XG4gIGN1cnJlbnREb2M/OiBEb2N1bWVudCB8IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY2FzY2FkZTogQ2FzY2FkZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlckxpc3RlbmVyOiBDb3VudGVyTGlzdGVuZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJSZXNvbHZlcjogQ291bnRlclJlc29sdmVyLFxuICAgIGxhbmc6IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5jb2RlID0gY2FzY2FkZTtcbiAgICB0aGlzLnF1b3RlcyA9IFtcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxY1wiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxZFwiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxOFwiKSxcbiAgICAgIG5ldyBDc3MuU3RyKFwiXFx1MjAxOVwiKSxcbiAgICBdO1xuICAgIHRoaXMuY3VycmVudFNpYmxpbmdUeXBlQ291bnRzID0gdGhpcy5zaWJsaW5nVHlwZUNvdW50c1N0YWNrWzBdO1xuICAgIHRoaXMuZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sgPSBbdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyXTtcbiAgICB0aGlzLmN1cnJlbnRGb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50cyA9IHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFja1swXTtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHRoaXMuZWxlbWVudFN0YWNrID0gW107XG4gICAgfVxuICB9XG5cbiAgcHVzaENvbmRpdGlvbkl0ZW0oaXRlbTogQ29uZGl0aW9uSXRlbSk6IHZvaWQge1xuICAgIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXS5wdXNoKGl0ZW0pO1xuICB9XG5cbiAgaW5jcmVtZW50KGNvbmRpdGlvbjogc3RyaW5nLCB2aWV3Q29uZGl0aW9uOiBNYXRjaGVycy5NYXRjaGVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0gPSAodGhpcy5jb25kaXRpb25zW2NvbmRpdGlvbl0gfHwgMCkgKyAxO1xuICAgIGlmICghdmlld0NvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dKSB7XG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0ucHVzaCh2aWV3Q29uZGl0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dID0gW3ZpZXdDb25kaXRpb25dO1xuICAgIH1cbiAgfVxuXG4gIGRlY3JlbWVudChjb25kaXRpb246IHN0cmluZywgdmlld0NvbmRpdGlvbjogTWF0Y2hlcnMuTWF0Y2hlcik6IHZvaWQge1xuICAgIHRoaXMuY29uZGl0aW9uc1tjb25kaXRpb25dLS07XG4gICAgaWYgKCF0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dID0gdGhpcy52aWV3Q29uZGl0aW9uc1tjb25kaXRpb25dLmZpbHRlcihcbiAgICAgIChpdGVtKSA9PiBpdGVtICE9PSB2aWV3Q29uZGl0aW9uLFxuICAgICk7XG4gICAgaWYgKHRoaXMudmlld0NvbmRpdGlvbnNbY29uZGl0aW9uXS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbl07XG4gICAgfVxuICB9XG5cbiAgYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcih2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwpOiBNYXRjaGVycy5NYXRjaGVyIHtcbiAgICBsZXQgbWF0Y2hlcjogTWF0Y2hlcnMuTWF0Y2hlciA9IG51bGw7XG4gICAgaWYgKHZpZXdDb25kaXRpb25JZCkge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCk7XG4gICAgICBtYXRjaGVyID0gTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlcihcbiAgICAgICAgdGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCxcbiAgICAgICAgdmlld0NvbmRpdGlvbklkLFxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMgPSB0aGlzLmRlcGVuZGVudENvbmRpdGlvbnNcbiAgICAgIC5tYXAoKGNvbmRpdGlvbklkKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbmRpdGlvbnMgPSB0aGlzLnZpZXdDb25kaXRpb25zW2NvbmRpdGlvbklkXTtcbiAgICAgICAgaWYgKGNvbmRpdGlvbnMgJiYgY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbmRpdGlvbnMubGVuZ3RoID09PSAxXG4gICAgICAgICAgICA/IGNvbmRpdGlvbnNbMF1cbiAgICAgICAgICAgIDogTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRBbnlNYXRjaGVyKFtdLmNvbmNhdChjb25kaXRpb25zKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChpdGVtKSA9PiBpdGVtKTtcbiAgICBpZiAoZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMubGVuZ3RoIDw9IDApIHtcbiAgICAgIHJldHVybiBtYXRjaGVyO1xuICAgIH1cbiAgICBpZiAobWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzLmxlbmd0aCA9PT0gMVxuICAgICAgICA/IGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzWzBdXG4gICAgICAgIDogTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIuYnVpbGRBbGxNYXRjaGVyKGRlcGVuZGVudENvbmRpdGlvbk1hdGNoZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIE1hdGNoZXJzLk1hdGNoZXJCdWlsZGVyLmJ1aWxkQWxsTWF0Y2hlcihcbiAgICAgIFttYXRjaGVyXS5jb25jYXQoZGVwZW5kZW50Q29uZGl0aW9uTWF0Y2hlcnMpLFxuICAgICk7XG4gIH1cblxuICBhcHBseUFjdGlvbih0YWJsZTogQWN0aW9uVGFibGUsIGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgYWN0aW9uID0gdGFibGVba2V5XTtcbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBhY3Rpb24uYXBwbHkodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgcHVzaFJ1bGUoXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcGFnZVR5cGU6IHN0cmluZyB8IG51bGwsXG4gICAgYmFzZVN0eWxlOiBFbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudEVsZW1lbnRPZmZzZXQgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFN0eWxlID0gYmFzZVN0eWxlO1xuICAgIHRoaXMuY3VycmVudE5hbWVzcGFjZSA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRJZCA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50WG1sSWQgPSBcIlwiO1xuICAgIHRoaXMuY3VycmVudENsYXNzTmFtZXMgPSBjbGFzc2VzO1xuICAgIHRoaXMuY3VycmVudE5TVGFnID0gXCJcIjtcbiAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSBFTVBUWTtcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IHBhZ2VUeXBlO1xuICAgIHRoaXMuYXBwbHlBY3Rpb25zKCk7XG4gIH1cblxuICBkZWZpbmVDb3VudGVyKGNvdW50ZXJOYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV0pIHtcbiAgICAgIHRoaXMuY291bnRlcnNbY291bnRlck5hbWVdLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvdW50ZXJzW2NvdW50ZXJOYW1lXSA9IFt2YWx1ZV07XG4gICAgfVxuICAgIGxldCBzY29waW5nID0gdGhpcy5jb3VudGVyU2NvcGluZ1t0aGlzLmNvdW50ZXJTY29waW5nLmxlbmd0aCAtIDFdO1xuICAgIGlmICghc2NvcGluZykge1xuICAgICAgc2NvcGluZyA9IHt9O1xuICAgICAgdGhpcy5jb3VudGVyU2NvcGluZ1t0aGlzLmNvdW50ZXJTY29waW5nLmxlbmd0aCAtIDFdID0gc2NvcGluZztcbiAgICB9XG4gICAgc2NvcGluZ1tjb3VudGVyTmFtZV0gPSB0cnVlO1xuICB9XG5cbiAgcHVzaENvdW50ZXJzKHByb3BzOiBFbGVtZW50U3R5bGUpOiB2b2lkIHtcbiAgICBsZXQgZGlzcGxheVZhbCA9IENzcy5pZGVudC5pbmxpbmU7XG4gICAgY29uc3QgZGlzcGxheSA9IHByb3BzW1wiZGlzcGxheVwiXTtcbiAgICBpZiAoZGlzcGxheSkge1xuICAgICAgZGlzcGxheVZhbCA9IGRpc3BsYXkuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICB9XG4gICAgbGV0IHJlc2V0TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBsZXQgaW5jcmVtZW50TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBsZXQgc2V0TWFwOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9ID0gbnVsbDtcbiAgICBjb25zdCByZXNldCA9IHByb3BzW1wiY291bnRlci1yZXNldFwiXTtcbiAgICBpZiAocmVzZXQpIHtcbiAgICAgIGNvbnN0IHJlc2V0VmFsID0gcmVzZXQuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChyZXNldFZhbCkge1xuICAgICAgICByZXNldE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhyZXNldFZhbCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNldCA9IHByb3BzW1wiY291bnRlci1zZXRcIl07XG4gICAgaWYgKHNldCkge1xuICAgICAgY29uc3Qgc2V0VmFsID0gc2V0LmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgICBpZiAoc2V0VmFsKSB7XG4gICAgICAgIHNldE1hcCA9IENzc1Byb3AudG9Db3VudGVycyhzZXRWYWwsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaW5jcmVtZW50ID0gcHJvcHNbXCJjb3VudGVyLWluY3JlbWVudFwiXTtcbiAgICBpZiAoaW5jcmVtZW50KSB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRWYWwgPSBpbmNyZW1lbnQuZXZhbHVhdGUodGhpcy5jb250ZXh0KTtcbiAgICAgIGlmIChpbmNyZW1lbnRWYWwpIHtcbiAgICAgICAgaW5jcmVtZW50TWFwID0gQ3NzUHJvcC50b0NvdW50ZXJzKGluY3JlbWVudFZhbCwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoXG4gICAgICAodGhpcy5jdXJyZW50TG9jYWxOYW1lID09IFwib2xcIiB8fCB0aGlzLmN1cnJlbnRMb2NhbE5hbWUgPT0gXCJ1bFwiKSAmJlxuICAgICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID09IEJhc2UuTlMuWEhUTUxcbiAgICApIHtcbiAgICAgIGlmICghcmVzZXRNYXApIHtcbiAgICAgICAgcmVzZXRNYXAgPSB7fTtcbiAgICAgIH1cbiAgICAgIHJlc2V0TWFwW1widWEtbGlzdC1pdGVtXCJdID0gMDtcbiAgICB9XG4gICAgaWYgKGRpc3BsYXlWYWwgPT09IENzcy5pZGVudC5saXN0X2l0ZW0pIHtcbiAgICAgIGlmICghaW5jcmVtZW50TWFwKSB7XG4gICAgICAgIGluY3JlbWVudE1hcCA9IHt9O1xuICAgICAgfVxuICAgICAgaW5jcmVtZW50TWFwW1widWEtbGlzdC1pdGVtXCJdID0gMTtcbiAgICB9XG4gICAgaWYgKHJlc2V0TWFwKSB7XG4gICAgICBmb3IgKGNvbnN0IHJlc2V0Q291bnRlck5hbWUgaW4gcmVzZXRNYXApIHtcbiAgICAgICAgdGhpcy5kZWZpbmVDb3VudGVyKHJlc2V0Q291bnRlck5hbWUsIHJlc2V0TWFwW3Jlc2V0Q291bnRlck5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNldE1hcCkge1xuICAgICAgZm9yIChjb25zdCBzZXRDb3VudGVyTmFtZSBpbiBzZXRNYXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvdW50ZXJzW3NldENvdW50ZXJOYW1lXSkge1xuICAgICAgICAgIHRoaXMuZGVmaW5lQ291bnRlcihzZXRDb3VudGVyTmFtZSwgc2V0TWFwW3NldENvdW50ZXJOYW1lXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY291bnRlcnNbc2V0Q291bnRlck5hbWVdO1xuICAgICAgICAgIGNvdW50ZXJWYWx1ZXNbY291bnRlclZhbHVlcy5sZW5ndGggLSAxXSA9IHNldE1hcFtzZXRDb3VudGVyTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluY3JlbWVudE1hcCkge1xuICAgICAgZm9yIChjb25zdCBpbmNyZW1lbnRDb3VudGVyTmFtZSBpbiBpbmNyZW1lbnRNYXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvdW50ZXJzW2luY3JlbWVudENvdW50ZXJOYW1lXSkge1xuICAgICAgICAgIHRoaXMuZGVmaW5lQ291bnRlcihpbmNyZW1lbnRDb3VudGVyTmFtZSwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY291bnRlclZhbHVlcyA9IHRoaXMuY291bnRlcnNbaW5jcmVtZW50Q291bnRlck5hbWVdO1xuICAgICAgICBjb3VudGVyVmFsdWVzW2NvdW50ZXJWYWx1ZXMubGVuZ3RoIC0gMV0gKz1cbiAgICAgICAgICBpbmNyZW1lbnRNYXBbaW5jcmVtZW50Q291bnRlck5hbWVdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZGlzcGxheVZhbCA9PT0gQ3NzLmlkZW50Lmxpc3RfaXRlbSkge1xuICAgICAgY29uc3QgbGlzdEl0ZW1Db3VudHMgPSB0aGlzLmNvdW50ZXJzW1widWEtbGlzdC1pdGVtXCJdO1xuICAgICAgY29uc3QgbGlzdEl0ZW1Db3VudCA9IGxpc3RJdGVtQ291bnRzW2xpc3RJdGVtQ291bnRzLmxlbmd0aCAtIDFdO1xuICAgICAgcHJvcHNbXCJ1YS1saXN0LWl0ZW0tY291bnRcIl0gPSBuZXcgQ2FzY2FkZVZhbHVlKFxuICAgICAgICBuZXcgQ3NzLk51bShsaXN0SXRlbUNvdW50KSxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY291bnRlclNjb3BpbmcucHVzaChudWxsKTtcbiAgfVxuXG4gIHBvcENvdW50ZXJzKCk6IHZvaWQge1xuICAgIGNvbnN0IHNjb3BpbmcgPSB0aGlzLmNvdW50ZXJTY29waW5nLnBvcCgpO1xuICAgIGlmIChzY29waW5nKSB7XG4gICAgICBmb3IgKGNvbnN0IGNvdW50ZXJOYW1lIGluIHNjb3BpbmcpIHtcbiAgICAgICAgY29uc3QgYXJyID0gdGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgICAgIGlmIChhcnIpIHtcbiAgICAgICAgICBpZiAoYXJyLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5jb3VudGVyc1tjb3VudGVyTmFtZV07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFyci5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcm9jZXNzUHNldWRvZWxlbWVudFByb3BzKHBzZXVkb3Byb3BzOiBFbGVtZW50U3R5bGUsIGVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICB0aGlzLnB1c2hDb3VudGVycyhwc2V1ZG9wcm9wcyk7XG4gICAgaWYgKHBzZXVkb3Byb3BzW1wiY29udGVudFwiXSkge1xuICAgICAgcHNldWRvcHJvcHNbXCJjb250ZW50XCJdID0gcHNldWRvcHJvcHNbXCJjb250ZW50XCJdLmZpbHRlclZhbHVlKFxuICAgICAgICBuZXcgQ29udGVudFByb3BWaXNpdG9yKHRoaXMsIGVsZW1lbnQsIHRoaXMuY291bnRlclJlc29sdmVyKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucG9wQ291bnRlcnMoKTtcbiAgfVxuXG4gIHB1c2hFbGVtZW50KFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgYmFzZVN0eWxlOiBFbGVtZW50U3R5bGUsXG4gICAgZWxlbWVudE9mZnNldDogbnVtYmVyLFxuICApOiB2b2lkIHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHRoaXMuZWxlbWVudFN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gZG8gbm90IGFwcGx5IHBhZ2UgcnVsZXNcbiAgICB0aGlzLmN1cnJlbnRQYWdlVHlwZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5jdXJyZW50RWxlbWVudE9mZnNldCA9IGVsZW1lbnRPZmZzZXQ7XG4gICAgdGhpcy5jdXJyZW50U3R5bGUgPSBiYXNlU3R5bGU7XG4gICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID0gZWxlbWVudC5uYW1lc3BhY2VVUkk7XG4gICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID0gZWxlbWVudC5sb2NhbE5hbWU7XG4gICAgY29uc3QgcHJlZml4ID0gdGhpcy5jb2RlLm5zUHJlZml4W3RoaXMuY3VycmVudE5hbWVzcGFjZV07XG4gICAgaWYgKHByZWZpeCkge1xuICAgICAgdGhpcy5jdXJyZW50TlNUYWcgPSBwcmVmaXggKyB0aGlzLmN1cnJlbnRMb2NhbE5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3VycmVudE5TVGFnID0gXCJcIjtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50SWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIHRoaXMuY3VycmVudFhtbElkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICBjb25zdCBjbGFzc2VzID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICBpZiAoY2xhc3Nlcykge1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IGNsYXNzZXMuc3BsaXQoL1xccysvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IEVNUFRZO1xuICAgIH1cbiAgICBjb25zdCB0eXBlcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5lcHViLCBcInR5cGVcIik7XG4gICAgaWYgKHR5cGVzKSB7XG4gICAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSB0eXBlcy5zcGxpdCgvXFxzKy8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmN1cnJlbnRFcHViVHlwZXMgPSBFTVBUWTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdGhpcy5jdXJyZW50TG9jYWxOYW1lID09IFwic3R5bGVcIiAmJlxuICAgICAgdGhpcy5jdXJyZW50TmFtZXNwYWNlID09IEJhc2UuTlMuRkIyXG4gICAgKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2VcbiAgICAgIGNvbnN0IGNsYXNzTmFtZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcIlwiO1xuICAgICAgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcyA9IFtjbGFzc05hbWVdO1xuICAgIH1cbiAgICBjb25zdCBsYW5nID0gQmFzZS5nZXRMYW5nQXR0cmlidXRlKGVsZW1lbnQpO1xuICAgIGlmIChsYW5nKSB7XG4gICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV0ucHVzaChuZXcgUmVzdG9yZUxhbmdJdGVtKHRoaXMubGFuZykpO1xuICAgICAgdGhpcy5sYW5nID0gbGFuZy50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBjb25zdCBpc1Jvb3QgPSB0aGlzLmlzUm9vdDtcbiAgICBjb25zdCBzaWJsaW5nT3JkZXJTdGFjayA9IHRoaXMuc2libGluZ09yZGVyU3RhY2s7XG4gICAgdGhpcy5jdXJyZW50U2libGluZ09yZGVyID0gKytzaWJsaW5nT3JkZXJTdGFja1tcbiAgICAgIHNpYmxpbmdPcmRlclN0YWNrLmxlbmd0aCAtIDFcbiAgICBdO1xuICAgIHNpYmxpbmdPcmRlclN0YWNrLnB1c2goMCk7XG4gICAgY29uc3Qgc2libGluZ1R5cGVDb3VudHNTdGFjayA9IHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFjaztcbiAgICBjb25zdCBjdXJyZW50U2libGluZ1R5cGVDb3VudHMgPSAodGhpcy5jdXJyZW50U2libGluZ1R5cGVDb3VudHMgPVxuICAgICAgc2libGluZ1R5cGVDb3VudHNTdGFja1tzaWJsaW5nVHlwZUNvdW50c1N0YWNrLmxlbmd0aCAtIDFdKTtcbiAgICBsZXQgY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMgPVxuICAgICAgY3VycmVudFNpYmxpbmdUeXBlQ291bnRzW3RoaXMuY3VycmVudE5hbWVzcGFjZV07XG4gICAgaWYgKCFjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50cykge1xuICAgICAgY3VycmVudE5hbWVzcGFjZVR5cGVDb3VudHMgPSBjdXJyZW50U2libGluZ1R5cGVDb3VudHNbXG4gICAgICAgIHRoaXMuY3VycmVudE5hbWVzcGFjZVxuICAgICAgXSA9IHt9O1xuICAgIH1cbiAgICBjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50c1t0aGlzLmN1cnJlbnRMb2NhbE5hbWVdID1cbiAgICAgIChjdXJyZW50TmFtZXNwYWNlVHlwZUNvdW50c1t0aGlzLmN1cnJlbnRMb2NhbE5hbWVdIHx8IDApICsgMTtcbiAgICBzaWJsaW5nVHlwZUNvdW50c1N0YWNrLnB1c2goe30pO1xuICAgIGNvbnN0IGZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrID0gdGhpcy5mb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjaztcbiAgICBpZiAoXG4gICAgICBmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFja1tmb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFjay5sZW5ndGggLSAxXSAhPT0gbnVsbFxuICAgICkge1xuICAgICAgdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID0gLS1mb2xsb3dpbmdTaWJsaW5nT3JkZXJTdGFja1tcbiAgICAgICAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2subGVuZ3RoIC0gMVxuICAgICAgXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Rm9sbG93aW5nU2libGluZ09yZGVyID0gbnVsbDtcbiAgICB9XG4gICAgZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2sucHVzaChudWxsKTtcbiAgICBjb25zdCBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrID0gdGhpc1xuICAgICAgLmZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2s7XG4gICAgY29uc3QgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzID0gKHRoaXMuY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzID1cbiAgICAgIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2tbXG4gICAgICAgIGZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzU3RhY2subGVuZ3RoIC0gMVxuICAgICAgXSk7XG4gICAgaWYgKFxuICAgICAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzICYmXG4gICAgICBjdXJyZW50Rm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNbdGhpcy5jdXJyZW50TmFtZXNwYWNlXVxuICAgICkge1xuICAgICAgY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzW3RoaXMuY3VycmVudE5hbWVzcGFjZV1bXG4gICAgICAgIHRoaXMuY3VycmVudExvY2FsTmFtZVxuICAgICAgXS0tO1xuICAgIH1cbiAgICBmb2xsb3dpbmdTaWJsaW5nVHlwZUNvdW50c1N0YWNrLnB1c2goe30pO1xuICAgIHRoaXMuYXBwbHlBY3Rpb25zKCk7XG4gICAgdGhpcy5hcHBseUF0dHJGaWx0ZXIoZWxlbWVudCk7XG4gICAgY29uc3QgcXVvdGVzQ2FzYyA9IGJhc2VTdHlsZVtcInF1b3Rlc1wiXTtcbiAgICBsZXQgaXRlbVRvUHVzaExhc3Q6IFF1b3Rlc1Njb3BlSXRlbSB8IG51bGwgPSBudWxsO1xuICAgIGlmIChxdW90ZXNDYXNjKSB7XG4gICAgICBjb25zdCBxdW90ZXNWYWwgPSBxdW90ZXNDYXNjLmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgICBpZiAocXVvdGVzVmFsKSB7XG4gICAgICAgIGl0ZW1Ub1B1c2hMYXN0ID0gbmV3IFF1b3Rlc1Njb3BlSXRlbSh0aGlzLnF1b3Rlcyk7XG4gICAgICAgIGlmIChxdW90ZXNWYWwgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgdGhpcy5xdW90ZXMgPSBbbmV3IENzcy5TdHIoXCJcIiksIG5ldyBDc3MuU3RyKFwiXCIpXTtcbiAgICAgICAgfSBlbHNlIGlmIChxdW90ZXNWYWwgaW5zdGFuY2VvZiBDc3MuU3BhY2VMaXN0KSB7XG4gICAgICAgICAgdGhpcy5xdW90ZXMgPSAocXVvdGVzVmFsIGFzIENzcy5TcGFjZUxpc3QpLnZhbHVlcyBhcyBDc3MuU3RyW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wdXNoQ291bnRlcnModGhpcy5jdXJyZW50U3R5bGUpO1xuICAgIGNvbnN0IGlkID1cbiAgICAgIHRoaXMuY3VycmVudElkIHx8IHRoaXMuY3VycmVudFhtbElkIHx8IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSB8fCBcIlwiO1xuICAgIGlmIChpc1Jvb3QgfHwgaWQpIHtcbiAgICAgIGNvbnN0IGNvdW50ZXJzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlcltdIH0gPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuY291bnRlcnMpLmZvckVhY2goKG5hbWUpID0+IHtcbiAgICAgICAgY291bnRlcnNbbmFtZV0gPSBBcnJheS5mcm9tKHRoaXMuY291bnRlcnNbbmFtZV0pO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmNvdW50ZXJMaXN0ZW5lci5jb3VudGVyc09mSWQoaWQsIGNvdW50ZXJzKTtcbiAgICB9XG4gICAgY29uc3QgcHNldWRvcyA9IGdldFN0eWxlTWFwKHRoaXMuY3VycmVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGlmIChwc2V1ZG9zKSB7XG4gICAgICBsZXQgYmVmb3JlID0gdHJ1ZTtcbiAgICAgIGZvciAoY29uc3QgcHNldWRvTmFtZSBvZiBwc2V1ZG9OYW1lcykge1xuICAgICAgICBpZiAoIXBzZXVkb05hbWUpIHtcbiAgICAgICAgICAvLyBjb250ZW50XG4gICAgICAgICAgYmVmb3JlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHNldWRvUHJvcHMgPSBwc2V1ZG9zW3BzZXVkb05hbWVdO1xuICAgICAgICBpZiAocHNldWRvUHJvcHMpIHtcbiAgICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQc2V1ZG9lbGVtZW50UHJvcHMocHNldWRvUHJvcHMsIGVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMl0ucHVzaChcbiAgICAgICAgICAgICAgbmV3IEFmdGVyUHNldWRvZWxlbWVudEl0ZW0ocHNldWRvUHJvcHMsIGVsZW1lbnQpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl0ZW1Ub1B1c2hMYXN0KSB7XG4gICAgICB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMl0ucHVzaChpdGVtVG9QdXNoTGFzdCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUF0dHJGaWx0ZXJJbm5lcih2aXNpdG9yLCBlbGVtZW50U3R5bGUpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIGVsZW1lbnRTdHlsZSkge1xuICAgICAgaWYgKGlzUHJvcE5hbWUocHJvcE5hbWUpKSB7XG4gICAgICAgIGVsZW1lbnRTdHlsZVtwcm9wTmFtZV0gPSBlbGVtZW50U3R5bGVbcHJvcE5hbWVdLmZpbHRlclZhbHVlKHZpc2l0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXBwbHlBdHRyRmlsdGVyKGVsZW1lbnQpOiB2b2lkIHtcbiAgICBjb25zdCB2aXNpdG9yID0gbmV3IEF0dHJWYWx1ZUZpbHRlclZpc2l0b3IoZWxlbWVudCk7XG4gICAgY29uc3QgY3VycmVudFN0eWxlID0gdGhpcy5jdXJyZW50U3R5bGU7XG4gICAgY29uc3QgcHNldWRvTWFwID0gZ2V0U3R5bGVNYXAoY3VycmVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGZvciAoY29uc3QgcHNldWRvTmFtZSBpbiBwc2V1ZG9NYXApIHtcbiAgICAgIHRoaXMuYXBwbHlBdHRyRmlsdGVySW5uZXIodmlzaXRvciwgcHNldWRvTWFwW3BzZXVkb05hbWVdKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseUF0dHJGaWx0ZXJJbm5lcih2aXNpdG9yLCBjdXJyZW50U3R5bGUpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcHBseUFjdGlvbnMoKTogdm9pZCB7XG4gICAgbGV0IGk6IG51bWJlcjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50Q2xhc3NOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUuY2xhc3NlcywgdGhpcy5jdXJyZW50Q2xhc3NOYW1lc1tpXSk7XG4gICAgfVxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmN1cnJlbnRFcHViVHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYXBwbHlBY3Rpb24odGhpcy5jb2RlLmVwdWJ0eXBlcywgdGhpcy5jdXJyZW50RXB1YlR5cGVzW2ldKTtcbiAgICB9XG4gICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUuaWRzLCB0aGlzLmN1cnJlbnRJZCk7XG4gICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUudGFncywgdGhpcy5jdXJyZW50TG9jYWxOYW1lKTtcbiAgICBpZiAodGhpcy5jdXJyZW50TG9jYWxOYW1lICE9IFwiXCIpIHtcbiAgICAgIC8vIFVuaXZlcnNhbCBzZWxlY3RvciBkb2VzIG5vdCBhcHBseSB0byBwYWdlLW1hc3Rlci1yZWxhdGVkIHJ1bGVzLlxuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUudGFncywgXCIqXCIpO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5QWN0aW9uKHRoaXMuY29kZS5uc3RhZ3MsIHRoaXMuY3VycmVudE5TVGFnKTtcblxuICAgIC8vIEFwcGx5IHBhZ2UgcnVsZXMgb25seSB3aGVuIGN1cnJlbnRQYWdlVHlwZSBpcyBub3QgbnVsbFxuICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlVHlwZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5hcHBseUFjdGlvbih0aGlzLmNvZGUucGFnZXR5cGVzLCB0aGlzLmN1cnJlbnRQYWdlVHlwZSk7XG5cbiAgICAgIC8vIFdlIHJlcHJlc2VudCBwYWdlIHJ1bGVzIHdpdGhvdXQgc2VsZWN0b3JzIGJ5ICosIHRob3VnaCBpdCBpcyBpbGxlZ2FsIGluXG4gICAgICAvLyBDU1NcbiAgICAgIHRoaXMuYXBwbHlBY3Rpb24odGhpcy5jb2RlLnBhZ2V0eXBlcywgXCIqXCIpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLmN1cnJlbnREb2MgPSBudWxsO1xuICAgIHRoaXMuc3RhY2sucHVzaChbXSk7XG4gICAgZm9yIChsZXQgZGVwdGggPSAxOyBkZXB0aCA+PSAtMTsgLS1kZXB0aCkge1xuICAgICAgY29uc3QgbGlzdCA9IHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSBkZXB0aCAtIDJdO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmIChsaXN0W2ldLnB1c2godGhpcywgZGVwdGgpKSB7XG4gICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlzRmlyc3QgPSB0cnVlO1xuICAgIHRoaXMuaXNSb290ID0gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIHBvcCgpOiB2b2lkIHtcbiAgICBmb3IgKGxldCBkZXB0aCA9IDE7IGRlcHRoID49IC0xOyAtLWRlcHRoKSB7XG4gICAgICBjb25zdCBsaXN0ID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIGRlcHRoIC0gMl07XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGlmIChsaXN0W2ldLnBvcCh0aGlzLCBkZXB0aCkpIHtcbiAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgdGhpcy5pc0ZpcnN0ID0gZmFsc2U7XG4gIH1cblxuICBwb3BSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMucG9wKCk7XG4gIH1cblxuICBwb3BFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQpOiB2b2lkIHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIGNvbnN0IGUgPSB0aGlzLmVsZW1lbnRTdGFjay5wb3AoKTtcbiAgICAgIGlmIChlICE9PSBlbGVtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY2FsbCB0byBwb3BFbGVtZW50XCIpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNpYmxpbmdPcmRlclN0YWNrLnBvcCgpO1xuICAgIHRoaXMuc2libGluZ1R5cGVDb3VudHNTdGFjay5wb3AoKTtcbiAgICB0aGlzLmZvbGxvd2luZ1NpYmxpbmdPcmRlclN0YWNrLnBvcCgpO1xuICAgIHRoaXMuZm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNTdGFjay5wb3AoKTtcbiAgICB0aGlzLnBvcCgpO1xuICAgIHRoaXMucG9wQ291bnRlcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgRU1QVFkgPSBbXTtcblxuLyoqXG4gKiBQc2V1ZG9lbGVtZW50IG5hbWVzIGluIHRoZSBvcmRlciB0aGV5IHNob3VsZCBiZSBwcm9jZXNzZWQsIGVtcHR5IHN0cmluZyBpc1xuICogdGhlIHBsYWNlIHdoZXJlIHRoZSBlbGVtZW50J3MgRE9NIGNoaWxkcmVuIGFyZSBwcm9jZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwc2V1ZG9OYW1lcyA9IFtcbiAgXCJiZWZvcmVcIixcbiAgXCJ0cmFuc2NsdXNpb24tYmVmb3JlXCIsXG4gIFwiZm9vdG5vdGUtY2FsbFwiLFxuICBcImZvb3Rub3RlLW1hcmtlclwiLFxuICBcImlubmVyXCIsXG4gIFwiZmlyc3QtbGV0dGVyXCIsXG4gIFwiZmlyc3QtbGluZVwiLFxuICBcIlwiLFxuICAvKiBjb250ZW50ICovXG4gIFwidHJhbnNjbHVzaW9uLWFmdGVyXCIsXG4gIFwiYWZ0ZXJcIixcbl07XG5cbi8qKlxuICogQGVudW0ge251bWJlcn1cbiAqL1xuZXhwb3J0IGVudW0gUGFyc2VTdGF0ZSB7XG4gIFRPUCxcbiAgU0VMRUNUT1IsXG4gIFJVTEUsXG59XG5cbi8qKlxuICogQ2FzY2FkZSBmb3IgYmFzZSBVc2VyIEFnZW50IHN0eWxlc2hlZXQuXG4gKi9cbmV4cG9ydCBsZXQgdWFCYXNlQ2FzY2FkZTogQ2FzY2FkZSA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gc2V0VUFCYXNlQ2FzY2FkZSh2YWx1ZTogQ2FzY2FkZSk6IHZvaWQge1xuICB1YUJhc2VDYXNjYWRlID0gdmFsdWU7XG59XG5cbi8vLS0tLS0tLS0tLS0tLSBwYXJzaW5nIC0tLS0tLS0tLS0tLVxuZXhwb3J0IGNsYXNzIENhc2NhZGVQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLlNsYXZlUGFyc2VySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgY2hhaW46IENoYWluZWRBY3Rpb25bXSA9IG51bGw7XG4gIHNwZWNpZmljaXR5OiBudW1iZXIgPSAwO1xuICBlbGVtZW50U3R5bGU6IEVsZW1lbnRTdHlsZSA9IG51bGw7XG4gIGNvbmRpdGlvbkNvdW50OiBudW1iZXIgPSAwO1xuICBwc2V1ZG9lbGVtZW50OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZm9vdG5vdGVDb250ZW50OiBib29sZWFuID0gZmFsc2U7XG4gIGNhc2NhZGU6IENhc2NhZGU7XG4gIHN0YXRlOiBQYXJzZVN0YXRlO1xuICB2aWV3Q29uZGl0aW9uSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpbnNpZGVTZWxlY3RvclJ1bGU6IFBhcnNlU3RhdGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcGFyZW50OiBDYXNjYWRlUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWQ6IHN0cmluZyB8IG51bGwsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgICB0b3BMZXZlbDogYm9vbGVhbixcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0b3BMZXZlbCk7XG4gICAgdGhpcy5jYXNjYWRlID0gcGFyZW50XG4gICAgICA/IHBhcmVudC5jYXNjYWRlXG4gICAgICA6IHVhQmFzZUNhc2NhZGVcbiAgICAgID8gdWFCYXNlQ2FzY2FkZS5jbG9uZSgpXG4gICAgICA6IG5ldyBDYXNjYWRlKCk7XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgcHJvdGVjdGVkIGluc2VydE5vblByaW1hcnkoYWN0aW9uOiBDYXNjYWRlQWN0aW9uKTogdm9pZCB7XG4gICAgdGhpcy5jYXNjYWRlLmluc2VydEluVGFibGUodGhpcy5jYXNjYWRlLnRhZ3MsIFwiKlwiLCBhY3Rpb24pO1xuICB9XG5cbiAgcHJvY2Vzc0NoYWluKGFjdGlvbjogQ2FzY2FkZUFjdGlvbik6IHZvaWQge1xuICAgIGNvbnN0IGNoYWluZWQgPSBjaGFpbkFjdGlvbnModGhpcy5jaGFpbiwgYWN0aW9uKTtcbiAgICBpZiAoXG4gICAgICBjaGFpbmVkICE9PSBhY3Rpb24gJiZcbiAgICAgIChjaGFpbmVkIGFzIENoYWluZWRBY3Rpb24pLm1ha2VQcmltYXJ5KHRoaXMuY2FzY2FkZSlcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5pbnNlcnROb25QcmltYXJ5KGNoYWluZWQpO1xuICB9XG5cbiAgaXNJbnNpZGVTZWxlY3RvclJ1bGUobW5lbW9uaWNzOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPSBQYXJzZVN0YXRlLlRPUCkge1xuICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKG1uZW1vbmljcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBpZiAoIW5hbWUgJiYgIW5zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMTtcbiAgICBpZiAobmFtZSAmJiBucykge1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja05TVGFnQWN0aW9uKG5zLCBuYW1lLnRvTG93ZXJDYXNlKCkpKTtcbiAgICB9IGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tMb2NhbE5hbWVBY3Rpb24obmFtZS50b0xvd2VyQ2FzZSgpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tOYW1lc3BhY2VBY3Rpb24obnMgYXMgc3RyaW5nKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5wc2V1ZG9lbGVtZW50KSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGA6OiR7dGhpcy5wc2V1ZG9lbGVtZW50fWAsIGBmb2xsb3dlZCBieSAuJHtuYW1lfWApO1xuICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDI1NjtcbiAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ2xhc3NBY3Rpb24obmFtZSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHNldWRvY2xhc3NTZWxlY3RvcihuYW1lOiBzdHJpbmcsIHBhcmFtczogKG51bWJlciB8IHN0cmluZylbXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYDo6JHt0aGlzLnBzZXVkb2VsZW1lbnR9YCwgYGZvbGxvd2VkIGJ5IDoke25hbWV9YCk7XG4gICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAobmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIFwiZW5hYmxlZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRW5hYmxlZEFjdGlvbigpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0Rpc2FibGVkQWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNDaGVja2VkQWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyb290XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNSb290QWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tMb2NhbE5hbWVBY3Rpb24oXCJhXCIpKTtcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0F0dHJpYnV0ZVByZXNlbnRBY3Rpb24oXCJcIiwgXCJocmVmXCIpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiLWFkYXB0LWhyZWYtZXB1Yi10eXBlXCI6XG4gICAgICBjYXNlIFwiaHJlZi1lcHViLXR5cGVcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDEgJiYgdHlwZW9mIHBhcmFtc1swXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbXNbMF0gYXMgc3RyaW5nO1xuICAgICAgICAgIGNvbnN0IHBhdHQgPSBuZXcgUmVnRXhwKGAoXnxzKSR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfShcXCR8cylgKTtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrVGFyZ2V0RXB1YlR5cGVBY3Rpb24ocGF0dCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCItYWRhcHQtZm9vdG5vdGUtY29udGVudFwiOlxuICAgICAgY2FzZSBcImZvb3Rub3RlLWNvbnRlbnRcIjpcbiAgICAgICAgLy8gY29udGVudCBpbnNpZGUgdGhlIGZvb3Rub3RlXG4gICAgICAgIHRoaXMuZm9vdG5vdGVDb250ZW50ID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidmlzaXRlZFwiOlxuICAgICAgY2FzZSBcImFjdGl2ZVwiOlxuICAgICAgY2FzZSBcImhvdmVyXCI6XG4gICAgICBjYXNlIFwiZm9jdXNcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYW5nXCI6XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA9PSAxICYmIHR5cGVvZiBwYXJhbXNbMF0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIGNvbnN0IGxhbmdWYWx1ZSA9IHBhcmFtc1swXSBhcyBzdHJpbmc7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKFxuICAgICAgICAgICAgbmV3IENoZWNrTGFuZ0FjdGlvbihcbiAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcbiAgICAgICAgICAgICAgICBgXiR7QmFzZS5lc2NhcGVSZWdFeHAobGFuZ1ZhbHVlLnRvTG93ZXJDYXNlKCkpfShcXCR8LSlgLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm50aC1jaGlsZFwiOlxuICAgICAgY2FzZSBcIm50aC1sYXN0LWNoaWxkXCI6XG4gICAgICBjYXNlIFwibnRoLW9mLXR5cGVcIjpcbiAgICAgIGNhc2UgXCJudGgtbGFzdC1vZi10eXBlXCI6IHtcbiAgICAgICAgY29uc3QgQWN0aW9uQ2xhc3MgPSBudGhTZWxlY3RvckFjdGlvbkNsYXNzZXNbbmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2goXG4gICAgICAgICAgICBuZXcgQWN0aW9uQ2xhc3MocGFyYW1zWzBdIGFzIG51bWJlciwgcGFyYW1zWzFdIGFzIG51bWJlciksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZmlyc3QtY2hpbGRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0ZpcnN0QWN0aW9uKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0LWNoaWxkXCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ0FjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImZpcnN0LW9mLXR5cGVcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aFNpYmxpbmdPZlR5cGVBY3Rpb24oMCwgMSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0LW9mLXR5cGVcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uKDAsIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwib25seS1jaGlsZFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRmlyc3RBY3Rpb24oKSk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ0FjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm9ubHktb2YtdHlwZVwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzTnRoU2libGluZ09mVHlwZUFjdGlvbigwLCAxKSk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNOdGhMYXN0U2libGluZ09mVHlwZUFjdGlvbigwLCAxKSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImVtcHR5XCI6XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgSXNFbXB0eUFjdGlvbigpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1saW5lXCI6XG4gICAgICBjYXNlIFwiZmlyc3QtbGV0dGVyXCI6XG4gICAgICAgIHRoaXMucHNldWRvZWxlbWVudFNlbGVjdG9yKG5hbWUsIHBhcmFtcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oYHVua25vd24gcHNldWRvLWNsYXNzIHNlbGVjdG9yOiAke25hbWV9YCk7XG4gICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHNldWRvZWxlbWVudFNlbGVjdG9yKG5hbWU6IHN0cmluZywgcGFyYW1zOiAobnVtYmVyIHwgc3RyaW5nKVtdKTogdm9pZCB7XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwiYmVmb3JlXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXJcIjpcbiAgICAgIGNhc2UgXCJmaXJzdC1saW5lXCI6XG4gICAgICBjYXNlIFwiZmlyc3QtbGV0dGVyXCI6XG4gICAgICBjYXNlIFwiZm9vdG5vdGUtY2FsbFwiOlxuICAgICAgY2FzZSBcImZvb3Rub3RlLW1hcmtlclwiOlxuICAgICAgY2FzZSBcImlubmVyXCI6XG4gICAgICBjYXNlIFwiYWZ0ZXItaWYtY29udGludWVzXCI6XG4gICAgICAgIGlmICghdGhpcy5wc2V1ZG9lbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFxuICAgICAgICAgICAgYERvdWJsZSBwc2V1ZG9lbGVtZW50IDo6JHt0aGlzLnBzZXVkb2VsZW1lbnR9Ojoke25hbWV9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIikpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJmaXJzdC1uLWxpbmVzXCI6XG4gICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLmxlbmd0aCA9PSAxICYmIHR5cGVvZiBwYXJhbXNbMF0gPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGNvbnN0IG4gPSBNYXRoLnJvdW5kKHBhcmFtc1swXSBhcyBudW1iZXIpO1xuICAgICAgICAgIGlmIChuID4gMCAmJiBuID09IHBhcmFtc1swXSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBzZXVkb2VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gYGZpcnN0LSR7bn0tbGluZXNgO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBgRG91YmxlIHBzZXVkb2VsZW1lbnQgOjoke3RoaXMucHNldWRvZWxlbWVudH06OiR7bmFtZX1gLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJudGgtZnJhZ21lbnRcIjpcbiAgICAgICAgaWYgKHBhcmFtcyAmJiBwYXJhbXMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IGBORlNfJHtwYXJhbXNbMF19XyR7cGFyYW1zWzFdfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKSk7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihgVW5yZWNvZ25pemVkIHBzZXVkb2VsZW1lbnQ6IDo6JHtuYW1lfWApO1xuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDE7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpZFNlbGVjdG9yKGlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDY1NTM2O1xuICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tJZEFjdGlvbihpZCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXR0cmlidXRlU2VsZWN0b3IoXG4gICAgbnM6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgb3A6IENzc1Rva2VuaXplci5Ub2tlblR5cGUsXG4gICAgdmFsdWU6IHN0cmluZyB8IG51bGwsXG4gICk6IHZvaWQge1xuICAgIHRoaXMuc3BlY2lmaWNpdHkgKz0gMjU2O1xuICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsdWUgPSB2YWx1ZSB8fCBcIlwiO1xuICAgIGxldCBhY3Rpb247XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVPRjpcbiAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUHJlc2VudEFjdGlvbihucywgbmFtZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVROlxuICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVFcUFjdGlvbihucywgbmFtZSwgdmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5USUxERV9FUTpcbiAgICAgICAgaWYgKCF2YWx1ZSB8fCB2YWx1ZS5tYXRjaCgvXFxzLykpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoYChefFxcXFxzKSR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfShcXCR8XFxcXHMpYCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5CQVJfRVE6XG4gICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICBucyxcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIG5ldyBSZWdFeHAoYF4ke0Jhc2UuZXNjYXBlUmVnRXhwKHZhbHVlKX0oXFwkfC0pYCksXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkhBVF9FUTpcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQXR0cmlidXRlUmVnRXhwQWN0aW9uKFxuICAgICAgICAgICAgbnMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbmV3IFJlZ0V4cChgXiR7QmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpfWApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRE9MTEFSX0VROlxuICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKFwiXCIpOyAvLyBhbHdheXMgZmFpbHNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tBdHRyaWJ1dGVSZWdFeHBBY3Rpb24oXG4gICAgICAgICAgICBucyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBuZXcgUmVnRXhwKGAke0Jhc2UuZXNjYXBlUmVnRXhwKHZhbHVlKX1cXCRgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVJfRVE6XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0F0dHJpYnV0ZVJlZ0V4cEFjdGlvbihcbiAgICAgICAgICAgIG5zLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5ldyBSZWdFeHAoQmFzZS5lc2NhcGVSZWdFeHAodmFsdWUpKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTF9DT0w6XG4gICAgICAgIGlmICh2YWx1ZSA9PSBcInN1cHBvcnRlZFwiKSB7XG4gICAgICAgICAgYWN0aW9uID0gbmV3IENoZWNrTmFtZXNwYWNlU3VwcG9ydGVkQWN0aW9uKG5zLCBuYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiVW5zdXBwb3J0ZWQgOjogYXR0ciBzZWxlY3RvciBvcDpcIiwgdmFsdWUpO1xuICAgICAgICAgIGFjdGlvbiA9IG5ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihcIlwiKTsgLy8gYWx3YXlzIGZhaWxzXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiVW5zdXBwb3J0ZWQgYXR0ciBzZWxlY3RvcjpcIiwgb3ApO1xuICAgICAgICBhY3Rpb24gPSBuZXcgQ2hlY2tDb25kaXRpb25BY3Rpb24oXCJcIik7IC8vIGFsd2F5cyBmYWlsc1xuICAgIH1cbiAgICB0aGlzLmNoYWluLnB1c2goYWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRlc2NlbmRhbnRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgZCR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBEZXNjZW5kYW50Q29uZGl0aW9uSXRlbShjb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbklkLCBudWxsKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjaGlsZFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGBjJHtjb25kaXRpb25Db3VudCsrfWA7XG4gICAgdGhpcy5wcm9jZXNzQ2hhaW4oXG4gICAgICBuZXcgQ29uZGl0aW9uSXRlbUFjdGlvbihcbiAgICAgICAgbmV3IENoaWxkQ29uZGl0aW9uSXRlbShjb25kaXRpb24sIHRoaXMudmlld0NvbmRpdGlvbklkLCBudWxsKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGphY2VudFNpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgYSR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBBZGphY2VudFNpYmxpbmdDb25kaXRpb25JdGVtKGNvbmRpdGlvbiwgdGhpcy52aWV3Q29uZGl0aW9uSWQsIG51bGwpLFxuICAgICAgKSxcbiAgICApO1xuICAgIHRoaXMuY2hhaW4gPSBbbmV3IENoZWNrQ29uZGl0aW9uQWN0aW9uKGNvbmRpdGlvbildO1xuICAgIHRoaXMudmlld0NvbmRpdGlvbklkID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZvbGxvd2luZ1NpYmxpbmdTZWxlY3RvcigpOiB2b2lkIHtcbiAgICBjb25zdCBjb25kaXRpb24gPSBgZiR7Y29uZGl0aW9uQ291bnQrK31gO1xuICAgIHRoaXMucHJvY2Vzc0NoYWluKFxuICAgICAgbmV3IENvbmRpdGlvbkl0ZW1BY3Rpb24oXG4gICAgICAgIG5ldyBGb2xsb3dpbmdTaWJsaW5nQ29uZGl0aW9uSXRlbShcbiAgICAgICAgICBjb25kaXRpb24sXG4gICAgICAgICAgdGhpcy52aWV3Q29uZGl0aW9uSWQsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgKSxcbiAgICAgICksXG4gICAgKTtcbiAgICB0aGlzLmNoYWluID0gW25ldyBDaGVja0NvbmRpdGlvbkFjdGlvbihjb25kaXRpb24pXTtcbiAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5maW5pc2hDaGFpbigpO1xuICAgIHRoaXMucHNldWRvZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5mb290bm90ZUNvbnRlbnQgPSBmYWxzZTtcbiAgICB0aGlzLnNwZWNpZmljaXR5ID0gMDtcbiAgICB0aGlzLmNoYWluID0gW107XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFNlbGVjdG9yUnVsZSgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5pc0luc2lkZVNlbGVjdG9yUnVsZShcIkVfQ1NTX1VORVhQRUNURURfU0VMRUNUT1JcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuU0VMRUNUT1I7XG4gICAgdGhpcy5lbGVtZW50U3R5bGUgPSB7fSBhcyBFbGVtZW50U3R5bGU7XG4gICAgdGhpcy5wc2V1ZG9lbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLnNwZWNpZmljaXR5ID0gMDtcbiAgICB0aGlzLmZvb3Rub3RlQ29udGVudCA9IGZhbHNlO1xuICAgIHRoaXMuY2hhaW4gPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgc3VwZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT0gUGFyc2VTdGF0ZS5TRUxFQ1RPUikge1xuICAgICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0U3R5bGVzaGVldChmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yKTogdm9pZCB7XG4gICAgc3VwZXIuc3RhcnRTdHlsZXNoZWV0KGZsYXZvcik7XG4gICAgdGhpcy5zdGF0ZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLmZpbmlzaENoYWluKCk7XG4gICAgc3VwZXIuc3RhcnRSdWxlQm9keSgpO1xuICAgIGlmICh0aGlzLnN0YXRlID09IFBhcnNlU3RhdGUuU0VMRUNUT1IpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBQYXJzZVN0YXRlLlRPUDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRSdWxlKCk6IHZvaWQge1xuICAgIHN1cGVyLmVuZFJ1bGUoKTtcbiAgICB0aGlzLmluc2lkZVNlbGVjdG9yUnVsZSA9IFBhcnNlU3RhdGUuVE9QO1xuICB9XG5cbiAgZmluaXNoQ2hhaW4oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY2hhaW4pIHtcbiAgICAgIGNvbnN0IHNwZWNpZmljaXR5OiBudW1iZXIgPSB0aGlzLnNwZWNpZmljaXR5ICsgdGhpcy5jYXNjYWRlLm5leHRPcmRlcigpO1xuICAgICAgdGhpcy5wcm9jZXNzQ2hhaW4odGhpcy5tYWtlQXBwbHlSdWxlQWN0aW9uKHNwZWNpZmljaXR5KSk7XG4gICAgICB0aGlzLmNoYWluID0gbnVsbDtcbiAgICAgIHRoaXMucHNldWRvZWxlbWVudCA9IG51bGw7XG4gICAgICB0aGlzLnZpZXdDb25kaXRpb25JZCA9IG51bGw7XG4gICAgICB0aGlzLmZvb3Rub3RlQ29udGVudCA9IGZhbHNlO1xuICAgICAgdGhpcy5zcGVjaWZpY2l0eSA9IDA7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG1ha2VBcHBseVJ1bGVBY3Rpb24oc3BlY2lmaWNpdHk6IG51bWJlcik6IEFwcGx5UnVsZUFjdGlvbiB7XG4gICAgbGV0IHJlZ2lvbklkID0gdGhpcy5yZWdpb25JZDtcbiAgICBpZiAodGhpcy5mb290bm90ZUNvbnRlbnQpIHtcbiAgICAgIGlmIChyZWdpb25JZCkge1xuICAgICAgICByZWdpb25JZCA9IFwieHh4LWJvZ3VzLXh4eFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVnaW9uSWQgPSBcImZvb3Rub3RlXCI7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgQXBwbHlSdWxlQWN0aW9uKFxuICAgICAgdGhpcy5lbGVtZW50U3R5bGUsXG4gICAgICBzcGVjaWZpY2l0eSxcbiAgICAgIHRoaXMucHNldWRvZWxlbWVudCxcbiAgICAgIHJlZ2lvbklkLFxuICAgICAgdGhpcy52aWV3Q29uZGl0aW9uSWQsXG4gICAgKTtcbiAgfVxuXG4gIHNwZWNpYWwobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCkge1xuICAgIGxldCB2YWw6IENhc2NhZGVWYWx1ZTtcbiAgICBpZiAoIXRoaXMuY29uZGl0aW9uKSB7XG4gICAgICB2YWwgPSBuZXcgQ2FzY2FkZVZhbHVlKHZhbHVlLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gbmV3IENvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlKHZhbHVlLCAwLCB0aGlzLmNvbmRpdGlvbik7XG4gICAgfVxuICAgIGNvbnN0IGFyciA9IGdldE11dGFibGVTcGVjaWFsKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lKTtcbiAgICBhcnIucHVzaCh2YWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZChcbiAgICAgIG5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGltcG9ydGFudCxcbiAgICAgIHRoaXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHVua25vd25Qcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgdGhpcy5yZXBvcnQoYEVfSU5WQUxJRF9QUk9QRVJUWSAke25hbWV9OiAke3ZhbHVlLnRvU3RyaW5nKCl9YCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzaW1wbGVQcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBuYW1lID09IFwiZGlzcGxheVwiICYmXG4gICAgICAodmFsdWUgPT09IENzcy5pZGVudC5vZWJfcGFnZV9oZWFkIHx8IHZhbHVlID09PSBDc3MuaWRlbnQub2ViX3BhZ2VfZm9vdClcbiAgICApIHtcbiAgICAgIHRoaXMuc2ltcGxlUHJvcGVydHkoXG4gICAgICAgIFwiZmxvdy1vcHRpb25zXCIsXG4gICAgICAgIG5ldyBDc3MuU3BhY2VMaXN0KFtDc3MuaWRlbnQuZXhjbHVzaXZlLCBDc3MuaWRlbnQuX3N0YXRpY10pLFxuICAgICAgICBpbXBvcnRhbnQsXG4gICAgICApO1xuICAgICAgdGhpcy5zaW1wbGVQcm9wZXJ0eShcImZsb3ctaW50b1wiLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICAgIHZhbHVlID0gQ3NzLmlkZW50LmJsb2NrO1xuICAgIH1cbiAgICBjb25zdCBob29rcyA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXCJTSU1QTEVfUFJPUEVSVFlcIik7XG4gICAgaG9va3MuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWwgPSB7IG5hbWU6IG5hbWUsIHZhbHVlOiB2YWx1ZSwgaW1wb3J0YW50OiBpbXBvcnRhbnQgfTtcbiAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IGhvb2sob3JpZ2luYWwpO1xuICAgICAgbmFtZSA9IGNvbnZlcnRlZFtcIm5hbWVcIl07XG4gICAgICB2YWx1ZSA9IGNvbnZlcnRlZFtcInZhbHVlXCJdO1xuICAgICAgaW1wb3J0YW50ID0gY29udmVydGVkW1wiaW1wb3J0YW50XCJdO1xuICAgIH0pO1xuICAgIGNvbnN0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIGNvbnN0IGNhc2N2YWwgPSB0aGlzLmNvbmRpdGlvblxuICAgICAgPyBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5LCB0aGlzLmNvbmRpdGlvbilcbiAgICAgIDogbmV3IENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIHNldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUsIGNhc2N2YWwpO1xuICB9XG5cbiAgZmluaXNoKCk6IENhc2NhZGUge1xuICAgIHJldHVybiB0aGlzLmNhc2NhZGU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZ1bmNXaXRoU2VsZWN0b3IoZnVuY05hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAoZnVuY05hbWUpIHtcbiAgICAgIGNhc2UgXCJub3RcIjoge1xuICAgICAgICBjb25zdCBub3RQYXJzZXJIYW5kbGVyID0gbmV3IE5vdFBhcmFtZXRlclBhcnNlckhhbmRsZXIodGhpcyk7XG4gICAgICAgIG5vdFBhcnNlckhhbmRsZXIuc3RhcnRTZWxlY3RvclJ1bGUoKTtcbiAgICAgICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihub3RQYXJzZXJIYW5kbGVyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbnRoU2VsZWN0b3JBY3Rpb25DbGFzc2VzOiB7IFtrZXk6IHN0cmluZ106IHR5cGVvZiBJc050aEFjdGlvbiB9ID0ge1xuICBcIm50aC1jaGlsZFwiOiBJc050aFNpYmxpbmdBY3Rpb24sXG4gIFwibnRoLW9mLXR5cGVcIjogSXNOdGhTaWJsaW5nT2ZUeXBlQWN0aW9uLFxuICBcIm50aC1sYXN0LWNoaWxkXCI6IElzTnRoTGFzdFNpYmxpbmdBY3Rpb24sXG4gIFwibnRoLWxhc3Qtb2YtdHlwZVwiOiBJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uLFxufTtcblxuZXhwb3J0IGxldCBjb25kaXRpb25Db3VudDogbnVtYmVyID0gMDtcblxuZXhwb3J0IGNsYXNzIE5vdFBhcmFtZXRlclBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDYXNjYWRlUGFyc2VySGFuZGxlciB7XG4gIHBhcmVudENoYWluOiBDaGFpbmVkQWN0aW9uW107XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHBhcmVudDogQ2FzY2FkZVBhcnNlckhhbmRsZXIpIHtcbiAgICBzdXBlcihcbiAgICAgIHBhcmVudC5zY29wZSxcbiAgICAgIHBhcmVudC5vd25lcixcbiAgICAgIHBhcmVudC5jb25kaXRpb24sXG4gICAgICBwYXJlbnQsXG4gICAgICBwYXJlbnQucmVnaW9uSWQsXG4gICAgICBwYXJlbnQudmFsaWRhdG9yU2V0LFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgICB0aGlzLnBhcmVudENoYWluID0gcGFyZW50LmNoYWluO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGdW5jV2l0aFNlbGVjdG9yKGZ1bmNOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoZnVuY05hbWUgPT0gXCJub3RcIikge1xuICAgICAgdGhpcy5yZXBvcnRBbmRTa2lwKFwiRV9DU1NfVU5FWFBFQ1RFRF9OT1RcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX1JVTEVfQk9EWVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIG5leHRTZWxlY3RvcigpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydEFuZFNraXAoXCJFX0NTU19VTkVYUEVDVEVEX05FWFRfU0VMRUNUT1JcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlbmRGdW5jV2l0aFNlbGVjdG9yKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmNoYWluICYmIHRoaXMuY2hhaW4ubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5wYXJlbnRDaGFpbi5wdXNoKG5ldyBOZWdhdGVBY3Rpb25zU2V0KHRoaXMuY2hhaW4pKTtcbiAgICB9XG4gICAgdGhpcy5wYXJlbnQuc3BlY2lmaWNpdHkgKz0gdGhpcy5zcGVjaWZpY2l0eTtcbiAgICB0aGlzLm93bmVyLnBvcEhhbmRsZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVycm9yKG1uZW1vbmljczogc3RyaW5nLCB0b2tlbjogQ3NzVG9rZW5pemVyLlRva2VuKTogdm9pZCB7XG4gICAgc3VwZXIuZXJyb3IobW5lbW9uaWNzLCB0b2tlbik7XG4gICAgdGhpcy5vd25lci5wb3BIYW5kbGVyKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuZXhwb3J0IGNsYXNzIERlZmluZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zY29wZS52YWx1ZXNbbmFtZV0pIHtcbiAgICAgIHRoaXMuZXJyb3IoYEVfQ1NTX05BTUVfUkVERUZJTkVEICR7bmFtZX1gLCB0aGlzLmdldEN1cnJlbnRUb2tlbigpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgdW5pdCA9IG5hbWUubWF0Y2goL2hlaWdodHxeKHRvcHxib3R0b20pJC8pID8gXCJ2aFwiIDogXCJ2d1wiO1xuICAgICAgY29uc3QgZGltID0gbmV3IEV4cHJzLk51bWVyaWModGhpcy5zY29wZSwgMTAwLCB1bml0KTtcbiAgICAgIHRoaXMuc2NvcGUuZGVmaW5lTmFtZShuYW1lLCB2YWx1ZS50b0V4cHIodGhpcy5zY29wZSwgZGltKSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9wU2V0UGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5TbGF2ZVBhcnNlckhhbmRsZXJcbiAgaW1wbGVtZW50cyBDc3NWYWxpZGF0b3IuUHJvcGVydHlSZWNlaXZlciB7XG4gIG9yZGVyOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW1lbnRTdHlsZTogRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgZmFsc2UpO1xuICAgIHRoaXMub3JkZXIgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50OiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKGltcG9ydGFudCkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkVfSU1QT1JUQU5UX05PVF9BTExPV0VEXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW1wb3J0YW50LFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgIFwiRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFXCIsXG4gICAgICBgJHtuYW1lfTpgLFxuICAgICAgdmFsdWUudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9JTlZBTElEX1BST1BFUlRZXCIsIGAke25hbWV9OmAsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgbGV0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIHNwZWNpZmljaXR5ICs9IHRoaXMub3JkZXI7XG4gICAgdGhpcy5vcmRlciArPSBPUkRFUl9JTkNSRU1FTlQ7XG4gICAgY29uc3QgYXYgPSB0aGlzLmNvbmRpdGlvblxuICAgICAgPyBuZXcgQ29uZGl0aW9uYWxDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5LCB0aGlzLmNvbmRpdGlvbilcbiAgICAgIDogbmV3IENhc2NhZGVWYWx1ZSh2YWx1ZSwgc3BlY2lmaWNpdHkpO1xuICAgIHNldFByb3AodGhpcy5lbGVtZW50U3R5bGUsIG5hbWUsIGF2KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJzZXJIYW5kbGVyIGV4dGVuZHMgQ3NzUGFyc2VyLkVycm9ySGFuZGxlclxuICBpbXBsZW1lbnRzIENzc1ZhbGlkYXRvci5Qcm9wZXJ0eVJlY2VpdmVyIHtcbiAgZWxlbWVudFN0eWxlID0ge30gYXMgRWxlbWVudFN0eWxlO1xuICBvcmRlcjogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudDogYm9vbGVhbik6IHZvaWQge1xuICAgIHRoaXMudmFsaWRhdG9yU2V0LnZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgICBuYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBpbXBvcnRhbnQsXG4gICAgICB0aGlzLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbnZhbGlkUHJvcGVydHlWYWx1ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsKTogdm9pZCB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgIFwiRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFXCIsXG4gICAgICBgJHtuYW1lfTpgLFxuICAgICAgdmFsdWUudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9JTlZBTElEX1BST1BFUlRZXCIsIGAke25hbWV9OmAsIHZhbHVlLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgbGV0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IENzc1BhcnNlci5TUEVDSUZJQ0lUWV9TVFlMRV9JTVBPUlRBTlRcbiAgICAgIDogQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFO1xuICAgIHNwZWNpZmljaXR5ICs9IHRoaXMub3JkZXI7XG4gICAgdGhpcy5vcmRlciArPSBPUkRFUl9JTkNSRU1FTlQ7XG4gICAgY29uc3QgY2FzY3ZhbCA9IG5ldyBDYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5KTtcbiAgICBzZXRQcm9wKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lLCBjYXNjdmFsKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yRWFjaFZpZXdDb25kaXRpb25hbFN0eWxlcyhcbiAgc3R5bGU6IEVsZW1lbnRTdHlsZSxcbiAgY2FsbGJhY2s6IChwMTogRWxlbWVudFN0eWxlKSA9PiBhbnksXG4pOiB2b2lkIHtcbiAgY29uc3Qgdmlld0NvbmRpdGlvbmFsU3R5bGVzID0gZ2V0Vmlld0NvbmRpdGlvbmFsU3R5bGVNYXAoc3R5bGUpO1xuICBpZiAoIXZpZXdDb25kaXRpb25hbFN0eWxlcykge1xuICAgIHJldHVybjtcbiAgfVxuICB2aWV3Q29uZGl0aW9uYWxTdHlsZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBpZiAoIWVudHJ5Lm1hdGNoZXIubWF0Y2hlcygpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxiYWNrKGVudHJ5LnN0eWxlcyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gIGNhc2NNYXA6IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0sXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4pOiB2b2lkIHtcbiAgZm9yRWFjaFZpZXdDb25kaXRpb25hbFN0eWxlcyhzdHlsZSwgKHZpZXdDb25kaXRpb25hbFN0eWxlcykgPT4ge1xuICAgIG1lcmdlU3R5bGUoY2FzY01hcCwgdmlld0NvbmRpdGlvbmFsU3R5bGVzLCBjb250ZXh0KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0eWxlQXR0cmlidXRlKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gIGJhc2VVUkw6IHN0cmluZyxcbiAgc3R5bGVBdHRyVmFsdWU6IHN0cmluZyxcbik6IEVsZW1lbnRTdHlsZSB7XG4gIGNvbnN0IGhhbmRsZXIgPSBuZXcgUHJvcGVydHlQYXJzZXJIYW5kbGVyKHNjb3BlLCB2YWxpZGF0b3JTZXQpO1xuICBjb25zdCB0b2tlbml6ZXIgPSBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcihzdHlsZUF0dHJWYWx1ZSwgaGFuZGxlcik7XG4gIHRyeSB7XG4gICAgQ3NzUGFyc2VyLnBhcnNlU3R5bGVBdHRyaWJ1dGUodG9rZW5pemVyLCBoYW5kbGVyLCBiYXNlVVJMKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwiU3R5bGUgYXR0cmlidXRlIHBhcnNlIGVycm9yOlwiKTtcbiAgfVxuICByZXR1cm4gaGFuZGxlci5lbGVtZW50U3R5bGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1ZlcnRpY2FsKFxuICBjYXNjYWRlZDogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSxcbiAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgY29uc3Qgd3JpdGluZ01vZGVDYXNjID0gY2FzY2FkZWRbXCJ3cml0aW5nLW1vZGVcIl07XG4gIGlmICh3cml0aW5nTW9kZUNhc2MpIHtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlQ2FzYy5ldmFsdWF0ZShjb250ZXh0LCBcIndyaXRpbmctbW9kZVwiKTtcbiAgICBpZiAod3JpdGluZ01vZGUgJiYgd3JpdGluZ01vZGUgIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICByZXR1cm4gd3JpdGluZ01vZGUgPT09IENzcy5pZGVudC52ZXJ0aWNhbF9ybDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZlcnRpY2FsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNSdGwoXG4gIGNhc2NhZGVkOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICBydGw6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgY29uc3QgZGlyZWN0aW9uQ2FzYyA9IGNhc2NhZGVkW1wiZGlyZWN0aW9uXCJdO1xuICBpZiAoZGlyZWN0aW9uQ2FzYykge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGRpcmVjdGlvbkNhc2MuZXZhbHVhdGUoY29udGV4dCwgXCJkaXJlY3Rpb25cIik7XG4gICAgaWYgKGRpcmVjdGlvbiAmJiBkaXJlY3Rpb24gIT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICByZXR1cm4gZGlyZWN0aW9uID09PSBDc3MuaWRlbnQucnRsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcnRsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkNhc2NhZGVkU3R5bGUoXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHJlZ2lvbklkczogc3RyaW5nW10sXG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4sXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IHsgW2tleTogc3RyaW5nXTogQ2FzY2FkZVZhbHVlIH0ge1xuICBjb25zdCBjYXNjTWFwID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfTtcbiAgZm9yIChjb25zdCBuIGluIHN0eWxlKSB7XG4gICAgaWYgKGlzUHJvcE5hbWUobikpIHtcbiAgICAgIGNhc2NNYXBbbl0gPSBnZXRQcm9wKHN0eWxlLCBuKTtcbiAgICB9XG4gIH1cbiAgbWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoY2FzY01hcCwgY29udGV4dCwgc3R5bGUpO1xuICBmb3JFYWNoU3R5bGVzSW5SZWdpb24oXG4gICAgc3R5bGUsXG4gICAgcmVnaW9uSWRzLFxuICAgIGlzRm9vdG5vdGUsXG4gICAgKHJlZ2lvbklkLCByZWdpb25TdHlsZSkgPT4ge1xuICAgICAgbWVyZ2VTdHlsZShjYXNjTWFwLCByZWdpb25TdHlsZSwgY29udGV4dCk7XG4gICAgICBtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyhjYXNjTWFwLCBjb250ZXh0LCByZWdpb25TdHlsZSk7XG4gICAgfSxcbiAgKTtcbiAgcmV0dXJuIGNhc2NNYXA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoU3R5bGVzSW5SZWdpb24oXG4gIHN0eWxlOiBFbGVtZW50U3R5bGUsXG4gIHJlZ2lvbklkczogc3RyaW5nW10sXG4gIGlzRm9vdG5vdGU6IGJvb2xlYW4sXG4gIGNhbGxiYWNrOiAocDE6IHN0cmluZywgcDI6IEVsZW1lbnRTdHlsZSkgPT4gYW55LFxuKTogdm9pZCB7XG4gIGNvbnN0IHJlZ2lvbnMgPSBnZXRTdHlsZU1hcChzdHlsZSwgXCJfcmVnaW9uc1wiKTtcbiAgaWYgKChyZWdpb25JZHMgfHwgaXNGb290bm90ZSkgJiYgcmVnaW9ucykge1xuICAgIGlmIChpc0Zvb3Rub3RlKSB7XG4gICAgICBjb25zdCBmb290bm90ZVJlZ2lvbiA9IFtcImZvb3Rub3RlXCJdO1xuICAgICAgaWYgKCFyZWdpb25JZHMpIHtcbiAgICAgICAgcmVnaW9uSWRzID0gZm9vdG5vdGVSZWdpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWdpb25JZHMgPSByZWdpb25JZHMuY29uY2F0KGZvb3Rub3RlUmVnaW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCByZWdpb25JZCBvZiByZWdpb25JZHMpIHtcbiAgICAgIGNvbnN0IHJlZ2lvblN0eWxlID0gcmVnaW9uc1tyZWdpb25JZF07XG4gICAgICBpZiAocmVnaW9uU3R5bGUpIHtcbiAgICAgICAgY2FsbGJhY2socmVnaW9uSWQsIHJlZ2lvblN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3R5bGUoXG4gIHRvOiB7IFtrZXk6IHN0cmluZ106IENhc2NhZGVWYWx1ZSB9LFxuICBmcm9tOiBFbGVtZW50U3R5bGUsXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBmcm9tKSB7XG4gICAgaWYgKGlzUHJvcE5hbWUocHJvcGVydHkpKSB7XG4gICAgICBjb25zdCBuZXdWYWwgPSBnZXRQcm9wKGZyb20sIHByb3BlcnR5KTtcbiAgICAgIGNvbnN0IG9sZFZhbCA9IHRvW3Byb3BlcnR5XTtcbiAgICAgIHRvW3Byb3BlcnR5XSA9IGNhc2NhZGVWYWx1ZXMoY29udGV4dCwgb2xkVmFsLCBuZXdWYWwgYXMgQ2FzY2FkZVZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGxvZ2ljYWwgcHJvcGVydGllcyB0byBwaHlzaWNhbCBvbmVzLCB0YWtpbmcgc3BlY2lmaWNpdHkgaW50byBhY2NvdW50LlxuICogQHBhcmFtIHNyYyBTb3VyY2UgcHJvcGVydGllcyBtYXBcbiAqIEBwYXJhbSBkZXN0IERlc3RpbmF0aW9uIG1hcFxuICogQHBhcmFtIHRyYW5zZm9ybSBJZiBzdXBwbGllZCwgcHJvcGVydHkgdmFsdWVzIGFyZSB0cmFuc2Zvcm1lZCBieSB0aGlzXG4gKiAgICAgZnVuY3Rpb24gYmVmb3JlIGluc2VydGVkIGludG8gdGhlIGRlc3RpbmF0aW9uIG1hcC4gVGhlIGZpcnN0IHBhcmFtZXRlciBpc1xuICogICAgIHRoZSBwcm9wZXJ0eSBuYW1lIGFuZCB0aGUgc2Vjb25kIG9uZSBpcyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKiBAdGVtcGxhdGUgVFxuICovXG5leHBvcnQgY29uc3QgY29udmVydFRvUGh5c2ljYWwgPSA8VD4oXG4gIHNyYzogeyBba2V5OiBzdHJpbmddOiBDYXNjYWRlVmFsdWUgfSxcbiAgZGVzdDogeyBba2V5OiBzdHJpbmddOiBUIH0sXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICBydGw6IGJvb2xlYW4sXG4gIHRyYW5zZm9ybTogKHAxOiBzdHJpbmcsIHAyOiBDYXNjYWRlVmFsdWUpID0+IFQsXG4pID0+IHtcbiAgY29uc3QgY291cGxpbmdNYXAgPSB2ZXJ0aWNhbFxuICAgID8gcnRsXG4gICAgICA/IGNvdXBsaW5nTWFwVmVydFJ0bFxuICAgICAgOiBjb3VwbGluZ01hcFZlcnRcbiAgICA6IHJ0bFxuICAgID8gY291cGxpbmdNYXBIb3JSdGxcbiAgICA6IGNvdXBsaW5nTWFwSG9yO1xuICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHNyYykge1xuICAgIGlmIChzcmMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICBjb25zdCBjYXNjVmFsID0gc3JjW3Byb3BOYW1lXTtcbiAgICAgIGlmICghY2FzY1ZhbCkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvdXBsZWROYW1lID0gY291cGxpbmdNYXBbcHJvcE5hbWVdO1xuICAgICAgbGV0IHRhcmdldE5hbWU6IHN0cmluZztcbiAgICAgIGlmIChjb3VwbGVkTmFtZSkge1xuICAgICAgICBjb25zdCBjb3VwbGVkQ2FzY1ZhbCA9IHNyY1tjb3VwbGVkTmFtZV07XG4gICAgICAgIGlmIChjb3VwbGVkQ2FzY1ZhbCAmJiBjb3VwbGVkQ2FzY1ZhbC5wcmlvcml0eSA+IGNhc2NWYWwucHJpb3JpdHkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXROYW1lID0gZ2VvbU5hbWVzW2NvdXBsZWROYW1lXSA/IGNvdXBsZWROYW1lIDogcHJvcE5hbWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXROYW1lID0gcHJvcE5hbWU7XG4gICAgICB9XG4gICAgICBkZXN0W3RhcmdldE5hbWVdID0gdHJhbnNmb3JtKHByb3BOYW1lLCBjYXNjVmFsKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDc3NMb2dpY2FsVXRpbCAtIFV0aWxpdGllcyByZWxhdGVkIHRvIENTUyBMb2dpY2FsIFByb3BlcnRpZXMgYW5kIFZhbHVlcyBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWxvZ2ljYWwvXG4gKi9cbnR5cGUgQ29udmVyc2lvbk1hcCA9IHtcbiAgcmVnZXhwOiBSZWdFeHA7XG4gIHRvOiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVSZWdFeHBNYXAoXG4gIHZhbHVlTWFwczoge1xuICAgIFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdIH07XG4gIH0sXG4gIHRvUGh5c2ljYWw6IGJvb2xlYW4sXG4pOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogQ29udmVyc2lvbk1hcFtdIH0gfSB7XG4gIGNvbnN0IG1hcCA9IHt9O1xuICBPYmplY3Qua2V5cyh2YWx1ZU1hcHMgYXMgb2JqZWN0KS5mb3JFYWNoKCh3cml0aW5nTW9kZSkgPT4ge1xuICAgIGNvbnN0IGRlc3QgPSAobWFwW3dyaXRpbmdNb2RlXSA9IHt9KTtcbiAgICBjb25zdCBzcmMgPSB2YWx1ZU1hcHNbd3JpdGluZ01vZGVdO1xuICAgIE9iamVjdC5rZXlzKHNyYyBhcyBvYmplY3QpLmZvckVhY2goKGRpcmVjdGlvbikgPT4ge1xuICAgICAgZGVzdFtkaXJlY3Rpb25dID0gc3JjW2RpcmVjdGlvbl0ubWFwKChwKSA9PiB7XG4gICAgICAgIGNvbnN0IGZyb20gPSB0b1BoeXNpY2FsID8gcC5sb2dpY2FsIDogcC5waHlzaWNhbDtcbiAgICAgICAgY29uc3QgdG8gPSB0b1BoeXNpY2FsID8gcC5waHlzaWNhbCA6IHAubG9naWNhbDtcbiAgICAgICAgcmV0dXJuIHsgcmVnZXhwOiBuZXcgUmVnRXhwKGAoLT8pJHtmcm9tfSgtPylgKSwgdG86IGBcXCQxJHt0b31cXCQyYCB9O1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gbWFwO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0KFxuICB2YWx1ZTogc3RyaW5nLFxuICB3cml0aW5nTW9kZTogc3RyaW5nLFxuICBkaXJlY3Rpb246IHN0cmluZyB8IG51bGwsXG4gIG1hcHM6IHsgW2tleTogc3RyaW5nXTogeyBba2V5OiBzdHJpbmddOiBDb252ZXJzaW9uTWFwW10gfSB9LFxuKTogc3RyaW5nIHtcbiAgY29uc3QgbWFwczIgPSBtYXBzW3dyaXRpbmdNb2RlXTtcbiAgaWYgKCFtYXBzMikge1xuICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biB3cml0aW5nLW1vZGU6ICR7d3JpdGluZ01vZGV9YCk7XG4gIH1cbiAgY29uc3QgbWFwID0gbWFwczJbZGlyZWN0aW9uIHx8IFwibHRyXCJdO1xuICBpZiAoIW1hcCkge1xuICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBkaXJlY3Rpb246ICR7ZGlyZWN0aW9ufWApO1xuICB9XG4gIGZvciAoY29uc3QgcCBvZiBtYXApIHtcbiAgICBjb25zdCByZXBsYWNlZCA9IHZhbHVlLnJlcGxhY2UocC5yZWdleHAsIHAudG8pO1xuICAgIGlmIChyZXBsYWNlZCAhPT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiByZXBsYWNlZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuY29uc3QgdmFsdWVzOiB7XG4gIFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdIH07XG59ID0ge1xuICBcImhvcml6b250YWwtdGJcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcIndpZHRoXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwidG9wXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgIF0sXG4gIH0sXG4gIFwidmVydGljYWwtcmxcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLWVuZFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXNpemVcIiwgcGh5c2ljYWw6IFwid2lkdGhcIiB9LFxuICAgIF0sXG4gIH0sXG4gIFwidmVydGljYWwtbHJcIjoge1xuICAgIGx0cjogW1xuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zdGFydFwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1lbmRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1zdGFydFwiLCBwaHlzaWNhbDogXCJsZWZ0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJibG9jay1lbmRcIiwgcGh5c2ljYWw6IFwicmlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImlubGluZS1zaXplXCIsIHBoeXNpY2FsOiBcImhlaWdodFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc2l6ZVwiLCBwaHlzaWNhbDogXCJ3aWR0aFwiIH0sXG4gICAgXSxcbiAgICBydGw6IFtcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc3RhcnRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtZW5kXCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stc3RhcnRcIiwgcGh5c2ljYWw6IFwibGVmdFwiIH0sXG4gICAgICB7IGxvZ2ljYWw6IFwiYmxvY2stZW5kXCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICAgIHsgbG9naWNhbDogXCJpbmxpbmUtc2l6ZVwiLCBwaHlzaWNhbDogXCJoZWlnaHRcIiB9LFxuICAgICAgeyBsb2dpY2FsOiBcImJsb2NrLXNpemVcIiwgcGh5c2ljYWw6IFwid2lkdGhcIiB9LFxuICAgIF0sXG4gIH0sXG59O1xuY29uc3QgdG9QaHlzaWNhbE1hcHMgPSBjcmVhdGVSZWdFeHBNYXAodmFsdWVzLCB0cnVlKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvUGh5c2ljYWwoXG4gIHZhbHVlOiBzdHJpbmcsXG4gIHdyaXRpbmdNb2RlOiBzdHJpbmcsXG4gIGRpcmVjdGlvbj86IHN0cmluZyB8IG51bGwsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gY29udmVydCh2YWx1ZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbiB8fCBudWxsLCB0b1BoeXNpY2FsTWFwcyk7XG59XG5jb25zdCB0b0xvZ2ljYWxNYXBzID0gY3JlYXRlUmVnRXhwTWFwKHZhbHVlcywgZmFsc2UpO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9Mb2dpY2FsKFxuICB2YWx1ZTogc3RyaW5nLFxuICB3cml0aW5nTW9kZTogc3RyaW5nLFxuICBkaXJlY3Rpb24/OiBzdHJpbmcgfCBudWxsLFxuKTogc3RyaW5nIHtcbiAgcmV0dXJuIGNvbnZlcnQodmFsdWUsIHdyaXRpbmdNb2RlLCBkaXJlY3Rpb24gfHwgbnVsbCwgdG9Mb2dpY2FsTWFwcyk7XG59XG5jb25zdCBsaW5lUmVsYXRpdmVWYWx1ZXM6IHtcbiAgW2tleTogc3RyaW5nXTogeyBsb2dpY2FsOiBzdHJpbmc7IHBoeXNpY2FsOiBzdHJpbmcgfVtdO1xufSA9IHtcbiAgXCJob3Jpem9udGFsLXRiXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICAgIHsgbG9naWNhbDogXCJsaW5lLXJpZ2h0XCIsIHBoeXNpY2FsOiBcInJpZ2h0XCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJ0b3BcIiB9LFxuICAgIHsgbG9naWNhbDogXCJ1bmRlclwiLCBwaHlzaWNhbDogXCJib3R0b21cIiB9LFxuICBdLFxuICBcInZlcnRpY2FsLXJsXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcImxpbmUtcmlnaHRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcInVuZGVyXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICBdLFxuICBcInZlcnRpY2FsLWxyXCI6IFtcbiAgICB7IGxvZ2ljYWw6IFwibGluZS1sZWZ0XCIsIHBoeXNpY2FsOiBcInRvcFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcImxpbmUtcmlnaHRcIiwgcGh5c2ljYWw6IFwiYm90dG9tXCIgfSxcbiAgICB7IGxvZ2ljYWw6IFwib3ZlclwiLCBwaHlzaWNhbDogXCJyaWdodFwiIH0sXG4gICAgeyBsb2dpY2FsOiBcInVuZGVyXCIsIHBoeXNpY2FsOiBcImxlZnRcIiB9LFxuICBdLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRvTGluZVJlbGF0aXZlKHZhbHVlOiBzdHJpbmcsIHdyaXRpbmdNb2RlOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBtYXBzID0gbGluZVJlbGF0aXZlVmFsdWVzW3dyaXRpbmdNb2RlXTtcbiAgaWYgKCFtYXBzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHdyaXRpbmctbW9kZTogJHt3cml0aW5nTW9kZX1gKTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobWFwc1tpXS5waHlzaWNhbCA9PT0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXBzW2ldLmxvZ2ljYWw7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNpemluZyAtIENTUyBJbnRyaW5zaWMgJiBFeHRyaW5zaWMgU2l6aW5nXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcblxuLyoqXG4gKiBCb3ggc2l6ZXMgZGVmaW5lZCBpbiBjc3Mtc2l6aW5nLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gU2l6ZSB7XG4gIEZJTExfQVZBSUxBQkxFX0lOTElORV9TSVpFID0gXCJmaWxsLWF2YWlsYWJsZSBpbmxpbmUgc2l6ZVwiLFxuICBGSUxMX0FWQUlMQUJMRV9CTE9DS19TSVpFID0gXCJmaWxsLWF2YWlsYWJsZSBibG9jayBzaXplXCIsXG4gIEZJTExfQVZBSUxBQkxFX1dJRFRIID0gXCJmaWxsLWF2YWlsYWJsZSB3aWR0aFwiLFxuICBGSUxMX0FWQUlMQUJMRV9IRUlHSFQgPSBcImZpbGwtYXZhaWxhYmxlIGhlaWdodFwiLFxuICBNQVhfQ09OVEVOVF9JTkxJTkVfU0laRSA9IFwibWF4LWNvbnRlbnQgaW5saW5lIHNpemVcIixcbiAgTUFYX0NPTlRFTlRfQkxPQ0tfU0laRSA9IFwibWF4LWNvbnRlbnQgYmxvY2sgc2l6ZVwiLFxuICBNQVhfQ09OVEVOVF9XSURUSCA9IFwibWF4LWNvbnRlbnQgd2lkdGhcIixcbiAgTUFYX0NPTlRFTlRfSEVJR0hUID0gXCJtYXgtY29udGVudCBoZWlnaHRcIixcbiAgTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkUgPSBcIm1pbi1jb250ZW50IGlubGluZSBzaXplXCIsXG4gIE1JTl9DT05URU5UX0JMT0NLX1NJWkUgPSBcIm1pbi1jb250ZW50IGJsb2NrIHNpemVcIixcbiAgTUlOX0NPTlRFTlRfV0lEVEggPSBcIm1pbi1jb250ZW50IHdpZHRoXCIsXG4gIE1JTl9DT05URU5UX0hFSUdIVCA9IFwibWluLWNvbnRlbnQgaGVpZ2h0XCIsXG4gIEZJVF9DT05URU5UX0lOTElORV9TSVpFID0gXCJmaXQtY29udGVudCBpbmxpbmUgc2l6ZVwiLFxuICBGSVRfQ09OVEVOVF9CTE9DS19TSVpFID0gXCJmaXQtY29udGVudCBibG9jayBzaXplXCIsXG4gIEZJVF9DT05URU5UX1dJRFRIID0gXCJmaXQtY29udGVudCB3aWR0aFwiLFxuICBGSVRfQ09OVEVOVF9IRUlHSFQgPSBcImZpdC1jb250ZW50IGhlaWdodFwiLFxufVxuXG4vKipcbiAqIEdldCBzcGVjaWZpZWQgc2l6ZXMgZm9yIHRoZSBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2l6ZShcbiAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gIGVsZW1lbnQ6IEVsZW1lbnQsXG4gIHNpemVzOiBTaXplW10sXG4pOiB7IFtrZXkgaW4gU2l6ZV06IG51bWJlciB9IHtcbiAgY29uc3Qgb3JpZ2luYWwgPSB7XG4gICAgZGlzcGxheTogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5kaXNwbGF5LFxuICAgIHBvc2l0aW9uOiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLnBvc2l0aW9uLFxuICAgIHdpZHRoOiAoZWxlbWVudCBhcyBhbnkpLnN0eWxlLndpZHRoIGFzIHN0cmluZyxcbiAgICBtYXhXaWR0aDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5tYXhXaWR0aCBhcyBzdHJpbmcsXG4gICAgbWluV2lkdGg6IChlbGVtZW50IGFzIGFueSkuc3R5bGUubWluV2lkdGggYXMgc3RyaW5nLFxuICAgIGhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5oZWlnaHQgYXMgc3RyaW5nLFxuICAgIG1heEhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5tYXhIZWlnaHQgYXMgc3RyaW5nLFxuICAgIG1pbkhlaWdodDogKGVsZW1lbnQgYXMgYW55KS5zdHlsZS5taW5IZWlnaHQgYXMgc3RyaW5nLFxuICB9O1xuICBjb25zdCBkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcblxuICAvLyB3cmFwIHRoZSBlbGVtZW50IHdpdGggYSBkdW1teSBjb250YWluZXIgZWxlbWVudFxuICBjb25zdCBjb250YWluZXIgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIFwicG9zaXRpb25cIiwgb3JpZ2luYWwucG9zaXRpb24pO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNvbnRhaW5lciwgZWxlbWVudCk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIndpZHRoXCIsIFwiYXV0b1wiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1heC13aWR0aFwiLCBcIm5vbmVcIik7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtaW4td2lkdGhcIiwgXCIwXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm1heC1oZWlnaHRcIiwgXCJub25lXCIpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLWhlaWdodFwiLCBcIjBcIik7XG5cbiAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRWYWx1ZShuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKTtcbiAgfVxuICBjb25zdCB3cml0aW5nTW9kZVByb3BlcnR5ID0gQmFzZS5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZXMoXCJ3cml0aW5nLW1vZGVcIik7XG4gIGNvbnN0IHdyaXRpbmdNb2RlVmFsdWUgPVxuICAgICh3cml0aW5nTW9kZVByb3BlcnR5ID8gZ2V0Q29tcHV0ZWRWYWx1ZSh3cml0aW5nTW9kZVByb3BlcnR5WzBdKSA6IG51bGwpIHx8XG4gICAgZ2V0Q29tcHV0ZWRWYWx1ZShcIndyaXRpbmctbW9kZVwiKTtcbiAgY29uc3QgaXNWZXJ0aWNhbCA9XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ2ZXJ0aWNhbC1ybFwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ0Yi1ybFwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ2ZXJ0aWNhbC1sclwiIHx8XG4gICAgd3JpdGluZ01vZGVWYWx1ZSA9PT0gXCJ0Yi1sclwiO1xuICBjb25zdCBpbmxpbmVTaXplTmFtZSA9IGlzVmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiO1xuICBjb25zdCBibG9ja1NpemVOYW1lID0gaXNWZXJ0aWNhbCA/IFwid2lkdGhcIiA6IFwiaGVpZ2h0XCI7XG5cbiAgZnVuY3Rpb24gZ2V0RmlsbEF2YWlsYWJsZUlubGluZSgpOiBzdHJpbmcge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpO1xuICAgIHJldHVybiBnZXRDb21wdXRlZFZhbHVlKGlubGluZVNpemVOYW1lKTtcbiAgfVxuXG4gIC8vIElubGluZSBzaXplIG9mIGFuIGlubGluZS1ibG9jayBlbGVtZW50IGlzIHRoZSBmaXQtY29udGVudFxuICAvLyAoc2hyaW5rLXRvLWZpdCkgaW5saW5lIHNpemUuXG4gIGZ1bmN0aW9uIGdldE1heENvbnRlbnRJbmxpbmUoKTogc3RyaW5nIHtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcblxuICAgIC8vIFdoZW4gdGhlIGF2YWlsYWJsZSBpbmxpbmUgc2l6ZSBpcyBzdWZmaWNpZW50bHkgbGFyZ2UsIHRoZSBmaXQtY29udGVudFxuICAgIC8vIGlubGluZSBzaXplIGVxdWFscyB0byB0aGUgbWF4LWNvbnRlbnQgaW5saW5lIHNpemUuXG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIGlubGluZVNpemVOYW1lLCBcIjk5OTk5OTk5cHhcIik7IC8vICdzdWZmaWNpZW50bHkgbGFyZ2UnIHZhbHVlXG4gICAgY29uc3QgciA9IGdldENvbXB1dGVkVmFsdWUoaW5saW5lU2l6ZU5hbWUpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLCBpbmxpbmVTaXplTmFtZSwgXCJcIik7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNaW5Db250ZW50SW5saW5lKCk6IHN0cmluZyB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImRpc3BsYXlcIiwgXCJpbmxpbmUtYmxvY2tcIik7XG5cbiAgICAvLyBXaGVuIHRoZSBhdmFpbGFibGUgaW5saW5lIHNpemUgaXMgemVybywgdGhlIGZpdC1jb250ZW50IGlubGluZSBzaXplXG4gICAgLy8gZXF1YWxzIHRvIHRoZSBtaW4tY29udGVudCBpbmxpbmUgc2l6ZS5cbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lciwgaW5saW5lU2l6ZU5hbWUsIFwiMFwiKTtcbiAgICBjb25zdCByID0gZ2V0Q29tcHV0ZWRWYWx1ZShpbmxpbmVTaXplTmFtZSk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIsIGlubGluZVNpemVOYW1lLCBcIlwiKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpdENvbnRlbnRJbmxpbmUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBmaWxsQXZhaWxhYmxlSW5saW5lID0gZ2V0RmlsbEF2YWlsYWJsZUlubGluZSgpO1xuICAgIGNvbnN0IG1pbkNvbnRlbnRJbmxpbmUgPSBnZXRNaW5Db250ZW50SW5saW5lKCk7XG4gICAgY29uc3QgcGFyc2VkRmlsbEF2YWlsYWJsZSA9IHBhcnNlRmxvYXQoZmlsbEF2YWlsYWJsZUlubGluZSk7XG4gICAgaWYgKHBhcnNlZEZpbGxBdmFpbGFibGUgPD0gcGFyc2VGbG9hdChtaW5Db250ZW50SW5saW5lKSkge1xuICAgICAgcmV0dXJuIG1pbkNvbnRlbnRJbmxpbmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG1heENvbnRlbnRJbmxpbmUgPSBnZXRNYXhDb250ZW50SW5saW5lKCk7XG4gICAgICBpZiAocGFyc2VkRmlsbEF2YWlsYWJsZSA8PSBwYXJzZUZsb2F0KG1heENvbnRlbnRJbmxpbmUpKSB7XG4gICAgICAgIHJldHVybiBmaWxsQXZhaWxhYmxlSW5saW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG1heENvbnRlbnRJbmxpbmU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SWRlYWxCbG9jaygpOiBzdHJpbmcge1xuICAgIHJldHVybiBnZXRDb21wdXRlZFZhbHVlKGJsb2NrU2l6ZU5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RmlsbEF2YWlsYWJsZUJsb2NrKCk6IHN0cmluZyB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2V0dGluZyBmaWxsLWF2YWlsYWJsZSBibG9jayBzaXplIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSB7fSBhcyB7IFtrZXkgaW4gU2l6ZV06IG51bWJlciB9O1xuICBzaXplcy5mb3JFYWNoKChzaXplKSA9PiB7XG4gICAgbGV0IHI6IHN0cmluZztcbiAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgIGNhc2UgU2l6ZS5GSUxMX0FWQUlMQUJMRV9JTkxJTkVfU0laRTpcbiAgICAgICAgciA9IGdldEZpbGxBdmFpbGFibGVJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUFYX0NPTlRFTlRfSU5MSU5FX1NJWkU6XG4gICAgICAgIHIgPSBnZXRNYXhDb250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0lOTElORV9TSVpFOlxuICAgICAgICByID0gZ2V0TWluQ29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5GSVRfQ09OVEVOVF9JTkxJTkVfU0laRTpcbiAgICAgICAgciA9IGdldEZpdENvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklMTF9BVkFJTEFCTEVfQkxPQ0tfU0laRTpcbiAgICAgICAgciA9IGdldEZpbGxBdmFpbGFibGVCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9CTE9DS19TSVpFOlxuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0JMT0NLX1NJWkU6XG4gICAgICBjYXNlIFNpemUuRklUX0NPTlRFTlRfQkxPQ0tfU0laRTpcbiAgICAgICAgciA9IGdldElkZWFsQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklMTF9BVkFJTEFCTEVfV0lEVEg6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0RmlsbEF2YWlsYWJsZUJsb2NrKCkgOiBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLkZJTExfQVZBSUxBQkxFX0hFSUdIVDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRGaWxsQXZhaWxhYmxlSW5saW5lKCkgOiBnZXRGaWxsQXZhaWxhYmxlQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuTUFYX0NPTlRFTlRfV0lEVEg6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0SWRlYWxCbG9jaygpIDogZ2V0TWF4Q29udGVudElubGluZSgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NQVhfQ09OVEVOVF9IRUlHSFQ6XG4gICAgICAgIHIgPSBpc1ZlcnRpY2FsID8gZ2V0TWF4Q29udGVudElubGluZSgpIDogZ2V0SWRlYWxCbG9jaygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU2l6ZS5NSU5fQ09OVEVOVF9XSURUSDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRJZGVhbEJsb2NrKCkgOiBnZXRNaW5Db250ZW50SW5saW5lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLk1JTl9DT05URU5UX0hFSUdIVDpcbiAgICAgICAgciA9IGlzVmVydGljYWwgPyBnZXRNaW5Db250ZW50SW5saW5lKCkgOiBnZXRJZGVhbEJsb2NrKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTaXplLkZJVF9DT05URU5UX1dJRFRIOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldElkZWFsQmxvY2soKSA6IGdldEZpdENvbnRlbnRJbmxpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNpemUuRklUX0NPTlRFTlRfSEVJR0hUOlxuICAgICAgICByID0gaXNWZXJ0aWNhbCA/IGdldEZpdENvbnRlbnRJbmxpbmUoKSA6IGdldElkZWFsQmxvY2soKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJlc3VsdFtzaXplXSA9IHBhcnNlRmxvYXQocik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIG9yaWdpbmFsLnBvc2l0aW9uKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZGlzcGxheVwiLCBvcmlnaW5hbC5kaXNwbGF5KTtcbiAgfSk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ3aWR0aFwiLCBvcmlnaW5hbC53aWR0aCk7XG4gIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJtYXgtd2lkdGhcIiwgb3JpZ2luYWwubWF4V2lkdGgpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLXdpZHRoXCIsIG9yaWdpbmFsLm1pbldpZHRoKTtcbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImhlaWdodFwiLCBvcmlnaW5hbC5oZWlnaHQpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWF4LWhlaWdodFwiLCBvcmlnaW5hbC5tYXhIZWlnaHQpO1xuICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwibWluLWhlaWdodFwiLCBvcmlnaW5hbC5taW5IZWlnaHQpO1xuICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW1lbnQsIGNvbnRhaW5lcik7XG4gIHBhcmVudC5yZW1vdmVDaGlsZChjb250YWluZXIpO1xuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyoqXG4gKiBUaGlzIGxpYnJhcnkgbW9kaWZpZXMgdGhlIGRpZmYtcGF0Y2gtbWF0Y2ggbGlicmFyeSBieSBOZWlsIEZyYXNlclxuICogYnkgcmVtb3ZpbmcgdGhlIHBhdGNoIGFuZCBtYXRjaCBmdW5jdGlvbmFsaXR5IGFuZCBjZXJ0YWluIGFkdmFuY2VkXG4gKiBvcHRpb25zIGluIHRoZSBkaWZmIGZ1bmN0aW9uLiBUaGUgb3JpZ2luYWwgbGljZW5zZSBpcyBhcyBmb2xsb3dzOlxuICpcbiAqID09PVxuICpcbiAqIERpZmYgTWF0Y2ggYW5kIFBhdGNoXG4gKlxuICogQ29weXJpZ2h0IDIwMDYgR29vZ2xlIEluYy5cbiAqIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9nb29nbGUtZGlmZi1tYXRjaC1wYXRjaC9cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblxuLyoqXG4gKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgcmVwcmVzZW50aW5nIGEgZGlmZiBpcyBhbiBhcnJheSBvZiB0dXBsZXM6XG4gKiBbW0RJRkZfREVMRVRFLCAnSGVsbG8nXSwgW0RJRkZfSU5TRVJULCAnR29vZGJ5ZSddLCBbRElGRl9FUVVBTCwgJyB3b3JsZC4nXV1cbiAqIHdoaWNoIG1lYW5zOiBkZWxldGUgJ0hlbGxvJywgYWRkICdHb29kYnllJyBhbmQga2VlcCAnIHdvcmxkLidcbiAqL1xudmFyIERJRkZfREVMRVRFID0gLTE7XG52YXIgRElGRl9JTlNFUlQgPSAxO1xudmFyIERJRkZfRVFVQUwgPSAwO1xuXG5cbi8qKlxuICogRmluZCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0d28gdGV4dHMuICBTaW1wbGlmaWVzIHRoZSBwcm9ibGVtIGJ5IHN0cmlwcGluZ1xuICogYW55IGNvbW1vbiBwcmVmaXggb3Igc3VmZml4IG9mZiB0aGUgdGV4dHMgYmVmb3JlIGRpZmZpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge0ludHxPYmplY3R9IFtjdXJzb3JfcG9zXSBFZGl0IHBvc2l0aW9uIGluIHRleHQxIG9yIG9iamVjdCB3aXRoIG1vcmUgaW5mb1xuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICovXG5mdW5jdGlvbiBkaWZmX21haW4odGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zLCBfZml4X3VuaWNvZGUpIHtcbiAgLy8gQ2hlY2sgZm9yIGVxdWFsaXR5XG4gIGlmICh0ZXh0MSA9PT0gdGV4dDIpIHtcbiAgICBpZiAodGV4dDEpIHtcbiAgICAgIHJldHVybiBbW0RJRkZfRVFVQUwsIHRleHQxXV07XG4gICAgfVxuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmIChjdXJzb3JfcG9zICE9IG51bGwpIHtcbiAgICB2YXIgZWRpdGRpZmYgPSBmaW5kX2N1cnNvcl9lZGl0X2RpZmYodGV4dDEsIHRleHQyLCBjdXJzb3JfcG9zKTtcbiAgICBpZiAoZWRpdGRpZmYpIHtcbiAgICAgIHJldHVybiBlZGl0ZGlmZjtcbiAgICB9XG4gIH1cblxuICAvLyBUcmltIG9mZiBjb21tb24gcHJlZml4IChzcGVlZHVwKS5cbiAgdmFyIGNvbW1vbmxlbmd0aCA9IGRpZmZfY29tbW9uUHJlZml4KHRleHQxLCB0ZXh0Mik7XG4gIHZhciBjb21tb25wcmVmaXggPSB0ZXh0MS5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDEgPSB0ZXh0MS5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcbiAgdGV4dDIgPSB0ZXh0Mi5zdWJzdHJpbmcoY29tbW9ubGVuZ3RoKTtcblxuICAvLyBUcmltIG9mZiBjb21tb24gc3VmZml4IChzcGVlZHVwKS5cbiAgY29tbW9ubGVuZ3RoID0gZGlmZl9jb21tb25TdWZmaXgodGV4dDEsIHRleHQyKTtcbiAgdmFyIGNvbW1vbnN1ZmZpeCA9IHRleHQxLnN1YnN0cmluZyh0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MSA9IHRleHQxLnN1YnN0cmluZygwLCB0ZXh0MS5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuICB0ZXh0MiA9IHRleHQyLnN1YnN0cmluZygwLCB0ZXh0Mi5sZW5ndGggLSBjb21tb25sZW5ndGgpO1xuXG4gIC8vIENvbXB1dGUgdGhlIGRpZmYgb24gdGhlIG1pZGRsZSBibG9jay5cbiAgdmFyIGRpZmZzID0gZGlmZl9jb21wdXRlXyh0ZXh0MSwgdGV4dDIpO1xuXG4gIC8vIFJlc3RvcmUgdGhlIHByZWZpeCBhbmQgc3VmZml4LlxuICBpZiAoY29tbW9ucHJlZml4KSB7XG4gICAgZGlmZnMudW5zaGlmdChbRElGRl9FUVVBTCwgY29tbW9ucHJlZml4XSk7XG4gIH1cbiAgaWYgKGNvbW1vbnN1ZmZpeCkge1xuICAgIGRpZmZzLnB1c2goW0RJRkZfRVFVQUwsIGNvbW1vbnN1ZmZpeF0pO1xuICB9XG4gIGRpZmZfY2xlYW51cE1lcmdlKGRpZmZzLCBfZml4X3VuaWNvZGUpO1xuICByZXR1cm4gZGlmZnM7XG59O1xuXG5cbi8qKlxuICogRmluZCB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0d28gdGV4dHMuICBBc3N1bWVzIHRoYXQgdGhlIHRleHRzIGRvIG5vdFxuICogaGF2ZSBhbnkgY29tbW9uIHByZWZpeCBvciBzdWZmaXguXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgT2xkIHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDIgTmV3IHN0cmluZyB0byBiZSBkaWZmZWQuXG4gKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgb2YgZGlmZiB0dXBsZXMuXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY29tcHV0ZV8odGV4dDEsIHRleHQyKSB7XG4gIHZhciBkaWZmcztcblxuICBpZiAoIXRleHQxKSB7XG4gICAgLy8gSnVzdCBhZGQgc29tZSB0ZXh0IChzcGVlZHVwKS5cbiAgICByZXR1cm4gW1tESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuXG4gIGlmICghdGV4dDIpIHtcbiAgICAvLyBKdXN0IGRlbGV0ZSBzb21lIHRleHQgKHNwZWVkdXApLlxuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV1dO1xuICB9XG5cbiAgdmFyIGxvbmd0ZXh0ID0gdGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoID8gdGV4dDEgOiB0ZXh0MjtcbiAgdmFyIHNob3J0dGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQyIDogdGV4dDE7XG4gIHZhciBpID0gbG9uZ3RleHQuaW5kZXhPZihzaG9ydHRleHQpO1xuICBpZiAoaSAhPT0gLTEpIHtcbiAgICAvLyBTaG9ydGVyIHRleHQgaXMgaW5zaWRlIHRoZSBsb25nZXIgdGV4dCAoc3BlZWR1cCkuXG4gICAgZGlmZnMgPSBbXG4gICAgICBbRElGRl9JTlNFUlQsIGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpKV0sXG4gICAgICBbRElGRl9FUVVBTCwgc2hvcnR0ZXh0XSxcbiAgICAgIFtESUZGX0lOU0VSVCwgbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBzaG9ydHRleHQubGVuZ3RoKV1cbiAgICBdO1xuICAgIC8vIFN3YXAgaW5zZXJ0aW9ucyBmb3IgZGVsZXRpb25zIGlmIGRpZmYgaXMgcmV2ZXJzZWQuXG4gICAgaWYgKHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCkge1xuICAgICAgZGlmZnNbMF1bMF0gPSBkaWZmc1syXVswXSA9IERJRkZfREVMRVRFO1xuICAgIH1cbiAgICByZXR1cm4gZGlmZnM7XG4gIH1cblxuICBpZiAoc2hvcnR0ZXh0Lmxlbmd0aCA9PT0gMSkge1xuICAgIC8vIFNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nLlxuICAgIC8vIEFmdGVyIHRoZSBwcmV2aW91cyBzcGVlZHVwLCB0aGUgY2hhcmFjdGVyIGNhbid0IGJlIGFuIGVxdWFsaXR5LlxuICAgIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbiAgfVxuXG4gIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgcHJvYmxlbSBjYW4gYmUgc3BsaXQgaW4gdHdvLlxuICB2YXIgaG0gPSBkaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKTtcbiAgaWYgKGhtKSB7XG4gICAgLy8gQSBoYWxmLW1hdGNoIHdhcyBmb3VuZCwgc29ydCBvdXQgdGhlIHJldHVybiBkYXRhLlxuICAgIHZhciB0ZXh0MV9hID0gaG1bMF07XG4gICAgdmFyIHRleHQxX2IgPSBobVsxXTtcbiAgICB2YXIgdGV4dDJfYSA9IGhtWzJdO1xuICAgIHZhciB0ZXh0Ml9iID0gaG1bM107XG4gICAgdmFyIG1pZF9jb21tb24gPSBobVs0XTtcbiAgICAvLyBTZW5kIGJvdGggcGFpcnMgb2ZmIGZvciBzZXBhcmF0ZSBwcm9jZXNzaW5nLlxuICAgIHZhciBkaWZmc19hID0gZGlmZl9tYWluKHRleHQxX2EsIHRleHQyX2EpO1xuICAgIHZhciBkaWZmc19iID0gZGlmZl9tYWluKHRleHQxX2IsIHRleHQyX2IpO1xuICAgIC8vIE1lcmdlIHRoZSByZXN1bHRzLlxuICAgIHJldHVybiBkaWZmc19hLmNvbmNhdChbW0RJRkZfRVFVQUwsIG1pZF9jb21tb25dXSwgZGlmZnNfYik7XG4gIH1cblxuICByZXR1cm4gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mik7XG59O1xuXG5cbi8qKlxuICogRmluZCB0aGUgJ21pZGRsZSBzbmFrZScgb2YgYSBkaWZmLCBzcGxpdCB0aGUgcHJvYmxlbSBpbiB0d29cbiAqIGFuZCByZXR1cm4gdGhlIHJlY3Vyc2l2ZWx5IGNvbnN0cnVjdGVkIGRpZmYuXG4gKiBTZWUgTXllcnMgMTk4NiBwYXBlcjogQW4gTyhORCkgRGlmZmVyZW5jZSBBbGdvcml0aG0gYW5kIEl0cyBWYXJpYXRpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHJldHVybiB7QXJyYXl9IEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZGlmZl9iaXNlY3RfKHRleHQxLCB0ZXh0Mikge1xuICAvLyBDYWNoZSB0aGUgdGV4dCBsZW5ndGhzIHRvIHByZXZlbnQgbXVsdGlwbGUgY2FsbHMuXG4gIHZhciB0ZXh0MV9sZW5ndGggPSB0ZXh0MS5sZW5ndGg7XG4gIHZhciB0ZXh0Ml9sZW5ndGggPSB0ZXh0Mi5sZW5ndGg7XG4gIHZhciBtYXhfZCA9IE1hdGguY2VpbCgodGV4dDFfbGVuZ3RoICsgdGV4dDJfbGVuZ3RoKSAvIDIpO1xuICB2YXIgdl9vZmZzZXQgPSBtYXhfZDtcbiAgdmFyIHZfbGVuZ3RoID0gMiAqIG1heF9kO1xuICB2YXIgdjEgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICB2YXIgdjIgPSBuZXcgQXJyYXkodl9sZW5ndGgpO1xuICAvLyBTZXR0aW5nIGFsbCBlbGVtZW50cyB0byAtMSBpcyBmYXN0ZXIgaW4gQ2hyb21lICYgRmlyZWZveCB0aGFuIG1peGluZ1xuICAvLyBpbnRlZ2VycyBhbmQgdW5kZWZpbmVkLlxuICBmb3IgKHZhciB4ID0gMDsgeCA8IHZfbGVuZ3RoOyB4KyspIHtcbiAgICB2MVt4XSA9IC0xO1xuICAgIHYyW3hdID0gLTE7XG4gIH1cbiAgdjFbdl9vZmZzZXQgKyAxXSA9IDA7XG4gIHYyW3Zfb2Zmc2V0ICsgMV0gPSAwO1xuICB2YXIgZGVsdGEgPSB0ZXh0MV9sZW5ndGggLSB0ZXh0Ml9sZW5ndGg7XG4gIC8vIElmIHRoZSB0b3RhbCBudW1iZXIgb2YgY2hhcmFjdGVycyBpcyBvZGQsIHRoZW4gdGhlIGZyb250IHBhdGggd2lsbCBjb2xsaWRlXG4gIC8vIHdpdGggdGhlIHJldmVyc2UgcGF0aC5cbiAgdmFyIGZyb250ID0gKGRlbHRhICUgMiAhPT0gMCk7XG4gIC8vIE9mZnNldHMgZm9yIHN0YXJ0IGFuZCBlbmQgb2YgayBsb29wLlxuICAvLyBQcmV2ZW50cyBtYXBwaW5nIG9mIHNwYWNlIGJleW9uZCB0aGUgZ3JpZC5cbiAgdmFyIGsxc3RhcnQgPSAwO1xuICB2YXIgazFlbmQgPSAwO1xuICB2YXIgazJzdGFydCA9IDA7XG4gIHZhciBrMmVuZCA9IDA7XG4gIGZvciAodmFyIGQgPSAwOyBkIDwgbWF4X2Q7IGQrKykge1xuICAgIC8vIFdhbGsgdGhlIGZyb250IHBhdGggb25lIHN0ZXAuXG4gICAgZm9yICh2YXIgazEgPSAtZCArIGsxc3RhcnQ7IGsxIDw9IGQgLSBrMWVuZDsgazEgKz0gMikge1xuICAgICAgdmFyIGsxX29mZnNldCA9IHZfb2Zmc2V0ICsgazE7XG4gICAgICB2YXIgeDE7XG4gICAgICBpZiAoazEgPT09IC1kIHx8IChrMSAhPT0gZCAmJiB2MVtrMV9vZmZzZXQgLSAxXSA8IHYxW2sxX29mZnNldCArIDFdKSkge1xuICAgICAgICB4MSA9IHYxW2sxX29mZnNldCArIDFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeDEgPSB2MVtrMV9vZmZzZXQgLSAxXSArIDE7XG4gICAgICB9XG4gICAgICB2YXIgeTEgPSB4MSAtIGsxO1xuICAgICAgd2hpbGUgKFxuICAgICAgICB4MSA8IHRleHQxX2xlbmd0aCAmJiB5MSA8IHRleHQyX2xlbmd0aCAmJlxuICAgICAgICB0ZXh0MS5jaGFyQXQoeDEpID09PSB0ZXh0Mi5jaGFyQXQoeTEpXG4gICAgICApIHtcbiAgICAgICAgeDErKztcbiAgICAgICAgeTErKztcbiAgICAgIH1cbiAgICAgIHYxW2sxX29mZnNldF0gPSB4MTtcbiAgICAgIGlmICh4MSA+IHRleHQxX2xlbmd0aCkge1xuICAgICAgICAvLyBSYW4gb2ZmIHRoZSByaWdodCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsxZW5kICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHkxID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIGJvdHRvbSBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsxc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoZnJvbnQpIHtcbiAgICAgICAgdmFyIGsyX29mZnNldCA9IHZfb2Zmc2V0ICsgZGVsdGEgLSBrMTtcbiAgICAgICAgaWYgKGsyX29mZnNldCA+PSAwICYmIGsyX29mZnNldCA8IHZfbGVuZ3RoICYmIHYyW2syX29mZnNldF0gIT09IC0xKSB7XG4gICAgICAgICAgLy8gTWlycm9yIHgyIG9udG8gdG9wLWxlZnQgY29vcmRpbmF0ZSBzeXN0ZW0uXG4gICAgICAgICAgdmFyIHgyID0gdGV4dDFfbGVuZ3RoIC0gdjJbazJfb2Zmc2V0XTtcbiAgICAgICAgICBpZiAoeDEgPj0geDIpIHtcbiAgICAgICAgICAgIC8vIE92ZXJsYXAgZGV0ZWN0ZWQuXG4gICAgICAgICAgICByZXR1cm4gZGlmZl9iaXNlY3RTcGxpdF8odGV4dDEsIHRleHQyLCB4MSwgeTEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdhbGsgdGhlIHJldmVyc2UgcGF0aCBvbmUgc3RlcC5cbiAgICBmb3IgKHZhciBrMiA9IC1kICsgazJzdGFydDsgazIgPD0gZCAtIGsyZW5kOyBrMiArPSAyKSB7XG4gICAgICB2YXIgazJfb2Zmc2V0ID0gdl9vZmZzZXQgKyBrMjtcbiAgICAgIHZhciB4MjtcbiAgICAgIGlmIChrMiA9PT0gLWQgfHwgKGsyICE9PSBkICYmIHYyW2syX29mZnNldCAtIDFdIDwgdjJbazJfb2Zmc2V0ICsgMV0pKSB7XG4gICAgICAgIHgyID0gdjJbazJfb2Zmc2V0ICsgMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4MiA9IHYyW2syX29mZnNldCAtIDFdICsgMTtcbiAgICAgIH1cbiAgICAgIHZhciB5MiA9IHgyIC0gazI7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIHgyIDwgdGV4dDFfbGVuZ3RoICYmIHkyIDwgdGV4dDJfbGVuZ3RoICYmXG4gICAgICAgIHRleHQxLmNoYXJBdCh0ZXh0MV9sZW5ndGggLSB4MiAtIDEpID09PSB0ZXh0Mi5jaGFyQXQodGV4dDJfbGVuZ3RoIC0geTIgLSAxKVxuICAgICAgKSB7XG4gICAgICAgIHgyKys7XG4gICAgICAgIHkyKys7XG4gICAgICB9XG4gICAgICB2MltrMl9vZmZzZXRdID0geDI7XG4gICAgICBpZiAoeDIgPiB0ZXh0MV9sZW5ndGgpIHtcbiAgICAgICAgLy8gUmFuIG9mZiB0aGUgbGVmdCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyZW5kICs9IDI7XG4gICAgICB9IGVsc2UgaWYgKHkyID4gdGV4dDJfbGVuZ3RoKSB7XG4gICAgICAgIC8vIFJhbiBvZmYgdGhlIHRvcCBvZiB0aGUgZ3JhcGguXG4gICAgICAgIGsyc3RhcnQgKz0gMjtcbiAgICAgIH0gZWxzZSBpZiAoIWZyb250KSB7XG4gICAgICAgIHZhciBrMV9vZmZzZXQgPSB2X29mZnNldCArIGRlbHRhIC0gazI7XG4gICAgICAgIGlmIChrMV9vZmZzZXQgPj0gMCAmJiBrMV9vZmZzZXQgPCB2X2xlbmd0aCAmJiB2MVtrMV9vZmZzZXRdICE9PSAtMSkge1xuICAgICAgICAgIHZhciB4MSA9IHYxW2sxX29mZnNldF07XG4gICAgICAgICAgdmFyIHkxID0gdl9vZmZzZXQgKyB4MSAtIGsxX29mZnNldDtcbiAgICAgICAgICAvLyBNaXJyb3IgeDIgb250byB0b3AtbGVmdCBjb29yZGluYXRlIHN5c3RlbS5cbiAgICAgICAgICB4MiA9IHRleHQxX2xlbmd0aCAtIHgyO1xuICAgICAgICAgIGlmICh4MSA+PSB4Mikge1xuICAgICAgICAgICAgLy8gT3ZlcmxhcCBkZXRlY3RlZC5cbiAgICAgICAgICAgIHJldHVybiBkaWZmX2Jpc2VjdFNwbGl0Xyh0ZXh0MSwgdGV4dDIsIHgxLCB5MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIERpZmYgdG9vayB0b28gbG9uZyBhbmQgaGl0IHRoZSBkZWFkbGluZSBvclxuICAvLyBudW1iZXIgb2YgZGlmZnMgZXF1YWxzIG51bWJlciBvZiBjaGFyYWN0ZXJzLCBubyBjb21tb25hbGl0eSBhdCBhbGwuXG4gIHJldHVybiBbW0RJRkZfREVMRVRFLCB0ZXh0MV0sIFtESUZGX0lOU0VSVCwgdGV4dDJdXTtcbn07XG5cblxuLyoqXG4gKiBHaXZlbiB0aGUgbG9jYXRpb24gb2YgdGhlICdtaWRkbGUgc25ha2UnLCBzcGxpdCB0aGUgZGlmZiBpbiB0d28gcGFydHNcbiAqIGFuZCByZWN1cnNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIE9sZCBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIE5ldyBzdHJpbmcgdG8gYmUgZGlmZmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IHggSW5kZXggb2Ygc3BsaXQgcG9pbnQgaW4gdGV4dDEuXG4gKiBAcGFyYW0ge251bWJlcn0geSBJbmRleCBvZiBzcGxpdCBwb2ludCBpbiB0ZXh0Mi5cbiAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiBkaWZmIHR1cGxlcy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9iaXNlY3RTcGxpdF8odGV4dDEsIHRleHQyLCB4LCB5KSB7XG4gIHZhciB0ZXh0MWEgPSB0ZXh0MS5zdWJzdHJpbmcoMCwgeCk7XG4gIHZhciB0ZXh0MmEgPSB0ZXh0Mi5zdWJzdHJpbmcoMCwgeSk7XG4gIHZhciB0ZXh0MWIgPSB0ZXh0MS5zdWJzdHJpbmcoeCk7XG4gIHZhciB0ZXh0MmIgPSB0ZXh0Mi5zdWJzdHJpbmcoeSk7XG5cbiAgLy8gQ29tcHV0ZSBib3RoIGRpZmZzIHNlcmlhbGx5LlxuICB2YXIgZGlmZnMgPSBkaWZmX21haW4odGV4dDFhLCB0ZXh0MmEpO1xuICB2YXIgZGlmZnNiID0gZGlmZl9tYWluKHRleHQxYiwgdGV4dDJiKTtcblxuICByZXR1cm4gZGlmZnMuY29uY2F0KGRpZmZzYik7XG59O1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBjb21tb24gcHJlZml4IG9mIHR3byBzdHJpbmdzLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQxIEZpcnN0IHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0MiBTZWNvbmQgc3RyaW5nLlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgY29tbW9uIHRvIHRoZSBzdGFydCBvZiBlYWNoXG4gKiAgICAgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBkaWZmX2NvbW1vblByZWZpeCh0ZXh0MSwgdGV4dDIpIHtcbiAgLy8gUXVpY2sgY2hlY2sgZm9yIGNvbW1vbiBudWxsIGNhc2VzLlxuICBpZiAoIXRleHQxIHx8ICF0ZXh0MiB8fCB0ZXh0MS5jaGFyQXQoMCkgIT09IHRleHQyLmNoYXJBdCgwKSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIEJpbmFyeSBzZWFyY2guXG4gIC8vIFBlcmZvcm1hbmNlIGFuYWx5c2lzOiBodHRwOi8vbmVpbC5mcmFzZXIubmFtZS9uZXdzLzIwMDcvMTAvMDkvXG4gIHZhciBwb2ludGVybWluID0gMDtcbiAgdmFyIHBvaW50ZXJtYXggPSBNYXRoLm1pbih0ZXh0MS5sZW5ndGgsIHRleHQyLmxlbmd0aCk7XG4gIHZhciBwb2ludGVybWlkID0gcG9pbnRlcm1heDtcbiAgdmFyIHBvaW50ZXJzdGFydCA9IDA7XG4gIHdoaWxlIChwb2ludGVybWluIDwgcG9pbnRlcm1pZCkge1xuICAgIGlmIChcbiAgICAgIHRleHQxLnN1YnN0cmluZyhwb2ludGVyc3RhcnQsIHBvaW50ZXJtaWQpID09XG4gICAgICB0ZXh0Mi5zdWJzdHJpbmcocG9pbnRlcnN0YXJ0LCBwb2ludGVybWlkKVxuICAgICkge1xuICAgICAgcG9pbnRlcm1pbiA9IHBvaW50ZXJtaWQ7XG4gICAgICBwb2ludGVyc3RhcnQgPSBwb2ludGVybWluO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb2ludGVybWF4ID0gcG9pbnRlcm1pZDtcbiAgICB9XG4gICAgcG9pbnRlcm1pZCA9IE1hdGguZmxvb3IoKHBvaW50ZXJtYXggLSBwb2ludGVybWluKSAvIDIgKyBwb2ludGVybWluKTtcbiAgfVxuXG4gIGlmIChpc19zdXJyb2dhdGVfcGFpcl9zdGFydCh0ZXh0MS5jaGFyQ29kZUF0KHBvaW50ZXJtaWQgLSAxKSkpIHtcbiAgICBwb2ludGVybWlkLS07XG4gIH1cblxuICByZXR1cm4gcG9pbnRlcm1pZDtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIGNvbW1vbiBzdWZmaXggb2YgdHdvIHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hhcmFjdGVycyBjb21tb24gdG8gdGhlIGVuZCBvZiBlYWNoIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZGlmZl9jb21tb25TdWZmaXgodGV4dDEsIHRleHQyKSB7XG4gIC8vIFF1aWNrIGNoZWNrIGZvciBjb21tb24gbnVsbCBjYXNlcy5cbiAgaWYgKCF0ZXh0MSB8fCAhdGV4dDIgfHwgdGV4dDEuc2xpY2UoLTEpICE9PSB0ZXh0Mi5zbGljZSgtMSkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICAvLyBCaW5hcnkgc2VhcmNoLlxuICAvLyBQZXJmb3JtYW5jZSBhbmFseXNpczogaHR0cDovL25laWwuZnJhc2VyLm5hbWUvbmV3cy8yMDA3LzEwLzA5L1xuICB2YXIgcG9pbnRlcm1pbiA9IDA7XG4gIHZhciBwb2ludGVybWF4ID0gTWF0aC5taW4odGV4dDEubGVuZ3RoLCB0ZXh0Mi5sZW5ndGgpO1xuICB2YXIgcG9pbnRlcm1pZCA9IHBvaW50ZXJtYXg7XG4gIHZhciBwb2ludGVyZW5kID0gMDtcbiAgd2hpbGUgKHBvaW50ZXJtaW4gPCBwb2ludGVybWlkKSB7XG4gICAgaWYgKFxuICAgICAgdGV4dDEuc3Vic3RyaW5nKHRleHQxLmxlbmd0aCAtIHBvaW50ZXJtaWQsIHRleHQxLmxlbmd0aCAtIHBvaW50ZXJlbmQpID09XG4gICAgICB0ZXh0Mi5zdWJzdHJpbmcodGV4dDIubGVuZ3RoIC0gcG9pbnRlcm1pZCwgdGV4dDIubGVuZ3RoIC0gcG9pbnRlcmVuZClcbiAgICApIHtcbiAgICAgIHBvaW50ZXJtaW4gPSBwb2ludGVybWlkO1xuICAgICAgcG9pbnRlcmVuZCA9IHBvaW50ZXJtaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvaW50ZXJtYXggPSBwb2ludGVybWlkO1xuICAgIH1cbiAgICBwb2ludGVybWlkID0gTWF0aC5mbG9vcigocG9pbnRlcm1heCAtIHBvaW50ZXJtaW4pIC8gMiArIHBvaW50ZXJtaW4pO1xuICB9XG5cbiAgaWYgKGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZCh0ZXh0MS5jaGFyQ29kZUF0KHRleHQxLmxlbmd0aCAtIHBvaW50ZXJtaWQpKSkge1xuICAgIHBvaW50ZXJtaWQtLTtcbiAgfVxuXG4gIHJldHVybiBwb2ludGVybWlkO1xufTtcblxuXG4vKipcbiAqIERvIHRoZSB0d28gdGV4dHMgc2hhcmUgYSBzdWJzdHJpbmcgd2hpY2ggaXMgYXQgbGVhc3QgaGFsZiB0aGUgbGVuZ3RoIG9mIHRoZVxuICogbG9uZ2VyIHRleHQ/XG4gKiBUaGlzIHNwZWVkdXAgY2FuIHByb2R1Y2Ugbm9uLW1pbmltYWwgZGlmZnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dDEgRmlyc3Qgc3RyaW5nLlxuICogQHBhcmFtIHtzdHJpbmd9IHRleHQyIFNlY29uZCBzdHJpbmcuXG4gKiBAcmV0dXJuIHtBcnJheS48c3RyaW5nPn0gRml2ZSBlbGVtZW50IEFycmF5LCBjb250YWluaW5nIHRoZSBwcmVmaXggb2ZcbiAqICAgICB0ZXh0MSwgdGhlIHN1ZmZpeCBvZiB0ZXh0MSwgdGhlIHByZWZpeCBvZiB0ZXh0MiwgdGhlIHN1ZmZpeCBvZlxuICogICAgIHRleHQyIGFuZCB0aGUgY29tbW9uIG1pZGRsZS4gIE9yIG51bGwgaWYgdGhlcmUgd2FzIG5vIG1hdGNoLlxuICovXG5mdW5jdGlvbiBkaWZmX2hhbGZNYXRjaF8odGV4dDEsIHRleHQyKSB7XG4gIHZhciBsb25ndGV4dCA9IHRleHQxLmxlbmd0aCA+IHRleHQyLmxlbmd0aCA/IHRleHQxIDogdGV4dDI7XG4gIHZhciBzaG9ydHRleHQgPSB0ZXh0MS5sZW5ndGggPiB0ZXh0Mi5sZW5ndGggPyB0ZXh0MiA6IHRleHQxO1xuICBpZiAobG9uZ3RleHQubGVuZ3RoIDwgNCB8fCBzaG9ydHRleHQubGVuZ3RoICogMiA8IGxvbmd0ZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiBudWxsOyAgLy8gUG9pbnRsZXNzLlxuICB9XG5cbiAgLyoqXG4gICAqIERvZXMgYSBzdWJzdHJpbmcgb2Ygc2hvcnR0ZXh0IGV4aXN0IHdpdGhpbiBsb25ndGV4dCBzdWNoIHRoYXQgdGhlIHN1YnN0cmluZ1xuICAgKiBpcyBhdCBsZWFzdCBoYWxmIHRoZSBsZW5ndGggb2YgbG9uZ3RleHQ/XG4gICAqIENsb3N1cmUsIGJ1dCBkb2VzIG5vdCByZWZlcmVuY2UgYW55IGV4dGVybmFsIHZhcmlhYmxlcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvbmd0ZXh0IExvbmdlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaG9ydHRleHQgU2hvcnRlciBzdHJpbmcuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpIFN0YXJ0IGluZGV4IG9mIHF1YXJ0ZXIgbGVuZ3RoIHN1YnN0cmluZyB3aXRoaW4gbG9uZ3RleHQuXG4gICAqIEByZXR1cm4ge0FycmF5LjxzdHJpbmc+fSBGaXZlIGVsZW1lbnQgQXJyYXksIGNvbnRhaW5pbmcgdGhlIHByZWZpeCBvZlxuICAgKiAgICAgbG9uZ3RleHQsIHRoZSBzdWZmaXggb2YgbG9uZ3RleHQsIHRoZSBwcmVmaXggb2Ygc2hvcnR0ZXh0LCB0aGUgc3VmZml4XG4gICAqICAgICBvZiBzaG9ydHRleHQgYW5kIHRoZSBjb21tb24gbWlkZGxlLiAgT3IgbnVsbCBpZiB0aGVyZSB3YXMgbm8gbWF0Y2guXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsIGkpIHtcbiAgICAvLyBTdGFydCB3aXRoIGEgMS80IGxlbmd0aCBzdWJzdHJpbmcgYXQgcG9zaXRpb24gaSBhcyBhIHNlZWQuXG4gICAgdmFyIHNlZWQgPSBsb25ndGV4dC5zdWJzdHJpbmcoaSwgaSArIE1hdGguZmxvb3IobG9uZ3RleHQubGVuZ3RoIC8gNCkpO1xuICAgIHZhciBqID0gLTE7XG4gICAgdmFyIGJlc3RfY29tbW9uID0gJyc7XG4gICAgdmFyIGJlc3RfbG9uZ3RleHRfYSwgYmVzdF9sb25ndGV4dF9iLCBiZXN0X3Nob3J0dGV4dF9hLCBiZXN0X3Nob3J0dGV4dF9iO1xuICAgIHdoaWxlICgoaiA9IHNob3J0dGV4dC5pbmRleE9mKHNlZWQsIGogKyAxKSkgIT09IC0xKSB7XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gZGlmZl9jb21tb25QcmVmaXgoXG4gICAgICAgIGxvbmd0ZXh0LnN1YnN0cmluZyhpKSwgc2hvcnR0ZXh0LnN1YnN0cmluZyhqKSk7XG4gICAgICB2YXIgc3VmZml4TGVuZ3RoID0gZGlmZl9jb21tb25TdWZmaXgoXG4gICAgICAgIGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpKSwgc2hvcnR0ZXh0LnN1YnN0cmluZygwLCBqKSk7XG4gICAgICBpZiAoYmVzdF9jb21tb24ubGVuZ3RoIDwgc3VmZml4TGVuZ3RoICsgcHJlZml4TGVuZ3RoKSB7XG4gICAgICAgIGJlc3RfY29tbW9uID0gc2hvcnR0ZXh0LnN1YnN0cmluZyhcbiAgICAgICAgICBqIC0gc3VmZml4TGVuZ3RoLCBqKSArIHNob3J0dGV4dC5zdWJzdHJpbmcoaiwgaiArIHByZWZpeExlbmd0aCk7XG4gICAgICAgIGJlc3RfbG9uZ3RleHRfYSA9IGxvbmd0ZXh0LnN1YnN0cmluZygwLCBpIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9iID0gbG9uZ3RleHQuc3Vic3RyaW5nKGkgKyBwcmVmaXhMZW5ndGgpO1xuICAgICAgICBiZXN0X3Nob3J0dGV4dF9hID0gc2hvcnR0ZXh0LnN1YnN0cmluZygwLCBqIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgICAgYmVzdF9zaG9ydHRleHRfYiA9IHNob3J0dGV4dC5zdWJzdHJpbmcoaiArIHByZWZpeExlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChiZXN0X2NvbW1vbi5sZW5ndGggKiAyID49IGxvbmd0ZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgYmVzdF9sb25ndGV4dF9hLCBiZXN0X2xvbmd0ZXh0X2IsXG4gICAgICAgIGJlc3Rfc2hvcnR0ZXh0X2EsIGJlc3Rfc2hvcnR0ZXh0X2IsIGJlc3RfY29tbW9uXG4gICAgICBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2Vjb25kIHF1YXJ0ZXIgaXMgdGhlIHNlZWQgZm9yIGEgaGFsZi1tYXRjaC5cbiAgdmFyIGhtMSA9IGRpZmZfaGFsZk1hdGNoSV8obG9uZ3RleHQsIHNob3J0dGV4dCwgTWF0aC5jZWlsKGxvbmd0ZXh0Lmxlbmd0aCAvIDQpKTtcbiAgLy8gQ2hlY2sgYWdhaW4gYmFzZWQgb24gdGhlIHRoaXJkIHF1YXJ0ZXIuXG4gIHZhciBobTIgPSBkaWZmX2hhbGZNYXRjaElfKGxvbmd0ZXh0LCBzaG9ydHRleHQsIE1hdGguY2VpbChsb25ndGV4dC5sZW5ndGggLyAyKSk7XG4gIHZhciBobTtcbiAgaWYgKCFobTEgJiYgIWhtMikge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2UgaWYgKCFobTIpIHtcbiAgICBobSA9IGhtMTtcbiAgfSBlbHNlIGlmICghaG0xKSB7XG4gICAgaG0gPSBobTI7XG4gIH0gZWxzZSB7XG4gICAgLy8gQm90aCBtYXRjaGVkLiAgU2VsZWN0IHRoZSBsb25nZXN0LlxuICAgIGhtID0gaG0xWzRdLmxlbmd0aCA+IGhtMls0XS5sZW5ndGggPyBobTEgOiBobTI7XG4gIH1cblxuICAvLyBBIGhhbGYtbWF0Y2ggd2FzIGZvdW5kLCBzb3J0IG91dCB0aGUgcmV0dXJuIGRhdGEuXG4gIHZhciB0ZXh0MV9hLCB0ZXh0MV9iLCB0ZXh0Ml9hLCB0ZXh0Ml9iO1xuICBpZiAodGV4dDEubGVuZ3RoID4gdGV4dDIubGVuZ3RoKSB7XG4gICAgdGV4dDFfYSA9IGhtWzBdO1xuICAgIHRleHQxX2IgPSBobVsxXTtcbiAgICB0ZXh0Ml9hID0gaG1bMl07XG4gICAgdGV4dDJfYiA9IGhtWzNdO1xuICB9IGVsc2Uge1xuICAgIHRleHQyX2EgPSBobVswXTtcbiAgICB0ZXh0Ml9iID0gaG1bMV07XG4gICAgdGV4dDFfYSA9IGhtWzJdO1xuICAgIHRleHQxX2IgPSBobVszXTtcbiAgfVxuICB2YXIgbWlkX2NvbW1vbiA9IGhtWzRdO1xuICByZXR1cm4gW3RleHQxX2EsIHRleHQxX2IsIHRleHQyX2EsIHRleHQyX2IsIG1pZF9jb21tb25dO1xufTtcblxuXG4vKipcbiAqIFJlb3JkZXIgYW5kIG1lcmdlIGxpa2UgZWRpdCBzZWN0aW9ucy4gIE1lcmdlIGVxdWFsaXRpZXMuXG4gKiBBbnkgZWRpdCBzZWN0aW9uIGNhbiBtb3ZlIGFzIGxvbmcgYXMgaXQgZG9lc24ndCBjcm9zcyBhbiBlcXVhbGl0eS5cbiAqIEBwYXJhbSB7QXJyYXl9IGRpZmZzIEFycmF5IG9mIGRpZmYgdHVwbGVzLlxuICogQHBhcmFtIHtib29sZWFufSBmaXhfdW5pY29kZSBXaGV0aGVyIHRvIG5vcm1hbGl6ZSB0byBhIHVuaWNvZGUtY29ycmVjdCBkaWZmXG4gKi9cbmZ1bmN0aW9uIGRpZmZfY2xlYW51cE1lcmdlKGRpZmZzLCBmaXhfdW5pY29kZSkge1xuICBkaWZmcy5wdXNoKFtESUZGX0VRVUFMLCAnJ10pOyAgLy8gQWRkIGEgZHVtbXkgZW50cnkgYXQgdGhlIGVuZC5cbiAgdmFyIHBvaW50ZXIgPSAwO1xuICB2YXIgY291bnRfZGVsZXRlID0gMDtcbiAgdmFyIGNvdW50X2luc2VydCA9IDA7XG4gIHZhciB0ZXh0X2RlbGV0ZSA9ICcnO1xuICB2YXIgdGV4dF9pbnNlcnQgPSAnJztcbiAgdmFyIGNvbW1vbmxlbmd0aDtcbiAgd2hpbGUgKHBvaW50ZXIgPCBkaWZmcy5sZW5ndGgpIHtcbiAgICBpZiAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEgJiYgIWRpZmZzW3BvaW50ZXJdWzFdKSB7XG4gICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgc3dpdGNoIChkaWZmc1twb2ludGVyXVswXSkge1xuICAgICAgY2FzZSBESUZGX0lOU0VSVDpcblxuICAgICAgICBjb3VudF9pbnNlcnQrKztcbiAgICAgICAgdGV4dF9pbnNlcnQgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfREVMRVRFOlxuICAgICAgICBjb3VudF9kZWxldGUrKztcbiAgICAgICAgdGV4dF9kZWxldGUgKz0gZGlmZnNbcG9pbnRlcl1bMV07XG4gICAgICAgIHBvaW50ZXIrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIERJRkZfRVFVQUw6XG4gICAgICAgIHZhciBwcmV2aW91c19lcXVhbGl0eSA9IHBvaW50ZXIgLSBjb3VudF9pbnNlcnQgLSBjb3VudF9kZWxldGUgLSAxO1xuICAgICAgICBpZiAoZml4X3VuaWNvZGUpIHtcbiAgICAgICAgICAvLyBwcmV2ZW50IHNwbGl0dGluZyBvZiB1bmljb2RlIHN1cnJvZ2F0ZSBwYWlycy4gIHdoZW4gZml4X3VuaWNvZGUgaXMgdHJ1ZSxcbiAgICAgICAgICAvLyB3ZSBhc3N1bWUgdGhhdCB0aGUgb2xkIGFuZCBuZXcgdGV4dCBpbiB0aGUgZGlmZiBhcmUgY29tcGxldGUgYW5kIGNvcnJlY3RcbiAgICAgICAgICAvLyB1bmljb2RlLWVuY29kZWQgSlMgc3RyaW5ncywgYnV0IHRoZSB0dXBsZSBib3VuZGFyaWVzIG1heSBmYWxsIGJldHdlZW5cbiAgICAgICAgICAvLyBzdXJyb2dhdGUgcGFpcnMuICB3ZSBmaXggdGhpcyBieSBzaGF2aW5nIG9mZiBzdHJheSBzdXJyb2dhdGVzIGZyb20gdGhlIGVuZFxuICAgICAgICAgIC8vIG9mIHRoZSBwcmV2aW91cyBlcXVhbGl0eSBhbmQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGVxdWFsaXR5LiAgdGhpcyBtYXkgY3JlYXRlXG4gICAgICAgICAgLy8gZW1wdHkgZXF1YWxpdGllcyBvciBhIGNvbW1vbiBwcmVmaXggb3Igc3VmZml4LiAgZm9yIGV4YW1wbGUsIGlmIEFCIGFuZCBBQyBhcmVcbiAgICAgICAgICAvLyBlbW9qaXMsIGBbWzAsICdBJ10sIFstMSwgJ0JBJ10sIFswLCAnQyddXWAgd291bGQgdHVybiBpbnRvIGRlbGV0aW5nICdBQkFDJyBhbmRcbiAgICAgICAgICAvLyBpbnNlcnRpbmcgJ0FDJywgYW5kIHRoZW4gdGhlIGNvbW1vbiBzdWZmaXggJ0FDJyB3aWxsIGJlIGVsaW1pbmF0ZWQuICBpbiB0aGlzXG4gICAgICAgICAgLy8gcGFydGljdWxhciBjYXNlLCBib3RoIGVxdWFsaXRpZXMgZ28gYXdheSwgd2UgYWJzb3JiIGFueSBwcmV2aW91cyBpbmVxdWFsaXRpZXMsXG4gICAgICAgICAgLy8gYW5kIHdlIGtlZXAgc2Nhbm5pbmcgZm9yIHRoZSBuZXh0IGVxdWFsaXR5IGJlZm9yZSByZXdyaXRpbmcgdGhlIHR1cGxlcy5cbiAgICAgICAgICBpZiAocHJldmlvdXNfZXF1YWxpdHkgPj0gMCAmJiBlbmRzX3dpdGhfcGFpcl9zdGFydChkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0pKSB7XG4gICAgICAgICAgICB2YXIgc3RyYXkgPSBkaWZmc1twcmV2aW91c19lcXVhbGl0eV1bMV0uc2xpY2UoLTEpO1xuICAgICAgICAgICAgZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdID0gZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICAgIHRleHRfZGVsZXRlID0gc3RyYXkgKyB0ZXh0X2RlbGV0ZTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gc3RyYXkgKyB0ZXh0X2luc2VydDtcbiAgICAgICAgICAgIGlmICghZGlmZnNbcHJldmlvdXNfZXF1YWxpdHldWzFdKSB7XG4gICAgICAgICAgICAgIC8vIGVtcHRpZWQgb3V0IHByZXZpb3VzIGVxdWFsaXR5LCBzbyBkZWxldGUgaXQgYW5kIGluY2x1ZGUgcHJldmlvdXMgZGVsZXRlL2luc2VydFxuICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UocHJldmlvdXNfZXF1YWxpdHksIDEpO1xuICAgICAgICAgICAgICBwb2ludGVyLS07XG4gICAgICAgICAgICAgIHZhciBrID0gcHJldmlvdXNfZXF1YWxpdHkgLSAxO1xuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfSU5TRVJUKSB7XG4gICAgICAgICAgICAgICAgY291bnRfaW5zZXJ0Kys7XG4gICAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSBkaWZmc1trXVsxXSArIHRleHRfaW5zZXJ0O1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoZGlmZnNba10gJiYgZGlmZnNba11bMF0gPT09IERJRkZfREVMRVRFKSB7XG4gICAgICAgICAgICAgICAgY291bnRfZGVsZXRlKys7XG4gICAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSBkaWZmc1trXVsxXSArIHRleHRfZGVsZXRlO1xuICAgICAgICAgICAgICAgIGstLTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBwcmV2aW91c19lcXVhbGl0eSA9IGs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGFydHNfd2l0aF9wYWlyX2VuZChkaWZmc1twb2ludGVyXVsxXSkpIHtcbiAgICAgICAgICAgIHZhciBzdHJheSA9IGRpZmZzW3BvaW50ZXJdWzFdLmNoYXJBdCgwKTtcbiAgICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdID0gZGlmZnNbcG9pbnRlcl1bMV0uc2xpY2UoMSk7XG4gICAgICAgICAgICB0ZXh0X2RlbGV0ZSArPSBzdHJheTtcbiAgICAgICAgICAgIHRleHRfaW5zZXJ0ICs9IHN0cmF5O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9pbnRlciA8IGRpZmZzLmxlbmd0aCAtIDEgJiYgIWRpZmZzW3BvaW50ZXJdWzFdKSB7XG4gICAgICAgICAgLy8gZm9yIGVtcHR5IGVxdWFsaXR5IG5vdCBhdCBlbmQsIHdhaXQgZm9yIG5leHQgZXF1YWxpdHlcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA+IDAgfHwgdGV4dF9pbnNlcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIG5vdGUgdGhhdCBkaWZmX2NvbW1vblByZWZpeCBhbmQgZGlmZl9jb21tb25TdWZmaXggYXJlIHVuaWNvZGUtYXdhcmVcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID4gMCAmJiB0ZXh0X2luc2VydC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gcHJlZml4ZXMuXG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblByZWZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBpZiAocHJldmlvdXNfZXF1YWxpdHkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGRpZmZzW3ByZXZpb3VzX2VxdWFsaXR5XVsxXSArPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoMCwgY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaWZmcy5zcGxpY2UoMCwgMCwgW0RJRkZfRVFVQUwsIHRleHRfaW5zZXJ0LnN1YnN0cmluZygwLCBjb21tb25sZW5ndGgpXSk7XG4gICAgICAgICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRleHRfaW5zZXJ0ID0gdGV4dF9pbnNlcnQuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICAgIHRleHRfZGVsZXRlID0gdGV4dF9kZWxldGUuc3Vic3RyaW5nKGNvbW1vbmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGYWN0b3Igb3V0IGFueSBjb21tb24gc3VmZml4ZXMuXG4gICAgICAgICAgICBjb21tb25sZW5ndGggPSBkaWZmX2NvbW1vblN1ZmZpeCh0ZXh0X2luc2VydCwgdGV4dF9kZWxldGUpO1xuICAgICAgICAgICAgaWYgKGNvbW1vbmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICBkaWZmc1twb2ludGVyXVsxXSA9XG4gICAgICAgICAgICAgICAgdGV4dF9pbnNlcnQuc3Vic3RyaW5nKHRleHRfaW5zZXJ0Lmxlbmd0aCAtIGNvbW1vbmxlbmd0aCkgKyBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICAgICAgdGV4dF9pbnNlcnQgPSB0ZXh0X2luc2VydC5zdWJzdHJpbmcoMCwgdGV4dF9pbnNlcnQubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdGV4dF9kZWxldGUgPSB0ZXh0X2RlbGV0ZS5zdWJzdHJpbmcoMCwgdGV4dF9kZWxldGUubGVuZ3RoIC0gY29tbW9ubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRGVsZXRlIHRoZSBvZmZlbmRpbmcgcmVjb3JkcyBhbmQgYWRkIHRoZSBtZXJnZWQgb25lcy5cbiAgICAgICAgICB2YXIgbiA9IGNvdW50X2luc2VydCArIGNvdW50X2RlbGV0ZTtcbiAgICAgICAgICBpZiAodGV4dF9kZWxldGUubGVuZ3RoID09PSAwICYmIHRleHRfaW5zZXJ0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRleHRfZGVsZXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSBuLCBuLCBbRElGRl9JTlNFUlQsIHRleHRfaW5zZXJ0XSk7XG4gICAgICAgICAgICBwb2ludGVyID0gcG9pbnRlciAtIG4gKyAxO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGV4dF9pbnNlcnQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciAtIG4sIG4sIFtESUZGX0RFTEVURSwgdGV4dF9kZWxldGVdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpZmZzLnNwbGljZShwb2ludGVyIC0gbiwgbiwgW0RJRkZfREVMRVRFLCB0ZXh0X2RlbGV0ZV0sIFtESUZGX0lOU0VSVCwgdGV4dF9pbnNlcnRdKTtcbiAgICAgICAgICAgIHBvaW50ZXIgPSBwb2ludGVyIC0gbiArIDI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwb2ludGVyICE9PSAwICYmIGRpZmZzW3BvaW50ZXIgLSAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgICAgIC8vIE1lcmdlIHRoaXMgZXF1YWxpdHkgd2l0aCB0aGUgcHJldmlvdXMgb25lLlxuICAgICAgICAgIGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArPSBkaWZmc1twb2ludGVyXVsxXTtcbiAgICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcG9pbnRlcisrO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50X2luc2VydCA9IDA7XG4gICAgICAgIGNvdW50X2RlbGV0ZSA9IDA7XG4gICAgICAgIHRleHRfZGVsZXRlID0gJyc7XG4gICAgICAgIHRleHRfaW5zZXJ0ID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICBpZiAoZGlmZnNbZGlmZnMubGVuZ3RoIC0gMV1bMV0gPT09ICcnKSB7XG4gICAgZGlmZnMucG9wKCk7ICAvLyBSZW1vdmUgdGhlIGR1bW15IGVudHJ5IGF0IHRoZSBlbmQuXG4gIH1cblxuICAvLyBTZWNvbmQgcGFzczogbG9vayBmb3Igc2luZ2xlIGVkaXRzIHN1cnJvdW5kZWQgb24gYm90aCBzaWRlcyBieSBlcXVhbGl0aWVzXG4gIC8vIHdoaWNoIGNhbiBiZSBzaGlmdGVkIHNpZGV3YXlzIHRvIGVsaW1pbmF0ZSBhbiBlcXVhbGl0eS5cbiAgLy8gZS5nOiBBPGlucz5CQTwvaW5zPkMgLT4gPGlucz5BQjwvaW5zPkFDXG4gIHZhciBjaGFuZ2VzID0gZmFsc2U7XG4gIHBvaW50ZXIgPSAxO1xuICAvLyBJbnRlbnRpb25hbGx5IGlnbm9yZSB0aGUgZmlyc3QgYW5kIGxhc3QgZWxlbWVudCAoZG9uJ3QgbmVlZCBjaGVja2luZykuXG4gIHdoaWxlIChwb2ludGVyIDwgZGlmZnMubGVuZ3RoIC0gMSkge1xuICAgIGlmIChkaWZmc1twb2ludGVyIC0gMV1bMF0gPT09IERJRkZfRVFVQUwgJiZcbiAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVswXSA9PT0gRElGRl9FUVVBTCkge1xuICAgICAgLy8gVGhpcyBpcyBhIHNpbmdsZSBlZGl0IHN1cnJvdW5kZWQgYnkgZXF1YWxpdGllcy5cbiAgICAgIGlmIChkaWZmc1twb2ludGVyXVsxXS5zdWJzdHJpbmcoZGlmZnNbcG9pbnRlcl1bMV0ubGVuZ3RoIC1cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aCkgPT09IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSkge1xuICAgICAgICAvLyBTaGlmdCB0aGUgZWRpdCBvdmVyIHRoZSBwcmV2aW91cyBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPSBkaWZmc1twb2ludGVyIC0gMV1bMV0gK1xuICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyXVsxXS5sZW5ndGggLVxuICAgICAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdLmxlbmd0aCk7XG4gICAgICAgIGRpZmZzW3BvaW50ZXIgKyAxXVsxXSA9IGRpZmZzW3BvaW50ZXIgLSAxXVsxXSArIGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnMuc3BsaWNlKHBvaW50ZXIgLSAxLCAxKTtcbiAgICAgICAgY2hhbmdlcyA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZygwLCBkaWZmc1twb2ludGVyICsgMV1bMV0ubGVuZ3RoKSA9PVxuICAgICAgICBkaWZmc1twb2ludGVyICsgMV1bMV0pIHtcbiAgICAgICAgLy8gU2hpZnQgdGhlIGVkaXQgb3ZlciB0aGUgbmV4dCBlcXVhbGl0eS5cbiAgICAgICAgZGlmZnNbcG9pbnRlciAtIDFdWzFdICs9IGRpZmZzW3BvaW50ZXIgKyAxXVsxXTtcbiAgICAgICAgZGlmZnNbcG9pbnRlcl1bMV0gPVxuICAgICAgICAgIGRpZmZzW3BvaW50ZXJdWzFdLnN1YnN0cmluZyhkaWZmc1twb2ludGVyICsgMV1bMV0ubGVuZ3RoKSArXG4gICAgICAgICAgZGlmZnNbcG9pbnRlciArIDFdWzFdO1xuICAgICAgICBkaWZmcy5zcGxpY2UocG9pbnRlciArIDEsIDEpO1xuICAgICAgICBjaGFuZ2VzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9pbnRlcisrO1xuICB9XG4gIC8vIElmIHNoaWZ0cyB3ZXJlIG1hZGUsIHRoZSBkaWZmIG5lZWRzIHJlb3JkZXJpbmcgYW5kIGFub3RoZXIgc2hpZnQgc3dlZXAuXG4gIGlmIChjaGFuZ2VzKSB7XG4gICAgZGlmZl9jbGVhbnVwTWVyZ2UoZGlmZnMsIGZpeF91bmljb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gaXNfc3Vycm9nYXRlX3BhaXJfc3RhcnQoY2hhckNvZGUpIHtcbiAgcmV0dXJuIGNoYXJDb2RlID49IDB4RDgwMCAmJiBjaGFyQ29kZSA8PSAweERCRkY7XG59XG5cbmZ1bmN0aW9uIGlzX3N1cnJvZ2F0ZV9wYWlyX2VuZChjaGFyQ29kZSkge1xuICByZXR1cm4gY2hhckNvZGUgPj0gMHhEQzAwICYmIGNoYXJDb2RlIDw9IDB4REZGRjtcbn1cblxuZnVuY3Rpb24gc3RhcnRzX3dpdGhfcGFpcl9lbmQoc3RyKSB7XG4gIHJldHVybiBpc19zdXJyb2dhdGVfcGFpcl9lbmQoc3RyLmNoYXJDb2RlQXQoMCkpO1xufVxuXG5mdW5jdGlvbiBlbmRzX3dpdGhfcGFpcl9zdGFydChzdHIpIHtcbiAgcmV0dXJuIGlzX3N1cnJvZ2F0ZV9wYWlyX3N0YXJ0KHN0ci5jaGFyQ29kZUF0KHN0ci5sZW5ndGggLSAxKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZV9lbXB0eV90dXBsZXModHVwbGVzKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0dXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodHVwbGVzW2ldWzFdLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldC5wdXNoKHR1cGxlc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG1ha2VfZWRpdF9zcGxpY2UoYmVmb3JlLCBvbGRNaWRkbGUsIG5ld01pZGRsZSwgYWZ0ZXIpIHtcbiAgaWYgKGVuZHNfd2l0aF9wYWlyX3N0YXJ0KGJlZm9yZSkgfHwgc3RhcnRzX3dpdGhfcGFpcl9lbmQoYWZ0ZXIpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlbW92ZV9lbXB0eV90dXBsZXMoW1xuICAgIFtESUZGX0VRVUFMLCBiZWZvcmVdLFxuICAgIFtESUZGX0RFTEVURSwgb2xkTWlkZGxlXSxcbiAgICBbRElGRl9JTlNFUlQsIG5ld01pZGRsZV0sXG4gICAgW0RJRkZfRVFVQUwsIGFmdGVyXVxuICBdKTtcbn1cblxuZnVuY3Rpb24gZmluZF9jdXJzb3JfZWRpdF9kaWZmKG9sZFRleHQsIG5ld1RleHQsIGN1cnNvcl9wb3MpIHtcbiAgLy8gbm90ZTogdGhpcyBydW5zIGFmdGVyIGVxdWFsaXR5IGNoZWNrIGhhcyBydWxlZCBvdXQgZXhhY3QgZXF1YWxpdHlcbiAgdmFyIG9sZFJhbmdlID0gdHlwZW9mIGN1cnNvcl9wb3MgPT09ICdudW1iZXInID9cbiAgICB7IGluZGV4OiBjdXJzb3JfcG9zLCBsZW5ndGg6IDAgfSA6IGN1cnNvcl9wb3Mub2xkUmFuZ2U7XG4gIHZhciBuZXdSYW5nZSA9IHR5cGVvZiBjdXJzb3JfcG9zID09PSAnbnVtYmVyJyA/XG4gICAgbnVsbCA6IGN1cnNvcl9wb3MubmV3UmFuZ2U7XG4gIC8vIHRha2UgaW50byBhY2NvdW50IHRoZSBvbGQgYW5kIG5ldyBzZWxlY3Rpb24gdG8gZ2VuZXJhdGUgdGhlIGJlc3QgZGlmZlxuICAvLyBwb3NzaWJsZSBmb3IgYSB0ZXh0IGVkaXQuICBmb3IgZXhhbXBsZSwgYSB0ZXh0IGNoYW5nZSBmcm9tIFwieHh4XCIgdG8gXCJ4eFwiXG4gIC8vIGNvdWxkIGJlIGEgZGVsZXRlIG9yIGZvcndhcmRzLWRlbGV0ZSBvZiBhbnkgb25lIG9mIHRoZSB4J3MsIG9yIHRoZVxuICAvLyByZXN1bHQgb2Ygc2VsZWN0aW5nIHR3byBvZiB0aGUgeCdzIGFuZCB0eXBpbmcgXCJ4XCIuXG4gIHZhciBvbGRMZW5ndGggPSBvbGRUZXh0Lmxlbmd0aDtcbiAgdmFyIG5ld0xlbmd0aCA9IG5ld1RleHQubGVuZ3RoO1xuICBpZiAob2xkUmFuZ2UubGVuZ3RoID09PSAwICYmIChuZXdSYW5nZSA9PT0gbnVsbCB8fCBuZXdSYW5nZS5sZW5ndGggPT09IDApKSB7XG4gICAgLy8gc2VlIGlmIHdlIGhhdmUgYW4gaW5zZXJ0IG9yIGRlbGV0ZSBiZWZvcmUgb3IgYWZ0ZXIgY3Vyc29yXG4gICAgdmFyIG9sZEN1cnNvciA9IG9sZFJhbmdlLmluZGV4O1xuICAgIHZhciBvbGRCZWZvcmUgPSBvbGRUZXh0LnNsaWNlKDAsIG9sZEN1cnNvcik7XG4gICAgdmFyIG9sZEFmdGVyID0gb2xkVGV4dC5zbGljZShvbGRDdXJzb3IpO1xuICAgIHZhciBtYXliZU5ld0N1cnNvciA9IG5ld1JhbmdlID8gbmV3UmFuZ2UuaW5kZXggOiBudWxsO1xuICAgIGVkaXRCZWZvcmU6IHtcbiAgICAgIC8vIGlzIHRoaXMgYW4gaW5zZXJ0IG9yIGRlbGV0ZSByaWdodCBiZWZvcmUgb2xkQ3Vyc29yP1xuICAgICAgdmFyIG5ld0N1cnNvciA9IG9sZEN1cnNvciArIG5ld0xlbmd0aCAtIG9sZExlbmd0aDtcbiAgICAgIGlmIChtYXliZU5ld0N1cnNvciAhPT0gbnVsbCAmJiBtYXliZU5ld0N1cnNvciAhPT0gbmV3Q3Vyc29yKSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICBpZiAobmV3Q3Vyc29yIDwgMCB8fCBuZXdDdXJzb3IgPiBuZXdMZW5ndGgpIHtcbiAgICAgICAgYnJlYWsgZWRpdEJlZm9yZTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdCZWZvcmUgPSBuZXdUZXh0LnNsaWNlKDAsIG5ld0N1cnNvcik7XG4gICAgICB2YXIgbmV3QWZ0ZXIgPSBuZXdUZXh0LnNsaWNlKG5ld0N1cnNvcik7XG4gICAgICBpZiAobmV3QWZ0ZXIgIT09IG9sZEFmdGVyKSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gTWF0aC5taW4ob2xkQ3Vyc29yLCBuZXdDdXJzb3IpO1xuICAgICAgdmFyIG9sZFByZWZpeCA9IG9sZEJlZm9yZS5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld1ByZWZpeCA9IG5ld0JlZm9yZS5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgaWYgKG9sZFByZWZpeCAhPT0gbmV3UHJlZml4KSB7XG4gICAgICAgIGJyZWFrIGVkaXRCZWZvcmU7XG4gICAgICB9XG4gICAgICB2YXIgb2xkTWlkZGxlID0gb2xkQmVmb3JlLnNsaWNlKHByZWZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3TWlkZGxlID0gbmV3QmVmb3JlLnNsaWNlKHByZWZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRQcmVmaXgsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRBZnRlcik7XG4gICAgfVxuICAgIGVkaXRBZnRlcjoge1xuICAgICAgLy8gaXMgdGhpcyBhbiBpbnNlcnQgb3IgZGVsZXRlIHJpZ2h0IGFmdGVyIG9sZEN1cnNvcj9cbiAgICAgIGlmIChtYXliZU5ld0N1cnNvciAhPT0gbnVsbCAmJiBtYXliZU5ld0N1cnNvciAhPT0gb2xkQ3Vyc29yKSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJzb3IgPSBvbGRDdXJzb3I7XG4gICAgICB2YXIgbmV3QmVmb3JlID0gbmV3VGV4dC5zbGljZSgwLCBjdXJzb3IpO1xuICAgICAgdmFyIG5ld0FmdGVyID0gbmV3VGV4dC5zbGljZShjdXJzb3IpO1xuICAgICAgaWYgKG5ld0JlZm9yZSAhPT0gb2xkQmVmb3JlKSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBNYXRoLm1pbihvbGRMZW5ndGggLSBjdXJzb3IsIG5ld0xlbmd0aCAtIGN1cnNvcik7XG4gICAgICB2YXIgb2xkU3VmZml4ID0gb2xkQWZ0ZXIuc2xpY2Uob2xkQWZ0ZXIubGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIHZhciBuZXdTdWZmaXggPSBuZXdBZnRlci5zbGljZShuZXdBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgaWYgKG9sZFN1ZmZpeCAhPT0gbmV3U3VmZml4KSB7XG4gICAgICAgIGJyZWFrIGVkaXRBZnRlcjtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRNaWRkbGUgPSBvbGRBZnRlci5zbGljZSgwLCBvbGRBZnRlci5sZW5ndGggLSBzdWZmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld01pZGRsZSA9IG5ld0FmdGVyLnNsaWNlKDAsIG5ld0FmdGVyLmxlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRCZWZvcmUsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRTdWZmaXgpO1xuICAgIH1cbiAgfVxuICBpZiAob2xkUmFuZ2UubGVuZ3RoID4gMCAmJiBuZXdSYW5nZSAmJiBuZXdSYW5nZS5sZW5ndGggPT09IDApIHtcbiAgICByZXBsYWNlUmFuZ2U6IHtcbiAgICAgIC8vIHNlZSBpZiBkaWZmIGNvdWxkIGJlIGEgc3BsaWNlIG9mIHRoZSBvbGQgc2VsZWN0aW9uIHJhbmdlXG4gICAgICB2YXIgb2xkUHJlZml4ID0gb2xkVGV4dC5zbGljZSgwLCBvbGRSYW5nZS5pbmRleCk7XG4gICAgICB2YXIgb2xkU3VmZml4ID0gb2xkVGV4dC5zbGljZShvbGRSYW5nZS5pbmRleCArIG9sZFJhbmdlLmxlbmd0aCk7XG4gICAgICB2YXIgcHJlZml4TGVuZ3RoID0gb2xkUHJlZml4Lmxlbmd0aDtcbiAgICAgIHZhciBzdWZmaXhMZW5ndGggPSBvbGRTdWZmaXgubGVuZ3RoO1xuICAgICAgaWYgKG5ld0xlbmd0aCA8IHByZWZpeExlbmd0aCArIHN1ZmZpeExlbmd0aCkge1xuICAgICAgICBicmVhayByZXBsYWNlUmFuZ2U7XG4gICAgICB9XG4gICAgICB2YXIgbmV3UHJlZml4ID0gbmV3VGV4dC5zbGljZSgwLCBwcmVmaXhMZW5ndGgpO1xuICAgICAgdmFyIG5ld1N1ZmZpeCA9IG5ld1RleHQuc2xpY2UobmV3TGVuZ3RoIC0gc3VmZml4TGVuZ3RoKTtcbiAgICAgIGlmIChvbGRQcmVmaXggIT09IG5ld1ByZWZpeCB8fCBvbGRTdWZmaXggIT09IG5ld1N1ZmZpeCkge1xuICAgICAgICBicmVhayByZXBsYWNlUmFuZ2U7XG4gICAgICB9XG4gICAgICB2YXIgb2xkTWlkZGxlID0gb2xkVGV4dC5zbGljZShwcmVmaXhMZW5ndGgsIG9sZExlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICB2YXIgbmV3TWlkZGxlID0gbmV3VGV4dC5zbGljZShwcmVmaXhMZW5ndGgsIG5ld0xlbmd0aCAtIHN1ZmZpeExlbmd0aCk7XG4gICAgICByZXR1cm4gbWFrZV9lZGl0X3NwbGljZShvbGRQcmVmaXgsIG9sZE1pZGRsZSwgbmV3TWlkZGxlLCBvbGRTdWZmaXgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBkaWZmKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3Bvcykge1xuICAvLyBvbmx5IHBhc3MgZml4X3VuaWNvZGU9dHJ1ZSBhdCB0aGUgdG9wIGxldmVsLCBub3Qgd2hlbiBkaWZmX21haW4gaXNcbiAgLy8gcmVjdXJzaXZlbHkgaW52b2tlZFxuICByZXR1cm4gZGlmZl9tYWluKHRleHQxLCB0ZXh0MiwgY3Vyc29yX3BvcywgdHJ1ZSk7XG59XG5cbmRpZmYuSU5TRVJUID0gRElGRl9JTlNFUlQ7XG5kaWZmLkRFTEVURSA9IERJRkZfREVMRVRFO1xuZGlmZi5FUVVBTCA9IERJRkZfRVFVQUw7XG5cbm1vZHVsZS5leHBvcnRzID0gZGlmZjtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBUeXBlcyAtIFR5cGUgZGVmaW5paW9ucy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcblxuZXhwb3J0IHR5cGUgRm9ybWF0dGluZ0NvbnRleHRUeXBlID1cbiAgfCBcIkJsb2NrXCJcbiAgfCBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCJcbiAgfCBcIlRhYmxlXCI7XG5cbmV4cG9ydCB0eXBlIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPVxuICB8IFwiQWZ0ZXJJZkNvbnRpbnVlXCJcbiAgfCBcIkVudGlyZVRhYmxlXCJcbiAgfCBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCJcbiAgfCBcIlRhYmxlUm93XCI7XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ3NzQ2FzY2FkZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudFN0eWxlIHt9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgQ3NzU3R5bGVyIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBYnN0cmFjdFN0eWxlciB7XG4gICAgZ2V0U3R5bGUoZWxlbWVudDogRWxlbWVudCwgZGVlcDogYm9vbGVhbik6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHByb2Nlc3NDb250ZW50KGVsZW1lbnQ6IEVsZW1lbnQsIHN0eWxlczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgTGF5b3V0IHtcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgYSBjb25zdHJhaW50IG9uIGxheW91dFxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlmIHRoaXMgY29uc3RyYWludCBhbGxvd3MgdGhlIG5vZGUgY29udGV4dCB0byBiZSBsYWlkIG91dCBhdCB0aGVcbiAgICAgKiBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGFsbG93TGF5b3V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgY29uc3RyYWludHMgb24gbGF5aW5nIG91dCBmcmFnbWVudHNcbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50IHtcbiAgICBmbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlO1xuICAgIGFsbG93TGF5b3V0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBDb2x1bW4sXG4gICAgKTogYm9vbGVhbjtcbiAgICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgcG9zdExheW91dChcbiAgICAgIGFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjb2x1bW46IENvbHVtbixcbiAgICApO1xuICAgIGZpbmlzaEJyZWFrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBDb2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgZXF1YWxzVG8oY29uc3RyYWludDogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50KTogYm9vbGVhbjtcbiAgICBnZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKTogbnVtYmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgQnJlYWtQb3NpdGlvbiB7XG4gICAgLyoqXG4gICAgICogQHJldHVybiBicmVhayBwb3NpdGlvbiwgaWYgZm91bmRcbiAgICAgKi9cbiAgICBmaW5kQWNjZXB0YWJsZUJyZWFrKGNvbHVtbjogQ29sdW1uLCBwZW5hbHR5OiBudW1iZXIpOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHBlbmFsdHkgZm9yIHRoaXMgYnJlYWsgcG9zaXRpb25cbiAgICAgKi9cbiAgICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyO1xuICAgIGNhbGN1bGF0ZU9mZnNldChjb2x1bW46IENvbHVtbik6IHsgY3VycmVudDogbnVtYmVyOyBtaW5pbXVtOiBudW1iZXIgfTtcbiAgICBicmVha1Bvc2l0aW9uQ2hvc2VuKGNvbHVtbjogQ29sdW1uKTogdm9pZDtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbiB7XG4gICAgZ2V0Tm9kZUNvbnRleHQoKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH1cblxuICBleHBvcnQgdHlwZSBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQgPSB7XG4gICAgYnJlYWtQb3NpdGlvbjogQnJlYWtQb3NpdGlvbjtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBpbnNpZGUgQ1NTIGJveCAoYmV0d2VlbiBsaW5lcykuXG4gICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBicmVha2luZyBwb2ludHMgZm9yXG4gICAqICAgIGJyZWFrYWJsZSBibG9ja1xuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBCb3hCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIHtcbiAgICBicmVha05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZWFkb25seSBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXTtcbiAgICByZWFkb25seSBwZW5hbHR5OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogUG90ZW50aWFsIGVkZ2UgYnJlYWtpbmcgcG9zaXRpb24uXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIEVkZ2VCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQWJzdHJhY3RCcmVha1Bvc2l0aW9uIHtcbiAgICBvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZDogYm9vbGVhbjtcbiAgICByZWFkb25seSBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVhZG9ubHkgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgb3ZlcmZsb3dzOiBib29sZWFuO1xuICAgIHJlYWRvbmx5IGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXI7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENvbHVtbiBleHRlbmRzIFZ0cmVlLkNvbnRhaW5lciB7XG4gICAgbGFzdDogTm9kZTtcbiAgICB2aWV3RG9jdW1lbnQ6IERvY3VtZW50O1xuICAgIGZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlzRmxvYXQ6IGJvb2xlYW47XG4gICAgaXNGb290bm90ZTogYm9vbGVhbjtcbiAgICBzdGFydEVkZ2U6IG51bWJlcjtcbiAgICBlbmRFZGdlOiBudW1iZXI7XG4gICAgYmVmb3JlRWRnZTogbnVtYmVyO1xuICAgIGFmdGVyRWRnZTogbnVtYmVyO1xuICAgIGZvb3Rub3RlRWRnZTogbnVtYmVyO1xuICAgIGJveDogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgY2h1bmtQb3NpdGlvbnM6IFZ0cmVlLkNodW5rUG9zaXRpb25bXTtcbiAgICBiYW5kczogR2VvbWV0cnlVdGlsLkJhbmRbXTtcbiAgICBvdmVyZmxvd246IGJvb2xlYW47XG4gICAgYnJlYWtQb3NpdGlvbnM6IEJyZWFrUG9zaXRpb25bXTtcbiAgICBwYWdlQnJlYWtUeXBlOiBzdHJpbmcgfCBudWxsO1xuICAgIGZvcmNlTm9uZml0dGluZzogYm9vbGVhbjtcbiAgICBsZWZ0RmxvYXRFZGdlOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogYm90dG9tIG9mIHRoZSBib3R0b21tb3N0IGxlZnQgZmxvYXRcbiAgICAgKi9cbiAgICByaWdodEZsb2F0RWRnZTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIGJvdHRvbSBvZiB0aGUgYm90dG9tbW9zdCByaWdodCBmbG9hdFxuICAgICAqL1xuICAgIGJvdHRvbW1vc3RGbG9hdFRvcDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRvcCBvZiB0aGUgYm90dG9tbW9zdCBmbG9hdFxuICAgICAqL1xuICAgIHN0b3BBdE92ZXJmbG93OiBib29sZWFuO1xuICAgIGxhc3RBZnRlclBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsO1xuICAgIGZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgIHBzZXVkb1BhcmVudDogQ29sdW1uO1xuICAgIG5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50czogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsO1xuICAgIGJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzOiBudW1iZXI7XG4gICAgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcjtcblxuICAgIGxheW91dENvbnRleHQ6IFZ0cmVlLkxheW91dENvbnRleHQ7XG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQ7XG4gICAgcmVhZG9ubHkgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0Q29uc3RyYWludDtcbiAgICByZWFkb25seSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQ7XG5cbiAgICBnZXRUb3BFZGdlKCk6IG51bWJlcjtcbiAgICBnZXRCb3R0b21FZGdlKCk6IG51bWJlcjtcbiAgICBnZXRMZWZ0RWRnZSgpOiBudW1iZXI7XG4gICAgZ2V0UmlnaHRFZGdlKCk6IG51bWJlcjtcbiAgICBpc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBzdG9wQnlPdmVyZmxvdyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuICAgIGlzT3ZlcmZsb3duKGVkZ2U6IG51bWJlcik6IGJvb2xlYW47XG4gICAgZ2V0RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXTtcbiAgICBvcGVuQWxsVmlld3MocG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbik6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBjYWxjdWxhdGVPZmZzZXRJbk5vZGVGb3JOb2RlQ29udGV4dChwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3VudCBmaXJzdC1YWFggbmVzdGluZyBpZGVudGlmaWVyXG4gICAgICovXG4gICAgbWF5YmVQZWVsT2ZmKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY291bnQ6IG51bWJlcixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSB2aWV3IHVudGlsIGEgQ1NTIGJveCBlZGdlIGlzIHJlYWNoZWQuXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIHN0YXJ0IHNvdXJjZSBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgdG8gYXBwZW5kIHBvc3NpYmxlIGJyZWFraW5nIHBvaW50cy5cbiAgICAgKiBAcmV0dXJuIGhvbGRpbmcgYm94IGVkZ2UgcG9zaXRpb24gcmVhY2hlZCBvciBudWxsIGlmIHRoZSBzb3VyY2UgaXMgZXhoYXVzdGVkLlxuICAgICAqL1xuICAgIGJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBuZXh0SW5UcmVlKFxuICAgICAgcG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQnVpbGRzIHRoZSB2aWV3IGZvciBhIHNpbmdsZSB1bmJyZWFrYWJsZSBlbGVtZW50LlxuICAgICAqIEBwYXJhbSBwb3NpdGlvbiBzdGFydCBzb3VyY2UgcG9zaXRpb24uXG4gICAgICogQHJldHVybiBob2xkaW5nIGJveCBlZGdlIHBvc2l0aW9uIHJlYWNoZWQgb3IgbnVsbCBpZiB0aGUgc291cmNlIGlzIGV4aGF1c3RlZC5cbiAgICAgKi9cbiAgICBidWlsZERlZXBFbGVtZW50VmlldyhcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBzaW5nbGUgZmxvYXRpbmcgZWxlbWVudCAoZm9yIGV4Y2x1c2lvbiBhcmVhcykuXG4gICAgICogQHBhcmFtIHJlZiBjb250YWluZXIncyBjaGlsZCB0byBpbnNlcnQgZmxvYXQgYmVmb3JlIChjYW4gYmUgbnVsbCkuXG4gICAgICogQHBhcmFtIHNpZGUgZmxvYXQgc2lkZSAoXCJsZWZ0XCIgb3IgXCJyaWdodFwiKS5cbiAgICAgKiBAcGFyYW0gd2lkdGggZmxvYXQgaW5saW5lIGRpbWVuc2lvbi5cbiAgICAgKiBAcGFyYW0gaGVpZ2h0IGZsb2F0IGJveCBwcm9ncmVzc2lvbiBkaW1lbnNpb24uXG4gICAgICogQHJldHVybiBuZXdseSBjcmVhdGVkIGZsb2F0IGVsZW1lbnQuXG4gICAgICovXG4gICAgY3JlYXRlRmxvYXQoXG4gICAgICByZWY6IE5vZGUsXG4gICAgICBzaWRlOiBzdHJpbmcsXG4gICAgICB3aWR0aDogbnVtYmVyLFxuICAgICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgKTogRWxlbWVudDtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYWxsIHRoZSBleGNsdXNpb24gZmxvYXRzLlxuICAgICAqL1xuICAgIGtpbGxGbG9hdHMoKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgZXhjbHVzaW9uIGZsb2F0cyBmb3IgYSBjb2x1bW4uXG4gICAgICovXG4gICAgY3JlYXRlRmxvYXRzKCk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIG5vZGVDb250ZXh0IHBvc2l0aW9uIGFmdGVyIHRoZSBibG9ja1xuICAgICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBwb3NzaWJsZSBicmVha2luZyBwb2ludHMuXG4gICAgICogQHBhcmFtIGluZGV4IGluZGV4IG9mIHRoZSBicmVha2luZyBwb2ludFxuICAgICAqIEBwYXJhbSBib3hPZmZzZXQgYm94IG9mZnNldFxuICAgICAqIEByZXR1cm4gZWRnZSBwb3NpdGlvblxuICAgICAqL1xuICAgIGNhbGN1bGF0ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGluZGV4OiBudW1iZXIsXG4gICAgICBib3hPZmZzZXQ6IG51bWJlcixcbiAgICApOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogUGFyc2UgQ1NTIGNvbXB1dGVkIGxlbmd0aCAoaW4gcGl4ZWxzKVxuICAgICAqIEBwYXJhbSB2YWwgQ1NTIGxlbmd0aCBpbiBcInB4XCIgdW5pdHMgb3IgYSBudW1iZXIuXG4gICAgICogQHJldHVybiB2YWx1ZSBpbiBwaXhlbHMgb3IgMCBpZiBub3QgcGFyc2FibGVcbiAgICAgKi9cbiAgICBwYXJzZUNvbXB1dGVkTGVuZ3RoKHZhbDogc3RyaW5nIHwgbnVtYmVyKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBDU1MgbWFyZ2luLlxuICAgICAqL1xuICAgIGdldENvbXB1dGVkTWFyZ2luKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzO1xuICAgIC8qKlxuICAgICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBwYWRkaW5nICsgYm9yZGVycy5cbiAgICAgKi9cbiAgICBnZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHM7XG4gICAgLyoqXG4gICAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBpbnNldHMobWFyZ2lucyArIGJvcmRlciArIHBhZGRpbmcgb3IgbWFyZ2lucyA6XG4gICAgICogZGVwZW5kcyBvbiBib3gtc2l6aW5nKVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzO1xuICAgIC8qKlxuICAgICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgQ1NTIGluc2V0cyB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAgICovXG4gICAgc2V0Q29tcHV0ZWRJbnNldHMoZWxlbWVudDogRWxlbWVudCwgY29udGFpbmVyOiBDb2x1bW4pOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFNldCBlbGVtZW50J3MgY29tcHV0ZWQgd2lkdGggYW5kIGhlaWdodCB0byBDb2x1bW4gQ29udGFpbmVyXG4gICAgICovXG4gICAgc2V0Q29tcHV0ZWRXaWR0aEFuZEhlaWdodChlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbHVtbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTGF5b3V0IGEgc2luZ2xlIHVuYnJlYWthYmxlIGVsZW1lbnQuXG4gICAgICovXG4gICAgbGF5b3V0VW5icmVha2FibGUoXG4gICAgICBub2RlQ29udGV4dEluOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogTGF5b3V0IGEgc2luZ2xlIGZsb2F0IGVsZW1lbnQuXG4gICAgICovXG4gICAgbGF5b3V0RmxvYXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuXG4gICAgc2V0dXBGbG9hdEFyZWEoXG4gICAgICBhcmVhOiBQYWdlRmxvYXRBcmVhLFxuICAgICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24sXG4gICAgKTogYm9vbGVhbjtcbiAgICBjcmVhdGVQYWdlRmxvYXRBcmVhKFxuICAgICAgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHwgbnVsbCxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgICApOiBQYWdlRmxvYXRBcmVhIHwgbnVsbDtcbiAgICBsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICAgIGFsbG93RnJhZ21lbnRlZDogYm9vbGVhbixcbiAgICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50PzogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8U2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0PjtcbiAgICBsYXlvdXRQYWdlRmxvYXRJbm5lcihcbiAgICAgIGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24sXG4gICAgICBzdHJhdGVneTogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSxcbiAgICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgICBwYWdlRmxvYXRGcmFnbWVudD86IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgc2V0RmxvYXRBbmNob3JWaWV3Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhbihcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgICAgY29sdW1uU3BhbjogQ3NzLlZhbCxcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlPjtcbiAgICBsYXlvdXRQYWdlRmxvYXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGNyZWF0ZUp1c3RpZmljYXRpb25BZGp1c3RtZW50RWxlbWVudChcbiAgICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgICAgZG9jOiBEb2N1bWVudCxcbiAgICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICApOiBIVE1MRWxlbWVudDtcbiAgICBhZGRBbmRBZGp1c3RKdXN0aWZpY2F0aW9uRWxlbWVudChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluc2VydEFmdGVyOiBib29sZWFuLFxuICAgICAgbm9kZTogTm9kZSxcbiAgICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgICAgZG9jOiBEb2N1bWVudCxcbiAgICAgIHBhcmVudE5vZGU6IE5vZGUsXG4gICAgKTogSFRNTEVsZW1lbnQ7XG4gICAgY29tcGVuc2F0ZUp1c3RpZmljYXRpb25MaW5lSGVpZ2h0KFxuICAgICAgc3BhbjogRWxlbWVudCxcbiAgICAgIGJyOiBFbGVtZW50LFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogRml4IGp1c3RpZmljYXRpb24gb2YgdGhlIGxhc3QgbGluZSBvZiB0ZXh0IGJyb2tlbiBhY3Jvc3MgcGFnZXMgKGlmXG4gICAgICogbmVlZGVkKS5cbiAgICAgKi9cbiAgICBmaXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIHByb2Nlc3NMaW5lU3R5bGluZyhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIHJlc05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICBpc0xvbmVJbWFnZShjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IGJvb2xlYW47XG4gICAgZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudChcbiAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgYSBzaW5nbGUgQ1NTIGJveC5cbiAgICAgKi9cbiAgICBsYXlvdXRCcmVha2FibGVCbG9jayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgcG9zdExheW91dEJsb2NrKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgKTogdm9pZDtcbiAgICBmaW5kRW5kT2ZMaW5lKFxuICAgICAgbGluZVBvc2l0aW9uOiBudW1iZXIsXG4gICAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICAgIGlzVXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZTogYm9vbGVhbixcbiAgICApOiB7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBpbmRleDogbnVtYmVyO1xuICAgICAgY2hlY2tQb2ludEluZGV4OiBudW1iZXI7XG4gICAgfTtcbiAgICBmaW5kQWNjZXB0YWJsZUJyZWFrSW5zaWRlKFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBlZGdlUG9zaXRpb246IG51bWJlcixcbiAgICAgIGZvcmNlOiBib29sZWFuLFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHJlc29sdmVUZXh0Tm9kZUJyZWFrZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGV4dE5vZGVCcmVha2VyO1xuICAgIC8qKlxuICAgICAqIFJlYWQgcmFuZ2VzIHNraXBwaW5nIHNwZWNpYWwgZWxtZW50c1xuICAgICAqL1xuICAgIGdldFJhbmdlQm94ZXMoc3RhcnQ6IE5vZGUsIGVuZDogTm9kZSk6IFZ0cmVlLkNsaWVudFJlY3RbXTtcbiAgICAvKipcbiAgICAgKiBHaXZlIGJsb2NrJ3MgaW5pdGlhbCBhbmQgZmluYWwgbm9kZXMsIGZpbmQgcG9zaXRpb25zIG9mIHRoZSBsaW5lIGJvdHRvbXMuXG4gICAgICogVGhpcyBpcywgb2YgY291cnNlLCBzb21ld2hhdCBoYWNreSBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHBvc2l0aW9uIG9mIGxpbmUgYnJlYWtzXG4gICAgICovXG4gICAgZmluZExpbmVQb3NpdGlvbnMoY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiBudW1iZXJbXTtcbiAgICBjYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlcjtcbiAgICBmaW5kQm94QnJlYWtQb3NpdGlvbihcbiAgICAgIGJwOiBCb3hCcmVha1Bvc2l0aW9uLFxuICAgICAgZm9yY2U6IGJvb2xlYW4sXG4gICAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgZ2V0QWZ0ZXJFZGdlT2ZCbG9ja0NvbnRhaW5lcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXI7XG4gICAgZmluZEZpcnN0T3ZlcmZsb3dpbmdFZGdlQW5kQ2hlY2tQb2ludChcbiAgICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgICk6IHsgZWRnZTogbnVtYmVyOyBjaGVja1BvaW50OiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGwgfTtcbiAgICBmaW5kRWRnZUJyZWFrUG9zaXRpb24oYnA6IEVkZ2VCcmVha1Bvc2l0aW9uKTogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgLyoqXG4gICAgICogRmluYWxpemUgYSBsaW5lIGJyZWFrLlxuICAgICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICAgKi9cbiAgICBmaW5pc2hCcmVhayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICAgICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpOiBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQ7XG4gICAgZG9GaW5pc2hCcmVhayhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhIHBhZ2UgYnJlYWsgaXMgYWNjZXB0YWJsZSBhdCB0aGlzIHBvc2l0aW9uXG4gICAgICovXG4gICAgaXNCcmVha2FibGUoZmxvd1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyBpZiBhbiBpbmRlbnQgdmFsdWUgaXMgemVyb1xuICAgICAqL1xuICAgIHplcm9JbmRlbnQodmFsOiBzdHJpbmcgfCBudW1iZXIpOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICAgKi9cbiAgICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICApOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFNhdmUgYSBwb3NzaWJsZSBwYWdlIGJyZWFrIHBvc2l0aW9uIG9uIGEgQ1NTIGJsb2NrIGVkZ2UuIENoZWNrIGlmIGl0XG4gICAgICogb3ZlcmZsb3dzLlxuICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICAgKi9cbiAgICBjaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBzYXZlRXZlbk92ZXJmbG93bjogYm9vbGVhbixcbiAgICAgIGJyZWFrQXRUaGVFZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgICk6IGJvb2xlYW47XG4gICAgYXBwbHlDbGVhcmFuY2Uobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpc0JGQyhmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFNraXBzIHBvc2l0aW9ucyB1bnRpbCBlaXRoZXIgdGhlIHN0YXJ0IG9mIHVuYnJlYWthYmxlIGJsb2NrIG9yIGlubGluZVxuICAgICAqIGNvbnRlbnQuIEFsc28gc2V0cyBicmVha0JlZm9yZSBvbiB0aGUgcmVzdWx0IGNvbWJpbmluZyBicmVhay1iZWZvcmUgYW5kXG4gICAgICogYnJlYWstYWZ0ZXIgcHJvcGVydGllcyBmcm9tIGFsbCBlbGVtZW50cyB0aGF0IG1lZXQgYXQgdGhlIGVkZ2UuXG4gICAgICovXG4gICAgc2tpcEVkZ2VzKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBmb3JjZWRCcmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBTa2lwcyBub24tcmVuZGVyYWJsZSBwb3NpdGlvbnMgdW50aWwgaXQgaGl0cyB0aGUgZW5kIG9mIHRoZSBmbG93IG9yIHNvbWVcbiAgICAgKiByZW5kZXJhYmxlIGNvbnRlbnQuIFJldHVybnMgdGhlIG5vZGVDb250ZXh0IHRoYXQgd2FzIHBhc3NlZCBpbiBpZiBzb21lXG4gICAgICogY29udGVudCByZW1haW5zIGFuZCBudWxsIGlmIGFsbCBjb250ZW50IGNvdWxkIGJlIHNraXBwZWQuXG4gICAgICovXG4gICAgc2tpcFRhaWxFZGdlcyhcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgbGF5b3V0RmxvYXRPckZvb3Rub3RlKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAvKipcbiAgICAgKiBMYXlvdXQgbmV4dCBwb3J0aW9uIG9mIHRoZSBzb3VyY2UuXG4gICAgICovXG4gICAgbGF5b3V0TmV4dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgICAgZm9yY2VkQnJlYWtWYWx1ZT86IHN0cmluZyB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICAgIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICApOiB2b2lkO1xuICAgIGluaXRHZW9tKCk6IHZvaWQ7XG4gICAgaW5pdCgpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFNhdmUgdGhlIHBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBhdCB0aGUgZWRnZS4gU2hvdWxkLCBpbiBnZW5lcmFsLCBzYXZlXG4gICAgICogXCJhZnRlclwiIHBvc2l0aW9uIGJ1dCBvbmx5IGFmdGVyIHNraXBwaW5nIGFsbCBvZiB0aGUgXCJiZWZvcmVcIiBvbmVzIGFuZFxuICAgICAqIGdldHRpbmcgdG8gdGhlIG5vbi1lbXB0eSBjb250ZW50ICh0byBnZXQgYnJlYWtBdEVkZ2UgcmlnaHQpLlxuICAgICAqL1xuICAgIHNhdmVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGJyZWFrQXRFZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNoZWNrUG9pbnRzIGFycmF5IG9mIGJyZWFraW5nIHBvaW50cyBmb3IgYnJlYWthYmxlIGJsb2NrXG4gICAgICovXG4gICAgc2F2ZUJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiB2b2lkO1xuICAgIHVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoYWZ0ZXJFZGdlOiBudW1iZXIpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjaHVua1Bvc2l0aW9uIHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAgICovXG4gICAgbGF5b3V0KFxuICAgICAgY2h1bmtQb3NpdGlvbjogVnRyZWUuQ2h1bmtQb3NpdGlvbixcbiAgICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgICAgYnJlYWtBZnRlcj86IHN0cmluZyB8IG51bGwsXG4gICAgKTogVGFzay5SZXN1bHQ8VnRyZWUuQ2h1bmtQb3NpdGlvbj47XG4gICAgaXNGdWxsV2l0aFBhZ2VGbG9hdHMoKTogYm9vbGVhbjtcbiAgICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyO1xuICAgIGRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMobm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBub2RlQ29udGV4dCBzdGFydGluZyBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGRvTGF5b3V0KFxuICAgICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBUYXNrLlJlc3VsdDx7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfT47XG4gICAgLyoqXG4gICAgICogUmUtbGF5b3V0IGFscmVhZHkgbGFpZC1vdXQgY2h1bmtzLiBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IGZsb3cgaWZcbiAgICAgKiB0aGVyZSBpcyBhbiBvdmVyZmxvdy5cbiAgICAgKiBUT0RPOiBkZWFsIHdpdGggY2h1bmtzIHRoYXQgZGlkIG5vdCBmaXQgYXQgYWxsLlxuICAgICAqIEByZXR1cm4gaG9sZGluZyBlbmQgcG9zaXRpb24uXG4gICAgICovXG4gICAgcmVkb0xheW91dCgpOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPjtcbiAgICBzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKCk6IHZvaWQ7XG4gICAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W107XG4gIH1cblxuICBleHBvcnQgdHlwZSBTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQgPSB7XG4gICAgZmxvYXRBcmVhOiBQYWdlRmxvYXRBcmVhIHwgbnVsbDtcbiAgICBwYWdlRmxvYXRGcmFnbWVudDogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgbmV3UG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24gfCBudWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBicmVha2luZyBwb2ludCByZXNvbHZlciBmb3IgVGV4dCBOb2RlLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBUZXh0Tm9kZUJyZWFrZXIge1xuICAgIGJyZWFrVGV4dE5vZGUoXG4gICAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGxvdzogbnVtYmVyLFxuICAgICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgICBjaGVja3BvaW50SW5kZXg6IG51bWJlcixcbiAgICAgIGZvcmNlOiBib29sZWFuLFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIGJyZWFrQWZ0ZXJTb2Z0SHlwaGVuKFxuICAgICAgdGV4dE5vZGU6IFRleHQsXG4gICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBudW1iZXI7XG4gICAgYnJlYWtBZnRlck90aGVyQ2hhcmFjdGVyKFxuICAgICAgdGV4dE5vZGU6IFRleHQsXG4gICAgICB0ZXh0OiBzdHJpbmcsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBudW1iZXI7XG4gICAgdXBkYXRlTm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICAgIHRleHROb2RlOiBUZXh0LFxuICAgICk6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRNb2RlIHtcbiAgICBkb0xheW91dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG4gICAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogYm9vbGVhbjtcbiAgICBwb3N0TGF5b3V0KFxuICAgICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICAgKTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0QXJlYSBleHRlbmRzIENvbHVtbiB7XG4gICAgYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZTogYm9vbGVhbjtcbiAgICByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZztcbiAgICByZWFkb25seSBwYXJlbnRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcjtcblxuICAgIGNvbnZlcnRQZXJjZW50YWdlU2l6ZXNUb1B4KHRhcmdldDogRWxlbWVudCk6IHZvaWQ7XG4gICAgZml4RmxvYXRTaXplQW5kUG9zaXRpb24obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogdm9pZDtcbiAgICBnZXRDb250ZW50SW5saW5lU2l6ZSgpOiBudW1iZXI7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBMYXlvdXRQcm9jZXNzb3Ige1xuICBleHBvcnQgaW50ZXJmYWNlIEJsb2NrRm9ybWF0dGluZ0NvbnRleHQgZXh0ZW5kcyBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCB7fVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0KFxuICAgIG9iamVjdDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IG9iamVjdCBpcyBCbG9ja0Zvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGUgPT09IFwiQmxvY2tcIjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIE5ldCB7XG4gIGV4cG9ydCB0eXBlIFJlc3BvbnNlID0ge1xuICAgIHN0YXR1czogbnVtYmVyO1xuICAgIHN0YXR1c1RleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgY29udGVudFR5cGU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVzcG9uc2VUZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIHJlc3BvbnNlWE1MOiBEb2N1bWVudDtcbiAgICByZXNwb25zZUJsb2I6IEJsb2I7XG4gIH07XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVN0b3JlPFJlc291cmNlPiB7XG4gICAgcmVzb3VyY2VzOiB7IFtrZXk6IHN0cmluZ106IFJlc291cmNlIH07XG4gICAgZmV0Y2hlcnM6IHsgW2tleTogc3RyaW5nXTogVGFza1V0aWwuRmV0Y2hlcjxSZXNvdXJjZT4gfTtcbiAgICByZWFkb25seSBwYXJzZXI6IChcbiAgICAgIHAxOiBSZXNwb25zZSxcbiAgICAgIHAyOiBSZXNvdXJjZVN0b3JlPFJlc291cmNlPixcbiAgICApID0+IFRhc2suUmVzdWx0PFJlc291cmNlPjtcbiAgICByZWFkb25seSB0eXBlOiBYTUxIdHRwUmVxdWVzdFJlc3BvbnNlVHlwZTtcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gcmVzb3VyY2UgZm9yIHRoZSBnaXZlbiBVUkxcbiAgICAgKi9cbiAgICBsb2FkKFxuICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgICAgb3B0X21lc3NhZ2U/OiBzdHJpbmcsXG4gICAgKTogVGFzay5SZXN1bHQ8UmVzb3VyY2U+O1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gZmV0Y2hlciBmb3IgdGhlIHJlc291cmNlIGZvciB0aGUgZ2l2ZW4gVVJMXG4gICAgICovXG4gICAgZmV0Y2goXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIG9wdF9yZXF1aXJlZD86IGJvb2xlYW4sXG4gICAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgICApOiBUYXNrVXRpbC5GZXRjaGVyPFJlc291cmNlPjtcbiAgICBnZXQodXJsOiBzdHJpbmcpOiBYbWxEb2MuWE1MRG9jSG9sZGVyO1xuICAgIGRlbGV0ZSh1cmw6IHN0cmluZyk6IHZvaWQ7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBQYWdlRmxvYXRzIHtcbiAgLyoqXG4gICAqIEBlbnVtIHtzdHJpbmd9XG4gICAqL1xuICBleHBvcnQgZW51bSBGbG9hdFJlZmVyZW5jZSB7XG4gICAgSU5MSU5FID0gXCJpbmxpbmVcIixcbiAgICBDT0xVTU4gPSBcImNvbHVtblwiLFxuICAgIFJFR0lPTiA9IFwicmVnaW9uXCIsXG4gICAgUEFHRSA9IFwicGFnZVwiLFxuICB9XG5cbiAgZXhwb3J0IHR5cGUgUGFnZUZsb2F0SUQgPSBzdHJpbmc7XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXQge1xuICAgIG9yZGVyOiBudW1iZXIgfCBudWxsO1xuICAgIGlkOiBQYWdlRmxvYXRJRCB8IG51bGw7XG4gICAgcmVhZG9ubHkgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb247XG4gICAgcmVhZG9ubHkgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlO1xuICAgIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbDtcbiAgICByZWFkb25seSBmbG93TmFtZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGZsb2F0TWluV3JhcEJsb2NrOiBDc3MuTnVtZXJpYyB8IG51bGw7XG5cbiAgICBnZXRPcmRlcigpOiBudW1iZXI7XG4gICAgZ2V0SWQoKTogUGFnZUZsb2F0SUQ7XG4gICAgaXNBbGxvd2VkT25Db250ZXh0KHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBib29sZWFuO1xuICAgIGlzQWxsb3dlZFRvUHJlY2VkZShvdGhlcjogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgUGFnZUZsb2F0RnJhZ21lbnQge1xuICAgIHJlYWRvbmx5IGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZTtcbiAgICByZWFkb25seSBmbG9hdFNpZGU6IHN0cmluZztcbiAgICByZWFkb25seSBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXTtcbiAgICByZWFkb25seSBhcmVhOiBWdHJlZS5Db250YWluZXI7XG4gICAgcmVhZG9ubHkgY29udGludWVzOiBib29sZWFuO1xuXG4gICAgaGFzRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW47XG4gICAgZmluZE5vdEFsbG93ZWRGbG9hdChjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogUGFnZUZsb2F0IHwgbnVsbDtcbiAgICBnZXRPdXRlclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZTtcbiAgICBnZXRPdXRlclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0T3JkZXIoKTogbnVtYmVyO1xuICAgIHNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgICBhZGRDb250aW51YXRpb25zKGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdKTogdm9pZDtcbiAgICBnZXRGbG93TmFtZSgpOiBzdHJpbmc7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdENvbnRpbnVhdGlvbiB7XG4gICAgcmVhZG9ubHkgZmxvYXQ6IFBhZ2VGbG9hdDtcbiAgICByZWFkb25seSBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbjtcblxuICAgIGVxdWFscyhvdGhlcjogUGFnZUZsb2F0Q29udGludWF0aW9uIHwgbnVsbCk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgdHlwZSBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24gPSB7XG4gICAgW2tleTogc3RyaW5nXTogYm9vbGVhbjtcbiAgfTtcblxuICBleHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICAgIHdyaXRpbmdNb2RlOiBDc3MuVmFsO1xuICAgIGRpcmVjdGlvbjogQ3NzLlZhbDtcbiAgICBmbG9hdEZyYWdtZW50czogUGFnZUZsb2F0RnJhZ21lbnRbXTtcbiAgICByZWFkb25seSBwYXJlbnQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVhZG9ubHkgZ2VuZXJhdGluZ05vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbDtcblxuICAgIGdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZT86IEZsb2F0UmVmZXJlbmNlKTogVnRyZWUuQ29udGFpbmVyO1xuICAgIHNldENvbnRhaW5lcihjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik7XG4gICAgYWRkUGFnZUZsb2F0KGZsb2F0OiBQYWdlRmxvYXQpOiB2b2lkO1xuICAgIGdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24oXG4gICAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgICApOiBQYWdlRmxvYXQgfCBudWxsO1xuICAgIGlzRm9yYmlkZGVuKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuO1xuICAgIGFkZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgICAgZmxvYXRGcmFnbWVudDogUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgICBkb250SW52YWxpZGF0ZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIGZsb2F0RnJhZ21lbnQ6IFBhZ2VGbG9hdEZyYWdtZW50LFxuICAgICAgZG9udEludmFsaWRhdGU/OiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0OiBQYWdlRmxvYXQpOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgaGFzRmxvYXRGcmFnbWVudHMoY29uZGl0aW9uPzogKHAxOiBQYWdlRmxvYXRGcmFnbWVudCkgPT4gYm9vbGVhbik6IGJvb2xlYW47XG4gICAgaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93KGZsb3dOYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuICAgIHJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0OiBQYWdlRmxvYXQsIGFuY2hvclZpZXdOb2RlOiBOb2RlKTogdm9pZDtcbiAgICBjb2xsZWN0UGFnZUZsb2F0QW5jaG9ycygpOiBhbnk7XG4gICAgaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQoZmxvYXRJZDogUGFnZUZsb2F0SUQpOiBib29sZWFuO1xuICAgIGRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0Q29udGludWF0aW9uKTogdm9pZDtcbiAgICBoYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChcbiAgICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgICBpZ25vcmVSZWZlcmVuY2U/OiBib29sZWFuLFxuICAgICk6IGJvb2xlYW47XG4gICAgZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdCB8IG51bGw7XG4gICAgZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKFxuICAgICAgZmxvd05hbWU/OiBzdHJpbmcgfCBudWxsLFxuICAgICk6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdO1xuICAgIGdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dChcbiAgICAgIGZsb3dOYW1lPzogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBQYWdlRmxvYXRDb250aW51YXRpb25bXTtcbiAgICBnZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpOiBQYWdlRmxvYXRbXTtcbiAgICBjaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCgpOiBib29sZWFuO1xuICAgIGNoZWNrQW5kRm9yYmlkRmxvYXRGb2xsb3dpbmdEZWZlcnJlZEZsb2F0KCk6IGJvb2xlYW47XG4gICAgZmluaXNoKCk6IHZvaWQ7XG4gICAgaGFzU2FtZUNvbnRhaW5lckFzKG90aGVyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogYm9vbGVhbjtcbiAgICBpbnZhbGlkYXRlKCk6IHZvaWQ7XG4gICAgZGV0YWNoQ2hpbGRyZW4oKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dFtdO1xuICAgIGF0dGFjaENoaWxkcmVuKGNoaWxkcmVuOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10pOiB2b2lkO1xuICAgIGlzSW52YWxpZGF0ZWQoKTogYm9vbGVhbjtcbiAgICB2YWxpZGF0ZSgpOiB2b2lkO1xuICAgIHJlbW92ZUVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0U2lkZTogc3RyaW5nKTogdm9pZDtcbiAgICBzdGFzaEVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0OiBQYWdlRmxvYXQpOiB2b2lkO1xuICAgIHJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSk6IHZvaWQ7XG4gICAgZGlzY2FyZFN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKTogdm9pZDtcbiAgICBnZXRTdGFzaGVkRmxvYXRGcmFnbWVudHMoXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogUGFnZUZsb2F0RnJhZ21lbnRbXTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYW5jaG9yRWRnZSBOdWxsIGluZGljYXRlcyB0aGF0IHRoZSBhbmNob3IgaXMgbm90IGluIHRoZSBjdXJyZW50XG4gICAgICogICAgIGNvbnRhaW5lci5cbiAgICAgKiBAcmV0dXJuIExvZ2ljYWwgZmxvYXQgc2lkZSAoc25hcC1ibG9jayBpcyByZXNvbHZlZCB3aGVuIGluaXQ9ZmFsc2UpLiBOdWxsXG4gICAgICogICAgIGluZGljYXRlcyB0aGF0IHRoZSBmbG9hdCBhcmVhIGRvZXMgbm90IGZpdCBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICAgICAqL1xuICAgIHNldEZsb2F0QXJlYURpbWVuc2lvbnMoXG4gICAgICBhcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICAgIGluaXQ6IGJvb2xlYW4sXG4gICAgICBmb3JjZTogYm9vbGVhbixcbiAgICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICAgICk6IHN0cmluZyB8IG51bGw7XG4gICAgZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMoKTogR2VvbWV0cnlVdGlsLlNoYXBlW107XG4gICAgZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSgpOiBudW1iZXI7XG4gICAgZ2V0QmxvY2tTdGFydEVkZ2VPZkJsb2NrRW5kRmxvYXRzKCk6IG51bWJlcjtcbiAgICBnZXRQYWdlRmxvYXRDbGVhckVkZ2UoY2xlYXI6IHN0cmluZywgY29sdW1uOiBMYXlvdXQuQ29sdW1uKTogbnVtYmVyO1xuICAgIGdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbihcbiAgICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICApOiBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb247XG4gICAgZ2V0TGF5b3V0Q29uc3RyYWludHMoKTogTGF5b3V0LkxheW91dENvbnN0cmFpbnRbXTtcbiAgICBhZGRMYXlvdXRDb25zdHJhaW50KFxuICAgICAgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0LkxheW91dENvbnN0cmFpbnQsXG4gICAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgKTogdm9pZDtcbiAgICBnZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTogbnVtYmVyO1xuICAgIGxvY2soKTogdm9pZDtcbiAgICB1bmxvY2soKTogdm9pZDtcbiAgICBpc0xvY2tlZCgpOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gICAgYXBwbGllc1RvTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbjtcbiAgICBhcHBsaWVzVG9GbG9hdChmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbjtcbiAgICBjcmVhdGVQYWdlRmxvYXQoXG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdD47XG4gICAgY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgICAgZmxvYXRBcmVhOiBMYXlvdXQuUGFnZUZsb2F0QXJlYSxcbiAgICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgICApOiBQYWdlRmxvYXRGcmFnbWVudDtcbiAgICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBmbG9hdDogUGFnZUZsb2F0LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICApOiBQYWdlRmxvYXRGcmFnbWVudCB8IG51bGw7XG4gICAgYWRqdXN0UGFnZUZsb2F0QXJlYShcbiAgICAgIGZsb2F0QXJlYTogTGF5b3V0LlBhZ2VGbG9hdEFyZWEsXG4gICAgICBmbG9hdENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk7XG4gICAgZm9yYmlkKGZsb2F0OiBQYWdlRmxvYXQsIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2VsZWN0b3JzIHtcbiAgZXhwb3J0IGludGVyZmFjZSBBZnRlcklmQ29udGludWVzIHtcbiAgICByZWFkb25seSBzb3VyY2VOb2RlOiBFbGVtZW50O1xuICAgIHJlYWRvbmx5IHN0eWxlcjogUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyO1xuXG4gICAgY3JlYXRlRWxlbWVudChcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnRcbiAgICBleHRlbmRzIExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBhZnRlcklmQ29udGludWVzOiBBZnRlcklmQ29udGludWVzO1xuICAgIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcjtcblxuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBBZnRlcklmQ29udGludWVzRWxlbWVudHNPZmZzZXQ7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQoXG4gICAgb2JqZWN0OiBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50LFxuICApOiBvYmplY3QgaXMgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPT0gXCJBZnRlcklmQ29udGludWVcIjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0XG4gICAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldCB7XG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcjtcblxuICAgIGFmZmVjdFRvKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBQc2V1ZG9FbGVtZW50IHtcbiAgZXhwb3J0IGludGVyZmFjZSBQc2V1ZG9lbGVtZW50U3R5bGVyIGV4dGVuZHMgQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyIHtcbiAgICBjb250ZW50UHJvY2Vzc2VkOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbiAgICByZWFkb25seSBlbGVtZW50OiBFbGVtZW50O1xuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcjtcbiAgICByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0O1xuICAgIHJlYWRvbmx5IGV4cHJDb250ZW50TGlzdGVuZXI6IFZ0cmVlLkV4cHJDb250ZW50TGlzdGVuZXI7XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBSZXBldGl0aXZlRWxlbWVudCB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dFxuICAgIGV4dGVuZHMgVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIGlzUm9vdDogYm9vbGVhbjtcbiAgICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50cztcbiAgICByZWFkb25seSBwYXJlbnQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0O1xuICAgIHJlYWRvbmx5IHJvb3RTb3VyY2VOb2RlOiBFbGVtZW50O1xuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBSZXBldGl0aXZlRWxlbWVudHM7XG4gICAgZ2V0Um9vdFZpZXdOb2RlKHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IEVsZW1lbnQgfCBudWxsO1xuICAgIGdldFJvb3ROb2RlQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICApOiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGw7XG4gICAgaW5pdGlhbGl6ZVJlcGV0aXRpdmVFbGVtZW50cyh2ZXJ0aWNhbDogYm9vbGVhbik6IHZvaWQ7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICBvYmplY3Q6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0LFxuICApOiBvYmplY3QgaXMgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGU7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGUgPT09IFwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJcIiB8fFxuICAgICAgVGFibGUuaXNJbnN0YW5jZU9mVGFibGVGb3JtYXR0aW5nQ29udGV4dChvYmplY3QpXG4gICAgKTsgLy8gc3Vic2V0XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRzT2Zmc2V0IHtcbiAgICBjYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyO1xuICAgIGNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXBldGl0aXZlRWxlbWVudHMgZXh0ZW5kcyBFbGVtZW50c09mZnNldCB7XG4gICAgaXNTa2lwSGVhZGVyOiBib29sZWFuO1xuICAgIGlzU2tpcEZvb3RlcjogYm9vbGVhbjtcbiAgICBlbmFibGVTa2lwcGluZ0Zvb3RlcjogYm9vbGVhbjtcbiAgICBlbmFibGVTa2lwcGluZ0hlYWRlcjogYm9vbGVhbjtcbiAgICBkb25lSW5pdGlhbExheW91dDogYm9vbGVhbjtcbiAgICBmaXJzdENvbnRlbnRTb3VyY2VOb2RlOiBFbGVtZW50IHwgbnVsbDtcbiAgICBsYXN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsO1xuICAgIGFsbG93SW5zZXJ0OiBib29sZWFuO1xuICAgIGFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50czogYm9vbGVhbjtcbiAgICBvd25lclNvdXJjZU5vZGU6IEVsZW1lbnQ7XG5cbiAgICBzZXRIZWFkZXJOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIHNldEZvb3Rlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IHZvaWQ7XG4gICAgdXBkYXRlSGVpZ2h0KGNvbHVtbjogTGF5b3V0LkNvbHVtbik6IHZvaWQ7XG4gICAgcHJlcGFyZUxheW91dEZyYWdtZW50KCk6IHZvaWQ7XG4gICAgYXBwZW5kSGVhZGVyVG9GcmFnbWVudChcbiAgICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBhcHBlbmRGb290ZXJUb0ZyYWdtZW50KFxuICAgICAgcm9vdE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsLFxuICAgICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50KFxuICAgICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICAgICByb290Tm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgbW92ZUNoaWxkcmVuKGZyb206IEVsZW1lbnQsIHRvOiBFbGVtZW50LCBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCk6IHZvaWQ7XG4gICAgaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNGaXJzdENvbnRlbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW47XG4gICAgaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCk6IGJvb2xlYW47XG4gICAgdXBkYXRlU3RhdGUoKTogdm9pZDtcbiAgICBwcmV2ZW50U2tpcHBpbmdIZWFkZXIoKTogdm9pZDtcbiAgICBwcmV2ZW50U2tpcHBpbmdGb290ZXIoKTogdm9pZDtcbiAgICBpc0hlYWRlclJlZ2lzdGVyZWQoKTogYm9vbGVhbjtcbiAgICBpc0Zvb3RlclJlZ2lzdGVyZWQoKTogYm9vbGVhbjtcbiAgICBpc0hlYWRlclNvdXJjZU5vZGUobm9kZTogTm9kZSk6IGJvb2xlYW47XG4gICAgaXNGb290ZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuO1xuICB9XG5cbiAgZXhwb3J0IGludGVyZmFjZSBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnRcbiAgICBleHRlbmRzIExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQge1xuICAgIGdldFJlcGV0aXRpdmVFbGVtZW50cygpOiBSZXBldGl0aXZlRWxlbWVudHM7XG4gIH1cblxuICBleHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KFxuICAgIG9iamVjdDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCxcbiAgKTogb2JqZWN0IGlzIFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludCB7XG4gICAgaWYgKCFvYmplY3QpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgdHlwZSA9IG9iamVjdC5mbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlO1xuICAgIHJldHVybiAoXG4gICAgICB0eXBlID09PSBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCIgfHxcbiAgICAgIFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChvYmplY3QpXG4gICAgKTsgLy8gc3Vic2V0XG4gIH1cbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBUYWJsZSB7XG4gIGV4cG9ydCBpbnRlcmZhY2UgVGFibGVGb3JtYXR0aW5nQ29udGV4dFxuICAgIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB7XG4gICAgLy8gRklYTUVcbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2ZUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgIG9iamVjdDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICk6IG9iamVjdCBpcyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gb2JqZWN0ICYmIG9iamVjdC5mb3JtYXR0aW5nQ29udGV4dFR5cGUgPT09IFwiVGFibGVcIjtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50XG4gICAgZXh0ZW5kcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQge1xuICAgIGNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzOiB7XG4gICAgICBjb25zdHJhaW50czogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuICAgICAgYnJlYWtQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfVtdO1xuXG4gICAgcmVtb3ZlRHVtbXlSb3dOb2Rlcyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiB2b2lkO1xuICAgIGdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbChcbiAgICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICApOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdO1xuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChcbiAgICBvYmplY3Q6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQsXG4gICk6IG9iamVjdCBpcyBUYWJsZVJvd0xheW91dENvbnN0cmFpbnQge1xuICAgIHJldHVybiBvYmplY3QgJiYgb2JqZWN0LmZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPT09IFwiVGFibGVSb3dcIjtcbiAgfVxufVxuXG5leHBvcnQgbmFtZXNwYWNlIFZ0cmVlIHtcbiAgZXhwb3J0IHR5cGUgQ2xpZW50UmVjdCA9IHtcbiAgICBsZWZ0OiBudW1iZXI7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgcmlnaHQ6IG51bWJlcjtcbiAgICBib3R0b206IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbnRlcmZhY2UgdG8gcmVhZCB0aGUgcG9zaXRpb24gYXNzaWduZWQgdG8gdGhlIGVsZW1lbnRzIGFuZCByYW5nZXMgYnkgdGhlXG4gICAqIGJyb3dzZXIuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIENsaWVudExheW91dCB7XG4gICAgZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZTogUmFuZ2UpOiBDbGllbnRSZWN0W107XG4gICAgZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudDogRWxlbWVudCk6IENsaWVudFJlY3Q7XG4gICAgLyoqXG4gICAgICogQHJldHVybiBlbGVtZW50J3MgY29tcHV0ZWQgc3R5bGVcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50OiBFbGVtZW50KTogQ1NTU3R5bGVEZWNsYXJhdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdHlsaW5nLCBjcmVhdGluZyBhIHNpbmdsZSBub2RlJ3MgdmlldywgZXRjLlxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBMYXlvdXRDb250ZXh0IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb25hbGx5IGVxdWl2YWxlbnQsIGJ1dCB1bmluaXRpYWxpemVkIGxheW91dCBjb250ZXh0LFxuICAgICAqIHN1aXRhYmxlIGZvciBidWlsZGluZyBhIHNlcGFyYXRlIGNvbHVtbi5cbiAgICAgKi9cbiAgICBjbG9uZSgpOiBMYXlvdXRDb250ZXh0O1xuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY3VycmVudCBzb3VyY2Ugbm9kZSBhbmQgY3JlYXRlIGEgdmlldy4gUGFyYW1ldGVyIGZpcnN0VGltZVxuICAgICAqIGlzIHRydWUgKGFuZCBwb3NzaWJseSBvZmZzZXRJbk5vZGUgPiAwKSBpZiBub2RlIHdhcyBicm9rZW4gb25cbiAgICAgKiB0aGUgcHJldmlvdXMgcGFnZS5cbiAgICAgKiBAcmV0dXJuIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZCBhcyB3ZWxsXG4gICAgICovXG4gICAgc2V0Q3VycmVudChcbiAgICAgIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICAgIGF0VW5mb3JjZWRCcmVhaz86IGJvb2xlYW4sXG4gICAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IGhvbGRzIHZpZXcgZWxlbWVudHMgcHJvZHVjZWQgZnJvbSB0aGVcbiAgICAgKiBzb3VyY2UuXG4gICAgICovXG4gICAgc2V0Vmlld1Jvb3Qodmlld1Jvb3Q6IEVsZW1lbnQsIGlzRm9vdG5vdGU6IGJvb2xlYW4pO1xuICAgIC8qKlxuICAgICAqIE1vdmVzIHRvIHRoZSBuZXh0IHZpZXcgbm9kZSwgY3JlYXRpbmcgaXQgYW5kIGFwcGVuZGluZyBpdCB0byB0aGUgdmlldyB0cmVlXG4gICAgICogaWYgbmVlZGVkLlxuICAgICAqIEByZXR1cm4gdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgbmV4dCB2aWV3IG5vZGVcbiAgICAgKi9cbiAgICBuZXh0SW5UcmVlKFxuICAgICAgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgICApOiBUYXNrLlJlc3VsdDxOb2RlQ29udGV4dD47XG4gICAgLyoqXG4gICAgICogQXBwbHkgcHNldWRvLWVsZW1lbnQgc3R5bGVzIChpZiBhbnkpLlxuICAgICAqIEBwYXJhbSB0YXJnZXQgZWxlbWVudCB0byBhcHBseSBzdHlsZXMgdG9cbiAgICAgKi9cbiAgICBhcHBseVBzZXVkb2VsZW1lbnRTdHlsZShcbiAgICAgIG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCxcbiAgICAgIHBzZXVkb05hbWU6IHN0cmluZyxcbiAgICAgIHRhcmdldDogRWxlbWVudCxcbiAgICApOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIEFwcGx5IHN0eWxlcyB0byBmb290bm90ZSBjb250YWluZXIuXG4gICAgICogQHBhcmFtIHRhcmdldCBlbGVtZW50IHRvIGFwcGx5IHN0eWxlcyB0b1xuICAgICAqIEByZXR1cm4gdmVydGljYWxcbiAgICAgKi9cbiAgICBhcHBseUZvb3Rub3RlU3R5bGUoXG4gICAgICB2ZXJ0aWNhbDogYm9vbGVhbixcbiAgICAgIHJ0bDogYm9vbGVhbixcbiAgICAgIHRhcmdldDogRWxlbWVudCxcbiAgICApOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFBlZWwgb2ZmIGlubmVybW9zdCBmaXJzdC1YWFggcHNldWRvZWxlbWVudCwgY3JlYXRlIGFuZCBjcmVhdGUgdmlldyBub2Rlc1xuICAgICAqIGFmdGVyIHRoZSBlbmQgb2YgdGhhdCBwc2V1ZG9lbGVtZW50LlxuICAgICAqL1xuICAgIHBlZWxPZmYoXG4gICAgICBub2RlQ29udGV4dDogTm9kZUNvbnRleHQsXG4gICAgICBub2RlT2Zmc2V0OiBudW1iZXIsXG4gICAgKTogVGFzay5SZXN1bHQ8Tm9kZUNvbnRleHQ+O1xuICAgIC8qKlxuICAgICAqIFByb2Nlc3MgYSBibG9jay1lbmQgZWRnZSBvZiBhIGZyYWdtZW50ZWQgYmxvY2suXG4gICAgICovXG4gICAgcHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2Uobm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0KTtcbiAgICBjb252ZXJ0TGVuZ3RoVG9QeChcbiAgICAgIG51bWVyaWM6IENzcy5OdW1lcmljLFxuICAgICAgdmlld05vZGU6IE5vZGUsXG4gICAgICBjbGllbnRMYXlvdXQ6IENsaWVudExheW91dCxcbiAgICApOiBudW1iZXIgfCBDc3MuTnVtZXJpYztcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlmIHR3byBOb2RlUG9zaXRpb25zIHJlcHJlc2VudHMgdGhlIHNhbWUgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGlzU2FtZU5vZGVQb3NpdGlvbihcbiAgICAgIG5vZGVQb3NpdGlvbjE6IE5vZGVQb3NpdGlvbixcbiAgICAgIG5vZGVQb3NpdGlvbjI6IE5vZGVQb3NpdGlvbixcbiAgICApOiBib29sZWFuO1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICBsaXN0ZW5lcjogQmFzZS5FdmVudExpc3RlbmVyLFxuICAgICAgY2FwdHVyZT86IGJvb2xlYW4sXG4gICAgKTogdm9pZDtcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgdHlwZTogc3RyaW5nLFxuICAgICAgbGlzdGVuZXI6IEJhc2UuRXZlbnRMaXN0ZW5lcixcbiAgICAgIGNhcHR1cmU/OiBib29sZWFuLFxuICAgICk6IHZvaWQ7XG4gICAgZGlzcGF0Y2hFdmVudChldnQ6IEJhc2UuRXZlbnQpOiB2b2lkO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1hdHRpbmcgY29udGV4dC5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIGZvcm1hdHRpbmdDb250ZXh0VHlwZTogRm9ybWF0dGluZ0NvbnRleHRUeXBlO1xuICAgIGdldE5hbWUoKTogc3RyaW5nO1xuICAgIGlzRmlyc3RUaW1lKG5vZGVDb250ZXh0OiBOb2RlQ29udGV4dCwgZmlyc3RUaW1lOiBib29sZWFuKTogYm9vbGVhbjtcbiAgICBnZXRQYXJlbnQoKTogRm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgc2F2ZVN0YXRlKCk6IGFueTtcbiAgICByZXN0b3JlU3RhdGUoc3RhdGU6IGFueSk7XG4gIH1cblxuICBleHBvcnQgdHlwZSBOb2RlUG9zaXRpb25TdGVwID0ge1xuICAgIG5vZGU6IE5vZGU7XG4gICAgc2hhZG93VHlwZTogU2hhZG93VHlwZTtcbiAgICBzaGFkb3dDb250ZXh0OiBTaGFkb3dDb250ZXh0IHwgbnVsbDtcbiAgICBub2RlU2hhZG93OiBTaGFkb3dDb250ZXh0IHwgbnVsbDtcbiAgICBzaGFkb3dTaWJsaW5nOiBOb2RlUG9zaXRpb25TdGVwIHwgbnVsbDtcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQgfCBudWxsO1xuICAgIGZyYWdtZW50SW5kZXg6IG51bWJlcjtcbiAgfTtcblxuICBleHBvcnQgdHlwZSBOb2RlUG9zaXRpb24gPSB7XG4gICAgc3RlcHM6IE5vZGVQb3NpdGlvblN0ZXBbXTtcbiAgICBvZmZzZXRJbk5vZGU6IG51bWJlcjtcbiAgICBhZnRlcjogYm9vbGVhbjtcbiAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogRGlmZi5DaGFuZ2VbXSB8IG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsaW5nIG9mIHB1cmVseSB3aGl0ZXNwYWNlIHNlcXVlbmNlcyBiZXR3ZWVuIGJsb2Nrc1xuICAgKiBAZW51bSB7bnVtYmVyfVxuICAgKi9cbiAgZXhwb3J0IGVudW0gV2hpdGVzcGFjZSB7XG4gICAgLyoqXG4gICAgICogV2hpdGVzcGFjZSBzZXF1ZW5jZSBiZXR3ZWVuIGJsb2NrcyBpcyBpZ25vcmVkXG4gICAgICovXG4gICAgSUdOT1JFLFxuICAgIC8qKlxuICAgICAqIFdoaXRlc3BhY2Ugc2VxdWVuY2UgYmV0d2VlbiBibG9ja3MgaXMgaWdub3JlZCB1bmxlc3MgaXQgY29udGFpbmVzIG5ld2xpbmVcbiAgICAgKi9cbiAgICBORVdMSU5FLFxuICAgIC8qKlxuICAgICAqIFdoaXRlc3BhY2Ugc2VxdWVuY2UgYmV0d2VlbiBibG9ja3MgaXMgcHJlc2VydmVkXG4gICAgICovXG4gICAgUFJFU0VSVkUsXG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lciB7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIHRvcDogbnVtYmVyO1xuICAgIG1hcmdpbkxlZnQ6IG51bWJlcjtcbiAgICBtYXJnaW5SaWdodDogbnVtYmVyO1xuICAgIG1hcmdpblRvcDogbnVtYmVyO1xuICAgIG1hcmdpbkJvdHRvbTogbnVtYmVyO1xuICAgIGJvcmRlckxlZnQ6IG51bWJlcjtcbiAgICBib3JkZXJSaWdodDogbnVtYmVyO1xuICAgIGJvcmRlclRvcDogbnVtYmVyO1xuICAgIGJvcmRlckJvdHRvbTogbnVtYmVyO1xuICAgIHBhZGRpbmdMZWZ0OiBudW1iZXI7XG4gICAgcGFkZGluZ1JpZ2h0OiBudW1iZXI7XG4gICAgcGFkZGluZ1RvcDogbnVtYmVyO1xuICAgIHBhZGRpbmdCb3R0b206IG51bWJlcjtcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIG9yaWdpblg6IG51bWJlcjtcbiAgICBvcmlnaW5ZOiBudW1iZXI7XG4gICAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW107XG4gICAgaW5uZXJTaGFwZTogR2VvbWV0cnlVdGlsLlNoYXBlO1xuICAgIGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXI7XG4gICAgc25hcFdpZHRoOiBudW1iZXI7XG4gICAgc25hcEhlaWdodDogbnVtYmVyO1xuICAgIHNuYXBPZmZzZXRYOiBudW1iZXI7XG4gICAgc25hcE9mZnNldFk6IG51bWJlcjtcbiAgICB2ZXJ0aWNhbDogYm9vbGVhbjsgLy8gdmVydGljYWwgd3JpdGluZ1xuICAgIGVsZW1lbnQ6IEVsZW1lbnQ7XG5cbiAgICBnZXRJbnNldFRvcCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRCb3R0b20oKTogbnVtYmVyO1xuICAgIGdldEluc2V0TGVmdCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRSaWdodCgpOiBudW1iZXI7XG4gICAgZ2V0SW5zZXRCZWZvcmUoKTogbnVtYmVyO1xuICAgIGdldEluc2V0QWZ0ZXIoKTogbnVtYmVyO1xuICAgIGdldEluc2V0U3RhcnQoKTogbnVtYmVyO1xuICAgIGdldEluc2V0RW5kKCk6IG51bWJlcjtcbiAgICBnZXRCZWZvcmVFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlcjtcbiAgICBnZXRBZnRlckVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyO1xuICAgIGdldFN0YXJ0RWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0RW5kRWRnZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0SW5saW5lU2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0Qm94U2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXI7XG4gICAgZ2V0Qm94RGlyKCk6IG51bWJlcjtcbiAgICBnZXRJbmxpbmVEaXIoKTogbnVtYmVyO1xuICAgIGNvcHlGcm9tKG90aGVyOiBDb250YWluZXIpOiB2b2lkO1xuICAgIHNldFZlcnRpY2FsUG9zaXRpb24odG9wOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRIb3Jpem9udGFsUG9zaXRpb24obGVmdDogbnVtYmVyLCB3aWR0aDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRCbG9ja1Bvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZDtcbiAgICBzZXRJbmxpbmVQb3NpdGlvbihzdGFydDogbnVtYmVyLCBleHRlbnQ6IG51bWJlcik6IHZvaWQ7XG4gICAgY2xlYXIoKTogdm9pZDtcbiAgICBnZXRJbm5lclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZTtcbiAgICBnZXRJbm5lclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0UGFkZGluZ1JlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Q7XG4gICAgZ2V0T3V0ZXJTaGFwZShcbiAgICAgIG91dGVyU2hhcGVQcm9wOiBDc3MuVmFsLFxuICAgICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICApOiBHZW9tZXRyeVV0aWwuU2hhcGU7XG4gICAgZ2V0T3V0ZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBlbnVtIHtudW1iZXJ9XG4gICAqL1xuICBleHBvcnQgZW51bSBTaGFkb3dUeXBlIHtcbiAgICBOT05FLFxuICAgIENPTlRFTlQsXG4gICAgUk9PVExFU1MsXG4gICAgUk9PVEVELFxuICB9XG5cbiAgLyoqXG4gICAqIERhdGEgYWJvdXQgc2hhZG93IHRyZWUgaW5zdGFuY2UuXG4gICAqL1xuICBleHBvcnQgaW50ZXJmYWNlIFNoYWRvd0NvbnRleHQge1xuICAgIHJlYWRvbmx5IG93bmVyOiBFbGVtZW50O1xuICAgIHJlYWRvbmx5IHJvb3Q6IEVsZW1lbnQ7XG4gICAgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyO1xuICAgIHJlYWRvbmx5IHBhcmVudFNoYWRvdzogU2hhZG93Q29udGV4dDtcbiAgICBzdWJTaGFkb3c6IFNoYWRvd0NvbnRleHQ7XG4gICAgcmVhZG9ubHkgdHlwZTogVnRyZWUuU2hhZG93VHlwZTtcbiAgICByZWFkb25seSBzdHlsZXI6IG9iamVjdDtcblxuICAgIGVxdWFscyhvdGhlcjogU2hhZG93Q29udGV4dCk6IGJvb2xlYW47XG4gIH1cblxuICAvKipcbiAgICogSW5mb3JtYXRpb24gYWJvdXQgOmZpcnN0LWxldHRlciBvciA6Zmlyc3QtbGluZSBwc2V1ZG9lbGVtZW50c1xuICAgKiBAcGFyYW0gY291bnQgMCAtIGZpcnN0LWxldHRlciwgMSBvciBtb3JlIC0gZmlyc3QgbGluZShzKVxuICAgKi9cbiAgZXhwb3J0IGludGVyZmFjZSBGaXJzdFBzZXVkbyB7XG4gICAgcmVhZG9ubHkgb3V0ZXI6IEZpcnN0UHNldWRvO1xuICAgIHJlYWRvbmx5IGNvdW50OiBudW1iZXI7XG4gIH1cblxuICAvKipcbiAgICogTm9kZUNvbnRleHQgcmVwcmVzZW50cyBhIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCArIGxheW91dC1yZWxhdGVkXG4gICAqIGluZm9ybWF0aW9uIGF0dGFjaGVkIHRvIGl0LiBXaGVuIGFmdGVyPWZhbHNlIGFuZCBvZmZzZXRJbk5vZGU9MCwgdGhlXG4gICAqIHBvc2l0aW9uIGlzIGluc2lkZSB0aGUgZWxlbWVudCAobm9kZSksIGJ1dCBqdXN0IGJlZm9yZSBpdHMgZmlyc3QgY2hpbGQuXG4gICAqIFdoZW4gb2Zmc2V0SW5Ob2RlPjAgaXQgcmVwcmVzZW50cyBvZmZzZXQgaW4gdGhlIHRleHR1YWwgY29udGVudCBvZiB0aGVcbiAgICogbm9kZS4gV2hlbiBhZnRlcj10cnVlIGl0IHJlcHJlc2VudHMgcG9zaXRpb24gcmlnaHQgYWZ0ZXIgdGhlIGxhc3QgY2hpbGRcbiAgICogb2YgdGhlIG5vZGUuIGJveE9mZnNldCBpcyBpbmNyZW1lbnRlZCBieSAxIGZvciBhbnkgdmFsaWQgbm9kZSBwb3NpdGlvbi5cbiAgICovXG4gIGV4cG9ydCBpbnRlcmZhY2UgTm9kZUNvbnRleHQge1xuICAgIC8vIHBvc2l0aW9uIGl0c2VsZlxuICAgIG9mZnNldEluTm9kZTogbnVtYmVyO1xuICAgIGFmdGVyOiBib29sZWFuO1xuICAgIHNoYWRvd1R5cGU6IFNoYWRvd1R5cGU7IC8vIHBhcmVudCdzIHNoYWRvdyB0eXBlXG4gICAgc2hhZG93Q29udGV4dDogVnRyZWUuU2hhZG93Q29udGV4dDtcbiAgICBub2RlU2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0O1xuICAgIHNoYWRvd1NpYmxpbmc6IE5vZGVDb250ZXh0OyAvLyBuZXh0IFwic2libGluZ1wiIGluIHRoZSBzaGFkb3cgdHJlZVxuICAgIC8vIG90aGVyIHN0dWZmXG4gICAgc2hhcmVkOiBib29sZWFuO1xuICAgIGlubGluZTogYm9vbGVhbjtcbiAgICBvdmVyZmxvdzogYm9vbGVhbjtcbiAgICBicmVha1BlbmFsdHk6IG51bWJlcjtcbiAgICBkaXNwbGF5OiBzdHJpbmcgfCBudWxsO1xuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlO1xuICAgIGZsb2F0U2lkZTogc3RyaW5nIHwgbnVsbDtcbiAgICBjbGVhclNpZGU6IHN0cmluZyB8IG51bGw7XG4gICAgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbDtcbiAgICBjb2x1bW5TcGFuOiBDc3MuVmFsIHwgbnVsbDtcbiAgICB2ZXJ0aWNhbEFsaWduOiBzdHJpbmc7XG4gICAgY2FwdGlvblNpZGU6IHN0cmluZztcbiAgICBpbmxpbmVCb3JkZXJTcGFjaW5nOiBudW1iZXI7XG4gICAgYmxvY2tCb3JkZXJTcGFjaW5nOiBudW1iZXI7XG4gICAgZmxleENvbnRhaW5lcjogYm9vbGVhbjtcbiAgICB3aGl0ZXNwYWNlOiBXaGl0ZXNwYWNlO1xuICAgIGh5cGhlbmF0ZUNoYXJhY3Rlcjogc3RyaW5nIHwgbnVsbDtcbiAgICBicmVha1dvcmQ6IGJvb2xlYW47XG4gICAgZXN0YWJsaXNoZXNCRkM6IGJvb2xlYW47XG4gICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU6IGJvb2xlYW47XG4gICAgYnJlYWtCZWZvcmU6IHN0cmluZyB8IG51bGw7XG4gICAgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbDtcbiAgICB2aWV3Tm9kZTogTm9kZTtcbiAgICBjbGVhclNwYWNlcjogTm9kZTtcbiAgICBpbmhlcml0ZWRQcm9wczogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfCBzdHJpbmcgfCBDc3MuVmFsIH07XG4gICAgdmVydGljYWw6IGJvb2xlYW47XG4gICAgZGlyZWN0aW9uOiBzdHJpbmc7XG4gICAgZmlyc3RQc2V1ZG86IEZpcnN0UHNldWRvO1xuICAgIGxhbmc6IHN0cmluZyB8IG51bGw7XG4gICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IERpZmYuQ2hhbmdlW10gfCBudWxsO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dDtcbiAgICByZXBlYXRPbkJyZWFrOiBzdHJpbmcgfCBudWxsO1xuICAgIHBsdWdpblByb3BzOiB7XG4gICAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQgfCBudWxsIHwgKG51bWJlciB8IG51bGwpW107XG4gICAgfTtcbiAgICBmcmFnbWVudEluZGV4OiBudW1iZXI7XG4gICAgYWZ0ZXJJZkNvbnRpbnVlczogU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXM7XG4gICAgZm9vdG5vdGVQb2xpY3k6IENzcy5JZGVudCB8IG51bGw7XG5cbiAgICBzb3VyY2VOb2RlOiBOb2RlO1xuICAgIHBhcmVudDogTm9kZUNvbnRleHQ7XG4gICAgYm94T2Zmc2V0OiBudW1iZXI7XG5cbiAgICByZXNldFZpZXcoKTogdm9pZDtcbiAgICBtb2RpZnkoKTogTm9kZUNvbnRleHQ7XG4gICAgY29weSgpOiBOb2RlQ29udGV4dDtcbiAgICBjbG9uZSgpOiBOb2RlQ29udGV4dDtcbiAgICB0b05vZGVQb3NpdGlvblN0ZXAoKTogTm9kZVBvc2l0aW9uU3RlcDtcbiAgICB0b05vZGVQb3NpdGlvbigpOiBOb2RlUG9zaXRpb247XG4gICAgaXNJbnNpZGVCRkMoKTogYm9vbGVhbjtcbiAgICBnZXRDb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSgpOiBOb2RlQ29udGV4dDtcbiAgICAvKipcbiAgICAgKiBXYWxrIHVwIE5vZGVDb250ZXh0IHRyZWUgKHN0YXJ0aW5nIGZyb20gaXRzZWxmKSBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgZm9yXG4gICAgICogZWFjaCBibG9jay5cbiAgICAgKi9cbiAgICB3YWxrVXBCbG9ja3MoY2FsbGJhY2s6IChwMTogTm9kZUNvbnRleHQpID0+IGFueSk6IHZvaWQ7XG4gICAgYmVsb25nc1RvKGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dCk6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIENodW5rUG9zaXRpb24ge1xuICAgIGZsb2F0czogTm9kZVBvc2l0aW9uW107XG4gICAgcHJpbWFyeTogTm9kZVBvc2l0aW9uO1xuXG4gICAgY2xvbmUoKTogQ2h1bmtQb3NpdGlvbjtcbiAgICBpc1NhbWVQb3NpdGlvbihvdGhlcjogQ2h1bmtQb3NpdGlvbik6IGJvb2xlYW47XG4gIH1cblxuICBleHBvcnQgdHlwZSBFeHByQ29udGVudExpc3RlbmVyID0gKFxuICAgIHAxOiBFeHBycy5WYWwsXG4gICAgcDI6IHN0cmluZyxcbiAgICBwMzogRG9jdW1lbnQsXG4gICkgPT4gTm9kZSB8IG51bGw7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgWG1sRG9jIHtcbiAgZXhwb3J0IGludGVyZmFjZSBYTUxEb2NIb2xkZXIge1xuICAgIGxhbmc6IHN0cmluZyB8IG51bGw7XG4gICAgdG90YWxPZmZzZXQ6IG51bWJlcjtcbiAgICByb290OiBFbGVtZW50O1xuICAgIGJvZHk6IEVsZW1lbnQ7XG4gICAgaGVhZDogRWxlbWVudDtcbiAgICBsYXN0OiBFbGVtZW50O1xuICAgIGxhc3RPZmZzZXQ6IG51bWJlcjtcbiAgICBpZE1hcDogeyBba2V5OiBzdHJpbmddOiBFbGVtZW50IH07XG4gICAgcmVhZG9ubHkgc3RvcmU6IFhNTERvY1N0b3JlO1xuICAgIHJlYWRvbmx5IHVybDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IGRvY3VtZW50OiBEb2N1bWVudDtcblxuICAgIGRvYygpOiBOb2RlTGlzdDtcbiAgICBnZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQ6IEVsZW1lbnQpOiBudW1iZXI7XG4gICAgZ2V0Tm9kZU9mZnNldChzcmNOb2RlOiBOb2RlLCBvZmZzZXRJbk5vZGU6IG51bWJlciwgYWZ0ZXI6IGJvb2xlYW4pOiBudW1iZXI7XG4gICAgZ2V0VG90YWxPZmZzZXQoKTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEByZXR1cm4gbGFzdCBub2RlIHN1Y2ggdGhhdCBpdHMgb2Zmc2V0IGlzIGxlc3Mgb3IgZXF1YWwgdG8gdGhlIGdpdmVuXG4gICAgICovXG4gICAgZ2V0Tm9kZUJ5T2Zmc2V0KG9mZnNldDogbnVtYmVyKTogTm9kZTtcbiAgICAvKipcbiAgICAgKiBHZXQgZWxlbWVudCBieSBVUkwgaW4gdGhlIHNvdXJjZSBkb2N1bWVudChzKS4gVVJMIG11c3QgYmUgaW4gZWl0aGVyICcjaWQnXG4gICAgICogb3IgJ3VybCNpZCcgZm9ybS5cbiAgICAgKi9cbiAgICBnZXRFbGVtZW50KHVybDogc3RyaW5nKTogRWxlbWVudCB8IG51bGw7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFByZWRpY2F0ZSB7XG4gICAgcmVhZG9ubHkgZm46IChwMTogTm9kZSkgPT4gYm9vbGVhbjtcblxuICAgIGNoZWNrKG5vZGU6IE5vZGUpOiBib29sZWFuO1xuICAgIHdpdGhBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKTogUHJlZGljYXRlO1xuICAgIHdpdGhDaGlsZChuYW1lOiBzdHJpbmcsIG9wdF9jaGlsZFByZWRpY2F0ZT86IFByZWRpY2F0ZSk6IFByZWRpY2F0ZTtcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgTm9kZUxpc3Qge1xuICAgIHJlYWRvbmx5IG5vZGVzOiBOb2RlW107XG5cbiAgICBhc0FycmF5KCk6IE5vZGVbXTtcbiAgICBzaXplKCk6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgd2l0aCBwcmVkaWNhdGVcbiAgICAgKi9cbiAgICBwcmVkaWNhdGUocHI6IFByZWRpY2F0ZSk6IE5vZGVMaXN0O1xuICAgIGZvckVhY2hOb2RlKGZuOiAocDE6IE5vZGUsIHAyOiAocDE6IE5vZGUpID0+IHZvaWQpID0+IHZvaWQpOiBOb2RlTGlzdDtcbiAgICBmb3JFYWNoPFQ+KGZuOiAocDE6IE5vZGUpID0+IFQpOiBUW107XG4gICAgZm9yRWFjaE5vbk51bGw8VD4oZm46IChwMTogTm9kZSkgPT4gVCk6IFRbXTtcbiAgICBjaGlsZCh0YWc6IHN0cmluZyk6IE5vZGVMaXN0O1xuICAgIGNoaWxkRWxlbWVudHMoKTogTm9kZUxpc3Q7XG4gICAgYXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IChzdHJpbmcgfCBudWxsKVtdO1xuICAgIHRleHRDb250ZW50KCk6IChzdHJpbmcgfCBudWxsKVtdO1xuICB9XG5cbiAgZXhwb3J0IHR5cGUgWE1MRG9jU3RvcmUgPSBOZXQuUmVzb3VyY2VTdG9yZTxYTUxEb2NIb2xkZXI+O1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRGlmZiB1dGlsaXR5XG4gKi9cblxuaW1wb3J0IGZhc3RkaWZmIGZyb20gXCJmYXN0LWRpZmZcIjtcblxuZXhwb3J0IHR5cGUgQ2hhbmdlID0gKG51bWJlciB8IHN0cmluZylbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGRpZmZDaGFycyhvcmlnaW5hbFRleHQ6IHN0cmluZywgbmV3VGV4dDogc3RyaW5nKTogQ2hhbmdlW10ge1xuICByZXR1cm4gZmFzdGRpZmYob3JpZ2luYWxUZXh0LCBuZXdUZXh0LCAwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVPcmlnaW5hbFRleHQoY2hhbmdlczogQ2hhbmdlW10pOiBhbnkge1xuICByZXR1cm4gY2hhbmdlcy5yZWR1Y2UoKHJlc3VsdCwgaXRlbSkgPT4ge1xuICAgIGlmIChpdGVtWzBdID09PSBmYXN0ZGlmZi5JTlNFUlQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQgKyBpdGVtWzFdO1xuICB9LCBcIlwiKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc3RvcmVOZXdUZXh0KGNoYW5nZXM6IENoYW5nZVtdKTogYW55IHtcbiAgcmV0dXJuIGNoYW5nZXMucmVkdWNlKChyZXN1bHQsIGl0ZW0pID0+IHtcbiAgICBpZiAoaXRlbVswXSA9PT0gZmFzdGRpZmYuREVMRVRFKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0ICsgaXRlbVsxXTtcbiAgfSwgXCJcIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlTmV3SW5kZXgoY2hhbmdlczogQ2hhbmdlW10sIG9sZEluZGV4OiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gcmVzb2x2ZUluZGV4KGNoYW5nZXMsIG9sZEluZGV4LCAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVPcmlnaW5hbEluZGV4KFxuICBjaGFuZ2VzOiBDaGFuZ2VbXSxcbiAgbmV3SW5kZXg6IG51bWJlcixcbik6IG51bWJlciB7XG4gIHJldHVybiByZXNvbHZlSW5kZXgoY2hhbmdlcywgbmV3SW5kZXgsIC0xKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVJbmRleChcbiAgY2hhbmdlczogQ2hhbmdlW10sXG4gIGluZGV4OiBudW1iZXIsXG4gIGNvZWY6IG51bWJlcixcbik6IG51bWJlciB7XG4gIGxldCBkaWZmID0gMDtcbiAgbGV0IGN1cnJlbnQgPSAwO1xuICBjaGFuZ2VzLnNvbWUoKGNoYW5nZSkgPT4ge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgKGNoYW5nZVsxXSBhcyBzdHJpbmcpLmxlbmd0aDsgaSsrKSB7XG4gICAgICBzd2l0Y2ggKChjaGFuZ2VbMF0gYXMgbnVtYmVyKSAqIGNvZWYpIHtcbiAgICAgICAgY2FzZSBmYXN0ZGlmZi5JTlNFUlQ6XG4gICAgICAgICAgZGlmZisrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhc3RkaWZmLkRFTEVURTpcbiAgICAgICAgICBkaWZmLS07XG4gICAgICAgICAgY3VycmVudCsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIGZhc3RkaWZmLkVRVUFMOlxuICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50ID4gaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSk7XG4gIHJldHVybiBNYXRoLm1heChNYXRoLm1pbihpbmRleCwgY3VycmVudCAtIDEpICsgZGlmZiwgMCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFZ0cmVlIC0gQmFzaWMgdmlldyB0cmVlIGRhdGEgc3RydWN0dXJlcyBhbmQgc3VwcG9ydCB1dGlsaXRpZXMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1Byb3AgZnJvbSBcIi4vY3NzLXByb3BcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgVGFza1V0aWwgZnJvbSBcIi4vdGFzay11dGlsXCI7XG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgeyBQYWdlRmxvYXRzLCBTZWxlY3RvcnMsIFZ0cmVlLCBYbWxEb2MgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgZGVsYXllZFByb3BzID0ge1xuICB0cmFuc2Zvcm06IHRydWUsXG4gIFwidHJhbnNmb3JtLW9yaWdpblwiOiB0cnVlLFxufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkID0ge1xuICB0b3A6IHRydWUsXG4gIGJvdHRvbTogdHJ1ZSxcbiAgbGVmdDogdHJ1ZSxcbiAgcmlnaHQ6IHRydWUsXG59O1xuXG5leHBvcnQgY2xhc3MgRGVsYXllZEl0ZW0ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdGFyZ2V0OiBFbGVtZW50LFxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIHZhbHVlOiBDc3MuVmFsLFxuICApIHt9XG59XG5cbmV4cG9ydCB0eXBlIFBhZ2VIeXBlcmxpbmtFdmVudCA9IHtcbiAgdHlwZTogc3RyaW5nO1xuICB0YXJnZXQ7XG4gIGN1cnJlbnRUYXJnZXQ7XG4gIGFuY2hvckVsZW1lbnQ6IEVsZW1lbnQ7XG4gIGhyZWY6IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFRyaWdnZXIgPSB7XG4gIG9ic2VydmVyOiBzdHJpbmc7XG4gIGV2ZW50OiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xuICByZWY6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBhY3Rpb25zID0ge1xuICBzaG93OiBmdW5jdGlvbiAob2JqKSB7XG4gICAgb2JqLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgfSxcbiAgaGlkZTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgfSxcbiAgcGxheTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5jdXJyZW50VGltZSA9IDA7XG4gICAgb2JqLnBsYXkoKTtcbiAgfSxcbiAgcGF1c2U6IGZ1bmN0aW9uIChvYmopIHtcbiAgICBvYmoucGF1c2UoKTtcbiAgfSxcbiAgcmVzdW1lOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgb2JqLnBsYXkoKTtcbiAgfSxcbiAgbXV0ZTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5tdXRlZCA9IHRydWU7XG4gIH0sXG4gIHVubXV0ZTogZnVuY3Rpb24gKG9iaikge1xuICAgIG9iai5tdXRlZCA9IGZhbHNlO1xuICB9LFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VMaXN0ZW5lcihcbiAgcmVmczogRWxlbWVudFtdLFxuICBhY3Rpb246IHN0cmluZyxcbik6IEV2ZW50TGlzdGVuZXIgfCBudWxsIHtcbiAgY29uc3QgYWN0aW9uRm4gPSBhY3Rpb25zW2FjdGlvbl07XG4gIGlmIChhY3Rpb25Gbikge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlZnMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhY3Rpb25GbihyZWZzW2tdKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlIGV4dGVuZHMgQmFzZS5TaW1wbGVFdmVudFRhcmdldCB7XG4gIHByaXZhdGUgc3RhdGljIEFVVE9fUEFHRV9XSURUSF9BVFRSSUJVVEU6IHN0cmluZyA9XG4gICAgXCJkYXRhLXZpdmxpb3N0eWxlLWF1dG8tcGFnZS13aWR0aFwiO1xuICBwcml2YXRlIHN0YXRpYyBBVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURTogc3RyaW5nID1cbiAgICBcImRhdGEtdml2bGlvc3R5bGUtYXV0by1wYWdlLWhlaWdodFwiO1xuICBwYWdlQXJlYUVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIGRlbGF5ZWRJdGVtczogRGVsYXllZEl0ZW1bXSA9IFtdO1xuICBocmVmSGFuZGxlcjogKGU6IEV2ZW50KSA9PiB2b2lkO1xuICBlbGVtZW50c0J5SWQ6IHsgW2tleTogc3RyaW5nXTogRWxlbWVudFtdIH0gPSB7fTtcbiAgZGltZW5zaW9uczogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9ID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gIGlzRmlyc3RQYWdlOiBib29sZWFuID0gZmFsc2U7XG4gIGlzTGFzdFBhZ2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNBdXRvUGFnZVdpZHRoOiBib29sZWFuID0gdHJ1ZTtcbiAgaXNBdXRvUGFnZUhlaWdodDogYm9vbGVhbiA9IHRydWU7XG4gIHNwaW5lSW5kZXg6IG51bWJlciA9IDA7XG4gIHBvc2l0aW9uOiBMYXlvdXRQb3NpdGlvbiA9IG51bGw7XG4gIG9mZnNldDogbnVtYmVyID0gLTE7XG4gIHNpZGU6IENvbnN0YW50cy5QYWdlU2lkZSB8IG51bGwgPSBudWxsO1xuICBmZXRjaGVyczogVGFza1V0aWwuRmV0Y2hlcjx7fT5bXSA9IFtdO1xuICBtYXJnaW5Cb3hlczoge1xuICAgIHRvcDogeyBba2V5OiBzdHJpbmddOiBDb250YWluZXIgfTtcbiAgICBib3R0b206IHsgW2tleTogc3RyaW5nXTogQ29udGFpbmVyIH07XG4gICAgbGVmdDogeyBba2V5OiBzdHJpbmddOiBDb250YWluZXIgfTtcbiAgICByaWdodDogeyBba2V5OiBzdHJpbmddOiBDb250YWluZXIgfTtcbiAgfSA9IHsgdG9wOiB7fSwgYm90dG9tOiB7fSwgbGVmdDoge30sIHJpZ2h0OiB7fSB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBibGVlZEJveDogSFRNTEVsZW1lbnQsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5ocmVmSGFuZGxlciA9IChlOiBFdmVudCkgPT4ge1xuICAgICAgY29uc3QgYW5jaG9yRWxlbWVudCA9IGUuY3VycmVudFRhcmdldCBhcyBFbGVtZW50O1xuICAgICAgY29uc3QgaHJlZiA9XG4gICAgICAgIGFuY2hvckVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSB8fFxuICAgICAgICBhbmNob3JFbGVtZW50LmdldEF0dHJpYnV0ZU5TKEJhc2UuTlMuWExJTkssIFwiaHJlZlwiKTtcbiAgICAgIGlmIChocmVmKSB7XG4gICAgICAgIGNvbnN0IGV2dCA9IHtcbiAgICAgICAgICB0eXBlOiBcImh5cGVybGlua1wiLFxuICAgICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgICBjdXJyZW50VGFyZ2V0OiBudWxsLFxuICAgICAgICAgIGFuY2hvckVsZW1lbnQsXG4gICAgICAgICAgaHJlZixcbiAgICAgICAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc2V0QXV0b1BhZ2VXaWR0aChpc0F1dG86IGJvb2xlYW4pIHtcbiAgICB0aGlzLmlzQXV0b1BhZ2VXaWR0aCA9IGlzQXV0bztcbiAgICBpZiAoaXNBdXRvKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoUGFnZS5BVVRPX1BBR0VfV0lEVEhfQVRUUklCVVRFLCBcInRydWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUF0dHJpYnV0ZShQYWdlLkFVVE9fUEFHRV9XSURUSF9BVFRSSUJVVEUpO1xuICAgIH1cbiAgfVxuXG4gIHNldEF1dG9QYWdlSGVpZ2h0KGlzQXV0bzogYm9vbGVhbikge1xuICAgIHRoaXMuaXNBdXRvUGFnZUhlaWdodCA9IGlzQXV0bztcbiAgICBpZiAoaXNBdXRvKSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoUGFnZS5BVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURSwgXCJ0cnVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVBdHRyaWJ1dGUoUGFnZS5BVVRPX1BBR0VfSEVJR0hUX0FUVFJJQlVURSk7XG4gICAgfVxuICB9XG5cbiAgcmVnaXN0ZXJFbGVtZW50V2l0aElkKGVsZW1lbnQ6IEVsZW1lbnQsIGlkOiBzdHJpbmcpIHtcbiAgICBjb25zdCBhcnIgPSB0aGlzLmVsZW1lbnRzQnlJZFtpZF07XG4gICAgaWYgKCFhcnIpIHtcbiAgICAgIHRoaXMuZWxlbWVudHNCeUlkW2lkXSA9IFtlbGVtZW50XTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXJyLnB1c2goZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgZmluaXNoKHRyaWdnZXJzOiBUcmlnZ2VyW10sIGNsaWVudExheW91dDogQ2xpZW50TGF5b3V0KTogdm9pZCB7XG4gICAgLy8gUmVtb3ZlIElEIG9mIGVsZW1lbnRzIHdoaWNoIGV2ZW50dWFsbHkgZGlkIG5vdCBmaXQgaW4gdGhlIHBhZ2VcbiAgICAvLyAoU29tZSBub2RlcyBtYXkgaGF2ZSBiZWVuIHJlbW92ZWQgYWZ0ZXIgcmVnaXN0cmF0aW9uIGlmIHRoZXkgZGlkIG5vdCBmaXRcbiAgICAvLyBpbiB0aGUgcGFnZSlcbiAgICBPYmplY3Qua2V5cyh0aGlzLmVsZW1lbnRzQnlJZCkuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1zID0gdGhpcy5lbGVtZW50c0J5SWRbaWRdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtcy5sZW5ndGg7ICkge1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXIuY29udGFpbnMoZWxlbXNbaV0pKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1zLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGVsZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgdGhpcy5lbGVtZW50c0J5SWRbaWRdO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGxpc3QgPSB0aGlzLmRlbGF5ZWRJdGVtcztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgaWYgKFxuICAgICAgICBpdGVtLnRhcmdldCA9PT0gdGhpcy5jb250YWluZXIgJiZcbiAgICAgICAgaXRlbS5uYW1lID09PSBcInRyYW5zZm9ybVwiICYmXG4gICAgICAgICF0aGlzLmlzQXV0b1BhZ2VXaWR0aCAmJlxuICAgICAgICAhdGhpcy5pc0F1dG9QYWdlSGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgLy8gV2hlbiBmaXhlZCBwYWdlIHNpemUgaXMgc3BlY2lmaWVkLCBjYW5jZWwgdGhlIHRyYW5zZm9ybSBwcm9wZXJ0eVxuICAgICAgICAvLyBzZXQgYXQgT1BGVmlldy5tYWtlUGFnZSgpIGZvciB0aGUgc3BlY2lmaWVkIHZpZXdwb3J0IHNpemVcbiAgICAgICAgLy8gKGUuZy4gYDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD0xMzA3LCBoZWlnaHQ9MTkyMFwiLz5gKVxuICAgICAgICAvLyB0byBhdm9pZCB3cm9uZyBwYWdlIHJlc2l6aW5nLlxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoaXRlbS50YXJnZXQsIGl0ZW0ubmFtZSwgaXRlbS52YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG5cbiAgICAvLyB1c2Ugc2l6ZSBvZiB0aGUgY29udGFpbmVyIG9mIHRoZSBQYWdlTWFzdGVySW5zdGFuY2VcbiAgICBjb25zdCByZWN0ID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHRoaXMuY29udGFpbmVyKTtcbiAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSByZWN0LndpZHRoO1xuICAgIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyaWdnZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCB0cmlnZ2VyID0gdHJpZ2dlcnNbaV07XG4gICAgICBjb25zdCByZWZzID0gdGhpcy5lbGVtZW50c0J5SWRbdHJpZ2dlci5yZWZdO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXJzID0gdGhpcy5lbGVtZW50c0J5SWRbdHJpZ2dlci5vYnNlcnZlcl07XG4gICAgICBpZiAocmVmcyAmJiBvYnNlcnZlcnMpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBtYWtlTGlzdGVuZXIocmVmcywgdHJpZ2dlci5hY3Rpb24pO1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IG9ic2VydmVycy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgb2JzZXJ2ZXJzW2tdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlci5ldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogWm9vbSBwYWdlLlxuICAgKiBAcGFyYW0gc2NhbGUgRmFjdG9yIHRvIHdoaWNoIHRoZSBwYWdlIHdpbGwgYmUgc2NhbGVkLlxuICAgKi9cbiAgem9vbShzY2FsZTogbnVtYmVyKSB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRhaW5lciwgXCJ0cmFuc2Zvcm1cIiwgYHNjYWxlKCR7c2NhbGV9KWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBhZ2UgYXJlYSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0UGFnZUFyZWFFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5wYWdlQXJlYUVsZW1lbnQgfHwgdGhpcy5jb250YWluZXI7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgU3ByZWFkID0ge1xuICBsZWZ0OiBQYWdlO1xuICByaWdodDogUGFnZTtcbn07XG5cbi8qKlxuICogTWFya3MgYW4gZWxlbWVudCBhcyBcInNwZWNpYWxcIi4gSXQgc2hvdWxkIG5vdCBiZSB1c2VkIGluIGJib3ggY2FsY3VsYXRpb25zLlxuICovXG5leHBvcnQgY29uc3QgU1BFQ0lBTF9BVFRSID0gXCJkYXRhLWFkYXB0LXNwZWNcIjtcblxuZXhwb3J0IGNvbnN0IFdoaXRlc3BhY2UgPSBWdHJlZS5XaGl0ZXNwYWNlO1xuZXhwb3J0IHR5cGUgV2hpdGVzcGFjZSA9IFZ0cmVlLldoaXRlc3BhY2U7XG5cbi8qKlxuICogUmVzb2x2ZXMgV2hpdGVzcGFjZSB2YWx1ZSBmcm9tIGEgdmFsdWUgb2YgJ3doaXRlLXNwYWNlJyBwcm9wZXJ0eVxuICogQHBhcmFtIHdoaXRlc3BhY2UgVGhlIHZhbHVlIG9mICd3aGl0ZS1zcGFjZScgcHJvcGVydHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdoaXRlc3BhY2VGcm9tUHJvcGVydHlWYWx1ZShcbiAgd2hpdGVzcGFjZTogc3RyaW5nLFxuKTogV2hpdGVzcGFjZSB8IG51bGwge1xuICBzd2l0Y2ggKHdoaXRlc3BhY2UpIHtcbiAgICBjYXNlIFwibm9ybWFsXCI6XG4gICAgY2FzZSBcIm5vd3JhcFwiOlxuICAgICAgcmV0dXJuIFdoaXRlc3BhY2UuSUdOT1JFO1xuICAgIGNhc2UgXCJwcmUtbGluZVwiOlxuICAgICAgcmV0dXJuIFdoaXRlc3BhY2UuTkVXTElORTtcbiAgICBjYXNlIFwicHJlXCI6XG4gICAgY2FzZSBcInByZS13cmFwXCI6XG4gICAgICByZXR1cm4gV2hpdGVzcGFjZS5QUkVTRVJWRTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbklnbm9yZShub2RlOiBOb2RlLCB3aGl0ZXNwYWNlOiBXaGl0ZXNwYWNlKTogYm9vbGVhbiB7XG4gIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgdGV4dCA9IG5vZGUudGV4dENvbnRlbnQ7XG4gIHN3aXRjaCAod2hpdGVzcGFjZSkge1xuICAgIGNhc2UgV2hpdGVzcGFjZS5JR05PUkU6XG4gICAgICByZXR1cm4gISF0ZXh0Lm1hdGNoKC9eXFxzKiQvKTtcbiAgICBjYXNlIFdoaXRlc3BhY2UuTkVXTElORTpcbiAgICAgIHJldHVybiAhIXRleHQubWF0Y2goL15bIFxcdFxcZl0qJC8pO1xuICAgIGNhc2UgV2hpdGVzcGFjZS5QUkVTRVJWRTpcbiAgICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA9PSAwO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB3aGl0ZXNwYWNlOiAke3doaXRlc3BhY2V9YCk7XG59XG5cbmV4cG9ydCBjbGFzcyBGbG93IHtcbiAgZm9yY2VkQnJlYWtPZmZzZXRzID0gW10gYXMgbnVtYmVyW107XG4gIGZvcm1hdHRpbmdDb250ZXh0OiBGb3JtYXR0aW5nQ29udGV4dCB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnRGbG93TmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgRmxvd0NodW5rIHtcbiAgc3RhcnRQYWdlOiBudW1iZXIgPSAtMTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgZWxlbWVudDogRWxlbWVudCxcbiAgICBwdWJsaWMgc3RhcnRPZmZzZXQ6IG51bWJlcixcbiAgICBwdWJsaWMgcHJpb3JpdHk6IG51bWJlcixcbiAgICBwdWJsaWMgbGluZ2VyOiBudW1iZXIsXG4gICAgcHVibGljIGV4Y2x1c2l2ZTogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVwZWF0ZWQ6IGJvb2xlYW4sXG4gICAgcHVibGljIGxhc3Q6IGJvb2xlYW4sXG4gICAgcHVibGljIGJyZWFrQmVmb3JlOiBzdHJpbmcgfCBudWxsLFxuICApIHt9XG5cbiAgaXNCZXR0ZXIob3RoZXI6IEZsb3dDaHVuayk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5leGNsdXNpdmUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlci5leGNsdXNpdmUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcmlvcml0eSA+IG90aGVyLnByaW9yaXR5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGFzdDtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDbGllbnRSZWN0ID0gVnRyZWUuQ2xpZW50UmVjdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsaWVudHJlY3RJbmNyZWFzaW5nVG9wKFxuICByMTogQ2xpZW50UmVjdCxcbiAgcjI6IENsaWVudFJlY3QsXG4pOiBudW1iZXIge1xuICByZXR1cm4gcjEudG9wIC0gcjIudG9wO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpZW50cmVjdERlY3JlYXNpbmdSaWdodChcbiAgcjE6IENsaWVudFJlY3QsXG4gIHIyOiBDbGllbnRSZWN0LFxuKTogbnVtYmVyIHtcbiAgcmV0dXJuIHIyLnJpZ2h0IC0gcjEucmlnaHQ7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIHRvIHJlYWQgdGhlIHBvc2l0aW9uIGFzc2lnbmVkIHRvIHRoZSBlbGVtZW50cyBhbmQgcmFuZ2VzIGJ5IHRoZVxuICogYnJvd3Nlci5cbiAqL1xuZXhwb3J0IHR5cGUgQ2xpZW50TGF5b3V0ID0gVnRyZWUuQ2xpZW50TGF5b3V0O1xuXG4vKipcbiAqIFN0eWxpbmcsIGNyZWF0aW5nIGEgc2luZ2xlIG5vZGUncyB2aWV3LCBldGMuXG4gKi9cbmV4cG9ydCB0eXBlIExheW91dENvbnRleHQgPSBWdHJlZS5MYXlvdXRDb250ZXh0O1xuXG4vKipcbiAqIEZvcm1hdHRpbmcgY29udGV4dC5cbiAqL1xuZXhwb3J0IHR5cGUgRm9ybWF0dGluZ0NvbnRleHQgPSBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dDtcblxuZXhwb3J0IGZ1bmN0aW9uIGVhY2hBbmNlc3RvckZvcm1hdHRpbmdDb250ZXh0KFxuICBub2RlQ29udGV4dDogTm9kZUNvbnRleHQsXG4gIGNhbGxiYWNrOiAocDE6IEZvcm1hdHRpbmdDb250ZXh0KSA9PiBhbnksXG4pOiB2b2lkIHtcbiAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGxldCBmYyA9IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0OyBmYzsgZmMgPSBmYy5nZXRQYXJlbnQoKSkge1xuICAgIGNhbGxiYWNrKGZjKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBOb2RlUG9zaXRpb25TdGVwID0gVnRyZWUuTm9kZVBvc2l0aW9uU3RlcDtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZU5vZGVQb3NpdGlvblN0ZXAoXG4gIG5wczE6IE5vZGVQb3NpdGlvblN0ZXAsXG4gIG5wczI6IE5vZGVQb3NpdGlvblN0ZXAsXG4pOiBib29sZWFuIHtcbiAgaWYgKG5wczEgPT09IG5wczIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIW5wczEgfHwgIW5wczIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICBucHMxLm5vZGUgPT09IG5wczIubm9kZSAmJlxuICAgIG5wczEuc2hhZG93VHlwZSA9PT0gbnBzMi5zaGFkb3dUeXBlICYmXG4gICAgaXNTYW1lU2hhZG93Q29udGV4dChucHMxLnNoYWRvd0NvbnRleHQsIG5wczIuc2hhZG93Q29udGV4dCkgJiZcbiAgICBpc1NhbWVTaGFkb3dDb250ZXh0KG5wczEubm9kZVNoYWRvdywgbnBzMi5ub2RlU2hhZG93KSAmJlxuICAgIGlzU2FtZU5vZGVQb3NpdGlvblN0ZXAobnBzMS5zaGFkb3dTaWJsaW5nLCBucHMyLnNoYWRvd1NpYmxpbmcpXG4gICk7XG59XG5cbmV4cG9ydCB0eXBlIE5vZGVQb3NpdGlvbiA9IFZ0cmVlLk5vZGVQb3NpdGlvbjtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2FtZU5vZGVQb3NpdGlvbihcbiAgbnAxOiBOb2RlUG9zaXRpb24gfCBudWxsLFxuICBucDI6IE5vZGVQb3NpdGlvbiB8IG51bGwsXG4pOiBib29sZWFuIHtcbiAgaWYgKG5wMSA9PT0gbnAyKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFucDEgfHwgIW5wMikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoXG4gICAgbnAxLm9mZnNldEluTm9kZSAhPT0gbnAyLm9mZnNldEluTm9kZSB8fFxuICAgIG5wMS5hZnRlciAhPT0gbnAyLmFmdGVyIHx8XG4gICAgbnAxLnN0ZXBzLmxlbmd0aCAhPT0gbnAyLnN0ZXBzLmxlbmd0aFxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBucDEuc3RlcHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWlzU2FtZU5vZGVQb3NpdGlvblN0ZXAobnAxLnN0ZXBzW2ldLCBucDIuc3RlcHNbaV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGUobm9kZTogTm9kZSk6IE5vZGVQb3NpdGlvbiB7XG4gIGNvbnN0IHN0ZXA6IE5vZGVQb3NpdGlvblN0ZXAgPSB7XG4gICAgbm9kZSxcbiAgICBzaGFkb3dUeXBlOiBTaGFkb3dUeXBlLk5PTkUsXG4gICAgc2hhZG93Q29udGV4dDogbnVsbCxcbiAgICBub2RlU2hhZG93OiBudWxsLFxuICAgIHNoYWRvd1NpYmxpbmc6IG51bGwsXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IG51bGwsXG4gICAgZnJhZ21lbnRJbmRleDogMCxcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBzdGVwczogW3N0ZXBdLFxuICAgIG9mZnNldEluTm9kZTogMCxcbiAgICBhZnRlcjogZmFsc2UsXG4gICAgcHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ6IG51bGwsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgaW5pdGlhbEZyYWdtZW50SW5kZXg6IG51bWJlciB8IG51bGwsXG4pOiBOb2RlUG9zaXRpb24ge1xuICBjb25zdCBzdGVwOiBOb2RlUG9zaXRpb25TdGVwID0ge1xuICAgIG5vZGU6IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUsXG4gICAgc2hhZG93VHlwZTogU2hhZG93VHlwZS5OT05FLFxuICAgIHNoYWRvd0NvbnRleHQ6IG5vZGVDb250ZXh0LnNoYWRvd0NvbnRleHQsXG4gICAgbm9kZVNoYWRvdzogbnVsbCxcbiAgICBzaGFkb3dTaWJsaW5nOiBudWxsLFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBudWxsLFxuICAgIGZyYWdtZW50SW5kZXg6XG4gICAgICBpbml0aWFsRnJhZ21lbnRJbmRleCAhPSBudWxsXG4gICAgICAgID8gaW5pdGlhbEZyYWdtZW50SW5kZXhcbiAgICAgICAgOiBub2RlQ29udGV4dC5mcmFnbWVudEluZGV4LFxuICB9O1xuICByZXR1cm4ge1xuICAgIHN0ZXBzOiBbc3RlcF0sXG4gICAgb2Zmc2V0SW5Ob2RlOiAwLFxuICAgIGFmdGVyOiBmYWxzZSxcbiAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogbm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTm9kZUNvbnRleHRGcm9tTm9kZVBvc2l0aW9uU3RlcChcbiAgc3RlcDogTm9kZVBvc2l0aW9uU3RlcCxcbiAgcGFyZW50OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IE5vZGVDb250ZXh0IHtcbiAgY29uc3Qgbm9kZUNvbnRleHQgPSBuZXcgTm9kZUNvbnRleHQoc3RlcC5ub2RlLCBwYXJlbnQgYXMgTm9kZUNvbnRleHQsIDApO1xuICBub2RlQ29udGV4dC5zaGFkb3dUeXBlID0gc3RlcC5zaGFkb3dUeXBlO1xuICBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0ID0gc3RlcC5zaGFkb3dDb250ZXh0O1xuICBub2RlQ29udGV4dC5ub2RlU2hhZG93ID0gc3RlcC5ub2RlU2hhZG93O1xuICBub2RlQ29udGV4dC5zaGFkb3dTaWJsaW5nID0gc3RlcC5zaGFkb3dTaWJsaW5nXG4gICAgPyBtYWtlTm9kZUNvbnRleHRGcm9tTm9kZVBvc2l0aW9uU3RlcChzdGVwLnNoYWRvd1NpYmxpbmcsIHBhcmVudC5jb3B5KCkpXG4gICAgOiBudWxsO1xuICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCA9IHN0ZXAuZm9ybWF0dGluZ0NvbnRleHQ7XG4gIG5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXggPSBzdGVwLmZyYWdtZW50SW5kZXggKyAxO1xuICByZXR1cm4gbm9kZUNvbnRleHQ7XG59XG5cbmV4cG9ydCBjb25zdCBTaGFkb3dUeXBlID0gVnRyZWUuU2hhZG93VHlwZTtcbmV4cG9ydCB0eXBlIFNoYWRvd1R5cGUgPSBWdHJlZS5TaGFkb3dUeXBlO1xuXG4vKipcbiAqIERhdGEgYWJvdXQgc2hhZG93IHRyZWUgaW5zdGFuY2UuXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFkb3dDb250ZXh0IGltcGxlbWVudHMgVnRyZWUuU2hhZG93Q29udGV4dCB7XG4gIHN1YlNoYWRvdzogU2hhZG93Q29udGV4dCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG93bmVyOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSByb290OiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudFNoYWRvdzogU2hhZG93Q29udGV4dCxcbiAgICBzdXBlclNoYWRvdzogU2hhZG93Q29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdHlwZTogU2hhZG93VHlwZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGVyOiBvYmplY3QsXG4gICkge1xuICAgIGlmIChzdXBlclNoYWRvdykge1xuICAgICAgc3VwZXJTaGFkb3cuc3ViU2hhZG93ID0gdGhpcztcbiAgICB9XG4gIH1cblxuICBlcXVhbHMob3RoZXI6IFNoYWRvd0NvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoIW90aGVyKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICB0aGlzLm93bmVyID09PSBvdGhlci5vd25lciAmJlxuICAgICAgdGhpcy54bWxkb2MgPT09IG90aGVyLnhtbGRvYyAmJlxuICAgICAgdGhpcy50eXBlID09PSBvdGhlci50eXBlICYmXG4gICAgICBpc1NhbWVTaGFkb3dDb250ZXh0KHRoaXMucGFyZW50U2hhZG93LCBvdGhlci5wYXJlbnRTaGFkb3cpXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTYW1lU2hhZG93Q29udGV4dChcbiAgc2MxOiBTaGFkb3dDb250ZXh0LFxuICBzYzI6IFNoYWRvd0NvbnRleHQsXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHNjMSA9PT0gc2MyIHx8ICghIXNjMSAmJiAhIXNjMiAmJiBzYzEuZXF1YWxzKHNjMikpO1xufVxuXG4vKipcbiAqIEluZm9ybWF0aW9uIGFib3V0IDpmaXJzdC1sZXR0ZXIgb3IgOmZpcnN0LWxpbmUgcHNldWRvZWxlbWVudHNcbiAqIEBwYXJhbSBjb3VudCAwIC0gZmlyc3QtbGV0dGVyLCAxIG9yIG1vcmUgLSBmaXJzdCBsaW5lKHMpXG4gKi9cbmV4cG9ydCBjbGFzcyBGaXJzdFBzZXVkbyBpbXBsZW1lbnRzIFZ0cmVlLkZpcnN0UHNldWRvIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG91dGVyOiBGaXJzdFBzZXVkbyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnQ6IG51bWJlcixcbiAgKSB7fVxufVxuXG4vKipcbiAqIE5vZGVDb250ZXh0IHJlcHJlc2VudHMgYSBwb3NpdGlvbiBpbiB0aGUgZG9jdW1lbnQgKyBsYXlvdXQtcmVsYXRlZFxuICogaW5mb3JtYXRpb24gYXR0YWNoZWQgdG8gaXQuIFdoZW4gYWZ0ZXI9ZmFsc2UgYW5kIG9mZnNldEluTm9kZT0wLCB0aGVcbiAqIHBvc2l0aW9uIGlzIGluc2lkZSB0aGUgZWxlbWVudCAobm9kZSksIGJ1dCBqdXN0IGJlZm9yZSBpdHMgZmlyc3QgY2hpbGQuXG4gKiBXaGVuIG9mZnNldEluTm9kZT4wIGl0IHJlcHJlc2VudHMgb2Zmc2V0IGluIHRoZSB0ZXh0dWFsIGNvbnRlbnQgb2YgdGhlXG4gKiBub2RlLiBXaGVuIGFmdGVyPXRydWUgaXQgcmVwcmVzZW50cyBwb3NpdGlvbiByaWdodCBhZnRlciB0aGUgbGFzdCBjaGlsZFxuICogb2YgdGhlIG5vZGUuIGJveE9mZnNldCBpcyBpbmNyZW1lbnRlZCBieSAxIGZvciBhbnkgdmFsaWQgbm9kZSBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vZGVDb250ZXh0IGltcGxlbWVudHMgVnRyZWUuTm9kZUNvbnRleHQge1xuICAvLyBwb3NpdGlvbiBpdHNlbGZcbiAgb2Zmc2V0SW5Ob2RlOiBudW1iZXIgPSAwO1xuICBhZnRlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBzaGFkb3dUeXBlOiBTaGFkb3dUeXBlO1xuXG4gIC8vIHBhcmVudCdzIHNoYWRvdyB0eXBlXG4gIHNoYWRvd0NvbnRleHQ6IFNoYWRvd0NvbnRleHQ7XG4gIG5vZGVTaGFkb3c6IFNoYWRvd0NvbnRleHQgPSBudWxsO1xuICBzaGFkb3dTaWJsaW5nOiBOb2RlQ29udGV4dCA9IG51bGw7XG5cbiAgLy8gbmV4dCBcInNpYmxpbmdcIiBpbiB0aGUgc2hhZG93IHRyZWVcbiAgLy8gb3RoZXIgc3R1ZmZcbiAgc2hhcmVkOiBib29sZWFuID0gZmFsc2U7XG4gIGlubGluZTogYm9vbGVhbiA9IHRydWU7XG4gIG92ZXJmbG93OiBib29sZWFuID0gZmFsc2U7XG4gIGJyZWFrUGVuYWx0eTogbnVtYmVyO1xuICBkaXNwbGF5OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U7XG4gIGZsb2F0U2lkZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGZsb2F0TWluV3JhcEJsb2NrOiBDc3MuTnVtZXJpYyB8IG51bGwgPSBudWxsO1xuICBjb2x1bW5TcGFuOiBDc3MuVmFsIHwgbnVsbCA9IG51bGw7XG4gIHZlcnRpY2FsQWxpZ246IHN0cmluZyA9IFwiYmFzZWxpbmVcIjtcbiAgY2FwdGlvblNpZGU6IHN0cmluZyA9IFwidG9wXCI7XG4gIGlubGluZUJvcmRlclNwYWNpbmc6IG51bWJlciA9IDA7XG4gIGJsb2NrQm9yZGVyU3BhY2luZzogbnVtYmVyID0gMDtcbiAgZmxleENvbnRhaW5lcjogYm9vbGVhbiA9IGZhbHNlO1xuICB3aGl0ZXNwYWNlOiBXaGl0ZXNwYWNlO1xuICBoeXBoZW5hdGVDaGFyYWN0ZXI6IHN0cmluZyB8IG51bGw7XG4gIGJyZWFrV29yZDogYm9vbGVhbjtcbiAgZXN0YWJsaXNoZXNCRkM6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgYnJlYWtCZWZvcmU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgdmlld05vZGU6IE5vZGUgPSBudWxsO1xuICBjbGVhclNwYWNlcjogTm9kZSA9IG51bGw7XG4gIGluaGVyaXRlZFByb3BzOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB8IHN0cmluZyB8IENzcy5WYWwgfTtcbiAgdmVydGljYWw6IGJvb2xlYW47XG4gIGRpcmVjdGlvbjogc3RyaW5nO1xuICBmaXJzdFBzZXVkbzogRmlyc3RQc2V1ZG87XG4gIGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogRGlmZi5DaGFuZ2VbXSB8IG51bGwgPSBudWxsO1xuICBmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQ7XG4gIHJlcGVhdE9uQnJlYWs6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwbHVnaW5Qcm9wczoge1xuICAgIFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB8IHVuZGVmaW5lZCB8IG51bGwgfCAobnVtYmVyIHwgbnVsbClbXTtcbiAgfSA9IHt9O1xuICBmcmFnbWVudEluZGV4OiBudW1iZXIgPSAxO1xuICBhZnRlcklmQ29udGludWVzOiBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlcyA9IG51bGw7XG4gIGZvb3Rub3RlUG9saWN5OiBDc3MuSWRlbnQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgc291cmNlTm9kZTogTm9kZSxcbiAgICBwdWJsaWMgcGFyZW50OiBOb2RlQ29udGV4dCxcbiAgICBwdWJsaWMgYm94T2Zmc2V0OiBudW1iZXIsXG4gICkge1xuICAgIHRoaXMuc2hhZG93VHlwZSA9IFNoYWRvd1R5cGUuTk9ORTtcbiAgICB0aGlzLnNoYWRvd0NvbnRleHQgPSBwYXJlbnQgPyBwYXJlbnQuc2hhZG93Q29udGV4dCA6IG51bGw7XG4gICAgdGhpcy5icmVha1BlbmFsdHkgPSBwYXJlbnQgPyBwYXJlbnQuYnJlYWtQZW5hbHR5IDogMDtcbiAgICB0aGlzLmZsb2F0UmVmZXJlbmNlID0gUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5JTkxJTkU7XG4gICAgdGhpcy53aGl0ZXNwYWNlID0gcGFyZW50ID8gcGFyZW50LndoaXRlc3BhY2UgOiBXaGl0ZXNwYWNlLklHTk9SRTtcbiAgICB0aGlzLmh5cGhlbmF0ZUNoYXJhY3RlciA9IHBhcmVudCA/IHBhcmVudC5oeXBoZW5hdGVDaGFyYWN0ZXIgOiBudWxsO1xuICAgIHRoaXMuYnJlYWtXb3JkID0gcGFyZW50ID8gcGFyZW50LmJyZWFrV29yZCA6IGZhbHNlO1xuICAgIHRoaXMuaW5oZXJpdGVkUHJvcHMgPSBwYXJlbnQgPyBwYXJlbnQuaW5oZXJpdGVkUHJvcHMgOiB7fTtcbiAgICB0aGlzLnZlcnRpY2FsID0gcGFyZW50ID8gcGFyZW50LnZlcnRpY2FsIDogZmFsc2U7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBwYXJlbnQgPyBwYXJlbnQuZGlyZWN0aW9uIDogXCJsdHJcIjtcbiAgICB0aGlzLmZpcnN0UHNldWRvID0gcGFyZW50ID8gcGFyZW50LmZpcnN0UHNldWRvIDogbnVsbDtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID0gcGFyZW50ID8gcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0IDogbnVsbDtcbiAgfVxuXG4gIHJlc2V0VmlldygpOiB2b2lkIHtcbiAgICB0aGlzLmlubGluZSA9IHRydWU7XG4gICAgdGhpcy5icmVha1BlbmFsdHkgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmJyZWFrUGVuYWx0eSA6IDA7XG4gICAgdGhpcy52aWV3Tm9kZSA9IG51bGw7XG4gICAgdGhpcy5jbGVhclNwYWNlciA9IG51bGw7XG4gICAgdGhpcy5vZmZzZXRJbk5vZGUgPSAwO1xuICAgIHRoaXMuYWZ0ZXIgPSBmYWxzZTtcbiAgICB0aGlzLmRpc3BsYXkgPSBudWxsO1xuICAgIHRoaXMuZmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLklOTElORTtcbiAgICB0aGlzLmZsb2F0U2lkZSA9IG51bGw7XG4gICAgdGhpcy5jbGVhclNpZGUgPSBudWxsO1xuICAgIHRoaXMuZmxvYXRNaW5XcmFwQmxvY2sgPSBudWxsO1xuICAgIHRoaXMuY29sdW1uU3BhbiA9IG51bGw7XG4gICAgdGhpcy52ZXJ0aWNhbEFsaWduID0gXCJiYXNlbGluZVwiO1xuICAgIHRoaXMuZmxleENvbnRhaW5lciA9IGZhbHNlO1xuICAgIHRoaXMud2hpdGVzcGFjZSA9IHRoaXMucGFyZW50ID8gdGhpcy5wYXJlbnQud2hpdGVzcGFjZSA6IFdoaXRlc3BhY2UuSUdOT1JFO1xuICAgIHRoaXMuaHlwaGVuYXRlQ2hhcmFjdGVyID0gdGhpcy5wYXJlbnRcbiAgICAgID8gdGhpcy5wYXJlbnQuaHlwaGVuYXRlQ2hhcmFjdGVyXG4gICAgICA6IG51bGw7XG4gICAgdGhpcy5icmVha1dvcmQgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmJyZWFrV29yZCA6IGZhbHNlO1xuICAgIHRoaXMuYnJlYWtCZWZvcmUgPSBudWxsO1xuICAgIHRoaXMuYnJlYWtBZnRlciA9IG51bGw7XG4gICAgdGhpcy5ub2RlU2hhZG93ID0gbnVsbDtcbiAgICB0aGlzLmVzdGFibGlzaGVzQkZDID0gZmFsc2U7XG4gICAgdGhpcy5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IGZhbHNlO1xuICAgIHRoaXMudmVydGljYWwgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LnZlcnRpY2FsIDogZmFsc2U7XG4gICAgdGhpcy5ub2RlU2hhZG93ID0gbnVsbDtcbiAgICB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50ID0gbnVsbDtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dCA6IG51bGw7XG4gICAgdGhpcy5yZXBlYXRPbkJyZWFrID0gbnVsbDtcbiAgICB0aGlzLnBsdWdpblByb3BzID0ge307XG4gICAgdGhpcy5mcmFnbWVudEluZGV4ID0gMTtcbiAgICB0aGlzLmFmdGVySWZDb250aW51ZXMgPSBudWxsO1xuICAgIHRoaXMuZm9vdG5vdGVQb2xpY3kgPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBjbG9uZUl0ZW0oKTogTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IG5wID0gbmV3IE5vZGVDb250ZXh0KHRoaXMuc291cmNlTm9kZSwgdGhpcy5wYXJlbnQsIHRoaXMuYm94T2Zmc2V0KTtcbiAgICBucC5vZmZzZXRJbk5vZGUgPSB0aGlzLm9mZnNldEluTm9kZTtcbiAgICBucC5hZnRlciA9IHRoaXMuYWZ0ZXI7XG4gICAgbnAubm9kZVNoYWRvdyA9IHRoaXMubm9kZVNoYWRvdztcbiAgICBucC5zaGFkb3dUeXBlID0gdGhpcy5zaGFkb3dUeXBlO1xuICAgIG5wLnNoYWRvd0NvbnRleHQgPSB0aGlzLnNoYWRvd0NvbnRleHQ7XG4gICAgbnAuc2hhZG93U2libGluZyA9IHRoaXMuc2hhZG93U2libGluZztcbiAgICBucC5pbmxpbmUgPSB0aGlzLmlubGluZTtcbiAgICBucC5icmVha1BlbmFsdHkgPSB0aGlzLmJyZWFrUGVuYWx0eTtcbiAgICBucC5kaXNwbGF5ID0gdGhpcy5kaXNwbGF5O1xuICAgIG5wLmZsb2F0UmVmZXJlbmNlID0gdGhpcy5mbG9hdFJlZmVyZW5jZTtcbiAgICBucC5mbG9hdFNpZGUgPSB0aGlzLmZsb2F0U2lkZTtcbiAgICBucC5jbGVhclNpZGUgPSB0aGlzLmNsZWFyU2lkZTtcbiAgICBucC5mbG9hdE1pbldyYXBCbG9jayA9IHRoaXMuZmxvYXRNaW5XcmFwQmxvY2s7XG4gICAgbnAuY29sdW1uU3BhbiA9IHRoaXMuY29sdW1uU3BhbjtcbiAgICBucC52ZXJ0aWNhbEFsaWduID0gdGhpcy52ZXJ0aWNhbEFsaWduO1xuICAgIG5wLmNhcHRpb25TaWRlID0gdGhpcy5jYXB0aW9uU2lkZTtcbiAgICBucC5pbmxpbmVCb3JkZXJTcGFjaW5nID0gdGhpcy5pbmxpbmVCb3JkZXJTcGFjaW5nO1xuICAgIG5wLmJsb2NrQm9yZGVyU3BhY2luZyA9IHRoaXMuYmxvY2tCb3JkZXJTcGFjaW5nO1xuICAgIG5wLmVzdGFibGlzaGVzQkZDID0gdGhpcy5lc3RhYmxpc2hlc0JGQztcbiAgICBucC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IHRoaXMuY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU7XG4gICAgbnAuZmxleENvbnRhaW5lciA9IHRoaXMuZmxleENvbnRhaW5lcjtcbiAgICBucC53aGl0ZXNwYWNlID0gdGhpcy53aGl0ZXNwYWNlO1xuICAgIG5wLmh5cGhlbmF0ZUNoYXJhY3RlciA9IHRoaXMuaHlwaGVuYXRlQ2hhcmFjdGVyO1xuICAgIG5wLmJyZWFrV29yZCA9IHRoaXMuYnJlYWtXb3JkO1xuICAgIG5wLmJyZWFrQmVmb3JlID0gdGhpcy5icmVha0JlZm9yZTtcbiAgICBucC5icmVha0FmdGVyID0gdGhpcy5icmVha0FmdGVyO1xuICAgIG5wLnZpZXdOb2RlID0gdGhpcy52aWV3Tm9kZTtcbiAgICBucC5jbGVhclNwYWNlciA9IHRoaXMuY2xlYXJTcGFjZXI7XG4gICAgbnAuZmlyc3RQc2V1ZG8gPSB0aGlzLmZpcnN0UHNldWRvO1xuICAgIG5wLnZlcnRpY2FsID0gdGhpcy52ZXJ0aWNhbDtcbiAgICBucC5vdmVyZmxvdyA9IHRoaXMub3ZlcmZsb3c7XG4gICAgbnAucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgPSB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50O1xuICAgIG5wLmZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBucC5yZXBlYXRPbkJyZWFrID0gdGhpcy5yZXBlYXRPbkJyZWFrO1xuICAgIG5wLnBsdWdpblByb3BzID0gT2JqZWN0LmNyZWF0ZSh0aGlzLnBsdWdpblByb3BzKTtcbiAgICBucC5mcmFnbWVudEluZGV4ID0gdGhpcy5mcmFnbWVudEluZGV4O1xuICAgIG5wLmFmdGVySWZDb250aW51ZXMgPSB0aGlzLmFmdGVySWZDb250aW51ZXM7XG4gICAgbnAuZm9vdG5vdGVQb2xpY3kgPSB0aGlzLmZvb3Rub3RlUG9saWN5O1xuICAgIHJldHVybiBucDtcbiAgfVxuXG4gIG1vZGlmeSgpOiBOb2RlQ29udGV4dCB7XG4gICAgaWYgKCF0aGlzLnNoYXJlZCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsb25lSXRlbSgpO1xuICB9XG5cbiAgY29weSgpOiBOb2RlQ29udGV4dCB7XG4gICAgbGV0IG5wOiBOb2RlQ29udGV4dCA9IHRoaXM7XG4gICAgZG8ge1xuICAgICAgaWYgKG5wLnNoYXJlZCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5wLnNoYXJlZCA9IHRydWU7XG4gICAgICBucCA9IG5wLnBhcmVudDtcbiAgICB9IHdoaWxlIChucCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjbG9uZSgpOiBOb2RlQ29udGV4dCB7XG4gICAgY29uc3QgbnAgPSB0aGlzLmNsb25lSXRlbSgpO1xuICAgIGxldCBucGMgPSBucDtcbiAgICBsZXQgbnBwOiBOb2RlQ29udGV4dDtcbiAgICB3aGlsZSAoKG5wcCA9IG5wYy5wYXJlbnQpICE9IG51bGwpIHtcbiAgICAgIG5wcCA9IG5wcC5jbG9uZUl0ZW0oKTtcbiAgICAgIG5wYy5wYXJlbnQgPSBucHA7XG4gICAgICBucGMgPSBucHA7XG4gICAgfVxuICAgIHJldHVybiBucDtcbiAgfVxuXG4gIHRvTm9kZVBvc2l0aW9uU3RlcCgpOiBOb2RlUG9zaXRpb25TdGVwIHtcbiAgICByZXR1cm4ge1xuICAgICAgbm9kZTogdGhpcy5zb3VyY2VOb2RlLFxuICAgICAgc2hhZG93VHlwZTogdGhpcy5zaGFkb3dUeXBlLFxuICAgICAgc2hhZG93Q29udGV4dDogdGhpcy5zaGFkb3dDb250ZXh0LFxuICAgICAgbm9kZVNoYWRvdzogdGhpcy5ub2RlU2hhZG93LFxuICAgICAgc2hhZG93U2libGluZzogdGhpcy5zaGFkb3dTaWJsaW5nXG4gICAgICAgID8gdGhpcy5zaGFkb3dTaWJsaW5nLnRvTm9kZVBvc2l0aW9uU3RlcCgpXG4gICAgICAgIDogbnVsbCxcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0OiB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgZnJhZ21lbnRJbmRleDogdGhpcy5mcmFnbWVudEluZGV4LFxuICAgIH07XG4gIH1cblxuICB0b05vZGVQb3NpdGlvbigpOiBOb2RlUG9zaXRpb24ge1xuICAgIGxldCBuYzogTm9kZUNvbnRleHQgPSB0aGlzO1xuICAgIGNvbnN0IHN0ZXBzID0gW107XG4gICAgZG8ge1xuICAgICAgLy8gV2UgbmVlZCBmdWxseSBcInBlZWxlZFwiIHBhdGgsIHNvIGRvbid0IHJlY29yZCBmaXJzdC1YWFggcHNldWRvZWxlbWVudFxuICAgICAgLy8gY29udGFpbmVyc1xuICAgICAgaWYgKFxuICAgICAgICAhbmMuZmlyc3RQc2V1ZG8gfHxcbiAgICAgICAgIW5jLnBhcmVudCB8fFxuICAgICAgICBuYy5wYXJlbnQuZmlyc3RQc2V1ZG8gPT09IG5jLmZpcnN0UHNldWRvXG4gICAgICApIHtcbiAgICAgICAgc3RlcHMucHVzaChuYy50b05vZGVQb3NpdGlvblN0ZXAoKSk7XG4gICAgICB9XG4gICAgICBuYyA9IG5jLnBhcmVudDtcbiAgICB9IHdoaWxlIChuYyk7XG4gICAgY29uc3QgYWN0dWFsT2Zmc2V0SW5Ob2RlID0gdGhpcy5wcmVwcm9jZXNzZWRUZXh0Q29udGVudFxuICAgICAgPyBEaWZmLnJlc29sdmVPcmlnaW5hbEluZGV4KFxuICAgICAgICAgIHRoaXMucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gICAgICAgICAgdGhpcy5vZmZzZXRJbk5vZGUsXG4gICAgICAgIClcbiAgICAgIDogdGhpcy5vZmZzZXRJbk5vZGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0ZXBzLFxuICAgICAgb2Zmc2V0SW5Ob2RlOiBhY3R1YWxPZmZzZXRJbk5vZGUsXG4gICAgICBhZnRlcjogdGhpcy5hZnRlcixcbiAgICAgIHByZXByb2Nlc3NlZFRleHRDb250ZW50OiB0aGlzLnByZXByb2Nlc3NlZFRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBpc0luc2lkZUJGQygpOiBib29sZWFuIHtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC5lc3RhYmxpc2hlc0JGQykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGdldENvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKCk6IE5vZGVDb250ZXh0IHtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKHBhcmVudC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSkge1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogV2FsayB1cCBOb2RlQ29udGV4dCB0cmVlIChzdGFydGluZyBmcm9tIGl0c2VsZikgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIGZvclxuICAgKiBlYWNoIGJsb2NrLlxuICAgKi9cbiAgd2Fsa1VwQmxvY2tzKGNhbGxiYWNrOiAocDE6IE5vZGVDb250ZXh0KSA9PiBhbnkpIHtcbiAgICBsZXQgbm9kZUNvbnRleHQ6IE5vZGVDb250ZXh0ID0gdGhpcztcbiAgICB3aGlsZSAobm9kZUNvbnRleHQpIHtcbiAgICAgIGlmICghbm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgIGNhbGxiYWNrKG5vZGVDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgfVxuXG4gIGJlbG9uZ3NUbyhmb3JtYXR0aW5nQ29udGV4dDogRm9ybWF0dGluZ0NvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCA9PT0gZm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgICEhdGhpcy5wYXJlbnQgJiZcbiAgICAgIHRoaXMucGFyZW50LmZvcm1hdHRpbmdDb250ZXh0ID09PSBmb3JtYXR0aW5nQ29udGV4dFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENodW5rUG9zaXRpb24gaW1wbGVtZW50cyBWdHJlZS5DaHVua1Bvc2l0aW9uIHtcbiAgZmxvYXRzOiBOb2RlUG9zaXRpb25bXSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHByaW1hcnk6IE5vZGVQb3NpdGlvbikge31cblxuICBjbG9uZSgpOiBDaHVua1Bvc2l0aW9uIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgQ2h1bmtQb3NpdGlvbih0aGlzLnByaW1hcnkpO1xuICAgIGlmICh0aGlzLmZsb2F0cykge1xuICAgICAgcmVzdWx0LmZsb2F0cyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZsb2F0cy5sZW5ndGg7ICsraSkge1xuICAgICAgICByZXN1bHQuZmxvYXRzW2ldID0gdGhpcy5mbG9hdHNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpc1NhbWVQb3NpdGlvbihvdGhlcjogQ2h1bmtQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIGlmICghb3RoZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFpc1NhbWVOb2RlUG9zaXRpb24odGhpcy5wcmltYXJ5LCBvdGhlci5wcmltYXJ5KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5mbG9hdHMpIHtcbiAgICAgIGlmICghb3RoZXIuZmxvYXRzIHx8IHRoaXMuZmxvYXRzLmxlbmd0aCAhPT0gb3RoZXIuZmxvYXRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmxvYXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghaXNTYW1lTm9kZVBvc2l0aW9uKHRoaXMuZmxvYXRzW2ldLCBvdGhlci5mbG9hdHNbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChvdGhlci5mbG9hdHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsb3dDaHVua1Bvc2l0aW9uIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGNodW5rUG9zaXRpb246IENodW5rUG9zaXRpb24sXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb3dDaHVuazogRmxvd0NodW5rLFxuICApIHt9XG5cbiAgY2xvbmUoKTogRmxvd0NodW5rUG9zaXRpb24ge1xuICAgIHJldHVybiBuZXcgRmxvd0NodW5rUG9zaXRpb24odGhpcy5jaHVua1Bvc2l0aW9uLmNsb25lKCksIHRoaXMuZmxvd0NodW5rKTtcbiAgfVxuXG4gIGlzU2FtZVBvc2l0aW9uKG90aGVyOiBGbG93Q2h1bmtQb3NpdGlvbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICAhIW90aGVyICYmXG4gICAgICAodGhpcyA9PT0gb3RoZXIgfHwgdGhpcy5jaHVua1Bvc2l0aW9uLmlzU2FtZVBvc2l0aW9uKG90aGVyLmNodW5rUG9zaXRpb24pKVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZsb3dQb3NpdGlvbiB7XG4gIHBvc2l0aW9uczogRmxvd0NodW5rUG9zaXRpb25bXSA9IFtdO1xuICBzdGFydFNpZGU6IHN0cmluZyA9IFwiYW55XCI7XG4gIGJyZWFrQWZ0ZXI6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNsb25lKCk6IEZsb3dQb3NpdGlvbiB7XG4gICAgY29uc3QgbmV3ZnAgPSBuZXcgRmxvd1Bvc2l0aW9uKCk7XG4gICAgY29uc3QgYXJyID0gdGhpcy5wb3NpdGlvbnM7XG4gICAgY29uc3QgbmV3YXJyID0gbmV3ZnAucG9zaXRpb25zO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBuZXdhcnJbaV0gPSBhcnJbaV0uY2xvbmUoKTtcbiAgICB9XG4gICAgbmV3ZnAuc3RhcnRTaWRlID0gdGhpcy5zdGFydFNpZGU7XG4gICAgbmV3ZnAuYnJlYWtBZnRlciA9IHRoaXMuYnJlYWtBZnRlcjtcbiAgICByZXR1cm4gbmV3ZnA7XG4gIH1cblxuICBpc1NhbWVQb3NpdGlvbihvdGhlcjogRmxvd1Bvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFvdGhlciB8fCB0aGlzLnBvc2l0aW9ucy5sZW5ndGggIT09IG90aGVyLnBvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBvc2l0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLnBvc2l0aW9uc1tpXS5pc1NhbWVQb3NpdGlvbihvdGhlci5wb3NpdGlvbnNbaV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXNDb250ZW50KG9mZnNldDogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMucG9zaXRpb25zLmxlbmd0aCA+IDAgJiZcbiAgICAgIHRoaXMucG9zaXRpb25zWzBdLmZsb3dDaHVuay5zdGFydE9mZnNldCA8PSBvZmZzZXRcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRQb3NpdGlvbiB7XG4gIC8qKlxuICAgKiBPbmUtYmFzZWQsIGluY3JlbWVudGVkIGJlZm9yZSBsYXlvdXQuXG4gICAqL1xuICBwYWdlOiBudW1iZXIgPSAwO1xuICBmbG93czogeyBba2V5OiBzdHJpbmddOiBGbG93IH0gPSB7fTtcbiAgZmxvd1Bvc2l0aW9uczogeyBba2V5OiBzdHJpbmddOiBGbG93UG9zaXRpb24gfSA9IHt9O1xuXG4gIC8qKlxuICAgKiBmbG93UG9zaXRpb25zIGlzIGJ1aWx0IHVwIHRvIHRoaXMgb2Zmc2V0LlxuICAgKi9cbiAgaGlnaGVzdFNlZW5PZmZzZXQ6IG51bWJlciA9IDA7XG5cbiAgLy8gRklYTUU6IFRoaXMgcHJvcGVydGllcyBzZWVtIHRvIGJlIG5vdCB1c2VkXG4gIGhpZ2hlc3RTZWVuTm9kZTogTm9kZTtcbiAgbG9va3VwUG9zaXRpb25PZmZzZXQ6IG51bWJlcjtcblxuICBjbG9uZSgpOiBMYXlvdXRQb3NpdGlvbiB7XG4gICAgY29uc3QgbmV3Y3AgPSBuZXcgTGF5b3V0UG9zaXRpb24oKTtcbiAgICBuZXdjcC5wYWdlID0gdGhpcy5wYWdlO1xuICAgIG5ld2NwLmhpZ2hlc3RTZWVuTm9kZSA9IHRoaXMuaGlnaGVzdFNlZW5Ob2RlO1xuICAgIG5ld2NwLmhpZ2hlc3RTZWVuT2Zmc2V0ID0gdGhpcy5oaWdoZXN0U2Vlbk9mZnNldDtcbiAgICBuZXdjcC5sb29rdXBQb3NpdGlvbk9mZnNldCA9IHRoaXMubG9va3VwUG9zaXRpb25PZmZzZXQ7XG4gICAgbmV3Y3AuZmxvd3MgPSB0aGlzLmZsb3dzO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIG5ld2NwLmZsb3dQb3NpdGlvbnNbbmFtZV0gPSB0aGlzLmZsb3dQb3NpdGlvbnNbbmFtZV0uY2xvbmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld2NwO1xuICB9XG5cbiAgaXNTYW1lUG9zaXRpb24ob3RoZXI6IExheW91dFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIW90aGVyIHx8XG4gICAgICB0aGlzLnBhZ2UgIT09IG90aGVyLnBhZ2UgfHxcbiAgICAgIHRoaXMuaGlnaGVzdFNlZW5PZmZzZXQgIT09IG90aGVyLmhpZ2hlc3RTZWVuT2Zmc2V0XG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHRoaXNGbG93TmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmZsb3dQb3NpdGlvbnMpO1xuICAgIGNvbnN0IG90aGVyRmxvd05hbWVzID0gT2JqZWN0LmtleXMob3RoZXIuZmxvd1Bvc2l0aW9ucyk7XG4gICAgaWYgKHRoaXNGbG93TmFtZXMubGVuZ3RoICE9PSBvdGhlckZsb3dOYW1lcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBvZiB0aGlzRmxvd05hbWVzKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF0aGlzLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdLmlzU2FtZVBvc2l0aW9uKFxuICAgICAgICAgIG90aGVyLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbmFtZSBmbG93IG5hbWUuXG4gICAqL1xuICBoYXNDb250ZW50KG5hbWU6IHN0cmluZywgb2Zmc2V0OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICBjb25zdCBmbG93UG9zID0gdGhpcy5mbG93UG9zaXRpb25zW25hbWVdO1xuICAgIGlmICghZmxvd1Bvcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd1Bvcy5oYXNDb250ZW50KG9mZnNldCk7XG4gIH1cblxuICBzdGFydFNpZGVPZkZsb3cobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBmbG93UG9zID0gdGhpcy5mbG93UG9zaXRpb25zW25hbWVdO1xuICAgIGlmICghZmxvd1Bvcykge1xuICAgICAgcmV0dXJuIFwiYW55XCI7XG4gICAgfVxuICAgIHJldHVybiBmbG93UG9zLnN0YXJ0U2lkZTtcbiAgfVxuXG4gIGZpcnN0Rmxvd0NodW5rT2ZGbG93KG5hbWU6IHN0cmluZyk6IEZsb3dDaHVuayB8IG51bGwge1xuICAgIGNvbnN0IGZsb3dQb3MgPSB0aGlzLmZsb3dQb3NpdGlvbnNbbmFtZV07XG4gICAgaWYgKCFmbG93UG9zKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgZmxvd0NodW5rUG9zaXRpb24gPSBmbG93UG9zLnBvc2l0aW9uc1swXTtcbiAgICBpZiAoIWZsb3dDaHVua1Bvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dDaHVua1Bvc2l0aW9uLmZsb3dDaHVuaztcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyIGltcGxlbWVudHMgVnRyZWUuQ29udGFpbmVyIHtcbiAgbGVmdDogbnVtYmVyID0gMDtcbiAgdG9wOiBudW1iZXIgPSAwO1xuICBtYXJnaW5MZWZ0OiBudW1iZXIgPSAwO1xuICBtYXJnaW5SaWdodDogbnVtYmVyID0gMDtcbiAgbWFyZ2luVG9wOiBudW1iZXIgPSAwO1xuICBtYXJnaW5Cb3R0b206IG51bWJlciA9IDA7XG4gIGJvcmRlckxlZnQ6IG51bWJlciA9IDA7XG4gIGJvcmRlclJpZ2h0OiBudW1iZXIgPSAwO1xuICBib3JkZXJUb3A6IG51bWJlciA9IDA7XG4gIGJvcmRlckJvdHRvbTogbnVtYmVyID0gMDtcbiAgcGFkZGluZ0xlZnQ6IG51bWJlciA9IDA7XG4gIHBhZGRpbmdSaWdodDogbnVtYmVyID0gMDtcbiAgcGFkZGluZ1RvcDogbnVtYmVyID0gMDtcbiAgcGFkZGluZ0JvdHRvbTogbnVtYmVyID0gMDtcbiAgd2lkdGg6IG51bWJlciA9IDA7XG4gIGhlaWdodDogbnVtYmVyID0gMDtcbiAgb3JpZ2luWDogbnVtYmVyID0gMDtcbiAgb3JpZ2luWTogbnVtYmVyID0gMDtcbiAgZXhjbHVzaW9uczogR2VvbWV0cnlVdGlsLlNoYXBlW10gPSBudWxsO1xuICBpbm5lclNoYXBlOiBHZW9tZXRyeVV0aWwuU2hhcGUgPSBudWxsO1xuICBjb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyID0gMDtcbiAgc25hcFdpZHRoOiBudW1iZXIgPSAwO1xuICBzbmFwSGVpZ2h0OiBudW1iZXIgPSAwO1xuICBzbmFwT2Zmc2V0WDogbnVtYmVyID0gMDtcbiAgc25hcE9mZnNldFk6IG51bWJlciA9IDA7XG4gIHZlcnRpY2FsOiBib29sZWFuID0gZmFsc2U7IC8vIHZlcnRpY2FsIHdyaXRpbmdcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgZWxlbWVudDogRWxlbWVudCkge31cblxuICBnZXRJbnNldFRvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJnaW5Ub3AgKyB0aGlzLmJvcmRlclRvcCArIHRoaXMucGFkZGluZ1RvcDtcbiAgfVxuXG4gIGdldEluc2V0Qm90dG9tKCkge1xuICAgIHJldHVybiB0aGlzLm1hcmdpbkJvdHRvbSArIHRoaXMuYm9yZGVyQm90dG9tICsgdGhpcy5wYWRkaW5nQm90dG9tO1xuICB9XG5cbiAgZ2V0SW5zZXRMZWZ0KCkge1xuICAgIHJldHVybiB0aGlzLm1hcmdpbkxlZnQgKyB0aGlzLmJvcmRlckxlZnQgKyB0aGlzLnBhZGRpbmdMZWZ0O1xuICB9XG5cbiAgZ2V0SW5zZXRSaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy5tYXJnaW5SaWdodCArIHRoaXMuYm9yZGVyUmlnaHQgKyB0aGlzLnBhZGRpbmdSaWdodDtcbiAgfVxuXG4gIGdldEluc2V0QmVmb3JlKCkge1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRJbnNldFJpZ2h0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0VG9wKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5zZXRBZnRlcigpIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRMZWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0Qm90dG9tKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5zZXRTdGFydCgpIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRUb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXRMZWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5zZXRFbmQoKSB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0Qm90dG9tKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEluc2V0UmlnaHQoKTtcbiAgICB9XG4gIH1cblxuICBnZXRCZWZvcmVFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3gucmlnaHQgOiBib3gudG9wO1xuICB9XG5cbiAgZ2V0QWZ0ZXJFZGdlKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3gubGVmdCA6IGJveC5ib3R0b207XG4gIH1cblxuICBnZXRTdGFydEVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC50b3AgOiBib3gubGVmdDtcbiAgfVxuXG4gIGdldEVuZEVkZ2UoYm94OiBDbGllbnRSZWN0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IGJveC5ib3R0b20gOiBib3gucmlnaHQ7XG4gIH1cblxuICBnZXRJbmxpbmVTaXplKGJveDogQ2xpZW50UmVjdCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMudmVydGljYWwgPyBib3guYm90dG9tIC0gYm94LnRvcCA6IGJveC5yaWdodCAtIGJveC5sZWZ0O1xuICB9XG5cbiAgZ2V0Qm94U2l6ZShib3g6IENsaWVudFJlY3QpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gYm94LnJpZ2h0IC0gYm94LmxlZnQgOiBib3guYm90dG9tIC0gYm94LnRvcDtcbiAgfVxuXG4gIGdldEJveERpcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gLTEgOiAxO1xuICB9XG5cbiAgZ2V0SW5saW5lRGlyKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBjb3B5RnJvbShvdGhlcjogQ29udGFpbmVyKTogdm9pZCB7XG4gICAgdGhpcy5lbGVtZW50ID0gb3RoZXIuZWxlbWVudDtcbiAgICB0aGlzLmxlZnQgPSBvdGhlci5sZWZ0O1xuICAgIHRoaXMudG9wID0gb3RoZXIudG9wO1xuICAgIHRoaXMubWFyZ2luTGVmdCA9IG90aGVyLm1hcmdpbkxlZnQ7XG4gICAgdGhpcy5tYXJnaW5SaWdodCA9IG90aGVyLm1hcmdpblJpZ2h0O1xuICAgIHRoaXMubWFyZ2luVG9wID0gb3RoZXIubWFyZ2luVG9wO1xuICAgIHRoaXMubWFyZ2luQm90dG9tID0gb3RoZXIubWFyZ2luQm90dG9tO1xuICAgIHRoaXMuYm9yZGVyTGVmdCA9IG90aGVyLmJvcmRlckxlZnQ7XG4gICAgdGhpcy5ib3JkZXJSaWdodCA9IG90aGVyLmJvcmRlclJpZ2h0O1xuICAgIHRoaXMuYm9yZGVyVG9wID0gb3RoZXIuYm9yZGVyVG9wO1xuICAgIHRoaXMuYm9yZGVyQm90dG9tID0gb3RoZXIuYm9yZGVyQm90dG9tO1xuICAgIHRoaXMucGFkZGluZ0xlZnQgPSBvdGhlci5wYWRkaW5nTGVmdDtcbiAgICB0aGlzLnBhZGRpbmdSaWdodCA9IG90aGVyLnBhZGRpbmdSaWdodDtcbiAgICB0aGlzLnBhZGRpbmdUb3AgPSBvdGhlci5wYWRkaW5nVG9wO1xuICAgIHRoaXMucGFkZGluZ0JvdHRvbSA9IG90aGVyLnBhZGRpbmdCb3R0b207XG4gICAgdGhpcy53aWR0aCA9IG90aGVyLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3RoZXIuaGVpZ2h0O1xuICAgIHRoaXMub3JpZ2luWCA9IG90aGVyLm9yaWdpblg7XG4gICAgdGhpcy5vcmlnaW5ZID0gb3RoZXIub3JpZ2luWTtcbiAgICB0aGlzLmlubmVyU2hhcGUgPSBvdGhlci5pbm5lclNoYXBlO1xuICAgIHRoaXMuZXhjbHVzaW9ucyA9IG90aGVyLmV4Y2x1c2lvbnM7XG4gICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9IG90aGVyLmNvbXB1dGVkQmxvY2tTaXplO1xuICAgIHRoaXMuc25hcFdpZHRoID0gb3RoZXIuc25hcFdpZHRoO1xuICAgIHRoaXMuc25hcEhlaWdodCA9IG90aGVyLnNuYXBIZWlnaHQ7XG4gICAgdGhpcy52ZXJ0aWNhbCA9IG90aGVyLnZlcnRpY2FsO1xuICB9XG5cbiAgc2V0VmVydGljYWxQb3NpdGlvbih0b3A6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJ0b3BcIiwgYCR7dG9wfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwiaGVpZ2h0XCIsIGAke2hlaWdodH1weGApO1xuICB9XG5cbiAgc2V0SG9yaXpvbnRhbFBvc2l0aW9uKGxlZnQ6IG51bWJlciwgd2lkdGg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMubGVmdCA9IGxlZnQ7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcImxlZnRcIiwgYCR7bGVmdH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5lbGVtZW50LCBcIndpZHRoXCIsIGAke3dpZHRofXB4YCk7XG4gIH1cblxuICBzZXRCbG9ja1Bvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKHN0YXJ0ICsgZXh0ZW50ICogdGhpcy5nZXRCb3hEaXIoKSwgZXh0ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRWZXJ0aWNhbFBvc2l0aW9uKHN0YXJ0LCBleHRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHNldElubGluZVBvc2l0aW9uKHN0YXJ0OiBudW1iZXIsIGV4dGVudDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuc2V0VmVydGljYWxQb3NpdGlvbihzdGFydCwgZXh0ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRIb3Jpem9udGFsUG9zaXRpb24oc3RhcnQsIGV4dGVudCk7XG4gICAgfVxuICB9XG5cbiAgY2xlYXIoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5lbGVtZW50O1xuICAgIGxldCBjOiBOb2RlO1xuICAgIHdoaWxlICgoYyA9IHBhcmVudC5sYXN0Q2hpbGQpKSB7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoYyk7XG4gICAgfVxuICB9XG5cbiAgZ2V0SW5uZXJTaGFwZSgpOiBHZW9tZXRyeVV0aWwuU2hhcGUge1xuICAgIGNvbnN0IHJlY3QgPSB0aGlzLmdldElubmVyUmVjdCgpO1xuICAgIGlmICh0aGlzLmlubmVyU2hhcGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmlubmVyU2hhcGUud2l0aE9mZnNldChyZWN0LngxLCByZWN0LnkxKTtcbiAgICB9XG4gICAgcmV0dXJuIEdlb21ldHJ5VXRpbC5zaGFwZUZvclJlY3QocmVjdC54MSwgcmVjdC55MSwgcmVjdC54MiwgcmVjdC55Mik7XG4gIH1cblxuICBnZXRJbm5lclJlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Qge1xuICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLm9yaWdpblggKyB0aGlzLmxlZnQgKyB0aGlzLmdldEluc2V0TGVmdCgpO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLm9yaWdpblkgKyB0aGlzLnRvcCArIHRoaXMuZ2V0SW5zZXRUb3AoKTtcbiAgICByZXR1cm4gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgb2Zmc2V0WCxcbiAgICAgIG9mZnNldFksXG4gICAgICBvZmZzZXRYICsgdGhpcy53aWR0aCxcbiAgICAgIG9mZnNldFkgKyB0aGlzLmhlaWdodCxcbiAgICApO1xuICB9XG5cbiAgZ2V0UGFkZGluZ1JlY3QoKTogR2VvbWV0cnlVdGlsLlJlY3Qge1xuICAgIGNvbnN0IHBhZGRpbmdYID1cbiAgICAgIHRoaXMub3JpZ2luWCArIHRoaXMubGVmdCArIHRoaXMubWFyZ2luTGVmdCArIHRoaXMuYm9yZGVyTGVmdDtcbiAgICBjb25zdCBwYWRkaW5nWSA9IHRoaXMub3JpZ2luWSArIHRoaXMudG9wICsgdGhpcy5tYXJnaW5Ub3AgKyB0aGlzLmJvcmRlclRvcDtcbiAgICBjb25zdCBwYWRkaW5nV2lkdGggPSB0aGlzLnBhZGRpbmdMZWZ0ICsgdGhpcy53aWR0aCArIHRoaXMucGFkZGluZ1JpZ2h0O1xuICAgIGNvbnN0IHBhZGRpbmdIZWlnaHQgPSB0aGlzLnBhZGRpbmdUb3AgKyB0aGlzLmhlaWdodCArIHRoaXMucGFkZGluZ0JvdHRvbTtcbiAgICByZXR1cm4gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgcGFkZGluZ1gsXG4gICAgICBwYWRkaW5nWSxcbiAgICAgIHBhZGRpbmdYICsgcGFkZGluZ1dpZHRoLFxuICAgICAgcGFkZGluZ1kgKyBwYWRkaW5nSGVpZ2h0LFxuICAgICk7XG4gIH1cblxuICBnZXRPdXRlclNoYXBlKFxuICAgIG91dGVyU2hhcGVQcm9wOiBDc3MuVmFsLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICk6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gICAgY29uc3QgcmVjdCA9IHRoaXMuZ2V0T3V0ZXJSZWN0KCk7XG4gICAgcmV0dXJuIENzc1Byb3AudG9TaGFwZShcbiAgICAgIG91dGVyU2hhcGVQcm9wLFxuICAgICAgcmVjdC54MSxcbiAgICAgIHJlY3QueTEsXG4gICAgICByZWN0LngyIC0gcmVjdC54MSxcbiAgICAgIHJlY3QueTIgLSByZWN0LnkxLFxuICAgICAgY29udGV4dCxcbiAgICApO1xuICB9XG5cbiAgZ2V0T3V0ZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0IHtcbiAgICBjb25zdCBvdXRlclggPSB0aGlzLm9yaWdpblggKyB0aGlzLmxlZnQ7XG4gICAgY29uc3Qgb3V0ZXJZID0gdGhpcy5vcmlnaW5ZICsgdGhpcy50b3A7XG4gICAgY29uc3Qgb3V0ZXJXaWR0aCA9IHRoaXMuZ2V0SW5zZXRMZWZ0KCkgKyB0aGlzLndpZHRoICsgdGhpcy5nZXRJbnNldFJpZ2h0KCk7XG4gICAgY29uc3Qgb3V0ZXJIZWlnaHQgPVxuICAgICAgdGhpcy5nZXRJbnNldFRvcCgpICsgdGhpcy5oZWlnaHQgKyB0aGlzLmdldEluc2V0Qm90dG9tKCk7XG4gICAgcmV0dXJuIG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgIG91dGVyWCxcbiAgICAgIG91dGVyWSxcbiAgICAgIG91dGVyWCArIG91dGVyV2lkdGgsXG4gICAgICBvdXRlclkgKyBvdXRlckhlaWdodCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEV4cHJDb250ZW50TGlzdGVuZXIgPSBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyO1xuXG5leHBvcnQgY2xhc3MgQ29udGVudFByb3BlcnR5SGFuZGxlciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGVsZW06IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RDb250ZW50VmFsdWU6IENzcy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IGV4cHJDb250ZW50TGlzdGVuZXI6IEV4cHJDb250ZW50TGlzdGVuZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBwcml2YXRlIHZpc2l0U3RySW5uZXIoc3RyOiBzdHJpbmcsIG5vZGU/OiBOb2RlIHwgbnVsbCkge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgbm9kZSA9IHRoaXMuZWxlbS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cik7XG4gICAgfVxuICAgIHRoaXMuZWxlbS5hcHBlbmRDaGlsZChub2RlKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdmlzaXRTdHIoc3RyOiBDc3MuU3RyKTogQ3NzLlZhbCB7XG4gICAgdGhpcy52aXNpdFN0cklubmVyKHN0ci5zdHIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICBpZiAoKHRoaXMucm9vdENvbnRlbnRWYWx1ZSBhcyBhbnkpLnVybCkge1xuICAgICAgdGhpcy5lbGVtLnNldEF0dHJpYnV0ZShcInNyY1wiLCB1cmwudXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaW1nID0gdGhpcy5lbGVtLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKEJhc2UuTlMuWEhUTUwsIFwiaW1nXCIpO1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCB1cmwudXJsKTtcbiAgICAgIHRoaXMuZWxlbS5hcHBlbmRDaGlsZChpbWcpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHRoaXMudmlzaXRWYWx1ZXMobGlzdC52YWx1ZXMpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICB2aXNpdEV4cHIoZXhwcjogQ3NzLkV4cHIpOiBDc3MuVmFsIHtcbiAgICBjb25zdCBleCA9IGV4cHIudG9FeHByKCk7XG4gICAgbGV0IHZhbCA9IGV4LmV2YWx1YXRlKHRoaXMuY29udGV4dCk7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGlmIChleCBpbnN0YW5jZW9mIEV4cHJzLk5hbWVkKSB7XG4gICAgICAgIC8vIEZvciBlbnYocHViLXRpdGxlKSBhbmQgZW52KGRvYy10aXRsZSlcbiAgICAgICAgLy8gTmVlZCB0byB1bnF1b3RlIHRoZSByZXN1bHQuIFRvIGJlIGNvbnNpc3RlbnQgd2l0aCBjc3NwYXJzZS5ldmFsdWF0ZUV4cHJUb0NTUygpXG4gICAgICAgIHZhbCA9IENzc1BhcnNlci5wYXJzZVZhbHVlKFxuICAgICAgICAgIGV4LnNjb3BlLFxuICAgICAgICAgIG5ldyBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKHZhbCwgbnVsbCksXG4gICAgICAgICAgXCJcIixcbiAgICAgICAgKS5zdHJpbmdWYWx1ZSgpO1xuICAgICAgfVxuICAgICAgYXNzZXJ0KHRoaXMuZWxlbS5vd25lckRvY3VtZW50KTtcbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIoZXgsIHZhbCwgdGhpcy5lbGVtLm93bmVyRG9jdW1lbnQpO1xuICAgICAgdGhpcy52aXNpdFN0cklubmVyKHZhbCwgbm9kZSk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub25Ucml2aWFsQ29udGVudCh2YWw6IENzcy5WYWwpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICB2YWwgIT0gbnVsbCAmJlxuICAgIHZhbCAhPT0gQ3NzLmlkZW50Lm5vcm1hbCAmJlxuICAgIHZhbCAhPT0gQ3NzLmlkZW50Lm5vbmUgJiZcbiAgICB2YWwgIT09IENzcy5pZGVudC5pbmhlcml0XG4gICk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBQYWdlRmxvYXRzIC0gQ1NTIFBhZ2UgRmxvYXRzXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgQ3NzTG9naWNhbFV0aWwgZnJvbSBcIi4vY3NzLWxvZ2ljYWwtdXRpbFwiO1xuaW1wb3J0ICogYXMgU2l6aW5nIGZyb20gXCIuL3NpemluZ1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCBhcyBMYXlvdXRUeXBlLCBQYWdlRmxvYXRzLCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBGbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U7XG5leHBvcnQgdHlwZSBGbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2U7XG5cbnR5cGUgUGFnZUZsb2F0SUQgPSBQYWdlRmxvYXRzLlBhZ2VGbG9hdElEO1xuXG5leHBvcnQgZnVuY3Rpb24gZmxvYXRSZWZlcmVuY2VPZihzdHI6IHN0cmluZyk6IEZsb2F0UmVmZXJlbmNlIHtcbiAgc3dpdGNoIChzdHIpIHtcbiAgICBjYXNlIFwiaW5saW5lXCI6XG4gICAgICByZXR1cm4gRmxvYXRSZWZlcmVuY2UuSU5MSU5FO1xuICAgIGNhc2UgXCJjb2x1bW5cIjpcbiAgICAgIHJldHVybiBGbG9hdFJlZmVyZW5jZS5DT0xVTU47XG4gICAgY2FzZSBcInJlZ2lvblwiOlxuICAgICAgcmV0dXJuIEZsb2F0UmVmZXJlbmNlLlJFR0lPTjtcbiAgICBjYXNlIFwicGFnZVwiOlxuICAgICAgcmV0dXJuIEZsb2F0UmVmZXJlbmNlLlBBR0U7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBmbG9hdC1yZWZlcmVuY2U6ICR7c3RyfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BhZ2VGbG9hdChmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UpOiBib29sZWFuIHtcbiAgc3dpdGNoIChmbG9hdFJlZmVyZW5jZSkge1xuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuSU5MSU5FOlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuQ09MVU1OOlxuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuUkVHSU9OOlxuICAgIGNhc2UgRmxvYXRSZWZlcmVuY2UuUEFHRTpcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZmxvYXQtcmVmZXJlbmNlOiAke2Zsb2F0UmVmZXJlbmNlfWApO1xuICB9XG59XG5cbi8qKlxuICogSW50ZXJwcmV0IGEgZmxvYXQgdmFsdWUgd2l0aCB0aGUgd3JpdGluZy1tb2RlIGFuZCBkaXJlY3Rpb24gYXNzdW1pbmcgdGhlXG4gKiBmbG9hdC1yZWZlcmVuY2UgaXMgaW5saW5lIGFuZCByZXR1cm5zIFwibGVmdFwiIG9yIFwicmlnaHRcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVJbmxpbmVGbG9hdERpcmVjdGlvbihcbiAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuICBkaXJlY3Rpb246IHN0cmluZyxcbik6IHN0cmluZyB7XG4gIGNvbnN0IHdyaXRpbmdNb2RlID0gdmVydGljYWwgPyBcInZlcnRpY2FsLXJsXCIgOiBcImhvcml6b250YWwtdGJcIjtcbiAgaWYgKGZsb2F0U2lkZSA9PT0gXCJ0b3BcIiB8fCBmbG9hdFNpZGUgPT09IFwiYm90dG9tXCIpIHtcbiAgICBmbG9hdFNpZGUgPSBDc3NMb2dpY2FsVXRpbC50b0xvZ2ljYWwoZmxvYXRTaWRlLCB3cml0aW5nTW9kZSwgZGlyZWN0aW9uKTtcbiAgfVxuICBpZiAoZmxvYXRTaWRlID09PSBcImJsb2NrLXN0YXJ0XCIpIHtcbiAgICBmbG9hdFNpZGUgPSBcImlubGluZS1zdGFydFwiO1xuICB9XG4gIGlmIChmbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIpIHtcbiAgICBmbG9hdFNpZGUgPSBcImlubGluZS1lbmRcIjtcbiAgfVxuICBpZiAoZmxvYXRTaWRlID09PSBcImlubGluZS1zdGFydFwiIHx8IGZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtZW5kXCIpIHtcbiAgICBjb25zdCBwaHlzaWNhbFZhbHVlID0gQ3NzTG9naWNhbFV0aWwudG9QaHlzaWNhbChcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIHdyaXRpbmdNb2RlLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICk7XG4gICAgY29uc3QgbGluZVJlbGF0aXZlVmFsdWUgPSBDc3NMb2dpY2FsVXRpbC50b0xpbmVSZWxhdGl2ZShcbiAgICAgIHBoeXNpY2FsVmFsdWUsXG4gICAgICB3cml0aW5nTW9kZSxcbiAgICApO1xuICAgIGlmIChsaW5lUmVsYXRpdmVWYWx1ZSA9PT0gXCJsaW5lLWxlZnRcIikge1xuICAgICAgZmxvYXRTaWRlID0gXCJsZWZ0XCI7XG4gICAgfSBlbHNlIGlmIChsaW5lUmVsYXRpdmVWYWx1ZSA9PT0gXCJsaW5lLXJpZ2h0XCIpIHtcbiAgICAgIGZsb2F0U2lkZSA9IFwicmlnaHRcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb2F0U2lkZSAhPT0gXCJsZWZ0XCIgJiYgZmxvYXRTaWRlICE9PSBcInJpZ2h0XCIpIHtcbiAgICBMb2dnaW5nLmxvZ2dlci53YXJuKGBJbnZhbGlkIGZsb2F0IHZhbHVlOiAke2Zsb2F0U2lkZX0uIEZhbGxiYWNrIHRvIGxlZnQuYCk7XG4gICAgZmxvYXRTaWRlID0gXCJsZWZ0XCI7XG4gIH1cbiAgcmV0dXJuIGZsb2F0U2lkZTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdCBpbXBsZW1lbnRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHtcbiAgb3JkZXI6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBpZDogUGFnZUZsb2F0SUQgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbCxcbiAgKSB7fVxuXG4gIGdldE9yZGVyKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMub3JkZXIgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBwYWdlIGZsb2F0IGlzIG5vdCB5ZXQgYWRkZWRcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9yZGVyO1xuICB9XG5cbiAgZ2V0SWQoKTogUGFnZUZsb2F0SUQge1xuICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHBhZ2UgZmxvYXQgaXMgbm90IHlldCBhZGRlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cblxuICBpc0FsbG93ZWRPbkNvbnRleHQocGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzQW5jaG9yQWxyZWFkeUFwcGVhcmVkKHRoaXMuZ2V0SWQoKSk7XG4gIH1cblxuICBpc0FsbG93ZWRUb1ByZWNlZGUob3RoZXI6IFBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZUZsb2F0U3RvcmUge1xuICBwcml2YXRlIGZsb2F0czogUGFnZUZsb2F0W10gPSBbXTtcbiAgcHJpdmF0ZSBuZXh0UGFnZUZsb2F0SW5kZXg6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBuZXh0T3JkZXIoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5uZXh0UGFnZUZsb2F0SW5kZXgrKztcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUGFnZUZsb2F0SWQob3JkZXI6IG51bWJlcik6IFBhZ2VGbG9hdElEIHtcbiAgICByZXR1cm4gYHBmJHtvcmRlcn1gO1xuICB9XG5cbiAgYWRkUGFnZUZsb2F0KGZsb2F0OiBQYWdlRmxvYXQpIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRzLmZpbmRJbmRleCgoZikgPT5cbiAgICAgIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24oZi5ub2RlUG9zaXRpb24sIGZsb2F0Lm5vZGVQb3NpdGlvbiksXG4gICAgKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkEgcGFnZSBmbG9hdCB3aXRoIHRoZSBzYW1lIHNvdXJjZSBub2RlIGlzIGFscmVhZHkgcmVnaXN0ZXJlZFwiLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb3JkZXIgPSAoZmxvYXQub3JkZXIgPSB0aGlzLm5leHRPcmRlcigpKTtcbiAgICAgIGZsb2F0LmlkID0gdGhpcy5jcmVhdGVQYWdlRmxvYXRJZChvcmRlcik7XG4gICAgICB0aGlzLmZsb2F0cy5wdXNoKGZsb2F0KTtcbiAgICB9XG4gIH1cblxuICBmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24oXG4gICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICk6IFBhZ2VGbG9hdCB8IG51bGwge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdHMuZmluZEluZGV4KChmKSA9PlxuICAgICAgVnRyZWVJbXBsLmlzU2FtZU5vZGVQb3NpdGlvbihmLm5vZGVQb3NpdGlvbiwgbm9kZVBvc2l0aW9uKSxcbiAgICApO1xuICAgIHJldHVybiBpbmRleCA+PSAwID8gdGhpcy5mbG9hdHNbaW5kZXhdIDogbnVsbDtcbiAgfVxuXG4gIGZpbmRQYWdlRmxvYXRCeUlkKGlkOiBQYWdlRmxvYXRJRCkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdHMuZmluZEluZGV4KChmKSA9PiBmLmlkID09PSBpZCk7XG4gICAgcmV0dXJuIGluZGV4ID49IDAgPyB0aGlzLmZsb2F0c1tpbmRleF0gOiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIGNvbnRpbnVlcyBSZXByZXNlbnRzIHdoZXRoZXIgdGhlIGZsb2F0IGlzIGZyYWdtZW50ZWQgYW5kIGNvbnRpbnVlc1xuICogICAgIGFmdGVyIHRoaXMgZnJhZ21lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdEZyYWdtZW50IGltcGxlbWVudHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250aW51YXRpb25zOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXJlYTogVnRyZWUuQ29udGFpbmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250aW51ZXM6IGJvb2xlYW4sXG4gICkge31cblxuICBoYXNGbG9hdChmbG9hdDogUGFnZUZsb2F0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29udGludWF0aW9ucy5zb21lKChjKSA9PiBjLmZsb2F0ID09PSBmbG9hdCk7XG4gIH1cblxuICBmaW5kTm90QWxsb3dlZEZsb2F0KGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQpOiBQYWdlRmxvYXQgfCBudWxsIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5jb250aW51YXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBmID0gdGhpcy5jb250aW51YXRpb25zW2ldLmZsb2F0O1xuICAgICAgaWYgKCFmLmlzQWxsb3dlZE9uQ29udGV4dChjb250ZXh0KSkge1xuICAgICAgICByZXR1cm4gZjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRPdXRlclNoYXBlKCk6IEdlb21ldHJ5VXRpbC5TaGFwZSB7XG4gICAgcmV0dXJuIHRoaXMuYXJlYS5nZXRPdXRlclNoYXBlKG51bGwsIG51bGwpO1xuICB9XG5cbiAgZ2V0T3V0ZXJSZWN0KCk6IEdlb21ldHJ5VXRpbC5SZWN0IHtcbiAgICByZXR1cm4gdGhpcy5hcmVhLmdldE91dGVyUmVjdCgpO1xuICB9XG5cbiAgZ2V0T3JkZXIoKTogbnVtYmVyIHtcbiAgICBjb25zdCBmbG9hdHMgPSB0aGlzLmNvbnRpbnVhdGlvbnMubWFwKChjKSA9PiBjLmZsb2F0KTtcbiAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgZmxvYXRzLm1hcCgoZikgPT4gZi5nZXRPcmRlcigpKSxcbiAgICApO1xuICB9XG5cbiAgc2hvdWxkQmVTdGFzaGVkQmVmb3JlKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXRPcmRlcigpIDwgZmxvYXQuZ2V0T3JkZXIoKTtcbiAgfVxuXG4gIGFkZENvbnRpbnVhdGlvbnMoY29udGludWF0aW9uczogUGFnZUZsb2F0Q29udGludWF0aW9uW10pIHtcbiAgICBjb250aW51YXRpb25zLmZvckVhY2goKGMpID0+IHtcbiAgICAgIHRoaXMuY29udGludWF0aW9ucy5wdXNoKGMpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0Rmxvd05hbWUoKTogc3RyaW5nIHtcbiAgICBjb25zdCBmbG93TmFtZSA9IHRoaXMuY29udGludWF0aW9uc1swXS5mbG9hdC5mbG93TmFtZTtcbiAgICBBc3NlcnRzLmFzc2VydChcbiAgICAgIHRoaXMuY29udGludWF0aW9ucy5ldmVyeSgoYykgPT4gYy5mbG9hdC5mbG93TmFtZSA9PT0gZmxvd05hbWUpLFxuICAgICk7XG4gICAgcmV0dXJuIGZsb3dOYW1lO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRDb250aW51YXRpb24gaW1wbGVtZW50cyBQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG9hdDogUGFnZUZsb2F0LFxuICAgIHB1YmxpYyByZWFkb25seSBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKSB7fVxuXG4gIGVxdWFscyhvdGhlcjogUGFnZUZsb2F0Q29udGludWF0aW9uIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIGlmICghb3RoZXIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuZmxvYXQgPT09IG90aGVyLmZsb2F0ICYmXG4gICAgICBWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uKHRoaXMubm9kZVBvc2l0aW9uLCBvdGhlci5ub2RlUG9zaXRpb24pXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBQYWdlRmxvYXRQbGFjZW1lbnRDb25kaXRpb24gPSBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbjtcblxuLyoqXG4gKiBAcGFyYW0gZ2VuZXJhdGluZ05vZGVQb3NpdGlvbiBTb3VyY2UgTm9kZVBvc2l0aW9uIGdlbmVyYXRpbmcgdGhlIGNvbnRleHQuXG4gKiAgICAgU3BlY2lmeSB3aGVuIGEgY29sdW1uIGNvbnRleHQgaXMgZ2VuZXJhdGVkIGJ5IGEgbm9uLXJvb3QgZWxlbWVudCAoZm9yXG4gKiAgICAgZXhhbXBsZSBwYWdlIGZsb2F0cylcbiAqL1xuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdExheW91dENvbnRleHRcbiAgaW1wbGVtZW50cyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQge1xuICBwcml2YXRlIGNoaWxkcmVuOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10gPSBbXTtcbiAgd3JpdGluZ01vZGU6IENzcy5WYWw7XG4gIGRpcmVjdGlvbjogQ3NzLlZhbDtcbiAgcHJpdmF0ZSBpbnZhbGlkYXRlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIGZsb2F0U3RvcmU6IFBhZ2VGbG9hdFN0b3JlO1xuICBwcml2YXRlIGZvcmJpZGRlbkZsb2F0czogUGFnZUZsb2F0SURbXSA9IFtdO1xuICBmbG9hdEZyYWdtZW50czogUGFnZUZsb2F0RnJhZ21lbnRbXSA9IFtdO1xuICBwcml2YXRlIHN0YXNoZWRGbG9hdEZyYWdtZW50czogUGFnZUZsb2F0RnJhZ21lbnRbXSA9IFtdO1xuICBwcml2YXRlIGZsb2F0QW5jaG9yczogeyBba2V5IGluIFBhZ2VGbG9hdElEXTogTm9kZSB9ID0ge307XG4gIHByaXZhdGUgZmxvYXRzRGVmZXJyZWRUb05leHQ6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdID0gW107XG4gIHByaXZhdGUgZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdO1xuICBwcml2YXRlIGxheW91dENvbnN0cmFpbnRzOiBMYXlvdXRUeXBlLkxheW91dENvbnN0cmFpbnRbXSA9IFtdO1xuICBwcml2YXRlIGxvY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwYXJlbnQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UgfCBudWxsLFxuICAgIHByaXZhdGUgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb3dOYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24gfCBudWxsLFxuICAgIHdyaXRpbmdNb2RlOiBDc3MuVmFsIHwgbnVsbCxcbiAgICBkaXJlY3Rpb246IENzcy5WYWwgfCBudWxsLFxuICApIHtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICB9XG4gICAgdGhpcy53cml0aW5nTW9kZSA9XG4gICAgICB3cml0aW5nTW9kZSB8fCAocGFyZW50ICYmIHBhcmVudC53cml0aW5nTW9kZSkgfHwgQ3NzLmlkZW50Lmhvcml6b250YWxfdGI7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgKHBhcmVudCAmJiBwYXJlbnQuZGlyZWN0aW9uKSB8fCBDc3MuaWRlbnQubHRyO1xuICAgIHRoaXMuZmxvYXRTdG9yZSA9IHBhcmVudCA/IHBhcmVudC5mbG9hdFN0b3JlIDogbmV3IFBhZ2VGbG9hdFN0b3JlKCk7XG4gICAgY29uc3QgcHJldmlvdXNTaWJsaW5nID0gdGhpcy5nZXRQcmV2aW91c1NpYmxpbmcoKTtcbiAgICB0aGlzLmZsb2F0c0RlZmVycmVkRnJvbVByZXZpb3VzID0gcHJldmlvdXNTaWJsaW5nXG4gICAgICA/IFtdLmNvbmNhdChwcmV2aW91c1NpYmxpbmcuZmxvYXRzRGVmZXJyZWRUb05leHQpXG4gICAgICA6IFtdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IGZvciAke2Zsb2F0UmVmZXJlbmNlfWApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICBwcml2YXRlIGdldFByZXZpb3VzU2libGluZ09mKFxuICAgIGNoaWxkOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0IHwgbnVsbCxcbiAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UgfCBudWxsLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGdlbmVyYXRpbmdOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwsXG4gICk6IFBhZ2VGbG9hdExheW91dENvbnRleHQgfCBudWxsIHtcbiAgICBsZXQgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQgYXMgUGFnZUZsb2F0TGF5b3V0Q29udGV4dCk7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IGluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGxldCByZXN1bHQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKFxuICAgICAgICByZXN1bHQuZmxvYXRSZWZlcmVuY2UgPT09IGZsb2F0UmVmZXJlbmNlICYmXG4gICAgICAgIHJlc3VsdC5mbG93TmFtZSA9PT0gZmxvd05hbWUgJiZcbiAgICAgICAgVnRyZWVJbXBsLmlzU2FtZU5vZGVQb3NpdGlvbihcbiAgICAgICAgICByZXN1bHQuZ2VuZXJhdGluZ05vZGVQb3NpdGlvbixcbiAgICAgICAgICBnZW5lcmF0aW5nTm9kZVBvc2l0aW9uLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5nZXRQcmV2aW91c1NpYmxpbmdPZihcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgICAgIGZsb3dOYW1lLFxuICAgICAgICAgIGdlbmVyYXRpbmdOb2RlUG9zaXRpb24sXG4gICAgICAgICk7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcmV2aW91c1NpYmxpbmcoKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB8IG51bGwge1xuICAgIGxldCBjaGlsZDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IHRoaXM7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgIGxldCByZXN1bHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgcmVzdWx0ID0gcGFyZW50LmdldFByZXZpb3VzU2libGluZ09mKFxuICAgICAgICBjaGlsZCxcbiAgICAgICAgdGhpcy5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgdGhpcy5mbG93TmFtZSxcbiAgICAgICAgdGhpcy5nZW5lcmF0aW5nTm9kZVBvc2l0aW9uLFxuICAgICAgKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gcGFyZW50O1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRDb250YWluZXIoZmxvYXRSZWZlcmVuY2U/OiBGbG9hdFJlZmVyZW5jZSk6IFZ0cmVlLkNvbnRhaW5lciB7XG4gICAgaWYgKCFmbG9hdFJlZmVyZW5jZSB8fCBmbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZSk7XG4gIH1cblxuICBzZXRDb250YWluZXIoY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIpIHtcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICB0aGlzLnJlYXR0YWNoRmxvYXRGcmFnbWVudHMoKTtcbiAgfVxuXG4gIGFkZFBhZ2VGbG9hdChmbG9hdDogUGFnZUZsb2F0KSB7XG4gICAgdGhpcy5mbG9hdFN0b3JlLmFkZFBhZ2VGbG9hdChmbG9hdCk7XG4gIH1cblxuICBnZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgKTogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgKTtcbiAgfVxuXG4gIGZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbihcbiAgICBub2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKTogUGFnZUZsb2F0IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZmxvYXRTdG9yZS5maW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24obm9kZVBvc2l0aW9uKTtcbiAgfVxuXG4gIHByaXZhdGUgZm9yYmlkKGZsb2F0OiBQYWdlRmxvYXQpIHtcbiAgICBjb25zdCBpZCA9IGZsb2F0LmdldElkKCk7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGlmICghdGhpcy5mb3JiaWRkZW5GbG9hdHMuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgIHRoaXMuZm9yYmlkZGVuRmxvYXRzLnB1c2goaWQpO1xuICAgICAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyKCkuZmluZEJ5RmxvYXQoXG4gICAgICAgICAgZmxvYXQsXG4gICAgICAgICk7XG4gICAgICAgIHN0cmF0ZWd5LmZvcmJpZChmbG9hdCwgdGhpcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHBhcmVudC5mb3JiaWQoZmxvYXQpO1xuICAgIH1cbiAgfVxuXG4gIGlzRm9yYmlkZGVuKGZsb2F0OiBQYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICBjb25zdCBpZCA9IGZsb2F0LmdldElkKCk7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmZvcmJpZGRlbkZsb2F0cy5pbmNsdWRlcyhpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybiBwYXJlbnQuaXNGb3JiaWRkZW4oZmxvYXQpO1xuICAgIH1cbiAgfVxuXG4gIGFkZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGZsb2F0RnJhZ21lbnQ6IFBhZ2VGbG9hdEZyYWdtZW50LFxuICAgIGRvbnRJbnZhbGlkYXRlPzogYm9vbGVhbixcbiAgKSB7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdEZyYWdtZW50LmZsb2F0UmVmZXJlbmNlO1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcGFyZW50LmFkZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0RnJhZ21lbnQsIGRvbnRJbnZhbGlkYXRlKTtcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmZsb2F0RnJhZ21lbnRzLmluY2x1ZGVzKGZsb2F0RnJhZ21lbnQpKSB7XG4gICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLnB1c2goZmxvYXRGcmFnbWVudCk7XG4gICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLnNvcnQoKGZyMSwgZnIyKSA9PiBmcjEuZ2V0T3JkZXIoKSAtIGZyMi5nZXRPcmRlcigpKTtcbiAgICB9XG4gICAgaWYgKCFkb250SW52YWxpZGF0ZSkge1xuICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgZmxvYXRGcmFnbWVudDogUGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgZG9udEludmFsaWRhdGU/OiBib29sZWFuLFxuICApIHtcbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9IGZsb2F0RnJhZ21lbnQuZmxvYXRSZWZlcmVuY2U7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSk7XG4gICAgICBwYXJlbnQucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXRGcmFnbWVudCwgZG9udEludmFsaWRhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuZmxvYXRGcmFnbWVudHMuaW5kZXhPZihmbG9hdEZyYWdtZW50KTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mbG9hdEZyYWdtZW50cy5zcGxpY2UoaW5kZXgsIDEpWzBdO1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZnJhZ21lbnQuYXJlYSAmJiBmcmFnbWVudC5hcmVhLmVsZW1lbnQ7XG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvbnRJbnZhbGlkYXRlKSB7XG4gICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCB7XG4gICAgaWYgKGZsb2F0LmZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudChmbG9hdC5mbG9hdFJlZmVyZW5jZSk7XG4gICAgICByZXR1cm4gcGFyZW50LmZpbmRQYWdlRmxvYXRGcmFnbWVudChmbG9hdCk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5mbG9hdEZyYWdtZW50cy5maW5kSW5kZXgoKGYpID0+IGYuaGFzRmxvYXQoZmxvYXQpKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmxvYXRGcmFnbWVudHNbaW5kZXhdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBoYXNGbG9hdEZyYWdtZW50cyhjb25kaXRpb24/OiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50KSA9PiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuZmxvYXRGcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKCFjb25kaXRpb24gfHwgdGhpcy5mbG9hdEZyYWdtZW50cy5zb21lKGNvbmRpdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50Lmhhc0Zsb2F0RnJhZ21lbnRzKGNvbmRpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBoYXNDb250aW51aW5nRmxvYXRGcmFnbWVudHNJbkZsb3coZmxvd05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmhhc0Zsb2F0RnJhZ21lbnRzKFxuICAgICAgKGZyYWdtZW50KSA9PiBmcmFnbWVudC5jb250aW51ZXMgJiYgZnJhZ21lbnQuZ2V0Rmxvd05hbWUoKSA9PT0gZmxvd05hbWUsXG4gICAgKTtcbiAgfVxuXG4gIHJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0OiBQYWdlRmxvYXQsIGFuY2hvclZpZXdOb2RlOiBOb2RlKSB7XG4gICAgdGhpcy5mbG9hdEFuY2hvcnNbZmxvYXQuZ2V0SWQoKV0gPSBhbmNob3JWaWV3Tm9kZTtcbiAgfVxuXG4gIGNvbGxlY3RQYWdlRmxvYXRBbmNob3JzKCkge1xuICAgIGNvbnN0IGFuY2hvcnMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmZsb2F0QW5jaG9ycyk7XG4gICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4ucmVkdWNlKFxuICAgICAgKHByZXYsIGNoaWxkKSA9PiBPYmplY3QuYXNzaWduKHByZXYsIGNoaWxkLmNvbGxlY3RQYWdlRmxvYXRBbmNob3JzKCkpLFxuICAgICAgYW5jaG9ycyxcbiAgICApO1xuICB9XG5cbiAgaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQoZmxvYXRJZDogUGFnZUZsb2F0SUQpIHtcbiAgICBjb25zdCBkZWZlcnJlZEZsb2F0cyA9IHRoaXMuZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKCk7XG4gICAgaWYgKGRlZmVycmVkRmxvYXRzLnNvbWUoKGNvbnQpID0+IGNvbnQuZmxvYXQuZ2V0SWQoKSA9PT0gZmxvYXRJZCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBmbG9hdEFuY2hvcnMgPSB0aGlzLmNvbGxlY3RQYWdlRmxvYXRBbmNob3JzKCk7XG4gICAgY29uc3QgYW5jaG9yVmlld05vZGUgPSBmbG9hdEFuY2hvcnNbZmxvYXRJZF07XG4gICAgaWYgKCFhbmNob3JWaWV3Tm9kZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb250YWluZXIgJiYgdGhpcy5jb250YWluZXIuZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmVsZW1lbnQuY29udGFpbnMoYW5jaG9yVmlld05vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWZlclBhZ2VGbG9hdChjb250aW51YXRpb246IFBhZ2VGbG9hdENvbnRpbnVhdGlvbikge1xuICAgIGNvbnN0IGZsb2F0ID0gY29udGludWF0aW9uLmZsb2F0O1xuICAgIGlmIChmbG9hdC5mbG9hdFJlZmVyZW5jZSA9PT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LmZpbmRJbmRleChcbiAgICAgICAgKGMpID0+IGMuZmxvYXQgPT09IGZsb2F0LFxuICAgICAgKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuc3BsaWNlKGluZGV4LCAxLCBjb250aW51YXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5wdXNoKGNvbnRpbnVhdGlvbik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHBhcmVudC5kZWZlclBhZ2VGbG9hdChjb250aW51YXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIGhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KFxuICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgaWdub3JlUmVmZXJlbmNlPzogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFpZ25vcmVSZWZlcmVuY2UgJiYgZmxvYXQuZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudChcbiAgICAgICAgZmxvYXQuZmxvYXRSZWZlcmVuY2UsXG4gICAgICApLmhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KGZsb2F0LCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbnN0IG9yZGVyID0gZmxvYXQuZ2V0T3JkZXIoKTtcbiAgICBjb25zdCBoYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dCA9IHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuc29tZShcbiAgICAgIChjKSA9PiBjLmZsb2F0LmdldE9yZGVyKCkgPCBvcmRlciAmJiAhZmxvYXQuaXNBbGxvd2VkVG9QcmVjZWRlKGMuZmxvYXQpLFxuICAgICk7XG4gICAgaWYgKGhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQoZmxvYXQsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdCB8IG51bGwge1xuICAgIGNvbnN0IG9yZGVyID0gZmxvYXQuZ2V0T3JkZXIoKTtcbiAgICBsZXQgbGFzdEZvbGxvd2luZzogUGFnZUZsb2F0ID0gbnVsbDtcbiAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICBmcmFnbWVudC5jb250aW51YXRpb25zLmZvckVhY2goKGMpID0+IHtcbiAgICAgICAgY29uc3QgZiA9IGMuZmxvYXQ7XG4gICAgICAgIGNvbnN0IG8gPSBmLmdldE9yZGVyKCk7XG4gICAgICAgIGlmIChvID4gb3JkZXIgJiYgKCFsYXN0Rm9sbG93aW5nIHx8IG8gPiBsYXN0Rm9sbG93aW5nLmdldE9yZGVyKCkpKSB7XG4gICAgICAgICAgbGFzdEZvbGxvd2luZyA9IGY7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgY29uc3QgbGFzdEZvbGxvd2luZ09mUGFyZW50ID0gdGhpcy5wYXJlbnQuZ2V0TGFzdEZvbGxvd2luZ0Zsb2F0SW5GcmFnbWVudHMoXG4gICAgICAgIGZsb2F0LFxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgbGFzdEZvbGxvd2luZ09mUGFyZW50ICYmXG4gICAgICAgICghbGFzdEZvbGxvd2luZyB8fFxuICAgICAgICAgIGxhc3RGb2xsb3dpbmdPZlBhcmVudC5nZXRPcmRlcigpID4gbGFzdEZvbGxvd2luZy5nZXRPcmRlcigpKVxuICAgICAgKSB7XG4gICAgICAgIGxhc3RGb2xsb3dpbmcgPSBsYXN0Rm9sbG93aW5nT2ZQYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsYXN0Rm9sbG93aW5nO1xuICB9XG5cbiAgZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKFxuICAgIGZsb3dOYW1lPzogc3RyaW5nIHwgbnVsbCxcbiAgKTogUGFnZUZsb2F0Q29udGludWF0aW9uW10ge1xuICAgIGZsb3dOYW1lID0gZmxvd05hbWUgfHwgdGhpcy5mbG93TmFtZTtcbiAgICBsZXQgcmVzdWx0ID0gdGhpcy5mbG9hdHNEZWZlcnJlZEZyb21QcmV2aW91cy5maWx0ZXIoXG4gICAgICAoY29udCkgPT4gIWZsb3dOYW1lIHx8IGNvbnQuZmxvYXQuZmxvd05hbWUgPT09IGZsb3dOYW1lLFxuICAgICk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXN1bHQgPSB0aGlzLnBhcmVudFxuICAgICAgICAuZ2V0RGVmZXJyZWRQYWdlRmxvYXRDb250aW51YXRpb25zKGZsb3dOYW1lKVxuICAgICAgICAuY29uY2F0KHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuc29ydCgoYzEsIGMyKSA9PiBjMS5mbG9hdC5nZXRPcmRlcigpIC0gYzIuZmxvYXQuZ2V0T3JkZXIoKSk7XG4gIH1cblxuICBnZXRQYWdlRmxvYXRDb250aW51YXRpb25zRGVmZXJyZWRUb05leHQoXG4gICAgZmxvd05hbWU/OiBzdHJpbmcgfCBudWxsLFxuICApOiBQYWdlRmxvYXRDb250aW51YXRpb25bXSB7XG4gICAgZmxvd05hbWUgPSBmbG93TmFtZSB8fCB0aGlzLmZsb3dOYW1lO1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQuZmlsdGVyKFxuICAgICAgKGNvbnQpID0+ICFmbG93TmFtZSB8fCBjb250LmZsb2F0LmZsb3dOYW1lID09PSBmbG93TmFtZSxcbiAgICApO1xuICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50XG4gICAgICAgIC5nZXRQYWdlRmxvYXRDb250aW51YXRpb25zRGVmZXJyZWRUb05leHQoZmxvd05hbWUpXG4gICAgICAgIC5jb25jYXQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBnZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpOiBQYWdlRmxvYXRbXSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGNvbnN0IGRvbmUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGRvbmUuaW5jbHVkZXMoY2hpbGQuZmxvd05hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgZG9uZS5wdXNoKGNoaWxkLmZsb3dOYW1lKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoY2hpbGQuZmxvYXRzRGVmZXJyZWRUb05leHQubWFwKChjKSA9PiBjLmZsb2F0KSk7XG4gICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KGNoaWxkLmdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzKCkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgY2hlY2tBbmRGb3JiaWROb3RBbGxvd2VkRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuY2hlY2tBbmRGb3JiaWRGbG9hdEZvbGxvd2luZ0RlZmVycmVkRmxvYXQoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmxvYXRGcmFnbWVudHNbaV07XG4gICAgICBjb25zdCBub3RBbGxvd2VkRmxvYXQgPSBmcmFnbWVudC5maW5kTm90QWxsb3dlZEZsb2F0KHRoaXMpO1xuICAgICAgaWYgKG5vdEFsbG93ZWRGbG9hdCkge1xuICAgICAgICBpZiAodGhpcy5sb2NrZWQpIHtcbiAgICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZVBhZ2VGbG9hdEZyYWdtZW50KGZyYWdtZW50KTtcbiAgICAgICAgICB0aGlzLmZvcmJpZChub3RBbGxvd2VkRmxvYXQpO1xuXG4gICAgICAgICAgLy8gSWYgdGhlIHJlbW92ZWQgZmxvYXQgaXMgYSBibG9jay1lbmQvaW5saW5lLWVuZCBmbG9hdCxcbiAgICAgICAgICAvLyB3ZSBzaG91bGQgcmUtbGF5b3V0IHByZWNlZGluZyBmbG9hdHMgd2l0aCB0aGUgc2FtZSBmbG9hdCBkaXJlY3Rpb24uXG4gICAgICAgICAgdGhpcy5yZW1vdmVFbmRGbG9hdEZyYWdtZW50cyhmcmFnbWVudC5mbG9hdFNpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5mbG9hdFJlZmVyZW5jZSA9PT0gRmxvYXRSZWZlcmVuY2UuUkVHSU9OICYmIHRoaXMucGFyZW50LmxvY2tlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNoZWNrQW5kRm9yYmlkTm90QWxsb3dlZEZsb2F0KCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNoZWNrQW5kRm9yYmlkRmxvYXRGb2xsb3dpbmdEZWZlcnJlZEZsb2F0KCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGRlZmVycmVkRmxvYXRzID0gdGhpcy5nZXRGbG9hdHNEZWZlcnJlZFRvTmV4dEluQ2hpbGRDb250ZXh0cygpO1xuICAgIGNvbnN0IGZsb2F0c0luRnJhZ21lbnRzID0gdGhpcy5mbG9hdEZyYWdtZW50cy5yZWR1Y2UoXG4gICAgICAociwgZnIpID0+IHIuY29uY2F0KGZyLmNvbnRpbnVhdGlvbnMubWFwKChjKSA9PiBjLmZsb2F0KSksXG4gICAgICBbXSxcbiAgICApO1xuICAgIGZsb2F0c0luRnJhZ21lbnRzLnNvcnQoKGYxLCBmMikgPT4gZjIuZ2V0T3JkZXIoKSAtIGYxLmdldE9yZGVyKCkpO1xuICAgIGZvciAoY29uc3QgZmxvYXQgb2YgZmxvYXRzSW5GcmFnbWVudHMpIHtcbiAgICAgIGNvbnN0IG9yZGVyID0gZmxvYXQuZ2V0T3JkZXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgZGVmZXJyZWRGbG9hdHMuc29tZShcbiAgICAgICAgICAoZCkgPT4gIWZsb2F0LmlzQWxsb3dlZFRvUHJlY2VkZShkKSAmJiBvcmRlciA+IGQuZ2V0T3JkZXIoKSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2tlZCkge1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZm9yYmlkKGZsb2F0KTtcbiAgICAgICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmluZFBhZ2VGbG9hdEZyYWdtZW50KGZsb2F0KTtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChmcmFnbWVudCk7XG4gICAgICAgICAgdGhpcy5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZpbmlzaCgpIHtcbiAgICBpZiAodGhpcy5jaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0W2ldO1xuICAgICAgaWYgKCFjb250aW51YXRpb24uZmxvYXQuaXNBbGxvd2VkT25Db250ZXh0KHRoaXMpKSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2tlZCkge1xuICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsb2F0c0RlZmVycmVkVG9OZXh0LnNwbGljZShpLCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5mbG9hdHNEZWZlcnJlZEZyb21QcmV2aW91cy5mb3JFYWNoKChjb250aW51YXRpb24pID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5mbG9hdHNEZWZlcnJlZFRvTmV4dC5maW5kSW5kZXgoKGMpID0+IGNvbnRpbnVhdGlvbi5lcXVhbHMoYykpID49IDBcbiAgICAgICkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5mbG9hdEZyYWdtZW50cy5zb21lKChmKSA9PiBmLmhhc0Zsb2F0KGNvbnRpbnVhdGlvbi5mbG9hdCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZmxvYXRzRGVmZXJyZWRUb05leHQucHVzaChjb250aW51YXRpb24pO1xuICAgIH0pO1xuICB9XG5cbiAgaGFzU2FtZUNvbnRhaW5lckFzKG90aGVyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgICEhdGhpcy5jb250YWluZXIgJiZcbiAgICAgICEhb3RoZXIuY29udGFpbmVyICYmXG4gICAgICB0aGlzLmNvbnRhaW5lci5lbGVtZW50ID09PSBvdGhlci5jb250YWluZXIuZWxlbWVudFxuICAgICk7XG4gIH1cblxuICBpbnZhbGlkYXRlKCkge1xuICAgIHRoaXMuaW52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLmxvY2tlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb250YWluZXIpIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgICAgLy8gU2luY2UgdGhlIHNhbWUgY29udGFpbmVyIGVsZW1lbnQgaXMgc2hhcmVkIGJ5IGEgcmVnaW9uIHBhZ2UgZmxvYXRcbiAgICAgICAgLy8gbGF5b3V0IGNvbnRleHQgYW5kIGEgY29sdW1uIHBhZ2UgZmxvYXQgbGF5b3V0IGNvbnRleHQgaW4gYSBzaW5nbGVcbiAgICAgICAgLy8gY29sdW1uIHJlZ2lvbiwgdmlldyBlbGVtZW50cyBvZiBmbG9hdCBmcmFnbWVudHMgb2YgdGhlIGNoaWxkIChjb2x1bW4pXG4gICAgICAgIC8vIGNvbnRleHQgbmVlZCB0byBiZSByZW1vdmVkIGhlcmUuXG4gICAgICAgIGlmICh0aGlzLmhhc1NhbWVDb250YWluZXJBcyhjaGlsZCkpIHtcbiAgICAgICAgICBjaGlsZC5mbG9hdEZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGZyYWdtZW50LmFyZWEuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5jb250YWluZXIuY2xlYXIoKTtcbiAgICB9XG4gICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgY2hpbGQubGF5b3V0Q29uc3RyYWludHMuc3BsaWNlKDApO1xuICAgIH0pO1xuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKDApO1xuICAgIE9iamVjdC5rZXlzKHRoaXMuZmxvYXRBbmNob3JzKS5mb3JFYWNoKChrKSA9PiB7XG4gICAgICBkZWxldGUgdGhpcy5mbG9hdEFuY2hvcnNba107XG4gICAgfSk7XG4gIH1cblxuICBkZXRhY2hDaGlsZHJlbigpOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0W10ge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoMCk7XG4gICAgY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICAgIGNoaWxkLmZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBmcmFnbWVudC5hcmVhLmVsZW1lbnQ7XG4gICAgICAgIGlmIChlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG5cbiAgYXR0YWNoQ2hpbGRyZW4oY2hpbGRyZW46IFBhZ2VGbG9hdExheW91dENvbnRleHRbXSkge1xuICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgY2hpbGQucmVhdHRhY2hGbG9hdEZyYWdtZW50cygpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNJbnZhbGlkYXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnZhbGlkYXRlZCB8fCAoISF0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC5pc0ludmFsaWRhdGVkKCkpO1xuICB9XG5cbiAgdmFsaWRhdGUoKSB7XG4gICAgdGhpcy5pbnZhbGlkYXRlZCA9IGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSB0b0xvZ2ljYWwoc2lkZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IHRoaXMud3JpdGluZ01vZGUudG9TdHJpbmcoKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbi50b1N0cmluZygpO1xuICAgIHJldHVybiBDc3NMb2dpY2FsVXRpbC50b0xvZ2ljYWwoc2lkZSwgd3JpdGluZ01vZGUsIGRpcmVjdGlvbik7XG4gIH1cblxuICBwcml2YXRlIHRvUGh5c2ljYWwoc2lkZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IHRoaXMud3JpdGluZ01vZGUudG9TdHJpbmcoKTtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLmRpcmVjdGlvbi50b1N0cmluZygpO1xuICAgIHJldHVybiBDc3NMb2dpY2FsVXRpbC50b1BoeXNpY2FsKHNpZGUsIHdyaXRpbmdNb2RlLCBkaXJlY3Rpb24pO1xuICB9XG5cbiAgcmVtb3ZlRW5kRmxvYXRGcmFnbWVudHMoZmxvYXRTaWRlOiBzdHJpbmcpIHtcbiAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZmxvYXRTaWRlKTtcbiAgICBpZiAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIiB8fCBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1lbmRcIikge1xuICAgICAgbGV0IGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCB0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IHRoaXMuZmxvYXRGcmFnbWVudHNbaV07XG4gICAgICAgIGNvbnN0IGxvZ2ljYWxGbG9hdFNpZGUyID0gdGhpcy50b0xvZ2ljYWwoZnJhZ21lbnQuZmxvYXRTaWRlKTtcbiAgICAgICAgaWYgKGxvZ2ljYWxGbG9hdFNpZGUyID09PSBsb2dpY2FsRmxvYXRTaWRlKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVQYWdlRmxvYXRGcmFnbWVudChmcmFnbWVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3Rhc2hFbmRGbG9hdEZyYWdtZW50cyhmbG9hdDogUGFnZUZsb2F0KSB7XG4gICAgY29uc3QgZmxvYXRSZWZlcmVuY2UgPSBmbG9hdC5mbG9hdFJlZmVyZW5jZTtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKS5zdGFzaEVuZEZsb2F0RnJhZ21lbnRzKGZsb2F0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbG9naWNhbEZsb2F0U2lkZSA9IHRoaXMudG9Mb2dpY2FsKGZsb2F0LmZsb2F0U2lkZSk7XG4gICAgaWYgKFxuICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIiB8fFxuICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIgfHxcbiAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLWVuZFwiXG4gICAgKSB7XG4gICAgICBsZXQgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHRoaXMuZmxvYXRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gdGhpcy5mbG9hdEZyYWdtZW50c1tpXTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRGbG9hdFNpZGUgPSB0aGlzLnRvTG9naWNhbChmcmFnbWVudC5mbG9hdFNpZGUpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKGZyYWdtZW50RmxvYXRTaWRlID09PSBsb2dpY2FsRmxvYXRTaWRlIHx8XG4gICAgICAgICAgICAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIgJiZcbiAgICAgICAgICAgICAgZnJhZ21lbnRGbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIpKSAmJlxuICAgICAgICAgIGZyYWdtZW50LnNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHMucHVzaChmcmFnbWVudCk7XG4gICAgICAgICAgdGhpcy5mbG9hdEZyYWdtZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVzdG9yZVN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlKSB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlICE9PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkucmVzdG9yZVN0YXNoZWRGcmFnbWVudHMoZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXNoZWRGbG9hdEZyYWdtZW50cy5mb3JFYWNoKChzdGFzaGVkKSA9PiB7XG4gICAgICB0aGlzLmFkZFBhZ2VGbG9hdEZyYWdtZW50KHN0YXNoZWQsIHRydWUpO1xuICAgIH0pO1xuICAgIHRoaXMuc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLnNwbGljZSgwKTtcbiAgfVxuXG4gIGRpc2NhcmRTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSkge1xuICAgIGlmIChmbG9hdFJlZmVyZW5jZSAhPT0gdGhpcy5mbG9hdFJlZmVyZW5jZSkge1xuICAgICAgdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmRpc2NhcmRTdGFzaGVkRnJhZ21lbnRzKGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHMuc3BsaWNlKDApO1xuICB9XG5cbiAgZ2V0U3Rhc2hlZEZsb2F0RnJhZ21lbnRzKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBGbG9hdFJlZmVyZW5jZSxcbiAgKTogUGFnZUZsb2F0RnJhZ21lbnRbXSB7XG4gICAgaWYgKGZsb2F0UmVmZXJlbmNlID09PSB0aGlzLmZsb2F0UmVmZXJlbmNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5zdGFzaGVkRmxvYXRGcmFnbWVudHNcbiAgICAgICAgLmNvbmNhdCgpXG4gICAgICAgIC5zb3J0KChmcjEsIGZyMikgPT4gZnIyLmdldE9yZGVyKCkgLSBmcjEuZ2V0T3JkZXIoKSk7IC8vIHJldHVybiBpbiByZXZlcnNlIG9yZGVyXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFBhcmVudChmbG9hdFJlZmVyZW5jZSkuZ2V0U3Rhc2hlZEZsb2F0RnJhZ21lbnRzKFxuICAgICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRMaW1pdFZhbHVlKFxuICAgIHNpZGU6IHN0cmluZyxcbiAgICBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIGNvbmRpdGlvbj86IChwMTogUGFnZUZsb2F0RnJhZ21lbnQsIHAyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KSA9PiBib29sZWFuLFxuICApOiBudW1iZXIge1xuICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuY29udGFpbmVyKTtcbiAgICBjb25zdCBsb2dpY2FsU2lkZSA9IHRoaXMudG9Mb2dpY2FsKHNpZGUpO1xuICAgIGNvbnN0IHBoeXNpY2FsU2lkZSA9IHRoaXMudG9QaHlzaWNhbChzaWRlKTtcbiAgICBjb25zdCBsaW1pdCA9IHRoaXMuZ2V0TGltaXRWYWx1ZUlubmVyKFxuICAgICAgbG9naWNhbFNpZGUsXG4gICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgY29uZGl0aW9uLFxuICAgICk7XG4gICAgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMucGFyZW50LmNvbnRhaW5lcikge1xuICAgICAgY29uc3QgcGFyZW50TGltaXQgPSB0aGlzLnBhcmVudC5nZXRMaW1pdFZhbHVlKFxuICAgICAgICBwaHlzaWNhbFNpZGUsXG4gICAgICAgIGxheW91dENvbnRleHQsXG4gICAgICAgIGNsaWVudExheW91dCxcbiAgICAgICAgY29uZGl0aW9uLFxuICAgICAgKTtcbiAgICAgIHN3aXRjaCAocGh5c2ljYWxTaWRlKSB7XG4gICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgobGltaXQsIHBhcmVudExpbWl0KTtcbiAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgobGltaXQsIHBhcmVudExpbWl0KTtcbiAgICAgICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgICAgIHJldHVybiBNYXRoLm1pbihsaW1pdCwgcGFyZW50TGltaXQpO1xuICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4obGltaXQsIHBhcmVudExpbWl0KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBBc3NlcnRzLmZhaWwoXCJTaG91bGQgYmUgdW5yZWFjaGFibGVcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaW1pdDtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGltaXRWYWx1ZUlubmVyKFxuICAgIGxvZ2ljYWxTaWRlOiBzdHJpbmcsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBjb25kaXRpb24/OiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50LCBwMjogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCkgPT4gYm9vbGVhbixcbiAgKTogbnVtYmVyIHtcbiAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmNvbnRhaW5lcik7XG4gICAgY29uc3QgbGltaXRzID0gdGhpcy5nZXRMaW1pdFZhbHVlc0lubmVyKFxuICAgICAgbGF5b3V0Q29udGV4dCxcbiAgICAgIGNsaWVudExheW91dCxcbiAgICAgIGNvbmRpdGlvbixcbiAgICApO1xuICAgIHN3aXRjaCAobG9naWNhbFNpZGUpIHtcbiAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIudmVydGljYWwgPyBsaW1pdHMucmlnaHQgOiBsaW1pdHMudG9wO1xuICAgICAgY2FzZSBcImJsb2NrLWVuZFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIudmVydGljYWwgPyBsaW1pdHMubGVmdCA6IGxpbWl0cy5ib3R0b207XG4gICAgICBjYXNlIFwiaW5saW5lLXN0YXJ0XCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGxpbWl0cy50b3AgOiBsaW1pdHMubGVmdDtcbiAgICAgIGNhc2UgXCJpbmxpbmUtZW5kXCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci52ZXJ0aWNhbCA/IGxpbWl0cy5ib3R0b20gOiBsaW1pdHMucmlnaHQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbG9naWNhbCBzaWRlOiAke2xvZ2ljYWxTaWRlfWApO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0TGltaXRWYWx1ZXNJbm5lcihcbiAgICBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIGNvbmRpdGlvbj86IChwMTogUGFnZUZsb2F0RnJhZ21lbnQsIHAyOiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0KSA9PiBib29sZWFuLFxuICApOiB7XG4gICAgdG9wOiBudW1iZXI7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIGJvdHRvbTogbnVtYmVyO1xuICAgIHJpZ2h0OiBudW1iZXI7XG4gICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydDogbnVtYmVyO1xuICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kOiBudW1iZXI7XG4gIH0ge1xuICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuY29udGFpbmVyKTtcbiAgICBjb25zdCBvZmZzZXRYID0gdGhpcy5jb250YWluZXIub3JpZ2luWDtcbiAgICBjb25zdCBvZmZzZXRZID0gdGhpcy5jb250YWluZXIub3JpZ2luWTtcbiAgICBjb25zdCBwYWRkaW5nUmVjdCA9IHRoaXMuY29udGFpbmVyLmdldFBhZGRpbmdSZWN0KCk7XG4gICAgbGV0IGxpbWl0cyA9IHtcbiAgICAgIHRvcDogcGFkZGluZ1JlY3QueTEgLSBvZmZzZXRZLFxuICAgICAgbGVmdDogcGFkZGluZ1JlY3QueDEgLSBvZmZzZXRYLFxuICAgICAgYm90dG9tOiBwYWRkaW5nUmVjdC55MiAtIG9mZnNldFksXG4gICAgICByaWdodDogcGFkZGluZ1JlY3QueDIgLSBvZmZzZXRYLFxuICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydDogMCxcbiAgICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kOiAwLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShudW1lcmljLCB2aWV3Tm9kZSwgY29udGFpbmVyTGVuZ3RoKSB7XG4gICAgICBpZiAobnVtZXJpYy51bml0ID09PSBcIiVcIikge1xuICAgICAgICByZXR1cm4gKGNvbnRhaW5lckxlbmd0aCAqIG51bWVyaWMubnVtKSAvIDEwMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBsYXlvdXRDb250ZXh0LmNvbnZlcnRMZW5ndGhUb1B4KG51bWVyaWMsIHZpZXdOb2RlLCBjbGllbnRMYXlvdXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmcmFnbWVudHMgPSB0aGlzLmZsb2F0RnJhZ21lbnRzO1xuICAgIGlmIChmcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgbGltaXRzID0gZnJhZ21lbnRzLnJlZHVjZSgobCwgZikgPT4ge1xuICAgICAgICBpZiAoY29uZGl0aW9uICYmICFjb25kaXRpb24oZiwgdGhpcykpIHtcbiAgICAgICAgICByZXR1cm4gbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZi5mbG9hdFNpZGUpO1xuICAgICAgICBjb25zdCBhcmVhID0gZi5hcmVhO1xuICAgICAgICBjb25zdCBmbG9hdE1pbldyYXBCbG9jayA9IGYuY29udGludWF0aW9uc1swXS5mbG9hdC5mbG9hdE1pbldyYXBCbG9jaztcbiAgICAgICAgbGV0IHRvcCA9IGwudG9wO1xuICAgICAgICBsZXQgbGVmdCA9IGwubGVmdDtcbiAgICAgICAgbGV0IGJvdHRvbSA9IGwuYm90dG9tO1xuICAgICAgICBsZXQgcmlnaHQgPSBsLnJpZ2h0O1xuICAgICAgICBsZXQgZmxvYXRNaW5XcmFwQmxvY2tTdGFydCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tTdGFydDtcbiAgICAgICAgbGV0IGZsb2F0TWluV3JhcEJsb2NrRW5kID0gbC5mbG9hdE1pbldyYXBCbG9ja0VuZDtcbiAgICAgICAgc3dpdGNoIChsb2dpY2FsRmxvYXRTaWRlKSB7XG4gICAgICAgICAgY2FzZSBcImlubGluZS1zdGFydFwiOlxuICAgICAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgodG9wLCBhcmVhLnRvcCArIGFyZWEuaGVpZ2h0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heChsZWZ0LCBhcmVhLmxlZnQgKyBhcmVhLndpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICAgICAgaWYgKGZsb2F0TWluV3JhcEJsb2NrICYmIGFyZWEubGVmdCA8IHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydCA9IHJlc29sdmVMZW5ndGhQZXJjZW50YWdlKFxuICAgICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2ssXG4gICAgICAgICAgICAgICAgICAoYXJlYSBhcyBhbnkpLnJvb3RWaWV3Tm9kZXNbMF0sXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nUmVjdC54MiAtIHBhZGRpbmdSZWN0LngxLFxuICAgICAgICAgICAgICAgICkgYXMgbnVtYmVyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJpZ2h0ID0gTWF0aC5taW4ocmlnaHQsIGFyZWEubGVmdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoZmxvYXRNaW5XcmFwQmxvY2sgJiYgYXJlYS50b3AgKyBhcmVhLmhlaWdodCA+IHRvcCkge1xuICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrU3RhcnQgPSByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICAgICAgICAgICAgKGFyZWEgYXMgYW55KS5yb290Vmlld05vZGVzWzBdLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZ1JlY3QueTIgLSBwYWRkaW5nUmVjdC55MSxcbiAgICAgICAgICAgICAgICApIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b3AgPSBNYXRoLm1heCh0b3AsIGFyZWEudG9wICsgYXJlYS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImlubGluZS1lbmRcIjpcbiAgICAgICAgICAgIGlmIChhcmVhLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIGJvdHRvbSA9IE1hdGgubWluKGJvdHRvbSwgYXJlYS50b3ApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmlnaHQgPSBNYXRoLm1pbihyaWdodCwgYXJlYS5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJibG9jay1lbmRcIjpcbiAgICAgICAgICAgIGlmIChhcmVhLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIGlmIChmbG9hdE1pbldyYXBCbG9jayAmJiBhcmVhLmxlZnQgKyBhcmVhLndpZHRoID4gbGVmdCkge1xuICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrRW5kID0gcmVzb2x2ZUxlbmd0aFBlcmNlbnRhZ2UoXG4gICAgICAgICAgICAgICAgICBmbG9hdE1pbldyYXBCbG9jayxcbiAgICAgICAgICAgICAgICAgIChhcmVhIGFzIGFueSkucm9vdFZpZXdOb2Rlc1swXSxcbiAgICAgICAgICAgICAgICAgIHBhZGRpbmdSZWN0LngyIC0gcGFkZGluZ1JlY3QueDEsXG4gICAgICAgICAgICAgICAgKSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGVmdCA9IE1hdGgubWF4KGxlZnQsIGFyZWEubGVmdCArIGFyZWEud2lkdGgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGZsb2F0TWluV3JhcEJsb2NrICYmIGFyZWEudG9wIDwgYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tFbmQgPSByZXNvbHZlTGVuZ3RoUGVyY2VudGFnZShcbiAgICAgICAgICAgICAgICAgIGZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICAgICAgICAgICAgKGFyZWEgYXMgYW55KS5yb290Vmlld05vZGVzWzBdLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZ1JlY3QueTIgLSBwYWRkaW5nUmVjdC55MSxcbiAgICAgICAgICAgICAgICApIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBib3R0b20gPSBNYXRoLm1pbihib3R0b20sIGFyZWEudG9wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gbG9naWNhbCBmbG9hdCBzaWRlOiAke2xvZ2ljYWxGbG9hdFNpZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0b3AsXG4gICAgICAgICAgbGVmdCxcbiAgICAgICAgICBib3R0b20sXG4gICAgICAgICAgcmlnaHQsXG4gICAgICAgICAgZmxvYXRNaW5XcmFwQmxvY2tTdGFydCxcbiAgICAgICAgICBmbG9hdE1pbldyYXBCbG9ja0VuZCxcbiAgICAgICAgfTtcbiAgICAgIH0sIGxpbWl0cyk7XG4gICAgfVxuICAgIGxpbWl0cy5sZWZ0ICs9IG9mZnNldFg7XG4gICAgbGltaXRzLnJpZ2h0ICs9IG9mZnNldFg7XG4gICAgbGltaXRzLnRvcCArPSBvZmZzZXRZO1xuICAgIGxpbWl0cy5ib3R0b20gKz0gb2Zmc2V0WTtcbiAgICByZXR1cm4gbGltaXRzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBhbmNob3JFZGdlIE51bGwgaW5kaWNhdGVzIHRoYXQgdGhlIGFuY2hvciBpcyBub3QgaW4gdGhlIGN1cnJlbnRcbiAgICogICAgIGNvbnRhaW5lci5cbiAgICogQHJldHVybiBMb2dpY2FsIGZsb2F0IHNpZGUgKHNuYXAtYmxvY2sgaXMgcmVzb2x2ZWQgd2hlbiBpbml0PWZhbHNlKS4gTnVsbFxuICAgKiAgICAgaW5kaWNhdGVzIHRoYXQgdGhlIGZsb2F0IGFyZWEgZG9lcyBub3QgZml0IGluc2lkZSB0aGUgY29udGFpbmVyXG4gICAqL1xuICBzZXRGbG9hdEFyZWFEaW1lbnNpb25zKFxuICAgIGFyZWE6IExheW91dFR5cGUuUGFnZUZsb2F0QXJlYSxcbiAgICBmbG9hdFJlZmVyZW5jZTogRmxvYXRSZWZlcmVuY2UsXG4gICAgZmxvYXRTaWRlOiBzdHJpbmcsXG4gICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICBpbml0OiBib29sZWFuLFxuICAgIGZvcmNlOiBib29sZWFuLFxuICAgIGNvbmRpdGlvbjogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uLFxuICApOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybiBwYXJlbnQuc2V0RmxvYXRBcmVhRGltZW5zaW9ucyhcbiAgICAgICAgYXJlYSxcbiAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgYW5jaG9yRWRnZSxcbiAgICAgICAgaW5pdCxcbiAgICAgICAgZm9yY2UsXG4gICAgICAgIGNvbmRpdGlvbixcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZmxvYXRTaWRlKTtcbiAgICBpZiAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIpIHtcbiAgICAgIGlmICghY29uZGl0aW9uW1wiYmxvY2stc3RhcnRcIl0gJiYgIWNvbmRpdGlvbltcImJsb2NrLWVuZFwiXSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjb25kaXRpb25bbG9naWNhbEZsb2F0U2lkZV0pIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KGFyZWEuY2xpZW50TGF5b3V0KTtcbiAgICBsZXQgYmxvY2tTdGFydCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiYmxvY2stc3RhcnRcIixcbiAgICAgIGFyZWEubGF5b3V0Q29udGV4dCxcbiAgICAgIGFyZWEuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgbGV0IGJsb2NrRW5kID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJibG9jay1lbmRcIixcbiAgICAgIGFyZWEubGF5b3V0Q29udGV4dCxcbiAgICAgIGFyZWEuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgbGV0IGlubGluZVN0YXJ0ID0gdGhpcy5nZXRMaW1pdFZhbHVlKFxuICAgICAgXCJpbmxpbmUtc3RhcnRcIixcbiAgICAgIGFyZWEubGF5b3V0Q29udGV4dCxcbiAgICAgIGFyZWEuY2xpZW50TGF5b3V0LFxuICAgICk7XG4gICAgbGV0IGlubGluZUVuZCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiaW5saW5lLWVuZFwiLFxuICAgICAgYXJlYS5sYXlvdXRDb250ZXh0LFxuICAgICAgYXJlYS5jbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja09mZnNldCA9IGFyZWEudmVydGljYWwgPyBhcmVhLm9yaWdpblggOiBhcmVhLm9yaWdpblk7XG4gICAgY29uc3QgaW5saW5lT2Zmc2V0ID0gYXJlYS52ZXJ0aWNhbCA/IGFyZWEub3JpZ2luWSA6IGFyZWEub3JpZ2luWDtcbiAgICBibG9ja1N0YXJ0ID0gYXJlYS52ZXJ0aWNhbFxuICAgICAgPyBNYXRoLm1pbihcbiAgICAgICAgICBibG9ja1N0YXJ0LFxuICAgICAgICAgIGFyZWEubGVmdCArXG4gICAgICAgICAgICBhcmVhLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgICAgIGFyZWEud2lkdGggK1xuICAgICAgICAgICAgYXJlYS5nZXRJbnNldFJpZ2h0KCkgK1xuICAgICAgICAgICAgYmxvY2tPZmZzZXQsXG4gICAgICAgIClcbiAgICAgIDogTWF0aC5tYXgoYmxvY2tTdGFydCwgYXJlYS50b3AgKyBibG9ja09mZnNldCk7XG4gICAgYmxvY2tFbmQgPSBhcmVhLnZlcnRpY2FsXG4gICAgICA/IE1hdGgubWF4KGJsb2NrRW5kLCBhcmVhLmxlZnQgKyBibG9ja09mZnNldClcbiAgICAgIDogTWF0aC5taW4oXG4gICAgICAgICAgYmxvY2tFbmQsXG4gICAgICAgICAgYXJlYS50b3AgK1xuICAgICAgICAgICAgYXJlYS5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgICAgIGFyZWEuaGVpZ2h0ICtcbiAgICAgICAgICAgIGFyZWEuZ2V0SW5zZXRCb3R0b20oKSArXG4gICAgICAgICAgICBibG9ja09mZnNldCxcbiAgICAgICAgKTtcblxuICAgIGZ1bmN0aW9uIGxpbWl0QmxvY2tTdGFydEVuZFZhbHVlV2l0aE9wZW5SZWN0KGdldFJlY3QsIHJlY3QpIHtcbiAgICAgIGxldCBvcGVuUmVjdCA9IGdldFJlY3QoYXJlYS5iYW5kcywgcmVjdCk7XG4gICAgICBpZiAob3BlblJlY3QpIHtcbiAgICAgICAgaWYgKGFyZWEudmVydGljYWwpIHtcbiAgICAgICAgICBvcGVuUmVjdCA9IEdlb21ldHJ5VXRpbC51bnJvdGF0ZUJveChvcGVuUmVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgYmxvY2tTdGFydCA9IGFyZWEudmVydGljYWxcbiAgICAgICAgICA/IE1hdGgubWluKGJsb2NrU3RhcnQsIG9wZW5SZWN0LngyKVxuICAgICAgICAgIDogTWF0aC5tYXgoYmxvY2tTdGFydCwgb3BlblJlY3QueTEpO1xuICAgICAgICBibG9ja0VuZCA9IGFyZWEudmVydGljYWxcbiAgICAgICAgICA/IE1hdGgubWF4KGJsb2NrRW5kLCBvcGVuUmVjdC54MSlcbiAgICAgICAgICA6IE1hdGgubWluKGJsb2NrRW5kLCBvcGVuUmVjdC55Mik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZvcmNlO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgYmxvY2tTaXplOiBudW1iZXI7XG4gICAgbGV0IGlubGluZVNpemU6IG51bWJlcjtcbiAgICBsZXQgb3V0ZXJCbG9ja1NpemU6IG51bWJlcjtcbiAgICBsZXQgb3V0ZXJJbmxpbmVTaXplOiBudW1iZXI7XG4gICAgaWYgKGluaXQpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBhcmVhLnZlcnRpY2FsXG4gICAgICAgID8gR2VvbWV0cnlVdGlsLnJvdGF0ZUJveChcbiAgICAgICAgICAgIG5ldyBHZW9tZXRyeVV0aWwuUmVjdChibG9ja0VuZCwgaW5saW5lU3RhcnQsIGJsb2NrU3RhcnQsIGlubGluZUVuZCksXG4gICAgICAgICAgKVxuICAgICAgICA6IG5ldyBHZW9tZXRyeVV0aWwuUmVjdChpbmxpbmVTdGFydCwgYmxvY2tTdGFydCwgaW5saW5lRW5kLCBibG9ja0VuZCk7XG4gICAgICBpZiAoXG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiYmxvY2stc3RhcnRcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcInNuYXAtYmxvY2tcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1zdGFydFwiXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFsaW1pdEJsb2NrU3RhcnRFbmRWYWx1ZVdpdGhPcGVuUmVjdChcbiAgICAgICAgICAgIEdlb21ldHJ5VXRpbC5maW5kVXBwZXJtb3N0RnVsbHlPcGVuUmVjdCxcbiAgICAgICAgICAgIHJlY3QsXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8XG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiIHx8XG4gICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwiaW5saW5lLWVuZFwiXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFsaW1pdEJsb2NrU3RhcnRFbmRWYWx1ZVdpdGhPcGVuUmVjdChcbiAgICAgICAgICAgIEdlb21ldHJ5VXRpbC5maW5kQm90dG9tbW9zdEZ1bGx5T3BlblJlY3QsXG4gICAgICAgICAgICByZWN0LFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG91dGVyQmxvY2tTaXplID0gKGJsb2NrRW5kIC0gYmxvY2tTdGFydCkgKiBhcmVhLmdldEJveERpcigpO1xuICAgICAgYmxvY2tTaXplID0gb3V0ZXJCbG9ja1NpemUgLSBhcmVhLmdldEluc2V0QmVmb3JlKCkgLSBhcmVhLmdldEluc2V0QWZ0ZXIoKTtcbiAgICAgIG91dGVySW5saW5lU2l6ZSA9IGlubGluZUVuZCAtIGlubGluZVN0YXJ0O1xuICAgICAgaW5saW5lU2l6ZSA9IG91dGVySW5saW5lU2l6ZSAtIGFyZWEuZ2V0SW5zZXRTdGFydCgpIC0gYXJlYS5nZXRJbnNldEVuZCgpO1xuICAgICAgaWYgKCFmb3JjZSAmJiAoYmxvY2tTaXplIDw9IDAgfHwgaW5saW5lU2l6ZSA8PSAwKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYmxvY2tTaXplID0gYXJlYS5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgICAgIG91dGVyQmxvY2tTaXplID0gYmxvY2tTaXplICsgYXJlYS5nZXRJbnNldEJlZm9yZSgpICsgYXJlYS5nZXRJbnNldEFmdGVyKCk7XG4gICAgICBjb25zdCBhdmFpbGFibGVCbG9ja1NpemUgPSAoYmxvY2tFbmQgLSBibG9ja1N0YXJ0KSAqIGFyZWEuZ2V0Qm94RGlyKCk7XG4gICAgICBpZiAobG9naWNhbEZsb2F0U2lkZSA9PT0gXCJzbmFwLWJsb2NrXCIpIHtcbiAgICAgICAgaWYgKGFuY2hvckVkZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAvLyBEZWZlcnJlZCBmcm9tIHByZXZpb3VzIGNvbnRhaW5lclxuICAgICAgICAgIGxvZ2ljYWxGbG9hdFNpZGUgPSBcImJsb2NrLXN0YXJ0XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgY29udGFpbmVyUmVjdCA9IHRoaXMuY29udGFpbmVyLmdldFBhZGRpbmdSZWN0KCk7XG4gICAgICAgICAgY29uc3QgZnJvbVN0YXJ0ID1cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmdldEJveERpcigpICpcbiAgICAgICAgICAgIChhbmNob3JFZGdlIC1cbiAgICAgICAgICAgICAgKHRoaXMuY29udGFpbmVyLnZlcnRpY2FsID8gY29udGFpbmVyUmVjdC54MiA6IGNvbnRhaW5lclJlY3QueTEpKTtcbiAgICAgICAgICBjb25zdCBmcm9tRW5kID1cbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmdldEJveERpcigpICpcbiAgICAgICAgICAgICgodGhpcy5jb250YWluZXIudmVydGljYWwgPyBjb250YWluZXJSZWN0LngxIDogY29udGFpbmVyUmVjdC55MikgLVxuICAgICAgICAgICAgICBhbmNob3JFZGdlIC1cbiAgICAgICAgICAgICAgb3V0ZXJCbG9ja1NpemUpO1xuICAgICAgICAgIGlmIChmcm9tU3RhcnQgPD0gZnJvbUVuZCkge1xuICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9IFwiYmxvY2stc3RhcnRcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9IFwiYmxvY2stZW5kXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZGl0aW9uW2xvZ2ljYWxGbG9hdFNpZGVdKSB7XG4gICAgICAgICAgaWYgKGNvbmRpdGlvbltcImJsb2NrLWVuZFwiXSkge1xuICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9IFwiYmxvY2stZW5kXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFmb3JjZSAmJiBhdmFpbGFibGVCbG9ja1NpemUgPCBvdXRlckJsb2NrU2l6ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgbG9naWNhbEZsb2F0U2lkZSA9PT0gXCJpbmxpbmUtc3RhcnRcIiB8fFxuICAgICAgICBsb2dpY2FsRmxvYXRTaWRlID09PSBcImlubGluZS1lbmRcIlxuICAgICAgKSB7XG4gICAgICAgIGlubGluZVNpemUgPSBTaXppbmcuZ2V0U2l6ZShhcmVhLmNsaWVudExheW91dCwgYXJlYS5lbGVtZW50LCBbXG4gICAgICAgICAgU2l6aW5nLlNpemUuRklUX0NPTlRFTlRfSU5MSU5FX1NJWkUsXG4gICAgICAgIF0pW1NpemluZy5TaXplLkZJVF9DT05URU5UX0lOTElORV9TSVpFXTtcbiAgICAgIH0gZWxzZSBpZiAoYXJlYS5hZGp1c3RDb250ZW50UmVsYXRpdmVTaXplKSB7XG4gICAgICAgIGlubGluZVNpemUgPSBhcmVhLmdldENvbnRlbnRJbmxpbmVTaXplKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmxpbmVTaXplID0gYXJlYS52ZXJ0aWNhbCA/IGFyZWEuaGVpZ2h0IDogYXJlYS53aWR0aDtcbiAgICAgIH1cbiAgICAgIG91dGVySW5saW5lU2l6ZSA9IGlubGluZVNpemUgKyBhcmVhLmdldEluc2V0U3RhcnQoKSArIGFyZWEuZ2V0SW5zZXRFbmQoKTtcbiAgICAgIGNvbnN0IGF2YWlsYWJsZUlubGluZVNpemUgPSBpbmxpbmVFbmQgLSBpbmxpbmVTdGFydDtcbiAgICAgIGlmICghZm9yY2UgJiYgYXZhaWxhYmxlSW5saW5lU2l6ZSA8IG91dGVySW5saW5lU2l6ZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgYmxvY2tTdGFydCAtPSBibG9ja09mZnNldDtcbiAgICBibG9ja0VuZCAtPSBibG9ja09mZnNldDtcbiAgICBpbmxpbmVTdGFydCAtPSBpbmxpbmVPZmZzZXQ7XG4gICAgaW5saW5lRW5kIC09IGlubGluZU9mZnNldDtcbiAgICBzd2l0Y2ggKGxvZ2ljYWxGbG9hdFNpZGUpIHtcbiAgICAgIGNhc2UgXCJpbmxpbmUtc3RhcnRcIjpcbiAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgY2FzZSBcInNuYXAtYmxvY2tcIjpcbiAgICAgICAgYXJlYS5zZXRJbmxpbmVQb3NpdGlvbihpbmxpbmVTdGFydCwgaW5saW5lU2l6ZSk7XG4gICAgICAgIGFyZWEuc2V0QmxvY2tQb3NpdGlvbihibG9ja1N0YXJ0LCBibG9ja1NpemUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpbmxpbmUtZW5kXCI6XG4gICAgICBjYXNlIFwiYmxvY2stZW5kXCI6XG4gICAgICAgIGFyZWEuc2V0SW5saW5lUG9zaXRpb24oaW5saW5lRW5kIC0gb3V0ZXJJbmxpbmVTaXplLCBpbmxpbmVTaXplKTtcbiAgICAgICAgYXJlYS5zZXRCbG9ja1Bvc2l0aW9uKFxuICAgICAgICAgIGJsb2NrRW5kIC0gb3V0ZXJCbG9ja1NpemUgKiBhcmVhLmdldEJveERpcigpLFxuICAgICAgICAgIGJsb2NrU2l6ZSxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gZmxvYXQgZGlyZWN0aW9uOiAke2Zsb2F0U2lkZX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvZ2ljYWxGbG9hdFNpZGU7XG4gIH1cblxuICBnZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5mbG9hdEZyYWdtZW50cy5tYXAoKGZyYWdtZW50KSA9PlxuICAgICAgZnJhZ21lbnQuZ2V0T3V0ZXJTaGFwZSgpLFxuICAgICk7XG4gICAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0RmxvYXRGcmFnbWVudEV4Y2x1c2lvbnMoKS5jb25jYXQocmVzdWx0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlYXR0YWNoRmxvYXRGcmFnbWVudHMoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5jb250YWluZXIuZWxlbWVudCAmJiB0aGlzLmNvbnRhaW5lci5lbGVtZW50LnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5mbG9hdEZyYWdtZW50cy5mb3JFYWNoKChmcmFnbWVudCkgPT4ge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZnJhZ21lbnQuYXJlYS5lbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldE1heFJlYWNoZWRBZnRlckVkZ2UoKTogbnVtYmVyIHtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5nZXRDb250YWluZXIoKS52ZXJ0aWNhbDtcbiAgICByZXR1cm4gdGhpcy5mbG9hdEZyYWdtZW50cy5yZWR1Y2UoXG4gICAgICAoZWRnZSwgZnJhZ21lbnQpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGZyYWdtZW50LmdldE91dGVyUmVjdCgpO1xuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1pbihlZGdlLCByZWN0LngxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZWRnZSwgcmVjdC55Mik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpc1ZlcnRpY2FsID8gSW5maW5pdHkgOiAwLFxuICAgICk7XG4gIH1cblxuICBnZXRCbG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMoKTogbnVtYmVyIHtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5nZXRDb250YWluZXIoKS52ZXJ0aWNhbDtcbiAgICByZXR1cm4gdGhpcy5mbG9hdEZyYWdtZW50c1xuICAgICAgLmZpbHRlcigoZnJhZ21lbnQpID0+IGZyYWdtZW50LmZsb2F0U2lkZSA9PT0gXCJibG9jay1lbmRcIilcbiAgICAgIC5yZWR1Y2UoXG4gICAgICAgIChlZGdlLCBmcmFnbWVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlY3QgPSBmcmFnbWVudC5nZXRPdXRlclJlY3QoKTtcbiAgICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGVkZ2UsIHJlY3QueDIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oZWRnZSwgcmVjdC55MSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpc1ZlcnRpY2FsID8gMCA6IEluZmluaXR5LFxuICAgICAgKTtcbiAgfVxuXG4gIGdldFBhZ2VGbG9hdENsZWFyRWRnZShjbGVhcjogc3RyaW5nLCBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogbnVtYmVyIHtcbiAgICBmdW5jdGlvbiBpc0NvbnRpbnVhdGlvbk9mQWxyZWFkeUFwcGVhcmVkRmxvYXQoY29udGV4dCkge1xuICAgICAgcmV0dXJuIChjb250aW51YXRpb24pID0+XG4gICAgICAgIGNvbnRleHQuaXNBbmNob3JBbHJlYWR5QXBwZWFyZWQoY29udGludWF0aW9uLmZsb2F0LmdldElkKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRnJhZ21lbnRXaXRoQWxyZWFkeUFwcGVhcmVkRmxvYXQoZnJhZ21lbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmcmFnbWVudC5jb250aW51YXRpb25zLnNvbWUoXG4gICAgICAgIGlzQ29udGludWF0aW9uT2ZBbHJlYWR5QXBwZWFyZWRGbG9hdChjb250ZXh0KSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGNvbHVtblJlY3QgPSBjb2x1bW4uZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBjb25zdCBjb2x1bW5CbG9ja0VuZCA9IGNvbHVtbi52ZXJ0aWNhbCA/IGNvbHVtblJlY3QueDEgOiBjb2x1bW5SZWN0LnkyO1xuICAgIGxldCBjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gdGhpcztcbiAgICB3aGlsZSAoY29udGV4dCkge1xuICAgICAgaWYgKFxuICAgICAgICBjb250ZXh0LmZsb2F0c0RlZmVycmVkVG9OZXh0LnNvbWUoXG4gICAgICAgICAgaXNDb250aW51YXRpb25PZkFscmVhZHlBcHBlYXJlZEZsb2F0KGNvbnRleHQpLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbkJsb2NrRW5kO1xuICAgICAgfVxuICAgICAgY29udGV4dCA9IGNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgICBBc3NlcnRzLmFzc2VydChjb2x1bW4uY2xpZW50TGF5b3V0KTtcbiAgICBjb25zdCBibG9ja1N0YXJ0TGltaXQgPSB0aGlzLmdldExpbWl0VmFsdWUoXG4gICAgICBcImJsb2NrLXN0YXJ0XCIsXG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dCxcbiAgICAgIGNvbHVtbi5jbGllbnRMYXlvdXQsXG4gICAgICBpc0ZyYWdtZW50V2l0aEFscmVhZHlBcHBlYXJlZEZsb2F0LFxuICAgICk7XG4gICAgY29uc3QgYmxvY2tFbmRMaW1pdCA9IHRoaXMuZ2V0TGltaXRWYWx1ZShcbiAgICAgIFwiYmxvY2stZW5kXCIsXG4gICAgICBjb2x1bW4ubGF5b3V0Q29udGV4dCxcbiAgICAgIGNvbHVtbi5jbGllbnRMYXlvdXQsXG4gICAgICBpc0ZyYWdtZW50V2l0aEFscmVhZHlBcHBlYXJlZEZsb2F0LFxuICAgICk7XG4gICAgaWYgKFxuICAgICAgYmxvY2tFbmRMaW1pdCAqIGNvbHVtbi5nZXRCb3hEaXIoKSA8XG4gICAgICBjb2x1bW5CbG9ja0VuZCAqIGNvbHVtbi5nZXRCb3hEaXIoKVxuICAgICkge1xuICAgICAgcmV0dXJuIGNvbHVtbkJsb2NrRW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYmxvY2tTdGFydExpbWl0O1xuICAgIH1cbiAgfVxuXG4gIGdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbihcbiAgICBmbG9hdDogUGFnZUZsb2F0LFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGNsZWFyU2lkZTogc3RyaW5nIHwgbnVsbCxcbiAgKTogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uIHtcbiAgICBpZiAoZmxvYXQuZmxvYXRSZWZlcmVuY2UgIT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIHJldHVybiBwYXJlbnQuZ2V0UGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uKGZsb2F0LCBmbG9hdFNpZGUsIGNsZWFyU2lkZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdDogUGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uID0ge1xuICAgICAgXCJibG9jay1zdGFydFwiOiB0cnVlLFxuICAgICAgXCJibG9jay1lbmRcIjogdHJ1ZSxcbiAgICAgIFwiaW5saW5lLXN0YXJ0XCI6IHRydWUsXG4gICAgICBcImlubGluZS1lbmRcIjogdHJ1ZSxcbiAgICB9O1xuICAgIGlmICghY2xlYXJTaWRlKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gdGhpcy50b0xvZ2ljYWwoZmxvYXRTaWRlKTtcbiAgICBjb25zdCBsb2dpY2FsQ2xlYXJTaWRlID0gdGhpcy50b0xvZ2ljYWwoY2xlYXJTaWRlKTtcbiAgICBsZXQgbG9naWNhbFNpZGVzOiBzdHJpbmdbXTtcbiAgICBpZiAobG9naWNhbENsZWFyU2lkZSA9PT0gXCJhbGxcIikge1xuICAgICAgbG9naWNhbFNpZGVzID0gW1wiYmxvY2stc3RhcnRcIiwgXCJibG9jay1lbmRcIiwgXCJpbmxpbmUtc3RhcnRcIiwgXCJpbmxpbmUtZW5kXCJdO1xuICAgIH0gZWxzZSBpZiAobG9naWNhbENsZWFyU2lkZSA9PT0gXCJib3RoXCIpIHtcbiAgICAgIGxvZ2ljYWxTaWRlcyA9IFtcImlubGluZS1zdGFydFwiLCBcImlubGluZS1lbmRcIl07XG4gICAgfSBlbHNlIGlmIChsb2dpY2FsQ2xlYXJTaWRlID09PSBcInNhbWVcIikge1xuICAgICAgaWYgKGxvZ2ljYWxGbG9hdFNpZGUgPT09IFwic25hcC1ibG9ja1wiKSB7XG4gICAgICAgIGxvZ2ljYWxTaWRlcyA9IFtcImJsb2NrLXN0YXJ0XCIsIFwiYmxvY2stZW5kXCJdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9naWNhbFNpZGVzID0gW2xvZ2ljYWxGbG9hdFNpZGVdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2dpY2FsU2lkZXMgPSBbbG9naWNhbENsZWFyU2lkZV07XG4gICAgfVxuICAgIGNvbnN0IGZsb2F0T3JkZXIgPSBmbG9hdC5nZXRPcmRlcigpO1xuXG4gICAgZnVuY3Rpb24gaXNQcmVjZWRpbmdGcmFnbWVudChcbiAgICAgIHNpZGU6IHN0cmluZyxcbiAgICApOiAocDE6IFBhZ2VGbG9hdEZyYWdtZW50KSA9PiBib29sZWFuIHtcbiAgICAgIHJldHVybiAoZnJhZ21lbnQpID0+XG4gICAgICAgIGZyYWdtZW50LmZsb2F0U2lkZSA9PT0gc2lkZSAmJiBmcmFnbWVudC5nZXRPcmRlcigpIDwgZmxvYXRPcmRlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNQcmVjZWRpbmdGcmFnbWVudEluQ2hpbGRyZW4oXG4gICAgICBjb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgc2lkZTogc3RyaW5nLFxuICAgICk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGNvbnRleHQuY2hpbGRyZW4uc29tZShcbiAgICAgICAgKGNoaWxkKSA9PlxuICAgICAgICAgIGNoaWxkLmZsb2F0RnJhZ21lbnRzLnNvbWUoaXNQcmVjZWRpbmdGcmFnbWVudChzaWRlKSkgfHxcbiAgICAgICAgICBoYXNQcmVjZWRpbmdGcmFnbWVudEluQ2hpbGRyZW4oY2hpbGQsIHNpZGUpLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNQcmVjZWRpbmdGcmFnbWVudEluUGFyZW50cyhcbiAgICAgIGNvbnRleHQ6IFBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBzaWRlOiBzdHJpbmcsXG4gICAgKTogYm9vbGVhbiB7XG4gICAgICBjb25zdCBwYXJlbnQgPSBjb250ZXh0LnBhcmVudDtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICEhcGFyZW50ICYmXG4gICAgICAgIChwYXJlbnQuZmxvYXRGcmFnbWVudHMuc29tZShpc1ByZWNlZGluZ0ZyYWdtZW50KHNpZGUpKSB8fFxuICAgICAgICAgIGhhc1ByZWNlZGluZ0ZyYWdtZW50SW5QYXJlbnRzKHBhcmVudCwgc2lkZSkpXG4gICAgICApO1xuICAgIH1cbiAgICBsb2dpY2FsU2lkZXMuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICAgIGNhc2UgXCJibG9jay1zdGFydFwiOlxuICAgICAgICBjYXNlIFwiaW5saW5lLXN0YXJ0XCI6XG4gICAgICAgICAgcmVzdWx0W3NpZGVdID0gIWhhc1ByZWNlZGluZ0ZyYWdtZW50SW5DaGlsZHJlbih0aGlzLCBzaWRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJsb2NrLWVuZFwiOlxuICAgICAgICBjYXNlIFwiaW5saW5lLWVuZFwiOlxuICAgICAgICAgIHJlc3VsdFtzaWRlXSA9ICFoYXNQcmVjZWRpbmdGcmFnbWVudEluUGFyZW50cyh0aGlzLCBzaWRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgc2lkZTogJHtzaWRlfWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBnZXRMYXlvdXRDb25zdHJhaW50cygpOiBMYXlvdXRUeXBlLkxheW91dENvbnN0cmFpbnRbXSB7XG4gICAgY29uc3QgY29uc3RyYWludHMgPSB0aGlzLnBhcmVudCA/IHRoaXMucGFyZW50LmdldExheW91dENvbnN0cmFpbnRzKCkgOiBbXTtcbiAgICByZXR1cm4gY29uc3RyYWludHMuY29uY2F0KHRoaXMubGF5b3V0Q29uc3RyYWludHMpO1xuICB9XG5cbiAgYWRkTGF5b3V0Q29uc3RyYWludChcbiAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXRUeXBlLkxheW91dENvbnN0cmFpbnQsXG4gICAgZmxvYXRSZWZlcmVuY2U6IEZsb2F0UmVmZXJlbmNlLFxuICApIHtcbiAgICBpZiAoZmxvYXRSZWZlcmVuY2UgPT09IHRoaXMuZmxvYXRSZWZlcmVuY2UpIHtcbiAgICAgIHRoaXMubGF5b3V0Q29uc3RyYWludHMucHVzaChsYXlvdXRDb25zdHJhaW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5nZXRQYXJlbnQoZmxvYXRSZWZlcmVuY2UpLmFkZExheW91dENvbnN0cmFpbnQoXG4gICAgICAgIGxheW91dENvbnN0cmFpbnQsXG4gICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBpc0NvbHVtbkZ1bGxXaXRoUGFnZUZsb2F0cyhjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbGF5b3V0Q29udGV4dCA9IGNvbHVtbi5sYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGNsaWVudExheW91dCA9IGNvbHVtbi5jbGllbnRMYXlvdXQ7XG4gICAgQXNzZXJ0cy5hc3NlcnQoY2xpZW50TGF5b3V0KTtcbiAgICBsZXQgY29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IHRoaXM7XG4gICAgbGV0IGxpbWl0czoge1xuICAgICAgdG9wOiBudW1iZXI7XG4gICAgICBsZWZ0OiBudW1iZXI7XG4gICAgICBib3R0b206IG51bWJlcjtcbiAgICAgIHJpZ2h0OiBudW1iZXI7XG4gICAgICBmbG9hdE1pbldyYXBCbG9ja1N0YXJ0OiBudW1iZXI7XG4gICAgICBmbG9hdE1pbldyYXBCbG9ja0VuZDogbnVtYmVyO1xuICAgIH0gPSBudWxsO1xuICAgIHdoaWxlIChjb250ZXh0ICYmIGNvbnRleHQuY29udGFpbmVyKSB7XG4gICAgICBjb25zdCBsID0gY29udGV4dC5nZXRMaW1pdFZhbHVlc0lubmVyKGxheW91dENvbnRleHQsIGNsaWVudExheW91dCk7XG4gICAgICBpZiAobGltaXRzKSB7XG4gICAgICAgIGlmIChjb2x1bW4udmVydGljYWwpIHtcbiAgICAgICAgICBpZiAobC5yaWdodCA8IGxpbWl0cy5yaWdodCkge1xuICAgICAgICAgICAgbGltaXRzLnJpZ2h0ID0gbC5yaWdodDtcbiAgICAgICAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0ID0gbC5mbG9hdE1pbldyYXBCbG9ja1N0YXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobC5sZWZ0ID4gbGltaXRzLmxlZnQpIHtcbiAgICAgICAgICAgIGxpbWl0cy5sZWZ0ID0gbC5sZWZ0O1xuICAgICAgICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrRW5kID0gbC5mbG9hdE1pbldyYXBCbG9ja0VuZDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGwudG9wID4gbGltaXRzLnRvcCkge1xuICAgICAgICAgICAgbGltaXRzLnRvcCA9IGwudG9wO1xuICAgICAgICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQgPSBsLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsLmJvdHRvbSA8IGxpbWl0cy5ib3R0b20pIHtcbiAgICAgICAgICAgIGxpbWl0cy5ib3R0b20gPSBsLmJvdHRvbTtcbiAgICAgICAgICAgIGxpbWl0cy5mbG9hdE1pbldyYXBCbG9ja0VuZCA9IGwuZmxvYXRNaW5XcmFwQmxvY2tFbmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW1pdHMgPSBsO1xuICAgICAgfVxuICAgICAgY29udGV4dCA9IGNvbnRleHQucGFyZW50O1xuICAgIH1cbiAgICBjb25zdCBmbG9hdE1pbldyYXBCbG9jayA9IE1hdGgubWF4KFxuICAgICAgbGltaXRzLmZsb2F0TWluV3JhcEJsb2NrU3RhcnQsXG4gICAgICBsaW1pdHMuZmxvYXRNaW5XcmFwQmxvY2tFbmQsXG4gICAgKTtcbiAgICBjb25zdCBibG9ja1NwYWNlID0gY29sdW1uLnZlcnRpY2FsXG4gICAgICA/IGxpbWl0cy5yaWdodCAtIGxpbWl0cy5sZWZ0XG4gICAgICA6IGxpbWl0cy5ib3R0b20gLSBsaW1pdHMudG9wO1xuICAgIHJldHVybiBibG9ja1NwYWNlIDw9IGZsb2F0TWluV3JhcEJsb2NrO1xuICB9XG5cbiAgZ2V0TWF4QmxvY2tTaXplT2ZQYWdlRmxvYXRzKCk6IG51bWJlciB7XG4gICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMuZ2V0Q29udGFpbmVyKCkudmVydGljYWw7XG4gICAgaWYgKCF0aGlzLmZsb2F0RnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLm1heC5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLmZsb2F0RnJhZ21lbnRzLm1hcCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgY29uc3QgYXJlYSA9IGZyYWdtZW50LmFyZWE7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZWEud2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGFyZWEuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgbG9jaygpIHtcbiAgICB0aGlzLmxvY2tlZCA9IHRydWU7XG4gIH1cblxuICB1bmxvY2soKSB7XG4gICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlzTG9ja2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmxvY2tlZDtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5XG4gIGV4dGVuZHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7fVxuXG5jb25zdCBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzOiBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVtdID0gW107XG5cbmV4cG9ydCBjbGFzcyBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyIHtcbiAgc3RhdGljIHJlZ2lzdGVyKHN0cmF0ZWd5OiBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSkge1xuICAgIHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXMucHVzaChzdHJhdGVneSk7XG4gIH1cblxuICBmaW5kQnlOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBQYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gICAgZm9yIChsZXQgaSA9IHBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llc1tpXTtcbiAgICAgIGlmIChzdHJhdGVneS5hcHBsaWVzVG9Ob2RlQ29udGV4dChub2RlQ29udGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmF0ZWd5O1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IGZvdW5kIGZvciAke25vZGVDb250ZXh0fWApO1xuICB9XG5cbiAgZmluZEJ5RmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IHtcbiAgICBmb3IgKGxldCBpID0gcGFnZUZsb2F0TGF5b3V0U3RyYXRlZ2llcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBwYWdlRmxvYXRMYXlvdXRTdHJhdGVnaWVzW2ldO1xuICAgICAgaWYgKHN0cmF0ZWd5LmFwcGxpZXNUb0Zsb2F0KGZsb2F0KSkge1xuICAgICAgICByZXR1cm4gc3RyYXRlZ3k7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgTm8gUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kgZm91bmQgZm9yICR7ZmxvYXR9YCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vcm1hbFBhZ2VGbG9hdExheW91dFN0cmF0ZWd5IGltcGxlbWVudHMgUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3kge1xuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBsaWVzVG9Ob2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gaXNQYWdlRmxvYXQobm9kZUNvbnRleHQuZmxvYXRSZWZlcmVuY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbGllc1RvRmxvYXQoZmxvYXQ6IFBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlUGFnZUZsb2F0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VGbG9hdD4ge1xuICAgIGxldCBmbG9hdFJlZmVyZW5jZSA9IG5vZGVDb250ZXh0LmZsb2F0UmVmZXJlbmNlO1xuICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LmZsb2F0U2lkZSk7XG4gICAgY29uc3QgZmxvYXRTaWRlOiBzdHJpbmcgPSBub2RlQ29udGV4dC5mbG9hdFNpZGU7XG4gICAgY29uc3Qgbm9kZVBvc2l0aW9uID0gbm9kZUNvbnRleHQudG9Ob2RlUG9zaXRpb24oKTtcbiAgICByZXR1cm4gY29sdW1uXG4gICAgICAucmVzb2x2ZUZsb2F0UmVmZXJlbmNlRnJvbUNvbHVtblNwYW4oXG4gICAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgICBub2RlQ29udGV4dC5jb2x1bW5TcGFuLFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgIClcbiAgICAgIC50aGVuQXN5bmMoKHJlZikgPT4ge1xuICAgICAgICBmbG9hdFJlZmVyZW5jZSA9IHJlZjtcbiAgICAgICAgQXNzZXJ0cy5hc3NlcnQocGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSk7XG4gICAgICAgIGNvbnN0IGZsb2F0ID0gbmV3IFBhZ2VGbG9hdChcbiAgICAgICAgICBub2RlUG9zaXRpb24sXG4gICAgICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICAgIG5vZGVDb250ZXh0LmNsZWFyU2lkZSxcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZsb3dOYW1lLFxuICAgICAgICAgIG5vZGVDb250ZXh0LmZsb2F0TWluV3JhcEJsb2NrLFxuICAgICAgICApO1xuICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmFkZFBhZ2VGbG9hdChmbG9hdCk7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmbG9hdCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZVBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdENvbnRpbnVhdGlvbltdLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGZsb2F0QXJlYTogTGF5b3V0VHlwZS5QYWdlRmxvYXRBcmVhLFxuICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgKTogUGFnZUZsb2F0RnJhZ21lbnQge1xuICAgIGNvbnN0IGYgPSBjb250aW51YXRpb25zWzBdLmZsb2F0O1xuICAgIHJldHVybiBuZXcgUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICBmLmZsb2F0UmVmZXJlbmNlLFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgY29udGludWF0aW9ucyxcbiAgICAgIGZsb2F0QXJlYSxcbiAgICAgIGNvbnRpbnVlcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluZFBhZ2VGbG9hdEZyYWdtZW50KFxuICAgIGZsb2F0OiBQYWdlRmxvYXQsXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKTogUGFnZUZsb2F0RnJhZ21lbnQgfCBudWxsIHtcbiAgICByZXR1cm4gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5maW5kUGFnZUZsb2F0RnJhZ21lbnQoZmxvYXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqdXN0UGFnZUZsb2F0QXJlYShcbiAgICBmbG9hdEFyZWE6IExheW91dFR5cGUuUGFnZUZsb2F0QXJlYSxcbiAgICBmbG9hdENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmb3JiaWQoZmxvYXQ6IFBhZ2VGbG9hdCwgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0TGF5b3V0Q29udGV4dCkge31cbn1cblxuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlci5yZWdpc3RlcihuZXcgTm9ybWFsUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3koKSk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBGb290bm90ZXNcbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBQYWdlRmxvYXRzIGZyb20gXCIuL3BhZ2UtZmxvYXRzXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBMYXlvdXQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5jb25zdCBQYWdlRmxvYXRGcmFnbWVudCA9IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQ7XG5cbmV4cG9ydCBjbGFzcyBGb290bm90ZSBleHRlbmRzIFBhZ2VGbG9hdHMuUGFnZUZsb2F0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgbm9kZVBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24sXG4gICAgZmxvYXRSZWZlcmVuY2U6IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UsXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9vdG5vdGVQb2xpY3k6IENzcy5JZGVudCB8IG51bGwsXG4gICAgZmxvYXRNaW5XcmFwQmxvY2s6IENzcy5OdW1lcmljIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICBub2RlUG9zaXRpb24sXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICAgIFwiYmxvY2stZW5kXCIsXG4gICAgICBudWxsLFxuICAgICAgZmxvd05hbWUsXG4gICAgICBmbG9hdE1pbldyYXBCbG9jayxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNBbGxvd2VkVG9QcmVjZWRlKG90aGVyOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhKG90aGVyIGluc3RhbmNlb2YgRm9vdG5vdGUpO1xuICB9XG59XG5cbi8qKlxuICogQGV4dGVuZHMgUGFnZUZsb2F0RnJhZ21lbnRcbiAqL1xuZXhwb3J0IGNsYXNzIEZvb3Rub3RlRnJhZ21lbnQgZXh0ZW5kcyBQYWdlRmxvYXRGcmFnbWVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGNvbnRpbnVhdGlvbnM6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uW10sXG4gICAgYXJlYTogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgKSB7XG4gICAgc3VwZXIoZmxvYXRSZWZlcmVuY2UsIFwiYmxvY2stZW5kXCIsIGNvbnRpbnVhdGlvbnMsIGFyZWEsIGNvbnRpbnVlcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPcmRlcigpOiBudW1iZXIge1xuICAgIHJldHVybiBJbmZpbml0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNob3VsZEJlU3Rhc2hlZEJlZm9yZShmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQpOiBib29sZWFuIHtcbiAgICBpZiAoZmxvYXQgaW5zdGFuY2VvZiBGb290bm90ZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmdldE9yZGVyKCkgPCBmbG9hdC5nZXRPcmRlcigpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGluZUZvb3Rub3RlUG9saWN5TGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRDb25zdHJhaW50IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZvb3Rub3RlOiBGb290bm90ZSkge31cblxuICBhbGxvd0xheW91dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBjb25zdCBub2RlUG9zaXRpb24gPSBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpO1xuICAgIHJldHVybiAhVnRyZWUuaXNTYW1lTm9kZVBvc2l0aW9uKG5vZGVQb3NpdGlvbiwgdGhpcy5mb290bm90ZS5ub2RlUG9zaXRpb24pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGb290bm90ZUxheW91dFN0cmF0ZWd5XG4gIGltcGxlbWVudHMgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneSB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGxpZXNUb05vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBub2RlQ29udGV4dC5mbG9hdFNpZGUgPT09IFwiZm9vdG5vdGVcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGxpZXNUb0Zsb2F0KGZsb2F0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmbG9hdCBpbnN0YW5jZW9mIEZvb3Rub3RlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlUGFnZUZsb2F0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLlBhZ2VGbG9hdD4ge1xuICAgIGxldCBmbG9hdFJlZmVyZW5jZSA9IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OO1xuXG4gICAgLy8gSWYgdGhlIHJlZ2lvbiBjb250ZXh0IGhhcyB0aGUgc2FtZSBjb250YWluZXIgYXMgdGhlIHBhZ2UgY29udGV4dCxcbiAgICAvLyB1c2UgdGhlIHBhZ2UgY29udGV4dCBhcyB0aGUgY29udGV4dCBmb3IgdGhlIGZvb3Rub3RlLlxuICAgIGNvbnN0IHJlZ2lvbkNvbnRleHQgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBmbG9hdFJlZmVyZW5jZSxcbiAgICApO1xuICAgIGNvbnN0IHBhZ2VDb250ZXh0ID0gcGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRQYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5QQUdFLFxuICAgICk7XG4gICAgaWYgKHBhZ2VDb250ZXh0Lmhhc1NhbWVDb250YWluZXJBcyhyZWdpb25Db250ZXh0KSkge1xuICAgICAgZmxvYXRSZWZlcmVuY2UgPSBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlBBR0U7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IG5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCk7XG4gICAgQXNzZXJ0cy5hc3NlcnQocGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSk7XG4gICAgY29uc3QgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0ID0gbmV3IEZvb3Rub3RlKFxuICAgICAgbm9kZVBvc2l0aW9uLFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZsb3dOYW1lLFxuICAgICAgbm9kZUNvbnRleHQuZm9vdG5vdGVQb2xpY3ksXG4gICAgICBub2RlQ29udGV4dC5mbG9hdE1pbldyYXBCbG9jayxcbiAgICApO1xuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuYWRkUGFnZUZsb2F0KGZsb2F0KTtcbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmxvYXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgY29udGludWF0aW9uczogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBmbG9hdEFyZWE6IExheW91dC5QYWdlRmxvYXRBcmVhLFxuICAgIGNvbnRpbnVlczogYm9vbGVhbixcbiAgKTogUGFnZUZsb2F0cy5QYWdlRmxvYXRGcmFnbWVudCB7XG4gICAgY29uc3QgZiA9IGNvbnRpbnVhdGlvbnNbMF0uZmxvYXQ7XG4gICAgcmV0dXJuIG5ldyBGb290bm90ZUZyYWdtZW50KFxuICAgICAgZi5mbG9hdFJlZmVyZW5jZSxcbiAgICAgIGNvbnRpbnVhdGlvbnMsXG4gICAgICBmbG9hdEFyZWEsXG4gICAgICBjb250aW51ZXMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRQYWdlRmxvYXRGcmFnbWVudChcbiAgICBmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQsXG4gICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCB7XG4gICAgY29uc3QgY29udGV4dCA9IHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIGZsb2F0LmZsb2F0UmVmZXJlbmNlLFxuICAgICk7XG4gICAgY29uc3QgZnJhZ21lbnRzID0gY29udGV4dC5mbG9hdEZyYWdtZW50cy5maWx0ZXIoXG4gICAgICAoZnIpID0+IGZyIGluc3RhbmNlb2YgRm9vdG5vdGVGcmFnbWVudCxcbiAgICApO1xuICAgIEFzc2VydHMuYXNzZXJ0KGZyYWdtZW50cy5sZW5ndGggPD0gMSk7XG4gICAgcmV0dXJuIGZyYWdtZW50c1swXSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWRqdXN0UGFnZUZsb2F0QXJlYShcbiAgICBmbG9hdEFyZWE6IExheW91dC5QYWdlRmxvYXRBcmVhLFxuICAgIGZsb2F0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBmbG9hdEFyZWEuaXNGb290bm90ZSA9IHRydWU7XG4gICAgZmxvYXRBcmVhLmFkanVzdENvbnRlbnRSZWxhdGl2ZVNpemUgPSBmYWxzZTtcbiAgICBjb25zdCBlbGVtZW50ID0gZmxvYXRBcmVhLmVsZW1lbnQ7XG4gICAgQXNzZXJ0cy5hc3NlcnQoZWxlbWVudCk7XG4gICAgZmxvYXRBcmVhLnZlcnRpY2FsID0gY29sdW1uLmxheW91dENvbnRleHQuYXBwbHlGb290bm90ZVN0eWxlKFxuICAgICAgZmxvYXRDb250YWluZXIudmVydGljYWwsXG4gICAgICAoY29sdW1uLmxheW91dENvbnRleHQgYXMgYW55KS5ub2RlQ29udGV4dCAmJlxuICAgICAgICAoY29sdW1uLmxheW91dENvbnRleHQgYXMgYW55KS5ub2RlQ29udGV4dC5kaXJlY3Rpb24gPT09IFwicnRsXCIsXG4gICAgICBlbGVtZW50LFxuICAgICk7XG4gICAgZmxvYXRBcmVhLmNvbnZlcnRQZXJjZW50YWdlU2l6ZXNUb1B4KGVsZW1lbnQpO1xuICAgIGNvbHVtbi5zZXRDb21wdXRlZEluc2V0cyhlbGVtZW50LCBmbG9hdEFyZWEpO1xuICAgIGNvbHVtbi5zZXRDb21wdXRlZFdpZHRoQW5kSGVpZ2h0KGVsZW1lbnQsIGZsb2F0QXJlYSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmb3JiaWQoXG4gICAgZmxvYXQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgKSB7XG4gICAgY29uc3QgZm9vdG5vdGUgPSBmbG9hdCBhcyBGb290bm90ZTtcbiAgICBzd2l0Y2ggKGZvb3Rub3RlLmZvb3Rub3RlUG9saWN5KSB7XG4gICAgICBjYXNlIENzcy5pZGVudC5saW5lOiB7XG4gICAgICAgIGNvbnN0IGNvbnN0cmFpbnQgPSBuZXcgTGluZUZvb3Rub3RlUG9saWN5TGF5b3V0Q29uc3RyYWludChmb290bm90ZSk7XG4gICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuYWRkTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICBjb25zdHJhaW50LFxuICAgICAgICAgIGZvb3Rub3RlLmZsb2F0UmVmZXJlbmNlLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyLnJlZ2lzdGVyKFxuICBuZXcgRm9vdG5vdGVMYXlvdXRTdHJhdGVneSgpLFxuKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IEJyZWFrIC0gQ29udHJvbCBmcmFnbWVudGF0aW9uLlxuICovXG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5cbi8qKlxuICogQ29udmVydCBvbGQgcGFnZS1icmVhay0qIHByb3BlcnRpZXMgdG8gYnJlYWstKiBwcm9wZXJ0aWVzIHdpdGggYXBwcm9wcmlhdGVcbiAqIHZhbHVlcyBhcyBzcGVjaWZpZWQgYnkgQ1NTIEZyYWdtZW50YXRpb24gbW9kdWxlOlxuICogaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1icmVhay8jcGFnZS1icmVhay1wcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0UGFnZUJyZWFrQWxpYXNlcyhvcmlnaW5hbDoge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZhbHVlOiBDc3MuVmFsO1xuICBpbXBvcnRhbnQ6IGJvb2xlYW47XG59KTogeyBuYW1lOiBzdHJpbmc7IHZhbHVlOiBDc3MuVmFsOyBpbXBvcnRhbnQ6IGJvb2xlYW4gfSB7XG4gIGNvbnN0IG5hbWUgPSBvcmlnaW5hbFtcIm5hbWVcIl07XG4gIGNvbnN0IHZhbHVlID0gb3JpZ2luYWxbXCJ2YWx1ZVwiXTtcbiAgc3dpdGNoIChuYW1lKSB7XG4gICAgY2FzZSBcInBhZ2UtYnJlYWstYmVmb3JlXCI6XG4gICAgY2FzZSBcInBhZ2UtYnJlYWstYWZ0ZXJcIjpcbiAgICBjYXNlIFwicGFnZS1icmVhay1pbnNpZGVcIjpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5hbWUucmVwbGFjZSgvXnBhZ2UtLywgXCJcIiksXG4gICAgICAgIHZhbHVlOiB2YWx1ZSA9PT0gQ3NzLmlkZW50LmFsd2F5cyA/IENzcy5pZGVudC5wYWdlIDogdmFsdWUsXG4gICAgICAgIGltcG9ydGFudDogb3JpZ2luYWxbXCJpbXBvcnRhbnRcIl0sXG4gICAgICB9O1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gb3JpZ2luYWw7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZvcmNlZEJyZWFrVmFsdWVzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfCBudWxsIH0gPSB7XG4gIHBhZ2U6IHRydWUsXG4gIGxlZnQ6IHRydWUsXG4gIHJpZ2h0OiB0cnVlLFxuICByZWN0bzogdHJ1ZSxcbiAgdmVyc286IHRydWUsXG4gIGNvbHVtbjogdHJ1ZSxcbiAgcmVnaW9uOiB0cnVlLFxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBvbmUgb2YgdGhlIGZvcmNlZCBicmVhayB2YWx1ZXMuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIGJyZWFrIHZhbHVlIHRvIGJlIGp1ZGdlZC4gVHJlYXRzIG51bGwgYXMgJ2F1dG8nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGb3JjZWRCcmVha1ZhbHVlKHZhbHVlOiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiAhIWZvcmNlZEJyZWFrVmFsdWVzW3ZhbHVlXTtcbn1cblxuZXhwb3J0IGNvbnN0IGF2b2lkQnJlYWtWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB8IG51bGwgfSA9IHtcbiAgYXZvaWQ6IHRydWUsXG4gIFwiYXZvaWQtcGFnZVwiOiB0cnVlLFxuICBcImF2b2lkLWNvbHVtblwiOiB0cnVlLFxuICBcImF2b2lkLXJlZ2lvblwiOiB0cnVlLFxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGlmIHRoZSB2YWx1ZSBpcyBvbmUgb2YgdGhlIGF2b2lkIGJyZWFrIHZhbHVlcy5cbiAqIEBwYXJhbSB2YWx1ZSBUaGUgYnJlYWsgdmFsdWUgdG8gYmUganVkZ2VkLiBUcmVhdHMgbnVsbCBhcyAnYXV0bycuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0F2b2lkQnJlYWtWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgbnVsbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gISFhdm9pZEJyZWFrVmFsdWVzW3ZhbHVlXTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlcyB0aGUgZWZmZWN0aXZlIGJyZWFrIHZhbHVlIGdpdmVuIHR3byBicmVhayB2YWx1ZXMgYXQgYSBzaW5nbGUgYnJlYWtcbiAqIHBvaW50LiBUaGUgb3JkZXIgb2YgdGhlIGFyZ3VtZW50cyBhcmUgcmVsZXZhbnQsIHNpbmNlIGEgdmFsdWUgc3BlY2lmaWVkIG9uXG4gKiB0aGUgbGF0dGVyIGVsZW1lbnQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIG9uZSBvbiB0aGUgZm9ybWVyLiBBIGZvcmNlZCBicmVha1xuICogdmFsdWUgaXMgY2hvc2VuIGlmIHByZXNlbnQuIE90aGVyd2lzZSwgYW4gYXZvaWQgYnJlYWsgdmFsdWUgaXMgY2hvc2VuIGlmXG4gKiBwcmVzZW50LiBTZWUgQ1NTIEZyYWdtZW50YXRpb24gTW9kdWxlIGZvciB0aGUgcnVsZTpcbiAqICBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLWJyZWFrLyNmb3JjZWQtYnJlYWtzXG4gKiAgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1icmVhay8jdW5mb3JjZWQtYnJlYWtzXG4gKiBOb3RlIHRoYXQgdGhvdWdoIHRoZSBzcGVjIHJlcXVpcmVzIHRvIGhvbm9yIG11bHRpcGxlIGJyZWFrIHZhbHVlcyBhdCBhIHNpbmdsZVxuICogYnJlYWsgcG9pbnQsIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIGNob29zZSBvbmUgb2YgdGhlbSBhbmQgZGlzY2FyZCB0aGVcbiAqIG90aGVycy5cbiAqIEBwYXJhbSBmaXJzdCBUaGUgYnJlYWsgdmFsdWUgc3BlY2lmaWVkIG9uIHRoZSBmb3JtZXIgZWxlbWVudC4gbnVsbCBtZWFuc1xuICogICAgICdhdXRvJyAobm90IHNwZWNpZmllZClcbiAqIEBwYXJhbSBzZWNvbmQgVGhlIGJyZWFrIHZhbHVlIHNwZWNpZmllZCBvbiB0aGUgbGF0dGVyIGVsZW1lbnQuIG51bGwgbWVhbnNcbiAqICAgICAnYXV0bycgKG5vdCBzcGVjaWZpZWQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgZmlyc3Q6IHN0cmluZyB8IG51bGwsXG4gIHNlY29uZDogc3RyaW5nIHwgbnVsbCxcbik6IHN0cmluZyB8IG51bGwge1xuICBpZiAoIWZpcnN0KSB7XG4gICAgcmV0dXJuIHNlY29uZDtcbiAgfSBlbHNlIGlmICghc2Vjb25kKSB7XG4gICAgcmV0dXJuIGZpcnN0O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGZpcnN0SXNGb3JjZWRCcmVha1ZhbHVlID0gaXNGb3JjZWRCcmVha1ZhbHVlKGZpcnN0KTtcbiAgICBjb25zdCBzZWNvbmRJc0ZvcmNlZEJyZWFrVmFsdWUgPSBpc0ZvcmNlZEJyZWFrVmFsdWUoc2Vjb25kKTtcbiAgICBpZiAoZmlyc3RJc0ZvcmNlZEJyZWFrVmFsdWUgJiYgc2Vjb25kSXNGb3JjZWRCcmVha1ZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHNlY29uZCkge1xuICAgICAgICBjYXNlIFwiY29sdW1uXCI6XG4gICAgICAgICAgLy8gXCJjb2x1bW5cIiBpcyB0aGUgd2Vha2VzdCB2YWx1ZVxuICAgICAgICAgIHJldHVybiBmaXJzdDtcbiAgICAgICAgY2FzZSBcInJlZ2lvblwiOlxuICAgICAgICAgIC8vIFwicmVnaW9uXCIgaXMgc3Ryb25nZXIgdGhhbiBcImNvbHVtblwiIGJ1dCB3ZWFrZXIgdGhhbiBwYWdlXG4gICAgICAgICAgLy8gdmFsdWVzXG4gICAgICAgICAgcmV0dXJuIGZpcnN0ID09PSBcImNvbHVtblwiID8gc2Vjb25kIDogZmlyc3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gcGFnZSB2YWx1ZXMgYXJlIHN0cm9uZ2VzdFxuICAgICAgICAgIHJldHVybiBzZWNvbmQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWNvbmRJc0ZvcmNlZEJyZWFrVmFsdWUpIHtcbiAgICAgIHJldHVybiBzZWNvbmQ7XG4gICAgfSBlbHNlIGlmIChmaXJzdElzRm9yY2VkQnJlYWtWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH0gZWxzZSBpZiAoaXNBdm9pZEJyZWFrVmFsdWUoc2Vjb25kKSkge1xuICAgICAgcmV0dXJuIHNlY29uZDtcbiAgICB9IGVsc2UgaWYgKGlzQXZvaWRCcmVha1ZhbHVlKGZpcnN0KSkge1xuICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2Vjb25kO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYnJlYWtWYWx1ZVRvU3RhcnRTaWRlVmFsdWUoYnJlYWtWYWx1ZTogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG4gIHN3aXRjaCAoYnJlYWtWYWx1ZSkge1xuICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgY2FzZSBcInJlY3RvXCI6XG4gICAgY2FzZSBcInZlcnNvXCI6XG4gICAgICByZXR1cm4gYnJlYWtWYWx1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiYW55XCI7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0U2lkZVZhbHVlVG9CcmVha1ZhbHVlKFxuICBzdGFydFNpZGVWYWx1ZTogc3RyaW5nLFxuKTogc3RyaW5nIHwgbnVsbCB7XG4gIHN3aXRjaCAoc3RhcnRTaWRlVmFsdWUpIHtcbiAgICBjYXNlIFwibGVmdFwiOlxuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgIGNhc2UgXCJyZWN0b1wiOlxuICAgIGNhc2UgXCJ2ZXJzb1wiOlxuICAgICAgcmV0dXJuIHN0YXJ0U2lkZVZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFwiU0lNUExFX1BST1BFUlRZXCIsIGNvbnZlcnRQYWdlQnJlYWtBbGlhc2VzKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXRIZWxwZXIgLSBIZWxwZXIgZnVuY3Rpb25zIG9mIExheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgTGF5b3V0LCBWdHJlZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbi8qKlxuICogVGhvdWdoIG1ldGhvZCB1c2VkIHRvIGJlIHVzZWQgYXMgYSB3b3JrYXJvdW5kIGZvciBDaHJvbWUgYnVnLCBpdCBzZWVtcyB0aGF0XG4gKiB0aGUgYnVnIGhhcyBiZWVuIGFscmVhZHkgZml4ZWQ6XG4gKiAgIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI5NzgwOFxuICogV2Ugbm93IHVzZSB0aGlzIG1ldGhvZCBhcyBhIHdvcmthcm91bmQgZm9yIEZpcmVmb3ggYnVnOlxuICogICBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xMTU5MzA5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXhCb3hlc0Zvck5vZGUoXG4gIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICBib3hlczogVnRyZWUuQ2xpZW50UmVjdFtdLFxuICBub2RlOiBOb2RlLFxuKTogVnRyZWUuQ2xpZW50UmVjdFtdIHtcbiAgY29uc3QgZnVsbFJhbmdlID0gbm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gIGZ1bGxSYW5nZS5zZXRTdGFydChub2RlLCAwKTtcbiAgZnVsbFJhbmdlLnNldEVuZChub2RlLCBub2RlLnRleHRDb250ZW50Lmxlbmd0aCk7XG4gIGNvbnN0IGZ1bGxCb3hlcyA9IGNsaWVudExheW91dC5nZXRSYW5nZUNsaWVudFJlY3RzKGZ1bGxSYW5nZSk7XG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xuICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xuICAgIGxldCBrOiBudW1iZXI7XG4gICAgZm9yIChrID0gMDsgayA8IGZ1bGxCb3hlcy5sZW5ndGg7IGsrKykge1xuICAgICAgY29uc3QgZnVsbEJveCA9IGZ1bGxCb3hlc1trXTtcbiAgICAgIGlmIChcbiAgICAgICAgYm94LnRvcCA+PSBmdWxsQm94LnRvcCAmJlxuICAgICAgICBib3guYm90dG9tIDw9IGZ1bGxCb3guYm90dG9tICYmXG4gICAgICAgIE1hdGguYWJzKGJveC5sZWZ0IC0gZnVsbEJveC5sZWZ0KSA8IDFcbiAgICAgICkge1xuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgdG9wOiBib3gudG9wLFxuICAgICAgICAgIGxlZnQ6IGZ1bGxCb3gubGVmdCxcbiAgICAgICAgICBib3R0b206IGJveC5ib3R0b20sXG4gICAgICAgICAgcmlnaHQ6IGZ1bGxCb3gucmlnaHQsXG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGsgPT0gZnVsbEJveGVzLmxlbmd0aCkge1xuICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcIkNvdWxkIG5vdCBmaXggY2hhcmFjdGVyIGJveFwiKTtcbiAgICAgIHJlc3VsdC5wdXNoKGJveCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgXCJhZnRlclwiIGVkZ2UgaW4gdGhlIGJsb2NrLXByb2dyZXNzaW9uXG4gKiBkaW1lbnNpb24uIFJldHVybiAwIGlmIHBvc2l0aW9uIHdhcyBkZXRlcm1pbmVkIHN1Y2Nlc3NmdWxseSBhbmQgcmV0dXJuXG4gKiBub24temVybyBpZiBwb3NpdGlvbiBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCBhbmQgdGhlIG5vZGUgc2hvdWxkIGJlXG4gKiBjb25zaWRlcmVkIHplcm8taGVpZ2h0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlRWRnZShcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgZXh0cmFPZmZzZXQ6IG51bWJlcixcbiAgdmVydGljYWw6IGJvb2xlYW4sXG4pOiBudW1iZXIge1xuICBjb25zdCBub2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBOYU47XG4gIH1cbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgIGlmIChub2RlQ29udGV4dC5hZnRlciB8fCAhbm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICBjb25zdCBjYm94ID0gY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KG5vZGUgYXMgRWxlbWVudCk7XG4gICAgICBpZiAoY2JveC5yaWdodCA+PSBjYm94LmxlZnQgJiYgY2JveC5ib3R0b20gPj0gY2JveC50b3ApIHtcbiAgICAgICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZlcnRpY2FsID8gY2JveC5sZWZ0IDogY2JveC5ib3R0b207XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHZlcnRpY2FsID8gY2JveC5yaWdodCA6IGNib3gudG9wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBOYU47XG4gIH0gZWxzZSB7XG4gICAgbGV0IGVkZ2UgPSBOYU47XG4gICAgY29uc3QgcmFuZ2UgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBjb25zdCBsZW5ndGggPSBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBleHRyYU9mZnNldCArPSBsZW5ndGg7XG4gICAgfVxuICAgIGlmIChleHRyYU9mZnNldCA+PSBsZW5ndGgpIHtcbiAgICAgIGV4dHJhT2Zmc2V0ID0gbGVuZ3RoIC0gMTtcbiAgICB9XG4gICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgZXh0cmFPZmZzZXQpO1xuICAgIHJhbmdlLnNldEVuZChub2RlLCBleHRyYU9mZnNldCArIDEpO1xuICAgIGxldCBib3hlcyA9IGNsaWVudExheW91dC5nZXRSYW5nZUNsaWVudFJlY3RzKHJhbmdlKTtcbiAgICBpZiAodmVydGljYWwgJiYgQmFzZS5jaGVja1ZlcnRpY2FsQkJveEJ1Zyhkb2N1bWVudC5ib2R5KSkge1xuICAgICAgYm94ZXMgPSBmaXhCb3hlc0Zvck5vZGUoY2xpZW50TGF5b3V0LCBib3hlcywgbm9kZSk7XG4gICAgfVxuICAgIGxldCBtYXhTaXplID0gMDtcblxuICAgIC8vIEdldCBmaXJzdCBvZiB0aGUgd2lkZXN0IGJveGVzICh3b3JrcyBhcm91bmQgQ2hyb21lIHJlc3VsdHMgZm9yIHNvZnRcbiAgICAvLyBoeXBoZW5zKS5cbiAgICBmb3IgKGNvbnN0IGJveCBvZiBib3hlcykge1xuICAgICAgY29uc3QgYm94U2l6ZSA9IHZlcnRpY2FsID8gYm94LmJvdHRvbSAtIGJveC50b3AgOiBib3gucmlnaHQgLSBib3gubGVmdDtcbiAgICAgIGlmIChcbiAgICAgICAgYm94LnJpZ2h0ID4gYm94LmxlZnQgJiZcbiAgICAgICAgYm94LmJvdHRvbSA+IGJveC50b3AgJiZcbiAgICAgICAgKGlzTmFOKGVkZ2UpIHx8IGJveFNpemUgPiBtYXhTaXplKVxuICAgICAgKSB7XG4gICAgICAgIGVkZ2UgPSB2ZXJ0aWNhbCA/IGJveC5sZWZ0IDogYm94LmJvdHRvbTtcbiAgICAgICAgbWF4U2l6ZSA9IGJveFNpemU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlZGdlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50SGVpZ2h0KFxuICBlbGVtZW50OiBFbGVtZW50LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gIHZlcnRpY2FsOiBib29sZWFuLFxuKTogbnVtYmVyIHtcbiAgY29uc3QgcmVjdCA9IGNvbHVtbi5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoZWxlbWVudCk7XG4gIGNvbnN0IG1hcmdpbiA9IGNvbHVtbi5nZXRDb21wdXRlZE1hcmdpbihlbGVtZW50KTtcbiAgcmV0dXJuIHZlcnRpY2FsXG4gICAgPyByZWN0W1wid2lkdGhcIl0gKyBtYXJnaW5bXCJsZWZ0XCJdICsgbWFyZ2luW1wicmlnaHRcIl1cbiAgICA6IHJlY3RbXCJoZWlnaHRcIl0gKyBtYXJnaW5bXCJ0b3BcIl0gKyBtYXJnaW5bXCJib3R0b21cIl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09ycGhhbihub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgaWYgKG5vZGUucGFyZW50Tm9kZSA9PT0gbm9kZS5vd25lckRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVGb2xsb3dpbmdTaWJsaW5ncyhcbiAgcGFyZW50Tm9kZTogTm9kZSxcbiAgdmlld05vZGU6IE5vZGUsXG4pOiB2b2lkIHtcbiAgaWYgKCFwYXJlbnROb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBsYXN0Q2hpbGQ6IE5vZGU7XG4gIHdoaWxlICgobGFzdENoaWxkID0gcGFyZW50Tm9kZS5sYXN0Q2hpbGQpICE9IHZpZXdOb2RlKSB7XG4gICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsYXN0Q2hpbGQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NwZWNpYWwoZTogRWxlbWVudCk6IGJvb2xlYW4ge1xuICByZXR1cm4gISFlLmdldEF0dHJpYnV0ZShWdHJlZUltcGwuU1BFQ0lBTF9BVFRSKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gIGlmICh2aWV3Tm9kZSAmJiB2aWV3Tm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIHJldHVybiBpc1NwZWNpYWwodmlld05vZGUgYXMgRWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQnJlYWtQb3NpdGlvbiAtIERlZmluaXRpb25zIG9mIEJyZWFrUG9zaXRpb24uXG4gKi9cbmltcG9ydCAqIGFzIEJyZWFrIGZyb20gXCIuL2JyZWFrXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRIZWxwZXIgZnJvbSBcIi4vbGF5b3V0LWhlbHBlclwiO1xuaW1wb3J0IHsgTGF5b3V0LCBSZXBldGl0aXZlRWxlbWVudCwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IHR5cGUgQnJlYWtQb3NpdGlvbiA9IExheW91dC5CcmVha1Bvc2l0aW9uO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RCcmVha1Bvc2l0aW9uXG4gIGltcGxlbWVudHMgTGF5b3V0LkFic3RyYWN0QnJlYWtQb3NpdGlvbiB7XG4gIGFic3RyYWN0IGZpbmRBY2NlcHRhYmxlQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBlbmFsdHk6IG51bWJlcixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQ7XG5cbiAgYWJzdHJhY3QgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlcjtcblxuICBjYWxjdWxhdGVPZmZzZXQoY29sdW1uKTogeyBjdXJyZW50OiBudW1iZXI7IG1pbmltdW06IG51bWJlciB9IHtcbiAgICByZXR1cm4gY2FsY3VsYXRlT2Zmc2V0KFxuICAgICAgdGhpcy5nZXROb2RlQ29udGV4dCgpLFxuICAgICAgY29sdW1uLmNvbGxlY3RFbGVtZW50c09mZnNldCgpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBicmVha1Bvc2l0aW9uQ2hvc2VuKGNvbHVtbjogTGF5b3V0LkNvbHVtbik6IHZvaWQge31cblxuICBnZXROb2RlQ29udGV4dCgpOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZU9mZnNldChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBlbGVtZW50c09mZnNldHM6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10sXG4pOiB7IGN1cnJlbnQ6IG51bWJlcjsgbWluaW11bTogbnVtYmVyIH0ge1xuICByZXR1cm4ge1xuICAgIGN1cnJlbnQ6IGVsZW1lbnRzT2Zmc2V0cy5yZWR1Y2UoXG4gICAgICAodmFsLCByZXBldGl0aXZlRWxlbWVudCkgPT5cbiAgICAgICAgdmFsICsgcmVwZXRpdGl2ZUVsZW1lbnQuY2FsY3VsYXRlT2Zmc2V0KG5vZGVDb250ZXh0KSxcbiAgICAgIDAsXG4gICAgKSxcbiAgICBtaW5pbXVtOiBlbGVtZW50c09mZnNldHMucmVkdWNlKFxuICAgICAgKHZhbCwgcmVwZXRpdGl2ZUVsZW1lbnQpID0+XG4gICAgICAgIHZhbCArIHJlcGV0aXRpdmVFbGVtZW50LmNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQpLFxuICAgICAgMCxcbiAgICApLFxuICB9O1xufVxuXG4vKipcbiAqIFBvdGVudGlhbCBlZGdlIGJyZWFraW5nIHBvc2l0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgRWRnZUJyZWFrUG9zaXRpb24gZXh0ZW5kcyBBYnN0cmFjdEJyZWFrUG9zaXRpb25cbiAgaW1wbGVtZW50cyBMYXlvdXQuRWRnZUJyZWFrUG9zaXRpb24ge1xuICBvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZDogYm9vbGVhbjtcbiAgcHJvdGVjdGVkIGlzRWRnZVVwZGF0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBlZGdlOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IGJyZWFrT25FZGdlOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbXB1dGVkQmxvY2tTaXplOiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5vdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZCA9IG92ZXJmbG93cztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBlbmFsdHk6IG51bWJlcixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIHRoaXMudXBkYXRlT3ZlcmZsb3dzKGNvbHVtbik7XG4gICAgaWYgKHBlbmFsdHkgPCB0aGlzLmdldE1pbkJyZWFrUGVuYWx0eSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbi5maW5kRWRnZUJyZWFrUG9zaXRpb24odGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuaXNFZGdlVXBkYXRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWRnZUJyZWFrUG9zaXRpb24ucHJvdG90eXBlLnVwZGF0ZUVkZ2Ugbm90IGNhbGxlZFwiKTtcbiAgICB9XG4gICAgY29uc3QgcHJlZmVyRHJvcHBpbmcgPVxuICAgICAgdGhpcy5pc0ZpcnN0Q29udGVudE9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXIoKSAmJlxuICAgICAgIXRoaXMub3ZlcmZsb3dJZlJlcGV0aXRpdmVFbGVtZW50c0Ryb3BwZWQ7XG4gICAgcmV0dXJuIChcbiAgICAgIChCcmVhay5pc0F2b2lkQnJlYWtWYWx1ZSh0aGlzLmJyZWFrT25FZGdlKSA/IDEgOiAwKSArXG4gICAgICAodGhpcy5vdmVyZmxvd3MgJiYgIXByZWZlckRyb3BwaW5nID8gMyA6IDApICtcbiAgICAgICh0aGlzLnBvc2l0aW9uLnBhcmVudCA/IHRoaXMucG9zaXRpb24ucGFyZW50LmJyZWFrUGVuYWx0eSA6IDApXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlRWRnZShjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBjb25zdCBjbG9uZWRQYWRkaW5nQm9yZGVyID0gY29sdW1uLmNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIoXG4gICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICk7XG4gICAgdGhpcy5lZGdlID1cbiAgICAgIExheW91dEhlbHBlci5jYWxjdWxhdGVFZGdlKFxuICAgICAgICB0aGlzLnBvc2l0aW9uLFxuICAgICAgICBjb2x1bW4uY2xpZW50TGF5b3V0LFxuICAgICAgICAwLFxuICAgICAgICBjb2x1bW4udmVydGljYWwsXG4gICAgICApICsgY2xvbmVkUGFkZGluZ0JvcmRlcjtcbiAgICB0aGlzLmlzRWRnZVVwZGF0ZWQgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVPdmVyZmxvd3MoY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRnZVVwZGF0ZWQpIHtcbiAgICAgIHRoaXMudXBkYXRlRWRnZShjb2x1bW4pO1xuICAgIH1cbiAgICBjb25zdCBlZGdlID0gdGhpcy5lZGdlO1xuICAgIGNvbnN0IG9mZnNldHMgPSB0aGlzLmNhbGN1bGF0ZU9mZnNldChjb2x1bW4pO1xuICAgIHRoaXMub3ZlcmZsb3dJZlJlcGV0aXRpdmVFbGVtZW50c0Ryb3BwZWQgPSBjb2x1bW4uaXNPdmVyZmxvd24oXG4gICAgICBlZGdlICsgKGNvbHVtbi52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLm1pbmltdW0sXG4gICAgKTtcbiAgICB0aGlzLm92ZXJmbG93cyA9IHRoaXMucG9zaXRpb24ub3ZlcmZsb3cgPSBjb2x1bW4uaXNPdmVyZmxvd24oXG4gICAgICBlZGdlICsgKGNvbHVtbi52ZXJ0aWNhbCA/IC0xIDogMSkgKiBvZmZzZXRzLmN1cnJlbnQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0Tm9kZUNvbnRleHQoKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnBvc2l0aW9uO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0ZpcnN0Q29udGVudE9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXIoKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSB0aGlzLmdldE5vZGVDb250ZXh0KCk7XG4gICAgaWYgKCFub2RlQ29udGV4dCB8fCAhbm9kZUNvbnRleHQucGFyZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHsgZm9ybWF0dGluZ0NvbnRleHQgfSA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICBpZiAoXG4gICAgICAhUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cy5pc0ZpcnN0Q29udGVudE5vZGUobm9kZUNvbnRleHQpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBEaXNwbGF5IC0gQ1NTIERpc3BsYXkgTW9kdWxlXG4gKi9cbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcblxuZXhwb3J0IGNvbnN0IEZMT1dfUk9PVF9BVFRSID0gXCJkYXRhLXZpdmxpb3N0eWxlLWZsb3ctcm9vdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGbG93Um9vdChlbGVtZW50OiBFbGVtZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShGTE9XX1JPT1RfQVRUUikgPT09IFwidHJ1ZVwiO1xufVxuXG4vKipcbiAqICdCbG9ja2lmeScgYSBkaXNwbGF5IHZhbHVlLlxuICogY2YuIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3MtZGlzcGxheS8jdHJhbnNmb3JtYXRpb25zXG4gKiAgICAgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2NzczIvdmlzdXJlbi5odG1sI2Rpcy1wb3MtZmxvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBibG9ja2lmeShkaXNwbGF5OiBDc3MuSWRlbnQpOiBDc3MuSWRlbnQge1xuICBjb25zdCBkaXNwbGF5U3RyID0gZGlzcGxheS50b1N0cmluZygpO1xuICBsZXQgYmxvY2tpZmllZFN0cjogc3RyaW5nO1xuICBzd2l0Y2ggKGRpc3BsYXlTdHIpIHtcbiAgICBjYXNlIFwiaW5saW5lLWZsZXhcIjpcbiAgICAgIGJsb2NraWZpZWRTdHIgPSBcImZsZXhcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbmxpbmUtZ3JpZFwiOlxuICAgICAgYmxvY2tpZmllZFN0ciA9IFwiZ3JpZFwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcImlubGluZS10YWJsZVwiOlxuICAgICAgYmxvY2tpZmllZFN0ciA9IFwidGFibGVcIjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJpbmxpbmVcIjpcbiAgICBjYXNlIFwidGFibGUtcm93LWdyb3VwXCI6XG4gICAgY2FzZSBcInRhYmxlLWNvbHVtblwiOlxuICAgIGNhc2UgXCJ0YWJsZS1jb2x1bW4tZ3JvdXBcIjpcbiAgICBjYXNlIFwidGFibGUtaGVhZGVyLWdyb3VwXCI6XG4gICAgY2FzZSBcInRhYmxlLWZvb3Rlci1ncm91cFwiOlxuICAgIGNhc2UgXCJ0YWJsZS1yb3dcIjpcbiAgICBjYXNlIFwidGFibGUtY2VsbFwiOlxuICAgIGNhc2UgXCJ0YWJsZS1jYXB0aW9uXCI6XG4gICAgY2FzZSBcImlubGluZS1ibG9ja1wiOlxuICAgICAgYmxvY2tpZmllZFN0ciA9IFwiYmxvY2tcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBibG9ja2lmaWVkU3RyID0gZGlzcGxheVN0cjtcbiAgfVxuICByZXR1cm4gQ3NzLmdldE5hbWUoYmxvY2tpZmllZFN0cik7XG59XG5cbi8qKlxuICogSnVkZ2UgaWYgdGhlIGdlbmVyYXRlZCBib3ggaXMgYWJzb2x1dGVseSBwb3NpdGlvbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZWx5UG9zaXRpb25lZChwb3NpdGlvbjogQ3NzLklkZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiBwb3NpdGlvbiA9PT0gQ3NzLmlkZW50LmFic29sdXRlIHx8IHBvc2l0aW9uID09PSBDc3MuaWRlbnQuZml4ZWQ7XG59XG5cbi8qKlxuICogR2V0IGNvbXB1dGVkIHZhbHVlcyBvZiBkaXNwbGF5LCBwb3NpdGlvbiBhbmQgZmxvYXQuXG4gKiBjZi4gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1kaXNwbGF5LyN0cmFuc2Zvcm1hdGlvbnNcbiAqICAgICBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzMi92aXN1cmVuLmh0bWwjZGlzLXBvcy1mbG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXB1dGVkRGlzbGF5VmFsdWUoXG4gIGRpc3BsYXk6IENzcy5JZGVudCxcbiAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgZmxvYXQ6IENzcy5JZGVudCxcbiAgaXNSb290OiBib29sZWFuLFxuKTogeyBkaXNwbGF5OiBDc3MuSWRlbnQ7IHBvc2l0aW9uOiBDc3MuSWRlbnQ7IGZsb2F0OiBDc3MuSWRlbnQgfSB7XG4gIGlmIChkaXNwbGF5ID09PSBDc3MuaWRlbnQubm9uZSkge1xuICAgIC8vIG5vIG5lZWQgdG8gY29udmVydCB2YWx1ZXMgd2hlbiAnZGlzcGxheScgaXMgJ25vbmUnXG4gIH0gZWxzZSBpZiAoaXNBYnNvbHV0ZWx5UG9zaXRpb25lZChwb3NpdGlvbikpIHtcbiAgICBmbG9hdCA9IENzcy5pZGVudC5ub25lO1xuICAgIGRpc3BsYXkgPSBibG9ja2lmeShkaXNwbGF5KTtcbiAgfSBlbHNlIGlmICgoZmxvYXQgJiYgZmxvYXQgIT09IENzcy5pZGVudC5ub25lKSB8fCBpc1Jvb3QpIHtcbiAgICBkaXNwbGF5ID0gYmxvY2tpZnkoZGlzcGxheSk7XG4gIH1cbiAgcmV0dXJuIHsgZGlzcGxheSwgcG9zaXRpb24sIGZsb2F0IH07XG59XG5cbi8qKlxuICogSnVkZ2VzIGlmIHRoZSBnZW5lcmF0ZWQgYm94IGlzIGJsb2NrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCbG9jayhcbiAgZGlzcGxheTogQ3NzLklkZW50LFxuICBwb3NpdGlvbjogQ3NzLklkZW50LFxuICBmbG9hdDogQ3NzLklkZW50LFxuICBpc1Jvb3Q6IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBnZXRDb21wdXRlZERpc2xheVZhbHVlKGRpc3BsYXksIHBvc2l0aW9uLCBmbG9hdCwgaXNSb290KS5kaXNwbGF5ID09PVxuICAgIENzcy5pZGVudC5ibG9ja1xuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNJbmxpbmVMZXZlbChkaXNwbGF5OiBDc3MuSWRlbnQpOiBib29sZWFuIHtcbiAgc3dpdGNoIChkaXNwbGF5LnRvU3RyaW5nKCkpIHtcbiAgICBjYXNlIFwiaW5saW5lXCI6XG4gICAgY2FzZSBcImlubGluZS1ibG9ja1wiOlxuICAgIGNhc2UgXCJpbmxpbmUtbGlzdC1pdGVtXCI6XG4gICAgY2FzZSBcImlubGluZS1mbGV4XCI6XG4gICAgY2FzZSBcImlubGluZS1ncmlkXCI6XG4gICAgY2FzZSBcInJ1YnlcIjpcbiAgICBjYXNlIFwiaW5saW5lLXRhYmxlXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1J1YnlJbnRlcm5hbERpc3BsYXkoZGlzcGxheTogQ3NzLklkZW50KTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZGlzcGxheS50b1N0cmluZygpKSB7XG4gICAgY2FzZSBcInJ1YnktYmFzZVwiOlxuICAgIGNhc2UgXCJydWJ5LXRleHRcIjpcbiAgICBjYXNlIFwicnVieS1iYXNlLWNvbnRhaW5lclwiOlxuICAgIGNhc2UgXCJydWJ5LXRleHQtY29udGFpbmVyXCI6XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogSnVkZ2VzIGlmIHRoZSBnZW5lcmF0ZWQgYm94IGVzdGFibGlzaGVzIGEgbmV3IGJsb2NrIGZvcm1hdHRpbmcgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzdGFibGlzaGVzQkZDKFxuICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gIHBvc2l0aW9uOiBDc3MuSWRlbnQsXG4gIGZsb2F0OiBDc3MuSWRlbnQsXG4gIG92ZXJmbG93OiBDc3MuSWRlbnQsXG4gIHdyaXRpbmdNb2RlPzogQ3NzLklkZW50LFxuICBwYXJlbnRXcml0aW5nTW9kZT86IENzcy5JZGVudCxcbiAgaXNGbG93Um9vdD86IGJvb2xlYW4sXG4pOiBib29sZWFuIHtcbiAgd3JpdGluZ01vZGUgPSB3cml0aW5nTW9kZSB8fCBwYXJlbnRXcml0aW5nTW9kZSB8fCBDc3MuaWRlbnQuaG9yaXpvbnRhbF90YjtcbiAgcmV0dXJuIChcbiAgICAhIWlzRmxvd1Jvb3QgfHxcbiAgICAoISFmbG9hdCAmJiBmbG9hdCAhPT0gQ3NzLmlkZW50Lm5vbmUpIHx8XG4gICAgaXNBYnNvbHV0ZWx5UG9zaXRpb25lZChwb3NpdGlvbikgfHxcbiAgICBkaXNwbGF5ID09PSBDc3MuaWRlbnQuaW5saW5lX2Jsb2NrIHx8XG4gICAgZGlzcGxheSA9PT0gQ3NzLmlkZW50LnRhYmxlX2NlbGwgfHxcbiAgICBkaXNwbGF5ID09PSBDc3MuaWRlbnQudGFibGVfY2FwdGlvbiB8fFxuICAgIGRpc3BsYXkgPT0gQ3NzLmlkZW50LmZsZXggfHxcbiAgICAoKGRpc3BsYXkgPT09IENzcy5pZGVudC5ibG9jayB8fCBkaXNwbGF5ID09PSBDc3MuaWRlbnQubGlzdF9pdGVtKSAmJlxuICAgICAgISFvdmVyZmxvdyAmJlxuICAgICAgb3ZlcmZsb3cgIT09IENzcy5pZGVudC52aXNpYmxlKSB8fFxuICAgICghIXBhcmVudFdyaXRpbmdNb2RlICYmIHdyaXRpbmdNb2RlICE9PSBwYXJlbnRXcml0aW5nTW9kZSlcbiAgKTtcbn1cblxuLyoqXG4gKiBKdWRnZXMgaWYgdGhlIGdlbmVyYXRlZCBib3ggZXN0YWJsaXNoZXMgYSBjb250YWluaW5nIGJsb2NrIGZvciBkZXNjZW5kYW50XG4gKiBib3hlcyB3aXRoICdwb3NpdGlvbjogYWJzb2x1dGUnLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXN0YWJsaXNoZXNDQkZvckFic29sdXRlKHBvc2l0aW9uOiBDc3MuSWRlbnQpOiBib29sZWFuIHtcbiAgcmV0dXJuIChcbiAgICBwb3NpdGlvbiA9PT0gQ3NzLmlkZW50LnJlbGF0aXZlIHx8XG4gICAgcG9zaXRpb24gPT09IENzcy5pZGVudC5hYnNvbHV0ZSB8fFxuICAgIHBvc2l0aW9uID09PSBDc3MuaWRlbnQuZml4ZWRcbiAgKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXRQcm9jZXNzb3IgLSBEZWZpbml0aW9ucyBvZiBMYXlvdXRQcm9jZXNzb3IuXG4gKi9cbmltcG9ydCAqIGFzIEJyZWFrUG9zaXRpb24gZnJvbSBcIi4vYnJlYWstcG9zaXRpb25cIjtcbmltcG9ydCAqIGFzIERpc3BsYXkgZnJvbSBcIi4vZGlzcGxheVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0SGVscGVyIGZyb20gXCIuL2xheW91dC1oZWxwZXJcIjtcbmltcG9ydCAqIGFzIFBsdWdpbiBmcm9tIFwiLi9wbHVnaW5cIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0IHsgRm9ybWF0dGluZ0NvbnRleHRUeXBlLCBMYXlvdXQsIExheW91dFByb2Nlc3NvciwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIFByb2Nlc3NvciBkb2luZyBzb21lIHNwZWNpYWwgbGF5b3V0IChlLmcuIHRhYmxlIGxheW91dClcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRQcm9jZXNzb3Ige1xuICAvKipcbiAgICogRG8gYWN0dWFsIGxheW91dCBpbiB0aGUgY29sdW1uIHN0YXJ0aW5nIGZyb20gZ2l2ZW4gTm9kZUNvbnRleHQuXG4gICAqL1xuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuXG4gIC8qKlxuICAgKiBQb3RlbnRpYWwgZWRnZSBicmVha2luZyBwb3NpdGlvbi5cbiAgICovXG4gIGNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgY29sdW1uQmxvY2tTaXplOiBudW1iZXIsXG4gICk6IExheW91dC5CcmVha1Bvc2l0aW9uO1xuXG4gIC8qKlxuICAgKiBwcm9jZXNzIG5vZGVjb250ZXh0IGF0IHRoZSBzdGFydCBvZiBhIG5vbiBpbmxpbmUgZWxlbWVudC5cbiAgICogQHJldHVybiByZXR1cm4gdHJ1ZSBpZiB5b3Ugc2tpcCB0aGUgc3Vic2VxdWVudCBub2Rlc1xuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBwcm9jZXNzIG5vZGVjb250ZXh0IGFmdGVyIGEgbm9uIGlubGluZSBlbGVtZW50LlxuICAgKiBAcmV0dXJuIHJldHVybiB0cnVlIGlmIHlvdSBza2lwIHRoZSBzdWJzZXF1ZW50IG5vZGVzXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdG9wQXRPdmVyZmxvdzogYm9vbGVhbixcbiAgKTogYm9vbGVhbjtcblxuICAvKipcbiAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuXG4gIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICk7XG59XG5cbi8qKlxuICogUmVzb2x2ZXIgZmluZGluZyBhbiBhcHByb3ByaWF0ZSBMYXlvdXRQcm9jZXNzb3IgZ2l2ZW4gYSBmb3JtYXR0aW5nIGNvbnRleHRcbiAqL1xuZXhwb3J0IGNsYXNzIExheW91dFByb2Nlc3NvclJlc29sdmVyIHtcbiAgLyoqXG4gICAqIEZpbmQgTGF5b3V0UHJvY2Vzc29yIGNvcnJlc3BvbmRpbmcgdG8gZ2l2ZW4gZm9ybWF0dGluZyBjb250ZXh0LlxuICAgKi9cbiAgZmluZChmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpOiBMYXlvdXRQcm9jZXNzb3Ige1xuICAgIGNvbnN0IGhvb2tzOiBQbHVnaW4uUmVzb2x2ZUxheW91dFByb2Nlc3Nvckhvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9MQVlPVVRfUFJPQ0VTU09SLFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJvY2Vzc29yID0gaG9va3NbaV0oZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgICAgaWYgKHByb2Nlc3Nvcikge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc29yO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgTm8gcHJvY2Vzc29yIGZvdW5kIGZvciBhIGZvcm1hdHRpbmcgY29udGV4dDogJHtmb3JtYXR0aW5nQ29udGV4dC5nZXROYW1lKCl9YCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCbG9ja0xheW91dFByb2Nlc3NvciBpbXBsZW1lbnRzIExheW91dFByb2Nlc3NvciB7XG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChjb2x1bW4uaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5sYXlvdXRGbG9hdE9yRm9vdG5vdGUobm9kZUNvbnRleHQpO1xuICAgIH0gZWxzZSBpZiAoY29sdW1uLmlzQnJlYWthYmxlKG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5sYXlvdXRCcmVha2FibGVCbG9jayhub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjb2x1bW4ubGF5b3V0VW5icmVha2FibGUobm9kZUNvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgY29sdW1uQmxvY2tTaXplOiBudW1iZXIsXG4gICk6IExheW91dC5CcmVha1Bvc2l0aW9uIHtcbiAgICByZXR1cm4gbmV3IEJyZWFrUG9zaXRpb24uRWRnZUJyZWFrUG9zaXRpb24oXG4gICAgICBwb3NpdGlvbi5jb3B5KCksXG4gICAgICBicmVha09uRWRnZSxcbiAgICAgIG92ZXJmbG93cyxcbiAgICAgIGNvbHVtbkJsb2NrU2l6ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdG9wQXRPdmVyZmxvdzogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgKSB7XG4gICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGU7XG4gICAgTGF5b3V0SGVscGVyLnJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzKHBhcmVudE5vZGUsIG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICBpZiAocmVtb3ZlU2VsZikge1xuICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlbW92ZVNlbGYgPVxuICAgICAgZm9yY2VSZW1vdmVTZWxmIHx8XG4gICAgICAobm9kZUNvbnRleHQudmlld05vZGUgIT0gbnVsbCAmJlxuICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSA9PSAxICYmXG4gICAgICAgICFub2RlQ29udGV4dC5hZnRlcik7XG4gICAgY29sdW1uLmNsZWFyT3ZlcmZsb3duVmlld05vZGVzKG5vZGVDb250ZXh0LCByZW1vdmVTZWxmKTtcbiAgICBpZiAoZW5kT2ZDb2x1bW4pIHtcbiAgICAgIGNvbHVtbi5maXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQobm9kZUNvbnRleHQsIHRydWUpO1xuICAgICAgY29sdW1uLmxheW91dENvbnRleHQucHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2UoXG4gICAgICAgIHJlbW92ZVNlbGYgPyBub2RlQ29udGV4dCA6IG5vZGVDb250ZXh0LnBhcmVudCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxvY2tGb3JtYXR0aW5nQ29udGV4dFxuICBpbXBsZW1lbnRzIExheW91dFByb2Nlc3Nvci5CbG9ja0Zvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIkJsb2NrXCI7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwYXJlbnQ6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0KSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gXCJCbG9jayBmb3JtYXR0aW5nIGNvbnRleHQgKEJsb2NrRm9ybWF0dGluZ0NvbnRleHQpXCI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc0ZpcnN0VGltZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGZpcnN0VGltZTogYm9vbGVhbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmaXJzdFRpbWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQYXJlbnQoKTogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgc2F2ZVN0YXRlKCk6IGFueSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVzdG9yZVN0YXRlKHN0YXRlOiBhbnkpIHt9XG59XG5cbmV4cG9ydCBjb25zdCBibG9ja0xheW91dFByb2Nlc3NvciA9IG5ldyBCbG9ja0xheW91dFByb2Nlc3NvcigpO1xuXG5leHBvcnQgY29uc3QgaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dCA9XG4gIExheW91dFByb2Nlc3Nvci5pc0luc3RhbmNlT2ZCbG9ja0Zvcm1hdHRpbmdDb250ZXh0O1xuXG5QbHVnaW4ucmVnaXN0ZXJIb29rKFxuICBQbHVnaW4uSE9PS1MuUkVTT0xWRV9GT1JNQVRUSU5HX0NPTlRFWFQsXG4gIChub2RlQ29udGV4dCwgZmlyc3RUaW1lLCBkaXNwbGF5LCBwb3NpdGlvbiwgZmxvYXRTaWRlLCBpc1Jvb3QpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgaWYgKCFwYXJlbnQgJiYgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwYXJlbnQgJiZcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ICE9PSBwYXJlbnQuZm9ybWF0dGluZ0NvbnRleHRcbiAgICApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICBub2RlQ29udGV4dC5lc3RhYmxpc2hlc0JGQyB8fFxuICAgICAgKCFub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgICBEaXNwbGF5LmlzQmxvY2soZGlzcGxheSwgcG9zaXRpb24sIGZsb2F0U2lkZSwgaXNSb290KSlcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgQmxvY2tGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgcGFyZW50ID8gcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0IDogbnVsbCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfSxcbik7XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IsXG4gIChmb3JtYXR0aW5nQ29udGV4dCkgPT4ge1xuICAgIGlmIChmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIEJsb2NrRm9ybWF0dGluZ0NvbnRleHQpIHtcbiAgICAgIHJldHVybiBibG9ja0xheW91dFByb2Nlc3NvcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IExheW91dFJldHJ5ZXJzIC0gRGVmaW5pdGlvbnMgb2YgTGF5b3V0UmV0cnllci5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IExheW91dCwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQWJzdHJhY3RMYXlvdXRSZXRyeWVyIHtcbiAgaW5pdGlhbEJyZWFrUG9zaXRpb25zOiBMYXlvdXQuQnJlYWtQb3NpdGlvbltdID0gbnVsbDtcbiAgaW5pdGlhbFN0YXRlT2ZGb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0O1xuICBpbml0aWFsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50czogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludFtdO1xuXG4gIGxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHRoaXMucHJlcGFyZUxheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICByZXR1cm4gdGhpcy50cnlMYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gIH1cblxuICBwcml2YXRlIHRyeUxheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4oXG4gICAgICBcIkFic3RyYWN0TGF5b3V0UmV0cnllci50cnlMYXlvdXRcIixcbiAgICApO1xuICAgIHRoaXMuc2F2ZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IG1vZGUgPSB0aGlzLnJlc29sdmVMYXlvdXRNb2RlKG5vZGVDb250ZXh0KTtcbiAgICBtb2RlLmRvTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW4oKHBvc2l0aW9uQWZ0ZXIpID0+IHtcbiAgICAgIGxldCBhY2NlcHRlZCA9IG1vZGUuYWNjZXB0KHBvc2l0aW9uQWZ0ZXIsIGNvbHVtbik7XG4gICAgICBhY2NlcHRlZCA9IG1vZGUucG9zdExheW91dChcbiAgICAgICAgcG9zaXRpb25BZnRlcixcbiAgICAgICAgdGhpcy5pbml0aWFsUG9zaXRpb24sXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgYWNjZXB0ZWQsXG4gICAgICApO1xuICAgICAgaWYgKGFjY2VwdGVkKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChwb3NpdGlvbkFmdGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEFzc2VydHMuYXNzZXJ0KHRoaXMuaW5pdGlhbFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5jbGVhck5vZGVzKHRoaXMuaW5pdGlhbFBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5yZXN0b3JlU3RhdGUobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgICAgIHRoaXMudHJ5TGF5b3V0KHRoaXMuaW5pdGlhbFBvc2l0aW9uLCBjb2x1bW4pLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAYWJzdHJhY3RcbiAgICovXG4gIGFic3RyYWN0IHJlc29sdmVMYXlvdXRNb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dC5MYXlvdXRNb2RlO1xuXG4gIHByZXBhcmVMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHt9XG5cbiAgY2xlYXJOb2Rlcyhpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgY29uc3Qgdmlld05vZGUgPVxuICAgICAgaW5pdGlhbFBvc2l0aW9uLnZpZXdOb2RlIHx8IGluaXRpYWxQb3NpdGlvbi5wYXJlbnQudmlld05vZGU7XG4gICAgbGV0IGNoaWxkOiBOb2RlO1xuICAgIHdoaWxlICgoY2hpbGQgPSB2aWV3Tm9kZS5sYXN0Q2hpbGQpKSB7XG4gICAgICB2aWV3Tm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICAgIGxldCBzaWJsaW5nOiBOb2RlO1xuICAgIHdoaWxlICgoc2libGluZyA9IHZpZXdOb2RlLm5leHRTaWJsaW5nKSkge1xuICAgICAgc2libGluZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNpYmxpbmcpO1xuICAgIH1cbiAgfVxuXG4gIHNhdmVTdGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsIGNvbHVtbjogTGF5b3V0LkNvbHVtbikge1xuICAgIHRoaXMuaW5pdGlhbFBvc2l0aW9uID0gbm9kZUNvbnRleHQuY29weSgpO1xuICAgIHRoaXMuaW5pdGlhbEJyZWFrUG9zaXRpb25zID0gW10uY29uY2F0KGNvbHVtbi5icmVha1Bvc2l0aW9ucyk7XG4gICAgdGhpcy5pbml0aWFsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IFtdLmNvbmNhdChcbiAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLFxuICAgICk7XG4gICAgaWYgKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICB0aGlzLmluaXRpYWxTdGF0ZU9mRm9ybWF0dGluZ0NvbnRleHQgPSBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dC5zYXZlU3RhdGUoKTtcbiAgICB9XG4gIH1cblxuICByZXN0b3JlU3RhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBjb2x1bW4uYnJlYWtQb3NpdGlvbnMgPSB0aGlzLmluaXRpYWxCcmVha1Bvc2l0aW9ucztcbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IHRoaXMuaW5pdGlhbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHM7XG4gICAgaWYgKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dC5yZXN0b3JlU3RhdGUoXG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlT2ZGb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE2IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBMYXlvdXRVdGlsIC0gVXRpbGl0aWVzIHJlbGF0ZWQgdG8gbGF5b3V0LlxuICovXG5pbXBvcnQgKiBhcyBCcmVhayBmcm9tIFwiLi9icmVha1wiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCwgVnRyZWUgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgdHlwZSBMYXlvdXRJdGVyYXRvclN0YXRlID0ge1xuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIGF0VW5mb3JjZWRCcmVhazogYm9vbGVhbjtcbiAgYnJlYWs6IGJvb2xlYW47XG4gIGxlYWRpbmdFZGdlPzogYm9vbGVhbjtcbiAgYnJlYWtBdFRoZUVkZ2U/OiBzdHJpbmcgfCBudWxsO1xuICBvblN0YXJ0RWRnZXM/OiBib29sZWFuO1xuICBsZWFkaW5nRWRnZUNvbnRleHRzPzogVnRyZWUuTm9kZUNvbnRleHRbXTtcbiAgbGFzdEFmdGVyTm9kZUNvbnRleHQ/OiBWdHJlZS5Ob2RlQ29udGV4dCB8IG51bGw7XG59O1xuXG5leHBvcnQgY2xhc3MgTGF5b3V0SXRlcmF0b3JTdHJhdGVneSB7XG4gIGluaXRpYWxTdGF0ZShpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0SXRlcmF0b3JTdGF0ZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5vZGVDb250ZXh0OiBpbml0aWFsTm9kZUNvbnRleHQsXG4gICAgICBhdFVuZm9yY2VkQnJlYWs6IGZhbHNlLFxuICAgICAgYnJlYWs6IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBzdGFydE5vbkRpc3BsYXlhYmxlTm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJOb25EaXNwbGF5YWJsZU5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIHN0YXJ0SWdub3JlZFRleHROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBhZnRlcklnbm9yZWRUZXh0Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgc3RhcnROb25FbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJOb25FbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgc3RhcnRJbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG5cbiAgZmluaXNoKHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHt9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRJdGVyYXRvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgc3RyYXRlZ3k6IExheW91dEl0ZXJhdG9yU3RyYXRlZ3ksXG4gICAgcHJpdmF0ZSByZWFkb25seSBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICApIHt9XG5cbiAgaXRlcmF0ZShcbiAgICBpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gdGhpcy5zdHJhdGVneTtcbiAgICBjb25zdCBzdGF0ZSA9IHN0cmF0ZWd5LmluaXRpYWxTdGF0ZShpbml0aWFsTm9kZUNvbnRleHQpO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIkxheW91dEl0ZXJhdG9yXCIsXG4gICAgKTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBsZXQgcjogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgICAgICB3aGlsZSAoc3RhdGUubm9kZUNvbnRleHQpIHtcbiAgICAgICAgICBpZiAoIXN0YXRlLm5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LmFmdGVyTm9uRGlzcGxheWFibGVOb2RlKHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5zdGFydE5vbkRpc3BsYXlhYmxlTm9kZShzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5ub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBWdHJlZUltcGwuY2FuSWdub3JlKFxuICAgICAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0LnZpZXdOb2RlLFxuICAgICAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0LndoaXRlc3BhY2UsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJJZ25vcmVkVGV4dE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5zdGFydElnbm9yZWRUZXh0Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS5ub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIHIgPSBzdHJhdGVneS5hZnRlck5vbkVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuc3RhcnROb25FbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN0YXRlLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJJbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LnN0YXJ0SW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUubm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICByID0gc3RyYXRlZ3kuYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IHN0cmF0ZWd5LnN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGNvbnQgPSByICYmIHIuaXNQZW5kaW5nKCkgPyByIDogVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5icmVhaykge1xuICAgICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUoXG4gICAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICBzdGF0ZS5hdFVuZm9yY2VkQnJlYWssXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChuZXh0UmVzdWx0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICBuZXh0UmVzdWx0LnRoZW4oKG5leHROb2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoc3RhdGUuYnJlYWspIHtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQgPSBuZXh0Tm9kZUNvbnRleHQ7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmJyZWFrKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLm5vZGVDb250ZXh0ID0gbmV4dFJlc3VsdC5nZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RyYXRlZ3kuZmluaXNoKHN0YXRlKTtcbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHN0YXRlLm5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRWRnZVNraXBwZXIgZXh0ZW5kcyBMYXlvdXRJdGVyYXRvclN0cmF0ZWd5IHtcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIHJlYWRvbmx5IGxlYWRpbmdFZGdlPzogYm9vbGVhbikge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBzdGFydE5vbklubGluZUJveChzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7fVxuXG4gIGVuZEVtcHR5Tm9uSW5saW5lQm94KFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBlbmROb25JbmxpbmVCb3goc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUpOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge31cblxuICBpbml0aWFsU3RhdGUoaW5pdGlhbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dEl0ZXJhdG9yU3RhdGUge1xuICAgIHJldHVybiB7XG4gICAgICBub2RlQ29udGV4dDogaW5pdGlhbE5vZGVDb250ZXh0LFxuICAgICAgYXRVbmZvcmNlZEJyZWFrOiAhIXRoaXMubGVhZGluZ0VkZ2UgJiYgaW5pdGlhbE5vZGVDb250ZXh0LmFmdGVyLFxuICAgICAgYnJlYWs6IGZhbHNlLFxuICAgICAgbGVhZGluZ0VkZ2U6IHRoaXMubGVhZGluZ0VkZ2UsXG4gICAgICBicmVha0F0VGhlRWRnZTogbnVsbCxcbiAgICAgIG9uU3RhcnRFZGdlczogZmFsc2UsXG4gICAgICBsZWFkaW5nRWRnZUNvbnRleHRzOiBbXSxcbiAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0OiBudWxsLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBSZXR1cm5zIHRydWUgaWYgYSBmb3JjZWQgYnJlYWsgb2NjdXJzLlxuICAgKi9cbiAgcHJvY2Vzc0ZvcmNlZEJyZWFrKFxuICAgIHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlLFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgbmVlZEZvcmNlZEJyZWFrID1cbiAgICAgICFzdGF0ZS5sZWFkaW5nRWRnZSAmJiBCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoc3RhdGUuYnJlYWtBdFRoZUVkZ2UpO1xuICAgIGlmIChuZWVkRm9yY2VkQnJlYWspIHtcbiAgICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gKHN0YXRlLm5vZGVDb250ZXh0ID1cbiAgICAgICAgc3RhdGUubGVhZGluZ0VkZ2VDb250ZXh0c1swXSB8fCBzdGF0ZS5ub2RlQ29udGV4dCk7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIGNvbHVtbi5wYWdlQnJlYWtUeXBlID0gc3RhdGUuYnJlYWtBdFRoZUVkZ2U7XG4gICAgfVxuICAgIHJldHVybiBuZWVkRm9yY2VkQnJlYWs7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBSZXR1cm5zIHRydWUgaWYgdGhlIG5vZGUgb3ZlcmZsb3dzIHRoZSBjb2x1bW4uXG4gICAqL1xuICBzYXZlRWRnZUFuZFByb2Nlc3NPdmVyZmxvdyhcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG92ZXJmbG93ID0gY29sdW1uLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgIG51bGwsXG4gICAgICB0cnVlLFxuICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgKTtcbiAgICBpZiAob3ZlcmZsb3cpIHtcbiAgICAgIHN0YXRlLm5vZGVDb250ZXh0ID0gKFxuICAgICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCB8fCBzdGF0ZS5ub2RlQ29udGV4dFxuICAgICAgKS5tb2RpZnkoKTtcbiAgICAgIHN0YXRlLm5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG92ZXJmbG93O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGF5b3V0IGNvbnN0cmFpbnQgaXMgdmlvbGF0ZWQuXG4gICAqL1xuICBwcm9jZXNzTGF5b3V0Q29uc3RyYWludChcbiAgICBzdGF0ZTogTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXQuTGF5b3V0Q29uc3RyYWludCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGxldCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IHZpb2xhdGVDb25zdHJhaW50ID0gIWxheW91dENvbnN0cmFpbnQuYWxsb3dMYXlvdXQobm9kZUNvbnRleHQpO1xuICAgIGlmICh2aW9sYXRlQ29uc3RyYWludCkge1xuICAgICAgY29sdW1uLmNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZUFuZEJyZWFrUG9zaXRpb24oXG4gICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICBudWxsLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgICApO1xuICAgICAgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdmlvbGF0ZUNvbnN0cmFpbnQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbkVsZW1lbnROb2RlKHN0YXRlOiBMYXlvdXRJdGVyYXRvclN0YXRlKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBzdGF0ZS5vblN0YXJ0RWRnZXMgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgc3RhdGUubGVhZGluZ0VkZ2VDb250ZXh0cy5wdXNoKHN0YXRlLm5vZGVDb250ZXh0LmNvcHkoKSk7XG4gICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UgPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlLFxuICAgICAgc3RhdGUubm9kZUNvbnRleHQuYnJlYWtCZWZvcmUsXG4gICAgKTtcbiAgICBzdGF0ZS5vblN0YXJ0RWRnZXMgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLnN0YXJ0Tm9uSW5saW5lQm94KHN0YXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgbGV0IHI6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgaWYgKHN0YXRlLm9uU3RhcnRFZGdlcykge1xuICAgICAgciA9IHRoaXMuZW5kRW1wdHlOb25JbmxpbmVCb3goc3RhdGUpO1xuICAgICAgY29udCA9IHIgJiYgci5pc1BlbmRpbmcoKSA/IHIgOiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIGNvbnQgPSBjb250LnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgIGlmICghc3RhdGUuYnJlYWspIHtcbiAgICAgICAgICBzdGF0ZS5sZWFkaW5nRWRnZUNvbnRleHRzID0gW107XG4gICAgICAgICAgc3RhdGUubGVhZGluZ0VkZ2UgPSBmYWxzZTtcbiAgICAgICAgICBzdGF0ZS5hdFVuZm9yY2VkQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgICBzdGF0ZS5icmVha0F0VGhlRWRnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHIgPSB0aGlzLmVuZE5vbklubGluZUJveChzdGF0ZSk7XG4gICAgICBjb250ID0gciAmJiByLmlzUGVuZGluZygpID8gciA6IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gY29udC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgaWYgKCFzdGF0ZS5icmVhaykge1xuICAgICAgICBzdGF0ZS5vblN0YXJ0RWRnZXMgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgICAgIHN0YXRlLmJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgc3RhdGUubm9kZUNvbnRleHQuYnJlYWtBZnRlcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNoYXJlZCAtIEdsb2JhbCB2YXJpYWJsZXMgb2YgVml2bGlvc3R5bGUuanNcbiAqL1xuaW1wb3J0IHsgUmVwZXRpdGl2ZUVsZW1lbnQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgbGV0IHJlcGV0aXRpdmVFbGVtZW50c0NhY2hlOiB7XG4gIHJvb3Q6IEVsZW1lbnQ7XG4gIGVsZW1lbnRzOiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHM7XG59W10gPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyUmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUoKTogdm9pZCB7XG4gIHJlcGV0aXRpdmVFbGVtZW50c0NhY2hlID0gW107XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgUHNldWRvRWxlbWVudCAtIENTUyBwc2V1ZG8gZWxlbWVudHMuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzU3R5bGVyIGZyb20gXCIuL2Nzcy1zdHlsZXJcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0IHsgUHNldWRvRWxlbWVudCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBkb2N1bWVudCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoXG4gIGA8cm9vdCB4bWxucz1cIiR7QmFzZS5OUy5TSEFET1d9XCIvPmAsXG4gIFwidGV4dC94bWxcIixcbik7XG5cbi8qKlxuICogUHNldWRvZWxlbWVudCBuYW1lcyBpbiB0aGUgb3JkZXIgdGhleSBzaG91bGQgYmUgaW5zZXJ0ZWQgaW4gdGhlIHNoYWRvdyBET00sXG4gKiBlbXB0eSBzdHJpbmcgaXMgdGhlIHBsYWNlIHdoZXJlIHRoZSBlbGVtZW50J3MgRE9NIGNoaWxkcmVuIGFyZSBwcm9jZXNzZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwc2V1ZG9OYW1lcyA9IFtcbiAgXCJmb290bm90ZS1tYXJrZXJcIixcbiAgXCJmaXJzdC01LWxpbmVzXCIsXG4gIFwiZmlyc3QtNC1saW5lc1wiLFxuICBcImZpcnN0LTMtbGluZXNcIixcbiAgXCJmaXJzdC0yLWxpbmVzXCIsXG4gIFwiZmlyc3QtbGluZVwiLFxuICBcImZpcnN0LWxldHRlclwiLFxuICBcImJlZm9yZVwiLFxuICBcIlwiLFxuICAvKiBjb250ZW50ICovXG4gIFwiYWZ0ZXJcIixcbl07XG5cbmV4cG9ydCBjb25zdCBQU0VVRE9fQVRUUiA9IFwiZGF0YS1hZGFwdC1wc2V1ZG9cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBzZXVkb05hbWUoZWxlbWVudDogRWxlbWVudCk6IHN0cmluZyB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShQU0VVRE9fQVRUUikgfHwgXCJcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFBzZXVkb05hbWUoZWxlbWVudDogRWxlbWVudCwgbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKFBTRVVET19BVFRSLCBuYW1lKTtcbn1cblxuZXhwb3J0IGNsYXNzIFBzZXVkb2VsZW1lbnRTdHlsZXIgaW1wbGVtZW50cyBQc2V1ZG9FbGVtZW50LlBzZXVkb2VsZW1lbnRTdHlsZXIge1xuICBjb250ZW50UHJvY2Vzc2VkOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xuXG4gIC8vIGFmdGVyIGNvbnRlbnQ6IHVwZGF0ZSBzdHlsZVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBleHByQ29udGVudExpc3RlbmVyOiBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyLFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0U3R5bGUoZWxlbWVudDogRWxlbWVudCwgZGVlcDogYm9vbGVhbik6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICBjb25zdCBwc2V1ZG9OYW1lID0gZ2V0UHNldWRvTmFtZShlbGVtZW50KTtcbiAgICBpZiAodGhpcy5zdHlsZXIgJiYgcHNldWRvTmFtZSAmJiBwc2V1ZG9OYW1lLm1hdGNoKC9hZnRlciQvKSkge1xuICAgICAgdGhpcy5zdHlsZSA9IHRoaXMuc3R5bGVyLmdldFN0eWxlKHRoaXMuZWxlbWVudCwgdHJ1ZSk7XG4gICAgICB0aGlzLnN0eWxlciA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAodGhpcy5zdHlsZSwgXCJfcHNldWRvc1wiKTtcbiAgICBjb25zdCBzdHlsZSA9IHBzZXVkb01hcFtwc2V1ZG9OYW1lXSB8fCAoe30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpO1xuICAgIGlmIChwc2V1ZG9OYW1lLm1hdGNoKC9eZmlyc3QtLykgJiYgIXN0eWxlW1wieC1maXJzdC1wc2V1ZG9cIl0pIHtcbiAgICAgIGxldCBuZXN0ID0gMTtcbiAgICAgIGxldCByOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgICAgaWYgKHBzZXVkb05hbWUgPT0gXCJmaXJzdC1sZXR0ZXJcIikge1xuICAgICAgICBuZXN0ID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoKHIgPSBwc2V1ZG9OYW1lLm1hdGNoKC9eZmlyc3QtKFswLTldKyktbGluZXMkLykpICE9IG51bGwpIHtcbiAgICAgICAgbmVzdCA9IChyWzFdIGFzIGFueSkgLSAwO1xuICAgICAgfVxuICAgICAgc3R5bGVbXCJ4LWZpcnN0LXBzZXVkb1wiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgICAgbmV3IENzcy5JbnQobmVzdCksXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9jZXNzQ29udGVudChlbGVtZW50OiBFbGVtZW50LCBzdHlsZXM6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3QgcHNldWRvTmFtZSA9IGdldFBzZXVkb05hbWUoZWxlbWVudCk7XG4gICAgaWYgKCF0aGlzLmNvbnRlbnRQcm9jZXNzZWRbcHNldWRvTmFtZV0pIHtcbiAgICAgIHRoaXMuY29udGVudFByb2Nlc3NlZFtwc2V1ZG9OYW1lXSA9IHRydWU7XG4gICAgICBjb25zdCBjb250ZW50VmFsID0gc3R5bGVzW1wiY29udGVudFwiXTtcbiAgICAgIGlmIChjb250ZW50VmFsKSB7XG4gICAgICAgIGlmIChWdHJlZS5ub25Ucml2aWFsQ29udGVudChjb250ZW50VmFsKSkge1xuICAgICAgICAgIGNvbnRlbnRWYWwudmlzaXQoXG4gICAgICAgICAgICBuZXcgVnRyZWUuQ29udGVudFByb3BlcnR5SGFuZGxlcihcbiAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICAgICAgICBjb250ZW50VmFsLFxuICAgICAgICAgICAgICB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgTGF5b3V0IC0gRmlsbHMgYSBjb2x1bW4gd2l0aCBzdHlsZWQgY29udGVudC5cbiAqIFRoaXMgZmlsZSBkb2VzIG5vdCBjb21tdW5pY2F0ZSB3aXRoIHRoZSBzdHlsaW5nIHN5c3RlbSBkaXJlY3RseS5cbiAqIEluc3RlYWQgaXQgZ29lcyB0aHJvdWdoIHRoZSBsYXlvdXQgaW50ZXJmYWNlIHRoYXQgZ2l2ZXMgaXQgb25lIHZpZXcgdHJlZVxuICogbm9kZSBhdCBhIHRpbWUuXG4gKi9cbmltcG9ydCAqIGFzIExheW91dFJldHJ5ZXJzIGZyb20gXCIuL2xheW91dC1yZXRyeWVyc1wiO1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBTaXppbmcgZnJvbSBcIi4vc2l6aW5nXCI7XG5pbXBvcnQgKiBhcyBCcmVhayBmcm9tIFwiLi9icmVha1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBEaWZmIGZyb20gXCIuL2RpZmZcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQnJlYWtQb3NpdGlvbiBmcm9tIFwiLi9icmVhay1wb3NpdGlvblwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgR2VvbWV0cnlVdGlsIGZyb20gXCIuL2dlb21ldHJ5LXV0aWxcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgTWF0Y2hlcnMgZnJvbSBcIi4vbWF0Y2hlcnNcIjtcbmltcG9ydCAqIGFzIFBzZXVkb0VsZW1lbnQgZnJvbSBcIi4vcHNldWRvLWVsZW1lbnRcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVmdlbiBmcm9tIFwiLi92Z2VuXCI7XG5pbXBvcnQgKiBhcyBWdHJlZUltcGwgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7XG4gIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUsXG4gIExheW91dCxcbiAgUmVwZXRpdGl2ZUVsZW1lbnQsXG4gIFNlbGVjdG9ycyxcbiAgVGFibGUsXG4gIFZ0cmVlLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQgPVxuICBTZWxlY3RvcnMuaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQ7XG5leHBvcnQgY29uc3QgcmVnaXN0ZXJGcmFnbWVudEluZGV4ID1cbiAgTWF0Y2hlcnMuTnRoRnJhZ21lbnRNYXRjaGVyLnJlZ2lzdGVyRnJhZ21lbnRJbmRleDtcbmV4cG9ydCBjb25zdCBjbGVhckZyYWdtZW50SW5kaWNlcyA9XG4gIE1hdGNoZXJzLk50aEZyYWdtZW50TWF0Y2hlci5jbGVhckZyYWdtZW50SW5kaWNlcztcblxuZXhwb3J0IGNsYXNzIEFmdGVySWZDb250aW51ZXMgaW1wbGVtZW50cyBTZWxlY3RvcnMuQWZ0ZXJJZkNvbnRpbnVlcyB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzb3VyY2VOb2RlOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZXI6IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcixcbiAgKSB7fVxuXG4gIGNyZWF0ZUVsZW1lbnQoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBhcmVudE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4ge1xuICAgIGNvbnN0IGRvYyA9IHBhcmVudE5vZGVDb250ZXh0LnZpZXdOb2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgY29uc3Qgdmlld1Jvb3QgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBwc2V1ZG9Db2x1bW4gPSBuZXcgUHNldWRvQ29sdW1uKGNvbHVtbiwgdmlld1Jvb3QsIHBhcmVudE5vZGVDb250ZXh0KTtcbiAgICBjb25zdCBpbml0aWFsUGFnZUJyZWFrVHlwZSA9IHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlO1xuICAgIHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlID0gbnVsbDtcbiAgICByZXR1cm4gcHNldWRvQ29sdW1uXG4gICAgICAubGF5b3V0KHRoaXMuY3JlYXRlTm9kZVBvc2l0aW9uRm9yUHNldWRvRWxlbWVudCgpLCB0cnVlKVxuICAgICAgLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgIHRoaXMuc3R5bGVyLmNvbnRlbnRQcm9jZXNzZWRbXCJhZnRlci1pZi1jb250aW51ZXNcIl0gPSBmYWxzZTtcbiAgICAgICAgcHNldWRvQ29sdW1uLmdldENvbHVtbigpLnBhZ2VCcmVha1R5cGUgPSBpbml0aWFsUGFnZUJyZWFrVHlwZTtcbiAgICAgICAgY29uc3QgcHNldWRvRWxlbWVudCA9IHZpZXdSb290LmZpcnN0Q2hpbGQgYXMgRWxlbWVudDtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShwc2V1ZG9FbGVtZW50LCBcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHBzZXVkb0VsZW1lbnQpO1xuICAgICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZU5vZGVQb3NpdGlvbkZvclBzZXVkb0VsZW1lbnQoKTogVnRyZWUuQ2h1bmtQb3NpdGlvbiB7XG4gICAgY29uc3Qgc291cmNlTm9kZSA9IFBzZXVkb0VsZW1lbnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgQmFzZS5OUy5YSFRNTCxcbiAgICAgIFwiZGl2XCIsXG4gICAgKTtcbiAgICBQc2V1ZG9FbGVtZW50LnNldFBzZXVkb05hbWUoc291cmNlTm9kZSwgXCJhZnRlci1pZi1jb250aW51ZXNcIik7XG4gICAgY29uc3Qgc2hhZG93Q29udGV4dCA9IHRoaXMuY3JlYXRlU2hhZG93Q29udGV4dChzb3VyY2VOb2RlKTtcbiAgICBjb25zdCBzdGVwID0ge1xuICAgICAgbm9kZTogc291cmNlTm9kZSxcbiAgICAgIHNoYWRvd1R5cGU6IHNoYWRvd0NvbnRleHQudHlwZSxcbiAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICBub2RlU2hhZG93OiBudWxsLFxuICAgICAgc2hhZG93U2libGluZzogbnVsbCxcbiAgICB9O1xuICAgIGNvbnN0IG5vZGVQb3NpdGlvbiA9IHtcbiAgICAgIHN0ZXBzOiBbc3RlcF0sXG4gICAgICBvZmZzZXRJbk5vZGU6IDAsXG4gICAgICBhZnRlcjogZmFsc2UsXG4gICAgICBwcmVwcm9jZXNzZWRUZXh0Q29udGVudDogbnVsbCxcbiAgICB9O1xuICAgIHJldHVybiBuZXcgVnRyZWVJbXBsLkNodW5rUG9zaXRpb24obm9kZVBvc2l0aW9uIGFzIGFueSk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVNoYWRvd0NvbnRleHQocm9vdDogRWxlbWVudCk6IFZ0cmVlLlNoYWRvd0NvbnRleHQge1xuICAgIHJldHVybiBuZXcgVnRyZWVJbXBsLlNoYWRvd0NvbnRleHQoXG4gICAgICB0aGlzLnNvdXJjZU5vZGUsXG4gICAgICByb290LFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09URUQsXG4gICAgICB0aGlzLnN0eWxlcixcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIFNlbGVjdG9ycy5BZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludCB7XG4gIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPVxuICAgIFwiQWZ0ZXJJZkNvbnRpbnVlXCI7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwdWJsaWMgYWZ0ZXJJZkNvbnRpbnVlczogU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXMsXG4gICAgcHVibGljIHBzZXVkb0VsZW1lbnRIZWlnaHQ6IG51bWJlcixcbiAgKSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgIChvdmVyZmxvd25Ob2RlQ29udGV4dCAmJiAhbm9kZUNvbnRleHQpIHx8XG4gICAgICAobm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQub3ZlcmZsb3cpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgbmV4dENhbmRpZGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHBvc3RMYXlvdXQoXG4gICAgYWxsb3dlZDogYm9vbGVhbixcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7fVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKS5hZmZlY3RUbyhub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWZ0ZXJJZkNvbnRpbnVlc1xuICAgICAgLmNyZWF0ZUVsZW1lbnQoY29sdW1uLCB0aGlzLm5vZGVDb250ZXh0KVxuICAgICAgLnRoZW5Bc3luYygoZWxlbWVudCkgPT4ge1xuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LnZpZXdOb2RlLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGdldFJlcGV0aXRpdmVFbGVtZW50cygpIHtcbiAgICByZXR1cm4gbmV3IEFmdGVySWZDb250aW51ZXNFbGVtZW50c09mZnNldChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgICB0aGlzLnBzZXVkb0VsZW1lbnRIZWlnaHQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZXF1YWxzVG8oY29uc3RyYWludDogTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCk6IGJvb2xlYW4ge1xuICAgIGlmICghKGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBBZnRlcklmQ29udGludWVzTGF5b3V0Q29uc3RyYWludCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMuYWZ0ZXJJZkNvbnRpbnVlcyA9PVxuICAgICAgKGNvbnN0cmFpbnQgYXMgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQpLmFmdGVySWZDb250aW51ZXNcbiAgICApO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXRQcmlvcml0eU9mRmluaXNoQnJlYWsoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gOTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0XG4gIGltcGxlbWVudHMgU2VsZWN0b3JzLkFmdGVySWZDb250aW51ZXNFbGVtZW50c09mZnNldCB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBub2RlQ29udGV4dCwgcHVibGljIHBzZXVkb0VsZW1lbnRIZWlnaHQpIHt9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVPZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuYWZmZWN0VG8obm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHNldWRvRWxlbWVudEhlaWdodDtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgY2FsY3VsYXRlTWluaW11bU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dCk7XG4gIH1cblxuICBhZmZlY3RUbyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0XG4gICAgICA/IG5vZGVDb250ZXh0LnNoYWRvd0NvbnRleHQub3duZXJcbiAgICAgIDogbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICBpZiAoc291cmNlTm9kZSA9PT0gdGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlKSB7XG4gICAgICByZXR1cm4gISFub2RlQ29udGV4dC5hZnRlcjtcbiAgICB9XG4gICAgZm9yIChsZXQgbiA9IHNvdXJjZU5vZGUucGFyZW50Tm9kZTsgbjsgbiA9IG4ucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKG4gPT09IHRoaXMubm9kZUNvbnRleHQuc291cmNlTm9kZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NBZnRlcklmQ29udGludWVzT2ZOb2RlQ29udGV4dChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICBpZiAoXG4gICAgIW5vZGVDb250ZXh0IHx8XG4gICAgIW5vZGVDb250ZXh0LmFmdGVySWZDb250aW51ZXMgfHxcbiAgICBub2RlQ29udGV4dC5hZnRlciB8fFxuICAgIGNvbHVtbi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpXG4gICkge1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gIH1cbiAgY29uc3QgYWZ0ZXJJZkNvbnRpbnVlcyA9IG5vZGVDb250ZXh0LmFmdGVySWZDb250aW51ZXM7XG4gIHJldHVybiBhZnRlcklmQ29udGludWVzXG4gICAgLmNyZWF0ZUVsZW1lbnQoY29sdW1uLCBub2RlQ29udGV4dClcbiAgICAudGhlbkFzeW5jKChwc2V1ZG9FbGVtZW50KSA9PiB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dCAhPT0gbnVsbCk7XG4gICAgICBjb25zdCBwc2V1ZG9FbGVtZW50SGVpZ2h0ID0gY2FsY3VsYXRlUHNldWRvRWxlbWVudEhlaWdodChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgcHNldWRvRWxlbWVudCxcbiAgICAgICk7XG4gICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5wdXNoKFxuICAgICAgICBuZXcgQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQoXG4gICAgICAgICAgbm9kZUNvbnRleHQgYXMgVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgICAgICAgYWZ0ZXJJZkNvbnRpbnVlcyxcbiAgICAgICAgICBwc2V1ZG9FbGVtZW50SGVpZ2h0LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlcyhcbiAgcmVzdWx0OiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4sXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbik6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gIHJldHVybiByZXN1bHQudGhlbkFzeW5jKChub2RlQ29udGV4dCkgPT5cbiAgICBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQobm9kZUNvbnRleHQsIGNvbHVtbiksXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mQW5jZXN0b3JzKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgIFwicHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZkFuY2VzdG9yc1wiLFxuICApO1xuICBsZXQgY3VycmVudDogVnRyZWUuTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dDtcbiAgZnJhbWVcbiAgICAubG9vcCgoKSA9PiB7XG4gICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mTm9kZUNvbnRleHQoY3VycmVudCwgY29sdW1uKTtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50O1xuICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW5SZXR1cm4odHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQc2V1ZG9FbGVtZW50SGVpZ2h0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgcHNldWRvRWxlbWVudDogRWxlbWVudCxcbik6IG51bWJlciB7XG4gIGNvbnN0IHBhcmVudE5vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICBwYXJlbnROb2RlLmFwcGVuZENoaWxkKHBzZXVkb0VsZW1lbnQpO1xuICBjb25zdCBoZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICBwc2V1ZG9FbGVtZW50LFxuICAgIGNvbHVtbixcbiAgICBub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgKTtcbiAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwc2V1ZG9FbGVtZW50KTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZXhwb3J0IGNvbnN0IG1lZGlhVGFncyA9IHtcbiAgaW1nOiB0cnVlLFxuICBzdmc6IHRydWUsXG4gIGF1ZGlvOiB0cnVlLFxuICB2aWRlbzogdHJ1ZSxcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNvbnN0cmFpbnQgb24gbGF5b3V0XG4gKi9cbmV4cG9ydCB0eXBlIExheW91dENvbnN0cmFpbnQgPSBMYXlvdXQuTGF5b3V0Q29uc3RyYWludDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY29uc3RyYWludCB0aGF0IGFsbG93cyBsYXlvdXQgaWYgYWxsIHRoZSBjb25zdHJhaW50cyBpdCBjb250YWluc1xuICogYWxsb3cgbGF5b3V0LlxuICovXG5leHBvcnQgY2xhc3MgQWxsTGF5b3V0Q29uc3RyYWludCBpbXBsZW1lbnRzIExheW91dENvbnN0cmFpbnQge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29uc3RyYWludHM6IExheW91dENvbnN0cmFpbnRbXSkge31cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhbGxvd0xheW91dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJhaW50cy5ldmVyeSgoYykgPT4gYy5hbGxvd0xheW91dChub2RlQ29udGV4dCkpO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50cyBjb25zdHJhaW50cyBvbiBsYXlpbmcgb3V0IGZyYWdtZW50c1xuICovXG5leHBvcnQgdHlwZSBGcmFnbWVudExheW91dENvbnN0cmFpbnQgPSBMYXlvdXQuRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50O1xuXG5leHBvcnQgdHlwZSBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQgPSBMYXlvdXQuQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0O1xuXG4vKipcbiAqIFBvdGVudGlhbCBicmVha2luZyBwb3NpdGlvbiBpbnNpZGUgQ1NTIGJveCAoYmV0d2VlbiBsaW5lcykuXG4gKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgb2YgYnJlYWtpbmcgcG9pbnRzIGZvciBicmVha2FibGUgYmxvY2tcbiAqL1xuZXhwb3J0IGNsYXNzIEJveEJyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkFic3RyYWN0QnJlYWtQb3NpdGlvblxuICBpbXBsZW1lbnRzIExheW91dC5Cb3hCcmVha1Bvc2l0aW9uIHtcbiAgcHJpdmF0ZSBhbHJlYWR5RXZhbHVhdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIGJyZWFrTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgcHVibGljIHJlYWRvbmx5IHBlbmFsdHk6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWsoY29sdW1uOiBDb2x1bW4sIHBlbmFsdHk6IG51bWJlcik6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBpZiAocGVuYWx0eSA8IHRoaXMuZ2V0TWluQnJlYWtQZW5hbHR5KCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuYWxyZWFkeUV2YWx1YXRlZCkge1xuICAgICAgdGhpcy5icmVha05vZGVDb250ZXh0ID0gY29sdW1uLmZpbmRCb3hCcmVha1Bvc2l0aW9uKHRoaXMsIHBlbmFsdHkgPiAwKTtcbiAgICAgIHRoaXMuYWxyZWFkeUV2YWx1YXRlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJyZWFrTm9kZUNvbnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5wZW5hbHR5O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBnZXROb2RlQ29udGV4dCgpOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgcmV0dXJuIHRoaXMuYWxyZWFkeUV2YWx1YXRlZFxuICAgICAgPyB0aGlzLmJyZWFrTm9kZUNvbnRleHRcbiAgICAgIDogdGhpcy5jaGVja1BvaW50c1t0aGlzLmNoZWNrUG9pbnRzLmxlbmd0aCAtIDFdO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZUNoZWNrUG9pbnRzKGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdKTogdm9pZCB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgY2hlY2tQb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjcDAgPSBjaGVja1BvaW50c1tpIC0gMV07XG4gICAgY29uc3QgY3AxID0gY2hlY2tQb2ludHNbaV07XG4gICAgaWYgKGNwMCA9PT0gY3AxKSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwidmFsaWRhdGVDaGVja1BvaW50czogZHVwbGljYXRlIGVudHJ5XCIpO1xuICAgIH0gZWxzZSBpZiAoY3AwLmJveE9mZnNldCA+PSBjcDEuYm94T2Zmc2V0KSB7XG4gICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwidmFsaWRhdGVDaGVja1BvaW50czogaW5jb3JyZWN0IGJveE9mZnNldFwiKTtcbiAgICB9IGVsc2UgaWYgKGNwMC5zb3VyY2VOb2RlID09IGNwMS5zb3VyY2VOb2RlKSB7XG4gICAgICBpZiAoY3AxLmFmdGVyKSB7XG4gICAgICAgIGlmIChjcDAuYWZ0ZXIpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwidmFsaWRhdGVDaGVja1BvaW50czogZHVwbGljYXRlIGFmdGVyIHBvaW50c1wiKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFjcDAuYWZ0ZXIpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjcDEuYm94T2Zmc2V0IC0gY3AwLmJveE9mZnNldCAhPVxuICAgICAgICAgICAgY3AxLm9mZnNldEluTm9kZSAtIGNwMC5vZmZzZXRJbk5vZGVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXG4gICAgICAgICAgICAgIFwidmFsaWRhdGVDaGVja1BvaW50czogYm94T2Zmc2V0IGluY29uc2lzdGVudCB3aXRoIG9mZnNldEluTm9kZVwiLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3BlY2lhbElubGluZURpc3BsYXkoZGlzcGxheTogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHN3aXRjaCAoZGlzcGxheSkge1xuICAgIGNhc2UgXCJydWJ5XCI6XG4gICAgY2FzZSBcImlubGluZS1ibG9ja1wiOlxuICAgIGNhc2UgXCJpbmxpbmUtZmxleFwiOlxuICAgIGNhc2UgXCJpbmxpbmUtZ3JpZFwiOlxuICAgIGNhc2UgXCJpbmxpbmUtbGlzdC1pdGVtXCI6XG4gICAgY2FzZSBcImlubGluZS10YWJsZVwiOlxuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgY2xhc3MgQ29sdW1uIGV4dGVuZHMgVnRyZWVJbXBsLkNvbnRhaW5lciBpbXBsZW1lbnRzIExheW91dC5Db2x1bW4ge1xuICBsYXN0OiBOb2RlO1xuICB2aWV3RG9jdW1lbnQ6IERvY3VtZW50O1xuICBmbG93Um9vdEZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCA9IG51bGw7XG4gIGlzRmxvYXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNGb290bm90ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBzdGFydEVkZ2U6IG51bWJlciA9IDA7XG4gIGVuZEVkZ2U6IG51bWJlciA9IDA7XG4gIGJlZm9yZUVkZ2U6IG51bWJlciA9IDA7XG4gIGFmdGVyRWRnZTogbnVtYmVyID0gMDtcbiAgZm9vdG5vdGVFZGdlOiBudW1iZXIgPSAwO1xuICBib3g6IEdlb21ldHJ5VXRpbC5SZWN0ID0gbnVsbDtcbiAgY2h1bmtQb3NpdGlvbnM6IFZ0cmVlLkNodW5rUG9zaXRpb25bXSA9IG51bGw7XG4gIGJhbmRzOiBHZW9tZXRyeVV0aWwuQmFuZFtdID0gbnVsbDtcbiAgb3ZlcmZsb3duOiBib29sZWFuID0gZmFsc2U7XG4gIGJyZWFrUG9zaXRpb25zOiBCcmVha1Bvc2l0aW9uLkJyZWFrUG9zaXRpb25bXSA9IG51bGw7XG4gIHBhZ2VCcmVha1R5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBmb3JjZU5vbmZpdHRpbmc6IGJvb2xlYW4gPSB0cnVlO1xuICBsZWZ0RmxvYXRFZGdlOiBudW1iZXIgPSAwOyAvLyBib3R0b20gb2YgdGhlIGJvdHRvbW1vc3QgbGVmdCBmbG9hdFxuICByaWdodEZsb2F0RWRnZTogbnVtYmVyID0gMDsgLy8gYm90dG9tIG9mIHRoZSBib3R0b21tb3N0IHJpZ2h0IGZsb2F0XG4gIGJvdHRvbW1vc3RGbG9hdFRvcDogbnVtYmVyID0gMDsgLy8gVG9wIG9mIHRoZSBib3R0b21tb3N0IGZsb2F0XG4gIHN0b3BBdE92ZXJmbG93OiBib29sZWFuID0gdHJ1ZTtcbiAgbGFzdEFmdGVyUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBmcmFnbWVudExheW91dENvbnN0cmFpbnRzOiBGcmFnbWVudExheW91dENvbnN0cmFpbnRbXSA9IFtdO1xuICBwc2V1ZG9QYXJlbnQ6IENvbHVtbiA9IG51bGw7XG4gIG5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50czogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgYmxvY2tEaXN0YW5jZVRvQmxvY2tFbmRGbG9hdHM6IG51bWJlciA9IE5hTjtcbiAgY29tcHV0ZWRCbG9ja1NpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHB1YmxpYyBsYXlvdXRDb250ZXh0OiBWdHJlZS5MYXlvdXRDb250ZXh0LFxuICAgIHB1YmxpYyBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGF5b3V0Q29uc3RyYWludDogTGF5b3V0Q29uc3RyYWludCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICApIHtcbiAgICBzdXBlcihlbGVtZW50KTtcbiAgICB0aGlzLmxhc3QgPSBlbGVtZW50Lmxhc3RDaGlsZDtcbiAgICB0aGlzLnZpZXdEb2N1bWVudCA9IGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LnNldENvbnRhaW5lcih0aGlzKTtcbiAgfVxuXG4gIGdldFRvcEVkZ2UoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy52ZXJ0aWNhbCA/IHRoaXMuc3RhcnRFZGdlIDogdGhpcy5iZWZvcmVFZGdlO1xuICB9XG5cbiAgZ2V0Qm90dG9tRWRnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5lbmRFZGdlIDogdGhpcy5hZnRlckVkZ2U7XG4gIH1cblxuICBnZXRMZWZ0RWRnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5hZnRlckVkZ2UgOiB0aGlzLnN0YXJ0RWRnZTtcbiAgfVxuXG4gIGdldFJpZ2h0RWRnZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnZlcnRpY2FsID8gdGhpcy5iZWZvcmVFZGdlIDogdGhpcy5lbmRFZGdlO1xuICB9XG5cbiAgaXNGbG9hdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIW5vZGVDb250ZXh0LmZsb2F0U2lkZSAmJiAoIXRoaXMuaXNGbG9hdCB8fCAhIW5vZGVDb250ZXh0LnBhcmVudCk7XG4gIH1cblxuICBzdG9wQnlPdmVyZmxvdyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdG9wQXRPdmVyZmxvdyAmJiAhIW5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0Lm92ZXJmbG93O1xuICB9XG5cbiAgaXNPdmVyZmxvd24oZWRnZTogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHJldHVybiBlZGdlIDwgdGhpcy5mb290bm90ZUVkZ2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBlZGdlID4gdGhpcy5mb290bm90ZUVkZ2U7XG4gICAgfVxuICB9XG5cbiAgZ2V0RXhjbHVzaW9ucygpOiBHZW9tZXRyeVV0aWwuU2hhcGVbXSB7XG4gICAgY29uc3QgcGFnZUZsb2F0RXhjbHVzaW9ucyA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRGbG9hdEZyYWdtZW50RXhjbHVzaW9ucygpO1xuICAgIHJldHVybiB0aGlzLmV4Y2x1c2lvbnMuY29uY2F0KHBhZ2VGbG9hdEV4Y2x1c2lvbnMpO1xuICB9XG5cbiAgb3BlbkFsbFZpZXdzKHBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXCJvcGVuQWxsVmlld3NcIik7XG4gICAgY29uc3Qgc3RlcHMgPSBwb3NpdGlvbi5zdGVwcztcbiAgICBzZWxmLmxheW91dENvbnRleHQuc2V0Vmlld1Jvb3Qoc2VsZi5lbGVtZW50LCBzZWxmLmlzRm9vdG5vdGUpO1xuICAgIGxldCBzdGVwSW5kZXggPSBzdGVwcy5sZW5ndGggLSAxO1xuICAgIGxldCBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIHdoaWxlIChzdGVwSW5kZXggPj0gMCkge1xuICAgICAgICAgIGNvbnN0IHByZXZDb250ZXh0ID0gbm9kZUNvbnRleHQ7XG4gICAgICAgICAgY29uc3Qgc3RlcCA9IHN0ZXBzW3N0ZXBJbmRleF07XG4gICAgICAgICAgbm9kZUNvbnRleHQgPSBWdHJlZUltcGwubWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAoXG4gICAgICAgICAgICBzdGVwLFxuICAgICAgICAgICAgcHJldkNvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzdGVwSW5kZXggPT09IHN0ZXBzLmxlbmd0aCAtIDEgJiZcbiAgICAgICAgICAgICFub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgPSBzZWxmLmZsb3dSb290Rm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGVwSW5kZXggPT0gMCkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID0gc2VsZi5jYWxjdWxhdGVPZmZzZXRJbk5vZGVGb3JOb2RlQ29udGV4dChcbiAgICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbm9kZUNvbnRleHQuYWZ0ZXIgPSBwb3NpdGlvbi5hZnRlcjtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LnByZXByb2Nlc3NlZFRleHRDb250ZW50ID1cbiAgICAgICAgICAgICAgcG9zaXRpb24ucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQ7XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHIgPSBzZWxmLmxheW91dENvbnRleHQuc2V0Q3VycmVudChcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgICAgc3RlcEluZGV4ID09IDAgJiYgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID09IDAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzdGVwSW5kZXgtLTtcbiAgICAgICAgICBpZiAoci5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dCk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBjYWxjdWxhdGVPZmZzZXRJbk5vZGVGb3JOb2RlQ29udGV4dChwb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uKTogbnVtYmVyIHtcbiAgICByZXR1cm4gcG9zaXRpb24ucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnRcbiAgICAgID8gRGlmZi5yZXNvbHZlTmV3SW5kZXgoXG4gICAgICAgICAgcG9zaXRpb24ucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQsXG4gICAgICAgICAgcG9zaXRpb24ub2Zmc2V0SW5Ob2RlLFxuICAgICAgICApXG4gICAgICA6IHBvc2l0aW9uLm9mZnNldEluTm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY291bnQgZmlyc3QtWFhYIG5lc3RpbmcgaWRlbnRpZmllclxuICAgKi9cbiAgbWF5YmVQZWVsT2ZmKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb3VudDogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChcbiAgICAgIHBvc2l0aW9uLmZpcnN0UHNldWRvICYmXG4gICAgICBwb3NpdGlvbi5pbmxpbmUgJiZcbiAgICAgICFwb3NpdGlvbi5hZnRlciAmJlxuICAgICAgcG9zaXRpb24uZmlyc3RQc2V1ZG8uY291bnQgPT0gMFxuICAgICkge1xuICAgICAgLy8gZmlyc3QgY2hhclxuICAgICAgaWYgKHBvc2l0aW9uLnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgY29uc3QgdGV4dCA9IHBvc2l0aW9uLnZpZXdOb2RlLnRleHRDb250ZW50O1xuICAgICAgICBjb25zdCByID0gdGV4dC5tYXRjaChmaXJzdENoYXJQYXR0ZXJuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0Q29udGV4dC5wZWVsT2ZmKHBvc2l0aW9uLCByWzBdLmxlbmd0aCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChwb3NpdGlvbikgYXMgVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+O1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgdmlldyB1bnRpbCBhIENTUyBib3ggZWRnZSBpcyByZWFjaGVkLlxuICAgKiBAcGFyYW0gcG9zaXRpb24gc3RhcnQgc291cmNlIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgdG8gYXBwZW5kIHBvc3NpYmxlIGJyZWFraW5nIHBvaW50cy5cbiAgICogQHJldHVybiBob2xkaW5nIGJveCBlZGdlIHBvc2l0aW9uIHJlYWNoZWQgb3IgbnVsbCBpZiB0aGUgc291cmNlIGlzIGV4aGF1c3RlZC5cbiAgICovXG4gIGJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHZpb2xhdGVDb25zdHJhaW50ID0gZmFsc2U7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiYnVpbGRWaWV3VG9OZXh0QmxvY2tFZGdlXCIsXG4gICAgKTtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGJvZHlGcmFtZSkgPT4ge1xuICAgICAgICBpZiAocG9zaXRpb24udmlld05vZGUgJiYgIUxheW91dEhlbHBlci5pc1NwZWNpYWxOb2RlQ29udGV4dChwb3NpdGlvbikpIHtcbiAgICAgICAgICBjaGVja1BvaW50cy5wdXNoKHBvc2l0aW9uLmNvcHkoKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tYXliZVBlZWxPZmYocG9zaXRpb24sIDApLnRoZW4oKHBvc2l0aW9uMVBhcmFtKSA9PiB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24xID0gcG9zaXRpb24xUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uMSAhPT0gcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24xO1xuICAgICAgICAgICAgaWYgKCFMYXlvdXRIZWxwZXIuaXNTcGVjaWFsTm9kZUNvbnRleHQocG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgIGNoZWNrUG9pbnRzLnB1c2gocG9zaXRpb24uY29weSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5uZXh0SW5UcmVlKHBvc2l0aW9uKS50aGVuKChwb3NpdGlvblBhcmFtKSA9PiB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgICBpZiAoIXBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgIC8vIEV4aXQgdGhlIGxvb3BcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHZpb2xhdGVDb25zdHJhaW50IHx8XG4gICAgICAgICAgICAgICFzZWxmLmxheW91dENvbnN0cmFpbnQuYWxsb3dMYXlvdXQocG9zaXRpb24pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmlvbGF0ZUNvbnN0cmFpbnQgPSB0cnVlO1xuICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLm1vZGlmeSgpO1xuICAgICAgICAgICAgICBwb3NpdGlvbi5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0Zsb2F0Tm9kZUNvbnRleHQocG9zaXRpb24pICYmICFzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgIHNlbGYubGF5b3V0RmxvYXRPckZvb3Rub3RlKHBvc2l0aW9uKS50aGVuKChwb3NpdGlvblBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvblBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYm9keUZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBvc2l0aW9uLmlubGluZSkge1xuICAgICAgICAgICAgICAvLyBFeGl0IHRoZSBsb29wXG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRoZSBsb29wXG4gICAgICAgICAgICAgIGJvZHlGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2gocG9zaXRpb24pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbmV4dEluVHJlZShcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBjb250ID0gdGhpcy5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUocG9zaXRpb24sIGF0VW5mb3JjZWRCcmVhayk7XG4gICAgcmV0dXJuIHByb2Nlc3NBZnRlcklmQ29udGludWVzKGNvbnQsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyB0aGUgdmlldyBmb3IgYSBzaW5nbGUgdW5icmVha2FibGUgZWxlbWVudC5cbiAgICogQHBhcmFtIHBvc2l0aW9uIHN0YXJ0IHNvdXJjZSBwb3NpdGlvbi5cbiAgICogQHJldHVybiBob2xkaW5nIGJveCBlZGdlIHBvc2l0aW9uIHJlYWNoZWQgb3IgbnVsbCBpZiB0aGUgc291cmNlIGlzIGV4aGF1c3RlZC5cbiAgICovXG4gIGJ1aWxkRGVlcEVsZW1lbnRWaWV3KFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBpZiAoIXBvc2l0aW9uLnZpZXdOb2RlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQocG9zaXRpb24pO1xuICAgIH1cbiAgICBsZXQgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgICBjb25zdCBzb3VyY2VOb2RlID0gcG9zaXRpb24uc291cmNlTm9kZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJidWlsZERlZXBFbGVtZW50Vmlld1wiLFxuICAgICk7XG5cbiAgICAvLyBUT0RPOiBlbmQgdGhlIGxvb3AgYmFzZWQgb24gZGVwdGgsIG5vdCBzb3VyY2VOb2RlIGNvbXBhcmlzb25cbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGJvZHlGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcG9zaXRpb24udmlld05vZGUgJiZcbiAgICAgICAgICBwb3NpdGlvbi5pbmxpbmUgJiZcbiAgICAgICAgICAhTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0KHBvc2l0aW9uKVxuICAgICAgICApIHtcbiAgICAgICAgICBjaGVja1BvaW50cy5wdXNoKHBvc2l0aW9uLmNvcHkoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGNoZWNrUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNlbGYucG9zdExheW91dEJsb2NrKHBvc2l0aW9uLCBjaGVja1BvaW50cyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoZWNrUG9pbnRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5tYXliZVBlZWxPZmYocG9zaXRpb24sIDApLnRoZW4oKHBvc2l0aW9uMVBhcmFtKSA9PiB7XG4gICAgICAgICAgY29uc3QgcG9zaXRpb24xID0gcG9zaXRpb24xUGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgICAgaWYgKHBvc2l0aW9uMSAhPT0gcG9zaXRpb24pIHtcbiAgICAgICAgICAgIGxldCBwID0gcG9zaXRpb24xO1xuICAgICAgICAgICAgd2hpbGUgKHAgJiYgcC5zb3VyY2VOb2RlICE9IHNvdXJjZU5vZGUpIHtcbiAgICAgICAgICAgICAgcCA9IHAucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHAgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBvdXRzaWRlIG9mIHRoZSBzdWJ0cmVlXG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24xO1xuICAgICAgICAgICAgICBib2R5RnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0KHBvc2l0aW9uMSkpIHtcbiAgICAgICAgICAgICAgY2hlY2tQb2ludHMucHVzaChwb3NpdGlvbjEuY29weSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc2VsZi5uZXh0SW5UcmVlKHBvc2l0aW9uMSkudGhlbigocG9zaXRpb25QYXJhbSkgPT4ge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvblBhcmFtIGFzIFZ0cmVlLk5vZGVDb250ZXh0O1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbiB8fCBwb3NpdGlvbi5zb3VyY2VOb2RlID09IHNvdXJjZU5vZGUpIHtcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICghc2VsZi5sYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLm1vZGlmeSgpO1xuICAgICAgICAgICAgICBwb3NpdGlvbi5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgICAgIGlmIChzZWxmLnN0b3BBdE92ZXJmbG93KSB7XG4gICAgICAgICAgICAgICAgYm9keUZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvZHlGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYm9keUZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChjaGVja1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgc2VsZi5wb3N0TGF5b3V0QmxvY2socG9zaXRpb24sIGNoZWNrUG9pbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2gocG9zaXRpb24pO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNpbmdsZSBmbG9hdGluZyBlbGVtZW50IChmb3IgZXhjbHVzaW9uIGFyZWFzKS5cbiAgICogQHBhcmFtIHJlZiBjb250YWluZXIncyBjaGlsZCB0byBpbnNlcnQgZmxvYXQgYmVmb3JlIChjYW4gYmUgbnVsbCkuXG4gICAqIEBwYXJhbSBzaWRlIGZsb2F0IHNpZGUgKFwibGVmdFwiIG9yIFwicmlnaHRcIikuXG4gICAqIEBwYXJhbSB3aWR0aCBmbG9hdCBpbmxpbmUgZGltZW5zaW9uLlxuICAgKiBAcGFyYW0gaGVpZ2h0IGZsb2F0IGJveCBwcm9ncmVzc2lvbiBkaW1lbnNpb24uXG4gICAqIEByZXR1cm4gbmV3bHkgY3JlYXRlZCBmbG9hdCBlbGVtZW50LlxuICAgKi9cbiAgY3JlYXRlRmxvYXQocmVmOiBOb2RlLCBzaWRlOiBzdHJpbmcsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogRWxlbWVudCB7XG4gICAgY29uc3QgZGl2ID0gdGhpcy52aWV3RG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgaWYgKGhlaWdodCA+PSB0aGlzLmhlaWdodCkge1xuICAgICAgICBoZWlnaHQgLT0gMC4xO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiaGVpZ2h0XCIsIGAke3dpZHRofXB4YCk7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGRpdiwgXCJ3aWR0aFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHdpZHRoID49IHRoaXMud2lkdGgpIHtcbiAgICAgICAgd2lkdGggLT0gMC4xO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZGl2LCBcImhlaWdodFwiLCBgJHtoZWlnaHR9cHhgKTtcbiAgICB9XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiZmxvYXRcIiwgc2lkZSk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiY2xlYXJcIiwgc2lkZSk7XG5cbiAgICAvLyBlbmFibGUgdG8gdmlzdWFsaXplXG4gICAgLy8gQmFzZS5zZXRDU1NQcm9wZXJ0eShkaXYsIFwiYmFja2dyb3VuZC1jb2xvclwiLCBcIiM1MEYwRkZcIik7XG4gICAgdGhpcy5lbGVtZW50Lmluc2VydEJlZm9yZShkaXYsIHJlZik7XG4gICAgcmV0dXJuIGRpdjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHRoZSBleGNsdXNpb24gZmxvYXRzLlxuICAgKi9cbiAga2lsbEZsb2F0cygpOiB2b2lkIHtcbiAgICBsZXQgYzogTm9kZSA9IHRoaXMuZWxlbWVudC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChjKSB7XG4gICAgICBjb25zdCBuYyA9IGMubmV4dFNpYmxpbmc7XG4gICAgICBpZiAoYy5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIGNvbnN0IGUgPSBjIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCBmID0gZS5zdHlsZS5jc3NGbG9hdDtcbiAgICAgICAgaWYgKGYgPT0gXCJsZWZ0XCIgfHwgZiA9PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGMgPSBuYztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGV4Y2x1c2lvbiBmbG9hdHMgZm9yIGEgY29sdW1uLlxuICAgKi9cbiAgY3JlYXRlRmxvYXRzKCk6IHZvaWQge1xuICAgIGNvbnN0IHJlZiA9IHRoaXMuZWxlbWVudC5maXJzdENoaWxkO1xuICAgIGNvbnN0IGJhbmRzID0gdGhpcy5iYW5kcztcbiAgICBjb25zdCB4MSA9IHRoaXMudmVydGljYWwgPyB0aGlzLmdldFRvcEVkZ2UoKSA6IHRoaXMuZ2V0TGVmdEVkZ2UoKTtcbiAgICBjb25zdCB4MiA9IHRoaXMudmVydGljYWwgPyB0aGlzLmdldEJvdHRvbUVkZ2UoKSA6IHRoaXMuZ2V0UmlnaHRFZGdlKCk7XG4gICAgZm9yIChjb25zdCBiYW5kIG9mIGJhbmRzKSB7XG4gICAgICBjb25zdCBoZWlnaHQgPSBiYW5kLnkyIC0gYmFuZC55MTtcbiAgICAgIGJhbmQubGVmdCA9IHRoaXMuY3JlYXRlRmxvYXQocmVmLCBcImxlZnRcIiwgYmFuZC54MSAtIHgxLCBoZWlnaHQpO1xuICAgICAgYmFuZC5yaWdodCA9IHRoaXMuY3JlYXRlRmxvYXQocmVmLCBcInJpZ2h0XCIsIHgyIC0gYmFuZC54MiwgaGVpZ2h0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIG5vZGVDb250ZXh0IHBvc2l0aW9uIGFmdGVyIHRoZSBibG9ja1xuICAgKiBAcGFyYW0gY2hlY2tQb2ludHMgYXJyYXkgb2YgcG9zc2libGUgYnJlYWtpbmcgcG9pbnRzLlxuICAgKiBAcGFyYW0gaW5kZXggaW5kZXggb2YgdGhlIGJyZWFraW5nIHBvaW50XG4gICAqIEBwYXJhbSBib3hPZmZzZXQgYm94IG9mZnNldFxuICAgKiBAcmV0dXJuIGVkZ2UgcG9zaXRpb25cbiAgICovXG4gIGNhbGN1bGF0ZUVkZ2UoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgYm94T2Zmc2V0OiBudW1iZXIsXG4gICk6IG51bWJlciB7XG4gICAgbGV0IGVkZ2U6IG51bWJlcjtcbiAgICBpZiAobm9kZUNvbnRleHQgJiYgTGF5b3V0SGVscGVyLmlzT3JwaGFuKG5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9IGVsc2UgaWYgKG5vZGVDb250ZXh0ICYmIG5vZGVDb250ZXh0LmFmdGVyICYmICFub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgIGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgICAwLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIGlmICghaXNOYU4oZWRnZSkpIHtcbiAgICAgICAgcmV0dXJuIGVkZ2U7XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGVDb250ZXh0ID0gY2hlY2tQb2ludHNbaW5kZXhdO1xuICAgIGxldCBvZmZzZXQgPSBib3hPZmZzZXQgLSBub2RlQ29udGV4dC5ib3hPZmZzZXQ7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHRoaXMudmVydGljYWwsXG4gICAgICApO1xuICAgICAgaWYgKCFpc05hTihlZGdlKSkge1xuICAgICAgICByZXR1cm4gZWRnZTtcbiAgICAgIH1cbiAgICAgIGlmIChvZmZzZXQgPiAwKSB7XG4gICAgICAgIG9mZnNldC0tO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGluZGV4LS07XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlZm9yZUVkZ2U7XG4gICAgICB9XG4gICAgICBub2RlQ29udGV4dCA9IGNoZWNrUG9pbnRzW2luZGV4XTtcbiAgICAgIGlmIChub2RlQ29udGV4dC52aWV3Tm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIG9mZnNldCA9IG5vZGVDb250ZXh0LnZpZXdOb2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgQ1NTIGNvbXB1dGVkIGxlbmd0aCAoaW4gcGl4ZWxzKVxuICAgKiBAcGFyYW0gdmFsIENTUyBsZW5ndGggaW4gXCJweFwiIHVuaXRzIG9yIGEgbnVtYmVyLlxuICAgKiBAcmV0dXJuIHZhbHVlIGluIHBpeGVscyBvciAwIGlmIG5vdCBwYXJzYWJsZVxuICAgKi9cbiAgcGFyc2VDb21wdXRlZExlbmd0aCh2YWw6IHN0cmluZyB8IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gXCJudW1iZXJcIikge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgY29uc3QgciA9IHZhbC5tYXRjaCgvXigtP1swLTldKihcXC5bMC05XSopPylweCQvKTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoclswXSk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIGVsZW1lbnQncyBjb21wdXRlZCBDU1MgbWFyZ2luLlxuICAgKi9cbiAgZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudDogRWxlbWVudCk6IEdlb21ldHJ5VXRpbC5JbnNldHMge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgY29uc3QgaW5zZXRzID0gbmV3IEdlb21ldHJ5VXRpbC5JbnNldHMoMCwgMCwgMCwgMCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBpbnNldHMubGVmdCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5MZWZ0KTtcbiAgICAgIGluc2V0cy50b3AgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luVG9wKTtcbiAgICAgIGluc2V0cy5yaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5SaWdodCk7XG4gICAgICBpbnNldHMuYm90dG9tID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkJvdHRvbSk7XG4gICAgfVxuICAgIHJldHVybiBpbnNldHM7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIHBhZGRpbmcgKyBib3JkZXJzLlxuICAgKi9cbiAgZ2V0Q29tcHV0ZWRQYWRkaW5nQm9yZGVyKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IGluc2V0cyA9IG5ldyBHZW9tZXRyeVV0aWwuSW5zZXRzKDAsIDAsIDAsIDApO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgaW5zZXRzLmxlZnQgPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nTGVmdCk7XG4gICAgICBpbnNldHMudG9wID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclRvcFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nVG9wKTtcbiAgICAgIGluc2V0cy5yaWdodCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nUmlnaHQpO1xuICAgICAgaW5zZXRzLmJvdHRvbSA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIHJldHVybiBpbnNldHM7XG4gIH1cblxuICAvKipcbiAgICogUmVhZHMgZWxlbWVudCdzIGNvbXB1dGVkIENTUyBpbnNldHMobWFyZ2lucyArIGJvcmRlciArIHBhZGRpbmcgb3IgbWFyZ2lucyA6XG4gICAqIGRlcGVuZHMgb24gYm94LXNpemluZylcbiAgICovXG4gIGdldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQ6IEVsZW1lbnQpOiBHZW9tZXRyeVV0aWwuSW5zZXRzIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgIGNvbnN0IGluc2V0cyA9IG5ldyBHZW9tZXRyeVV0aWwuSW5zZXRzKDAsIDAsIDAsIDApO1xuICAgIGlmIChzdHlsZSkge1xuICAgICAgaWYgKHN0eWxlLmJveFNpemluZyA9PSBcImJvcmRlci1ib3hcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDb21wdXRlZE1hcmdpbihlbGVtZW50KTtcbiAgICAgIH1cbiAgICAgIGluc2V0cy5sZWZ0ID1cbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkxlZnQpICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0xlZnQpO1xuICAgICAgaW5zZXRzLnRvcCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5Ub3ApICtcbiAgICAgICAgdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclRvcFdpZHRoKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nVG9wKTtcbiAgICAgIGluc2V0cy5yaWdodCA9XG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5tYXJnaW5SaWdodCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICAgIGluc2V0cy5ib3R0b20gPVxuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luQm90dG9tKSArXG4gICAgICAgIHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCkgK1xuICAgICAgICB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ0JvdHRvbSk7XG4gICAgfVxuICAgIHJldHVybiBpbnNldHM7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGVsZW1lbnQncyBjb21wdXRlZCBDU1MgaW5zZXRzIHRvIENvbHVtbiBDb250YWluZXJcbiAgICovXG4gIHNldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQ6IEVsZW1lbnQsIGNvbnRhaW5lcjogQ29sdW1uKSB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICBpZiAoc3R5bGUpIHtcbiAgICAgIGNvbnRhaW5lci5tYXJnaW5MZWZ0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpbkxlZnQpO1xuICAgICAgY29udGFpbmVyLmJvcmRlckxlZnQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUuYm9yZGVyTGVmdFdpZHRoKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nTGVmdCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5wYWRkaW5nTGVmdCk7XG4gICAgICBjb250YWluZXIubWFyZ2luVG9wID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblRvcCk7XG4gICAgICBjb250YWluZXIuYm9yZGVyVG9wID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLmJvcmRlclRvcFdpZHRoKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nVG9wID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdUb3ApO1xuICAgICAgY29udGFpbmVyLm1hcmdpblJpZ2h0ID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLm1hcmdpblJpZ2h0KTtcbiAgICAgIGNvbnRhaW5lci5ib3JkZXJSaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nUmlnaHQgPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICAgIGNvbnRhaW5lci5tYXJnaW5Cb3R0b20gPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUubWFyZ2luQm90dG9tKTtcbiAgICAgIGNvbnRhaW5lci5ib3JkZXJCb3R0b20gPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoXG4gICAgICAgIHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoLFxuICAgICAgKTtcbiAgICAgIGNvbnRhaW5lci5wYWRkaW5nQm90dG9tID0gdGhpcy5wYXJzZUNvbXB1dGVkTGVuZ3RoKHN0eWxlLnBhZGRpbmdCb3R0b20pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZWxlbWVudCdzIGNvbXB1dGVkIHdpZHRoIGFuZCBoZWlnaHQgdG8gQ29sdW1uIENvbnRhaW5lclxuICAgKi9cbiAgc2V0Q29tcHV0ZWRXaWR0aEFuZEhlaWdodChlbGVtZW50OiBFbGVtZW50LCBjb250YWluZXI6IENvbHVtbikge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBjb250YWluZXIud2lkdGggPSB0aGlzLnBhcnNlQ29tcHV0ZWRMZW5ndGgoc3R5bGUud2lkdGgpO1xuICAgICAgY29udGFpbmVyLmhlaWdodCA9IHRoaXMucGFyc2VDb21wdXRlZExlbmd0aChzdHlsZS5oZWlnaHQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMYXlvdXQgYSBzaW5nbGUgdW5icmVha2FibGUgZWxlbWVudC5cbiAgICovXG4gIGxheW91dFVuYnJlYWthYmxlKFxuICAgIG5vZGVDb250ZXh0SW46IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHJldHVybiB0aGlzLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0SW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIExheW91dCBhIHNpbmdsZSBmbG9hdCBlbGVtZW50LlxuICAgKi9cbiAgbGF5b3V0RmxvYXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0RmxvYXRcIik7XG4gICAgY29uc3QgZWxlbWVudCA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgZmxvYXRTaWRlID0gbm9kZUNvbnRleHQuZmxvYXRTaWRlIGFzIHN0cmluZztcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiZmxvYXRcIiwgXCJub25lXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ2ZXJ0aWNhbC1hbGlnblwiLCBcInRvcFwiKTtcbiAgICBzZWxmLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0KS50aGVuKChub2RlQ29udGV4dEFmdGVyKSA9PiB7XG4gICAgICBjb25zdCBmbG9hdEJCb3ggPSBzZWxmLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChlbGVtZW50KTtcbiAgICAgIGNvbnN0IG1hcmdpbiA9IHNlbGYuZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudCk7XG4gICAgICBsZXQgZmxvYXRCb3ggPSBuZXcgR2VvbWV0cnlVdGlsLlJlY3QoXG4gICAgICAgIGZsb2F0QkJveC5sZWZ0IC0gbWFyZ2luLmxlZnQsXG4gICAgICAgIGZsb2F0QkJveC50b3AgLSBtYXJnaW4udG9wLFxuICAgICAgICBmbG9hdEJCb3gucmlnaHQgKyBtYXJnaW4ucmlnaHQsXG4gICAgICAgIGZsb2F0QkJveC5ib3R0b20gKyBtYXJnaW4uYm90dG9tLFxuICAgICAgKTtcbiAgICAgIGxldCB4MSA9IHNlbGYuc3RhcnRFZGdlO1xuICAgICAgbGV0IHgyID0gc2VsZi5lbmRFZGdlO1xuICAgICAgbGV0IHBhcmVudCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICAgIHdoaWxlIChwYXJlbnQgJiYgcGFyZW50LmlubGluZSkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAvLyBQb3NpdGlvbiBpdCBhdCB0aGUgcGFyZW50IGVsZW1lbnQncyBlZGdlLlxuICAgICAgICAvLyBXZSBuZWVkIHRvIGdldCB0aGUgZWRnZSBvZiB0aGUgcGFyZW50J3MgY29udGVudCBhcmVhLCBjYWxsaW5nXG4gICAgICAgIC8vIGdldEVsZW1lbnRDbGllbnRSZWN0IHdpbGwgYWxzbyBnaXZlIHVzIGJvcmRlcnMuIEF2b2lkIGl0IGJ5IGNyZWF0aW5nXG4gICAgICAgIC8vIGEgdGVtcG9yYXJ5IGVsZW1lbnQgYW5kIHVzaW5nIGl0IGZvciBtZWFzdXJtZW50LlxuICAgICAgICBjb25zdCBwcm9iZSA9IHBhcmVudC52aWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHByb2JlLnN0eWxlLmxlZnQgPSBcIjBweFwiO1xuICAgICAgICBwcm9iZS5zdHlsZS50b3AgPSBcIjBweFwiO1xuICAgICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICAgIHByb2JlLnN0eWxlLmJvdHRvbSA9IFwiMHB4XCI7XG4gICAgICAgICAgcHJvYmUuc3R5bGUud2lkdGggPSBcIjFweFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2JlLnN0eWxlLnJpZ2h0ID0gXCIwcHhcIjtcbiAgICAgICAgICBwcm9iZS5zdHlsZS5oZWlnaHQgPSBcIjFweFwiO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudC52aWV3Tm9kZS5hcHBlbmRDaGlsZChwcm9iZSk7XG4gICAgICAgIGNvbnN0IHBhcmVudEJveCA9IHNlbGYuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHByb2JlKTtcbiAgICAgICAgeDEgPSBNYXRoLm1heChzZWxmLmdldFN0YXJ0RWRnZShwYXJlbnRCb3gpLCB4MSk7XG4gICAgICAgIHgyID0gTWF0aC5taW4oc2VsZi5nZXRFbmRFZGdlKHBhcmVudEJveCksIHgyKTtcbiAgICAgICAgcGFyZW50LnZpZXdOb2RlLnJlbW92ZUNoaWxkKHByb2JlKTtcbiAgICAgICAgY29uc3QgZmxvYXRCb3hNZWFzdXJlID0gc2VsZi52ZXJ0aWNhbFxuICAgICAgICAgID8gZmxvYXRCb3gueTIgLSBmbG9hdEJveC55MVxuICAgICAgICAgIDogZmxvYXRCb3gueDIgLSBmbG9hdEJveC54MTtcbiAgICAgICAgaWYgKGZsb2F0U2lkZSA9PSBcImxlZnRcIikge1xuICAgICAgICAgIHgyID0gTWF0aC5tYXgoeDIsIHgxICsgZmxvYXRCb3hNZWFzdXJlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB4MSA9IE1hdGgubWluKHgxLCB4MiAtIGZsb2F0Qm94TWVhc3VyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIHRoZSBmbG9hdCBiZWxvdyB0aGUgYmxvY2sgcGFyZW50LlxuICAgICAgICAvLyBPdGhlcndpc2UsIGlmIHRoZSBmbG9hdCBpcyBhdHRhY2hlZCB0byBhbiBpbmxpbmUgYm94IHdpdGggJ3Bvc2l0aW9uOlxuICAgICAgICAvLyByZWxhdGl2ZScsIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbmluZyBvZiB0aGUgZmxvYXQgZ2V0cyBicm9rZW4sIHNpbmNlXG4gICAgICAgIC8vIHRoZSBpbmxpbmUgcGFyZW50IGNhbiBiZSBwdXNoZWQgaG9yaXpvbnRhbGx5IGJ5IGV4Y2x1c2lvbiBmbG9hdHNcbiAgICAgICAgLy8gYWZ0ZXIgdGhlIGxheW91dCBvZiB0aGUgZmxvYXQgaXMgZG9uZS5cbiAgICAgICAgcGFyZW50LnZpZXdOb2RlLmFwcGVuZENoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH1cblxuICAgICAgLy8gYm94IGlzIHJvdGF0ZWQgZm9yIHZlcnRpY2FsIG9yaWVudGF0aW9uXG4gICAgICBsZXQgYm94ID0gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgICB4MSxcbiAgICAgICAgc2VsZi5nZXRCb3hEaXIoKSAqIHNlbGYuYmVmb3JlRWRnZSxcbiAgICAgICAgeDIsXG4gICAgICAgIHNlbGYuZ2V0Qm94RGlyKCkgKiBzZWxmLmFmdGVyRWRnZSxcbiAgICAgICk7XG4gICAgICBsZXQgZmxvYXRIb3JCb3ggPSBmbG9hdEJveDtcbiAgICAgIGlmIChzZWxmLnZlcnRpY2FsKSB7XG4gICAgICAgIGZsb2F0SG9yQm94ID0gR2VvbWV0cnlVdGlsLnJvdGF0ZUJveChmbG9hdEJveCk7XG4gICAgICB9XG4gICAgICBjb25zdCBkaXIgPSBzZWxmLmdldEJveERpcigpO1xuICAgICAgaWYgKGZsb2F0SG9yQm94LnkxIDwgc2VsZi5ib3R0b21tb3N0RmxvYXRUb3AgKiBkaXIpIHtcbiAgICAgICAgY29uc3QgYm94RXh0ZW50ID0gZmxvYXRIb3JCb3gueTIgLSBmbG9hdEhvckJveC55MTtcbiAgICAgICAgZmxvYXRIb3JCb3gueTEgPSBzZWxmLmJvdHRvbW1vc3RGbG9hdFRvcCAqIGRpcjtcbiAgICAgICAgZmxvYXRIb3JCb3gueTIgPSBmbG9hdEhvckJveC55MSArIGJveEV4dGVudDtcbiAgICAgIH1cbiAgICAgIEdlb21ldHJ5VXRpbC5wb3NpdGlvbkZsb2F0KGJveCwgc2VsZi5iYW5kcywgZmxvYXRIb3JCb3gsIGZsb2F0U2lkZSk7XG4gICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICBmbG9hdEJveCA9IEdlb21ldHJ5VXRpbC51bnJvdGF0ZUJveChmbG9hdEhvckJveCk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnNldHMgPSBzZWxmLmdldENvbXB1dGVkSW5zZXRzKGVsZW1lbnQpO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgXCJ3aWR0aFwiLFxuICAgICAgICBgJHtmbG9hdEJveC54MiAtIGZsb2F0Qm94LngxIC0gaW5zZXRzLmxlZnQgLSBpbnNldHMucmlnaHR9cHhgLFxuICAgICAgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIFwiaGVpZ2h0XCIsXG4gICAgICAgIGAke2Zsb2F0Qm94LnkyIC0gZmxvYXRCb3gueTEgLSBpbnNldHMudG9wIC0gaW5zZXRzLmJvdHRvbX1weGAsXG4gICAgICApO1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5kaXNwbGF5KTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIG5vZGVDb250ZXh0LmRpc3BsYXkpO1xuICAgICAgbGV0IG9mZnNldHM7XG4gICAgICBsZXQgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGU6IFZ0cmVlLk5vZGVDb250ZXh0ID0gbnVsbDtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKHBhcmVudC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSkge1xuICAgICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlID0gcGFyZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlID0gcGFyZW50LmdldENvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSkge1xuICAgICAgICBjb25zdCBwcm9iZSA9IGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZpZXdOb2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBcImRpdlwiLFxuICAgICAgICApO1xuICAgICAgICBwcm9iZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgaWYgKGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZlcnRpY2FsKSB7XG4gICAgICAgICAgcHJvYmUuc3R5bGUucmlnaHQgPSBcIjBcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9iZS5zdHlsZS5sZWZ0ID0gXCIwXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJvYmUuc3R5bGUudG9wID0gXCIwXCI7XG4gICAgICAgIGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZpZXdOb2RlLmFwcGVuZENoaWxkKHByb2JlKTtcbiAgICAgICAgb2Zmc2V0cyA9IHNlbGYuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHByb2JlKTtcbiAgICAgICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUudmlld05vZGUucmVtb3ZlQ2hpbGQocHJvYmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2Zmc2V0cyA9IHtcbiAgICAgICAgICBsZWZ0OiBzZWxmLmdldExlZnRFZGdlKCkgLSBzZWxmLnBhZGRpbmdMZWZ0LFxuICAgICAgICAgIHJpZ2h0OiBzZWxmLmdldFJpZ2h0RWRnZSgpICsgc2VsZi5wYWRkaW5nUmlnaHQsXG4gICAgICAgICAgdG9wOiBzZWxmLmdldFRvcEVkZ2UoKSAtIHNlbGYucGFkZGluZ1RvcCxcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGVcbiAgICAgICAgICA/IGNvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlLnZlcnRpY2FsXG4gICAgICAgICAgOiBzZWxmLnZlcnRpY2FsXG4gICAgICApIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIFwicmlnaHRcIixcbiAgICAgICAgICBgJHtvZmZzZXRzLnJpZ2h0IC0gZmxvYXRCb3gueDJ9cHhgLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcImxlZnRcIiwgYCR7ZmxvYXRCb3gueDEgLSBvZmZzZXRzLmxlZnR9cHhgKTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJ0b3BcIiwgYCR7ZmxvYXRCb3gueTEgLSBvZmZzZXRzLnRvcH1weGApO1xuICAgICAgaWYgKG5vZGVDb250ZXh0LmNsZWFyU3BhY2VyKSB7XG4gICAgICAgIG5vZGVDb250ZXh0LmNsZWFyU3BhY2VyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZUNvbnRleHQuY2xlYXJTcGFjZXIpO1xuICAgICAgICBub2RlQ29udGV4dC5jbGVhclNwYWNlciA9IG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBmbG9hdEJveEVkZ2UgPSBzZWxmLnZlcnRpY2FsID8gZmxvYXRCb3gueDEgOiBmbG9hdEJveC55MjtcbiAgICAgIGNvbnN0IGZsb2F0Qm94VG9wID0gc2VsZi52ZXJ0aWNhbCA/IGZsb2F0Qm94LngyIDogZmxvYXRCb3gueTE7XG5cbiAgICAgIC8vIFRPRE86IHN1YnRyYWN0IGFmdGVyIG1hcmdpbiB3aGVuIGRldGVybWluaW5nIG92ZXJmbG93LlxuICAgICAgaWYgKCFzZWxmLmlzT3ZlcmZsb3duKGZsb2F0Qm94RWRnZSkgfHwgc2VsZi5icmVha1Bvc2l0aW9ucy5sZW5ndGggPT0gMCkge1xuICAgICAgICAvLyBubyBvdmVyZmxvd1xuICAgICAgICBzZWxmLmtpbGxGbG9hdHMoKTtcbiAgICAgICAgYm94ID0gbmV3IEdlb21ldHJ5VXRpbC5SZWN0KFxuICAgICAgICAgIHNlbGYuZ2V0TGVmdEVkZ2UoKSxcbiAgICAgICAgICBzZWxmLmdldFRvcEVkZ2UoKSxcbiAgICAgICAgICBzZWxmLmdldFJpZ2h0RWRnZSgpLFxuICAgICAgICAgIHNlbGYuZ2V0Qm90dG9tRWRnZSgpLFxuICAgICAgICApO1xuICAgICAgICBpZiAoc2VsZi52ZXJ0aWNhbCkge1xuICAgICAgICAgIGJveCA9IEdlb21ldHJ5VXRpbC5yb3RhdGVCb3goYm94KTtcbiAgICAgICAgfVxuICAgICAgICBHZW9tZXRyeVV0aWwuYWRkRmxvYXRUb0JhbmRzKFxuICAgICAgICAgIGJveCxcbiAgICAgICAgICBzZWxmLmJhbmRzLFxuICAgICAgICAgIGZsb2F0SG9yQm94LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICApO1xuICAgICAgICBzZWxmLmNyZWF0ZUZsb2F0cygpO1xuICAgICAgICBpZiAoZmxvYXRTaWRlID09IFwibGVmdFwiKSB7XG4gICAgICAgICAgc2VsZi5sZWZ0RmxvYXRFZGdlID0gZmxvYXRCb3hFZGdlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYucmlnaHRGbG9hdEVkZ2UgPSBmbG9hdEJveEVkZ2U7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5ib3R0b21tb3N0RmxvYXRUb3AgPSBmbG9hdEJveFRvcDtcbiAgICAgICAgc2VsZi51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGZsb2F0Qm94RWRnZSk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dEFmdGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzZXR1cEZsb2F0QXJlYShcbiAgICBhcmVhOiBQYWdlRmxvYXRBcmVhLFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZmxvYXRMYXlvdXRDb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGZsb2F0Q29udGFpbmVyID0gZmxvYXRMYXlvdXRDb250ZXh0LmdldENvbnRhaW5lcihmbG9hdFJlZmVyZW5jZSk7XG4gICAgY29uc3QgZWxlbWVudCA9IGFyZWEuZWxlbWVudDtcbiAgICBmbG9hdENvbnRhaW5lci5lbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgYXJlYS5pc0Zsb2F0ID0gdHJ1ZTtcbiAgICBhcmVhLm9yaWdpblggPSBmbG9hdENvbnRhaW5lci5vcmlnaW5YO1xuICAgIGFyZWEub3JpZ2luWSA9IGZsb2F0Q29udGFpbmVyLm9yaWdpblk7XG4gICAgYXJlYS52ZXJ0aWNhbCA9IGZsb2F0Q29udGFpbmVyLnZlcnRpY2FsO1xuICAgIGFyZWEubWFyZ2luTGVmdCA9IGFyZWEubWFyZ2luUmlnaHQgPSBhcmVhLm1hcmdpblRvcCA9IGFyZWEubWFyZ2luQm90dG9tID0gMDtcbiAgICBhcmVhLmJvcmRlckxlZnQgPSBhcmVhLmJvcmRlclJpZ2h0ID0gYXJlYS5ib3JkZXJUb3AgPSBhcmVhLmJvcmRlckJvdHRvbSA9IDA7XG4gICAgYXJlYS5wYWRkaW5nTGVmdCA9IGFyZWEucGFkZGluZ1JpZ2h0ID0gYXJlYS5wYWRkaW5nVG9wID0gYXJlYS5wYWRkaW5nQm90dG9tID0gMDtcbiAgICBhcmVhLmV4Y2x1c2lvbnMgPSAoZmxvYXRDb250YWluZXIuZXhjbHVzaW9ucyB8fCBbXSkuY29uY2F0KCk7XG4gICAgYXJlYS5mb3JjZU5vbmZpdHRpbmcgPSAhZmxvYXRMYXlvdXRDb250ZXh0Lmhhc0Zsb2F0RnJhZ21lbnRzKCk7XG4gICAgYXJlYS5pbm5lclNoYXBlID0gbnVsbDtcbiAgICBjb25zdCBjb250YWluaW5nQmxvY2tSZWN0ID0gZmxvYXRDb250YWluZXIuZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBhcmVhLnNldEhvcml6b250YWxQb3NpdGlvbihcbiAgICAgIGNvbnRhaW5pbmdCbG9ja1JlY3QueDEgLSBmbG9hdENvbnRhaW5lci5vcmlnaW5YLFxuICAgICAgY29udGFpbmluZ0Jsb2NrUmVjdC54MiAtIGNvbnRhaW5pbmdCbG9ja1JlY3QueDEsXG4gICAgKTtcbiAgICBhcmVhLnNldFZlcnRpY2FsUG9zaXRpb24oXG4gICAgICBjb250YWluaW5nQmxvY2tSZWN0LnkxIC0gZmxvYXRDb250YWluZXIub3JpZ2luWSxcbiAgICAgIGNvbnRhaW5pbmdCbG9ja1JlY3QueTIgLSBjb250YWluaW5nQmxvY2tSZWN0LnkxLFxuICAgICk7XG4gICAgc3RyYXRlZ3kuYWRqdXN0UGFnZUZsb2F0QXJlYShhcmVhLCBmbG9hdENvbnRhaW5lciwgdGhpcyk7XG5cbiAgICAvLyBDYWxjdWxhdGUgYmFuZHMgZnJvbSB0aGUgZXhjbHVzaW9ucyBiZWZvcmUgc2V0dGluZyBmbG9hdCBhcmVhIGRpbWVuc2lvbnNcbiAgICBhcmVhLmluaXQoKTtcbiAgICBjb25zdCBmaXRXaXRoaW5Db250YWluZXIgPSAhIWZsb2F0TGF5b3V0Q29udGV4dC5zZXRGbG9hdEFyZWFEaW1lbnNpb25zKFxuICAgICAgYXJlYSxcbiAgICAgIGZsb2F0UmVmZXJlbmNlLFxuICAgICAgZmxvYXRTaWRlLFxuICAgICAgYW5jaG9yRWRnZSxcbiAgICAgIHRydWUsXG4gICAgICAhZmxvYXRMYXlvdXRDb250ZXh0Lmhhc0Zsb2F0RnJhZ21lbnRzKCksXG4gICAgICBjb25kaXRpb24sXG4gICAgKTtcbiAgICBpZiAoZml0V2l0aGluQ29udGFpbmVyKSB7XG4gICAgICAvLyBOZXcgZGltZW5zaW9ucyBoYXZlIGJlZW4gc2V0LCByZW1vdmUgZXhjbHVzaW9uIGZsb2F0cyBhbmQgcmUtaW5pdFxuICAgICAgYXJlYS5raWxsRmxvYXRzKCk7XG4gICAgICBhcmVhLmluaXQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmxvYXRDb250YWluZXIuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gZml0V2l0aGluQ29udGFpbmVyO1xuICB9XG5cbiAgY3JlYXRlUGFnZUZsb2F0QXJlYShcbiAgICBmbG9hdDogUGFnZUZsb2F0cy5QYWdlRmxvYXQgfCBudWxsLFxuICAgIGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgY29uZGl0aW9uOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbixcbiAgKTogUGFnZUZsb2F0QXJlYSB8IG51bGwge1xuICAgIGNvbnN0IGZsb2F0QXJlYUVsZW1lbnQgPSB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZmxvYXRBcmVhRWxlbWVudCwgXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuICAgIGNvbnN0IHBhcmVudFBhZ2VGbG9hdExheW91dENvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIGZsb2F0LmZsb2F0UmVmZXJlbmNlLFxuICAgICk7XG5cbiAgICAvLyBUT0RPOiBlc3RhYmxpc2ggaG93IHRvIHNwZWNpZnkgYW4gYXBwcm9wcmlhdGUgZ2VuZXJhdGluZyBlbGVtZW50IGZvciB0aGVcbiAgICAvLyBuZXcgcGFnZSBmbG9hdCBsYXlvdXQgY29udGV4dFxuICAgIGNvbnN0IHBhZ2VGbG9hdExheW91dENvbnRleHQgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgbnVsbCxcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuQ09MVU1OLFxuICAgICAgbnVsbCxcbiAgICAgIHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5mbG93TmFtZSxcbiAgICAgIGZsb2F0Lm5vZGVQb3NpdGlvbixcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICk7XG4gICAgY29uc3QgcGFyZW50Q29udGFpbmVyID0gcGFyZW50UGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRDb250YWluZXIoKTtcbiAgICBjb25zdCBmbG9hdEFyZWEgPSBuZXcgUGFnZUZsb2F0QXJlYShcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIGZsb2F0QXJlYUVsZW1lbnQsXG4gICAgICB0aGlzLmxheW91dENvbnRleHQuY2xvbmUoKSxcbiAgICAgIHRoaXMuY2xpZW50TGF5b3V0LFxuICAgICAgdGhpcy5sYXlvdXRDb25zdHJhaW50LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIHBhcmVudENvbnRhaW5lcixcbiAgICApO1xuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuc2V0Q29udGFpbmVyKGZsb2F0QXJlYSk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zZXR1cEZsb2F0QXJlYShcbiAgICAgICAgZmxvYXRBcmVhLFxuICAgICAgICBmbG9hdC5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgZmxvYXRTaWRlLFxuICAgICAgICBhbmNob3JFZGdlLFxuICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgY29uZGl0aW9uLFxuICAgICAgKVxuICAgICkge1xuICAgICAgcmV0dXJuIGZsb2F0QXJlYTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgbGF5b3V0U2luZ2xlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgY29udGludWF0aW9uczogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb25bXSxcbiAgICBmbG9hdFNpZGU6IHN0cmluZyxcbiAgICBjbGVhclNpZGU6IHN0cmluZyB8IG51bGwsXG4gICAgYWxsb3dGcmFnbWVudGVkOiBib29sZWFuLFxuICAgIHN0cmF0ZWd5OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dFN0cmF0ZWd5LFxuICAgIGFuY2hvckVkZ2U6IG51bWJlciB8IG51bGwsXG4gICAgcGFnZUZsb2F0RnJhZ21lbnQ/OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8U2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbENvbnRpbnVhdGlvbnMgPSBwYWdlRmxvYXRGcmFnbWVudFxuICAgICAgPyBwYWdlRmxvYXRGcmFnbWVudC5jb250aW51YXRpb25zXG4gICAgICA6IFtdO1xuICAgIGNvbnRpbnVhdGlvbnMgPSBvcmlnaW5hbENvbnRpbnVhdGlvbnMuY29uY2F0KGNvbnRpbnVhdGlvbnMpO1xuICAgIGNvbnN0IGZpcnN0RmxvYXQgPSBjb250aW51YXRpb25zWzBdLmZsb2F0O1xuICAgIGNvbnN0IGNvbmRpdGlvbiA9IGNvbnRleHQuZ2V0UGFnZUZsb2F0UGxhY2VtZW50Q29uZGl0aW9uKFxuICAgICAgZmlyc3RGbG9hdCxcbiAgICAgIGZsb2F0U2lkZSxcbiAgICAgIGNsZWFyU2lkZSxcbiAgICApO1xuICAgIGNvbnN0IGZsb2F0QXJlYSA9IHRoaXMuY3JlYXRlUGFnZUZsb2F0QXJlYShcbiAgICAgIGZpcnN0RmxvYXQsXG4gICAgICBmbG9hdFNpZGUsXG4gICAgICBhbmNob3JFZGdlLFxuICAgICAgc3RyYXRlZ3ksXG4gICAgICBjb25kaXRpb24sXG4gICAgKTtcbiAgICBjb25zdCByZXN1bHQ6IFNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdCA9IHtcbiAgICAgIGZsb2F0QXJlYSxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50OiBudWxsLFxuICAgICAgbmV3UG9zaXRpb246IG51bGwsXG4gICAgfTtcbiAgICBpZiAoIWZsb2F0QXJlYSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxTaW5nbGVQYWdlRmxvYXRMYXlvdXRSZXN1bHQ+KFxuICAgICAgXCJsYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudFwiLFxuICAgICk7XG4gICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xuICAgIGxldCBpID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA+PSBjb250aW51YXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYyA9IGNvbnRpbnVhdGlvbnNbaV07XG4gICAgICAgIGNvbnN0IGZsb2F0Q2h1bmtQb3NpdGlvbiA9IG5ldyBWdHJlZUltcGwuQ2h1bmtQb3NpdGlvbihjLm5vZGVQb3NpdGlvbik7XG4gICAgICAgIGZsb2F0QXJlYS5sYXlvdXQoZmxvYXRDaHVua1Bvc2l0aW9uLCB0cnVlKS50aGVuKChuZXdQb3NpdGlvbikgPT4ge1xuICAgICAgICAgIHJlc3VsdC5uZXdQb3NpdGlvbiA9IG5ld1Bvc2l0aW9uO1xuICAgICAgICAgIGlmICghbmV3UG9zaXRpb24gfHwgYWxsb3dGcmFnbWVudGVkKSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICghZmFpbGVkKSB7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoZmxvYXRBcmVhKTtcbiAgICAgICAgICBjb25zdCBsb2dpY2FsRmxvYXRTaWRlID0gY29udGV4dC5zZXRGbG9hdEFyZWFEaW1lbnNpb25zKFxuICAgICAgICAgICAgZmxvYXRBcmVhLFxuICAgICAgICAgICAgZmlyc3RGbG9hdC5mbG9hdFJlZmVyZW5jZSxcbiAgICAgICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgICAgIGFuY2hvckVkZ2UsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGFsbG93RnJhZ21lbnRlZCxcbiAgICAgICAgICAgIGNvbmRpdGlvbixcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmICghbG9naWNhbEZsb2F0U2lkZSkge1xuICAgICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3RnJhZ21lbnQgPSBzdHJhdGVneS5jcmVhdGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgICAgICAgICAgY29udGludWF0aW9ucyxcbiAgICAgICAgICAgICAgbG9naWNhbEZsb2F0U2lkZSxcbiAgICAgICAgICAgICAgZmxvYXRBcmVhLFxuICAgICAgICAgICAgICAhIXJlc3VsdC5uZXdQb3NpdGlvbixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb250ZXh0LmFkZFBhZ2VGbG9hdEZyYWdtZW50KG5ld0ZyYWdtZW50LCB0cnVlKTtcbiAgICAgICAgICAgIHJlc3VsdC5wYWdlRmxvYXRGcmFnbWVudCA9IG5ld0ZyYWdtZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxheW91dFBhZ2VGbG9hdElubmVyKFxuICAgIGNvbnRpbnVhdGlvbjogUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24sXG4gICAgc3RyYXRlZ3k6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3ksXG4gICAgYW5jaG9yRWRnZTogbnVtYmVyIHwgbnVsbCxcbiAgICBwYWdlRmxvYXRGcmFnbWVudD86IFBhZ2VGbG9hdHMuUGFnZUZsb2F0RnJhZ21lbnQsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IGZsb2F0ID0gY29udGludWF0aW9uLmZsb2F0O1xuICAgIGNvbnRleHQuc3Rhc2hFbmRGbG9hdEZyYWdtZW50cyhmbG9hdCk7XG5cbiAgICBmdW5jdGlvbiBjYW5jZWxMYXlvdXQoZmxvYXRBcmVhLCBwYWdlRmxvYXRGcmFnbWVudCkge1xuICAgICAgaWYgKHBhZ2VGbG9hdEZyYWdtZW50KSB7XG4gICAgICAgIGNvbnRleHQucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQocGFnZUZsb2F0RnJhZ21lbnQsIHRydWUpO1xuICAgICAgfSBlbHNlIGlmIChmbG9hdEFyZWEpIHtcbiAgICAgICAgZmxvYXRBcmVhLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmbG9hdEFyZWEuZWxlbWVudCk7XG4gICAgICB9XG4gICAgICBjb250ZXh0LnJlc3RvcmVTdGFzaGVkRnJhZ21lbnRzKGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgIGNvbnRleHQuZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0UGFnZUZsb2F0SW5uZXJcIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5sYXlvdXRTaW5nbGVQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgIFtjb250aW51YXRpb25dLFxuICAgICAgZmxvYXQuZmxvYXRTaWRlLFxuICAgICAgZmxvYXQuY2xlYXJTaWRlLFxuICAgICAgIWNvbnRleHQuaGFzRmxvYXRGcmFnbWVudHMoKSxcbiAgICAgIHN0cmF0ZWd5LFxuICAgICAgYW5jaG9yRWRnZSxcbiAgICAgIHBhZ2VGbG9hdEZyYWdtZW50LFxuICAgICkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBjb25zdCBmbG9hdEFyZWEgPSByZXN1bHQuZmxvYXRBcmVhO1xuICAgICAgY29uc3QgbmV3RnJhZ21lbnQgPSByZXN1bHQucGFnZUZsb2F0RnJhZ21lbnQ7XG4gICAgICBjb25zdCBuZXdQb3NpdGlvbiA9IHJlc3VsdC5uZXdQb3NpdGlvbjtcbiAgICAgIGlmIChuZXdGcmFnbWVudCkge1xuICAgICAgICBzZWxmXG4gICAgICAgICAgLmxheW91dFN0YXNoZWRQYWdlRmxvYXRzKGZsb2F0LmZsb2F0UmVmZXJlbmNlLCBbcGFnZUZsb2F0RnJhZ21lbnRdKVxuICAgICAgICAgIC50aGVuKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgICAvLyBBZGQgYWdhaW4gdG8gaW52YWxpZGF0ZSB0aGUgY29udGV4dFxuICAgICAgICAgICAgICBBc3NlcnRzLmFzc2VydChuZXdGcmFnbWVudCk7XG4gICAgICAgICAgICAgIGNvbnRleHQuYWRkUGFnZUZsb2F0RnJhZ21lbnQobmV3RnJhZ21lbnQpO1xuICAgICAgICAgICAgICBjb250ZXh0LmRpc2NhcmRTdGFzaGVkRnJhZ21lbnRzKGZsb2F0LmZsb2F0UmVmZXJlbmNlKTtcbiAgICAgICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0Q29udGludWF0aW9uKFxuICAgICAgICAgICAgICAgICAgZmxvYXQsXG4gICAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbi5wcmltYXJ5LFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5kZWZlclBhZ2VGbG9hdChjb250aW51YXRpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbmNlbExheW91dChmbG9hdEFyZWEsIG5ld0ZyYWdtZW50KTtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbmNlbExheW91dChmbG9hdEFyZWEsIG5ld0ZyYWdtZW50KTtcbiAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgUmVwcmVzZW50cyBpZiB0aGUgbGF5b3V0IHdhcyBzdWNjZWVkZWQgb3Igbm90XG4gICAqL1xuICBwcml2YXRlIGxheW91dFN0YXNoZWRQYWdlRmxvYXRzKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGV4Y2x1ZGVkOiBQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50W10sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IHN0YXNoZWRGbG9hdEZyYWdtZW50cyA9IGNvbnRleHQuZ2V0U3Rhc2hlZEZsb2F0RnJhZ21lbnRzKFxuICAgICAgZmxvYXRSZWZlcmVuY2UsXG4gICAgKTtcbiAgICBjb25zdCBuZXdGbG9hdEFyZWFzID0gW107XG4gICAgY29uc3QgbmV3RnJhZ21lbnRzID0gW107XG4gICAgbGV0IGZhaWxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcImxheW91dFN0YXNoZWRQYWdlRmxvYXRzXCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBpID0gMDtcbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoaSA+PSBzdGFzaGVkRmxvYXRGcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFzaGVkRnJhZ21lbnQgPSBzdGFzaGVkRmxvYXRGcmFnbWVudHNbaV07XG4gICAgICAgIGlmIChleGNsdWRlZC5pbmNsdWRlcyhzdGFzaGVkRnJhZ21lbnQpKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyKCkuZmluZEJ5RmxvYXQoXG4gICAgICAgICAgc3Rhc2hlZEZyYWdtZW50LmNvbnRpbnVhdGlvbnNbMF0uZmxvYXQsXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gVmFsdWUgb2YgJ2NsZWFyJyBpcyBpcnJlbGV2YW50IHdoZW4gbGF5aW5nIG91dCBzdGFzaGVkIGZsb2F0c1xuICAgICAgICAvLyBzaW5jZSB3aGV0aGVyIHRoZSAnY2xlYXInIHZhbHVlIGFsbG93cyBwbGFjaW5nIHRoZSBmbG9hdFxuICAgICAgICAvLyBoZXJlIGlzIGFscmVhZHkgcmVzb2x2ZWQuXG4gICAgICAgIHNlbGZcbiAgICAgICAgICAubGF5b3V0U2luZ2xlUGFnZUZsb2F0RnJhZ21lbnQoXG4gICAgICAgICAgICBzdGFzaGVkRnJhZ21lbnQuY29udGludWF0aW9ucyxcbiAgICAgICAgICAgIHN0YXNoZWRGcmFnbWVudC5mbG9hdFNpZGUsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZsb2F0QXJlYSA9IHJlc3VsdC5mbG9hdEFyZWE7XG4gICAgICAgICAgICBpZiAoZmxvYXRBcmVhKSB7XG4gICAgICAgICAgICAgIG5ld0Zsb2F0QXJlYXMucHVzaChmbG9hdEFyZWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSByZXN1bHQucGFnZUZsb2F0RnJhZ21lbnQ7XG4gICAgICAgICAgICBpZiAoZnJhZ21lbnQpIHtcbiAgICAgICAgICAgICAgbmV3RnJhZ21lbnRzLnB1c2goZnJhZ21lbnQpO1xuICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZhaWxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICBuZXdGcmFnbWVudHMuZm9yRWFjaCgoZnJhZ21lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnRleHQucmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQoZnJhZ21lbnQsIHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld0Zsb2F0QXJlYXMuZm9yRWFjaCgoYXJlYSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGFyZWEuZWxlbWVudDtcbiAgICAgICAgICAgIGlmIChlbGVtICYmIGVsZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Rhc2hlZEZsb2F0RnJhZ21lbnRzLmZvckVhY2goKGZyYWdtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtID0gZnJhZ21lbnQuYXJlYS5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKGVsZW0gJiYgZWxlbS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2goIWZhaWxlZCk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzZXRGbG9hdEFuY2hvclZpZXdOb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBjb25zdCBwYXJlbnQgPSBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlO1xuICAgIGNvbnN0IGFuY2hvciA9IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGFuY2hvci5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICAgIGlmIChub2RlQ29udGV4dC5mbG9hdFNpZGUgPT09IFwiZm9vdG5vdGVcIikge1xuICAgICAgLy8gRGVmYXVsdHMgZm9yIGZvb3Rub3RlLWNhbGwsIGNhbiBiZSBvdmVycmlkZW4gYnkgdGhlIHN0eWxlc2hlZXQuXG4gICAgICB0aGlzLmxheW91dENvbnRleHQuYXBwbHlQc2V1ZG9lbGVtZW50U3R5bGUoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBcImZvb3Rub3RlLWNhbGxcIixcbiAgICAgICAgYW5jaG9yLFxuICAgICAgKTtcbiAgICB9XG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGFuY2hvcik7XG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICBjb25zdCBub2RlQ29udGV4dEFmdGVyID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgbm9kZUNvbnRleHRBZnRlci5hZnRlciA9IHRydWU7XG4gICAgbm9kZUNvbnRleHRBZnRlci52aWV3Tm9kZSA9IGFuY2hvcjtcbiAgICByZXR1cm4gbm9kZUNvbnRleHRBZnRlcjtcbiAgfVxuXG4gIHJlc29sdmVGbG9hdFJlZmVyZW5jZUZyb21Db2x1bW5TcGFuKFxuICAgIGZsb2F0UmVmZXJlbmNlOiBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLFxuICAgIGNvbHVtblNwYW46IENzcy5WYWwsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJyZXNvbHZlRmxvYXRSZWZlcmVuY2VGcm9tQ29sdW1uU3BhblwiLFxuICAgICkgYXMgVGFzay5GcmFtZTxQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlPjtcbiAgICBjb25zdCBjb2x1bW5Db250ZXh0ID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICAgIGNvbnN0IHJlZ2lvbkNvbnRleHQgPSBjb2x1bW5Db250ZXh0LmdldFBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlJFR0lPTixcbiAgICApO1xuICAgIGNvbnN0IGlzUmVnaW9uV2lkZXIgPVxuICAgICAgY29sdW1uQ29udGV4dC5nZXRDb250YWluZXIoKS53aWR0aCA8IHJlZ2lvbkNvbnRleHQuZ2V0Q29udGFpbmVyKCkud2lkdGg7XG4gICAgaWYgKGlzUmVnaW9uV2lkZXIgJiYgZmxvYXRSZWZlcmVuY2UgPT09IFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuQ09MVU1OKSB7XG4gICAgICBpZiAoY29sdW1uU3BhbiA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgdGhpcy5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dC5jb3B5KCkpLnRoZW4oKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IHBvc2l0aW9uLnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgbGV0IGlubGluZVNpemUgPSBTaXppbmcuZ2V0U2l6ZShzZWxmLmNsaWVudExheW91dCwgZWxlbWVudCwgW1xuICAgICAgICAgICAgU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkUsXG4gICAgICAgICAgXSlbU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfSU5MSU5FX1NJWkVdO1xuICAgICAgICAgIGNvbnN0IG1hcmdpbiA9IHNlbGYuZ2V0Q29tcHV0ZWRNYXJnaW4oZWxlbWVudCk7XG4gICAgICAgICAgaWYgKHNlbGYudmVydGljYWwpIHtcbiAgICAgICAgICAgIGlubGluZVNpemUgKz0gbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b207XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlubGluZVNpemUgKz0gbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmxpbmVTaXplID4gc2VsZi53aWR0aCkge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZsb2F0UmVmZXJlbmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChjb2x1bW5TcGFuID09PSBDc3MuaWRlbnQuYWxsKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChQYWdlRmxvYXRzLkZsb2F0UmVmZXJlbmNlLlJFR0lPTik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmFtZS5maW5pc2goZmxvYXRSZWZlcmVuY2UpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZS5maW5pc2goZmxvYXRSZWZlcmVuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsYXlvdXRQYWdlRmxvYXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3Qgc3RyYXRlZ3kgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyKCkuZmluZEJ5Tm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICApO1xuICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxQYWdlRmxvYXRzLlBhZ2VGbG9hdD47XG4gICAgY29uc3QgZmxvYXQgPSBjb250ZXh0LmZpbmRQYWdlRmxvYXRCeU5vZGVQb3NpdGlvbihcbiAgICAgIG5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCksXG4gICAgKTtcbiAgICBpZiAoIWZsb2F0KSB7XG4gICAgICBjb250ID0gc3RyYXRlZ3kuY3JlYXRlUGFnZUZsb2F0KG5vZGVDb250ZXh0LCBjb250ZXh0LCB0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KGZsb2F0KTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnQudGhlbkFzeW5jKChmbG9hdCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZVBvc2l0aW9uID0gVnRyZWVJbXBsLm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgICAgY29uc3Qgbm9kZUNvbnRleHRBZnRlciA9IHNlbGYuc2V0RmxvYXRBbmNob3JWaWV3Tm9kZShub2RlQ29udGV4dCk7XG4gICAgICBjb25zdCBwYWdlRmxvYXRGcmFnbWVudCA9IHN0cmF0ZWd5LmZpbmRQYWdlRmxvYXRGcmFnbWVudChmbG9hdCwgY29udGV4dCk7XG4gICAgICBjb25zdCBjb250aW51YXRpb24gPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRDb250aW51YXRpb24oXG4gICAgICAgIGZsb2F0LFxuICAgICAgICBub2RlUG9zaXRpb24sXG4gICAgICApO1xuICAgICAgaWYgKHBhZ2VGbG9hdEZyYWdtZW50ICYmIHBhZ2VGbG9hdEZyYWdtZW50Lmhhc0Zsb2F0KGZsb2F0KSkge1xuICAgICAgICBjb250ZXh0LnJlZ2lzdGVyUGFnZUZsb2F0QW5jaG9yKGZsb2F0LCBub2RlQ29udGV4dEFmdGVyLnZpZXdOb2RlKTtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0QWZ0ZXIgYXMgVnRyZWUuTm9kZUNvbnRleHQpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgY29udGV4dC5pc0ZvcmJpZGRlbihmbG9hdCkgfHxcbiAgICAgICAgY29udGV4dC5oYXNQcmVjZWRpbmdGbG9hdHNEZWZlcnJlZFRvTmV4dChmbG9hdClcbiAgICAgICkge1xuICAgICAgICBjb250ZXh0LmRlZmVyUGFnZUZsb2F0KGNvbnRpbnVhdGlvbik7XG4gICAgICAgIGNvbnRleHQucmVnaXN0ZXJQYWdlRmxvYXRBbmNob3IoZmxvYXQsIG5vZGVDb250ZXh0QWZ0ZXIudmlld05vZGUpO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHRBZnRlciBhcyBWdHJlZS5Ob2RlQ29udGV4dCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgICBub2RlQ29udGV4dEFmdGVyLFxuICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgIDAsXG4gICAgICAgICAgc2VsZi52ZXJ0aWNhbCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlbGYuaXNPdmVyZmxvd24oZWRnZSkpIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHRBZnRlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGZcbiAgICAgICAgICAgIC5sYXlvdXRQYWdlRmxvYXRJbm5lcihcbiAgICAgICAgICAgICAgY29udGludWF0aW9uLFxuICAgICAgICAgICAgICBzdHJhdGVneSxcbiAgICAgICAgICAgICAgZWRnZSxcbiAgICAgICAgICAgICAgcGFnZUZsb2F0RnJhZ21lbnQsXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAudGhlbkFzeW5jKChzdWNjZXNzKSA9PiB7XG4gICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGZsb2F0KTtcbiAgICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC5yZWdpc3RlclBhZ2VGbG9hdEFuY2hvcihcbiAgICAgICAgICAgICAgICAgIGZsb2F0LFxuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHRBZnRlci52aWV3Tm9kZSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dEFmdGVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjcmVhdGVKdXN0aWZpY2F0aW9uQWRqdXN0bWVudEVsZW1lbnQoXG4gICAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4gICAgZG9jOiBEb2N1bWVudCxcbiAgICBwYXJlbnROb2RlOiBOb2RlLFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICApOiBIVE1MRWxlbWVudCB7XG4gICAgY29uc3Qgc3BhbiA9IGRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBzcGFuLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHNwYW4uc3R5bGUudmVydGljYWxBbGlnbiA9IFwidG9wXCI7XG4gICAgc3Bhbi5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICAgIGNvbnN0IGlubmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIGlubmVyLnN0eWxlLmZvbnRTaXplID0gXCIwXCI7XG4gICAgaW5uZXIuc3R5bGUubGluZUhlaWdodCA9IFwiMFwiO1xuICAgIGlubmVyLnRleHRDb250ZW50ID0gXCIgI1wiO1xuICAgIHNwYW4uYXBwZW5kQ2hpbGQoaW5uZXIpO1xuXG4gICAgLy8gTWVhc3VyZSBpbmxpbmUtc3RhcnQgYW5kIGlubGluZS1lbmQgZWRnZSBwb3NpdGlvbnMgb2YgdGhlIGxpbmUgYm94LFxuICAgIC8vIHRha2luZyAoZXhjbHVzaW9uKSBmbG9hdHMgaW50byBjb25zaWRlcmF0aW9uXG4gICAgc3Bhbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIHNwYW4uc3R5bGUudGV4dEluZGVudCA9IFwiMFwiO1xuICAgIHNwYW4uc3R5bGUudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3BhbiwgaW5zZXJ0aW9uUG9pbnQpO1xuICAgIGNvbnN0IGxlZnRQb3MgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChpbm5lcik7XG4gICAgc3Bhbi5zdHlsZS50ZXh0QWxpZ24gPSBcInJpZ2h0XCI7XG4gICAgY29uc3QgcmlnaHRQb3MgPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChpbm5lcik7XG4gICAgc3Bhbi5zdHlsZS50ZXh0QWxpZ24gPSBcIlwiO1xuICAgIGlmIChCYXNlLmNoZWNrSW5saW5lQmxvY2tKdXN0aWZpY2F0aW9uQnVnKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgICAvLyBGb3IgQ2hyb21lXG4gICAgICBzcGFuLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZVwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBGb3IgRmlyZWZveCwgRWRnZSBhbmQgSUVcbiAgICAgIHNwYW4uc3R5bGUuZGlzcGxheSA9IFwiaW5saW5lLWJsb2NrXCI7XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmcgPSB2ZXJ0aWNhbFxuICAgICAgPyByaWdodFBvcy50b3AgLSBsZWZ0UG9zLnRvcFxuICAgICAgOiByaWdodFBvcy5sZWZ0IC0gbGVmdFBvcy5sZWZ0O1xuICAgIGNvbnN0IHBhZGRpbmdTdHIgPSBwYWRkaW5nID49IDEgPyBgJHtwYWRkaW5nIC0gMX1weGAgOiBcIjEwMCVcIjtcbiAgICBpZiAodmVydGljYWwpIHtcbiAgICAgIHNwYW4uc3R5bGUucGFkZGluZ1RvcCA9IHBhZGRpbmdTdHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYW4uc3R5bGUucGFkZGluZ0xlZnQgPSBwYWRkaW5nU3RyO1xuICAgIH1cbiAgICByZXR1cm4gc3BhbjtcbiAgfVxuXG4gIGFkZEFuZEFkanVzdEp1c3RpZmljYXRpb25FbGVtZW50KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbnNlcnRBZnRlcjogYm9vbGVhbixcbiAgICBub2RlOiBOb2RlLFxuICAgIGluc2VydGlvblBvaW50OiBOb2RlLFxuICAgIGRvYzogRG9jdW1lbnQsXG4gICAgcGFyZW50Tm9kZTogTm9kZSxcbiAgKTogSFRNTEVsZW1lbnQge1xuICAgIGZpeEp1c3RpZmljYXRpb25Pbkh5cGhlbihub2RlQ29udGV4dCwgaW5zZXJ0QWZ0ZXIsIG5vZGUsIGluc2VydGlvblBvaW50KTtcbiAgICByZXR1cm4gdGhpcy5jcmVhdGVKdXN0aWZpY2F0aW9uQWRqdXN0bWVudEVsZW1lbnQoXG4gICAgICBpbnNlcnRpb25Qb2ludCxcbiAgICAgIGRvYyxcbiAgICAgIHBhcmVudE5vZGUsXG4gICAgICBub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgICApO1xuICB9XG5cbiAgY29tcGVuc2F0ZUp1c3RpZmljYXRpb25MaW5lSGVpZ2h0KFxuICAgIHNwYW46IEVsZW1lbnQsXG4gICAgYnI6IEVsZW1lbnQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApIHtcbiAgICBjb25zdCBzcGFuUmVjdCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHNwYW4pO1xuICAgIGNvbnN0IGJyUmVjdCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGJyKTtcbiAgICBpZiAobm9kZUNvbnRleHQudmVydGljYWwpIHtcbiAgICAgIChiciBhcyBIVE1MRWxlbWVudCkuc3R5bGUubWFyZ2luUmlnaHQgPSBgJHtcbiAgICAgICAgYnJSZWN0LnJpZ2h0IC0gc3BhblJlY3QucmlnaHRcbiAgICAgIH1weGA7XG4gICAgICAoYnIgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLndpZHRoID0gXCIwcHhcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgKGJyIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5tYXJnaW5Ub3AgPSBgJHtzcGFuUmVjdC50b3AgLSBiclJlY3QudG9wfXB4YDtcbiAgICAgIChiciBhcyBIVE1MRWxlbWVudCkuc3R5bGUuaGVpZ2h0ID0gXCIwcHhcIjtcbiAgICB9XG4gICAgYnIuc2V0QXR0cmlidXRlKFZ0cmVlSW1wbC5TUEVDSUFMX0FUVFIsIFwiMVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXgganVzdGlmaWNhdGlvbiBvZiB0aGUgbGFzdCBsaW5lIG9mIHRleHQgYnJva2VuIGFjcm9zcyBwYWdlcyAoaWZcbiAgICogbmVlZGVkKS5cbiAgICovXG4gIGZpeEp1c3RpZmljYXRpb25JZk5lZWRlZChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmIChub2RlQ29udGV4dC5hZnRlciAmJiAhbm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlbmRPZkNvbHVtbikge1xuICAgICAgbGV0IHRleHRBbGlnbiA9IFwiXCI7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgcGFyZW50ID0gbm9kZUNvbnRleHQucGFyZW50O1xuICAgICAgICBwYXJlbnQgJiYgIXRleHRBbGlnbjtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudFxuICAgICAgKSB7XG4gICAgICAgIGlmICghcGFyZW50LmlubGluZSAmJiBwYXJlbnQudmlld05vZGUpIHtcbiAgICAgICAgICB0ZXh0QWxpZ24gPSAocGFyZW50LnZpZXdOb2RlIGFzIEhUTUxFbGVtZW50KS5zdHlsZS50ZXh0QWxpZ247XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0ZXh0QWxpZ24gIT09IFwianVzdGlmeVwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgbm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlO1xuICAgIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICBjb25zdCBpbnNlcnRBZnRlciA9XG4gICAgICBlbmRPZkNvbHVtbiAmJiAobm9kZUNvbnRleHQuYWZ0ZXIgfHwgbm9kZS5ub2RlVHlwZSAhPSAxKTtcbiAgICBsZXQgaW5zZXJ0aW9uUG9pbnQgPSBpbnNlcnRBZnRlciA/IG5vZGUubmV4dFNpYmxpbmcgOiBub2RlO1xuICAgIGlmIChpbnNlcnRpb25Qb2ludCAmJiAhaW5zZXJ0aW9uUG9pbnQucGFyZW50Tm9kZSkge1xuICAgICAgLy8gUG9zc2libGUgaWYgcmVtb3ZlU2VsZiA9IGZhbHNlIGluIGZpbmlzaEJyZWFrKClcbiAgICAgIGluc2VydGlvblBvaW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFyZW50Tm9kZSA9XG4gICAgICBub2RlLnBhcmVudE5vZGUgfHwgKG5vZGVDb250ZXh0LnBhcmVudCAmJiBub2RlQ29udGV4dC5wYXJlbnQudmlld05vZGUpO1xuICAgIGlmICghcGFyZW50Tm9kZSkge1xuICAgICAgLy8gUG9zc2libGUgaWYgbm90aGluZyB3YXMgYWRkZWQgdG8gdGhlIGNvbHVtblxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzcGFuID0gdGhpcy5hZGRBbmRBZGp1c3RKdXN0aWZpY2F0aW9uRWxlbWVudChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgaW5zZXJ0QWZ0ZXIsXG4gICAgICBub2RlLFxuICAgICAgaW5zZXJ0aW9uUG9pbnQsXG4gICAgICBkb2MsXG4gICAgICBwYXJlbnROb2RlLFxuICAgICk7XG4gICAgaWYgKCFlbmRPZkNvbHVtbikge1xuICAgICAgY29uc3QgYnIgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgIHBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJyLCBpbnNlcnRpb25Qb2ludCk7XG4gICAgICB0aGlzLmNvbXBlbnNhdGVKdXN0aWZpY2F0aW9uTGluZUhlaWdodChzcGFuLCBiciwgbm9kZUNvbnRleHQpO1xuICAgIH1cbiAgfVxuXG4gIHByb2Nlc3NMaW5lU3R5bGluZyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcmVzTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInByb2Nlc3NMaW5lU3R5bGluZ1wiLFxuICAgICk7XG4gICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICB2YWxpZGF0ZUNoZWNrUG9pbnRzKGNoZWNrUG9pbnRzKTtcbiAgICB9XG4gICAgbGV0IGxhc3RDaGVja1BvaW50cyA9IGNoZWNrUG9pbnRzLmNvbmNhdChbXSk7IC8vIG1ha2UgYSBjb3B5XG4gICAgY2hlY2tQb2ludHMuc3BsaWNlKDAsIGNoZWNrUG9pbnRzLmxlbmd0aCk7IC8vIG1ha2UgZW1wdHlcbiAgICBsZXQgdG90YWxMaW5lQ291bnQgPSAwO1xuICAgIGxldCBmaXJzdFBzZXVkbyA9IG5vZGVDb250ZXh0LmZpcnN0UHNldWRvOyAvLyA6Zmlyc3QtbGV0dGVyIGlzIG5vdCBwcm9jZXNzZWQgaGVyZVxuICAgIGlmIChmaXJzdFBzZXVkby5jb3VudCA9PSAwKSB7XG4gICAgICBmaXJzdFBzZXVkbyA9IGZpcnN0UHNldWRvLm91dGVyOyAvLyBtb3ZlIHRvIGxpbmUgcHNldWRvZWxlbWVudCAoaWYgYW55KVxuICAgIH1cbiAgICBmcmFtZVxuICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICBpZiAoIWZpcnN0UHNldWRvKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lUG9zaXRpb25zID0gc2VsZi5maW5kTGluZVBvc2l0aW9ucyhsYXN0Q2hlY2tQb2ludHMpO1xuICAgICAgICBjb25zdCBjb3VudCA9IGZpcnN0UHNldWRvLmNvdW50IC0gdG90YWxMaW5lQ291bnQ7XG4gICAgICAgIGlmIChsaW5lUG9zaXRpb25zLmxlbmd0aCA8PSBjb3VudCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGluZUJyZWFrID0gc2VsZi5maW5kQWNjZXB0YWJsZUJyZWFrSW5zaWRlKFxuICAgICAgICAgIGxhc3RDaGVja1BvaW50cyxcbiAgICAgICAgICBsaW5lUG9zaXRpb25zW2NvdW50IC0gMV0sXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGxpbmVCcmVhayA9PSBudWxsKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmZpbmlzaEJyZWFrKGxpbmVCcmVhaywgZmFsc2UsIGZhbHNlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB0b3RhbExpbmVDb3VudCArPSBjb3VudDtcbiAgICAgICAgICBzZWxmLmxheW91dENvbnRleHRcbiAgICAgICAgICAgIC5wZWVsT2ZmKGxpbmVCcmVhaywgMClcbiAgICAgICAgICAgIC50aGVuKChyZXNOb2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gcmVzTm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgc2VsZi5maXhKdXN0aWZpY2F0aW9uSWZOZWVkZWQobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgZmlyc3RQc2V1ZG8gPSBub2RlQ29udGV4dC5maXJzdFBzZXVkbztcbiAgICAgICAgICAgICAgbGFzdENoZWNrUG9pbnRzID0gW107IC8vIFdpcGUgb3V0IGxpbmUgYnJlYWtzIGluc2lkZSBwc2V1ZG9lbGVtZW50c1xuICAgICAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAgICAgLmJ1aWxkVmlld1RvTmV4dEJsb2NrRWRnZShub2RlQ29udGV4dCwgbGFzdENoZWNrUG9pbnRzKVxuICAgICAgICAgICAgICAgIC50aGVuKChyZXNOb2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgICAgICByZXNOb2RlQ29udGV4dCA9IHJlc05vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShjaGVja1BvaW50cywgbGFzdENoZWNrUG9pbnRzKTtcbiAgICAgICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGVja1BvaW50cyhjaGVja1BvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc05vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGlzTG9uZUltYWdlKGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdKTogYm9vbGVhbiB7XG4gICAgaWYgKGNoZWNrUG9pbnRzLmxlbmd0aCAhPSAyICYmIHRoaXMuYnJlYWtQb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgY2hlY2tQb2ludHNbMF0uc291cmNlTm9kZSA9PSBjaGVja1BvaW50c1sxXS5zb3VyY2VOb2RlICYmXG4gICAgICBtZWRpYVRhZ3NbKGNoZWNrUG9pbnRzWzBdLnNvdXJjZU5vZGUgYXMgRWxlbWVudCkubG9jYWxOYW1lXVxuICAgICk7XG4gIH1cblxuICBnZXRUcmFpbGluZ01hcmdpbkVkZ2VBZGp1c3RtZW50KFxuICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApOiBudW1iZXIge1xuICAgIC8vIE1hcmdpbnMgcHVzaCB0aGUgY29tcHV0ZWQgaGVpZ2h0LCBidXQgYXJlIG5vdCBjb3VudGVkIGFzIG92ZXJmbG93LiBXZVxuICAgIC8vIG5lZWQgdG8gZmluZCB0aGUgb3ZlcmFsbCBjb2xsYXBzZWQgbWFyZ2luIGZyb20gYWxsIGVuY2xvc2VkIGJsb2Nrcy5cbiAgICBsZXQgbWF4UG9zID0gMDtcbiAgICBsZXQgbWluTmVnID0gMDtcbiAgICBmb3IgKGxldCBpID0gdHJhaWxpbmdFZGdlQ29udGV4dHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gdHJhaWxpbmdFZGdlQ29udGV4dHNbaV07XG4gICAgICBpZiAoXG4gICAgICAgICFub2RlQ29udGV4dC5hZnRlciB8fFxuICAgICAgICAhbm9kZUNvbnRleHQudmlld05vZGUgfHxcbiAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMVxuICAgICAgKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5nZXRDb21wdXRlZE1hcmdpbihub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50KTtcbiAgICAgIGNvbnN0IG0gPSB0aGlzLnZlcnRpY2FsID8gLW1hcmdpbi5sZWZ0IDogbWFyZ2luLmJvdHRvbTtcbiAgICAgIGlmIChtID4gMCkge1xuICAgICAgICBtYXhQb3MgPSBNYXRoLm1heChtYXhQb3MsIG0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWluTmVnID0gTWF0aC5taW4obWluTmVnLCBtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heFBvcyAtIG1pbk5lZztcbiAgfVxuXG4gIC8qKlxuICAgKiBMYXlvdXQgYSBzaW5nbGUgQ1NTIGJveC5cbiAgICovXG4gIGxheW91dEJyZWFrYWJsZUJsb2NrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJsYXlvdXRCcmVha2FibGVCbG9ja1wiLFxuICAgICk7XG4gICAgY29uc3QgY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgICBzZWxmXG4gICAgICAuYnVpbGRWaWV3VG9OZXh0QmxvY2tFZGdlKG5vZGVDb250ZXh0LCBjaGVja1BvaW50cylcbiAgICAgIC50aGVuKChyZXNOb2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAvLyBhdCB0aGlzIHBvaW50IGEgc2luZ2xlIGJsb2NrIHdhcyBhcHBlbmRlZCB0byB0aGUgY29sdW1uXG4gICAgICAgIC8vIGZsb3dQb3NpdGlvbiBpcyBlaXRoZXIgbnVsbCBvclxuICAgICAgICAvLyAgLSBpZiAhYWZ0ZXI6IGNvbnRhaW5zIHZpZXcgZm9yIHRoZSBuZXh0IGJsb2NrIGVsZW1lbnRcbiAgICAgICAgLy8gIC0gaWYgYWZ0ZXI6IGNvbnRhaW5zIHZpZXcgZm9yIHRoZSBlbmNsb3NpbmcgYmxvY2sgZWxlbWVudFxuICAgICAgICBjb25zdCBjaGVja1BvaW50SW5kZXggPSBjaGVja1BvaW50cy5sZW5ndGggLSAxO1xuICAgICAgICBpZiAoY2hlY2tQb2ludEluZGV4IDwgMCkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXNOb2RlQ29udGV4dCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVjb3JkIHRoZSBoZWlnaHRcbiAgICAgICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgZG9uZSBhZnRlciBmaXJzdC1saW5lIGNhbGN1bGF0aW9uP1xuICAgICAgICBsZXQgZWRnZSA9IHNlbGYuY2FsY3VsYXRlRWRnZShcbiAgICAgICAgICByZXNOb2RlQ29udGV4dCxcbiAgICAgICAgICBjaGVja1BvaW50cyxcbiAgICAgICAgICBjaGVja1BvaW50SW5kZXgsXG4gICAgICAgICAgY2hlY2tQb2ludHNbY2hlY2tQb2ludEluZGV4XS5ib3hPZmZzZXQsXG4gICAgICAgICk7XG4gICAgICAgIGxldCBvdmVyZmxvd24gPSBmYWxzZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFyZXNOb2RlQ29udGV4dCB8fFxuICAgICAgICAgICFMYXlvdXRIZWxwZXIuaXNPcnBoYW4ocmVzTm9kZUNvbnRleHQudmlld05vZGUpXG4gICAgICAgICkge1xuICAgICAgICAgIGNvbnN0IG9mZnNldHMgPSBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgICAgICAgIHJlc05vZGVDb250ZXh0LFxuICAgICAgICAgICAgc2VsZi5jb2xsZWN0RWxlbWVudHNPZmZzZXQoKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIG92ZXJmbG93biA9IHNlbGYuaXNPdmVyZmxvd24oXG4gICAgICAgICAgICBlZGdlICsgKHNlbGYudmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5taW5pbXVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2VsZi5pc092ZXJmbG93bihcbiAgICAgICAgICAgICAgZWRnZSArIChzZWxmLnZlcnRpY2FsID8gLTEgOiAxKSAqIG9mZnNldHMuY3VycmVudCxcbiAgICAgICAgICAgICkgJiZcbiAgICAgICAgICAgICFzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50c1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHMgPSByZXNOb2RlQ29udGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc05vZGVDb250ZXh0ID09IG51bGwpIHtcbiAgICAgICAgICBlZGdlICs9IHNlbGYuZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudChjaGVja1BvaW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGVkZ2UpO1xuICAgICAgICBsZXQgbGluZUNvbnQ6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcbiAgICAgICAgaWYgKG5vZGVDb250ZXh0LmZpcnN0UHNldWRvKSB7XG4gICAgICAgICAgLy8gcG9zc2libHkgbmVlZCB0byBkZWFsIHdpdGggOmZpcnN0LWxpbmUgYW5kIGZyaWVuZHNcbiAgICAgICAgICBsaW5lQ29udCA9IHNlbGYucHJvY2Vzc0xpbmVTdHlsaW5nKFxuICAgICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICAgICByZXNOb2RlQ29udGV4dCxcbiAgICAgICAgICAgIGNoZWNrUG9pbnRzLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGluZUNvbnQgPSBUYXNrLm5ld1Jlc3VsdChyZXNOb2RlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgbGluZUNvbnQudGhlbigobm9kZUNvbnRleHQpID0+IHtcbiAgICAgICAgICBzZWxmLnBvc3RMYXlvdXRCbG9jayhub2RlQ29udGV4dCwgY2hlY2tQb2ludHMpO1xuICAgICAgICAgIGlmIChjaGVja1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzZWxmLnNhdmVCb3hCcmVha1Bvc2l0aW9uKGNoZWNrUG9pbnRzKTtcblxuICAgICAgICAgICAgLy8gVE9ETzogaG93IHRvIHNpZ25hbCBvdmVyZmxvdyBpbiB0aGUgbGFzdCBwYWdhcmdhcGg/Pz9cbiAgICAgICAgICAgIGlmIChvdmVyZmxvd24gJiYgIXNlbGYuaXNMb25lSW1hZ2UoY2hlY2tQb2ludHMpICYmIG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwb3N0TGF5b3V0QmxvY2soXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICApIHtcbiAgICBjb25zdCBob29rczogUGx1Z2luLlBvc3RMYXlvdXRCbG9ja0hvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUE9TVF9MQVlPVVRfQkxPQ0ssXG4gICAgKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBob29rKG5vZGVDb250ZXh0LCBjaGVja1BvaW50cywgdGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBmaW5kRW5kT2ZMaW5lKFxuICAgIGxpbmVQb3NpdGlvbjogbnVtYmVyLFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGlzVXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZTogYm9vbGVhbixcbiAgKToge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBpbmRleDogbnVtYmVyO1xuICAgIGNoZWNrUG9pbnRJbmRleDogbnVtYmVyO1xuICB9IHtcbiAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgIHZhbGlkYXRlQ2hlY2tQb2ludHMoY2hlY2tQb2ludHMpO1xuICAgIH1cblxuICAgIC8vIFdvcmthcm91bmQgZm9yIEJsaW5rIG5vdCByZXR1cm5pbmcgY29ycmVjdCBmcmFjdGlvbmFsIHZhbHVlcyBmb3JcbiAgICAvLyBSYW5nZS5nZXRDbGllbnRSZWN0cy5cbiAgICAvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD02Mjk4MjhcbiAgICBjb25zdCBlZmZlY3RpdmVMaW5lUG9zaXRpb24gPSB0aGlzLnZlcnRpY2FsXG4gICAgICA/IGxpbmVQb3NpdGlvbiAtIDFcbiAgICAgIDogbGluZVBvc2l0aW9uICsgMTtcblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGNoYXJhY3RlciB3aGljaCBpcyBvdXRcbiAgICBsZXQgbG93Q1AgPSAwO1xuICAgIGxldCBsb3cgPSBjaGVja1BvaW50c1swXS5ib3hPZmZzZXQ7XG4gICAgbGV0IGxvdzEgPSBsb3dDUDtcbiAgICBsZXQgaGlnaENQID0gY2hlY2tQb2ludHMubGVuZ3RoIC0gMTtcbiAgICBsZXQgaGlnaCA9IGNoZWNrUG9pbnRzW2hpZ2hDUF0uYm94T2Zmc2V0O1xuICAgIGxldCBtaWQ6IG51bWJlcjtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgbWlkID0gbG93ICsgTWF0aC5jZWlsKChoaWdoIC0gbG93KSAvIDIpO1xuXG4gICAgICAvLyBmaW5kIHRoZSBub2RlIHdoaWNoIGNvbnRhaW5zIG1pZCBpbmRleFxuICAgICAgbG93MSA9IGxvd0NQO1xuICAgICAgbGV0IGhpZ2gxID0gaGlnaENQO1xuICAgICAgd2hpbGUgKGxvdzEgPCBoaWdoMSkge1xuICAgICAgICBjb25zdCBtaWQxID0gbG93MSArIE1hdGguY2VpbCgoaGlnaDEgLSBsb3cxKSAvIDIpO1xuICAgICAgICBpZiAoY2hlY2tQb2ludHNbbWlkMV0uYm94T2Zmc2V0ID4gbWlkKSB7XG4gICAgICAgICAgaGlnaDEgPSBtaWQxIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb3cxID0gbWlkMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgZWRnZSA9IHRoaXMuY2FsY3VsYXRlRWRnZShudWxsLCBjaGVja1BvaW50cywgbG93MSwgbWlkKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52ZXJ0aWNhbFxuICAgICAgICAgID8gZWRnZSA8PSBlZmZlY3RpdmVMaW5lUG9zaXRpb25cbiAgICAgICAgICA6IGVkZ2UgPj0gZWZmZWN0aXZlTGluZVBvc2l0aW9uXG4gICAgICApIHtcbiAgICAgICAgaGlnaCA9IG1pZCAtIDE7XG4gICAgICAgIHdoaWxlIChjaGVja1BvaW50c1tsb3cxXS5ib3hPZmZzZXQgPT0gbWlkKSB7XG4gICAgICAgICAgbG93MS0tO1xuICAgICAgICB9XG4gICAgICAgIGhpZ2hDUCA9IGxvdzE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNVcGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKSB7XG4gICAgICAgICAgdGhpcy51cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGVkZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGxvdyA9IG1pZDtcbiAgICAgICAgbG93Q1AgPSBsb3cxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbm9kZUNvbnRleHQ6IGNoZWNrUG9pbnRzW2xvdzFdLFxuICAgICAgaW5kZXg6IGxvdyxcbiAgICAgIGNoZWNrUG9pbnRJbmRleDogbG93MSxcbiAgICB9O1xuICB9XG5cbiAgZmluZEFjY2VwdGFibGVCcmVha0luc2lkZShcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgICBlZGdlUG9zaXRpb246IG51bWJlcixcbiAgICBmb3JjZTogYm9vbGVhbixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5maW5kRW5kT2ZMaW5lKGVkZ2VQb3NpdGlvbiwgY2hlY2tQb2ludHMsIHRydWUpO1xuICAgIGxldCBub2RlQ29udGV4dCA9IHBvc2l0aW9uLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IHZpZXdOb2RlID0gbm9kZUNvbnRleHQudmlld05vZGU7XG4gICAgaWYgKHZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgIGNvbnN0IHRleHROb2RlID0gdmlld05vZGUgYXMgVGV4dDtcbiAgICAgIGNvbnN0IHRleHROb2RlQnJlYWtlciA9IHRoaXMucmVzb2x2ZVRleHROb2RlQnJlYWtlcihub2RlQ29udGV4dCk7XG4gICAgICBub2RlQ29udGV4dCA9IHRleHROb2RlQnJlYWtlci5icmVha1RleHROb2RlKFxuICAgICAgICB0ZXh0Tm9kZSxcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHBvc2l0aW9uLmluZGV4LFxuICAgICAgICBjaGVja1BvaW50cyxcbiAgICAgICAgcG9zaXRpb24uY2hlY2tQb2ludEluZGV4LFxuICAgICAgICBmb3JjZSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICByZXR1cm4gbm9kZUNvbnRleHQ7XG4gIH1cblxuICByZXNvbHZlVGV4dE5vZGVCcmVha2VyKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IFRleHROb2RlQnJlYWtlciB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5SZXNvbHZlVGV4dE5vZGVCcmVha2VySG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5SRVNPTFZFX1RFWFRfTk9ERV9CUkVBS0VSLFxuICAgICk7XG4gICAgcmV0dXJuIGhvb2tzLnJlZHVjZShcbiAgICAgIChwcmV2LCBob29rKSA9PiBob29rKG5vZGVDb250ZXh0KSB8fCBwcmV2LFxuICAgICAgVGV4dE5vZGVCcmVha2VyLmluc3RhbmNlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVhZCByYW5nZXMgc2tpcHBpbmcgc3BlY2lhbCBlbG1lbnRzXG4gICAqL1xuICBnZXRSYW5nZUJveGVzKHN0YXJ0OiBOb2RlLCBlbmQ6IE5vZGUpOiBWdHJlZS5DbGllbnRSZWN0W10ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGNvbnN0IHJhbmdlID0gc3RhcnQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgIGxldCB3ZW50VXAgPSBmYWxzZTtcbiAgICBsZXQgbm9kZSA9IHN0YXJ0O1xuICAgIGxldCBsYXN0R29vZDogTm9kZSA9IG51bGw7XG4gICAgbGV0IGhhdmVTdGFydCA9IGZhbHNlO1xuICAgIGxldCBlbmROb3RSZWFjaGVkID0gdHJ1ZTtcbiAgICB3aGlsZSAoZW5kTm90UmVhY2hlZCkge1xuICAgICAgbGV0IHNlZWtSYW5nZSA9IHRydWU7XG4gICAgICBkbyB7XG4gICAgICAgIGxldCBuZXh0OiBOb2RlID0gbnVsbDtcbiAgICAgICAgaWYgKG5vZGUgPT0gZW5kKSB7XG4gICAgICAgICAgaWYgKGVuZC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgLy8gSWYgZW5kIGlzIGFuIGVsZW1lbnQsIGNvbnRpbnVlIHRyYXZlcnNpbmcgaXRzIGNoaWxkcmVuIHRvIGZpbmRcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IHRleHQgbm9kZSBpbnNpZGUgaXQuIEZpbmlzaCB3aGVuIGVuZCBoYXMgbm8gY2hpbGQgb3JcbiAgICAgICAgICAgIC8vIHdoZW4gY2FtZSBiYWNrIGZyb20gaXRzIGNoaWxkcmVuICh3ZW50VXA9PXRydWUpLlxuICAgICAgICAgICAgZW5kTm90UmVhY2hlZCA9ICEoIWVuZC5maXJzdENoaWxkIHx8IHdlbnRVcCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuZE5vdFJlYWNoZWQgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgIGlmICghaGF2ZVN0YXJ0KSB7XG4gICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShub2RlKTtcbiAgICAgICAgICAgIGhhdmVTdGFydCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3RHb29kID0gbm9kZTtcbiAgICAgICAgfSBlbHNlIGlmICh3ZW50VXApIHtcbiAgICAgICAgICB3ZW50VXAgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChMYXlvdXRIZWxwZXIuaXNTcGVjaWFsKG5vZGUgYXMgRWxlbWVudCkpIHtcbiAgICAgICAgICAvLyBTa2lwIHNwZWNpYWxcbiAgICAgICAgICBzZWVrUmFuZ2UgPSAhaGF2ZVN0YXJ0O1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZSA9PSBcInJ1YnlcIiB8fFxuICAgICAgICAgIGlzU3BlY2lhbElubGluZURpc3BsYXkoXG4gICAgICAgICAgICB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZShub2RlIGFzIEVsZW1lbnQpLmRpc3BsYXksXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBydWJ5LCBpbmxpbmUtYmxvY2ssIGV0Yy5cbiAgICAgICAgICBzZWVrUmFuZ2UgPSAhaGF2ZVN0YXJ0O1xuICAgICAgICAgIGlmIChzZWVrUmFuZ2UpIHtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKG5vZGUpO1xuICAgICAgICAgICAgaGF2ZVN0YXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGxhc3RHb29kID0gbm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5vZGUuY29udGFpbnMoZW5kKSkge1xuICAgICAgICAgICAgZW5kTm90UmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0ID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmICghbmV4dCkge1xuICAgICAgICAgICAgd2VudFVwID0gdHJ1ZTtcbiAgICAgICAgICAgIG5leHQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgfSB3aGlsZSAoc2Vla1JhbmdlICYmIGVuZE5vdFJlYWNoZWQpO1xuICAgICAgaWYgKGhhdmVTdGFydCkge1xuICAgICAgICByYW5nZS5zZXRFbmRBZnRlcihsYXN0R29vZCk7XG4gICAgICAgIGNvbnN0IGJveExpc3QgPSB0aGlzLmNsaWVudExheW91dC5nZXRSYW5nZUNsaWVudFJlY3RzKHJhbmdlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBib3hMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJyLnB1c2goYm94TGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaGF2ZVN0YXJ0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogR2l2ZSBibG9jaydzIGluaXRpYWwgYW5kIGZpbmFsIG5vZGVzLCBmaW5kIHBvc2l0aW9ucyBvZiB0aGUgbGluZSBib3R0b21zLlxuICAgKiBUaGlzIGlzLCBvZiBjb3Vyc2UsIHNvbWV3aGF0IGhhY2t5IGltcGxlbWVudGF0aW9uLlxuICAgKiBAcmV0dXJuIHBvc2l0aW9uIG9mIGxpbmUgYnJlYWtzXG4gICAqL1xuICBmaW5kTGluZVBvc2l0aW9ucyhjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSk6IG51bWJlcltdIHtcbiAgICBjb25zdCBMT1dfT1ZFUkxBUCA9IDAuMjtcbiAgICBjb25zdCBNSURfT1ZFUkxBUCA9IDAuNjtcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBbXTtcbiAgICBjb25zdCBib3hlcyA9IHRoaXMuZ2V0UmFuZ2VCb3hlcyhcbiAgICAgIGNoZWNrUG9pbnRzWzBdLnZpZXdOb2RlLFxuICAgICAgY2hlY2tQb2ludHNbY2hlY2tQb2ludHMubGVuZ3RoIC0gMV0udmlld05vZGUsXG4gICAgKTtcbiAgICBib3hlcy5zb3J0KFxuICAgICAgdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IFZ0cmVlSW1wbC5jbGllbnRyZWN0RGVjcmVhc2luZ1JpZ2h0XG4gICAgICAgIDogVnRyZWVJbXBsLmNsaWVudHJlY3RJbmNyZWFzaW5nVG9wLFxuICAgICk7XG4gICAgbGV0IGxpbmVCZWZvcmUgPSAwO1xuICAgIGxldCBsaW5lQWZ0ZXIgPSAwO1xuICAgIGxldCBsaW5lRW5kID0gMDtcbiAgICBsZXQgbGluZUxlbmd0aCA9IDA7XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IGRpciA9IHRoaXMuZ2V0Qm94RGlyKCk7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmIChpIDwgYm94ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGJveCA9IGJveGVzW2ldO1xuICAgICAgICBsZXQgb3ZlcmxhcCA9IDE7XG4gICAgICAgIGlmIChsaW5lTGVuZ3RoID4gMCkge1xuICAgICAgICAgIGNvbnN0IGJveFNpemUgPSBNYXRoLm1heCh0aGlzLmdldEJveFNpemUoYm94KSwgMSk7XG4gICAgICAgICAgaWYgKGRpciAqIHRoaXMuZ2V0QmVmb3JlRWRnZShib3gpIDwgZGlyICogbGluZUJlZm9yZSkge1xuICAgICAgICAgICAgb3ZlcmxhcCA9IChkaXIgKiAodGhpcy5nZXRBZnRlckVkZ2UoYm94KSAtIGxpbmVCZWZvcmUpKSAvIGJveFNpemU7XG4gICAgICAgICAgfSBlbHNlIGlmIChkaXIgKiB0aGlzLmdldEFmdGVyRWRnZShib3gpID4gZGlyICogbGluZUFmdGVyKSB7XG4gICAgICAgICAgICBvdmVybGFwID0gKGRpciAqIChsaW5lQWZ0ZXIgLSB0aGlzLmdldEJlZm9yZUVkZ2UoYm94KSkpIC8gYm94U2l6ZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3ZlcmxhcCA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgfHxcbiAgICAgICAgICBvdmVybGFwID49IE1JRF9PVkVSTEFQIHx8XG4gICAgICAgICAgKG92ZXJsYXAgPj0gTE9XX09WRVJMQVAgJiYgdGhpcy5nZXRTdGFydEVkZ2UoYm94KSA+PSBsaW5lRW5kIC0gMSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgbGluZUVuZCA9IHRoaXMuZ2V0RW5kRWRnZShib3gpO1xuICAgICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBsaW5lQmVmb3JlID1cbiAgICAgICAgICAgICAgbGluZUxlbmd0aCA9PSAwID8gYm94LnJpZ2h0IDogTWF0aC5tYXgobGluZUJlZm9yZSwgYm94LnJpZ2h0KTtcbiAgICAgICAgICAgIGxpbmVBZnRlciA9XG4gICAgICAgICAgICAgIGxpbmVMZW5ndGggPT0gMCA/IGJveC5sZWZ0IDogTWF0aC5taW4obGluZUFmdGVyLCBib3gubGVmdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmVCZWZvcmUgPVxuICAgICAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgPyBib3gudG9wIDogTWF0aC5taW4obGluZUJlZm9yZSwgYm94LnRvcCk7XG4gICAgICAgICAgICBsaW5lQWZ0ZXIgPVxuICAgICAgICAgICAgICBsaW5lTGVuZ3RoID09IDAgPyBib3guYm90dG9tIDogTWF0aC5tYXgobGluZUFmdGVyLCBib3guYm90dG9tKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGluZUxlbmd0aCsrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbGluZVxuICAgICAgaWYgKGxpbmVMZW5ndGggPiAwKSB7XG4gICAgICAgIHBvc2l0aW9ucy5wdXNoKGxpbmVBZnRlcik7XG4gICAgICAgIGxpbmVMZW5ndGggPSAwO1xuICAgICAgfVxuICAgICAgaWYgKGkgPj0gYm94ZXMubGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICBwb3NpdGlvbnMuc29ydChCYXNlLm51bWJlckNvbXBhcmUpO1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBwb3NpdGlvbnMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gcG9zaXRpb25zO1xuICB9XG5cbiAgY2FsY3VsYXRlQ2xvbmVkUGFkZGluZ0JvcmRlcihub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGxldCBjbG9uZWRQYWRkaW5nQm9yZGVyID0gMDtcbiAgICBub2RlQ29udGV4dC53YWxrVXBCbG9ja3MoKGJsb2NrKSA9PiB7XG4gICAgICBpZiAoYmxvY2suaW5oZXJpdGVkUHJvcHNbXCJib3gtZGVjb3JhdGlvbi1icmVha1wiXSA9PT0gXCJjbG9uZVwiKSB7XG4gICAgICAgIEFzc2VydHMuYXNzZXJ0KGJsb2NrLnZpZXdOb2RlIGluc3RhbmNlb2YgRWxlbWVudCk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmdCb3JkZXJzID0gdGhpcy5nZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoXG4gICAgICAgICAgYmxvY2sudmlld05vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgY2xvbmVkUGFkZGluZ0JvcmRlciArPSBibG9jay52ZXJ0aWNhbFxuICAgICAgICAgID8gLXBhZGRpbmdCb3JkZXJzLmxlZnRcbiAgICAgICAgICA6IHBhZGRpbmdCb3JkZXJzLmJvdHRvbTtcbiAgICAgICAgaWYgKGJsb2NrLmRpc3BsYXkgPT09IFwidGFibGVcIikge1xuICAgICAgICAgIGNsb25lZFBhZGRpbmdCb3JkZXIgKz0gYmxvY2suYmxvY2tCb3JkZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lZFBhZGRpbmdCb3JkZXI7XG4gIH1cblxuICBwcml2YXRlIGdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzKFxuICAgIGJwPzogQnJlYWtQb3NpdGlvbi5CcmVha1Bvc2l0aW9uLFxuICApOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQ6IHsgY3VycmVudDogbnVtYmVyOyBtaW5pbXVtOiBudW1iZXIgfTtcbiAgICBpZiAoYnApIHtcbiAgICAgIG9mZnNldCA9IGJwLmNhbGN1bGF0ZU9mZnNldCh0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2Zmc2V0ID0gQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHRoaXMuY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0LmN1cnJlbnQ7XG4gIH1cblxuICBmaW5kQm94QnJlYWtQb3NpdGlvbihcbiAgICBicDogQm94QnJlYWtQb3NpdGlvbixcbiAgICBmb3JjZTogYm9vbGVhbixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGNoZWNrUG9pbnRzID0gYnAuY2hlY2tQb2ludHM7XG4gICAgbGV0IGJsb2NrID0gY2hlY2tQb2ludHNbMF07XG4gICAgd2hpbGUgKGJsb2NrLnBhcmVudCAmJiBibG9jay5pbmxpbmUpIHtcbiAgICAgIGJsb2NrID0gYmxvY2sucGFyZW50O1xuICAgIH1cbiAgICBsZXQgd2lkb3dzOiBudW1iZXI7XG4gICAgbGV0IG9ycGhhbnM6IG51bWJlcjtcbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgIC8vIExhc3QgcmVzb3J0LCBpZ25vcmUgd2lkb3dzL29ycGhhbnNcbiAgICAgIHdpZG93cyA9IDE7XG4gICAgICBvcnBoYW5zID0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gR2V0IHdpZG93cy9vcnBoYW5zIHNldHRpbmdzIGZyb20gdGhlIGJsb2NrIGVsZW1lbnRcbiAgICAgIHdpZG93cyA9IE1hdGgubWF4KFxuICAgICAgICAoKGJsb2NrLmluaGVyaXRlZFByb3BzW1wid2lkb3dzXCJdIGFzIG51bWJlcikgfHwgMikgLSAwLFxuICAgICAgICAxLFxuICAgICAgKTtcbiAgICAgIG9ycGhhbnMgPSBNYXRoLm1heChcbiAgICAgICAgKChibG9jay5pbmhlcml0ZWRQcm9wc1tcIm9ycGhhbnNcIl0gYXMgbnVtYmVyKSB8fCAyKSAtIDAsXG4gICAgICAgIDEsXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEluIGNhc2Ugb2YgYm94LWRlY29yYXRpb24tYnJlYWs6IGNsb25lLCB3aWR0aCAob3IgaGVpZ2h0IGluIHZlcnRpY2FsXG4gICAgLy8gd3JpdGluZyBtb2RlKSBvZiBjbG9uZWQgcGFkZGluZ3MgYW5kIGJvcmRlcnMgc2hvdWxkIGJlIHRha2VuIGludG9cbiAgICAvLyBhY2NvdW50LlxuICAgIGNvbnN0IGNsb25lZFBhZGRpbmdCb3JkZXIgPSBzZWxmLmNhbGN1bGF0ZUNsb25lZFBhZGRpbmdCb3JkZXIoYmxvY2spO1xuXG4gICAgLy8gU2VsZWN0IHRoZSBmaXJzdCBvdmVyZmxvd2luZyBsaW5lIGJyZWFrIHBvc2l0aW9uXG4gICAgY29uc3QgbGluZVBvc2l0aW9ucyA9IHRoaXMuZmluZExpbmVQb3NpdGlvbnMoY2hlY2tQb2ludHMpO1xuICAgIGxldCBlZGdlID0gdGhpcy5mb290bm90ZUVkZ2UgLSBjbG9uZWRQYWRkaW5nQm9yZGVyO1xuICAgIGNvbnN0IGRpciA9IHRoaXMuZ2V0Qm94RGlyKCk7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzT2Zmc2V0ID0gdGhpcy5nZXRPZmZzZXRCeVJlcGV0aXRpdmVFbGVtZW50cyhicCk7XG4gICAgZWRnZSAtPSBkaXIgKiByZXBldGl0aXZlRWxlbWVudHNPZmZzZXQ7XG5cbiAgICAvLyBJZiBhbiBcIm92ZXJmbG93aW5nXCIgY2hlY2twb2ludCAoZS5nLiBub3QgYWxsb3dlZCBieSBMYXlvdXRDb25zdHJhaW50KVxuICAgIC8vIGV4aXN0cyBiZWZvcmUgdGhlIGVkZ2UsIGEgbGluZSBjb250YWluaW5nIHRoZSBjaGVja3BvaW50IHNob3VsZCBiZVxuICAgIC8vIGRlZmVycmVkIHRvIHRoZSBuZXh0IGNvbHVtbi5cbiAgICBjb25zdCBmaXJzdE92ZXJmbG93aW5nID0gdGhpcy5maW5kRmlyc3RPdmVyZmxvd2luZ0VkZ2VBbmRDaGVja1BvaW50KFxuICAgICAgY2hlY2tQb2ludHMsXG4gICAgKTtcbiAgICBpZiAoaXNOYU4oZmlyc3RPdmVyZmxvd2luZy5lZGdlKSkge1xuICAgICAgZmlyc3RPdmVyZmxvd2luZy5lZGdlID0gZGlyICogSW5maW5pdHk7XG4gICAgfVxuICAgIGxldCBsaW5lSW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChsaW5lUG9zaXRpb25zLmxlbmd0aCwgKGkpID0+IHtcbiAgICAgIGNvbnN0IHAgPSBsaW5lUG9zaXRpb25zW2ldO1xuICAgICAgcmV0dXJuIHNlbGYudmVydGljYWxcbiAgICAgICAgPyBwIDwgZWRnZSB8fCBwIDw9IGZpcnN0T3ZlcmZsb3dpbmcuZWRnZVxuICAgICAgICA6IHAgPiBlZGdlIHx8IHAgPj0gZmlyc3RPdmVyZmxvd2luZy5lZGdlO1xuICAgIH0pO1xuXG4gICAgLy8gSWYgbm8gYnJlYWsgcG9pbnQgaXMgZm91bmQgZHVlIHRvIHRoZSBcIm92ZXJmbG93aW5nXCIgY2hlY2twb2ludCxcbiAgICAvLyBnaXZlIHVwIGRlZmVycmluZyBhIGxpbmUgY29udGFpbmluZyB0aGUgY2hlY2twb2ludCBhbmQgdHJ5IHRvIGN1dCB0aGVcbiAgICAvLyBsaW5lIGp1c3QgYmVmb3JlIGl0LlxuICAgIGNvbnN0IGZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmcgPSBsaW5lSW5kZXggPD0gMDtcbiAgICBpZiAoZm9yY2VDdXRCZWZvcmVPdmVyZmxvd2luZykge1xuICAgICAgbGluZUluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2gobGluZVBvc2l0aW9ucy5sZW5ndGgsIChpKSA9PlxuICAgICAgICBzZWxmLnZlcnRpY2FsID8gbGluZVBvc2l0aW9uc1tpXSA8IGVkZ2UgOiBsaW5lUG9zaXRpb25zW2ldID4gZWRnZSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRmlyc3QgZWRnZSBhZnRlciB0aGUgb25lIHRoYXQgYm90aCBmaXRzIGFuZCBzYXRpc2ZpZXMgd2lkb3dzIGNvbnN0cmFpbnQuXG4gICAgbGluZUluZGV4ID0gTWF0aC5taW4obGluZVBvc2l0aW9ucy5sZW5ndGggLSB3aWRvd3MsIGxpbmVJbmRleCk7XG4gICAgaWYgKGxpbmVJbmRleCA8IG9ycGhhbnMpIHtcbiAgICAgIC8vIE5vdCBlbm91Z2ggbGluZXMgdG8gc2F0aXNmeSBvcnBoYW5zIGNvbnN0cmFpbnQsIGNhbm5vdCBicmVhayBoZXJlLlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVkZ2UgPSBsaW5lUG9zaXRpb25zW2xpbmVJbmRleCAtIDFdO1xuICAgIGxldCBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgaWYgKGZvcmNlQ3V0QmVmb3JlT3ZlcmZsb3dpbmcpIHtcbiAgICAgIG5vZGVDb250ZXh0ID0gZmlyc3RPdmVyZmxvd2luZy5jaGVja1BvaW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlQ29udGV4dCA9IHRoaXMuZmluZEFjY2VwdGFibGVCcmVha0luc2lkZShicC5jaGVja1BvaW50cywgZWRnZSwgZm9yY2UpO1xuICAgIH1cbiAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgIC8vIFdoZW4gbGluZS1oZWlnaHQgaXMgc21hbGwsIHRoZSBlZGdlIGNhbGN1bGF0ZWQgYWJvdmUgKHVzaW5nIFJhbmdlKVxuICAgICAgLy8gY2FuIGJlIGxhcmdlciB0aGFuIHRoZSBlZGdlIG9mIHRoZSBibG9jayBjb250YWluZXIgY29udGFpbmluZyB0aGUgdGV4dC5cbiAgICAgIC8vIFdlIHVwZGF0ZSB0aGUgZWRnZSBieSBtZWFzdXJpbmcgdGhlIGJsb2NrIGVkZ2UuXG4gICAgICBjb25zdCBibG9ja0VkZ2UgPSB0aGlzLmdldEFmdGVyRWRnZU9mQmxvY2tDb250YWluZXIobm9kZUNvbnRleHQpO1xuICAgICAgaWYgKCFpc05hTihibG9ja0VkZ2UpICYmIGJsb2NrRWRnZSA8IGVkZ2UpIHtcbiAgICAgICAgZWRnZSA9IGJsb2NrRWRnZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgPVxuICAgICAgICBkaXIgKiAoZWRnZSAtIHRoaXMuYmVmb3JlRWRnZSkgKyByZXBldGl0aXZlRWxlbWVudHNPZmZzZXQ7XG4gICAgfVxuICAgIHJldHVybiBub2RlQ29udGV4dDtcbiAgfVxuXG4gIGdldEFmdGVyRWRnZU9mQmxvY2tDb250YWluZXIobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICBsZXQgYmxvY2tQYXJlbnQgPSBub2RlQ29udGV4dDtcbiAgICBkbyB7XG4gICAgICBibG9ja1BhcmVudCA9IGJsb2NrUGFyZW50LnBhcmVudDtcbiAgICB9IHdoaWxlIChibG9ja1BhcmVudCAmJiBibG9ja1BhcmVudC5pbmxpbmUpO1xuICAgIGlmIChibG9ja1BhcmVudCkge1xuICAgICAgYmxvY2tQYXJlbnQgPSBibG9ja1BhcmVudC5jb3B5KCkubW9kaWZ5KCk7XG4gICAgICBibG9ja1BhcmVudC5hZnRlciA9IHRydWU7XG4gICAgICByZXR1cm4gTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UoXG4gICAgICAgIGJsb2NrUGFyZW50LFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICB9XG5cbiAgZmluZEZpcnN0T3ZlcmZsb3dpbmdFZGdlQW5kQ2hlY2tQb2ludChcbiAgICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSxcbiAgKTogeyBlZGdlOiBudW1iZXI7IGNoZWNrUG9pbnQ6IFZ0cmVlLk5vZGVDb250ZXh0IHwgbnVsbCB9IHtcbiAgICBjb25zdCBpbmRleCA9IGNoZWNrUG9pbnRzLmZpbmRJbmRleCgoY3ApID0+IGNwLm92ZXJmbG93KTtcbiAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICByZXR1cm4geyBlZGdlOiBOYU4sIGNoZWNrUG9pbnQ6IG51bGwgfTtcbiAgICB9XG4gICAgY29uc3QgY3AgPSBjaGVja1BvaW50c1tpbmRleF07XG4gICAgcmV0dXJuIHtcbiAgICAgIGVkZ2U6IHRoaXMuY2FsY3VsYXRlRWRnZShudWxsLCBjaGVja1BvaW50cywgaW5kZXgsIGNwLmJveE9mZnNldCksXG4gICAgICBjaGVja1BvaW50OiBjcCxcbiAgICB9O1xuICB9XG5cbiAgZmluZEVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIGJwOiBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9XG4gICAgICBicC5jb21wdXRlZEJsb2NrU2l6ZSArIHRoaXMuZ2V0T2Zmc2V0QnlSZXBldGl0aXZlRWxlbWVudHMoYnApO1xuICAgIHJldHVybiBicC5wb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5hbGl6ZSBhIGxpbmUgYnJlYWsuXG4gICAqIEByZXR1cm4gaG9saW5nIHRydWVcbiAgICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCk7XG4gICAgY29uc3QgbGF5b3V0UHJvY2Vzc29yID0gbmV3IExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3JSZXNvbHZlcigpLmZpbmQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGxldCByZXN1bHQgPSBsYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWsoXG4gICAgICB0aGlzLFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICBlbmRPZkNvbHVtbixcbiAgICApO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSBMYXlvdXRQcm9jZXNzb3IuYmxvY2tMYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWsoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICAgIGVuZE9mQ29sdW1uLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpOiBCcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHQge1xuICAgIGxldCBicDogTGF5b3V0LkJyZWFrUG9zaXRpb24gPSBudWxsO1xuICAgIGxldCBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgIGxldCBwZW5hbHR5ID0gMDtcbiAgICBsZXQgbmV4dFBlbmFsdHkgPSAwO1xuICAgIGRvIHtcbiAgICAgIHBlbmFsdHkgPSBuZXh0UGVuYWx0eTtcbiAgICAgIG5leHRQZW5hbHR5ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgIGZvciAoXG4gICAgICAgIGxldCBpID0gdGhpcy5icmVha1Bvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICBpID49IDAgJiYgIW5vZGVDb250ZXh0O1xuICAgICAgICAtLWlcbiAgICAgICkge1xuICAgICAgICBicCA9IHRoaXMuYnJlYWtQb3NpdGlvbnNbaV07XG4gICAgICAgIG5vZGVDb250ZXh0ID0gYnAuZmluZEFjY2VwdGFibGVCcmVhayh0aGlzLCBwZW5hbHR5KTtcbiAgICAgICAgY29uc3QgbWluUGVuYWx0eSA9IGJwLmdldE1pbkJyZWFrUGVuYWx0eSgpO1xuICAgICAgICBpZiAobWluUGVuYWx0eSA+IHBlbmFsdHkpIHtcbiAgICAgICAgICBuZXh0UGVuYWx0eSA9IE1hdGgubWluKG5leHRQZW5hbHR5LCBtaW5QZW5hbHR5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gd2hpbGUgKFxuICAgICAgLy8gRG9uJ3QgbmVlZCB0byBmaW5kIGEgbm9uLW9wdGltYWwgYnJlYWsgcG9zaXRpb24gaWZcbiAgICAgIC8vIGZvcmNlTm9uZml0dGluZz1mYWxzZVxuICAgICAgbmV4dFBlbmFsdHkgPiBwZW5hbHR5ICYmXG4gICAgICAhbm9kZUNvbnRleHQgJiZcbiAgICAgIHRoaXMuZm9yY2VOb25maXR0aW5nXG4gICAgKTtcbiAgICByZXR1cm4geyBicmVha1Bvc2l0aW9uOiBub2RlQ29udGV4dCA/IGJwIDogbnVsbCwgbm9kZUNvbnRleHQgfTtcbiAgfVxuXG4gIGRvRmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGlmIChcbiAgICAgIHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkgfHxcbiAgICAgIHRoaXMucGFnZUJyZWFrVHlwZSB8fFxuICAgICAgIW92ZXJmbG93bk5vZGVDb250ZXh0XG4gICAgKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobm9kZUNvbnRleHQpO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwiZG9GaW5pc2hCcmVha1wiKTtcbiAgICBsZXQgZm9yY2VSZW1vdmVTZWxmID0gZmFsc2U7XG4gICAgaWYgKCFub2RlQ29udGV4dCkge1xuICAgICAgLy8gTGFzdCByZXNvcnRcbiAgICAgIGlmICh0aGlzLmZvcmNlTm9uZml0dGluZykge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiQ291bGQgbm90IGZpbmQgYW55IHBhZ2UgYnJlYWtzPyEhXCIpO1xuICAgICAgICBzZWxmLnNraXBUYWlsRWRnZXMob3ZlcmZsb3duTm9kZUNvbnRleHQpLnRoZW4oKG5vZGVDb250ZXh0KSA9PiB7XG4gICAgICAgICAgaWYgKG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHNlbGYuZmluaXNoQnJlYWsobm9kZUNvbnRleHQsIGZvcmNlUmVtb3ZlU2VsZiwgdHJ1ZSkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlQ29udGV4dCA9IGluaXRpYWxOb2RlQ29udGV4dDtcbiAgICAgICAgZm9yY2VSZW1vdmVTZWxmID0gdHJ1ZTtcbiAgICAgICAgc2VsZi5jb21wdXRlZEJsb2NrU2l6ZSA9IGluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgZm9yY2VSZW1vdmVTZWxmLCB0cnVlKS50aGVuKCgpID0+IHtcbiAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgYSBwYWdlIGJyZWFrIGlzIGFjY2VwdGFibGUgYXQgdGhpcyBwb3NpdGlvblxuICAgKi9cbiAgaXNCcmVha2FibGUoZmxvd1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmIChmbG93UG9zaXRpb24uYWZ0ZXIpIHtcbiAgICAgIHJldHVybiB0cnVlOyAvLyBtYXkgYmUgYW4gZW1wdHkgYmxvY2tcbiAgICB9XG4gICAgc3dpdGNoIChmbG93UG9zaXRpb24uc291cmNlTm9kZS5uYW1lc3BhY2VVUkkpIHtcbiAgICAgIGNhc2UgQmFzZS5OUy5TVkc6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFmbG93UG9zaXRpb24uZmxleENvbnRhaW5lcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIGFuIGluZGVudCB2YWx1ZSBpcyB6ZXJvXG4gICAqL1xuICB6ZXJvSW5kZW50KHZhbDogc3RyaW5nIHwgbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcyA9IHZhbC50b1N0cmluZygpO1xuICAgIHJldHVybiBzID09IFwiXCIgfHwgcyA9PSBcImF1dG9cIiB8fCAhIXMubWF0Y2goL14wKyguMCopP1teMC05XS8pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gdHJ1ZSBpZiBvdmVyZmxvd3NcbiAgICovXG4gIGNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbihub2RlQ29udGV4dC52aWV3Tm9kZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGVkZ2UgPSBMYXlvdXRIZWxwZXIuY2FsY3VsYXRlRWRnZShcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAwLFxuICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICApO1xuICAgIGNvbnN0IG9mZnNldHMgPSBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgdGhpcy5jb2xsZWN0RWxlbWVudHNPZmZzZXQoKSxcbiAgICApO1xuICAgIGNvbnN0IG92ZXJmbG93biA9IHRoaXMuaXNPdmVyZmxvd24oXG4gICAgICBlZGdlICsgKHRoaXMudmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5taW5pbXVtLFxuICAgICk7XG4gICAgaWYgKFxuICAgICAgdGhpcy5pc092ZXJmbG93bihlZGdlICsgKHRoaXMudmVydGljYWwgPyAtMSA6IDEpICogb2Zmc2V0cy5jdXJyZW50KSAmJlxuICAgICAgIXRoaXMubm9kZUNvbnRleHRPdmVyZmxvd2luZ0R1ZVRvUmVwZXRpdGl2ZUVsZW1lbnRzXG4gICAgKSB7XG4gICAgICB0aGlzLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cyA9IG5vZGVDb250ZXh0O1xuICAgIH0gZWxzZSBpZiAodHJhaWxpbmdFZGdlQ29udGV4dHMpIHtcbiAgICAgIC8vIElmIHRoZSBlZGdlIGRvZXMgbm90IG92ZXJmbG93IGFkZCB0aGUgdHJhaWxpbmcgbWFyZ2luLCB3aGljaCBpc1xuICAgICAgLy8gdHJ1bmNhdGVkIHRvIHRoZSByZW1haW5pbmcgZnJhZ21lbnRhaW5lciBleHRlbnQuXG4gICAgICBjb25zdCBtYXJnaW5FZGdlID1cbiAgICAgICAgZWRnZSArIHRoaXMuZ2V0VHJhaWxpbmdNYXJnaW5FZGdlQWRqdXN0bWVudCh0cmFpbGluZ0VkZ2VDb250ZXh0cyk7XG4gICAgICBjb25zdCBmb290bm90ZUVkZ2UgPVxuICAgICAgICB0aGlzLmZvb3Rub3RlRWRnZSAtIHRoaXMuZ2V0Qm94RGlyKCkgKiBvZmZzZXRzLmN1cnJlbnQ7XG4gICAgICBlZGdlID0gdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IE1hdGgubWluKGVkZ2UsIE1hdGgubWF4KG1hcmdpbkVkZ2UsIGZvb3Rub3RlRWRnZSkpXG4gICAgICAgIDogTWF0aC5tYXgoZWRnZSwgTWF0aC5taW4obWFyZ2luRWRnZSwgZm9vdG5vdGVFZGdlKSk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZShlZGdlKTtcbiAgICByZXR1cm4gb3ZlcmZsb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgYSBwb3NzaWJsZSBwYWdlIGJyZWFrIHBvc2l0aW9uIG9uIGEgQ1NTIGJsb2NrIGVkZ2UuIENoZWNrIGlmIGl0XG4gICAqIG92ZXJmbG93cy5cbiAgICogQHJldHVybiB0cnVlIGlmIG92ZXJmbG93c1xuICAgKi9cbiAgY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgdHJhaWxpbmdFZGdlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10sXG4gICAgc2F2ZUV2ZW5PdmVyZmxvd246IGJvb2xlYW4sXG4gICAgYnJlYWtBdFRoZUVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbihub2RlQ29udGV4dC52aWV3Tm9kZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgb3ZlcmZsb3duID0gdGhpcy5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2UoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzLFxuICAgICk7XG4gICAgaWYgKHNhdmVFdmVuT3ZlcmZsb3duIHx8ICFvdmVyZmxvd24pIHtcbiAgICAgIHRoaXMuc2F2ZUVkZ2VCcmVha1Bvc2l0aW9uKG5vZGVDb250ZXh0LCBicmVha0F0VGhlRWRnZSwgb3ZlcmZsb3duKTtcbiAgICB9XG4gICAgcmV0dXJuIG92ZXJmbG93bjtcbiAgfVxuXG4gIGFwcGx5Q2xlYXJhbmNlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZSkge1xuICAgICAgLy8gQ2Fubm90IGRvIGNlcmFsYW5jZSBmb3Igbm9kZXMgd2l0aG91dCBwYXJlbnRzXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gbWVhc3VyZSB3aGVyZSB0aGUgZWRnZSBvZiB0aGUgZWxlbWVudCB3b3VsZCBiZSB3aXRob3V0IGNsZWFyYW5jZVxuICAgIGNvbnN0IG1hcmdpbiA9IHRoaXMuZ2V0Q29tcHV0ZWRNYXJnaW4obm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCk7XG4gICAgY29uc3Qgc3BhY2VyID0gbm9kZUNvbnRleHQudmlld05vZGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICBzcGFjZXIuc3R5bGUuYm90dG9tID0gXCIwcHhcIjtcbiAgICAgIHNwYWNlci5zdHlsZS53aWR0aCA9IFwiMXB4XCI7XG4gICAgICBzcGFjZXIuc3R5bGUubWFyZ2luUmlnaHQgPSBgJHttYXJnaW4ucmlnaHR9cHhgO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFjZXIuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgc3BhY2VyLnN0eWxlLmhlaWdodCA9IFwiMXB4XCI7XG4gICAgICBzcGFjZXIuc3R5bGUubWFyZ2luVG9wID0gYCR7bWFyZ2luLnRvcH1weGA7XG4gICAgfVxuICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHNwYWNlciwgbm9kZUNvbnRleHQudmlld05vZGUpO1xuICAgIGxldCBzcGFjZXJCb3ggPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChzcGFjZXIpO1xuICAgIGNvbnN0IGVkZ2UgPSB0aGlzLmdldEJlZm9yZUVkZ2Uoc3BhY2VyQm94KTtcbiAgICBjb25zdCBkaXIgPSB0aGlzLmdldEJveERpcigpO1xuICAgIGNvbnN0IGNsZWFyID0gbm9kZUNvbnRleHQuY2xlYXJTaWRlO1xuICAgIGxldCBjbGVhckVkZ2UgPSAtdGhpcy5nZXRCb3hEaXIoKSAqIEluZmluaXR5O1xuICAgIGlmIChjbGVhciA9PT0gXCJhbGxcIikge1xuICAgICAgY2xlYXJFZGdlID0gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldFBhZ2VGbG9hdENsZWFyRWRnZShcbiAgICAgICAgY2xlYXIsXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgIH1cbiAgICBzd2l0Y2ggKGNsZWFyKSB7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICBjbGVhckVkZ2UgPSBkaXIgKiBNYXRoLm1heChjbGVhckVkZ2UgKiBkaXIsIHRoaXMubGVmdEZsb2F0RWRnZSAqIGRpcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgIGNsZWFyRWRnZSA9IGRpciAqIE1hdGgubWF4KGNsZWFyRWRnZSAqIGRpciwgdGhpcy5yaWdodEZsb2F0RWRnZSAqIGRpcik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY2xlYXJFZGdlID1cbiAgICAgICAgICBkaXIgKlxuICAgICAgICAgIE1hdGgubWF4KFxuICAgICAgICAgICAgY2xlYXJFZGdlICogZGlyLFxuICAgICAgICAgICAgTWF0aC5tYXgodGhpcy5yaWdodEZsb2F0RWRnZSAqIGRpciwgdGhpcy5sZWZ0RmxvYXRFZGdlICogZGlyKSxcbiAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIGVkZ2UgaG9sZHMgdGhlIHBvc2l0aW9uIHdoZXJlIGVsZW1lbnQgYm9yZGVyIFwiYmVmb3JlXCIgZWRnZSB3aWxsIGJlXG4gICAgLy8gd2l0aG91dCBjbGVhcmFuY2UuIGNsZWFyRWRnZSBpcyB0aGUgXCJhZnRlclwiIGVkZ2Ugb2YgdGhlIGZsb2F0IHRvIGNsZWFyLlxuICAgIGlmIChlZGdlICogZGlyID49IGNsZWFyRWRnZSAqIGRpcikge1xuICAgICAgLy8gTm8gbmVlZCBmb3IgY2xlYXJhbmNlXG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNwYWNlcik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5lZWQgc29tZSBjbGVhcmFuY2UsIGRldGVybWluZSBob3cgbXVjaC4gQWRkIHRoZSBjbGVhcmFuY2Ugbm9kZSxcbiAgICAgIC8vIG1lYXN1cmUgaXRzIGFmdGVyIGVkZ2UgYW5kIGFkanVzdCBhZnRlciBtYXJnaW4gKHJlcXVpcmVkIGR1ZSB0b1xuICAgICAgLy8gcG9zc2libGUgbWFyZ2luIGNvbGxhcHNlIGJlZm9yZSBjbGVhcmFuY2Ugd2FzIGludHJvZHVjZWQpLlxuICAgICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgoMSwgKGNsZWFyRWRnZSAtIGVkZ2UpICogZGlyKTtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHNwYWNlci5zdHlsZS53aWR0aCA9IGAke2hlaWdodH1weGA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGFjZXIuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICAgIH1cbiAgICAgIHNwYWNlckJveCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHNwYWNlcik7XG4gICAgICBjb25zdCBhZnRlckVkZ2UgPSB0aGlzLmdldEFmdGVyRWRnZShzcGFjZXJCb3gpO1xuICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgbGV0IHdBZGogPSBhZnRlckVkZ2UgKyBtYXJnaW4ucmlnaHQgLSBjbGVhckVkZ2U7XG4gICAgICAgIGlmICh3QWRqID4gMCA9PSBtYXJnaW4ucmlnaHQgPj0gMCkge1xuICAgICAgICAgIC8vIEluIGFkZGl0aW9uIHRvIGNvbGxhcHNlZCBwb3J0aW9uXG4gICAgICAgICAgd0FkaiArPSBtYXJnaW4ucmlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgc3BhY2VyLnN0eWxlLm1hcmdpbkxlZnQgPSBgJHt3QWRqfXB4YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBoQWRqID0gY2xlYXJFZGdlIC0gKGFmdGVyRWRnZSArIG1hcmdpbi50b3ApO1xuICAgICAgICBpZiAoaEFkaiA+IDAgPT0gbWFyZ2luLnRvcCA+PSAwKSB7XG4gICAgICAgICAgLy8gSW4gYWRkaXRpb24gdG8gY29sbGFwc2VkIHBvcnRpb25cbiAgICAgICAgICBoQWRqICs9IG1hcmdpbi50b3A7XG4gICAgICAgIH1cbiAgICAgICAgc3BhY2VyLnN0eWxlLm1hcmdpbkJvdHRvbSA9IGAke2hBZGp9cHhgO1xuICAgICAgfVxuICAgICAgbm9kZUNvbnRleHQuY2xlYXJTcGFjZXIgPSBzcGFjZXI7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpc0JGQyhmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQpOiBib29sZWFuIHtcbiAgICBpZiAoTGF5b3V0UHJvY2Vzc29yLmlzSW5zdGFuY2VPZkJsb2NrRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNraXBzIHBvc2l0aW9ucyB1bnRpbCBlaXRoZXIgdGhlIHN0YXJ0IG9mIHVuYnJlYWthYmxlIGJsb2NrIG9yIGlubGluZVxuICAgKiBjb250ZW50LiBBbHNvIHNldHMgYnJlYWtCZWZvcmUgb24gdGhlIHJlc3VsdCBjb21iaW5pbmcgYnJlYWstYmVmb3JlIGFuZFxuICAgKiBicmVhay1hZnRlciBwcm9wZXJ0aWVzIGZyb20gYWxsIGVsZW1lbnRzIHRoYXQgbWVldCBhdCB0aGUgZWRnZS5cbiAgICovXG4gIHNraXBFZGdlcyhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgZm9yY2VkQnJlYWtWYWx1ZTogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmYyA9IG5vZGVDb250ZXh0LmFmdGVyXG4gICAgICA/IG5vZGVDb250ZXh0LnBhcmVudCAmJiBub2RlQ29udGV4dC5wYXJlbnQuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgIDogbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgaWYgKGZjICYmICF0aGlzLmlzQkZDKGZjKSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcInNraXBFZGdlc1wiKTtcblxuICAgIC8vIElmIGEgZm9yY2VkIGJyZWFrIG9jY3VycmVkIGF0IHRoZSBlbmQgb2YgdGhlIHByZXZpb3VzIGNvbHVtbixcbiAgICAvLyBub2RlQ29udGV4dC5hZnRlciBzaG91bGQgYmUgZmFsc2UuXG4gICAgbGV0IGF0VW5mb3JjZWRCcmVhayA9XG4gICAgICAhZm9yY2VkQnJlYWtWYWx1ZSAmJiBsZWFkaW5nRWRnZSAmJiBub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5hZnRlcjtcbiAgICBsZXQgYnJlYWtBdFRoZUVkZ2UgPSBmb3JjZWRCcmVha1ZhbHVlO1xuICAgIGxldCBsYXN0QWZ0ZXJOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgIGxldCBsZWFkaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gICAgbGV0IHRyYWlsaW5nRWRnZUNvbnRleHRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdID0gW107XG4gICAgbGV0IG9uU3RhcnRFZGdlcyA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gbmVlZEZvcmNlZEJyZWFrKCkge1xuICAgICAgLy8gbGVhZGluZ0VkZ2U9dHJ1ZSBtZWFucyB0aGF0IHdlIGFyZSBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXcgY29sdW1uXG4gICAgICAvLyBhbmQgaGVuY2UgbXVzdCBhdm9pZCBhIGJyZWFrIChPdGhlcndpc2UgbGVhZGluZyB0byBhbiBpbmZpbml0ZSBsb29wKVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgISFmb3JjZWRCcmVha1ZhbHVlIHx8XG4gICAgICAgICghbGVhZGluZ0VkZ2UgJiYgQnJlYWsuaXNGb3JjZWRCcmVha1ZhbHVlKGJyZWFrQXRUaGVFZGdlKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0ZvcmNlZEJyZWFrKCkge1xuICAgICAgbm9kZUNvbnRleHQgPSBsZWFkaW5nRWRnZUNvbnRleHRzWzBdIHx8IG5vZGVDb250ZXh0O1xuICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICB9XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgd2hpbGUgKG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgICAgICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIEEgY29kZSBibG9jayB0byBiZSBhYmxlIHRvIHVzZSBicmVhay4gQnJlYWsgbW92ZXMgdG8gdGhlIG5leHRcbiAgICAgICAgICAvLyBub2RlIHBvc2l0aW9uLlxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgICAgLy8gTm9uLWRpc3BsYXlhYmxlIGNvbnRlbnQsIHNraXBcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuaW5saW5lICYmIG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFZ0cmVlSW1wbC5jYW5JZ25vcmUoXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LndoaXRlc3BhY2UsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmFibGUgdGV4dCBjb250ZW50LCBza2lwXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIC8vIExlYWRpbmcgZWRnZSBvZiBub24tZW1wdHkgYmxvY2sgLT4gZmluaXNoZWQgZ29pbmcgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIGFsbCBzdGFydGluZyBlZGdlcyBvZiB0aGUgYm94XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRGb3JjZWRCcmVhaygpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9jZXNzRm9yY2VkQnJlYWsoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IChzZWxmLnN0b3BBdE92ZXJmbG93XG4gICAgICAgICAgICAgICAgICAgID8gbGFzdEFmdGVyTm9kZUNvbnRleHQgfHwgbm9kZUNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgOiBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgKS5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5tb2RpZnkoKTtcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgaWYgKGxheW91dFByb2Nlc3Nvcikge1xuICAgICAgICAgICAgICAgIGlmIChsYXlvdXRQcm9jZXNzb3Iuc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuY2xlYXJTaWRlKSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXJcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBzZWxmLmFwcGx5Q2xlYXJhbmNlKG5vZGVDb250ZXh0KSAmJlxuICAgICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2UgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYuYnJlYWtQb3NpdGlvbnMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnNhdmVFZGdlQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuY29weSgpLFxuICAgICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXNlbGYuaXNCRkMobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQpIHx8XG4gICAgICAgICAgICAgICAgUmVwZXRpdGl2ZUVsZW1lbnQuaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICBzZWxmLmlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dCkgfHxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5mbGV4Q29udGFpbmVyXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIG5ldyBmb3JtYXR0aW5nIGNvbnRleHQsIG9yIGZsb2F0IG9yIGZsZXggY29udGFpbmVyXG4gICAgICAgICAgICAgICAgLy8gKHVuYnJlYWthYmxlKVxuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlQ29udGV4dHMucHVzaChub2RlQ29udGV4dC5jb3B5KCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRGb3JjZWRCcmVhaygpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9jZXNzRm9yY2VkQnJlYWsoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgc2VsZi5jaGVja092ZXJmbG93QW5kU2F2ZUVkZ2VBbmRCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICBsYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgICAhc2VsZi5sYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KG5vZGVDb250ZXh0KVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgLy8gb3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gKHNlbGYuc3RvcEF0T3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgICAgPyBsYXN0QWZ0ZXJOb2RlQ29udGV4dCB8fCBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICApLm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQudmlld05vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICAvLyBub3QgYW4gZWxlbWVudFxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEhUTUxFbGVtZW50KS5zdHlsZTtcbiAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAvLyBTa2lwIGFuIGVtcHR5IGlubGluZSBib3ggYXQgdGhlIHN0YXJ0IG9mIGEgYmxvY2tcbiAgICAgICAgICAgICAgLy8gKEFuIGFub255bW91cyBibG9jayBjb25zaXN0aW5nIGVudGlyZWx5IG9mXG4gICAgICAgICAgICAgIC8vIGNvbGxhcHNpYmxlIHdoaXRlIHNwYWNlIGlzIHJlbW92ZWQgZnJvbSB0aGUgcmVuZGVyaW5nIHRyZWUpXG4gICAgICAgICAgICAgIGlmIChub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobGF5b3V0UHJvY2Vzc29yKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgbGF5b3V0UHJvY2Vzc29yLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3BBdE92ZXJmbG93LFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVHJhaWxpbmcgZWRnZVxuICAgICAgICAgICAgICBpZiAob25TdGFydEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoZWQgZ29pbmcgdGhyb3VnaCBhbGwgc3RhcnRpbmcgZWRnZXMgb2YgdGhlIGJveC5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKG5lZWRGb3JjZWRCcmVhaygpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9jZXNzRm9yY2VkQnJlYWsoKTtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBhIGJyZWFrIGRpZCBub3Qgb2NjdXIsIG1vdmUgdG8gdGhlIG5leHQgZWRnZS4gdGhpc1xuICAgICAgICAgICAgICAgIC8vIGVkZ2UgaXMgbm8gbG9uZ2VyIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2VDb250ZXh0cyA9IFtdO1xuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYXRVbmZvcmNlZEJyZWFrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uU3RhcnRFZGdlcyA9IGZhbHNlOyAvLyB3ZSBhcmUgbm93IG9uIGVuZCBlZGdlcy5cbiAgICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgICAgICAgICAgIHRyYWlsaW5nRWRnZUNvbnRleHRzLnB1c2gobGFzdEFmdGVyTm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdHlsZSAmJlxuICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUucGFkZGluZ0JvdHRvbSkgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIHRyYWlsaW5nIGluc2V0LlxuICAgICAgICAgICAgICAgIC8vIE1hcmdpbnMgZG9uJ3QgY29sbGFwc2UgYWNyb3NzIG5vbi16ZXJvIGJvcmRlcnMgYW5kXG4gICAgICAgICAgICAgICAgLy8gcGFkZGluZ3MuXG4gICAgICAgICAgICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHMgPSBbbGFzdEFmdGVyTm9kZUNvbnRleHRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBMZWFkaW5nIGVkZ2VcbiAgICAgICAgICAgICAgbGVhZGluZ0VkZ2VDb250ZXh0cy5wdXNoKG5vZGVDb250ZXh0LmNvcHkoKSk7XG4gICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtCZWZvcmUsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmICghc2VsZi5sYXlvdXRDb25zdHJhaW50LmFsbG93TGF5b3V0KG5vZGVDb250ZXh0KSkge1xuICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICFzZWxmLnN0b3BBdE92ZXJmbG93LFxuICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0Lm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5zdG9wQXRPdmVyZmxvdykge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCB2aWV3VGFnID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgaWYgKG1lZGlhVGFnc1t2aWV3VGFnXSkge1xuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRzIHRoYXQgaGF2ZSBpbmhlcmVudCBjb250ZW50XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChuZWVkRm9yY2VkQnJlYWsoKSkge1xuICAgICAgICAgICAgICAgICAgcHJvY2Vzc0ZvcmNlZEJyZWFrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgbGFzdEFmdGVyTm9kZUNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgLy8gb3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gKHNlbGYuc3RvcEF0T3ZlcmZsb3dcbiAgICAgICAgICAgICAgICAgICAgPyBsYXN0QWZ0ZXJOb2RlQ29udGV4dCB8fCBub2RlQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICA6IG5vZGVDb250ZXh0XG4gICAgICAgICAgICAgICAgICApLm1vZGlmeSgpO1xuICAgICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzdHlsZSAmJlxuICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUucGFkZGluZ1RvcCkgJiZcbiAgICAgICAgICAgICAgICAgIHNlbGYuemVyb0luZGVudChzdHlsZS5ib3JkZXJUb3BXaWR0aClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIE5vbi16ZXJvIGxlYWRpbmcgaW5zZXRcbiAgICAgICAgICAgICAgICBhdFVuZm9yY2VkQnJlYWsgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0cmFpbGluZ0VkZ2VDb250ZXh0cyA9IFtdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9uU3RhcnRFZGdlcyA9IHRydWU7IC8vIHdlIGFyZSBub3cgb24gc3RhcnRpbmcgZWRnZXMuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSB3aGlsZSAoZmFsc2UpOyAvLyBFbmQgb2YgYmxvY2sgb2YgY29kZSB0byB1c2UgYnJlYWtcblxuICAgICAgICAgIGNvbnN0IG5leHRSZXN1bHQgPSBzZWxmLm5leHRJblRyZWUobm9kZUNvbnRleHQsIGF0VW5mb3JjZWRCcmVhayk7XG4gICAgICAgICAgaWYgKG5leHRSZXN1bHQuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgIG5leHRSZXN1bHQudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dCA9IG5leHRSZXN1bHQuZ2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNlbGYuY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICAgIGxhc3RBZnRlck5vZGVDb250ZXh0LFxuICAgICAgICAgICAgdHJhaWxpbmdFZGdlQ29udGV4dHMsXG4gICAgICAgICAgICAhc2VsZi5zdG9wQXRPdmVyZmxvdyxcbiAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGxhc3RBZnRlck5vZGVDb250ZXh0ICYmIHNlbGYuc3RvcEF0T3ZlcmZsb3cpIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbGFzdEFmdGVyTm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5vdmVyZmxvdyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE86IHdoYXQgdG8gcmV0dXJuIGhlcmU/P1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgc2VsZi5wYWdlQnJlYWtUeXBlID0gYnJlYWtBdFRoZUVkZ2U7XG4gICAgICAgIH1cbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGxhc3RBZnRlck5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgc2VsZi5sYXN0QWZ0ZXJQb3NpdGlvbiA9IGxhc3RBZnRlck5vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTa2lwcyBub24tcmVuZGVyYWJsZSBwb3NpdGlvbnMgdW50aWwgaXQgaGl0cyB0aGUgZW5kIG9mIHRoZSBmbG93IG9yIHNvbWVcbiAgICogcmVuZGVyYWJsZSBjb250ZW50LiBSZXR1cm5zIHRoZSBub2RlQ29udGV4dCB0aGF0IHdhcyBwYXNzZWQgaW4gaWYgc29tZVxuICAgKiBjb250ZW50IHJlbWFpbnMgYW5kIG51bGwgaWYgYWxsIGNvbnRlbnQgY291bGQgYmUgc2tpcHBlZC5cbiAgICovXG4gIHNraXBUYWlsRWRnZXMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGxldCByZXN1bHROb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwic2tpcEVkZ2VzXCIpO1xuICAgIGxldCBicmVha0F0VGhlRWRnZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IG9uU3RhcnRFZGdlcyA9IGZhbHNlO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgICAgIC8vIEEgY29kZSBibG9jayB0byBiZSBhYmxlIHRvIHVzZSBicmVhay4gQnJlYWsgbW92ZXMgdG8gdGhlIG5leHRcbiAgICAgICAgICAvLyBub2RlIHBvc2l0aW9uLlxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgICAgLy8gTm9uLWRpc3BsYXlhYmxlIGNvbnRlbnQsIHNraXBcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuaW5saW5lICYmIG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFZ0cmVlSW1wbC5jYW5JZ25vcmUoXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSxcbiAgICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LndoaXRlc3BhY2UsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmFibGUgdGV4dCBjb250ZW50LCBza2lwXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgICAgICAgICAgIC8vIExlYWRpbmcgZWRnZSBvZiBub24tZW1wdHkgYmxvY2sgLT4gZmluaXNoZWQgZ29pbmcgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIGFsbCBzdGFydGluZyBlZGdlcyBvZiB0aGUgYm94XG4gICAgICAgICAgICAgICAgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzZWxmLmlzRmxvYXROb2RlQ29udGV4dChub2RlQ29udGV4dCkgfHxcbiAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5mbGV4Q29udGFpbmVyXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0IG9yIGZsZXggY29udGFpbmVyICh1bmJyZWFrYWJsZSlcbiAgICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSxcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgLy8gbm90IGFuIGVsZW1lbnRcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHlsZSA9IChub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBIVE1MRWxlbWVudCkuc3R5bGU7XG4gICAgICAgICAgICBpZiAobm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgICAgICAgLy8gVHJhaWxpbmcgZWRnZVxuICAgICAgICAgICAgICBpZiAob25TdGFydEVkZ2VzKSB7XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoZWQgZ29pbmcgdGhyb3VnaCBhbGwgc3RhcnRpbmcgZWRnZXMgb2YgdGhlIGJveC5cbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBhIGZvcmNlZCBicmVhayBtdXN0IG9jY3VyIGJlZm9yZSB0aGUgYmxvY2suXG4gICAgICAgICAgICAgICAgaWYgKEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZShicmVha0F0VGhlRWRnZSkpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IGJyZWFrQXRUaGVFZGdlO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGEgYnJlYWsgZGlkIG5vdCBvY2N1ciwgbW92ZSB0byB0aGUgbmV4dCBlZGdlLlxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBvblN0YXJ0RWRnZXMgPSBmYWxzZTsgLy8gd2UgYXJlIG5vdyBvbiBlbmQgZWRnZXMuXG4gICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgICAgYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQuYnJlYWtBZnRlcixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIExlYWRpbmcgZWRnZVxuICAgICAgICAgICAgICBicmVha0F0VGhlRWRnZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICAgICAgICAgIGJyZWFrQXRUaGVFZGdlLFxuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0LmJyZWFrQmVmb3JlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCB2aWV3VGFnID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpLmxvY2FsTmFtZTtcbiAgICAgICAgICAgICAgaWYgKG1lZGlhVGFnc1t2aWV3VGFnXSkge1xuICAgICAgICAgICAgICAgIC8vIGVsZW1lbnRzIHRoYXQgaGF2ZSBpbmhlcmVudCBjb250ZW50XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYSBmb3JjZWQgYnJlYWsgbXVzdCBvY2N1ciBiZWZvcmUgdGhlIGJsb2NrLlxuICAgICAgICAgICAgICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtBdFRoZUVkZ2UpKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgPSBicmVha0F0VGhlRWRnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc3R5bGUgJiZcbiAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgc2VsZi56ZXJvSW5kZW50KHN0eWxlLnBhZGRpbmdUb3ApICYmXG4gICAgICAgICAgICAgICAgICBzZWxmLnplcm9JbmRlbnQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBOb24temVybyBsZWFkaW5nIGluc2V0XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25TdGFydEVkZ2VzID0gdHJ1ZTsgLy8gd2UgYXJlIG5vdyBvbiBzdGFydGluZyBlZGdlcy5cbiAgICAgICAgICB9IHdoaWxlIChmYWxzZSk7IC8vIEVuZCBvZiBibG9jayBvZiBjb2RlIHRvIHVzZSBicmVha1xuXG4gICAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHNlbGYubGF5b3V0Q29udGV4dC5uZXh0SW5UcmVlKG5vZGVDb250ZXh0KTtcbiAgICAgICAgICBpZiAobmV4dFJlc3VsdC5pc1BlbmRpbmcoKSkge1xuICAgICAgICAgICAgbmV4dFJlc3VsdC50aGVuKChub2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbmV4dFJlc3VsdC5nZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0Tm9kZUNvbnRleHQgPSBudWxsO1xuICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0Tm9kZUNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbGF5b3V0RmxvYXRPckZvb3Rub3RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBpZiAoXG4gICAgICBQYWdlRmxvYXRzLmlzUGFnZUZsb2F0KG5vZGVDb250ZXh0LmZsb2F0UmVmZXJlbmNlKSB8fFxuICAgICAgbm9kZUNvbnRleHQuZmxvYXRTaWRlID09PSBcImZvb3Rub3RlXCJcbiAgICApIHtcbiAgICAgIHJldHVybiB0aGlzLmxheW91dFBhZ2VGbG9hdChub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmxheW91dEZsb2F0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGF5b3V0IG5leHQgcG9ydGlvbiBvZiB0aGUgc291cmNlLlxuICAgKi9cbiAgbGF5b3V0TmV4dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICAgZm9yY2VkQnJlYWtWYWx1ZT86IHN0cmluZyB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcImxheW91dE5leHRcIik7XG4gICAgdGhpcy5za2lwRWRnZXMobm9kZUNvbnRleHQsIGxlYWRpbmdFZGdlLCBmb3JjZWRCcmVha1ZhbHVlIHx8IG51bGwpLnRoZW4oXG4gICAgICAobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW0gYXMgVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhbm9kZUNvbnRleHQgfHxcbiAgICAgICAgICBzZWxmLnBhZ2VCcmVha1R5cGUgfHxcbiAgICAgICAgICBzZWxmLnN0b3BCeU92ZXJmbG93KG5vZGVDb250ZXh0KVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBmaW5pc2hlZCBhbGwgY29udGVudCwgZXhwbGljaXQgcGFnZSBicmVhayBvciBvdmVyZmxvdyAoYXV0b21hdGljXG4gICAgICAgICAgLy8gcGFnZSBicmVhaylcbiAgICAgICAgICBmcmFtZS5maW5pc2gobm9kZUNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoZm9ybWF0dGluZ0NvbnRleHQpO1xuICAgICAgICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsYXlvdXRQcm9jZXNzb3JcbiAgICAgICAgICAgIC5sYXlvdXQobm9kZUNvbnRleHQsIHNlbGYsIGxlYWRpbmdFZGdlKVxuICAgICAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIGlmICghbm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChcbiAgICAgIGxldCBwYXJlbnQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgICBub2RlQ29udGV4dDtcbiAgICAgIG5vZGVDb250ZXh0ID0gcGFyZW50LCBwYXJlbnQgPSBwYXJlbnQgPyBwYXJlbnQucGFyZW50IDogbnVsbFxuICAgICkge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSAocGFyZW50IHx8IG5vZGVDb250ZXh0KS5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICk7XG4gICAgICBsYXlvdXRQcm9jZXNzb3IuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIHBhcmVudCxcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHJlbW92ZVNlbGYsXG4gICAgICApO1xuICAgICAgcmVtb3ZlU2VsZiA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGluaXRHZW9tKCk6IHZvaWQge1xuICAgIC8vIFRPRE86IHdlIHNob3VsZCBiZSBhYmxlIHRvIGF2b2lkIHF1ZXJ5aW5nIHRoZSBsYXlvdXQgZW5naW5lIGF0IHRoaXNcbiAgICAvLyBwb2ludC4gQ3JlYXRlIGFuIGVsZW1lbnQgdGhhdCBmaWxscyB0aGUgY29udGVudCBhcmVhIGFuZCBxdWVyeSBpdHMgc2l6ZS5cbiAgICAvLyBDYWxsaW5nIGdldEVsZW1lbnRDbGllbnRSZWN0IG9uIHRoZSBjb250YWluZXIgZWxlbWVudCBpbmNsdWRlcyBlbGVtZW50XG4gICAgLy8gcGFkZGluZyB3aGljaCBpcyB3cm9uZyBmb3Igb3VyIHB1cnBvc2VzLlxuICAgIGNvbnN0IHByb2JlID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZGl2XCIsXG4gICAgKSBhcyBIVE1MRWxlbWVudDtcbiAgICBwcm9iZS5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICBwcm9iZS5zdHlsZS50b3AgPSBgJHt0aGlzLnBhZGRpbmdUb3B9cHhgO1xuICAgIHByb2JlLnN0eWxlLnJpZ2h0ID0gYCR7dGhpcy5wYWRkaW5nUmlnaHR9cHhgO1xuICAgIHByb2JlLnN0eWxlLmJvdHRvbSA9IGAke3RoaXMucGFkZGluZ0JvdHRvbX1weGA7XG4gICAgcHJvYmUuc3R5bGUubGVmdCA9IGAke3RoaXMucGFkZGluZ0xlZnR9cHhgO1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChwcm9iZSk7XG4gICAgY29uc3QgY29sdW1uQkJveCA9IHRoaXMuY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHByb2JlKTtcbiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2hpbGQocHJvYmUpO1xuICAgIGNvbnN0IG9mZnNldFggPSB0aGlzLm9yaWdpblggKyB0aGlzLmxlZnQgKyB0aGlzLmdldEluc2V0TGVmdCgpO1xuICAgIGNvbnN0IG9mZnNldFkgPSB0aGlzLm9yaWdpblkgKyB0aGlzLnRvcCArIHRoaXMuZ2V0SW5zZXRUb3AoKTtcbiAgICB0aGlzLmJveCA9IG5ldyBHZW9tZXRyeVV0aWwuUmVjdChcbiAgICAgIG9mZnNldFgsXG4gICAgICBvZmZzZXRZLFxuICAgICAgb2Zmc2V0WCArIHRoaXMud2lkdGgsXG4gICAgICBvZmZzZXRZICsgdGhpcy5oZWlnaHQsXG4gICAgKTtcbiAgICB0aGlzLnN0YXJ0RWRnZSA9IGNvbHVtbkJCb3hcbiAgICAgID8gdGhpcy52ZXJ0aWNhbFxuICAgICAgICA/IGNvbHVtbkJCb3gudG9wXG4gICAgICAgIDogY29sdW1uQkJveC5sZWZ0XG4gICAgICA6IDA7XG4gICAgdGhpcy5lbmRFZGdlID0gY29sdW1uQkJveFxuICAgICAgPyB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gY29sdW1uQkJveC5ib3R0b21cbiAgICAgICAgOiBjb2x1bW5CQm94LnJpZ2h0XG4gICAgICA6IDA7XG4gICAgdGhpcy5iZWZvcmVFZGdlID0gY29sdW1uQkJveFxuICAgICAgPyB0aGlzLnZlcnRpY2FsXG4gICAgICAgID8gY29sdW1uQkJveC5yaWdodFxuICAgICAgICA6IGNvbHVtbkJCb3gudG9wXG4gICAgICA6IDA7XG4gICAgdGhpcy5hZnRlckVkZ2UgPSBjb2x1bW5CQm94XG4gICAgICA/IHRoaXMudmVydGljYWxcbiAgICAgICAgPyBjb2x1bW5CQm94LmxlZnRcbiAgICAgICAgOiBjb2x1bW5CQm94LmJvdHRvbVxuICAgICAgOiAwO1xuICAgIHRoaXMubGVmdEZsb2F0RWRnZSA9IHRoaXMuYmVmb3JlRWRnZTtcbiAgICB0aGlzLnJpZ2h0RmxvYXRFZGdlID0gdGhpcy5iZWZvcmVFZGdlO1xuICAgIHRoaXMuYm90dG9tbW9zdEZsb2F0VG9wID0gdGhpcy5iZWZvcmVFZGdlO1xuICAgIHRoaXMuZm9vdG5vdGVFZGdlID0gdGhpcy5hZnRlckVkZ2U7XG4gICAgdGhpcy5iYW5kcyA9IEdlb21ldHJ5VXRpbC5zaGFwZXNUb0JhbmRzKFxuICAgICAgdGhpcy5ib3gsXG4gICAgICBbdGhpcy5nZXRJbm5lclNoYXBlKCldLFxuICAgICAgdGhpcy5nZXRFeGNsdXNpb25zKCksXG4gICAgICA4LFxuICAgICAgdGhpcy5zbmFwSGVpZ2h0LFxuICAgICAgdGhpcy52ZXJ0aWNhbCxcbiAgICApO1xuICAgIHRoaXMuY3JlYXRlRmxvYXRzKCk7XG4gIH1cblxuICBpbml0KCk6IHZvaWQge1xuICAgIHRoaXMuY2h1bmtQb3NpdGlvbnMgPSBbXTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuZWxlbWVudCwgXCJ3aWR0aFwiLCBgJHt0aGlzLndpZHRofXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmVsZW1lbnQsIFwiaGVpZ2h0XCIsIGAke3RoaXMuaGVpZ2h0fXB4YCk7XG4gICAgdGhpcy5pbml0R2VvbSgpO1xuICAgIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUgPSAwO1xuICAgIHRoaXMub3ZlcmZsb3duID0gZmFsc2U7XG4gICAgdGhpcy5wYWdlQnJlYWtUeXBlID0gbnVsbDtcbiAgICB0aGlzLmxhc3RBZnRlclBvc2l0aW9uID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTYXZlIHRoZSBwb3RlbnRpYWwgYnJlYWtpbmcgcG9zaXRpb24gYXQgdGhlIGVkZ2UuIFNob3VsZCwgaW4gZ2VuZXJhbCwgc2F2ZVxuICAgKiBcImFmdGVyXCIgcG9zaXRpb24gYnV0IG9ubHkgYWZ0ZXIgc2tpcHBpbmcgYWxsIG9mIHRoZSBcImJlZm9yZVwiIG9uZXMgYW5kXG4gICAqIGdldHRpbmcgdG8gdGhlIG5vbi1lbXB0eSBjb250ZW50ICh0byBnZXQgYnJlYWtBdEVkZ2UgcmlnaHQpLlxuICAgKi9cbiAgc2F2ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha0F0RWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIEFzc2VydHMuYXNzZXJ0KHBvc2l0aW9uLmZvcm1hdHRpbmdDb250ZXh0KTtcbiAgICBjb25zdCBjb3B5ID0gcG9zaXRpb24uY29weSgpO1xuICAgIGNvbnN0IGxheW91dFByb2Nlc3NvciA9IG5ldyBMYXlvdXRQcm9jZXNzb3IuTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIoKS5maW5kKFxuICAgICAgcG9zaXRpb24uZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBjbG9uZWRQYWRkaW5nQm9yZGVyID0gdGhpcy5jYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyKGNvcHkpO1xuICAgIGNvbnN0IGJwID0gbGF5b3V0UHJvY2Vzc29yLmNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgY29weSxcbiAgICAgIGJyZWFrQXRFZGdlLFxuICAgICAgb3ZlcmZsb3dzLFxuICAgICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSArIGNsb25lZFBhZGRpbmdCb3JkZXIsXG4gICAgKTtcbiAgICB0aGlzLmJyZWFrUG9zaXRpb25zLnB1c2goYnApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjaGVja1BvaW50cyBhcnJheSBvZiBicmVha2luZyBwb2ludHMgZm9yIGJyZWFrYWJsZSBibG9ja1xuICAgKi9cbiAgc2F2ZUJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHM6IFZ0cmVlLk5vZGVDb250ZXh0W10pOiB2b2lkIHtcbiAgICBjb25zdCBwZW5hbHR5ID0gY2hlY2tQb2ludHNbMF0uYnJlYWtQZW5hbHR5O1xuICAgIGNvbnN0IGJwID0gbmV3IEJveEJyZWFrUG9zaXRpb24oY2hlY2tQb2ludHMsIHBlbmFsdHkpO1xuICAgIHRoaXMuYnJlYWtQb3NpdGlvbnMucHVzaChicCk7XG4gIH1cblxuICB1cGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlKGFmdGVyRWRnZTogbnVtYmVyKSB7XG4gICAgaWYgKCFpc05hTihhZnRlckVkZ2UpKSB7XG4gICAgICBjb25zdCBzaXplID0gdGhpcy5nZXRCb3hEaXIoKSAqIChhZnRlckVkZ2UgLSB0aGlzLmJlZm9yZUVkZ2UpO1xuICAgICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSA9IE1hdGgubWF4KHNpemUsIHRoaXMuY29tcHV0ZWRCbG9ja1NpemUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gY2h1bmtQb3NpdGlvbiBzdGFydGluZyBwb3NpdGlvbi5cbiAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICovXG4gIGxheW91dChcbiAgICBjaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uLFxuICAgIGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIGJyZWFrQWZ0ZXI/OiBzdHJpbmcgfCBudWxsLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5DaHVua1Bvc2l0aW9uPiB7XG4gICAgdGhpcy5jaHVua1Bvc2l0aW9ucy5wdXNoKGNodW5rUG9zaXRpb24pOyAvLyBTbyB3ZSBjYW4gcmUtbGF5b3V0IHRoaXMgY29sdW1uIGxhdGVyXG4gICAgaWYgKGNodW5rUG9zaXRpb24ucHJpbWFyeS5hZnRlcikge1xuICAgICAgdGhpcy5sYXN0QWZ0ZXJQb3NpdGlvbiA9IGNodW5rUG9zaXRpb24ucHJpbWFyeTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc3RvcEF0T3ZlcmZsb3cgJiYgdGhpcy5vdmVyZmxvd24pIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChjaHVua1Bvc2l0aW9uIGFzIFZ0cmVlLkNodW5rUG9zaXRpb24pO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0Z1bGxXaXRoUGFnZUZsb2F0cygpKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNodW5rUG9zaXRpb24ucHJpbWFyeS5hZnRlciAmJlxuICAgICAgICBjaHVua1Bvc2l0aW9uLnByaW1hcnkuc3RlcHMubGVuZ3RoID09PSAxXG4gICAgICApIHtcbiAgICAgICAgLy8gRW5kIG9mIGNvbnRlbnRzXG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFZ0cmVlLkNodW5rUG9zaXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGNodW5rUG9zaXRpb24gYXMgVnRyZWUuQ2h1bmtQb3NpdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLkNodW5rUG9zaXRpb24+ID0gVGFzay5uZXdGcmFtZShcImxheW91dFwiKTtcblxuICAgIC8vIC0tLS0tLSBzdGFydCB0aGUgY29sdW1uIC0tLS0tLS0tLS0tXG4gICAgc2VsZi5vcGVuQWxsVmlld3MoY2h1bmtQb3NpdGlvbi5wcmltYXJ5KS50aGVuKChub2RlQ29udGV4dCkgPT4ge1xuICAgICAgbGV0IGluaXRpYWxOb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgPSBudWxsO1xuICAgICAgaWYgKG5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgIGluaXRpYWxOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5leHRJblRyZWVMaXN0ZW5lciA9IChldnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZ0Lm5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgICAgICBpbml0aWFsTm9kZUNvbnRleHQgPSBldnQubm9kZUNvbnRleHQ7XG4gICAgICAgICAgICBzZWxmLmxheW91dENvbnRleHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgXCJuZXh0SW5UcmVlXCIsXG4gICAgICAgICAgICAgIG5leHRJblRyZWVMaXN0ZW5lcixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLmxheW91dENvbnRleHQuYWRkRXZlbnRMaXN0ZW5lcihcIm5leHRJblRyZWVcIiwgbmV4dEluVHJlZUxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJldHJ5ZXIgPSBuZXcgQ29sdW1uTGF5b3V0UmV0cnllcihsZWFkaW5nRWRnZSwgYnJlYWtBZnRlcik7XG4gICAgICByZXRyeWVyLmxheW91dChub2RlQ29udGV4dCwgc2VsZikudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICBzZWxmXG4gICAgICAgICAgLmRvRmluaXNoQnJlYWsoXG4gICAgICAgICAgICBub2RlQ29udGV4dFBhcmFtLFxuICAgICAgICAgICAgcmV0cnllci5jb250ZXh0Lm92ZXJmbG93bk5vZGVDb250ZXh0LFxuICAgICAgICAgICAgaW5pdGlhbE5vZGVDb250ZXh0LFxuICAgICAgICAgICAgcmV0cnllci5pbml0aWFsQ29tcHV0ZWRCbG9ja1NpemUsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChwb3NpdGlvbkFmdGVyKSA9PiB7XG4gICAgICAgICAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj4gPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFzZWxmLnBzZXVkb1BhcmVudCkge1xuICAgICAgICAgICAgICBjb250ID0gc2VsZi5kb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzKFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uQWZ0ZXIsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvbkFmdGVyKSB7XG4gICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYub3ZlcmZsb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgVnRyZWVJbXBsLkNodW5rUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgICBwb3NpdGlvbkFmdGVyLnRvTm9kZVBvc2l0aW9uKCksXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBpc0Z1bGxXaXRoUGFnZUZsb2F0cygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzQ29sdW1uRnVsbFdpdGhQYWdlRmxvYXRzKHRoaXMpO1xuICB9XG5cbiAgZ2V0TWF4QmxvY2tTaXplT2ZQYWdlRmxvYXRzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRNYXhCbG9ja1NpemVPZlBhZ2VGbG9hdHMoKTtcbiAgfVxuXG4gIGRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJkb0ZpbmlzaEJyZWFrT2ZGcmFnbWVudExheW91dENvbnN0cmFpbnRzXCIsXG4gICAgKTtcbiAgICBjb25zdCBzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzID0gW10uY29uY2F0KFxuICAgICAgdGhpcy5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLFxuICAgICk7XG4gICAgc29ydGVkRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5zb3J0KFxuICAgICAgKGEsIGIpID0+IGEuZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCkgLSBiLmdldFByaW9yaXR5T2ZGaW5pc2hCcmVhaygpLFxuICAgICk7XG4gICAgbGV0IGkgPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIGlmIChpIDwgc29ydGVkRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBzb3J0ZWRGcmFnbWVudExheW91dENvbnN0cmFpbnRzW2krK10uZmluaXNoQnJlYWsoXG4gICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW5SZXR1cm4odHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBub2RlQ29udGV4dCBzdGFydGluZyBwb3NpdGlvbi5cbiAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8e1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gIH0+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTx7XG4gICAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgICBvdmVyZmxvd25Ob2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgfT4gPSBUYXNrLm5ld0ZyYW1lKFwiZG9MYXlvdXRcIik7XG4gICAgbGV0IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCA9IG51bGw7XG5cbiAgICAvLyAtLS0tLS0gaW5pdCBiYWNrdHJhY2tpbmcgbGlzdCAtLS0tLVxuICAgIHNlbGYuYnJlYWtQb3NpdGlvbnMgPSBbXTtcbiAgICBzZWxmLm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cyA9IG51bGw7XG5cbiAgICAvLyAtLS0tLS0tIGZpbGwgdGhlIGNvbHVtbiAtLS0tLS0tLS0tLS0tXG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgd2hpbGUgKG5vZGVDb250ZXh0KSB7XG4gICAgICAgICAgLy8gZmlsbCBhIHNpbmdsZSBibG9ja1xuICAgICAgICAgIGxldCBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAubGF5b3V0TmV4dChub2RlQ29udGV4dCwgbGVhZGluZ0VkZ2UsIGJyZWFrQWZ0ZXIgfHwgbnVsbClcbiAgICAgICAgICAgIC50aGVuKChub2RlQ29udGV4dFBhcmFtKSA9PiB7XG4gICAgICAgICAgICAgIGxlYWRpbmdFZGdlID0gZmFsc2U7XG4gICAgICAgICAgICAgIGJyZWFrQWZ0ZXIgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgICAgICAgICBzZWxmLnN0b3BBdE92ZXJmbG93XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPVxuICAgICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dE92ZXJmbG93aW5nRHVlVG9SZXBldGl0aXZlRWxlbWVudHM7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQub3ZlcmZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHRQYXJhbTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2VsZi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLnBhZ2VCcmVha1R5cGUpIHtcbiAgICAgICAgICAgICAgICAvLyBleHBsaWNpdCBwYWdlIGJyZWFrXG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpOyAvLyBMb29wIGVuZFxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVDb250ZXh0ICYmIHNlbGYuc3RvcEJ5T3ZlcmZsb3cobm9kZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAgICAgLy8gb3ZlcmZsb3cgKGltcGxpY2l0IHBhZ2UgYnJlYWspOiBiYWNrIHVwIGFuZCBmaW5kIGFcbiAgICAgICAgICAgICAgICAvLyBwYWdlIGJyZWFrXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3duTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dDtcbiAgICAgICAgICAgICAgICBjb25zdCBicCA9IHNlbGYuZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgbm9kZUNvbnRleHQgPSBicC5ub2RlQ29udGV4dDtcbiAgICAgICAgICAgICAgICBpZiAoYnAuYnJlYWtQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgYnAuYnJlYWtQb3NpdGlvbi5icmVha1Bvc2l0aW9uQ2hvc2VuKHNlbGYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7IC8vIExvb3AgZW5kXG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFN5bmMgY2FzZVxuICAgICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAvLyBBc3luYyBjYXNlXG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgLy8gQXN5bmMgY2FzZSBhbmQgbG9vcCBlbmRcbiAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTeW5jIGNhc2VcbiAgICAgICAgc2VsZi5jb21wdXRlZEJsb2NrU2l6ZSArPSBzZWxmLmdldE9mZnNldEJ5UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh7IG5vZGVDb250ZXh0LCBvdmVyZmxvd25Ob2RlQ29udGV4dCB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZS1sYXlvdXQgYWxyZWFkeSBsYWlkLW91dCBjaHVua3MuIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGxhc3QgZmxvdyBpZlxuICAgKiB0aGVyZSBpcyBhbiBvdmVyZmxvdy5cbiAgICogVE9ETzogZGVhbCB3aXRoIGNodW5rcyB0aGF0IGRpZCBub3QgZml0IGF0IGFsbC5cbiAgICogQHJldHVybiBob2xkaW5nIGVuZCBwb3NpdGlvbi5cbiAgICovXG4gIHJlZG9MYXlvdXQoKTogVGFzay5SZXN1bHQ8VnRyZWUuQ2h1bmtQb3NpdGlvbj4ge1xuICAgIGNvbnN0IGNodW5rUG9zaXRpb25zID0gdGhpcy5jaHVua1Bvc2l0aW9ucztcbiAgICBsZXQgbGFzdDogTm9kZSA9IHRoaXMuZWxlbWVudC5sYXN0Q2hpbGQ7XG4gICAgd2hpbGUgKGxhc3QgIT0gdGhpcy5sYXN0KSB7XG4gICAgICBjb25zdCBwcmV2ID0gbGFzdC5wcmV2aW91c1NpYmxpbmc7XG4gICAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgdGhpcy5lbGVtZW50ID09PSBsYXN0LnBhcmVudE5vZGUgJiZcbiAgICAgICAgICAodGhpcy5sYXlvdXRDb250ZXh0IGFzIFZnZW4uVmlld0ZhY3RvcnkpLmlzUHNldWRvZWxlbWVudChsYXN0KVxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKGxhc3QpO1xuICAgICAgfVxuICAgICAgbGFzdCA9IHByZXY7XG4gICAgfVxuICAgIHRoaXMua2lsbEZsb2F0cygpO1xuICAgIHRoaXMuaW5pdCgpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLkNodW5rUG9zaXRpb24+ID0gVGFzay5uZXdGcmFtZShcInJlZG9MYXlvdXRcIik7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCByZXM6IFZ0cmVlLkNodW5rUG9zaXRpb24gPSBudWxsO1xuICAgIGxldCBsZWFkaW5nRWRnZSA9IHRydWU7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPCBjaHVua1Bvc2l0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBjaHVua1Bvc2l0aW9uID0gY2h1bmtQb3NpdGlvbnNbaSsrXTtcbiAgICAgICAgICBzZWxmLmxheW91dChjaHVua1Bvc2l0aW9uLCBsZWFkaW5nRWRnZSkudGhlbigocG9zKSA9PiB7XG4gICAgICAgICAgICBsZWFkaW5nRWRnZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHBvcykge1xuICAgICAgICAgICAgICByZXMgPSBwb3M7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKCkge1xuICAgIGNvbnN0IGJsb2NrU3RhcnRFZGdlT2ZCbG9ja0VuZEZsb2F0cyA9IHRoaXMucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5nZXRCbG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMoKTtcbiAgICBpZiAoXG4gICAgICBibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMgPiAwICYmXG4gICAgICBpc0Zpbml0ZShibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMpXG4gICAgKSB7XG4gICAgICB0aGlzLmJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzID1cbiAgICAgICAgdGhpcy5nZXRCb3hEaXIoKSAqXG4gICAgICAgIChibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMgLVxuICAgICAgICAgIHRoaXMuYmVmb3JlRWRnZSAtXG4gICAgICAgICAgdGhpcy5jb21wdXRlZEJsb2NrU2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSA9IFtdO1xuICAgIGZvciAobGV0IGN1cnJlbnQ6IENvbHVtbiA9IHRoaXM7IGN1cnJlbnQ7IGN1cnJlbnQgPSBjdXJyZW50LnBzZXVkb1BhcmVudCkge1xuICAgICAgY3VycmVudC5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmZvckVhY2goKGNvbnN0cmFpbnQpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFJlcGV0aXRpdmVFbGVtZW50LmlzSW5zdGFuY2VPZlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICAgIGNvbnN0cmFpbnQsXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudCA9IGNvbnN0cmFpbnQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICBTZWxlY3RvcnMuaXNJbnN0YW5jZU9mQWZ0ZXJJZkNvbnRpbnVlc0xheW91dENvbnN0cmFpbnQoY29uc3RyYWludClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnQgPSBjb25zdHJhaW50LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wdXNoKHJlcGV0aXRpdmVFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVGFibGUuaXNJbnN0YW5jZU9mVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KGNvbnN0cmFpbnQpKSB7XG4gICAgICAgICAgY29uc3RyYWludFxuICAgICAgICAgICAgLmdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbCh0aGlzKVxuICAgICAgICAgICAgLmZvckVhY2goKHJlcGV0aXRpdmVFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wdXNoKHJlcGV0aXRpdmVFbGVtZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBcInBzZXVkb1wiLWNvbHVtbiBuZXN0ZWQgaW5zaWRlIGEgcmVhbCBjb2x1bW4uXG4gKiBUaGlzIGNsYXNzIGlzIGNyZWF0ZWQgdG8gaGFuZGxlIHBhcmFsbGVsIGZyYWdtZW50ZWQgZmxvd3MgKGUuZy4gdGFibGUgY29sdW1uc1xuICogaW4gYSBzaW5nbGUgdGFibGUgcm93KS4gQSBwc2V1ZG8tY29sdW1uIGJlaGF2ZXMgaW4gdGhlIHNhbWUgd2F5IGFzIHRoZVxuICogb3JpZ2luYWwgY29sdW1uLCBzaGFyaW5nIGl0cyBwcm9wZXJ0aWVzLiBQcm9wZXJ0eSBjaGFuZ2VzIG9uIHRoZVxuICogcHNldWRvLWNvbHVtbiBhcmUgbm90IHByb3BhZ2F0ZWQgdG8gdGhlIG9yaWdpbmFsIGNvbHVtbi4gVGhlIExheW91dENvbnRleHQgb2ZcbiAqIHRoZSBvcmlnaW5hbCBjb2x1bW4gaXMgYWxzbyBjbG9uZWQgYW5kIHVzZWQgYnkgdGhlIHBzZXVkby1jb2x1bW4sIG5vdCB0b1xuICogcHJvcGFnYXRlIHN0YXRlIGNoYW5nZXMgb2YgdGhlIExheW91dENvbnRleHQgY2F1c2VkIGJ5IHRoZSBwc2V1ZG8tY29sdW1uLlxuICogQHBhcmFtIGNvbHVtbiBUaGUgb3JpZ2luYWwgKHBhcmVudCkgY29sdW1uXG4gKiBAcGFyYW0gdmlld1Jvb3QgUm9vdCBlbGVtZW50IGZvciB0aGUgcHNldWRvLWNvbHVtbiwgaS5lLiwgdGhlIHJvb3Qgb2YgdGhlXG4gKiAgICAgZnJhZ21lbnRlZCBmbG93LlxuICogQHBhcmFtIHBhcmVudE5vZGVDb250ZXh0IEEgTm9kZUNvbnRleHQgZ2VuZXJhdGluZyB0aGlzIFBzZXVkb0NvbHVtblxuICovXG5leHBvcnQgY2xhc3MgUHNldWRvQ29sdW1uIHtcbiAgc3RhcnROb2RlQ29udGV4dHM6IFZ0cmVlLk5vZGVDb250ZXh0W10gPSBbXTtcbiAgcHJpdmF0ZSBjb2x1bW46IExheW91dC5Db2x1bW47XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICB2aWV3Um9vdDogRWxlbWVudCxcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICkge1xuICAgIHRoaXMuY29sdW1uID0gT2JqZWN0LmNyZWF0ZShjb2x1bW4pIGFzIExheW91dC5Db2x1bW47XG4gICAgdGhpcy5jb2x1bW4uZWxlbWVudCA9IHZpZXdSb290O1xuICAgIHRoaXMuY29sdW1uLmxheW91dENvbnRleHQgPSBjb2x1bW4ubGF5b3V0Q29udGV4dC5jbG9uZSgpO1xuICAgIHRoaXMuY29sdW1uLnN0b3BBdE92ZXJmbG93ID0gZmFsc2U7XG4gICAgdGhpcy5jb2x1bW4uZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dCA9IHBhcmVudE5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIHRoaXMuY29sdW1uLnBzZXVkb1BhcmVudCA9IGNvbHVtbjtcbiAgICBjb25zdCBwYXJlbnRDbG9uZWRQYWRkaW5nQm9yZGVyID0gdGhpcy5jb2x1bW4uY2FsY3VsYXRlQ2xvbmVkUGFkZGluZ0JvcmRlcihcbiAgICAgIHBhcmVudE5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgdGhpcy5jb2x1bW4uZm9vdG5vdGVFZGdlID1cbiAgICAgIHRoaXMuY29sdW1uLmZvb3Rub3RlRWRnZSAtIHBhcmVudENsb25lZFBhZGRpbmdCb3JkZXI7XG4gICAgY29uc3QgcHNldWRvQ29sdW1uID0gdGhpcztcbiAgICB0aGlzLmNvbHVtbi5vcGVuQWxsVmlld3MgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgIHJldHVybiBDb2x1bW4ucHJvdG90eXBlLm9wZW5BbGxWaWV3c1xuICAgICAgICAuY2FsbCh0aGlzLCBwb3NpdGlvbilcbiAgICAgICAgLnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgICAgcHNldWRvQ29sdW1uLnN0YXJ0Tm9kZUNvbnRleHRzLnB1c2gocmVzdWx0LmNvcHkoKSk7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSBjaHVua1Bvc2l0aW9uIHN0YXJ0aW5nIHBvc2l0aW9uLlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgZW5kIHBvc2l0aW9uLlxuICAgKi9cbiAgbGF5b3V0KFxuICAgIGNodW5rUG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+IHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW4ubGF5b3V0KGNodW5rUG9zaXRpb24sIGxlYWRpbmdFZGdlKTtcbiAgfVxuICBmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oXG4gICAgYWxsb3dCcmVha0F0U3RhcnRQb3NpdGlvbjogYm9vbGVhbixcbiAgKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCB7XG4gICAgY29uc3QgcCA9IHRoaXMuY29sdW1uLmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpO1xuICAgIGlmIChhbGxvd0JyZWFrQXRTdGFydFBvc2l0aW9uKSB7XG4gICAgICBjb25zdCBzdGFydE5vZGVDb250ZXh0ID0gdGhpcy5zdGFydE5vZGVDb250ZXh0c1swXS5jb3B5KCk7XG4gICAgICBjb25zdCBicCA9IG5ldyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgICAgICBzdGFydE5vZGVDb250ZXh0LFxuICAgICAgICBudWxsLFxuICAgICAgICBzdGFydE5vZGVDb250ZXh0Lm92ZXJmbG93LFxuICAgICAgICAwLFxuICAgICAgKTtcbiAgICAgIGJwLmZpbmRBY2NlcHRhYmxlQnJlYWsodGhpcy5jb2x1bW4sIDApO1xuICAgICAgaWYgKCFwLm5vZGVDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB7IGJyZWFrUG9zaXRpb246IGJwLCBub2RlQ29udGV4dDogc3RhcnROb2RlQ29udGV4dCB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcDtcbiAgfVxuICAvKipcbiAgICogQHJldHVybiBob2xpbmcgdHJ1ZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcmNlUmVtb3ZlU2VsZjogYm9vbGVhbixcbiAgICBlbmRPZkNvbHVtbjogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvbHVtbi5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgZm9yY2VSZW1vdmVTZWxmLCBlbmRPZkNvbHVtbik7XG4gIH1cbiAgZG9GaW5pc2hCcmVha09mRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyhwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIHRoaXMuY29sdW1uLmRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMocG9zaXRpb25BZnRlcik7XG4gIH1cbiAgaXNTdGFydE5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0YXJ0Tm9kZUNvbnRleHQgPSB0aGlzLnN0YXJ0Tm9kZUNvbnRleHRzWzBdO1xuICAgIHJldHVybiAoXG4gICAgICBzdGFydE5vZGVDb250ZXh0LnZpZXdOb2RlID09PSBub2RlQ29udGV4dC52aWV3Tm9kZSAmJlxuICAgICAgc3RhcnROb2RlQ29udGV4dC5hZnRlciA9PT0gbm9kZUNvbnRleHQuYWZ0ZXIgJiZcbiAgICAgIHN0YXJ0Tm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlID09PSBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGVcbiAgICApO1xuICB9XG4gIGlzTGFzdEFmdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIFZ0cmVlSW1wbC5pc1NhbWVOb2RlUG9zaXRpb24oXG4gICAgICBub2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpLFxuICAgICAgdGhpcy5jb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24sXG4gICAgKTtcbiAgfVxuICBnZXRDb2x1bW5FbGVtZW50KCk6IEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmNvbHVtbi5lbGVtZW50O1xuICB9XG4gIGdldENvbHVtbigpOiBMYXlvdXQuQ29sdW1uIHtcbiAgICByZXR1cm4gdGhpcy5jb2x1bW47XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZpcnN0Q2hhclBhdHRlcm4gPSAvXlteQS1aYS16MC05X1xcdTAwOUVcXHUwMDlGXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkFGXFx1MDM3Qi1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDQ4MlxcdTA0OEEtXFx1MDUyN10qKFtBLVphLXowLTlfXFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkFGXFx1MDM3Qi1cXHUwMzdEXFx1MDM4NlxcdTAzODgtXFx1MDQ4MlxcdTA0OEEtXFx1MDUyN11bXkEtWmEtejAtOV9cXHUwMDlFXFx1MDA5RlxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJBRlxcdTAzN0ItXFx1MDM3RFxcdTAzODZcXHUwMzg4LVxcdTA0ODJcXHUwNDhBLVxcdTA1MjddKik/LztcblxuZXhwb3J0IHR5cGUgU2luZ2xlUGFnZUZsb2F0TGF5b3V0UmVzdWx0ID0gTGF5b3V0LlNpbmdsZVBhZ2VGbG9hdExheW91dFJlc3VsdDtcblxuZXhwb3J0IGZ1bmN0aW9uIGZpeEp1c3RpZmljYXRpb25Pbkh5cGhlbihcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBpbnNlcnRBZnRlcjogYm9vbGVhbixcbiAgbm9kZTogTm9kZSxcbiAgaW5zZXJ0aW9uUG9pbnQ6IE5vZGUsXG4pOiB2b2lkIHtcbiAgaWYgKEJhc2UuY2hlY2tTb2Z0V3JhcE9wcG9ydHVuaXR5QWZ0ZXJIeXBoZW5CdWcoZG9jdW1lbnQuYm9keSkpIHtcbiAgICBjb25zdCBoeXBoZW5DaGFyID0gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dCk7XG4gICAgY29uc3QgcHJldlNpYmxpbmcgPSBpbnNlcnRBZnRlciA/IG5vZGUgOiBub2RlLnByZXZpb3VzU2libGluZztcbiAgICBjb25zdCBwcmV2VGV4dCA9IHByZXZTaWJsaW5nID8gcHJldlNpYmxpbmcudGV4dENvbnRlbnQgOiBcIlwiO1xuICAgIGlmIChwcmV2VGV4dC5jaGFyQXQocHJldlRleHQubGVuZ3RoIC0gMSkgPT09IGh5cGhlbkNoYXIpIHtcbiAgICAgIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICAgIGNvbnN0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChCYXNlLmNoZWNrU29mdFdyYXBPcHBvcnR1bml0eUJ5V2JyQnVnKGRvY3VtZW50LmJvZHkpKSB7XG4gICAgICAgIC8vIEZvciBJRVxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGRvYy5jcmVhdGVUZXh0Tm9kZShcIiBcIiksIGluc2VydGlvblBvaW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEZvciBFZGdlXG4gICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoZG9jLmNyZWF0ZUVsZW1lbnQoXCJ3YnJcIiksIGluc2VydGlvblBvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBicmVha2luZyBwb2ludCByZXNvbHZlciBmb3IgVGV4dCBOb2RlLlxuICovXG5leHBvcnQgY2xhc3MgVGV4dE5vZGVCcmVha2VyIGltcGxlbWVudHMgTGF5b3V0LlRleHROb2RlQnJlYWtlciB7XG4gIGJyZWFrVGV4dE5vZGUoXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGxvdzogbnVtYmVyLFxuICAgIGNoZWNrUG9pbnRzOiBWdHJlZS5Ob2RlQ29udGV4dFtdLFxuICAgIGNoZWNrcG9pbnRJbmRleDogbnVtYmVyLFxuICAgIGZvcmNlOiBib29sZWFuLFxuICApOiBWdHJlZS5Ob2RlQ29udGV4dCB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGUgPSB0ZXh0Tm9kZS5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENoYXJhY3RlciB3aXRoIGluZGV4IGxvdyBpcyB0aGUgbGFzdCBvbmUgdGhhdCBmaXRzLlxuICAgICAgbGV0IHZpZXdJbmRleCA9IGxvdyAtIG5vZGVDb250ZXh0LmJveE9mZnNldDtcbiAgICAgIGNvbnN0IHRleHQgPSB0ZXh0Tm9kZS5kYXRhO1xuICAgICAgaWYgKHRleHQuY2hhckNvZGVBdCh2aWV3SW5kZXgpID09IDE3Mykge1xuICAgICAgICB2aWV3SW5kZXggPSB0aGlzLmJyZWFrQWZ0ZXJTb2Z0SHlwaGVuKFxuICAgICAgICAgIHRleHROb2RlLFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgdmlld0luZGV4LFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlld0luZGV4ID0gdGhpcy5icmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIoXG4gICAgICAgICAgdGV4dE5vZGUsXG4gICAgICAgICAgdGV4dCxcbiAgICAgICAgICB2aWV3SW5kZXgsXG4gICAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAodmlld0luZGV4ID4gMCkge1xuICAgICAgICBub2RlQ29udGV4dCA9IHRoaXMudXBkYXRlTm9kZUNvbnRleHQobm9kZUNvbnRleHQsIHZpZXdJbmRleCwgdGV4dE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZUNvbnRleHQ7XG4gIH1cblxuICBicmVha0FmdGVyU29mdEh5cGhlbihcbiAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgICB0ZXh0OiBzdHJpbmcsXG4gICAgdmlld0luZGV4OiBudW1iZXIsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApOiBudW1iZXIge1xuICAgIC8vIGNvbnZlcnQgdHJhaWxpbmcgc29mdCBoeXBoZW4gdG8gYSByZWFsIGh5cGhlblxuICAgIHRleHROb2RlLnJlcGxhY2VEYXRhKFxuICAgICAgdmlld0luZGV4LFxuICAgICAgdGV4dC5sZW5ndGggLSB2aWV3SW5kZXgsXG4gICAgICAhbm9kZUNvbnRleHQuYnJlYWtXb3JkID8gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dCkgOiBcIlwiLFxuICAgICk7XG4gICAgcmV0dXJuIHZpZXdJbmRleCArIDE7XG4gIH1cblxuICBicmVha0FmdGVyT3RoZXJDaGFyYWN0ZXIoXG4gICAgdGV4dE5vZGU6IFRleHQsXG4gICAgdGV4dDogc3RyaW5nLFxuICAgIHZpZXdJbmRleDogbnVtYmVyLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgKTogbnVtYmVyIHtcbiAgICAvLyBrZWVwIHRoZSB0cmFpbGluZyBjaGFyYWN0ZXIgKGl0IG1heSBiZSBhIHNwYWNlIG9yIG5vdClcbiAgICBjb25zdCBjaDAgPSB0ZXh0LmNoYXJBdCh2aWV3SW5kZXgpO1xuICAgIHZpZXdJbmRleCsrO1xuICAgIGNvbnN0IGNoMSA9IHRleHQuY2hhckF0KHZpZXdJbmRleCk7XG5cbiAgICAvLyBJZiBhdXRvbWF0aWMgaHlwaGVuIHdhcyBpbnNlcnRlZCBoZXJlLCBhZGQgYSByZWFsIGh5cGhlbi5cbiAgICB0ZXh0Tm9kZS5yZXBsYWNlRGF0YShcbiAgICAgIHZpZXdJbmRleCxcbiAgICAgIHRleHQubGVuZ3RoIC0gdmlld0luZGV4LFxuICAgICAgIW5vZGVDb250ZXh0LmJyZWFrV29yZCAmJiBCYXNlLmlzTGV0dGVyKGNoMCkgJiYgQmFzZS5pc0xldHRlcihjaDEpXG4gICAgICAgID8gcmVzb2x2ZUh5cGhlbmF0ZUNoYXJhY3Rlcihub2RlQ29udGV4dClcbiAgICAgICAgOiBcIlwiLFxuICAgICk7XG4gICAgcmV0dXJuIHZpZXdJbmRleDtcbiAgfVxuXG4gIHVwZGF0ZU5vZGVDb250ZXh0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICB2aWV3SW5kZXg6IG51bWJlcixcbiAgICB0ZXh0Tm9kZTogVGV4dCxcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlICs9IHZpZXdJbmRleDtcbiAgICBub2RlQ29udGV4dC5icmVha0JlZm9yZSA9IG51bGw7XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0O1xuICB9XG5cbiAgc3RhdGljIGluc3RhbmNlOiBUZXh0Tm9kZUJyZWFrZXI7XG59XG5UZXh0Tm9kZUJyZWFrZXIuaW5zdGFuY2UgPSBuZXcgVGV4dE5vZGVCcmVha2VyKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSHlwaGVuYXRlQ2hhcmFjdGVyKFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4pOiBzdHJpbmcge1xuICByZXR1cm4gKFxuICAgIG5vZGVDb250ZXh0Lmh5cGhlbmF0ZUNoYXJhY3RlciB8fFxuICAgIChub2RlQ29udGV4dC5wYXJlbnQgJiYgbm9kZUNvbnRleHQucGFyZW50Lmh5cGhlbmF0ZUNoYXJhY3RlcikgfHxcbiAgICBcIi1cIlxuICApO1xufVxuXG5leHBvcnQgY2xhc3MgQ29sdW1uTGF5b3V0UmV0cnllciBleHRlbmRzIExheW91dFJldHJ5ZXJzLkFic3RyYWN0TGF5b3V0UmV0cnllciB7XG4gIGJyZWFrQWZ0ZXI6IHN0cmluZyB8IG51bGw7XG4gIHByaXZhdGUgaW5pdGlhbFBhZ2VCcmVha1R5cGU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpbml0aWFsQ29tcHV0ZWRCbG9ja1NpemU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgaW5pdGlhbE92ZXJmbG93bjogYm9vbGVhbiA9IGZhbHNlO1xuICBjb250ZXh0OiB7IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCB9ID0ge1xuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBudWxsLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBsZWFkaW5nRWRnZTogYm9vbGVhbixcbiAgICBicmVha0FmdGVyPzogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmJyZWFrQWZ0ZXIgPSBicmVha0FmdGVyIHx8IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZXNvbHZlTGF5b3V0TW9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBMYXlvdXQuTGF5b3V0TW9kZSB7XG4gICAgcmV0dXJuIG5ldyBEZWZhdWx0TGF5b3V0TW9kZShcbiAgICAgIHRoaXMubGVhZGluZ0VkZ2UsXG4gICAgICB0aGlzLmJyZWFrQWZ0ZXIsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVMYXlvdXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyA9IFtdO1xuICAgIGlmICghY29sdW1uLnBzZXVkb1BhcmVudCkge1xuICAgICAgU2hhcmVkLmNsZWFyUmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBzdXBlci5jbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbik7XG4gICAgbGV0IG5vZGVDb250ZXh0ID0gaW5pdGlhbFBvc2l0aW9uO1xuICAgIHdoaWxlIChub2RlQ29udGV4dCkge1xuICAgICAgY29uc3Qgdmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZTtcbiAgICAgIGlmICh2aWV3Tm9kZSkge1xuICAgICAgICBMYXlvdXRIZWxwZXIucmVtb3ZlRm9sbG93aW5nU2libGluZ3Modmlld05vZGUucGFyZW50Tm9kZSwgdmlld05vZGUpO1xuICAgICAgfVxuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2F2ZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgc3VwZXIuc2F2ZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIHRoaXMuaW5pdGlhbFBhZ2VCcmVha1R5cGUgPSBjb2x1bW4ucGFnZUJyZWFrVHlwZTtcbiAgICB0aGlzLmluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZSA9IGNvbHVtbi5jb21wdXRlZEJsb2NrU2l6ZTtcbiAgICB0aGlzLmluaXRpYWxPdmVyZmxvd24gPSBjb2x1bW4ub3ZlcmZsb3duO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXQuQ29sdW1uKSB7XG4gICAgc3VwZXIucmVzdG9yZVN0YXRlKG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbHVtbi5wYWdlQnJlYWtUeXBlID0gdGhpcy5pbml0aWFsUGFnZUJyZWFrVHlwZTtcbiAgICBjb2x1bW4uY29tcHV0ZWRCbG9ja1NpemUgPSB0aGlzLmluaXRpYWxDb21wdXRlZEJsb2NrU2l6ZTtcbiAgICBjb2x1bW4ub3ZlcmZsb3duID0gdGhpcy5pbml0aWFsT3ZlcmZsb3duO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWZhdWx0TGF5b3V0TW9kZSBpbXBsZW1lbnRzIExheW91dC5MYXlvdXRNb2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxlYWRpbmdFZGdlOiBib29sZWFuLFxuICAgIHB1YmxpYyByZWFkb25seSBicmVha0FmdGVyOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiB7IG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCB9LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJEZWZhdWx0TGF5b3V0TW9kZS5kb0xheW91dFwiLFxuICAgICk7XG5cbiAgICBwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlc09mQW5jZXN0b3JzKG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW4oKCkgPT4ge1xuICAgICAgY29sdW1uXG4gICAgICAgIC5kb0xheW91dChub2RlQ29udGV4dCwgdGhpcy5sZWFkaW5nRWRnZSwgdGhpcy5icmVha0FmdGVyKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgdGhpcy5jb250ZXh0Lm92ZXJmbG93bk5vZGVDb250ZXh0ID0gcmVzdWx0Lm92ZXJmbG93bk5vZGVDb250ZXh0O1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChyZXN1bHQubm9kZUNvbnRleHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pOiBib29sZWFuIHtcbiAgICBpZiAoY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpIHx8IGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmxlbmd0aCA8PSAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLmV2ZXJ5KChjb25zdHJhaW50KSA9PlxuICAgICAgY29uc3RyYWludC5hbGxvd0xheW91dChcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIHRoaXMuY29udGV4dC5vdmVyZmxvd25Ob2RlQ29udGV4dCxcbiAgICAgICAgY29sdW1uLFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBhY2NlcHRlZDogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKCFhY2NlcHRlZCkge1xuICAgICAgY29uc3QgaGFzTmV4dENhbmRpZGF0ZSA9IGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnNvbWUoXG4gICAgICAgIChjb25zdHJhaW50KSA9PiBjb25zdHJhaW50Lm5leHRDYW5kaWRhdGUocG9zaXRpb25BZnRlciksXG4gICAgICApO1xuXG4gICAgICAvLyBJZiB0aGVyZSBpcyBubyBuZXh0IGNhbmRpZGF0ZSwgd2UgYWNjZXB0IHRoZSBjdXJyZW50IGxheW91dCB0cmlhbC5cbiAgICAgIC8vIExhdGVyIENvbHVtbiNkb0ZpbmlzaEJyZWFrIGRlY2lkZXMgd2hldGhlciB0aGUgb3ZlcmZsb3dpbmcgY29udGVudFxuICAgICAgLy8gc2hvdWxkIGJlIHBsYWNlZCBhcyBpcyBvciBiZSBkZWZlcnJlZCB0byB0aGUgbmV4dCBjb2x1bW4sXG4gICAgICAvLyBkZXBlbmRpbmcgb24gdGhlIHZhbHVlIG9mIENvbHVtbiNmb3JjZU5vbmZpdHRpbmcuXG4gICAgICBhY2NlcHRlZCA9ICFoYXNOZXh0Q2FuZGlkYXRlO1xuICAgIH1cbiAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICBjb25zdHJhaW50LnBvc3RMYXlvdXQoYWNjZXB0ZWQsIHBvc2l0aW9uQWZ0ZXIsIGluaXRpYWxQb3NpdGlvbiwgY29sdW1uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYWNjZXB0ZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VGbG9hdEFyZWEgZXh0ZW5kcyBDb2x1bW4gaW1wbGVtZW50cyBMYXlvdXQuUGFnZUZsb2F0QXJlYSB7XG4gIHByaXZhdGUgcm9vdFZpZXdOb2RlczogRWxlbWVudFtdID0gW107XG4gIHByaXZhdGUgZmxvYXRNYXJnaW5zOiBHZW9tZXRyeVV0aWwuSW5zZXRzW10gPSBbXTtcbiAgYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZsb2F0U2lkZTogc3RyaW5nLFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBsYXlvdXRDb25zdHJhaW50OiBMYXlvdXRDb25zdHJhaW50LFxuICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgZWxlbWVudCxcbiAgICAgIGxheW91dENvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgb3BlbkFsbFZpZXdzKHBvc2l0aW9uOiBWdHJlZS5Ob2RlUG9zaXRpb24pOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIHJldHVybiBzdXBlci5vcGVuQWxsVmlld3MocG9zaXRpb24pLnRoZW5Bc3luYygobm9kZUNvbnRleHQpID0+IHtcbiAgICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgICB0aGlzLmZpeEZsb2F0U2l6ZUFuZFBvc2l0aW9uKG5vZGVDb250ZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChub2RlQ29udGV4dCk7XG4gICAgfSk7XG4gIH1cblxuICBjb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeCh0YXJnZXQ6IEVsZW1lbnQpIHtcbiAgICBjb25zdCBjb250YWluaW5nQmxvY2tSZWN0ID0gdGhpcy5wYXJlbnRDb250YWluZXIuZ2V0UGFkZGluZ1JlY3QoKTtcbiAgICBjb25zdCByZWZXaWR0aCA9IGNvbnRhaW5pbmdCbG9ja1JlY3QueDIgLSBjb250YWluaW5nQmxvY2tSZWN0LngxO1xuICAgIGNvbnN0IHJlZkhlaWdodCA9IGNvbnRhaW5pbmdCbG9ja1JlY3QueTIgLSBjb250YWluaW5nQmxvY2tSZWN0LnkxO1xuXG4gICAgZnVuY3Rpb24gY29udmVydFBlcmNlbnRhZ2VUb1B4KHByb3BzOiBzdHJpbmdbXSwgcmVmVmFsdWU6IG51bWJlcikge1xuICAgICAgcHJvcHMuZm9yRWFjaCgocHJvcE5hbWUpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWVTdHJpbmcgPSBCYXNlLmdldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUpO1xuICAgICAgICBpZiAodmFsdWVTdHJpbmcgJiYgdmFsdWVTdHJpbmcuY2hhckF0KHZhbHVlU3RyaW5nLmxlbmd0aCAtIDEpID09PSBcIiVcIikge1xuICAgICAgICAgIGNvbnN0IHBlcmNlbnRhZ2VWYWx1ZSA9IHBhcnNlRmxvYXQodmFsdWVTdHJpbmcpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gKHJlZlZhbHVlICogcGVyY2VudGFnZVZhbHVlKSAvIDEwMDtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIGAke3ZhbHVlfXB4YCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb252ZXJ0UGVyY2VudGFnZVRvUHgoW1wid2lkdGhcIiwgXCJtYXgtd2lkdGhcIiwgXCJtaW4td2lkdGhcIl0sIHJlZldpZHRoKTtcbiAgICBjb252ZXJ0UGVyY2VudGFnZVRvUHgoW1wiaGVpZ2h0XCIsIFwibWF4LWhlaWdodFwiLCBcIm1pbi1oZWlnaHRcIl0sIHJlZkhlaWdodCk7XG4gICAgY29udmVydFBlcmNlbnRhZ2VUb1B4KFxuICAgICAgW1xuICAgICAgICBcIm1hcmdpbi10b3BcIixcbiAgICAgICAgXCJtYXJnaW4tcmlnaHRcIixcbiAgICAgICAgXCJtYXJnaW4tYm90dG9tXCIsXG4gICAgICAgIFwibWFyZ2luLWxlZnRcIixcbiAgICAgICAgXCJwYWRkaW5nLXRvcFwiLFxuICAgICAgICBcInBhZGRpbmctcmlnaHRcIixcbiAgICAgICAgXCJwYWRkaW5nLWJvdHRvbVwiLFxuICAgICAgICBcInBhZGRpbmctbGVmdFwiLFxuICAgICAgXSxcbiAgICAgIHRoaXMudmVydGljYWwgPyByZWZIZWlnaHQgOiByZWZXaWR0aCxcbiAgICApO1xuICAgIFtcIm1hcmdpbi10b3BcIiwgXCJtYXJnaW4tcmlnaHRcIiwgXCJtYXJnaW4tYm90dG9tXCIsIFwibWFyZ2luLWxlZnRcIl0uZm9yRWFjaChcbiAgICAgIChwcm9wTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IEJhc2UuZ2V0Q1NTUHJvcGVydHkodGFyZ2V0LCBwcm9wTmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRhcmdldCwgcHJvcE5hbWUsIFwiMFwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgZml4RmxvYXRTaXplQW5kUG9zaXRpb24obm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgd2hpbGUgKG5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgbm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQ7XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KG5vZGVDb250ZXh0LnZpZXdOb2RlLm5vZGVUeXBlID09PSAxKTtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIHRoaXMucm9vdFZpZXdOb2Rlcy5wdXNoKHJvb3RWaWV3Tm9kZSk7XG4gICAgaWYgKHRoaXMuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSkge1xuICAgICAgdGhpcy5jb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeChyb290Vmlld05vZGUpO1xuICAgIH1cbiAgICB0aGlzLmZsb2F0TWFyZ2lucy5wdXNoKHRoaXMuZ2V0Q29tcHV0ZWRNYXJnaW4ocm9vdFZpZXdOb2RlKSk7XG4gICAgaWYgKHRoaXMuYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSkge1xuICAgICAgY29uc3QgZmxvYXRTaWRlID0gdGhpcy5mbG9hdFNpZGU7XG4gICAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5wYXJlbnRDb250YWluZXIudmVydGljYWw7XG4gICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBpZiAoZmxvYXRTaWRlID09PSBcImJsb2NrLWVuZFwiIHx8IGZsb2F0U2lkZSA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBCYXNlLmdldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJoZWlnaHRcIik7XG4gICAgICAgICAgaWYgKGhlaWdodCAhPT0gXCJcIiAmJiBoZWlnaHQgIT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJtYXJnaW4tdG9wXCIsIFwiYXV0b1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmbG9hdFNpZGUgPT09IFwiYmxvY2stZW5kXCIgfHwgZmxvYXRTaWRlID09PSBcImJvdHRvbVwiKSB7XG4gICAgICAgICAgY29uc3Qgd2lkdGggPSBCYXNlLmdldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJ3aWR0aFwiKTtcbiAgICAgICAgICBpZiAod2lkdGggIT09IFwiXCIgJiYgd2lkdGggIT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJvb3RWaWV3Tm9kZSwgXCJtYXJnaW4tbGVmdFwiLCBcImF1dG9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0Q29udGVudElubGluZVNpemUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5yb290Vmlld05vZGVzLm1hcCgociwgaSkgPT4ge1xuICAgICAgICBjb25zdCBib3ggPSB0aGlzLmNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChyKTtcbiAgICAgICAgY29uc3QgbWFyZ2luID0gdGhpcy5mbG9hdE1hcmdpbnNbaV07XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBtYXJnaW4udG9wICsgYm94LmhlaWdodCArIG1hcmdpbi5ib3R0b21cbiAgICAgICAgICA6IG1hcmdpbi5sZWZ0ICsgYm94LndpZHRoICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgfSksXG4gICAgKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgUmVwZXRpdGl2ZUVsZW1lbnQgLSBFbGVtZW50cyByZXBlYXRlZCBpbiBldmVyeSBmcmFnbWVudFxuICogYnkgcmVwZWF0LW9uLWJyZWFrIHByb3BlcnR5LlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UmV0cnllcnMgZnJvbSBcIi4vbGF5b3V0LXJldHJ5ZXJzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRVdGlsIGZyb20gXCIuL2xheW91dC11dGlsXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBTaGFyZWQgZnJvbSBcIi4vc2hhcmVkXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZ0cmVlSW1wbCBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0IHtcbiAgRm9ybWF0dGluZ0NvbnRleHRUeXBlLFxuICBGcmFnbWVudExheW91dENvbnN0cmFpbnRUeXBlLFxuICBMYXlvdXQgYXMgTGF5b3V0VHlwZSxcbiAgUmVwZXRpdGl2ZUVsZW1lbnQsXG4gIFRhYmxlLFxuICBWdHJlZSxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNsYXNzIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRcbiAgaW1wbGVtZW50cyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIlJlcGV0aXRpdmVFbGVtZW50c093bmVyXCI7XG4gIGlzUm9vdDogYm9vbGVhbiA9IGZhbHNlO1xuICByZXBldGl0aXZlRWxlbWVudHM6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50cyA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RTb3VyY2VOb2RlOiBFbGVtZW50LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIlJlcGV0aXRpdmUgZWxlbWVudHMgb3duZXIgZm9ybWF0dGluZyBjb250ZXh0IChSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmlyc3RUaW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UGFyZW50KCk6IFZ0cmVlLkZvcm1hdHRpbmdDb250ZXh0IHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gIH1cblxuICBnZXRSZXBldGl0aXZlRWxlbWVudHMoKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgICByZXR1cm4gdGhpcy5yZXBldGl0aXZlRWxlbWVudHM7XG4gIH1cblxuICBnZXRSb290Vmlld05vZGUocG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0KTogRWxlbWVudCB8IG51bGwge1xuICAgIGNvbnN0IHJvb3QgPSB0aGlzLmdldFJvb3ROb2RlQ29udGV4dChwb3NpdGlvbik7XG4gICAgcmV0dXJuIHJvb3QgPyAocm9vdC52aWV3Tm9kZSBhcyBFbGVtZW50KSA6IG51bGw7XG4gIH1cblxuICBnZXRSb290Tm9kZUNvbnRleHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsIHtcbiAgICBkbyB7XG4gICAgICBpZiAoXG4gICAgICAgICFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcykgJiZcbiAgICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT0gdGhpcy5yb290U291cmNlTm9kZVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBub2RlQ29udGV4dDtcbiAgICAgIH1cbiAgICB9IHdoaWxlICgobm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5wYXJlbnQpKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHModmVydGljYWw6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5yZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZm91bmQgPSBTaGFyZWQucmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUuc29tZSgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS5yb290ID09PSB0aGlzLnJvb3RTb3VyY2VOb2RlKSB7XG4gICAgICAgIHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzID0gZW50cnkuZWxlbWVudHM7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICAgIGlmICghZm91bmQpIHtcbiAgICAgIHRoaXMucmVwZXRpdGl2ZUVsZW1lbnRzID0gbmV3IFJlcGV0aXRpdmVFbGVtZW50cyhcbiAgICAgICAgdmVydGljYWwsXG4gICAgICAgIHRoaXMucm9vdFNvdXJjZU5vZGUsXG4gICAgICApO1xuICAgICAgU2hhcmVkLnJlcGV0aXRpdmVFbGVtZW50c0NhY2hlLnB1c2goe1xuICAgICAgICByb290OiB0aGlzLnJvb3RTb3VyY2VOb2RlLFxuICAgICAgICBlbGVtZW50czogdGhpcy5yZXBldGl0aXZlRWxlbWVudHMsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHNhdmVTdGF0ZSgpOiBhbnkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIHJlc3RvcmVTdGF0ZShzdGF0ZTogYW55KSB7fVxufVxuXG5leHBvcnQgdHlwZSBFbGVtZW50c09mZnNldCA9IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0O1xuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzXG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgcHJpdmF0ZSBoZWFkZXJTb3VyY2VOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZm9vdGVyU291cmNlTm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGhlYWRlclZpZXdOb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZm9vdGVyVmlld05vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBoZWFkZXJOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGZvb3Rlck5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgaGVhZGVySGVpZ2h0OiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGZvb3RlckhlaWdodDogbnVtYmVyID0gMDtcbiAgaXNTa2lwSGVhZGVyOiBib29sZWFuID0gZmFsc2U7XG4gIGlzU2tpcEZvb3RlcjogYm9vbGVhbiA9IGZhbHNlO1xuICBlbmFibGVTa2lwcGluZ0Zvb3RlcjogYm9vbGVhbiA9IHRydWU7XG4gIGVuYWJsZVNraXBwaW5nSGVhZGVyOiBib29sZWFuID0gdHJ1ZTtcbiAgZG9uZUluaXRpYWxMYXlvdXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZmlyc3RDb250ZW50U291cmNlTm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICBsYXN0Q29udGVudFNvdXJjZU5vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBhZmZlY3RlZE5vZGVDYWNoZToge1xuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgICByZXN1bHQ6IGJvb2xlYW47XG4gIH1bXSA9IFtdO1xuICBwcml2YXRlIGFmdGVyTGFzdENvbnRlbnROb2RlQ2FjaGU6IHtcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG4gICAgcmVzdWx0OiBib29sZWFuO1xuICB9W10gPSBbXTtcbiAgYWxsb3dJbnNlcnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgYWxsb3dJbnNlcnRSZXBlYXRpdGl2ZUVsZW1lbnRzOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgdmVydGljYWw6IGJvb2xlYW4sXG4gICAgcHVibGljIG93bmVyU291cmNlTm9kZTogRWxlbWVudCxcbiAgKSB7fVxuXG4gIHNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIGlmICh0aGlzLmhlYWRlck5vZGVQb3NpdGlvbikge1xuICAgICAgcmV0dXJuOyAvLyB1c2UgZmlyc3Qgb25lLlxuICAgIH1cbiAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbiA9IFZ0cmVlSW1wbC5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQoXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLmhlYWRlclNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQ7XG4gICAgdGhpcy5oZWFkZXJWaWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gIH1cblxuICBzZXRGb290ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAodGhpcy5mb290ZXJOb2RlUG9zaXRpb24pIHtcbiAgICAgIHJldHVybjsgLy8gdXNlIGZpcnN0IG9uZS5cbiAgICB9XG4gICAgdGhpcy5mb290ZXJOb2RlUG9zaXRpb24gPSBWdHJlZUltcGwubmV3Tm9kZVBvc2l0aW9uRnJvbU5vZGVDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5mb290ZXJTb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgIHRoaXMuZm9vdGVyVmlld05vZGUgPSBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICB9XG5cbiAgdXBkYXRlSGVpZ2h0KGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4pIHtcbiAgICBpZiAodGhpcy5oZWFkZXJWaWV3Tm9kZSkge1xuICAgICAgdGhpcy5oZWFkZXJIZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICAgICAgdGhpcy5oZWFkZXJWaWV3Tm9kZSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIHRoaXMuaGVhZGVyVmlld05vZGUgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5mb290ZXJWaWV3Tm9kZSkge1xuICAgICAgdGhpcy5mb290ZXJIZWlnaHQgPSBMYXlvdXRIZWxwZXIuZ2V0RWxlbWVudEhlaWdodChcbiAgICAgICAgdGhpcy5mb290ZXJWaWV3Tm9kZSxcbiAgICAgICAgY29sdW1uLFxuICAgICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgKTtcbiAgICAgIHRoaXMuZm9vdGVyVmlld05vZGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIHByZXBhcmVMYXlvdXRGcmFnbWVudCgpIHtcbiAgICB0aGlzLmlzU2tpcEhlYWRlciA9IHRoaXMuaXNTa2lwRm9vdGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciA9IHRydWU7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciA9IHRydWU7XG4gIH1cblxuICBhcHBlbmRIZWFkZXJUb0ZyYWdtZW50KFxuICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICghdGhpcy5oZWFkZXJOb2RlUG9zaXRpb24gfHwgdGhpcy5pc1NraXBIZWFkZXIpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXBwZW5kRWxlbWVudFRvRnJhZ21lbnQoXG4gICAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbixcbiAgICAgIHJvb3ROb2RlQ29udGV4dCxcbiAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICBjb2x1bW4sXG4gICAgKTtcbiAgfVxuXG4gIGFwcGVuZEZvb3RlclRvRnJhZ21lbnQoXG4gICAgcm9vdE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKCF0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbiB8fCB0aGlzLmlzU2tpcEZvb3Rlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5hcHBlbmRFbGVtZW50VG9GcmFnbWVudChcbiAgICAgIHRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uLFxuICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICAgZmlyc3RDaGlsZCxcbiAgICAgIGNvbHVtbixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5cbiAgICovXG4gIGFwcGVuZEVsZW1lbnRUb0ZyYWdtZW50KFxuICAgIG5vZGVQb3NpdGlvbjogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIHJvb3ROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGRvYyA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZS5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHZpZXdSb290ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgcm9vdFZpZXdOb2RlLmFwcGVuZENoaWxkKHZpZXdSb290KTtcbiAgICBjb25zdCBwc2V1ZG9Db2x1bW4gPSBuZXcgTGF5b3V0LlBzZXVkb0NvbHVtbihcbiAgICAgIGNvbHVtbixcbiAgICAgIHZpZXdSb290LFxuICAgICAgcm9vdE5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgaW5pdGlhbFBhZ2VCcmVha1R5cGUgPSBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZTtcbiAgICBwc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCkucGFnZUJyZWFrVHlwZSA9IG51bGw7XG4gICAgdGhpcy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgPSB0cnVlO1xuICAgIHJldHVybiBwc2V1ZG9Db2x1bW5cbiAgICAgIC5sYXlvdXQobmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKG5vZGVQb3NpdGlvbiksIHRydWUpXG4gICAgICAudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgdGhpcy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgPSBmYWxzZTtcbiAgICAgICAgcm9vdFZpZXdOb2RlLnJlbW92ZUNoaWxkKHZpZXdSb290KTtcbiAgICAgICAgdGhpcy5tb3ZlQ2hpbGRyZW4odmlld1Jvb3QsIHJvb3RWaWV3Tm9kZSwgZmlyc3RDaGlsZCk7XG4gICAgICAgIHBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKS5wYWdlQnJlYWtUeXBlID0gaW5pdGlhbFBhZ2VCcmVha1R5cGU7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgbW92ZUNoaWxkcmVuKGZyb206IEVsZW1lbnQsIHRvOiBFbGVtZW50LCBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCkge1xuICAgIGlmICghdG8pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2hpbGUgKGZyb20uZmlyc3RDaGlsZCkge1xuICAgICAgY29uc3QgY2hpbGQgPSBmcm9tLmZpcnN0Q2hpbGQ7XG4gICAgICBmcm9tLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgIChjaGlsZCBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGUoVnRyZWVJbXBsLlNQRUNJQUxfQVRUUiwgXCIxXCIpO1xuICAgICAgaWYgKGZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdG8uaW5zZXJ0QmVmb3JlKGNoaWxkLCBmaXJzdENoaWxkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIGlmIChub2RlQ29udGV4dCAmJiAhdGhpcy5hZmZlY3RUbyhub2RlQ29udGV4dCkpIHtcbiAgICAgIHJldHVybiBvZmZzZXQ7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICF0aGlzLmlzU2tpcEZvb3RlciB8fFxuICAgICAgKG5vZGVDb250ZXh0ICYmIHRoaXMuaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0KSlcbiAgICApIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmZvb3RlckhlaWdodDtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmlzU2tpcEhlYWRlcikge1xuICAgICAgb2Zmc2V0ICs9IHRoaXMuaGVhZGVySGVpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gb2Zmc2V0O1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBjYWxjdWxhdGVNaW5pbXVtT2Zmc2V0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IG51bWJlciB7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmICF0aGlzLmFmZmVjdFRvKG5vZGVDb250ZXh0KSkge1xuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG4gICAgaWYgKG5vZGVDb250ZXh0ICYmIHRoaXMuaXNBZnRlckxhc3RDb250ZW50KG5vZGVDb250ZXh0KSkge1xuICAgICAgb2Zmc2V0ICs9IHRoaXMuZm9vdGVySGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoIXRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIpIHtcbiAgICAgIG9mZnNldCArPSB0aGlzLmhlYWRlckhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIGlzQWZ0ZXJMYXN0Q29udGVudChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUmVzdWx0RnJvbUNhY2hlKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICB0aGlzLmFmdGVyTGFzdENvbnRlbnROb2RlQ2FjaGUsXG4gICAgICAobmMpID0+XG4gICAgICAgIHRoaXMuaXNBZnRlck5vZGVDb250ZXh0T2YoXG4gICAgICAgICAgdGhpcy5sYXN0Q29udGVudFNvdXJjZU5vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBhZmZlY3RUbyhub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5maW5kUmVzdWx0RnJvbUNhY2hlKG5vZGVDb250ZXh0LCB0aGlzLmFmZmVjdGVkTm9kZUNhY2hlLCAobmMpID0+XG4gICAgICB0aGlzLmlzQWZ0ZXJOb2RlQ29udGV4dE9mKHRoaXMub3duZXJTb3VyY2VOb2RlLCBub2RlQ29udGV4dCwgdHJ1ZSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZFJlc3VsdEZyb21DYWNoZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY2FjaGU6IHsgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0OyByZXN1bHQ6IGJvb2xlYW4gfVtdLFxuICAgIGNhbGN1bGF0b3I6IChwMTogVnRyZWUuTm9kZUNvbnRleHQpID0+IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhY2hlRW50cnkgPSBjYWNoZS5maWx0ZXIoXG4gICAgICAoY2FjaGUpID0+XG4gICAgICAgIGNhY2hlLm5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgJiZcbiAgICAgICAgY2FjaGUubm9kZUNvbnRleHQuYWZ0ZXIgPT09IG5vZGVDb250ZXh0LmFmdGVyLFxuICAgICk7XG4gICAgaWYgKGNhY2hlRW50cnkubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGNhY2hlRW50cnlbMF0ucmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdG9yKG5vZGVDb250ZXh0KTtcbiAgICAgIGNhY2hlLnB1c2goeyBub2RlQ29udGV4dCwgcmVzdWx0IH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGlzQWZ0ZXJOb2RlQ29udGV4dE9mKFxuICAgIG5vZGU6IEVsZW1lbnQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluY2x1ZGVDaGlsZHJlbjogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcGFyZW50c09mTm9kZSA9IFtdO1xuICAgIGZvciAobGV0IG46IE5vZGUgfCBudWxsID0gbm9kZTsgbjsgbiA9IG4ucGFyZW50Tm9kZSkge1xuICAgICAgaWYgKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT09IG4pIHtcbiAgICAgICAgcmV0dXJuIG5vZGVDb250ZXh0LmFmdGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50c09mTm9kZS5wdXNoKG4pO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKFxuICAgICAgbGV0IGN1cnJlbnRQYXJlbnQ6IE5vZGUgfCBudWxsID0gbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICAgIGN1cnJlbnRQYXJlbnQ7XG4gICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5wYXJlbnROb2RlXG4gICAgKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHBhcmVudHNPZk5vZGUuaW5kZXhPZihjdXJyZW50UGFyZW50KTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBpbmNsdWRlQ2hpbGRyZW4gPyBpbmRleCA9PT0gMCA6IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBsZXQgY3VycmVudDogRWxlbWVudCB8IG51bGwgPSBjdXJyZW50UGFyZW50IGFzIEVsZW1lbnQ7XG4gICAgICAgICAgY3VycmVudDtcbiAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChwYXJlbnRzT2ZOb2RlLmluY2x1ZGVzKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGVDb250ZXh0LmFmdGVyO1xuICB9XG5cbiAgaXNGaXJzdENvbnRlbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAoXG4gICAgICBub2RlQ29udGV4dCAmJiB0aGlzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUgPT09IG5vZGVDb250ZXh0LnNvdXJjZU5vZGVcbiAgICApO1xuICB9XG5cbiAgaXNFbmFibGVUb1VwZGF0ZVN0YXRlKCk6IGJvb2xlYW4ge1xuICAgIGlmIChcbiAgICAgICghdGhpcy5pc1NraXBGb290ZXIgJiZcbiAgICAgICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciAmJlxuICAgICAgICB0aGlzLmZvb3Rlck5vZGVQb3NpdGlvbikgfHxcbiAgICAgICghdGhpcy5pc1NraXBIZWFkZXIgJiZcbiAgICAgICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciAmJlxuICAgICAgICB0aGlzLmhlYWRlck5vZGVQb3NpdGlvbilcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU3RhdGUoKSB7XG4gICAgaWYgKFxuICAgICAgIXRoaXMuaXNTa2lwRm9vdGVyICYmXG4gICAgICB0aGlzLmVuYWJsZVNraXBwaW5nRm9vdGVyICYmXG4gICAgICB0aGlzLmZvb3Rlck5vZGVQb3NpdGlvblxuICAgICkge1xuICAgICAgdGhpcy5pc1NraXBGb290ZXIgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICAhdGhpcy5pc1NraXBIZWFkZXIgJiZcbiAgICAgIHRoaXMuZW5hYmxlU2tpcHBpbmdIZWFkZXIgJiZcbiAgICAgIHRoaXMuaGVhZGVyTm9kZVBvc2l0aW9uXG4gICAgKSB7XG4gICAgICB0aGlzLmlzU2tpcEhlYWRlciA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJldmVudFNraXBwaW5nSGVhZGVyKCkge1xuICAgIHRoaXMuaXNTa2lwSGVhZGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0hlYWRlciA9IGZhbHNlO1xuICB9XG5cbiAgcHJldmVudFNraXBwaW5nRm9vdGVyKCkge1xuICAgIHRoaXMuaXNTa2lwRm9vdGVyID0gZmFsc2U7XG4gICAgdGhpcy5lbmFibGVTa2lwcGluZ0Zvb3RlciA9IGZhbHNlO1xuICB9XG5cbiAgaXNIZWFkZXJSZWdpc3RlcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuaGVhZGVyTm9kZVBvc2l0aW9uO1xuICB9XG5cbiAgaXNGb290ZXJSZWdpc3RlcmVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuZm9vdGVyTm9kZVBvc2l0aW9uO1xuICB9XG5cbiAgaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkZXJTb3VyY2VOb2RlID09PSBub2RlO1xuICB9XG5cbiAgaXNGb290ZXJTb3VyY2VOb2RlKG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mb290ZXJTb3VyY2VOb2RlID09PSBub2RlO1xuICB9XG59XG5cbi8qKlxuICogQGFic3RyYWN0XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBMYXlvdXRFbnRpcmVCbG9jayBpbXBsZW1lbnRzIExheW91dFR5cGUuTGF5b3V0TW9kZSB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgKSB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFic3RyYWN0IGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD47XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIW5vZGVDb250ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcG9zdExheW91dChcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgYWNjZXB0ZWQ6IGJvb2xlYW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQoY29sdW1uLmNsaWVudExheW91dCk7XG4gICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5kb25lSW5pdGlhbExheW91dCkge1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMudXBkYXRlSGVpZ2h0KGNvbHVtbik7XG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5kb25lSW5pdGlhbExheW91dCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhY2NlcHRlZDtcbiAgfVxufVxuXG4vKipcbiAqIEBhYnN0cmFjdFxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0RnJhZ21lbnRlZEJsb2NrIGltcGxlbWVudHMgTGF5b3V0VHlwZS5MYXlvdXRNb2RlIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICApIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWJzdHJhY3QgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PjtcblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhY2NlcHQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwb3N0TGF5b3V0KFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBhY2NlcHRlZDogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGFjY2VwdGVkO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRFbnRpcmVPd25lckJsb2NrIGV4dGVuZHMgTGF5b3V0RW50aXJlQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgLy8gRklYTUU6IExheW91dEVudGlyZUJsb2NrLnByb3RvdHlwZS5kb0xheW91dCBpcyB1bmRlZmluZWQgYmVjYXVzZSBpdCdzIGFic3RyYWN0IG1ldGhvZC5cbiAgICAvLyAgICAgICAgUHJvYmFibHksIHJlbW92aW5nIHRoaXMgY2FsbCBpcyBvay5cbiAgICAvLyBMYXlvdXRFbnRpcmVCbG9jay5wcm90b3R5cGUuZG9MYXlvdXQuY2FsbCh0aGlzLCBub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgICByZXR1cm4gdGhpcy5wcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0KG5vZGVDb250ZXh0LCBjb2x1bW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWNjZXB0KG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCwgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGF5b3V0RnJhZ21lbnRlZE93bmVyQmxvY2sgZXh0ZW5kcyBMYXlvdXRGcmFnbWVudGVkQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKCFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5mb3JtYXR0aW5nQ29udGV4dCkgJiYgIW5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICBjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy51bnNoaWZ0KFxuICAgICAgICBuZXcgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50KG5vZGVDb250ZXh0KSxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb2Nlc3Nvci5kb0xheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50IHtcbiAgZmxhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZTogRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50VHlwZSA9XG4gICAgXCJSZXBldGl0aXZlRWxlbWVudHNPd25lclwiO1xuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQ7XG5cbiAgY29uc3RydWN0b3Iobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLm5vZGVDb250ZXh0ID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBib29sZWFuIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbih0aGlzLm5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRW5hYmxlVG9VcGRhdGVTdGF0ZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG92ZXJmbG93bk5vZGVDb250ZXh0ICYmICFub2RlQ29udGV4dCkgfHxcbiAgICAgIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5vdmVyZmxvdylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cy5pc0VuYWJsZVRvVXBkYXRlU3RhdGUoKSkge1xuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnVwZGF0ZVN0YXRlKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcG9zdExheW91dChcbiAgICBhbGxvd2VkOiBib29sZWFuLFxuICAgIHBvc2l0aW9uQWZ0ZXI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYWxsb3dlZCkge1xuICAgICAgaWYgKGNvbHVtbi5zdG9wQXRPdmVyZmxvdykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcG9zaXRpb25BZnRlciA9PSBudWxsIHx8XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzQWZ0ZXJMYXN0Q29udGVudChwb3NpdGlvbkFmdGVyKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHJldmVudFNraXBwaW5nRm9vdGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGZpbmlzaEJyZWFrKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3Qgcm9vdE5vZGVDb250ZXh0ID0gdGhpcy5ub2RlQ29udGV4dDtcbiAgICByZXR1cm4gYXBwZW5kSGVhZGVyKGZvcm1hdHRpbmdDb250ZXh0LCByb290Tm9kZUNvbnRleHQsIGNvbHVtbikudGhlbkFzeW5jKFxuICAgICAgKCkgPT5cbiAgICAgICAgYXBwZW5kRm9vdGVyKGZvcm1hdHRpbmdDb250ZXh0LCByb290Tm9kZUNvbnRleHQsIGNvbHVtbikudGhlbkFzeW5jKFxuICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5wcmVwYXJlTGF5b3V0RnJhZ21lbnQoKTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICk7XG4gIH1cblxuICBnZXRSZXBldGl0aXZlRWxlbWVudHMoKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBlcXVhbHNUbyhjb25zdHJhaW50OiBMYXlvdXRUeXBlLkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCk6IGJvb2xlYW4ge1xuICAgIGlmICghKGNvbnN0cmFpbnQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgKSA9PT1cbiAgICAgIGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgIGNvbnN0cmFpbnQubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDEwO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIgZXh0ZW5kcyBMYXlvdXRSZXRyeWVycy5BYnN0cmFjdExheW91dFJldHJ5ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHJpdmF0ZSByZWFkb25seSBwcm9jZXNzb3I6IFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0UHJvY2Vzc29yLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVzb2x2ZUxheW91dE1vZGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogTGF5b3V0VHlwZS5MYXlvdXRNb2RlIHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmIChcbiAgICAgICFub2RlQ29udGV4dC5iZWxvbmdzVG8odGhpcy5mb3JtYXR0aW5nQ29udGV4dCkgJiZcbiAgICAgICFyZXBldGl0aXZlRWxlbWVudHMuZG9uZUluaXRpYWxMYXlvdXRcbiAgICApIHtcbiAgICAgIHJldHVybiBuZXcgTGF5b3V0RW50aXJlT3duZXJCbG9jayh0aGlzLmZvcm1hdHRpbmdDb250ZXh0LCB0aGlzLnByb2Nlc3Nvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcbiAgICAgICAgIW5vZGVDb250ZXh0LmJlbG9uZ3NUbyh0aGlzLmZvcm1hdHRpbmdDb250ZXh0KSAmJlxuICAgICAgICAhbm9kZUNvbnRleHQuYWZ0ZXJcbiAgICAgICkge1xuICAgICAgICBpZiAocmVwZXRpdGl2ZUVsZW1lbnRzKSB7XG4gICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnByZXZlbnRTa2lwcGluZ0hlYWRlcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExheW91dEZyYWdtZW50ZWRPd25lckJsb2NrKFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICB0aGlzLnByb2Nlc3NvcixcbiAgICAgICk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5IGV4dGVuZHMgTGF5b3V0VXRpbC5FZGdlU2tpcHBlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUoXG4gICAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgKTogdm9pZCB8IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoXG4gICAgICBub2RlQ29udGV4dC5wYXJlbnQgJiZcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LnJvb3RTb3VyY2VOb2RlID09PSBub2RlQ29udGV4dC5wYXJlbnQuc291cmNlTm9kZVxuICAgICkge1xuICAgICAgc3dpdGNoIChub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrKSB7XG4gICAgICAgIGNhc2UgXCJoZWFkZXJcIjpcbiAgICAgICAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc0hlYWRlclJlZ2lzdGVyZWQoKSkge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnNldEhlYWRlck5vZGVDb250ZXh0KG5vZGVDb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQucmVwZWF0T25CcmVhayA9IFwibm9uZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZvb3RlclwiOlxuICAgICAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRm9vdGVyUmVnaXN0ZXJlZCgpKSB7XG4gICAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuc2V0Rm9vdGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID0gXCJub25lXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSkge1xuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSA9IG5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIExheW91dFV0aWwuRWRnZVNraXBwZXIucHJvdG90eXBlLnN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUuY2FsbChcbiAgICAgIHRoaXMsXG4gICAgICBzdGF0ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZShcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiB2b2lkIHwgVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGlmIChub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSBmb3JtYXR0aW5nQ29udGV4dC5yb290U291cmNlTm9kZSkge1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCkubGFzdENvbnRlbnRTb3VyY2VOb2RlID1cbiAgICAgICAgc3RhdGUubGFzdEFmdGVyTm9kZUNvbnRleHQgJiZcbiAgICAgICAgKHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0LnNvdXJjZU5vZGUgYXMgRWxlbWVudCk7XG4gICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIG5vZGVDb250ZXh0LnJlcGVhdE9uQnJlYWsgPT09IFwiaGVhZGVyXCIgfHxcbiAgICAgIG5vZGVDb250ZXh0LnJlcGVhdE9uQnJlYWsgPT09IFwiZm9vdGVyXCJcbiAgICApIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIExheW91dFV0aWwuRWRnZVNraXBwZXIucHJvdG90eXBlLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnJhZ21lbnRlZEJsb2NrTGF5b3V0U3RyYXRlZ3kgZXh0ZW5kcyBMYXlvdXRVdGlsLkVkZ2VTa2lwcGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFByb2Nlc3NvclxuICBleHRlbmRzIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3NvclxuICBpbXBsZW1lbnRzIExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3Ige1xuICBsYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgaWYgKGNvbHVtbi5pc0Zsb2F0Tm9kZUNvbnRleHQobm9kZUNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gY29sdW1uLmxheW91dEZsb2F0T3JGb290bm90ZShub2RlQ29udGV4dCk7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKG5vZGVDb250ZXh0KTtcbiAgICBpZiAoIXJvb3RWaWV3Tm9kZSkge1xuICAgICAgcmV0dXJuIGNvbHVtbi5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChsZWFkaW5nRWRnZSkge1xuICAgICAgICBhcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyhub2RlQ29udGV4dC5wYXJlbnQsIGNvbHVtbik7XG4gICAgICB9XG4gICAgICBpZiAoIW5vZGVDb250ZXh0LmJlbG9uZ3NUbyhmb3JtYXR0aW5nQ29udGV4dCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dFJldHJ5ZXIoXG4gICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgKS5sYXlvdXQobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gTGF5b3V0UHJvY2Vzc29yLkJsb2NrTGF5b3V0UHJvY2Vzc29yLnByb3RvdHlwZS5sYXlvdXQuY2FsbChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICBsZWFkaW5nRWRnZSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dE9yTnVsbChcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgJiZcbiAgICAgIChyZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpIHx8XG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5pc0Zvb3RlclNvdXJjZU5vZGUobm9kZUNvbnRleHQuc291cmNlTm9kZSkpXG4gICAgKSB7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZG9Jbml0aWFsTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5Ob2RlQ29udGV4dD4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiQmxvY2tMYXlvdXRQcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0XCIsXG4gICAgKTtcbiAgICB0aGlzLmxheW91dEVudGlyZUJsb2NrKG5vZGVDb250ZXh0LCBjb2x1bW4pLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgbGF5b3V0RW50aXJlQmxvY2soXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBFbnRpcmVCbG9ja0xheW91dFN0cmF0ZWd5KGZvcm1hdHRpbmdDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IoXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLml0ZXJhdGUobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwiZG9MYXlvdXRcIik7XG4gICAgY29uc3QgY29udCA9IGNvbHVtbi5sYXlvdXRDb250ZXh0Lm5leHRJblRyZWUobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICBMYXlvdXQucHJvY2Vzc0FmdGVySWZDb250aW51ZXMoY29udCwgY29sdW1uKS50aGVuKChyZXNOb2RlQ29udGV4dCkgPT4ge1xuICAgICAgbGV0IG5leHROb2RlQ29udGV4dCA9IHJlc05vZGVDb250ZXh0O1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIHdoaWxlIChuZXh0Tm9kZUNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCBwZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbHVtblxuICAgICAgICAgICAgICAubGF5b3V0TmV4dChuZXh0Tm9kZUNvbnRleHQsIGZhbHNlKVxuICAgICAgICAgICAgICAudGhlbigobm9kZUNvbnRleHRQYXJhbSkgPT4ge1xuICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0UGFyYW07XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICBjb2x1bW4uc3RvcEJ5T3ZlcmZsb3cobmV4dE5vZGVDb250ZXh0KVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpOyAvLyBMb29wIGVuZFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICBuZXh0Tm9kZUNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgIG5leHROb2RlQ29udGV4dC5hZnRlciAmJlxuICAgICAgICAgICAgICAgICAgbmV4dE5vZGVDb250ZXh0LnNvdXJjZU5vZGUgPT0gZm9ybWF0dGluZ0NvbnRleHQucm9vdFNvdXJjZU5vZGVcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTsgLy8gTG9vcCBlbmRcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3luYyBjYXNlXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFzeW5jIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAvLyBBc3luYyBjYXNlIGFuZCBsb29wIGVuZFxuICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTeW5jIGNhc2VcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobmV4dE5vZGVDb250ZXh0KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgZm9yY2VSZW1vdmVTZWxmOiBib29sZWFuLFxuICAgIGVuZE9mQ29sdW1uOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB8IG51bGwge1xuICAgIHJldHVybiBMYXlvdXRQcm9jZXNzb3IuQmxvY2tMYXlvdXRQcm9jZXNzb3IucHJvdG90eXBlLmZpbmlzaEJyZWFrLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgY29sdW1uLFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JjZVJlbW92ZVNlbGYsXG4gICAgICBlbmRPZkNvbHVtbixcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICkge1xuICAgIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3Nvci5wcm90b3R5cGUuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICBjb2x1bW4sXG4gICAgICBwYXJlbnROb2RlQ29udGV4dCxcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZixcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVhY2hBbmNlc3Rvck5vZGVDb250ZXh0KFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gIGNhbGxiYWNrOiAoXG4gICAgcDE6IFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcDI6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApID0+IGFueSxcbik6IHZvaWQge1xuICBmb3IgKGxldCBuYyA9IG5vZGVDb250ZXh0OyBuYzsgbmMgPSBuYy5wYXJlbnQpIHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IG5jLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGlmIChcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQgJiZcbiAgICAgICFuYy5iZWxvbmdzVG8oZm9ybWF0dGluZ0NvbnRleHQpXG4gICAgKSB7XG4gICAgICBjYWxsYmFjayhmb3JtYXR0aW5nQ29udGV4dCwgbmMpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kSGVhZGVyVG9BbmNlc3RvcnMoXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbik6IHZvaWQge1xuICBpZiAoIW5vZGVDb250ZXh0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVhY2hBbmNlc3Rvck5vZGVDb250ZXh0KFxuICAgIG5vZGVDb250ZXh0LmFmdGVyID8gbm9kZUNvbnRleHQucGFyZW50IDogbm9kZUNvbnRleHQsXG4gICAgKGZvcm1hdHRpbmdDb250ZXh0LCBuYykgPT4ge1xuICAgICAgaWYgKFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnB1c2goXG4gICAgICAgIG5ldyBSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQobmMpLFxuICAgICAgKTtcbiAgICB9LFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kSGVhZGVyKFxuICBmb3JtYXR0aW5nQ29udGV4dDogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCxcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgaWYgKHJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgIGNvbnN0IHJvb3ROb2RlQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3ROb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgaWYgKHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgY29uc3QgZmlyc3RDaGlsZCA9IHJvb3ROb2RlQ29udGV4dC52aWV3Tm9kZS5maXJzdENoaWxkO1xuICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cy5hcHBlbmRIZWFkZXJUb0ZyYWdtZW50KFxuICAgICAgICByb290Tm9kZUNvbnRleHQsXG4gICAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICAgIGNvbHVtbixcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZEZvb3RlcihcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gIGlmIChyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cy5pc1NraXBGb290ZXIpIHtcbiAgICAgIGNvbnN0IHJvb3ROb2RlQ29udGV4dCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3ROb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgICBpZiAocm9vdE5vZGVDb250ZXh0LnZpZXdOb2RlKSB7XG4gICAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHMuYXBwZW5kRm9vdGVyVG9GcmFnbWVudChcbiAgICAgICAgICByb290Tm9kZUNvbnRleHQsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dE9yTnVsbChcbiAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuKTogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCB8IG51bGwge1xuICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0O1xuICBpZiAoIWZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKFxuICAgICEoZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KVxuICApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZm9ybWF0dGluZ0NvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGdldFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQoXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbik6IFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQge1xuICBBc3NlcnRzLmFzc2VydChcbiAgICBmb3JtYXR0aW5nQ29udGV4dCBpbnN0YW5jZW9mIFJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQsXG4gICk7XG4gIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dCBhcyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0O1xufVxuXG5jb25zdCByZXBldGl0aXZlTGF5b3V0UHJvY2Vzc29yID0gbmV3IFJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0UHJvY2Vzc29yKCk7XG5cblBsdWdpbi5yZWdpc3Rlckhvb2soXG4gIFBsdWdpbi5IT09LUy5SRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IsXG4gIChmb3JtYXR0aW5nQ29udGV4dCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCAmJlxuICAgICAgIVRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlRm9ybWF0dGluZ0NvbnRleHQoZm9ybWF0dGluZ0NvbnRleHQpXG4gICAgKSB7XG4gICAgICByZXR1cm4gcmVwZXRpdGl2ZUxheW91dFByb2Nlc3NvcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgVGFibGUgLSBUYWJsZSBmb3JtYXR0aW5nIGNvbnRleHQgYW5kIGxheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIEJyZWFrUG9zaXRpb24gZnJvbSBcIi4vYnJlYWstcG9zaXRpb25cIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIExheW91dEhlbHBlciBmcm9tIFwiLi9sYXlvdXQtaGVscGVyXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRQcm9jZXNzb3IgZnJvbSBcIi4vbGF5b3V0LXByb2Nlc3NvclwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UmV0cnllcnMgZnJvbSBcIi4vbGF5b3V0LXJldHJ5ZXJzXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXRVdGlsIGZyb20gXCIuL2xheW91dC11dGlsXCI7XG5pbXBvcnQgKiBhcyBQbHVnaW4gZnJvbSBcIi4vcGx1Z2luXCI7XG5pbXBvcnQgKiBhcyBSZXBldGl0aXZlRWxlbWVudEltcGwgZnJvbSBcIi4vcmVwZXRpdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWVJbXBsIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgKiBhcyBMYXlvdXQgZnJvbSBcIi4vbGF5b3V0XCI7XG5pbXBvcnQge1xuICBGb3JtYXR0aW5nQ29udGV4dFR5cGUsXG4gIEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUsXG4gIExheW91dCBhcyBMYXlvdXRUeXBlLFxuICBSZXBldGl0aXZlRWxlbWVudCxcbiAgVGFibGUsXG4gIFZ0cmVlLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuXG5leHBvcnQgY2xhc3MgVGFibGVSb3cge1xuICBjZWxsczogVGFibGVDZWxsW10gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgc291cmNlTm9kZTogTm9kZSxcbiAgKSB7fVxuXG4gIGFkZENlbGwoY2VsbDogVGFibGVDZWxsKSB7XG4gICAgdGhpcy5jZWxscy5wdXNoKGNlbGwpO1xuICB9XG5cbiAgZ2V0TWluaW11bUhlaWdodCgpOiBudW1iZXIge1xuICAgIHJldHVybiBNYXRoLm1pbi5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLmNlbGxzLm1hcCgoYykgPT4gYy5oZWlnaHQpLFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQ2VsbCB7XG4gIHZpZXdFbGVtZW50OiBFbGVtZW50IHwgbnVsbDtcbiAgY29sU3BhbjogbnVtYmVyO1xuICByb3dTcGFuOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyID0gMDtcbiAgYW5jaG9yU2xvdDogVGFibGVTbG90ID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcm93SW5kZXg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uSW5kZXg6IG51bWJlcixcbiAgICB2aWV3RWxlbWVudDogRWxlbWVudCxcbiAgKSB7XG4gICAgdGhpcy52aWV3RWxlbWVudCA9IHZpZXdFbGVtZW50O1xuICAgIHRoaXMuY29sU3BhbiA9ICh2aWV3RWxlbWVudCBhcyBIVE1MVGFibGVDZWxsRWxlbWVudCkuY29sU3BhbiB8fCAxO1xuICAgIHRoaXMucm93U3BhbiA9ICh2aWV3RWxlbWVudCBhcyBIVE1MVGFibGVDZWxsRWxlbWVudCkucm93U3BhbiB8fCAxO1xuICB9XG5cbiAgc2V0SGVpZ2h0KGhlaWdodDogbnVtYmVyKSB7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gIH1cblxuICBzZXRBbmNob3JTbG90KHNsb3Q6IFRhYmxlU2xvdCkge1xuICAgIHRoaXMuYW5jaG9yU2xvdCA9IHNsb3Q7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlU2xvdCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByb3dJbmRleDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW5JbmRleDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBjZWxsOiBUYWJsZUNlbGwsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQ2VsbEZyYWdtZW50IHtcbiAgcHNldWRvQ29sdW1uOiBMYXlvdXQuUHNldWRvQ29sdW1uO1xuICBlbXB0eTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgcHNldWRvQ29sdW1uQ29udGFpbmVyOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBjZWxsTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICApIHtcbiAgICB0aGlzLnBzZXVkb0NvbHVtbiA9IG5ldyBMYXlvdXQuUHNldWRvQ29sdW1uKFxuICAgICAgY29sdW1uLFxuICAgICAgcHNldWRvQ29sdW1uQ29udGFpbmVyLFxuICAgICAgY2VsbE5vZGVDb250ZXh0LFxuICAgICk7XG4gIH1cblxuICBmaW5kQWNjZXB0YWJsZUJyZWFrUG9zaXRpb24oKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dCB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgdmVydGljYWxBbGlnbiA9IHRoaXMuY2VsbE5vZGVDb250ZXh0LnZlcnRpY2FsQWxpZ247XG4gICAgaWYgKHZlcnRpY2FsQWxpZ24gPT09IFwibWlkZGxlXCIgfHwgdmVydGljYWxBbGlnbiA9PT0gXCJib3R0b21cIikge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcInZlcnRpY2FsLWFsaWduXCIsIFwidG9wXCIpO1xuICAgIH1cbiAgICBjb25zdCBicCA9IHRoaXMucHNldWRvQ29sdW1uLmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbih0cnVlKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwidmVydGljYWwtYWxpZ25cIiwgdmVydGljYWxBbGlnbik7XG4gICAgcmV0dXJuIGJwO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUNhcHRpb25WaWV3IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHZpZXdOb2RlOiBFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBzaWRlOiBzdHJpbmcsXG4gICkge31cbn1cblxuZXhwb3J0IGNsYXNzIEJldHdlZW5UYWJsZVJvd0JyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkVkZ2VCcmVha1Bvc2l0aW9uIHtcbiAgcHJpdmF0ZSBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dDtcblxuICBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zOiBMYXlvdXQuQnJlYWtQb3NpdGlvbkFuZE5vZGVDb250ZXh0W10gPSBudWxsO1xuICBwcml2YXRlIHJvd0luZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYnJlYWtPbkVkZ2U6IHN0cmluZyB8IG51bGwsXG4gICAgb3ZlcmZsb3dzOiBib29sZWFuLFxuICAgIGNvbHVtbkJsb2NrU2l6ZTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihwb3NpdGlvbiwgYnJlYWtPbkVkZ2UsIG92ZXJmbG93cywgY29sdW1uQmxvY2tTaXplKTtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0ID0gcG9zaXRpb24uZm9ybWF0dGluZ0NvbnRleHQgYXMgVGFibGVGb3JtYXR0aW5nQ29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmRBY2NlcHRhYmxlQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIHBlbmFsdHk6IG51bWJlcixcbiAgKTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGNvbnN0IGJyZWFrTm9kZUNvbnRleHQgPSBzdXBlci5maW5kQWNjZXB0YWJsZUJyZWFrKGNvbHVtbiwgcGVuYWx0eSk7XG4gICAgaWYgKHBlbmFsdHkgPCB0aGlzLmdldE1pbkJyZWFrUGVuYWx0eSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgYWxsQ2VsbHNCcmVha2FibGUgPSB0aGlzLmdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKS5ldmVyeShcbiAgICAgIChicCkgPT4gISFicC5ub2RlQ29udGV4dCxcbiAgICApO1xuICAgIGlmIChhbGxDZWxsc0JyZWFrYWJsZSkge1xuICAgICAgcmV0dXJuIGJyZWFrTm9kZUNvbnRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE1pbkJyZWFrUGVuYWx0eSgpOiBudW1iZXIge1xuICAgIGxldCBwZW5hbHR5ID0gc3VwZXIuZ2V0TWluQnJlYWtQZW5hbHR5KCk7XG4gICAgdGhpcy5nZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCkuZm9yRWFjaCgoYnApID0+IHtcbiAgICAgIHBlbmFsdHkgKz0gYnAuYnJlYWtQb3NpdGlvbi5nZXRNaW5CcmVha1BlbmFsdHkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGVuYWx0eTtcbiAgfVxuXG4gIGdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dFtdIHtcbiAgICBpZiAoIXRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50cygpO1xuICAgICAgdGhpcy5hY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zID0gY2VsbEZyYWdtZW50cy5tYXAoKGNlbGxGcmFnbWVudCkgPT5cbiAgICAgICAgY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Um93SW5kZXgoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5yb3dJbmRleCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb3dJbmRleDtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLnJvd0luZGV4ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5maW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoXG4gICAgICB0aGlzLnBvc2l0aW9uLnNvdXJjZU5vZGUsXG4gICAgKSk7XG4gIH1cblxuICBwcml2YXRlIGdldENlbGxGcmFnbWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0dGluZ0NvbnRleHRcbiAgICAgIC5nZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3codGhpcy5nZXRSb3dJbmRleCgpKVxuICAgICAgLm1hcChcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRDZWxsRnJhZ21lbnRPZkNlbGwsXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbnNpZGVUYWJsZVJvd0JyZWFrUG9zaXRpb24gZXh0ZW5kcyBCcmVha1Bvc2l0aW9uLkFic3RyYWN0QnJlYWtQb3NpdGlvbiB7XG4gIGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnM6IExheW91dC5CcmVha1Bvc2l0aW9uQW5kTm9kZUNvbnRleHRbXSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHJvd0luZGV4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGJlZm9yZU5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBmaW5kQWNjZXB0YWJsZUJyZWFrKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwZW5hbHR5OiBudW1iZXIsXG4gICk6IFZ0cmVlLk5vZGVDb250ZXh0IHtcbiAgICBpZiAocGVuYWx0eSA8IHRoaXMuZ2V0TWluQnJlYWtQZW5hbHR5KCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBjZWxsRnJhZ21lbnRzID0gdGhpcy5nZXRDZWxsRnJhZ21lbnRzKCk7XG4gICAgY29uc3QgYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucyA9IHRoaXMuZ2V0QWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucygpO1xuICAgIGNvbnN0IGFsbENlbGxzQnJlYWthYmxlID1cbiAgICAgIGFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMuZXZlcnkoKGJwKSA9PiAhIWJwLm5vZGVDb250ZXh0KSAmJlxuICAgICAgYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucy5zb21lKChicCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgcHNldWRvQ29sdW1uID0gY2VsbEZyYWdtZW50c1tpbmRleF0ucHNldWRvQ29sdW1uO1xuICAgICAgICBjb25zdCBub2RlQ29udGV4dCA9IGJwLm5vZGVDb250ZXh0O1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICFwc2V1ZG9Db2x1bW4uaXNTdGFydE5vZGVDb250ZXh0KG5vZGVDb250ZXh0KSAmJlxuICAgICAgICAgICFwc2V1ZG9Db2x1bW4uaXNMYXN0QWZ0ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dClcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIHRoaXMuYmVmb3JlTm9kZUNvbnRleHQub3ZlcmZsb3cgPSBhY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zLnNvbWUoXG4gICAgICAoYnApID0+IGJwLm5vZGVDb250ZXh0ICYmIGJwLm5vZGVDb250ZXh0Lm92ZXJmbG93LFxuICAgICk7XG4gICAgaWYgKGFsbENlbGxzQnJlYWthYmxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5iZWZvcmVOb2RlQ29udGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0TWluQnJlYWtQZW5hbHR5KCk6IG51bWJlciB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IHJvdyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvd0J5SW5kZXgodGhpcy5yb3dJbmRleCk7XG4gICAgbGV0IHBlbmFsdHkgPSAwO1xuICAgIGlmICghZm9ybWF0dGluZ0NvbnRleHQuaXNGcmVlbHlGcmFnbWVudGFibGVSb3cocm93KSkge1xuICAgICAgcGVuYWx0eSArPSAxMDtcbiAgICB9XG4gICAgdGhpcy5nZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zKCkuZm9yRWFjaCgoYnApID0+IHtcbiAgICAgIHBlbmFsdHkgKz0gYnAuYnJlYWtQb3NpdGlvbi5nZXRNaW5CcmVha1BlbmFsdHkoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGVuYWx0eTtcbiAgfVxuXG4gIGdldEFjY2VwdGFibGVDZWxsQnJlYWtQb3NpdGlvbnMoKTogTGF5b3V0LkJyZWFrUG9zaXRpb25BbmROb2RlQ29udGV4dFtdIHtcbiAgICBpZiAoIXRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucykge1xuICAgICAgY29uc3QgY2VsbEZyYWdtZW50cyA9IHRoaXMuZ2V0Q2VsbEZyYWdtZW50cygpO1xuICAgICAgdGhpcy5hY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zID0gY2VsbEZyYWdtZW50cy5tYXAoKGNlbGxGcmFnbWVudCkgPT5cbiAgICAgICAgY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q2VsbEZyYWdtZW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgLmdldENlbGxzRmFsbGluZ09uUm93KHRoaXMucm93SW5kZXgpXG4gICAgICAubWFwKFxuICAgICAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldENlbGxGcmFnbWVudE9mQ2VsbCxcbiAgICAgICAgdGhpcy5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQnJva2VuVGFibGVDZWxsUG9zaXRpb24gPSB7XG4gIGNlbGxOb2RlUG9zaXRpb246IFZ0cmVlLk5vZGVQb3NpdGlvbjtcbiAgYnJlYWtDaHVua1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uO1xuICBjZWxsOiBUYWJsZUNlbGw7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB0YWJsZVNvdXJjZU5vZGUgU291cmNlIG5vZGUgb2YgdGhlIHRhYmxlXG4gKi9cbmV4cG9ydCBjbGFzcyBUYWJsZUZvcm1hdHRpbmdDb250ZXh0XG4gIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHRcbiAgaW1wbGVtZW50cyBUYWJsZS5UYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgZm9ybWF0dGluZ0NvbnRleHRUeXBlOiBGb3JtYXR0aW5nQ29udGV4dFR5cGUgPSBcIlRhYmxlXCI7XG4gIHZlcnRpY2FsOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbHVtbkNvdW50OiBudW1iZXIgPSAtMTtcbiAgdGFibGVXaWR0aDogbnVtYmVyID0gMDtcbiAgY2FwdGlvbnM6IFRhYmxlQ2FwdGlvblZpZXdbXSA9IFtdO1xuICBjb2xHcm91cHM6IERvY3VtZW50RnJhZ21lbnQgfCBudWxsID0gbnVsbDtcbiAgY29sV2lkdGhzOiBudW1iZXJbXSB8IG51bGwgPSBudWxsO1xuICBpbmxpbmVCb3JkZXJTcGFjaW5nOiBudW1iZXIgPSAwO1xuICByb3dzOiBUYWJsZVJvd1tdID0gW107XG4gIHNsb3RzOiBUYWJsZVNsb3RbXVtdID0gW107XG4gIGNlbGxGcmFnbWVudHM6IFRhYmxlQ2VsbEZyYWdtZW50W11bXSA9IFtdO1xuICBsYXN0Um93Vmlld05vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgY2VsbEJyZWFrUG9zaXRpb25zOiBCcm9rZW5UYWJsZUNlbGxQb3NpdGlvbltdID0gW107XG4gIHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50OiBWdHJlZS5Gb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdGFibGVTb3VyY2VOb2RlOiBFbGVtZW50LFxuICApIHtcbiAgICBzdXBlcihwYXJlbnQsIHRhYmxlU291cmNlTm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwiVGFibGUgZm9ybWF0dGluZyBjb250ZXh0IChUYWJsZS5UYWJsZUZvcm1hdHRpbmdDb250ZXh0KVwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaXNGaXJzdFRpbWUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBmaXJzdFRpbWU6IGJvb2xlYW4pOiBib29sZWFuIHtcbiAgICBpZiAoIWZpcnN0VGltZSkge1xuICAgICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgICB9XG4gICAgc3dpdGNoIChub2RlQ29udGV4dC5kaXNwbGF5KSB7XG4gICAgICBjYXNlIFwidGFibGUtcm93XCI6XG4gICAgICAgIHJldHVybiB0aGlzLmNlbGxCcmVha1Bvc2l0aW9ucy5sZW5ndGggPT09IDA7XG4gICAgICBjYXNlIFwidGFibGUtY2VsbFwiOlxuICAgICAgICByZXR1cm4gIXRoaXMuY2VsbEJyZWFrUG9zaXRpb25zLnNvbWUoXG4gICAgICAgICAgKHApID0+IHAuY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXS5ub2RlID09PSBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgICAgICApO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZpcnN0VGltZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQYXJlbnQoKTogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQge1xuICAgIHJldHVybiB0aGlzLnBhcmVudDtcbiAgfVxuXG4gIGZpbmlzaEZyYWdtZW50KCkge1xuICAgIHRoaXMuY2VsbEZyYWdtZW50cyA9IFtdO1xuICB9XG5cbiAgYWRkUm93KHJvd0luZGV4OiBudW1iZXIsIHJvdzogVGFibGVSb3cpIHtcbiAgICB0aGlzLnJvd3Nbcm93SW5kZXhdID0gcm93O1xuICB9XG5cbiAgZ2V0Um93U2xvdHMocm93SW5kZXg6IG51bWJlcik6IFRhYmxlU2xvdFtdIHtcbiAgICBsZXQgcm93U2xvdHMgPSB0aGlzLnNsb3RzW3Jvd0luZGV4XTtcbiAgICBpZiAoIXJvd1Nsb3RzKSB7XG4gICAgICByb3dTbG90cyA9IHRoaXMuc2xvdHNbcm93SW5kZXhdID0gW107XG4gICAgfVxuICAgIHJldHVybiByb3dTbG90cztcbiAgfVxuXG4gIGFkZENlbGwocm93SW5kZXg6IG51bWJlciwgY2VsbDogVGFibGVDZWxsKSB7XG4gICAgbGV0IHJvdyA9IHRoaXMucm93c1tyb3dJbmRleF07XG4gICAgaWYgKCFyb3cpIHtcbiAgICAgIHRoaXMuYWRkUm93KHJvd0luZGV4LCBuZXcgVGFibGVSb3cocm93SW5kZXgsIG51bGwpKTtcbiAgICAgIHJvdyA9IHRoaXMucm93c1tyb3dJbmRleF07XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KHJvdyk7XG4gICAgcm93LmFkZENlbGwoY2VsbCk7XG4gICAgY29uc3Qgcm93VXBwZXIgPSByb3dJbmRleCArIGNlbGwucm93U3BhbjtcbiAgICBsZXQgcm93U2xvdHMgPSB0aGlzLmdldFJvd1Nsb3RzKHJvd0luZGV4KTtcbiAgICBsZXQgc3RhcnRDb2xJbmRleCA9IDA7XG4gICAgd2hpbGUgKHJvd1Nsb3RzW3N0YXJ0Q29sSW5kZXhdKSB7XG4gICAgICBzdGFydENvbEluZGV4Kys7XG4gICAgfVxuICAgIGZvciAoOyByb3dJbmRleCA8IHJvd1VwcGVyOyByb3dJbmRleCsrKSB7XG4gICAgICByb3dTbG90cyA9IHRoaXMuZ2V0Um93U2xvdHMocm93SW5kZXgpO1xuICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0Q29sSW5kZXg7IGkgPCBzdGFydENvbEluZGV4ICsgY2VsbC5jb2xTcGFuOyBpKyspIHtcbiAgICAgICAgY29uc3Qgc2xvdCA9IChyb3dTbG90c1tpXSA9IG5ldyBUYWJsZVNsb3Qocm93SW5kZXgsIGksIGNlbGwpKTtcbiAgICAgICAgaWYgKCFjZWxsLmFuY2hvclNsb3QpIHtcbiAgICAgICAgICBjZWxsLnNldEFuY2hvclNsb3Qoc2xvdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXRSb3dCeUluZGV4KGluZGV4OiBudW1iZXIpOiBUYWJsZVJvdyB7XG4gICAgY29uc3Qgcm93ID0gdGhpcy5yb3dzW2luZGV4XTtcbiAgICBBc3NlcnRzLmFzc2VydChyb3cpO1xuICAgIHJldHVybiByb3c7XG4gIH1cblxuICBmaW5kUm93SW5kZXhCeVNvdXJjZU5vZGUoc291cmNlTm9kZTogTm9kZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucm93cy5maW5kSW5kZXgoKHJvdykgPT4gc291cmNlTm9kZSA9PT0gcm93LnNvdXJjZU5vZGUpO1xuICB9XG5cbiAgYWRkQ2VsbEZyYWdtZW50KFxuICAgIHJvd0luZGV4OiBudW1iZXIsXG4gICAgY29sdW1uSW5kZXg6IG51bWJlcixcbiAgICBjZWxsRnJhZ21lbnQ6IFRhYmxlQ2VsbEZyYWdtZW50LFxuICApIHtcbiAgICBsZXQgbGlzdCA9IHRoaXMuY2VsbEZyYWdtZW50c1tyb3dJbmRleF07XG4gICAgaWYgKCFsaXN0KSB7XG4gICAgICBsaXN0ID0gdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd0luZGV4XSA9IFtdO1xuICAgIH1cbiAgICBsaXN0W2NvbHVtbkluZGV4XSA9IGNlbGxGcmFnbWVudDtcbiAgfVxuXG4gIGdldENlbGxzRmFsbGluZ09uUm93KHJvd0luZGV4OiBudW1iZXIpOiBUYWJsZUNlbGxbXSB7XG4gICAgY29uc3Qgcm93U2xvdHMgPSB0aGlzLmdldFJvd1Nsb3RzKHJvd0luZGV4KTtcbiAgICByZXR1cm4gcm93U2xvdHMucmVkdWNlKCh1bmlxdWVDZWxscywgc2xvdCkgPT4ge1xuICAgICAgaWYgKHNsb3QuY2VsbCAhPT0gdW5pcXVlQ2VsbHNbdW5pcXVlQ2VsbHMubGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgcmV0dXJuIHVuaXF1ZUNlbGxzLmNvbmNhdChzbG90LmNlbGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHVuaXF1ZUNlbGxzO1xuICAgICAgfVxuICAgIH0sIFtdKTtcbiAgfVxuXG4gIGdldFJvd1NwYW5uaW5nQ2VsbHNPdmVyZmxvd2luZ1RoZVJvdyhyb3dJbmRleDogbnVtYmVyKTogVGFibGVDZWxsW10ge1xuICAgIHJldHVybiB0aGlzLmdldENlbGxzRmFsbGluZ09uUm93KHJvd0luZGV4KS5maWx0ZXIoXG4gICAgICAoY2VsbCkgPT4gY2VsbC5yb3dJbmRleCArIGNlbGwucm93U3BhbiAtIDEgPiByb3dJbmRleCxcbiAgICApO1xuICB9XG5cbiAgZ2V0Q2VsbEZyYWdtZW50T2ZDZWxsKGNlbGw6IFRhYmxlQ2VsbCk6IFRhYmxlQ2VsbEZyYWdtZW50IHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5jZWxsRnJhZ21lbnRzW2NlbGwucm93SW5kZXhdICYmXG4gICAgICB0aGlzLmNlbGxGcmFnbWVudHNbY2VsbC5yb3dJbmRleF1bY2VsbC5jb2x1bW5JbmRleF1cbiAgICApO1xuICB9XG5cbiAgaXNGcmVlbHlGcmFnbWVudGFibGVSb3cocm93OiBUYWJsZVJvdyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiByb3cuZ2V0TWluaW11bUhlaWdodCgpID4gdGhpcy50YWJsZVdpZHRoIC8gMjtcbiAgfVxuXG4gIGdldENvbHVtbkNvdW50KCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuY29sdW1uQ291bnQgPCAwKSB7XG4gICAgICB0aGlzLmNvbHVtbkNvdW50ID0gTWF0aC5tYXguYXBwbHkoXG4gICAgICAgIG51bGwsXG4gICAgICAgIHRoaXMucm93cy5tYXAoKHJvdykgPT5cbiAgICAgICAgICByb3cuY2VsbHMucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIGMuY29sU3BhbiwgMCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jb2x1bW5Db3VudDtcbiAgfVxuXG4gIHVwZGF0ZUNlbGxTaXplcyhjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCkge1xuICAgIHRoaXMucm93cy5mb3JFYWNoKChyb3cpID0+IHtcbiAgICAgIHJvdy5jZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENsaWVudFJlY3QoXG4gICAgICAgICAgY2VsbC52aWV3RWxlbWVudCBhcyBFbGVtZW50LFxuICAgICAgICApO1xuICAgICAgICBjZWxsLnZpZXdFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgY2VsbC5zZXRIZWlnaHQodGhpcy52ZXJ0aWNhbCA/IHJlY3RbXCJ3aWR0aFwiXSA6IHJlY3RbXCJoZWlnaHRcIl0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBwb3NpdGlvblxuICAgKi9cbiAgZmluZENlbGxGcm9tQ29sdW1uKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogeyByb3dJbmRleDogbnVtYmVyOyBjb2x1bW5JbmRleDogbnVtYmVyIH0gfCBudWxsIHtcbiAgICBpZiAoIWNvbHVtbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGxldCB0YWJsZUNlbGw6IFRhYmxlQ2VsbCA9IG51bGw7XG4gICAgbGV0IHJvdyA9IDA7XG4gICAgbGV0IGNvbCA9IDA7XG4gICAgbG9vcDogZm9yIChyb3cgPSAwOyByb3cgPCB0aGlzLmNlbGxGcmFnbWVudHMubGVuZ3RoOyByb3crKykge1xuICAgICAgaWYgKCF0aGlzLmNlbGxGcmFnbWVudHNbcm93XSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29sID0gMDsgY29sIDwgdGhpcy5jZWxsRnJhZ21lbnRzW3Jvd10ubGVuZ3RoOyBjb2wrKykge1xuICAgICAgICBpZiAoIXRoaXMuY2VsbEZyYWdtZW50c1tyb3ddW2NvbF0pIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29sdW1uID09PSB0aGlzLmNlbGxGcmFnbWVudHNbcm93XVtjb2xdLnBzZXVkb0NvbHVtbi5nZXRDb2x1bW4oKSkge1xuICAgICAgICAgIHRhYmxlQ2VsbCA9IHRoaXMucm93c1tyb3ddLmNlbGxzW2NvbF07XG4gICAgICAgICAgYnJlYWsgbG9vcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIXRhYmxlQ2VsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZvciAoOyByb3cgPCB0aGlzLnNsb3RzLmxlbmd0aDsgcm93KyspIHtcbiAgICAgIGZvciAoOyBjb2wgPCB0aGlzLnNsb3RzW3Jvd10ubGVuZ3RoOyBjb2wrKykge1xuICAgICAgICBjb25zdCBzbG90ID0gdGhpcy5zbG90c1tyb3ddW2NvbF07XG4gICAgICAgIGlmIChzbG90LmNlbGwgPT09IHRhYmxlQ2VsbCkge1xuICAgICAgICAgIHJldHVybiB7IHJvd0luZGV4OiBzbG90LnJvd0luZGV4LCBjb2x1bW5JbmRleDogc2xvdC5jb2x1bW5JbmRleCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZVcHBlckNlbGxzKFxuICAgIHBvc2l0aW9uOiB7IHJvd0luZGV4OiBudW1iZXI7IGNvbHVtbkluZGV4OiBudW1iZXIgfSB8IG51bGwsXG4gICk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IGNvbGxlY3RlZCA9IFtdO1xuICAgIHJldHVybiB0aGlzLnNsb3RzLnJlZHVjZSgocmVwZXRpdGl2ZUVsZW1lbnRzLCByb3csIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPj0gcG9zaXRpb24ucm93SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNlbGxGcmFnbWVudCA9XG4gICAgICAgIHJvd1twb3NpdGlvbi5jb2x1bW5JbmRleF0gJiZcbiAgICAgICAgdGhpcy5nZXRDZWxsRnJhZ21lbnRPZkNlbGwocm93W3Bvc2l0aW9uLmNvbHVtbkluZGV4XS5jZWxsKTtcbiAgICAgIGlmICghY2VsbEZyYWdtZW50IHx8IGNvbGxlY3RlZC5pbmNsdWRlcyhjZWxsRnJhZ21lbnQpKSB7XG4gICAgICAgIHJldHVybiByZXBldGl0aXZlRWxlbWVudHM7XG4gICAgICB9XG4gICAgICB0aGlzLmNvbGxlY3RFbGVtZW50c09mZnNldEZyb21Db2x1bW4oXG4gICAgICAgIGNlbGxGcmFnbWVudC5wc2V1ZG9Db2x1bW4uZ2V0Q29sdW1uKCksXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyxcbiAgICAgICk7XG4gICAgICBjb2xsZWN0ZWQucHVzaChjZWxsRnJhZ21lbnQpO1xuICAgICAgcmV0dXJuIHJlcGV0aXRpdmVFbGVtZW50cztcbiAgICB9LCBbXSBhcyBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdKTtcbiAgfVxuXG4gIGNvbGxlY3RFbGVtZW50c09mZnNldE9mSGlnaGVzdENvbHVtbigpOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdIHtcbiAgICBjb25zdCBlbGVtZW50c0luQ29sdW1uID0gW107XG4gICAgdGhpcy5yb3dzLmZvckVhY2goKHJvdykgPT4ge1xuICAgICAgcm93LmNlbGxzLmZvckVhY2goKGNlbGwsIGluZGV4KSA9PiB7XG4gICAgICAgIGlmICghZWxlbWVudHNJbkNvbHVtbltpbmRleF0pIHtcbiAgICAgICAgICBlbGVtZW50c0luQ29sdW1uW2luZGV4XSA9IHsgY29sbGVjdGVkOiBbXSwgZWxlbWVudHM6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhdGUgPSBlbGVtZW50c0luQ29sdW1uW2luZGV4XTtcbiAgICAgICAgY29uc3QgY2VsbEZyYWdtZW50ID0gdGhpcy5nZXRDZWxsRnJhZ21lbnRPZkNlbGwoY2VsbCk7XG4gICAgICAgIGlmICghY2VsbEZyYWdtZW50IHx8IHN0YXRlLmNvbGxlY3RlZC5pbmNsdWRlcyhjZWxsRnJhZ21lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbihcbiAgICAgICAgICBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uLmdldENvbHVtbigpLFxuICAgICAgICAgIHN0YXRlLmVsZW1lbnRzLFxuICAgICAgICApO1xuICAgICAgICBzdGF0ZS5jb2xsZWN0ZWQucHVzaChjZWxsRnJhZ21lbnQpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgIG5ldyBFbGVtZW50c09mZnNldE9mVGFibGVDZWxsKFxuICAgICAgICBlbGVtZW50c0luQ29sdW1uLm1hcCgoZW50cnkpID0+IGVudHJ5LmVsZW1lbnRzKSxcbiAgICAgICksXG4gICAgXTtcbiAgfVxuXG4gIHByaXZhdGUgY29sbGVjdEVsZW1lbnRzT2Zmc2V0RnJvbUNvbHVtbihcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICAgIHJlcGV0aXRpdmVFbGVtZW50czogUmVwZXRpdGl2ZUVsZW1lbnQuRWxlbWVudHNPZmZzZXRbXSxcbiAgKSB7XG4gICAgY29sdW1uLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMuZm9yRWFjaCgoY29uc3RyYWludCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBSZXBldGl0aXZlRWxlbWVudC5pc0luc3RhbmNlT2ZSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQoXG4gICAgICAgICAgY29uc3RyYWludCxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50ID0gY29uc3RyYWludC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKFRhYmxlLmlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludChjb25zdHJhaW50KSkge1xuICAgICAgICBjb25zdHJhaW50XG4gICAgICAgICAgLmdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbChudWxsKVxuICAgICAgICAgIC5mb3JFYWNoKChyZXBldGl0aXZlRWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLnB1c2gocmVwZXRpdGl2ZUVsZW1lbnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzYXZlU3RhdGUoKTogYW55IHtcbiAgICByZXR1cm4gW10uY29uY2F0KHRoaXMuY2VsbEJyZWFrUG9zaXRpb25zKTtcbiAgfVxuXG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAgcmVzdG9yZVN0YXRlKHN0YXRlOiBhbnkpIHtcbiAgICB0aGlzLmNlbGxCcmVha1Bvc2l0aW9ucyA9IHN0YXRlIGFzIEJyb2tlblRhYmxlQ2VsbFBvc2l0aW9uW107XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVsZW1lbnRzT2Zmc2V0T2ZUYWJsZUNlbGxcbiAgaW1wbGVtZW50cyBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSByZXBlYXRpdGl2ZUVsZW1lbnRzSW5Db2x1bW5zOiBSZXBldGl0aXZlRWxlbWVudC5FbGVtZW50c09mZnNldFtdW10sXG4gICkge31cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU9mZnNldChub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZU1heE9mZnNldE9mQ29sdW1uKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAob2Zmc2V0cykgPT4gb2Zmc2V0cy5jdXJyZW50LFxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNhbGN1bGF0ZU1pbmltdW1PZmZzZXQobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVNYXhPZmZzZXRPZkNvbHVtbihcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgKG9mZnNldHMpID0+IG9mZnNldHMubWluaW11bSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBjYWxjdWxhdGVNYXhPZmZzZXRPZkNvbHVtbihub2RlQ29udGV4dCwgcmVzb2x2ZXIpIHtcbiAgICBsZXQgbWF4T2Zmc2V0ID0gMDtcbiAgICB0aGlzLnJlcGVhdGl0aXZlRWxlbWVudHNJbkNvbHVtbnMuZm9yRWFjaCgocmVwZXRpdGl2ZUVsZW1lbnRzKSA9PiB7XG4gICAgICBjb25zdCBvZmZzZXRzID0gQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMsXG4gICAgICApO1xuICAgICAgbWF4T2Zmc2V0ID0gTWF0aC5tYXgobWF4T2Zmc2V0LCByZXNvbHZlcihvZmZzZXRzKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1heE9mZnNldDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICBmb3JtYXR0aW5nQ29udGV4dDogVnRyZWUuRm9ybWF0dGluZ0NvbnRleHQsXG4pOiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0IHtcbiAgQXNzZXJ0cy5hc3NlcnQoZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0KTtcbiAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0IGFzIFRhYmxlRm9ybWF0dGluZ0NvbnRleHQ7XG59XG5cbmZ1bmN0aW9uIGlzVGFibGVSb3dHcm91cGluZyhkaXNwbGF5OiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiAoXG4gICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3ctZ3JvdXBcIiB8fFxuICAgIGRpc3BsYXkgPT09IFwidGFibGUtaGVhZGVyLWdyb3VwXCIgfHxcbiAgICBkaXNwbGF5ID09PSBcInRhYmxlLWZvb3Rlci1ncm91cFwiXG4gICk7XG59XG5cbmZ1bmN0aW9uIGlzVGFibGVSb290KGRpc3BsYXk6IHN0cmluZyB8IG51bGwpOiBib29sZWFuIHtcbiAgcmV0dXJuIGRpc3BsYXkgPT09IFwidGFibGVcIiB8fCBkaXNwbGF5ID09PSBcImlubGluZS10YWJsZVwiO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkUGFyZW50T2ZUYWJsZVJvdyhkaXNwbGF5OiBzdHJpbmcgfCBudWxsKTogYm9vbGVhbiB7XG4gIHJldHVybiBpc1RhYmxlUm93R3JvdXBpbmcoZGlzcGxheSkgfHwgaXNUYWJsZVJvb3QoZGlzcGxheSk7XG59XG5cbmZ1bmN0aW9uIHNraXBOZXN0ZWRUYWJsZShcbiAgc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSxcbiAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHwgbnVsbCB7XG4gIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICBjb25zdCBwYXJlbnREaXNwbGF5ID0gbm9kZUNvbnRleHQucGFyZW50ID8gbm9kZUNvbnRleHQucGFyZW50LmRpc3BsYXkgOiBudWxsO1xuXG4gIC8vIElzIGlubGluZS10YWJsZSBuZXN0ZWQgaW4gYW5vdGhlciB0YWJsZT9cbiAgbGV0IGlzTmVzdGVkSW5saW5lVGFibGUgPSBmYWxzZTtcbiAgaWYgKFxuICAgIHBhcmVudERpc3BsYXkgPT09IFwiaW5saW5lLXRhYmxlXCIgJiZcbiAgICAhKG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dClcbiAgKSB7XG4gICAgZm9yIChsZXQgbmMgPSBub2RlQ29udGV4dC5wYXJlbnQ7IG5jOyBuYyA9IG5jLnBhcmVudCkge1xuICAgICAgaWYgKG5jLmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dCkge1xuICAgICAgICBpc05lc3RlZElubGluZVRhYmxlID0gbmMuZm9ybWF0dGluZ0NvbnRleHQgPT09IGZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgaXNOZXN0ZWRUYWJsZSA9XG4gICAgaXNOZXN0ZWRJbmxpbmVUYWJsZSB8fFxuICAgIChkaXNwbGF5ID09PSBcInRhYmxlLXJvd1wiICYmICFpc1ZhbGlkUGFyZW50T2ZUYWJsZVJvdyhwYXJlbnREaXNwbGF5KSkgfHxcbiAgICAoZGlzcGxheSA9PT0gXCJ0YWJsZS1jZWxsXCIgJiZcbiAgICAgIHBhcmVudERpc3BsYXkgIT09IFwidGFibGUtcm93XCIgJiZcbiAgICAgICFpc1ZhbGlkUGFyZW50T2ZUYWJsZVJvdyhwYXJlbnREaXNwbGF5KSkgfHxcbiAgICAobm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQgaW5zdGFuY2VvZiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCAhPT0gZm9ybWF0dGluZ0NvbnRleHQpO1xuICBpZiAoaXNOZXN0ZWRUYWJsZSkge1xuICAgIHJldHVybiBjb2x1bW5cbiAgICAgIC5idWlsZERlZXBFbGVtZW50Vmlldyhub2RlQ29udGV4dClcbiAgICAgIC50aGVuQXN5bmMoKG5vZGVDb250ZXh0QWZ0ZXIpID0+IHtcbiAgICAgICAgc3RhdGUubm9kZUNvbnRleHQgPSBub2RlQ29udGV4dEFmdGVyO1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXJlVGFibGVMYXlvdXRTdHJhdGVneSBleHRlbmRzIExheW91dFV0aWwuRWRnZVNraXBwZXIge1xuICByb3dJbmRleDogbnVtYmVyID0gLTE7XG4gIGNvbHVtbkluZGV4OiBudW1iZXIgPSAwO1xuICBpblJvdzogYm9vbGVhbiA9IGZhbHNlO1xuICBjaGVja1BvaW50czogVnRyZWUuTm9kZUNvbnRleHRbXSA9IFtdO1xuICBpbkhlYWRlck9yRm9vdGVyOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydE5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IHIgPSBza2lwTmVzdGVkVGFibGUoc3RhdGUsIGZvcm1hdHRpbmdDb250ZXh0LCB0aGlzLmNvbHVtbik7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICB0aGlzLnBvc3RMYXlvdXRCbG9ja0NvbnRlbnRzKHN0YXRlKTtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIHN3aXRjaCAoZGlzcGxheSkge1xuICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmlubGluZUJvcmRlclNwYWNpbmcgPSBub2RlQ29udGV4dC5pbmxpbmVCb3JkZXJTcGFjaW5nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ0YWJsZS1jYXB0aW9uXCI6IHtcbiAgICAgICAgY29uc3QgY2FwdGlvblZpZXcgPSBuZXcgVGFibGVDYXB0aW9uVmlldyhcbiAgICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICAgIG5vZGVDb250ZXh0LmNhcHRpb25TaWRlLFxuICAgICAgICApO1xuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5jYXB0aW9ucy5wdXNoKGNhcHRpb25WaWV3KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwidGFibGUtaGVhZGVyLWdyb3VwXCI6XG4gICAgICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzSGVhZGVyUmVnaXN0ZXJlZCgpKSB7XG4gICAgICAgICAgdGhpcy5pbkhlYWRlck9yRm9vdGVyID0gdHJ1ZTtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuc2V0SGVhZGVyTm9kZUNvbnRleHQobm9kZUNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIGNhc2UgXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjpcbiAgICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuaXNGb290ZXJSZWdpc3RlcmVkKCkpIHtcbiAgICAgICAgICB0aGlzLmluSGVhZGVyT3JGb290ZXIgPSB0cnVlO1xuICAgICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cy5zZXRGb290ZXJOb2RlQ29udGV4dChub2RlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgY2FzZSBcInRhYmxlLXJvd1wiOlxuICAgICAgICBpZiAoIXRoaXMuaW5IZWFkZXJPckZvb3Rlcikge1xuICAgICAgICAgIHRoaXMuaW5Sb3cgPSB0cnVlO1xuICAgICAgICAgIHRoaXMucm93SW5kZXgrKztcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICAgICAgICB0aGlzLmNvbHVtbkluZGV4ID0gMDtcbiAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5hZGRSb3coXG4gICAgICAgICAgICB0aGlzLnJvd0luZGV4LFxuICAgICAgICAgICAgbmV3IFRhYmxlUm93KHRoaXMucm93SW5kZXgsIG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpLFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMuZmlyc3RDb250ZW50U291cmNlTm9kZSkge1xuICAgICAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmZpcnN0Q29udGVudFNvdXJjZU5vZGUgPSBub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gc3VwZXIuc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShzdGF0ZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgY29uc3QgY2xpZW50TGF5b3V0ID0gdGhpcy5jb2x1bW4uY2xpZW50TGF5b3V0O1xuICAgIHRoaXMucG9zdExheW91dEJsb2NrQ29udGVudHMoc3RhdGUpO1xuICAgIGlmIChub2RlQ29udGV4dC5zb3VyY2VOb2RlID09PSBmb3JtYXR0aW5nQ29udGV4dC50YWJsZVNvdXJjZU5vZGUpIHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBjbGllbnRMYXlvdXQuZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShub2RlQ29udGV4dCkgYXMgRWxlbWVudCxcbiAgICAgICk7XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC50YWJsZVdpZHRoID0gcGFyc2VGbG9hdChcbiAgICAgICAgY29tcHV0ZWRTdHlsZVtmb3JtYXR0aW5nQ29udGV4dC52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCJdLFxuICAgICAgKTtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpLmxhc3RDb250ZW50U291cmNlTm9kZSA9XG4gICAgICAgIHN0YXRlLmxhc3RBZnRlck5vZGVDb250ZXh0ICYmXG4gICAgICAgIChzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQpO1xuICAgICAgc3RhdGUuYnJlYWsgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzd2l0Y2ggKGRpc3BsYXkpIHtcbiAgICAgICAgY2FzZSBcInRhYmxlLWhlYWRlci1ncm91cFwiOlxuICAgICAgICBjYXNlIFwidGFibGUtZm9vdGVyLWdyb3VwXCI6XG4gICAgICAgICAgaWYgKHRoaXMuaW5IZWFkZXJPckZvb3Rlcikge1xuICAgICAgICAgICAgdGhpcy5pbkhlYWRlck9yRm9vdGVyID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFibGUtcm93XCI6XG4gICAgICAgICAgaWYgKCF0aGlzLmluSGVhZGVyT3JGb290ZXIpIHtcbiAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0Lmxhc3RSb3dWaWV3Tm9kZSA9IG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLmluUm93ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGFibGUtY2VsbFwiOlxuICAgICAgICAgIGlmICghdGhpcy5pbkhlYWRlck9yRm9vdGVyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaW5Sb3cpIHtcbiAgICAgICAgICAgICAgdGhpcy5yb3dJbmRleCsrO1xuICAgICAgICAgICAgICB0aGlzLmNvbHVtbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgdGhpcy5pblJvdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbGVtID0gbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmFkZENlbGwoXG4gICAgICAgICAgICAgIHRoaXMucm93SW5kZXgsXG4gICAgICAgICAgICAgIG5ldyBUYWJsZUNlbGwodGhpcy5yb3dJbmRleCwgdGhpcy5jb2x1bW5JbmRleCwgZWxlbSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5JbmRleCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGFydE5vbkVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZnRlck5vbkVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGFydElubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhZnRlcklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5yZWdpc3RlckNoZWNrUG9pbnQoc3RhdGUpO1xuICB9XG5cbiAgcmVnaXN0ZXJDaGVja1BvaW50KHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUpIHtcbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGlmIChcbiAgICAgIG5vZGVDb250ZXh0ICYmXG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZSAmJlxuICAgICAgIUxheW91dEhlbHBlci5pc1NwZWNpYWxOb2RlQ29udGV4dChub2RlQ29udGV4dClcbiAgICApIHtcbiAgICAgIHRoaXMuY2hlY2tQb2ludHMucHVzaChub2RlQ29udGV4dC5jbG9uZSgpKTtcbiAgICB9XG4gIH1cblxuICBwb3N0TGF5b3V0QmxvY2tDb250ZW50cyhzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5jb2x1bW4ucG9zdExheW91dEJsb2NrKHN0YXRlLm5vZGVDb250ZXh0LCB0aGlzLmNoZWNrUG9pbnRzKTtcbiAgICB9XG4gICAgdGhpcy5jaGVja1BvaW50cyA9IFtdO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUxheW91dFN0cmF0ZWd5IGV4dGVuZHMgTGF5b3V0VXRpbC5FZGdlU2tpcHBlciB7XG4gIHByaXZhdGUgc3RhdGljIGlnbm9yZUxpc3Q6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9ID0ge1xuICAgIFwidGFibGUtY2FwdGlvblwiOiB0cnVlLFxuICAgIFwidGFibGUtY29sdW1uLWdyb3VwXCI6IHRydWUsXG4gICAgXCJ0YWJsZS1jb2x1bW5cIjogdHJ1ZSxcbiAgfTtcbiAgaW5Sb3c6IGJvb2xlYW4gPSBmYWxzZTtcbiAgY3VycmVudFJvd0luZGV4OiBudW1iZXIgPSAtMTtcbiAgY3VycmVudENvbHVtbkluZGV4OiBudW1iZXIgPSAwO1xuICBvcmlnaW5hbFN0b3BBdE92ZXJmbG93OiBib29sZWFuO1xuICBpbkhlYWRlcjogYm9vbGVhbjtcbiAgaW5Gb290ZXI6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIHN1cGVyKHRydWUpO1xuICAgIHRoaXMub3JpZ2luYWxTdG9wQXRPdmVyZmxvdyA9IGNvbHVtbi5zdG9wQXRPdmVyZmxvdztcbiAgICBjb2x1bW4uc3RvcEF0T3ZlcmZsb3cgPSBmYWxzZTtcbiAgfVxuXG4gIHJlc2V0Q29sdW1uKCkge1xuICAgIHRoaXMuY29sdW1uLnN0b3BBdE92ZXJmbG93ID0gdGhpcy5vcmlnaW5hbFN0b3BBdE92ZXJmbG93O1xuICB9XG5cbiAgZ2V0Q29sU3Bhbm5pbmdDZWxsV2lkdGgoY2VsbDogVGFibGVDZWxsKTogbnVtYmVyIHtcbiAgICBjb25zdCBjb2xXaWR0aHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmNvbFdpZHRocztcbiAgICBBc3NlcnRzLmFzc2VydChjb2xXaWR0aHMpO1xuICAgIGxldCB3aWR0aCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxsLmNvbFNwYW47IGkrKykge1xuICAgICAgd2lkdGggKz0gY29sV2lkdGhzW2NlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCArIGldO1xuICAgIH1cbiAgICB3aWR0aCArPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmlubGluZUJvcmRlclNwYWNpbmcgKiAoY2VsbC5jb2xTcGFuIC0gMSk7XG4gICAgcmV0dXJuIHdpZHRoO1xuICB9XG5cbiAgbGF5b3V0Q2VsbChcbiAgICBjZWxsOiBUYWJsZUNlbGwsXG4gICAgY2VsbE5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdGFydENodW5rUG9zaXRpb246IFZ0cmVlLkNodW5rUG9zaXRpb24sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCByb3dJbmRleCA9IGNlbGwucm93SW5kZXg7XG4gICAgY29uc3QgY29sdW1uSW5kZXggPSBjZWxsLmNvbHVtbkluZGV4O1xuICAgIGNvbnN0IGNvbFNwYW4gPSBjZWxsLmNvbFNwYW47XG4gICAgY29uc3QgY2VsbFZpZXdOb2RlID0gY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgY29uc3QgdmVydGljYWxBbGlnbiA9IGNlbGxOb2RlQ29udGV4dC52ZXJ0aWNhbEFsaWduO1xuICAgIGlmIChjb2xTcGFuID4gMSkge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjZWxsVmlld05vZGUsIFwiYm94LXNpemluZ1wiLCBcImJvcmRlci1ib3hcIik7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBjZWxsVmlld05vZGUsXG4gICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQudmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLFxuICAgICAgICBgJHt0aGlzLmdldENvbFNwYW5uaW5nQ2VsbFdpZHRoKGNlbGwpfXB4YCxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHBzZXVkb0NvbHVtbkNvbnRhaW5lciA9IGNlbGxWaWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcImRpdlwiLFxuICAgICk7XG4gICAgY2VsbFZpZXdOb2RlLmFwcGVuZENoaWxkKHBzZXVkb0NvbHVtbkNvbnRhaW5lcik7XG4gICAgY29uc3QgY2VsbEZyYWdtZW50ID0gbmV3IFRhYmxlQ2VsbEZyYWdtZW50KFxuICAgICAgdGhpcy5jb2x1bW4sXG4gICAgICBwc2V1ZG9Db2x1bW5Db250YWluZXIsXG4gICAgICBjZWxsTm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmFkZENlbGxGcmFnbWVudChyb3dJbmRleCwgY29sdW1uSW5kZXgsIGNlbGxGcmFnbWVudCk7XG4gICAgaWYgKFxuICAgICAgc3RhcnRDaHVua1Bvc2l0aW9uLnByaW1hcnkuc3RlcHMubGVuZ3RoID09PSAxICYmXG4gICAgICBzdGFydENodW5rUG9zaXRpb24ucHJpbWFyeS5hZnRlclxuICAgICkge1xuICAgICAgLy8gQ29udGVudHMgb2YgdGhlIGNlbGwgaGF2ZSBlbmRlZCBpbiB0aGUgcHJldmlvdXMgZnJhZ21lbnRcbiAgICAgIGNlbGxGcmFnbWVudC5lbXB0eSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uXG4gICAgICAubGF5b3V0KHN0YXJ0Q2h1bmtQb3NpdGlvbiwgdHJ1ZSlcbiAgICAgIC50aGVuUmV0dXJuKHRydWUpO1xuICB9XG5cbiAgaGFzQnJva2VuQ2VsbEF0U2xvdChzbG90SW5kZXgpOiBib29sZWFuIHtcbiAgICBjb25zdCBjZWxsQnJlYWtQb3NpdGlvbiA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zWzBdO1xuICAgIGlmIChjZWxsQnJlYWtQb3NpdGlvbikge1xuICAgICAgcmV0dXJuIGNlbGxCcmVha1Bvc2l0aW9uLmNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCA9PT0gc2xvdEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcml2YXRlIGV4dHJhY3RSb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucygpOiBCcm9rZW5UYWJsZUNlbGxQb3NpdGlvbltdW10ge1xuICAgIGNvbnN0IGNlbGxCcmVha1Bvc2l0aW9ucyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zO1xuICAgIGlmIChjZWxsQnJlYWtQb3NpdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zID0gW107XG4gICAgbGV0IGkgPSAwO1xuICAgIGRvIHtcbiAgICAgIGNvbnN0IHAgPSBjZWxsQnJlYWtQb3NpdGlvbnNbaV07XG4gICAgICBjb25zdCByb3dJbmRleCA9IHAuY2VsbC5yb3dJbmRleDtcbiAgICAgIGlmIChyb3dJbmRleCA8IHRoaXMuY3VycmVudFJvd0luZGV4KSB7XG4gICAgICAgIGxldCBhcnIgPSByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9uc1tyb3dJbmRleF07XG4gICAgICAgIGlmICghYXJyKSB7XG4gICAgICAgICAgYXJyID0gcm93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnNbcm93SW5kZXhdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgYXJyLnB1c2gocCk7XG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9ucy5zcGxpY2UoaSwgMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoaSA8IGNlbGxCcmVha1Bvc2l0aW9ucy5sZW5ndGgpO1xuICAgIHJldHVybiByb3dTcGFubmluZ0NlbGxCcmVha1Bvc2l0aW9ucztcbiAgfVxuXG4gIGxheW91dFJvd1NwYW5uaW5nQ2VsbHNGcm9tUHJldmlvdXNGcmFnbWVudChcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0O1xuICAgIGNvbnN0IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zID0gdGhpcy5leHRyYWN0Um93U3Bhbm5pbmdDZWxsQnJlYWtQb3NpdGlvbnMoKTtcbiAgICBjb25zdCByb3dDb3VudCA9IHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zLnJlZHVjZSgocykgPT4gcyArIDEsIDApO1xuICAgIGlmIChyb3dDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBsYXlvdXRDb250ZXh0ID0gdGhpcy5jb2x1bW4ubGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBjdXJyZW50Um93ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY3VycmVudFJvdy52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGN1cnJlbnRSb3cudmlld05vZGUpO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcbiAgICAgIFwibGF5b3V0Um93U3Bhbm5pbmdDZWxsc0Zyb21QcmV2aW91c0ZyYWdtZW50XCIsXG4gICAgKTtcbiAgICBsZXQgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIGxldCBzcGFubmluZ0NlbGxSb3dJbmRleCA9IDA7XG4gICAgY29uc3Qgb2NjdXBpZWRTbG90SW5kaWNlcyA9IFtdO1xuICAgIHJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zLmZvckVhY2goKHJvd0NlbGxCcmVha1Bvc2l0aW9ucykgPT4ge1xuICAgICAgY29udCA9IGNvbnQudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgLy8gSXMgaXQgYWx3YXlzIGNvcnJlY3QgdG8gYXNzdW1lIHN0ZXBzWzFdIHRvIGJlIHRoZSByb3c/XG4gICAgICAgIGNvbnN0IHJvd05vZGVDb250ZXh0ID0gVnRyZWVJbXBsLm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwKFxuICAgICAgICAgIHJvd0NlbGxCcmVha1Bvc2l0aW9uc1swXS5jZWxsTm9kZVBvc2l0aW9uLnN0ZXBzWzFdLFxuICAgICAgICAgIGN1cnJlbnRSb3cucGFyZW50LFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbGF5b3V0Q29udGV4dC5zZXRDdXJyZW50KHJvd05vZGVDb250ZXh0LCBmYWxzZSkudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICBsZXQgY29udDEgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICBsZXQgY29sdW1uSW5kZXggPSAwO1xuXG4gICAgICAgICAgZnVuY3Rpb24gYWRkRHVtbXlDZWxsVW50aWwodXBwZXJDb2x1bW5JbmRleCkge1xuICAgICAgICAgICAgd2hpbGUgKGNvbHVtbkluZGV4IDwgdXBwZXJDb2x1bW5JbmRleCkge1xuICAgICAgICAgICAgICBpZiAoIW9jY3VwaWVkU2xvdEluZGljZXMuaW5jbHVkZXMoY29sdW1uSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHVtbXkgPSByb3dOb2RlQ29udGV4dC52aWV3Tm9kZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBcInRkXCIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGR1bW15LCBcInBhZGRpbmdcIiwgXCIwXCIpO1xuICAgICAgICAgICAgICAgIHJvd05vZGVDb250ZXh0LnZpZXdOb2RlLmFwcGVuZENoaWxkKGR1bW15KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb2x1bW5JbmRleCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByb3dDZWxsQnJlYWtQb3NpdGlvbnMuZm9yRWFjaCgoY2VsbEJyZWFrUG9zaXRpb24pID0+IHtcbiAgICAgICAgICAgIGNvbnQxID0gY29udDEudGhlbkFzeW5jKCgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGNlbGxCcmVha1Bvc2l0aW9uLmNlbGw7XG4gICAgICAgICAgICAgIGFkZER1bW15Q2VsbFVudGlsKGNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCk7XG4gICAgICAgICAgICAgIGNvbnN0IGNlbGxOb2RlUG9zaXRpb24gPSBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsTm9kZVBvc2l0aW9uO1xuICAgICAgICAgICAgICBjb25zdCBjZWxsTm9kZUNvbnRleHQgPSBWdHJlZUltcGwubWFrZU5vZGVDb250ZXh0RnJvbU5vZGVQb3NpdGlvblN0ZXAoXG4gICAgICAgICAgICAgICAgY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXSxcbiAgICAgICAgICAgICAgICByb3dOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY2VsbE5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9IGNlbGxOb2RlUG9zaXRpb24ub2Zmc2V0SW5Ob2RlO1xuICAgICAgICAgICAgICBjZWxsTm9kZUNvbnRleHQuYWZ0ZXIgPSBjZWxsTm9kZVBvc2l0aW9uLmFmdGVyO1xuICAgICAgICAgICAgICBjZWxsTm9kZUNvbnRleHQuZnJhZ21lbnRJbmRleCA9XG4gICAgICAgICAgICAgICAgY2VsbE5vZGVQb3NpdGlvbi5zdGVwc1swXS5mcmFnbWVudEluZGV4ICsgMTtcbiAgICAgICAgICAgICAgcmV0dXJuIGxheW91dENvbnRleHRcbiAgICAgICAgICAgICAgICAuc2V0Q3VycmVudChjZWxsTm9kZUNvbnRleHQsIGZhbHNlKVxuICAgICAgICAgICAgICAgIC50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgYnJlYWtDaHVua1Bvc2l0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgY2VsbEJyZWFrUG9zaXRpb24uYnJlYWtDaHVua1Bvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjZWxsLmNvbFNwYW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBvY2N1cGllZFNsb3RJbmRpY2VzLnB1c2goY29sdW1uSW5kZXggKyBpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbHVtbkluZGV4ICs9IGNlbGwuY29sU3BhbjtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxheW91dENlbGwoXG4gICAgICAgICAgICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgICAgICAgICAgIGNlbGxOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtDaHVua1Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgKS50aGVuQXN5bmMoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAoY2VsbE5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50KS5yb3dTcGFuID1cbiAgICAgICAgICAgICAgICAgICAgICBjZWxsLnJvd0luZGV4ICtcbiAgICAgICAgICAgICAgICAgICAgICBjZWxsLnJvd1NwYW4gLVxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ICtcbiAgICAgICAgICAgICAgICAgICAgICByb3dDb3VudCAtXG4gICAgICAgICAgICAgICAgICAgICAgc3Bhbm5pbmdDZWxsUm93SW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnQxLnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICAgICAgICBhZGREdW1teUNlbGxVbnRpbChmb3JtYXR0aW5nQ29udGV4dC5nZXRDb2x1bW5Db3VudCgpKTtcbiAgICAgICAgICAgIHNwYW5uaW5nQ2VsbFJvd0luZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY29udC50aGVuKCgpID0+IHtcbiAgICAgIGxheW91dENvbnRleHRcbiAgICAgICAgLnNldEN1cnJlbnQoY3VycmVudFJvdywgdHJ1ZSwgc3RhdGUuYXRVbmZvcmNlZEJyZWFrKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzdGFydFRhYmxlUm93KHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgaWYgKHRoaXMuaW5IZWFkZXIgfHwgdGhpcy5pbkZvb3Rlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dDtcbiAgICBpZiAodGhpcy5jdXJyZW50Um93SW5kZXggPCAwKSB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ID0gZm9ybWF0dGluZ0NvbnRleHQuZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlKFxuICAgICAgICBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXgrKztcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50Q29sdW1uSW5kZXggPSAwO1xuICAgIHRoaXMuaW5Sb3cgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmxheW91dFJvd1NwYW5uaW5nQ2VsbHNGcm9tUHJldmlvdXNGcmFnbWVudChzdGF0ZSkudGhlbkFzeW5jKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlZ2lzdGVyQ2VsbEZyYWdtZW50SW5kZXgoKTtcbiAgICAgICAgY29uc3Qgb3ZlcmZsb3duID0gdGhpcy5jb2x1bW4uY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbihcbiAgICAgICAgICBzdGF0ZS5sYXN0QWZ0ZXJOb2RlQ29udGV4dCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgc3RhdGUuYnJlYWtBdFRoZUVkZ2UsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBvdmVyZmxvd24gJiZcbiAgICAgICAgICBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb3dTcGFubmluZ0NlbGxzT3ZlcmZsb3dpbmdUaGVSb3coXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSb3dJbmRleCAtIDEsXG4gICAgICAgICAgKS5sZW5ndGggPT09IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5yZXNldENvbHVtbigpO1xuICAgICAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdHJ1ZTtcbiAgICAgICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3RlckNlbGxGcmFnbWVudEluZGV4KCkge1xuICAgIGNvbnN0IGNlbGxzID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5nZXRSb3dCeUluZGV4KHRoaXMuY3VycmVudFJvd0luZGV4KVxuICAgICAgLmNlbGxzO1xuICAgIGNlbGxzLmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgIGNvbnN0IGNlbGxCcmVha1Bvc2l0aW9uID0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC5jZWxsQnJlYWtQb3NpdGlvbnNbXG4gICAgICAgIGNlbGwuY29sdW1uSW5kZXhcbiAgICAgIF07XG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9uICYmXG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9uLmNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleCA9PVxuICAgICAgICAgIGNlbGwuYW5jaG9yU2xvdC5jb2x1bW5JbmRleFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHRkTm9kZVN0ZXAgPSBjZWxsQnJlYWtQb3NpdGlvbi5jZWxsTm9kZVBvc2l0aW9uLnN0ZXBzWzBdO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSAodGhpcy5jb2x1bW5cbiAgICAgICAgICAubGF5b3V0Q29udGV4dCBhcyBWZ2VuLlZpZXdGYWN0b3J5KS54bWxkb2MuZ2V0RWxlbWVudE9mZnNldChcbiAgICAgICAgICB0ZE5vZGVTdGVwLm5vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgKTtcbiAgICAgICAgTGF5b3V0LnJlZ2lzdGVyRnJhZ21lbnRJbmRleChvZmZzZXQsIHRkTm9kZVN0ZXAuZnJhZ21lbnRJbmRleCArIDEsIDEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3RhcnRUYWJsZUNlbGwoc3RhdGU6IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3JTdGF0ZSk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5pbkhlYWRlciB8fCB0aGlzLmluRm9vdGVyKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgaWYgKCF0aGlzLmluUm93KSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Um93SW5kZXggPCAwKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4Kys7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnRDb2x1bW5JbmRleCA9IDA7XG4gICAgICB0aGlzLmluUm93ID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgY2VsbCA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um93QnlJbmRleCh0aGlzLmN1cnJlbnRSb3dJbmRleClcbiAgICAgIC5jZWxsc1t0aGlzLmN1cnJlbnRDb2x1bW5JbmRleF07XG4gICAgY29uc3QgYWZ0ZXJOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKS5tb2RpZnkoKTtcbiAgICBhZnRlck5vZGVDb250ZXh0LmFmdGVyID0gdHJ1ZTtcbiAgICBzdGF0ZS5ub2RlQ29udGV4dCA9IGFmdGVyTm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFwic3RhcnRUYWJsZUNlbGxcIik7XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PFZ0cmVlLkNodW5rUG9zaXRpb24+O1xuICAgIGlmICh0aGlzLmhhc0Jyb2tlbkNlbGxBdFNsb3QoY2VsbC5hbmNob3JTbG90LmNvbHVtbkluZGV4KSkge1xuICAgICAgY29uc3QgY2VsbEJyZWFrUG9zaXRpb24gPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9ucy5zaGlmdCgpO1xuICAgICAgbm9kZUNvbnRleHQuZnJhZ21lbnRJbmRleCA9XG4gICAgICAgIGNlbGxCcmVha1Bvc2l0aW9uLmNlbGxOb2RlUG9zaXRpb24uc3RlcHNbMF0uZnJhZ21lbnRJbmRleCArIDE7XG4gICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQoY2VsbEJyZWFrUG9zaXRpb24uYnJlYWtDaHVua1Bvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udCA9IHRoaXMuY29sdW1uXG4gICAgICAgIC5uZXh0SW5UcmVlKG5vZGVDb250ZXh0LCBzdGF0ZS5hdFVuZm9yY2VkQnJlYWspXG4gICAgICAgIC50aGVuQXN5bmMoKG5leHROb2RlQ29udGV4dCkgPT4ge1xuICAgICAgICAgIGlmIChuZXh0Tm9kZUNvbnRleHQudmlld05vZGUpIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnJlbW92ZUNoaWxkKG5leHROb2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHN0YXJ0Tm9kZVBvc2l0aW9uID0gVnRyZWVJbXBsLm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dChcbiAgICAgICAgICAgIG5leHROb2RlQ29udGV4dCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKHN0YXJ0Tm9kZVBvc2l0aW9uKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb250LnRoZW4oKHN0YXJ0Q2h1bmtQb3NpdGlvbikgPT4ge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQpO1xuICAgICAgdGhpcy5sYXlvdXRDZWxsKGNlbGwsIG5vZGVDb250ZXh0LCBzdGFydENodW5rUG9zaXRpb24pLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmFmdGVyTm9uSW5saW5lRWxlbWVudE5vZGUoc3RhdGUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRDb2x1bW5JbmRleCsrO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzdGFydE5vbklubGluZUJveChcbiAgICBzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgciA9IHNraXBOZXN0ZWRUYWJsZShcbiAgICAgIHN0YXRlLFxuICAgICAgZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dCh0aGlzLmZvcm1hdHRpbmdDb250ZXh0KSxcbiAgICAgIHRoaXMuY29sdW1uLFxuICAgICk7XG4gICAgaWYgKHIpIHtcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBjb25zdCBub2RlQ29udGV4dCA9IHN0YXRlLm5vZGVDb250ZXh0O1xuICAgIGNvbnN0IHJlcGV0aXRpdmVFbGVtZW50cyA9IHRoaXMuZm9ybWF0dGluZ0NvbnRleHQuZ2V0UmVwZXRpdGl2ZUVsZW1lbnRzKCk7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgaWYgKFxuICAgICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIiAmJlxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpXG4gICAgKSB7XG4gICAgICB0aGlzLmluSGVhZGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgZGlzcGxheSA9PT0gXCJ0YWJsZS1mb290ZXItZ3JvdXBcIiAmJlxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzICYmXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNGb290ZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpXG4gICAgKSB7XG4gICAgICB0aGlzLmluRm9vdGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGRpc3BsYXkgPT09IFwidGFibGUtcm93XCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0VGFibGVSb3coc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gXCJ0YWJsZS1jZWxsXCIpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YXJ0VGFibGVDZWxsKHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgfVxuXG4gIGVuZE5vbklubGluZUJveChzdGF0ZTogTGF5b3V0VXRpbC5MYXlvdXRJdGVyYXRvclN0YXRlKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IG5vZGVDb250ZXh0ID0gc3RhdGUubm9kZUNvbnRleHQ7XG4gICAgY29uc3QgZGlzcGxheSA9IG5vZGVDb250ZXh0LmRpc3BsYXk7XG4gICAgaWYgKGRpc3BsYXkgPT09IFwidGFibGUtcm93XCIpIHtcbiAgICAgIHRoaXMuaW5Sb3cgPSBmYWxzZTtcbiAgICAgIGlmICghdGhpcy5pbkhlYWRlciAmJiAhdGhpcy5pbkZvb3Rlcikge1xuICAgICAgICBjb25zdCBiZWZvcmVOb2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LmNvcHkoKS5tb2RpZnkoKTtcbiAgICAgICAgYmVmb3JlTm9kZUNvbnRleHQuYWZ0ZXIgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgYnAgPSBuZXcgSW5zaWRlVGFibGVSb3dCcmVha1Bvc2l0aW9uKFxuICAgICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4LFxuICAgICAgICAgIGJlZm9yZU5vZGVDb250ZXh0LFxuICAgICAgICAgIHRoaXMuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29sdW1uLmJyZWFrUG9zaXRpb25zLnB1c2goYnApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIHN0YXRlOiBMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yU3RhdGUsXG4gICk6IHZvaWQgfCBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgbm9kZUNvbnRleHQgPSBzdGF0ZS5ub2RlQ29udGV4dDtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGNvbnN0IGRpc3BsYXkgPSBub2RlQ29udGV4dC5kaXNwbGF5O1xuICAgIGlmIChkaXNwbGF5ID09PSBcInRhYmxlLWhlYWRlci1ncm91cFwiKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgICAhcmVwZXRpdGl2ZUVsZW1lbnRzLmFsbG93SW5zZXJ0UmVwZWF0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMuaXNIZWFkZXJTb3VyY2VOb2RlKG5vZGVDb250ZXh0LnNvdXJjZU5vZGUpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5pbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCxcbiAgICAgICAgICBcImRpc3BsYXlcIixcbiAgICAgICAgICBcInRhYmxlLXJvdy1ncm91cFwiLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZGlzcGxheSA9PT0gXCJ0YWJsZS1mb290ZXItZ3JvdXBcIikge1xuICAgICAgaWYgKFxuICAgICAgICByZXBldGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5hbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMgJiZcbiAgICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRm9vdGVyU291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuaW5Gb290ZXIgPSBmYWxzZTtcbiAgICAgICAgbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlQ29udGV4dC52aWV3Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQsXG4gICAgICAgICAgXCJkaXNwbGF5XCIsXG4gICAgICAgICAgXCJ0YWJsZS1yb3ctZ3JvdXBcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGRpc3BsYXkgJiYgVGFibGVMYXlvdXRTdHJhdGVneS5pZ25vcmVMaXN0W2Rpc3BsYXldKSB7XG4gICAgICBub2RlQ29udGV4dC52aWV3Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT0gdGhpcy5mb3JtYXR0aW5nQ29udGV4dC50YWJsZVNvdXJjZU5vZGVcbiAgICApIHtcbiAgICAgIG5vZGVDb250ZXh0Lm92ZXJmbG93ID0gdGhpcy5jb2x1bW4uY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlKFxuICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgbnVsbCxcbiAgICAgICk7XG4gICAgICB0aGlzLnJlc2V0Q29sdW1uKCk7XG4gICAgICBzdGF0ZS5icmVhayA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci5hZnRlck5vbklubGluZUVsZW1lbnROb2RlKHN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICB9XG59XG5cbnR5cGUgVGFibGVMYXlvdXRPcHRpb24gPSB7XG4gIGNhbGN1bGF0ZUJyZWFrUG9zaXRpb25zSW5zaWRlOiBib29sZWFuO1xufTtcbmNvbnN0IHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGU6IHtcbiAgcm9vdDogTm9kZTtcbiAgdGFibGVMYXlvdXRPcHRpb246IFRhYmxlTGF5b3V0T3B0aW9uO1xufVtdID0gW107XG5cbmZ1bmN0aW9uIGdldFRhYmxlTGF5b3V0T3B0aW9uKFxuICB0YWJsZVJvb3RTb3VyY2VOb2RlOiBOb2RlLFxuKTogVGFibGVMYXlvdXRPcHRpb24gfCBudWxsIHtcbiAgY29uc3QgaSA9IHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUuZmluZEluZGV4KFxuICAgIChjKSA9PiBjLnJvb3QgPT09IHRhYmxlUm9vdFNvdXJjZU5vZGUsXG4gICk7XG4gIGNvbnN0IHBhaXIgPSB0YWJsZUxheW91dE9wdGlvbkNhY2hlW2ldO1xuICByZXR1cm4gcGFpciA/IHBhaXIudGFibGVMYXlvdXRPcHRpb24gOiBudWxsO1xufVxuXG5mdW5jdGlvbiBjbGVhclRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUodGFibGVSb290U291cmNlTm9kZTogTm9kZSk6IHZvaWQge1xuICBjb25zdCBpID0gdGFibGVMYXlvdXRPcHRpb25DYWNoZS5maW5kSW5kZXgoXG4gICAgKGMpID0+IGMucm9vdCA9PT0gdGFibGVSb290U291cmNlTm9kZSxcbiAgKTtcbiAgaWYgKGkgPj0gMCkge1xuICAgIHRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUuc3BsaWNlKGksIDEpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZUxheW91dFByb2Nlc3NvciBpbXBsZW1lbnRzIExheW91dFByb2Nlc3Nvci5MYXlvdXRQcm9jZXNzb3Ige1xuICBwcml2YXRlIGxheW91dEVudGlyZVRhYmxlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBFbnRpcmVUYWJsZUxheW91dFN0cmF0ZWd5KGZvcm1hdHRpbmdDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IoXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLml0ZXJhdGUobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb2x1bW5XaWR0aHMoXG4gICAgbGFzdFJvdzogRWxlbWVudCxcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiBudW1iZXJbXSB7XG4gICAgY29uc3QgZG9jID0gbGFzdFJvdy5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGR1bW15Um93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcbiAgICBjb25zdCBkdW1teUNlbGxzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5Db3VudDsgaSsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcbiAgICAgIGR1bW15Um93LmFwcGVuZENoaWxkKGNlbGwpO1xuICAgICAgZHVtbXlDZWxscy5wdXNoKGNlbGwpO1xuICAgIH1cbiAgICBsYXN0Um93LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGR1bW15Um93LCBsYXN0Um93Lm5leHRTaWJsaW5nKTtcbiAgICBjb25zdCBjb2xXaWR0aHMgPSBkdW1teUNlbGxzLm1hcCgoY2VsbCkgPT4ge1xuICAgICAgY29uc3QgcmVjdCA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChjZWxsKTtcbiAgICAgIHJldHVybiB2ZXJ0aWNhbCA/IHJlY3RbXCJoZWlnaHRcIl0gOiByZWN0W1wid2lkdGhcIl07XG4gICAgfSk7XG4gICAgbGFzdFJvdy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGR1bW15Um93KTtcbiAgICByZXR1cm4gY29sV2lkdGhzO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDb2xHcm91cEVsZW1lbnRzKHRhYmxlRWxlbWVudDogRWxlbWVudCk6IEVsZW1lbnRbXSB7XG4gICAgY29uc3QgY29sR3JvdXBzID0gW107XG4gICAgbGV0IGNoaWxkID0gdGFibGVFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgIHdoaWxlIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkLmxvY2FsTmFtZSA9PT0gXCJjb2xncm91cFwiKSB7XG4gICAgICAgIGNvbEdyb3Vwcy5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gY29sR3JvdXBzO1xuICB9XG5cbiAgcHJpdmF0ZSBub3JtYWxpemVBbmRHZXRDb2xFbGVtZW50cyhjb2xHcm91cHM6IEVsZW1lbnRbXSk6IEVsZW1lbnRbXSB7XG4gICAgY29uc3QgY29scyA9IFtdO1xuICAgIGNvbEdyb3Vwcy5mb3JFYWNoKChjb2xHcm91cCkgPT4ge1xuICAgICAgLy8gUmVwbGFjZSBjb2xncm91cFtzcGFuPW5dIHdpdGggY29sZ3JvdXAgd2l0aCBuIGNvbCBlbGVtZW50c1xuICAgICAgbGV0IHNwYW4gPSAoY29sR3JvdXAgYXMgYW55KS5zcGFuO1xuICAgICAgY29sR3JvdXAucmVtb3ZlQXR0cmlidXRlKFwic3BhblwiKTtcbiAgICAgIGxldCBjb2wgPSBjb2xHcm91cC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgIHdoaWxlIChjb2wpIHtcbiAgICAgICAgaWYgKGNvbC5sb2NhbE5hbWUgPT09IFwiY29sXCIpIHtcbiAgICAgICAgICAvLyBSZXBsYWNlIGNvbFtzcGFuPW5dIHdpdGggbiBjb2wgZWxlbWVudHNcbiAgICAgICAgICBsZXQgcyA9IChjb2wgYXMgYW55KS5zcGFuO1xuICAgICAgICAgIGNvbC5yZW1vdmVBdHRyaWJ1dGUoXCJzcGFuXCIpO1xuICAgICAgICAgIHNwYW4gLT0gcztcbiAgICAgICAgICB3aGlsZSAocy0tID4gMSkge1xuICAgICAgICAgICAgY29uc3QgY2xvbmVkID0gY29sLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgIGNvbEdyb3VwLmluc2VydEJlZm9yZShjbG9uZWQsIGNvbCk7XG4gICAgICAgICAgICBjb2xzLnB1c2goY2xvbmVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29scy5wdXNoKGNvbCk7XG4gICAgICAgIH1cbiAgICAgICAgY29sID0gY29sLm5leHRFbGVtZW50U2libGluZztcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzcGFuLS0gPiAwKSB7XG4gICAgICAgIGNvbCA9IGNvbEdyb3VwLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNvbFwiKTtcbiAgICAgICAgY29sR3JvdXAuYXBwZW5kQ2hpbGQoY29sKTtcbiAgICAgICAgY29scy5wdXNoKGNvbCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNvbHM7XG4gIH1cblxuICBwcml2YXRlIGFkZE1pc3NpbmdDb2xFbGVtZW50cyhcbiAgICBjb2xzOiBFbGVtZW50W10sXG4gICAgY29sR3JvdXBzOiBFbGVtZW50W10sXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICB0YWJsZUVsZW1lbnQ6IEVsZW1lbnQsXG4gICkge1xuICAgIGlmIChjb2xzLmxlbmd0aCA8IGNvbHVtbkNvdW50KSB7XG4gICAgICBjb25zdCBjb2xHcm91cCA9IHRhYmxlRWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjb2xncm91cFwiKTtcbiAgICAgIGNvbEdyb3Vwcy5wdXNoKGNvbEdyb3VwKTtcbiAgICAgIGZvciAobGV0IGkgPSBjb2xzLmxlbmd0aDsgaSA8IGNvbHVtbkNvdW50OyBpKyspIHtcbiAgICAgICAgY29uc3QgY29sID0gdGFibGVFbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNvbFwiKTtcbiAgICAgICAgY29sR3JvdXAuYXBwZW5kQ2hpbGQoY29sKTtcbiAgICAgICAgY29scy5wdXNoKGNvbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1lYXN1cmUgd2lkdGggb2YgY29sdW1ucyBhbmQgbm9ybWFsaXplIGNvbGdyb3VwIGFuZCBjb2wgZWxlbWVudHMgc28gdGhhdFxuICAgKiBlYWNoIGNvbHVtbiBoYXMgYSBjb3JyZXNwb25kaW5nIGNvbCBlbGVtZW50IHdpdGggdGhlIHdpZHRoIHNwZWNpZmllZC5cbiAgICovXG4gIG5vcm1hbGl6ZUNvbEdyb3VwcyhcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICB0YWJsZUVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApIHtcbiAgICBjb25zdCB2ZXJ0aWNhbCA9IGZvcm1hdHRpbmdDb250ZXh0LnZlcnRpY2FsO1xuICAgIGNvbnN0IGxhc3RSb3cgPSBmb3JtYXR0aW5nQ29udGV4dC5sYXN0Um93Vmlld05vZGU7XG4gICAgaWYgKCFsYXN0Um93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIEFzc2VydHMuYXNzZXJ0KGxhc3RSb3cpO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0Lmxhc3RSb3dWaWV3Tm9kZSA9IG51bGw7XG4gICAgY29uc3QgZG9jID0gbGFzdFJvdy5vd25lckRvY3VtZW50O1xuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIC8vIENvdW50IGNvbHVtbnNcbiAgICBjb25zdCBjb2x1bW5Db3VudCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldENvbHVtbkNvdW50KCk7XG4gICAgaWYgKCEoY29sdW1uQ291bnQgPiAwKSkge1xuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzID0gZnJhZ21lbnQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTWVhc3VyZSBjb2x1bW4gd2lkdGhzXG4gICAgY29uc3QgY29sV2lkdGhzID0gKGZvcm1hdHRpbmdDb250ZXh0LmNvbFdpZHRocyA9IHRoaXMuZ2V0Q29sdW1uV2lkdGhzKFxuICAgICAgbGFzdFJvdyxcbiAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgdmVydGljYWwsXG4gICAgICBjb2x1bW4uY2xpZW50TGF5b3V0LFxuICAgICkpO1xuXG4gICAgLy8gTm9ybWFsaXplIGNvbGdyb3VwIGFuZCBjb2wgZWxlbWVudHNcbiAgICBjb25zdCBjb2xHcm91cHMgPSB0aGlzLmdldENvbEdyb3VwRWxlbWVudHModGFibGVFbGVtZW50KTtcbiAgICBjb25zdCBjb2xzID0gdGhpcy5ub3JtYWxpemVBbmRHZXRDb2xFbGVtZW50cyhjb2xHcm91cHMpO1xuXG4gICAgLy8gQWRkIG1pc3NpbmcgY29sIGVsZW1lbnRzIGZvciByZW1haW5pbmcgY29sdW1uc1xuICAgIHRoaXMuYWRkTWlzc2luZ0NvbEVsZW1lbnRzKGNvbHMsIGNvbEdyb3VwcywgY29sdW1uQ291bnQsIHRhYmxlRWxlbWVudCk7XG5cbiAgICAvLyBBc3NpZ24gd2lkdGggdG8gY29sIGVsZW1lbnRzXG4gICAgY29scy5mb3JFYWNoKChjb2wsIGkpID0+IHtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgIGNvbCxcbiAgICAgICAgdmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLFxuICAgICAgICBgJHtjb2xXaWR0aHNbaV19cHhgLFxuICAgICAgKTtcbiAgICB9KTtcbiAgICBjb2xHcm91cHMuZm9yRWFjaCgoY29sR3JvdXApID0+IHtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbEdyb3VwLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgfSk7XG4gICAgZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzID0gZnJhZ21lbnQ7XG4gIH1cblxuICBkb0luaXRpYWxMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGZvcm1hdHRpbmdDb250ZXh0LnZlcnRpY2FsID0gbm9kZUNvbnRleHQudmVydGljYWw7XG4gICAgZm9ybWF0dGluZ0NvbnRleHQuaW5pdGlhbGl6ZVJlcGV0aXRpdmVFbGVtZW50cyhub2RlQ29udGV4dC52ZXJ0aWNhbCk7XG4gICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgY29uc3QgdGFibGVMYXlvdXRPcHRpb24gPSBnZXRUYWJsZUxheW91dE9wdGlvbihub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICBjbGVhclRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiVGFibGVMYXlvdXRQcm9jZXNzb3IuZG9Jbml0aWFsTGF5b3V0XCIsXG4gICAgKTtcbiAgICBjb25zdCBpbml0aWFsTm9kZUNvbnRleHQgPSBub2RlQ29udGV4dC5jb3B5KCk7XG4gICAgdGhpcy5sYXlvdXRFbnRpcmVUYWJsZShub2RlQ29udGV4dCwgY29sdW1uKS50aGVuKChub2RlQ29udGV4dEFmdGVyKSA9PiB7XG4gICAgICBjb25zdCB0YWJsZUVsZW1lbnQgPSBub2RlQ29udGV4dEFmdGVyLnZpZXdOb2RlIGFzIEVsZW1lbnQ7XG4gICAgICBjb25zdCB0YWJsZUJCb3ggPSBjb2x1bW4uY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KHRhYmxlRWxlbWVudCk7XG4gICAgICBsZXQgZWRnZSA9IGNvbHVtbi52ZXJ0aWNhbCA/IHRhYmxlQkJveC5sZWZ0IDogdGFibGVCQm94LmJvdHRvbTtcbiAgICAgIGVkZ2UgKz1cbiAgICAgICAgKGNvbHVtbi52ZXJ0aWNhbCA/IC0xIDogMSkgKlxuICAgICAgICBCcmVha1Bvc2l0aW9uLmNhbGN1bGF0ZU9mZnNldChcbiAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICBjb2x1bW4uY29sbGVjdEVsZW1lbnRzT2Zmc2V0KCksXG4gICAgICAgICkuY3VycmVudDtcbiAgICAgIGlmIChcbiAgICAgICAgIWNvbHVtbi5pc092ZXJmbG93bihlZGdlKSAmJlxuICAgICAgICAoIXRhYmxlTGF5b3V0T3B0aW9uIHx8ICF0YWJsZUxheW91dE9wdGlvbi5jYWxjdWxhdGVCcmVha1Bvc2l0aW9uc0luc2lkZSlcbiAgICAgICkge1xuICAgICAgICBjb2x1bW4uYnJlYWtQb3NpdGlvbnMucHVzaChcbiAgICAgICAgICBuZXcgRW50aXJlVGFibGVCcmVha1Bvc2l0aW9uKGluaXRpYWxOb2RlQ29udGV4dCksXG4gICAgICAgICk7XG4gICAgICAgIGZyYW1lLmZpbmlzaChub2RlQ29udGV4dEFmdGVyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5ub3JtYWxpemVDb2xHcm91cHMoZm9ybWF0dGluZ0NvbnRleHQsIHRhYmxlRWxlbWVudCwgY29sdW1uKTtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LnVwZGF0ZUNlbGxTaXplcyhjb2x1bW4uY2xpZW50TGF5b3V0KTtcbiAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBhZGRDYXB0aW9ucyhcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICByb290Vmlld05vZGU6IEVsZW1lbnQsXG4gICAgZmlyc3RDaGlsZDogTm9kZSB8IG51bGwsXG4gICkge1xuICAgIGNvbnN0IGNhcHRpb25zID0gZm9ybWF0dGluZ0NvbnRleHQuY2FwdGlvbnM7XG4gICAgY2FwdGlvbnMuZm9yRWFjaCgoY2FwdGlvbiwgaSkgPT4ge1xuICAgICAgaWYgKGNhcHRpb24pIHtcbiAgICAgICAgcm9vdFZpZXdOb2RlLmluc2VydEJlZm9yZShjYXB0aW9uLnZpZXdOb2RlLCBmaXJzdENoaWxkKTtcbiAgICAgICAgaWYgKGNhcHRpb24uc2lkZSA9PT0gXCJ0b3BcIikge1xuICAgICAgICAgIGNhcHRpb25zW2ldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYWRkQ29sR3JvdXBzKFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHJvb3RWaWV3Tm9kZTogRWxlbWVudCxcbiAgICBmaXJzdENoaWxkOiBOb2RlIHwgbnVsbCxcbiAgKSB7XG4gICAgaWYgKFxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY29sR3JvdXBzICYmXG4gICAgICB0aGlzLmdldENvbEdyb3VwRWxlbWVudHMocm9vdFZpZXdOb2RlKS5sZW5ndGggPT09IDBcbiAgICApIHtcbiAgICAgIHJvb3RWaWV3Tm9kZS5pbnNlcnRCZWZvcmUoXG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNvbEdyb3Vwcy5jbG9uZU5vZGUodHJ1ZSksXG4gICAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUNvbEdyb3VwcyhcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICByb290Vmlld05vZGU6IEVsZW1lbnQsXG4gICkge1xuICAgIGlmIChmb3JtYXR0aW5nQ29udGV4dC5jb2xHcm91cHMgJiYgcm9vdFZpZXdOb2RlKSB7XG4gICAgICBjb25zdCBjb2xHcm91cHMgPSB0aGlzLmdldENvbEdyb3VwRWxlbWVudHMocm9vdFZpZXdOb2RlKTtcbiAgICAgIGlmIChjb2xHcm91cHMpIHtcbiAgICAgICAgY29sR3JvdXBzLmZvckVhY2goKGNvbEdyb3VwKSA9PiB7XG4gICAgICAgICAgcm9vdFZpZXdOb2RlLnJlbW92ZUNoaWxkKGNvbEdyb3VwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IHJvb3RWaWV3Tm9kZSA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICkgYXMgRWxlbWVudDtcbiAgICBjb25zdCBmaXJzdENoaWxkID0gcm9vdFZpZXdOb2RlLmZpcnN0Q2hpbGQ7XG4gICAgdGhpcy5hZGRDYXB0aW9ucyhmb3JtYXR0aW5nQ29udGV4dCwgcm9vdFZpZXdOb2RlLCBmaXJzdENoaWxkKTtcbiAgICB0aGlzLmFkZENvbEdyb3Vwcyhmb3JtYXR0aW5nQ29udGV4dCwgcm9vdFZpZXdOb2RlLCBmaXJzdENoaWxkKTtcbiAgICBjb25zdCBzdHJhdGVneSA9IG5ldyBUYWJsZUxheW91dFN0cmF0ZWd5KGZvcm1hdHRpbmdDb250ZXh0LCBjb2x1bW4pO1xuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IExheW91dFV0aWwuTGF5b3V0SXRlcmF0b3IoXG4gICAgICBzdHJhdGVneSxcbiAgICAgIGNvbHVtbi5sYXlvdXRDb250ZXh0LFxuICAgICk7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPFZ0cmVlLk5vZGVDb250ZXh0PihcbiAgICAgIFwiVGFibGVGb3JtYXR0aW5nQ29udGV4dC5kb0xheW91dFwiLFxuICAgICk7XG4gICAgaXRlcmF0b3IuaXRlcmF0ZShub2RlQ29udGV4dCkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICAgbGVhZGluZ0VkZ2U6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgbm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCByb290Vmlld05vZGUgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSb290Vmlld05vZGUobm9kZUNvbnRleHQpO1xuICAgIGlmICghcm9vdFZpZXdOb2RlKSB7XG4gICAgICByZXR1cm4gY29sdW1uLmJ1aWxkRGVlcEVsZW1lbnRWaWV3KG5vZGVDb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGxlYWRpbmdFZGdlKSB7XG4gICAgICAgIFJlcGV0aXRpdmVFbGVtZW50SW1wbC5hcHBlbmRIZWFkZXJUb0FuY2VzdG9ycyhcbiAgICAgICAgICBub2RlQ29udGV4dC5wYXJlbnQsXG4gICAgICAgICAgY29sdW1uLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBMYXlvdXRSZXRyeWVyKGZvcm1hdHRpbmdDb250ZXh0LCB0aGlzKS5sYXlvdXQoXG4gICAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgICBjb2x1bW4sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUVkZ2VCcmVha1Bvc2l0aW9uKFxuICAgIHBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBicmVha09uRWRnZTogc3RyaW5nIHwgbnVsbCxcbiAgICBvdmVyZmxvd3M6IGJvb2xlYW4sXG4gICAgY29sdW1uQmxvY2tTaXplOiBudW1iZXIsXG4gICk6IExheW91dFR5cGUuQnJlYWtQb3NpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBCZXR3ZWVuVGFibGVSb3dCcmVha1Bvc2l0aW9uKFxuICAgICAgcG9zaXRpb24sXG4gICAgICBicmVha09uRWRnZSxcbiAgICAgIG92ZXJmbG93cyxcbiAgICAgIGNvbHVtbkJsb2NrU2l6ZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnROb25JbmxpbmVFbGVtZW50Tm9kZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZnRlck5vbklubGluZUVsZW1lbnROb2RlKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBzdG9wQXRPdmVyZmxvdzogYm9vbGVhbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JjZVJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICAgZW5kT2ZDb2x1bW46IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmb3JtYXR0aW5nQ29udGV4dCA9IGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGlmIChub2RlQ29udGV4dC5kaXNwbGF5ID09PSBcInRhYmxlLXJvd1wiKSB7XG4gICAgICBBc3NlcnRzLmFzc2VydChub2RlQ29udGV4dC5zb3VyY2VOb2RlKTtcbiAgICAgIGNvbnN0IHJvd0luZGV4ID0gZm9ybWF0dGluZ0NvbnRleHQuZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlKFxuICAgICAgICBub2RlQ29udGV4dC5zb3VyY2VOb2RlLFxuICAgICAgKTtcbiAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmNlbGxCcmVha1Bvc2l0aW9ucyA9IFtdO1xuICAgICAgbGV0IGNlbGxzOiBUYWJsZUNlbGxbXTtcbiAgICAgIGlmICghbm9kZUNvbnRleHQuYWZ0ZXIpIHtcbiAgICAgICAgY2VsbHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRDZWxsc0ZhbGxpbmdPblJvdyhyb3dJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjZWxscyA9IGZvcm1hdHRpbmdDb250ZXh0LmdldFJvd1NwYW5uaW5nQ2VsbHNPdmVyZmxvd2luZ1RoZVJvdyhcbiAgICAgICAgICByb3dJbmRleCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxscy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lPGJvb2xlYW4+KFxuICAgICAgICAgIFwiVGFibGVMYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWtcIixcbiAgICAgICAgKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmcmFtZVxuICAgICAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChpID09PSBjZWxscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gY2VsbHNbaSsrXTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxGcmFnbWVudCA9IGZvcm1hdHRpbmdDb250ZXh0LmdldENlbGxGcmFnbWVudE9mQ2VsbChjZWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrTm9kZUNvbnRleHQgPSBjZWxsRnJhZ21lbnQuZmluZEFjY2VwdGFibGVCcmVha1Bvc2l0aW9uKClcbiAgICAgICAgICAgICAgLm5vZGVDb250ZXh0O1xuICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoYnJlYWtOb2RlQ29udGV4dCk7XG4gICAgICAgICAgICBjb25zdCBjZWxsTm9kZUNvbnRleHQgPSBjZWxsRnJhZ21lbnQuY2VsbE5vZGVDb250ZXh0O1xuICAgICAgICAgICAgY29uc3QgY2VsbE5vZGVQb3NpdGlvbiA9IGNlbGxOb2RlQ29udGV4dC50b05vZGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgYnJlYWtDaHVua1Bvc2l0aW9uID0gbmV3IFZ0cmVlSW1wbC5DaHVua1Bvc2l0aW9uKFxuICAgICAgICAgICAgICBicmVha05vZGVDb250ZXh0LnRvTm9kZVBvc2l0aW9uKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuY2VsbEJyZWFrUG9zaXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICBjZWxsTm9kZVBvc2l0aW9uLFxuICAgICAgICAgICAgICBicmVha0NodW5rUG9zaXRpb24sXG4gICAgICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgICB9IGFzIEJyb2tlblRhYmxlQ2VsbFBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxWaWV3Tm9kZSA9IGNlbGxOb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBIVE1MVGFibGVDZWxsRWxlbWVudDtcbiAgICAgICAgICAgIGNlbGxGcmFnbWVudC5jb2x1bW4ubGF5b3V0Q29udGV4dC5wcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShcbiAgICAgICAgICAgICAgY2VsbEZyYWdtZW50LmNlbGxOb2RlQ29udGV4dCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPCBjZWxsLnJvd0luZGV4ICsgY2VsbC5yb3dTcGFuIC0gMSkge1xuICAgICAgICAgICAgICBjZWxsVmlld05vZGUucm93U3BhbiA9IHJvd0luZGV4IC0gY2VsbC5yb3dJbmRleCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNlbGxGcmFnbWVudC5lbXB0eSkge1xuICAgICAgICAgICAgICBjZWxsRnJhZ21lbnQucHNldWRvQ29sdW1uXG4gICAgICAgICAgICAgICAgLmZpbmlzaEJyZWFrKGJyZWFrTm9kZUNvbnRleHQsIGZhbHNlLCB0cnVlKVxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KGNlbGxGcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgICBhZGp1c3RDZWxsSGVpZ2h0KFxuICAgICAgICAgICAgICAgICAgICBjZWxsRnJhZ21lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBicmVha05vZGVDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbHVtbi5jbGVhck92ZXJmbG93blZpZXdOb2Rlcyhub2RlQ29udGV4dCwgZmFsc2UpO1xuICAgICAgICAgICAgY29sdW1uLmxheW91dENvbnRleHQucHJvY2Vzc0ZyYWdtZW50ZWRCbG9ja0VkZ2Uobm9kZUNvbnRleHQpO1xuICAgICAgICAgICAgZm9ybWF0dGluZ0NvbnRleHQuZmluaXNoRnJhZ21lbnQoKTtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtYXR0aW5nQ29udGV4dC5maW5pc2hGcmFnbWVudCgpO1xuICAgIHJldHVybiBMYXlvdXRQcm9jZXNzb3IuYmxvY2tMYXlvdXRQcm9jZXNzb3IuZmluaXNoQnJlYWsoXG4gICAgICBjb2x1bW4sXG4gICAgICBub2RlQ29udGV4dCxcbiAgICAgIGZvcmNlUmVtb3ZlU2VsZixcbiAgICAgIGVuZE9mQ29sdW1uLFxuICAgICk7XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGNsZWFyT3ZlcmZsb3duVmlld05vZGVzKFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgICBwYXJlbnROb2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIHJlbW92ZVNlbGY6IGJvb2xlYW4sXG4gICkge1xuICAgIExheW91dFByb2Nlc3Nvci5CbG9ja0xheW91dFByb2Nlc3Nvci5wcm90b3R5cGUuY2xlYXJPdmVyZmxvd25WaWV3Tm9kZXMoXG4gICAgICBjb2x1bW4sXG4gICAgICBwYXJlbnROb2RlQ29udGV4dCxcbiAgICAgIG5vZGVDb250ZXh0LFxuICAgICAgcmVtb3ZlU2VsZixcbiAgICApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkanVzdENlbGxIZWlnaHQoXG4gIGNlbGxGcmFnbWVudDogVGFibGVDZWxsRnJhZ21lbnQsXG4gIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICBicmVha05vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbik6IHZvaWQge1xuICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSBmb3JtYXR0aW5nQ29udGV4dC5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgaWYgKCFyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdmVydGljYWwgPSBmb3JtYXR0aW5nQ29udGV4dC52ZXJ0aWNhbDtcbiAgY29uc3QgY29sdW1uID0gY2VsbEZyYWdtZW50LmNvbHVtbjtcbiAgY29uc3QgY2VsbENvbnRlbnRFbGVtZW50ID0gY2VsbEZyYWdtZW50LnBzZXVkb0NvbHVtbi5nZXRDb2x1bW5FbGVtZW50KCk7XG4gIGNvbnN0IGNlbGxFbGVtZW50ID0gY2VsbEZyYWdtZW50LmNlbGxOb2RlQ29udGV4dC52aWV3Tm9kZSBhcyBFbGVtZW50O1xuICBjb25zdCBjZWxsRWxlbWVudFJlY3QgPSBjb2x1bW4uY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDbGllbnRSZWN0KGNlbGxFbGVtZW50KTtcbiAgY29uc3QgcGFkZGluZyA9IGNvbHVtbi5nZXRDb21wdXRlZFBhZGRpbmdCb3JkZXIoY2VsbEVsZW1lbnQpO1xuICBpZiAodmVydGljYWwpIHtcbiAgICBjb25zdCB3aWR0aCA9XG4gICAgICBjZWxsRWxlbWVudFJlY3QucmlnaHQgLVxuICAgICAgY29sdW1uLmZvb3Rub3RlRWRnZSAtXG4gICAgICByZXBldGl0aXZlRWxlbWVudHMuY2FsY3VsYXRlT2Zmc2V0KGJyZWFrTm9kZUNvbnRleHQpIC1cbiAgICAgIHBhZGRpbmcucmlnaHQ7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjZWxsQ29udGVudEVsZW1lbnQsIFwibWF4LXdpZHRoXCIsIGAke3dpZHRofXB4YCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaGVpZ2h0ID1cbiAgICAgIGNvbHVtbi5mb290bm90ZUVkZ2UgLVxuICAgICAgcmVwZXRpdGl2ZUVsZW1lbnRzLmNhbGN1bGF0ZU9mZnNldChicmVha05vZGVDb250ZXh0KSAtXG4gICAgICBjZWxsRWxlbWVudFJlY3QudG9wIC1cbiAgICAgIHBhZGRpbmcudG9wO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY2VsbENvbnRlbnRFbGVtZW50LCBcIm1heC1oZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gIH1cbiAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjZWxsQ29udGVudEVsZW1lbnQsIFwib3ZlcmZsb3dcIiwgXCJoaWRkZW5cIik7XG59XG5cbmV4cG9ydCBjbGFzcyBMYXlvdXRSZXRyeWVyIGV4dGVuZHMgTGF5b3V0UmV0cnllcnMuQWJzdHJhY3RMYXlvdXRSZXRyeWVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSB0YWJsZUZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcHJvY2Vzc29yOiBUYWJsZUxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHJlc29sdmVMYXlvdXRNb2RlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IExheW91dFR5cGUuTGF5b3V0TW9kZSB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzIHx8ICFyZXBldGl0aXZlRWxlbWVudHMuZG9uZUluaXRpYWxMYXlvdXQpIHtcbiAgICAgIHJldHVybiBuZXcgTGF5b3V0RW50aXJlVGFibGUodGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LCB0aGlzLnByb2Nlc3Nvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcbiAgICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSA9PT1cbiAgICAgICAgICB0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQudGFibGVTb3VyY2VOb2RlICYmXG4gICAgICAgICFub2RlQ29udGV4dC5hZnRlclxuICAgICAgKSB7XG4gICAgICAgIGlmIChyZXBldGl0aXZlRWxlbWVudHMpIHtcbiAgICAgICAgICByZXBldGl0aXZlRWxlbWVudHMucHJldmVudFNraXBwaW5nSGVhZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgTGF5b3V0RnJhZ21lbnRlZFRhYmxlKFxuICAgICAgICB0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgICAgIHRoaXMucHJvY2Vzc29yLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBzdXBlci5jbGVhck5vZGVzKGluaXRpYWxQb3NpdGlvbik7XG4gICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LmdldFJvb3RWaWV3Tm9kZShcbiAgICAgIGluaXRpYWxQb3NpdGlvbixcbiAgICApO1xuICAgIHRoaXMucHJvY2Vzc29yLnJlbW92ZUNvbEdyb3Vwcyh0aGlzLnRhYmxlRm9ybWF0dGluZ0NvbnRleHQsIHJvb3RWaWV3Tm9kZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICByZXN0b3JlU3RhdGUobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LCBjb2x1bW46IExheW91dC5Db2x1bW4pIHtcbiAgICBzdXBlci5yZXN0b3JlU3RhdGUobm9kZUNvbnRleHQsIGNvbHVtbik7XG4gICAgdGhpcy50YWJsZUZvcm1hdHRpbmdDb250ZXh0LmZpbmlzaEZyYWdtZW50KCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheW91dEVudGlyZVRhYmxlIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLkxheW91dEVudGlyZUJsb2NrIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZm9ybWF0dGluZ0NvbnRleHQ6IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHByb2Nlc3NvcjogVGFibGVMYXlvdXRQcm9jZXNzb3IsXG4gICkge1xuICAgIHN1cGVyKGZvcm1hdHRpbmdDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGRvTGF5b3V0KFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLk5vZGVDb250ZXh0PiB7XG4gICAgcmV0dXJuIHRoaXMucHJvY2Vzc29yLmRvSW5pdGlhbExheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXJlVGFibGVCcmVha1Bvc2l0aW9uIGV4dGVuZHMgQnJlYWtQb3NpdGlvbi5FZGdlQnJlYWtQb3NpdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHRhYmxlTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgc3VwZXIodGFibGVOb2RlQ29udGV4dCwgbnVsbCwgdGFibGVOb2RlQ29udGV4dC5vdmVyZmxvdywgMCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRNaW5CcmVha1BlbmFsdHkoKTogbnVtYmVyIHtcbiAgICBpZiAoIXRoaXMuaXNFZGdlVXBkYXRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWRnZUJyZWFrUG9zaXRpb24ucHJvdG90eXBlLnVwZGF0ZUVkZ2Ugbm90IGNhbGxlZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgICh0aGlzLm92ZXJmbG93cyA/IDMgOiAwKSArXG4gICAgICAodGhpcy5wb3NpdGlvbi5wYXJlbnQgPyB0aGlzLnBvc2l0aW9uLnBhcmVudC5icmVha1BlbmFsdHkgOiAwKVxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBicmVha1Bvc2l0aW9uQ2hvc2VuKGNvbHVtbjogTGF5b3V0LkNvbHVtbik6IHZvaWQge1xuICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnB1c2goXG4gICAgICBuZXcgRW50aXJlVGFibGVMYXlvdXRDb25zdHJhaW50KHRoaXMucG9zaXRpb24uc291cmNlTm9kZSksXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRW50aXJlVGFibGVMYXlvdXRDb25zdHJhaW50XG4gIGltcGxlbWVudHMgTGF5b3V0LkZyYWdtZW50TGF5b3V0Q29uc3RyYWludCB7XG4gIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPSBcIkVudGlyZVRhYmxlXCI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHRhYmxlUm9vdE5vZGU6IE5vZGUpIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYWxsb3dMYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG92ZXJmbG93bk5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IGJvb2xlYW4ge1xuICAgIC8vIElmIHRoZSBub2RlQ29udGV4dCBvdmVyZmxvd3MsIGFueSBFbnRpcmVUYWJsZUxheW91dENvbnN0cmFpbnQgc2hvdWxkIG5vdFxuICAgIC8vIGJlIHJlZ2lzdGVyZWQgaW4gdGhlIGZpcnN0IHBsYWNlLiBTZWVcbiAgICAvLyBUYWJsZUxheW91dFByb2Nlc3Nvci5wcm90b3R5cGUuZG9Jbml0aWFsTGF5b3V0LlxuICAgIEFzc2VydHMuYXNzZXJ0KCFub2RlQ29udGV4dC5vdmVyZmxvdyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dENhbmRpZGF0ZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBvc3RMYXlvdXQoXG4gICAgYWxsb3dlZDogYm9vbGVhbixcbiAgICBwb3NpdGlvbkFmdGVyOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBpbml0aWFsUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKSB7XG4gICAgQXNzZXJ0cy5hc3NlcnQocG9zaXRpb25BZnRlci5zb3VyY2VOb2RlKTtcbiAgICB0YWJsZUxheW91dE9wdGlvbkNhY2hlLnB1c2goe1xuICAgICAgcm9vdDogcG9zaXRpb25BZnRlci5zb3VyY2VOb2RlLFxuICAgICAgdGFibGVMYXlvdXRPcHRpb246IHtcbiAgICAgICAgY2FsY3VsYXRlQnJlYWtQb3NpdGlvbnNJbnNpZGU6IHRydWUsXG4gICAgICB9IGFzIFRhYmxlTGF5b3V0T3B0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZmluaXNoQnJlYWsoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVxdWFsc1RvKGNvbnN0cmFpbnQ6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgY29uc3RyYWludCBpbnN0YW5jZW9mIEVudGlyZVRhYmxlTGF5b3V0Q29uc3RyYWludCAmJlxuICAgICAgY29uc3RyYWludC50YWJsZVJvb3ROb2RlID09PSB0aGlzLnRhYmxlUm9vdE5vZGVcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UHJpb3JpdHlPZkZpbmlzaEJyZWFrKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExheW91dEZyYWdtZW50ZWRUYWJsZSBleHRlbmRzIFJlcGV0aXRpdmVFbGVtZW50SW1wbC5MYXlvdXRGcmFnbWVudGVkQmxvY2sge1xuICBjb25zdHJ1Y3RvcihcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHJvY2Vzc29yOiBUYWJsZUxheW91dFByb2Nlc3NvcixcbiAgKSB7XG4gICAgc3VwZXIoZm9ybWF0dGluZ0NvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZG9MYXlvdXQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCByZXBldGl0aXZlRWxlbWVudHMgPSB0aGlzLmZvcm1hdHRpbmdDb250ZXh0LmdldFJlcGV0aXRpdmVFbGVtZW50cygpO1xuICAgIGlmIChcbiAgICAgIHJlcGV0aXRpdmVFbGVtZW50cyAmJlxuICAgICAgIXJlcGV0aXRpdmVFbGVtZW50cy5pc0FmdGVyTGFzdENvbnRlbnQobm9kZUNvbnRleHQpXG4gICAgKSB7XG4gICAgICBjb25zdCBjb25zdHJhaW50ID0gbmV3IFRhYmxlUm93TGF5b3V0Q29uc3RyYWludChub2RlQ29udGV4dCk7XG4gICAgICBpZiAoXG4gICAgICAgICFjb2x1bW4uZnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5zb21lKChjKSA9PiBjb25zdHJhaW50LmVxdWFsc1RvKGMpKVxuICAgICAgKSB7XG4gICAgICAgIGNvbHVtbi5mcmFnbWVudExheW91dENvbnN0cmFpbnRzLnVuc2hpZnQoY29uc3RyYWludCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb2Nlc3Nvci5kb0xheW91dChub2RlQ29udGV4dCwgY29sdW1uKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50XG4gIGV4dGVuZHMgUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLlJlcGV0aXRpdmVFbGVtZW50c093bmVyTGF5b3V0Q29uc3RyYWludFxuICBpbXBsZW1lbnRzIFRhYmxlLlRhYmxlUm93TGF5b3V0Q29uc3RyYWludCB7XG4gIGZsYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGU6IEZyYWdtZW50TGF5b3V0Q29uc3RyYWludFR5cGUgPSBcIlRhYmxlUm93XCI7XG4gIGNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzOiB7XG4gICAgY29uc3RyYWludHM6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnRbXTtcbiAgICBicmVha1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgfVtdID0gW107XG5cbiAgY29uc3RydWN0b3Iobm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0KSB7XG4gICAgc3VwZXIobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBhbGxvd0xheW91dChcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgb3ZlcmZsb3duTm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGNvbHVtbjogTGF5b3V0LkNvbHVtbixcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmVwZXRpdGl2ZUVsZW1lbnRzID0gdGhpcy5nZXRSZXBldGl0aXZlRWxlbWVudHMoKTtcbiAgICBpZiAoIXJlcGV0aXRpdmVFbGVtZW50cykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChjb2x1bW4ucHNldWRvUGFyZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKExheW91dEhlbHBlci5pc09ycGhhbih0aGlzLm5vZGVDb250ZXh0LnZpZXdOb2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghcmVwZXRpdGl2ZUVsZW1lbnRzLmlzRW5hYmxlVG9VcGRhdGVTdGF0ZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKG92ZXJmbG93bk5vZGVDb250ZXh0ICYmICFub2RlQ29udGV4dCkgfHxcbiAgICAgIChub2RlQ29udGV4dCAmJiBub2RlQ29udGV4dC5vdmVyZmxvdylcbiAgICApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBuZXh0Q2FuZGlkYXRlKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBjZWxsRnJhZ21lbnRDb25zdHJhaW50cyA9IHRoaXMuY29sbGVjdENlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzKFxuICAgICAgbm9kZUNvbnRleHQsXG4gICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGlmIChcbiAgICAgIGNlbGxGcmFnbWVudENvbnN0cmFpbnRzLnNvbWUoKGVudHJ5KSA9PlxuICAgICAgICBlbnRyeS5jb25zdHJhaW50cy5zb21lKChjb25zdHJhaW50KSA9PlxuICAgICAgICAgIGNvbnN0cmFpbnQubmV4dENhbmRpZGF0ZShub2RlQ29udGV4dCksXG4gICAgICAgICksXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLm5leHRDYW5kaWRhdGUobm9kZUNvbnRleHQpO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBwb3N0TGF5b3V0KFxuICAgIGFsbG93ZWQ6IGJvb2xlYW4sXG4gICAgcG9zaXRpb25BZnRlcjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgaW5pdGlhbFBvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICkge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLmNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzID0gdGhpcy5jb2xsZWN0Q2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgICBwb3NpdGlvbkFmdGVyLFxuICAgICAgZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICB0aGlzLmNlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBlbnRyeS5jb25zdHJhaW50cy5mb3JFYWNoKChjb25zdHJhaW50KSA9PiB7XG4gICAgICAgIGNvbnN0cmFpbnQucG9zdExheW91dChcbiAgICAgICAgICBhbGxvd2VkLFxuICAgICAgICAgIGVudHJ5LmJyZWFrUG9zaXRpb24sXG4gICAgICAgICAgaW5pdGlhbFBvc2l0aW9uLFxuICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmICghYWxsb3dlZCkge1xuICAgICAgY29uc3Qgcm9vdFZpZXdOb2RlID0gZm9ybWF0dGluZ0NvbnRleHQuZ2V0Um9vdFZpZXdOb2RlKHRoaXMubm9kZUNvbnRleHQpO1xuICAgICAgbmV3IFRhYmxlTGF5b3V0UHJvY2Vzc29yKCkucmVtb3ZlQ29sR3JvdXBzKFxuICAgICAgICBmb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgcm9vdFZpZXdOb2RlIGFzIEVsZW1lbnQsXG4gICAgICApO1xuICAgICAgdGhpcy5yZW1vdmVEdW1teVJvd05vZGVzKGluaXRpYWxQb3NpdGlvbik7XG4gICAgfVxuICAgIHN1cGVyLnBvc3RMYXlvdXQoYWxsb3dlZCwgcG9zaXRpb25BZnRlciwgaW5pdGlhbFBvc2l0aW9uLCBjb2x1bW4pO1xuICB9XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBmaW5pc2hCcmVhayhcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgY29sdW1uOiBMYXlvdXQuQ29sdW1uLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBnZXRUYWJsZUZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImZpbmlzaEJyZWFrXCIpO1xuICAgIGNvbnN0IGNvbnN0cmFpbnRzID0gdGhpcy5jZWxsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cy5yZWR1Y2UoXG4gICAgICAoYXJyYXksIGVudHJ5KSA9PlxuICAgICAgICBhcnJheS5jb25jYXQoXG4gICAgICAgICAgZW50cnkuY29uc3RyYWludHMubWFwKChjb25zdHJhaW50KSA9PiAoe1xuICAgICAgICAgICAgY29uc3RyYWludCxcbiAgICAgICAgICAgIGJyZWFrUG9zaXRpb246IGVudHJ5LmJyZWFrUG9zaXRpb24sXG4gICAgICAgICAgfSkpLFxuICAgICAgICApLFxuICAgICAgW10sXG4gICAgKTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgaWYgKGkgPCBjb25zdHJhaW50cy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGNvbnN0cmFpbnRzW2krK107XG4gICAgICAgICAgcmV0dXJuIGVudHJ5LmNvbnN0cmFpbnRcbiAgICAgICAgICAgIC5maW5pc2hCcmVhayhlbnRyeS5icmVha1Bvc2l0aW9uLCBjb2x1bW4pXG4gICAgICAgICAgICAudGhlblJldHVybih0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWVcbiAgICAgIC5yZXN1bHQoKVxuICAgICAgLnRoZW5Bc3luYygoKSA9PiBzdXBlci5maW5pc2hCcmVhayhub2RlQ29udGV4dCwgY29sdW1uKSk7XG4gIH1cblxuICByZW1vdmVEdW1teVJvd05vZGVzKG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCkge1xuICAgIGlmIChcbiAgICAgICFub2RlQ29udGV4dCB8fFxuICAgICAgbm9kZUNvbnRleHQuZGlzcGxheSAhPT0gXCJ0YWJsZS1yb3dcIiB8fFxuICAgICAgIW5vZGVDb250ZXh0LnZpZXdOb2RlXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlICgobm9kZUNvbnRleHQudmlld05vZGUgYXMgRWxlbWVudCkucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgICAgY29uc3QgZHVtbXlOb2RlID0gKG5vZGVDb250ZXh0LnZpZXdOb2RlIGFzIEVsZW1lbnQpXG4gICAgICAgIC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgaWYgKGR1bW15Tm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGR1bW15Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGR1bW15Tm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBjb2xsZWN0Q2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZvcm1hdHRpbmdDb250ZXh0OiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0LFxuICApOiB7XG4gICAgY29uc3RyYWludHM6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnRbXTtcbiAgICBicmVha1Bvc2l0aW9uOiBWdHJlZS5Ob2RlQ29udGV4dDtcbiAgfVtdIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDZWxsRnJhZ2VtbnRzKG5vZGVDb250ZXh0LCBmb3JtYXR0aW5nQ29udGV4dCkubWFwKFxuICAgICAgKGVudHJ5KSA9PiAoe1xuICAgICAgICBjb25zdHJhaW50czogZW50cnkuZnJhZ21lbnQucHNldWRvQ29sdW1uLmdldENvbHVtbigpXG4gICAgICAgICAgLmZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMsXG4gICAgICAgIGJyZWFrUG9zaXRpb246IGVudHJ5LmJyZWFrUG9zaXRpb24sXG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDZWxsRnJhZ2VtbnRzKFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBmb3JtYXR0aW5nQ29udGV4dDogVGFibGVGb3JtYXR0aW5nQ29udGV4dCxcbiAgKTogeyBmcmFnbWVudDogVGFibGVDZWxsRnJhZ21lbnQ7IGJyZWFrUG9zaXRpb246IFZ0cmVlLk5vZGVDb250ZXh0IH1bXSB7XG4gICAgbGV0IHJvd0luZGV4ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICBpZiAobm9kZUNvbnRleHQgJiYgbm9kZUNvbnRleHQuZGlzcGxheSA9PT0gXCJ0YWJsZS1yb3dcIikge1xuICAgICAgQXNzZXJ0cy5hc3NlcnQobm9kZUNvbnRleHQuc291cmNlTm9kZSk7XG4gICAgICByb3dJbmRleCA9XG4gICAgICAgIGZvcm1hdHRpbmdDb250ZXh0LmZpbmRSb3dJbmRleEJ5U291cmNlTm9kZShub2RlQ29udGV4dC5zb3VyY2VOb2RlKSArIDE7XG4gICAgfVxuICAgIHJvd0luZGV4ID0gTWF0aC5taW4oZm9ybWF0dGluZ0NvbnRleHQuY2VsbEZyYWdtZW50cy5sZW5ndGgsIHJvd0luZGV4KTtcbiAgICBjb25zdCBjZWxsRnJhZ21lbnRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dJbmRleDsgaSsrKSB7XG4gICAgICBpZiAoIWZvcm1hdHRpbmdDb250ZXh0LmNlbGxGcmFnbWVudHNbaV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBmb3JtYXR0aW5nQ29udGV4dC5jZWxsRnJhZ21lbnRzW2ldLmZvckVhY2goKGNlbGxGcmFnbWVudCkgPT4ge1xuICAgICAgICBpZiAoIWNlbGxGcmFnbWVudCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjZWxsRnJhZ21lbnRzLnB1c2goe1xuICAgICAgICAgIGZyYWdtZW50OiBjZWxsRnJhZ21lbnQsXG4gICAgICAgICAgYnJlYWtQb3NpdGlvbjogY2VsbEZyYWdtZW50LmZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbigpLm5vZGVDb250ZXh0LFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2VsbEZyYWdtZW50cztcbiAgfVxuXG4gIGdldEVsZW1lbnRzT2Zmc2V0c0ZvclRhYmxlQ2VsbChcbiAgICBjb2x1bW46IExheW91dC5Db2x1bW4sXG4gICk6IFJlcGV0aXRpdmVFbGVtZW50LkVsZW1lbnRzT2Zmc2V0W10ge1xuICAgIGNvbnN0IGZvcm1hdHRpbmdDb250ZXh0ID0gZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dChcbiAgICAgIHRoaXMubm9kZUNvbnRleHQuZm9ybWF0dGluZ0NvbnRleHQsXG4gICAgKTtcbiAgICBjb25zdCBwb3NpdGlvbiA9IGZvcm1hdHRpbmdDb250ZXh0LmZpbmRDZWxsRnJvbUNvbHVtbihjb2x1bW4pO1xuICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgcmV0dXJuIGZvcm1hdHRpbmdDb250ZXh0LmNvbGxlY3RFbGVtZW50c09mZnNldE9mVXBwZXJDZWxscyhwb3NpdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmb3JtYXR0aW5nQ29udGV4dC5jb2xsZWN0RWxlbWVudHNPZmZzZXRPZkhpZ2hlc3RDb2x1bW4oKTtcbiAgICB9XG4gIH1cblxuICAvKiogQG92ZXJyaWRlICovXG4gIGVxdWFsc1RvKGNvbnN0cmFpbnQ6IExheW91dC5GcmFnbWVudExheW91dENvbnN0cmFpbnQpOiBib29sZWFuIHtcbiAgICBpZiAoIShjb25zdHJhaW50IGluc3RhbmNlb2YgVGFibGVSb3dMYXlvdXRDb25zdHJhaW50KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgZ2V0VGFibGVGb3JtYXR0aW5nQ29udGV4dCh0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KSA9PT1cbiAgICAgIGdldFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoY29uc3RyYWludC5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dClcbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHRhYmxlTGF5b3V0UHJvY2Vzc29yID0gbmV3IFRhYmxlTGF5b3V0UHJvY2Vzc29yKCk7XG5cbmZ1bmN0aW9uIHJlc29sdmVGb3JtYXR0aW5nQ29udGV4dEhvb2soXG4gIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgZmlyc3RUaW1lOiBib29sZWFuLFxuICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gIHBvc2l0aW9uOiBDc3MuSWRlbnQsXG4gIGZsb2F0U2lkZTogQ3NzLklkZW50LFxuICBpc1Jvb3Q6IGJvb2xlYW4sXG4pOiBUYWJsZUZvcm1hdHRpbmdDb250ZXh0IHwgbnVsbCB7XG4gIGlmICghZmlyc3RUaW1lKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKGRpc3BsYXkgPT09IENzcy5pZGVudC50YWJsZSkge1xuICAgIGNvbnN0IHBhcmVudCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICByZXR1cm4gbmV3IFRhYmxlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICBwYXJlbnQgPyBwYXJlbnQuZm9ybWF0dGluZ0NvbnRleHQgOiBudWxsLFxuICAgICAgbm9kZUNvbnRleHQuc291cmNlTm9kZSBhcyBFbGVtZW50LFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVMYXlvdXRQcm9jZXNzb3IoXG4gIGZvcm1hdHRpbmdDb250ZXh0LFxuKTogVGFibGVMYXlvdXRQcm9jZXNzb3IgfCBudWxsIHtcbiAgaWYgKGZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2YgVGFibGVGb3JtYXR0aW5nQ29udGV4dCkge1xuICAgIHJldHVybiB0YWJsZUxheW91dFByb2Nlc3NvcjtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuUGx1Z2luLnJlZ2lzdGVySG9vayhcbiAgUGx1Z2luLkhPT0tTLlJFU09MVkVfRk9STUFUVElOR19DT05URVhULFxuICByZXNvbHZlRm9ybWF0dGluZ0NvbnRleHRIb29rLFxuKTtcblxuUGx1Z2luLnJlZ2lzdGVySG9vayhcbiAgUGx1Z2luLkhPT0tTLlJFU09MVkVfTEFZT1VUX1BST0NFU1NPUixcbiAgcmVzb2x2ZUxheW91dFByb2Nlc3Nvcixcbik7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE3IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBNYXRoVXRpbCAtIE1hdGggdXRpbGl0aWVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZWFuKGFycmF5OiBudW1iZXJbXSk6IG51bWJlciB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHByZXYgKyBjdXJyLCAwKSAvIGFycmF5Lmxlbmd0aDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHZhcmlhbmNlKGFycmF5OiBudW1iZXJbXSk6IG51bWJlciB7XG4gIGNvbnN0IG1lYW5WYWx1ZSA9IG1lYW4oYXJyYXkpO1xuICByZXR1cm4gbWVhbihcbiAgICBhcnJheS5tYXAoKHgpID0+IHtcbiAgICAgIGNvbnN0IGQgPSB4IC0gbWVhblZhbHVlO1xuICAgICAgcmV0dXJuIGQgKiBkO1xuICAgIH0pLFxuICApO1xufVxuIiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNyBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ29sdW1ucyAtIENvbnRyb2wgY29sdW1uIGxheW91dC5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBNYXRoVXRpbCBmcm9tIFwiLi9tYXRoLXV0aWxcIjtcbmltcG9ydCAqIGFzIFBhZ2VGbG9hdHMgZnJvbSBcIi4vcGFnZS1mbG9hdHNcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCB7IExheW91dCB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIENvbHVtbkxheW91dFJlc3VsdCA9IHtcbiAgY29sdW1uczogTGF5b3V0LkNvbHVtbltdO1xuICBwb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb247XG4gIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHRzPzogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0W107XG59O1xuXG5leHBvcnQgdHlwZSBDb2x1bW5HZW5lcmF0b3IgPSAoKSA9PiBUYXNrLlJlc3VsdDxDb2x1bW5MYXlvdXRSZXN1bHQgfCBudWxsPjtcblxuZXhwb3J0IGNsYXNzIENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0LFxuICAgIHB1YmxpYyByZWFkb25seSBwZW5hbHR5OiBudW1iZXIsXG4gICkge31cbn1cblxuZnVuY3Rpb24gZ2V0QmxvY2tTaXplKGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogbnVtYmVyIHtcbiAgaWYgKGNvbnRhaW5lci52ZXJ0aWNhbCkge1xuICAgIHJldHVybiBjb250YWluZXIud2lkdGg7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0QmxvY2tTaXplKGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLCBzaXplOiBudW1iZXIpIHtcbiAgaWYgKGNvbnRhaW5lci52ZXJ0aWNhbCkge1xuICAgIGNvbnRhaW5lci53aWR0aCA9IHNpemU7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyLmhlaWdodCA9IHNpemU7XG4gIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbHVtbkJhbGFuY2VyIHtcbiAgb3JpZ2luYWxDb250YWluZXJCbG9ja1NpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbHVtbkdlbmVyYXRvcjogQ29sdW1uR2VuZXJhdG9yLFxuICAgIHB1YmxpYyByZWFkb25seSByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICkge1xuICAgIHRoaXMub3JpZ2luYWxDb250YWluZXJCbG9ja1NpemUgPSBnZXRCbG9ja1NpemUobGF5b3V0Q29udGFpbmVyKTtcbiAgfVxuXG4gIGJhbGFuY2VDb2x1bW5zKFxuICAgIGxheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0LFxuICApOiBUYXNrLlJlc3VsdDxDb2x1bW5MYXlvdXRSZXN1bHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxDb2x1bW5MYXlvdXRSZXN1bHQ+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwiQ29sdW1uQmFsYW5jZXIjYmFsYW5jZUNvbHVtbnNcIixcbiAgICApO1xuICAgIHNlbGYucHJlQmFsYW5jZShsYXlvdXRSZXN1bHQpO1xuICAgIHNlbGYuc2F2ZVBhZ2VGbG9hdExheW91dENvbnRleHRzKGxheW91dFJlc3VsdCk7XG4gICAgc2VsZi5sYXlvdXRDb250YWluZXIuY2xlYXIoKTtcbiAgICBjb25zdCBjYW5kaWRhdGVzID0gW3NlbGYuY3JlYXRlVHJpYWxSZXN1bHQobGF5b3V0UmVzdWx0KV07XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKCFzZWxmLmhhc05leHRDYW5kaWRhdGUoY2FuZGlkYXRlcykpIHtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYudXBkYXRlQ29uZGl0aW9uKGNhbmRpZGF0ZXMpO1xuICAgICAgICBzZWxmLmNvbHVtbkdlbmVyYXRvcigpLnRoZW4oKGxheW91dFJlc3VsdCkgPT4ge1xuICAgICAgICAgIHNlbGYuc2F2ZVBhZ2VGbG9hdExheW91dENvbnRleHRzKGxheW91dFJlc3VsdCk7XG4gICAgICAgICAgc2VsZi5sYXlvdXRDb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgICBpZiAoIWxheW91dFJlc3VsdCkge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goc2VsZi5jcmVhdGVUcmlhbFJlc3VsdChsYXlvdXRSZXN1bHQpKTtcbiAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gY2FuZGlkYXRlcy5yZWR1Y2UoXG4gICAgICAgICAgKHByZXYsIGN1cnIpID0+IChjdXJyLnBlbmFsdHkgPCBwcmV2LnBlbmFsdHkgPyBjdXJyIDogcHJldiksXG4gICAgICAgICAgY2FuZGlkYXRlc1swXSxcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5yZXN0b3JlQ29udGVudHMocmVzdWx0LmxheW91dFJlc3VsdCk7XG4gICAgICAgIHNlbGYucG9zdEJhbGFuY2UoKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHJlc3VsdC5sYXlvdXRSZXN1bHQpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUcmlhbFJlc3VsdChcbiAgICBsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCxcbiAgKTogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHQge1xuICAgIGNvbnN0IHBlbmFsdHkgPSB0aGlzLmNhbGN1bGF0ZVBlbmFsdHkobGF5b3V0UmVzdWx0KTtcbiAgICByZXR1cm4gbmV3IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0KGxheW91dFJlc3VsdCwgcGVuYWx0eSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgcHJlQmFsYW5jZShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCkge31cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgY2FsY3VsYXRlUGVuYWx0eShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCk6IG51bWJlcjtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgaGFzTmV4dENhbmRpZGF0ZShcbiAgICBjYW5kaWRhdGVzOiBDb2x1bW5CYWxhbmNpbmdUcmlhbFJlc3VsdFtdLFxuICApOiBib29sZWFuO1xuXG4gIHByb3RlY3RlZCBhYnN0cmFjdCB1cGRhdGVDb25kaXRpb24oXG4gICAgY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSxcbiAgKTogdm9pZDtcblxuICBwcm90ZWN0ZWQgcG9zdEJhbGFuY2UoKSB7XG4gICAgc2V0QmxvY2tTaXplKHRoaXMubGF5b3V0Q29udGFpbmVyLCB0aGlzLm9yaWdpbmFsQ29udGFpbmVyQmxvY2tTaXplKTtcbiAgfVxuXG4gIHNhdmVQYWdlRmxvYXRMYXlvdXRDb250ZXh0cyhsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCB8IG51bGwpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMucmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5kZXRhY2hDaGlsZHJlbigpO1xuICAgIGlmIChsYXlvdXRSZXN1bHQpIHtcbiAgICAgIGxheW91dFJlc3VsdC5jb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cyA9IGNoaWxkcmVuO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcmVzdG9yZUNvbnRlbnRzKG5ld0xheW91dFJlc3VsdDogQ29sdW1uTGF5b3V0UmVzdWx0KSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5sYXlvdXRDb250YWluZXIuZWxlbWVudDtcbiAgICBuZXdMYXlvdXRSZXN1bHQuY29sdW1ucy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoYy5lbGVtZW50KTtcbiAgICB9KTtcbiAgICBBc3NlcnRzLmFzc2VydChuZXdMYXlvdXRSZXN1bHQuY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMpO1xuICAgIHRoaXMucmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5hdHRhY2hDaGlsZHJlbihcbiAgICAgIG5ld0xheW91dFJlc3VsdC5jb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0cyxcbiAgICApO1xuICB9XG59XG5jb25zdCBDT0xVTU5fTEVOR1RIX1NURVAgPSAxO1xuXG5leHBvcnQgZnVuY3Rpb24gY2FuUmVkdWNlQ29udGFpbmVyU2l6ZShcbiAgY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSxcbik6IGJvb2xlYW4ge1xuICBjb25zdCBsYXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1tjYW5kaWRhdGVzLmxlbmd0aCAtIDFdO1xuICBpZiAobGFzdENhbmRpZGF0ZS5wZW5hbHR5ID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHNlY29uZExhc3RDYW5kaWRhdGUgPSBjYW5kaWRhdGVzW2NhbmRpZGF0ZXMubGVuZ3RoIC0gMl07XG4gIGlmIChcbiAgICBzZWNvbmRMYXN0Q2FuZGlkYXRlICYmXG4gICAgbGFzdENhbmRpZGF0ZS5wZW5hbHR5ID49IHNlY29uZExhc3RDYW5kaWRhdGUucGVuYWx0eVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgY29sdW1ucyA9IGxhc3RDYW5kaWRhdGUubGF5b3V0UmVzdWx0LmNvbHVtbnM7XG4gIGNvbnN0IG1heENvbHVtbkJsb2NrU2l6ZSA9IE1hdGgubWF4LmFwcGx5KFxuICAgIG51bGwsXG4gICAgY29sdW1ucy5tYXAoKGMpID0+IGMuY29tcHV0ZWRCbG9ja1NpemUpLFxuICApO1xuICBjb25zdCBtYXhQYWdlRmxvYXRCbG9ja1NpemUgPSBNYXRoLm1heC5hcHBseShcbiAgICBudWxsLFxuICAgIGNvbHVtbnMubWFwKChjKSA9PiBjLmdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cygpKSxcbiAgKTtcbiAgcmV0dXJuIG1heENvbHVtbkJsb2NrU2l6ZSA+IG1heFBhZ2VGbG9hdEJsb2NrU2l6ZSArIENPTFVNTl9MRU5HVEhfU1RFUDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZUNvbnRhaW5lclNpemUoXG4gIGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10sXG4gIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuKTogdm9pZCB7XG4gIGNvbnN0IGNvbHVtbnMgPSBjYW5kaWRhdGVzW2NhbmRpZGF0ZXMubGVuZ3RoIC0gMV0ubGF5b3V0UmVzdWx0LmNvbHVtbnM7XG4gIGNvbnN0IG1heENvbHVtbkJsb2NrU2l6ZSA9IE1hdGgubWF4LmFwcGx5KFxuICAgIG51bGwsXG4gICAgY29sdW1ucy5tYXAoKGMpID0+IHtcbiAgICAgIGlmICghaXNOYU4oYy5ibG9ja0Rpc3RhbmNlVG9CbG9ja0VuZEZsb2F0cykpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjLmNvbXB1dGVkQmxvY2tTaXplIC1cbiAgICAgICAgICBjLmJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzICtcbiAgICAgICAgICBDT0xVTU5fTEVOR1RIX1NURVBcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjLmNvbXB1dGVkQmxvY2tTaXplO1xuICAgICAgfVxuICAgIH0pLFxuICApO1xuICBjb25zdCBuZXdFZGdlID0gbWF4Q29sdW1uQmxvY2tTaXplIC0gQ09MVU1OX0xFTkdUSF9TVEVQO1xuICBpZiAobmV3RWRnZSA8IGdldEJsb2NrU2l6ZShjb250YWluZXIpKSB7XG4gICAgc2V0QmxvY2tTaXplKGNvbnRhaW5lciwgbmV3RWRnZSk7XG4gIH0gZWxzZSB7XG4gICAgc2V0QmxvY2tTaXplKGNvbnRhaW5lciwgZ2V0QmxvY2tTaXplKGNvbnRhaW5lcikgLSAxKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFsYW5jZUxhc3RDb2x1bW5CYWxhbmNlciBleHRlbmRzIENvbHVtbkJhbGFuY2VyIHtcbiAgb3JpZ2luYWxQb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgZm91bmRVcHBlckJvdW5kOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgY29sdW1uR2VuZXJhdG9yOiBDb2x1bW5HZW5lcmF0b3IsXG4gICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICBsYXlvdXRDb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgKSB7XG4gICAgc3VwZXIobGF5b3V0Q29udGFpbmVyLCBjb2x1bW5HZW5lcmF0b3IsIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJlQmFsYW5jZShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCkge1xuICAgIGNvbnN0IGNvbHVtbnMgPSBsYXlvdXRSZXN1bHQuY29sdW1ucztcbiAgICBjb25zdCB0b3RhbEJsb2NrU2l6ZSA9IGNvbHVtbnMucmVkdWNlKFxuICAgICAgKHByZXYsIGMpID0+IHByZXYgKyBjLmNvbXB1dGVkQmxvY2tTaXplLFxuICAgICAgMCxcbiAgICApO1xuICAgIHNldEJsb2NrU2l6ZSh0aGlzLmxheW91dENvbnRhaW5lciwgdG90YWxCbG9ja1NpemUgLyB0aGlzLmNvbHVtbkNvdW50KTtcbiAgICB0aGlzLm9yaWdpbmFsUG9zaXRpb24gPSBsYXlvdXRSZXN1bHQucG9zaXRpb247XG4gIH1cblxuICBwcml2YXRlIGNoZWNrUG9zaXRpb24ocG9zaXRpb246IFZ0cmVlLkxheW91dFBvc2l0aW9uIHwgbnVsbCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLm9yaWdpbmFsUG9zaXRpb24pIHtcbiAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsUG9zaXRpb24uaXNTYW1lUG9zaXRpb24ocG9zaXRpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcG9zaXRpb24gPT09IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2FsY3VsYXRlUGVuYWx0eShsYXlvdXRSZXN1bHQ6IENvbHVtbkxheW91dFJlc3VsdCk6IG51bWJlciB7XG4gICAgaWYgKCF0aGlzLmNoZWNrUG9zaXRpb24obGF5b3V0UmVzdWx0LnBvc2l0aW9uKSkge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICBjb25zdCBjb2x1bW5zID0gbGF5b3V0UmVzdWx0LmNvbHVtbnM7XG4gICAgaWYgKGlzTGFzdENvbHVtbkxvbmdlclRoYW5BbnlPdGhlckNvbHVtbihjb2x1bW5zKSkge1xuICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgY29sdW1ucy5tYXAoKGMpID0+IGMuY29tcHV0ZWRCbG9ja1NpemUpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBoYXNOZXh0Q2FuZGlkYXRlKGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10pOiBib29sZWFuIHtcbiAgICBpZiAoY2FuZGlkYXRlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mb3VuZFVwcGVyQm91bmQpIHtcbiAgICAgIHJldHVybiBjYW5SZWR1Y2VDb250YWluZXJTaXplKGNhbmRpZGF0ZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBsYXN0Q2FuZGlkYXRlID0gY2FuZGlkYXRlc1tjYW5kaWRhdGVzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKHRoaXMuY2hlY2tQb3NpdGlvbihsYXN0Q2FuZGlkYXRlLmxheW91dFJlc3VsdC5wb3NpdGlvbikpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFpc0xhc3RDb2x1bW5Mb25nZXJUaGFuQW55T3RoZXJDb2x1bW4oXG4gICAgICAgICAgICBsYXN0Q2FuZGlkYXRlLmxheW91dFJlc3VsdC5jb2x1bW5zLFxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5mb3VuZFVwcGVyQm91bmQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gKFxuICAgICAgICBnZXRCbG9ja1NpemUodGhpcy5sYXlvdXRDb250YWluZXIpIDwgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB1cGRhdGVDb25kaXRpb24oY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSk6IHZvaWQge1xuICAgIGlmICh0aGlzLmZvdW5kVXBwZXJCb3VuZCkge1xuICAgICAgcmVkdWNlQ29udGFpbmVyU2l6ZShjYW5kaWRhdGVzLCB0aGlzLmxheW91dENvbnRhaW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5ld0VkZ2UgPSBNYXRoLm1pbihcbiAgICAgICAgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZSxcbiAgICAgICAgZ2V0QmxvY2tTaXplKHRoaXMubGF5b3V0Q29udGFpbmVyKSArXG4gICAgICAgICAgdGhpcy5vcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZSAqIDAuMSxcbiAgICAgICk7XG4gICAgICBzZXRCbG9ja1NpemUodGhpcy5sYXlvdXRDb250YWluZXIsIG5ld0VkZ2UpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xhc3RDb2x1bW5Mb25nZXJUaGFuQW55T3RoZXJDb2x1bW4oXG4gIGNvbHVtbnM6IExheW91dC5Db2x1bW5bXSxcbik6IGJvb2xlYW4ge1xuICBpZiAoY29sdW1ucy5sZW5ndGggPD0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBsYXN0Q29sdW1uQmxvY2tTaXplID0gY29sdW1uc1tjb2x1bW5zLmxlbmd0aCAtIDFdLmNvbXB1dGVkQmxvY2tTaXplO1xuICBjb25zdCBvdGhlckNvbHVtbnMgPSBjb2x1bW5zLnNsaWNlKDAsIGNvbHVtbnMubGVuZ3RoIC0gMSk7XG4gIHJldHVybiBvdGhlckNvbHVtbnMuZXZlcnkoKGMpID0+IGxhc3RDb2x1bW5CbG9ja1NpemUgPiBjLmNvbXB1dGVkQmxvY2tTaXplKTtcbn1cblxuZXhwb3J0IGNsYXNzIEJhbGFuY2VOb25MYXN0Q29sdW1uQmFsYW5jZXIgZXh0ZW5kcyBDb2x1bW5CYWxhbmNlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNvbHVtbkdlbmVyYXRvcjogQ29sdW1uR2VuZXJhdG9yLFxuICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICkge1xuICAgIHN1cGVyKGxheW91dENvbnRhaW5lciwgY29sdW1uR2VuZXJhdG9yLCByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNhbGN1bGF0ZVBlbmFsdHkobGF5b3V0UmVzdWx0OiBDb2x1bW5MYXlvdXRSZXN1bHQpOiBudW1iZXIge1xuICAgIGlmIChsYXlvdXRSZXN1bHQuY29sdW1ucy5ldmVyeSgoYykgPT4gYy5jb21wdXRlZEJsb2NrU2l6ZSA9PT0gMCkpIHtcbiAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgY29uc3QgY29tcHV0ZWRCbG9ja1NpemVzID0gbGF5b3V0UmVzdWx0LmNvbHVtbnNcbiAgICAgIC5maWx0ZXIoKGMpID0+ICFjLnBhZ2VCcmVha1R5cGUpXG4gICAgICAubWFwKChjKSA9PiBjLmNvbXB1dGVkQmxvY2tTaXplKTtcbiAgICByZXR1cm4gTWF0aFV0aWwudmFyaWFuY2UoY29tcHV0ZWRCbG9ja1NpemVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGhhc05leHRDYW5kaWRhdGUoY2FuZGlkYXRlczogQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHRbXSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBjYW5SZWR1Y2VDb250YWluZXJTaXplKGNhbmRpZGF0ZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdXBkYXRlQ29uZGl0aW9uKGNhbmRpZGF0ZXM6IENvbHVtbkJhbGFuY2luZ1RyaWFsUmVzdWx0W10pOiB2b2lkIHtcbiAgICByZWR1Y2VDb250YWluZXJTaXplKGNhbmRpZGF0ZXMsIHRoaXMubGF5b3V0Q29udGFpbmVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29sdW1uQmFsYW5jZXIoXG4gIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gIGNvbHVtbkZpbGw6IENzcy5JZGVudCxcbiAgY29sdW1uR2VuZXJhdG9yOiBDb2x1bW5HZW5lcmF0b3IsXG4gIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQ6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gIGNvbHVtbnM6IExheW91dC5Db2x1bW5bXSxcbiAgZmxvd1Bvc2l0aW9uOiBWdHJlZS5GbG93UG9zaXRpb24sXG4pOiBDb2x1bW5CYWxhbmNlciB8IG51bGwge1xuICBpZiAoY29sdW1uRmlsbCA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUT0RPOiBob3cgdG8gaGFuZGxlIGEgY2FzZSB3aGVyZSBubyBtb3JlIGluLWZsb3cgY29udGVudHMgYnV0IHNvbWVcbiAgICAvLyBwYWdlIGZsb2F0c1xuICAgIGNvbnN0IG5vTW9yZUNvbnRlbnQgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCA9PT0gMDtcbiAgICBjb25zdCBsYXN0Q29sdW1uID0gY29sdW1uc1tjb2x1bW5zLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGlzTGFzdENvbHVtbkZvcmNlQnJva2VuID0gISEobGFzdENvbHVtbiAmJiBsYXN0Q29sdW1uLnBhZ2VCcmVha1R5cGUpO1xuICAgIGlmIChub01vcmVDb250ZW50IHx8IGlzTGFzdENvbHVtbkZvcmNlQnJva2VuKSB7XG4gICAgICByZXR1cm4gbmV3IEJhbGFuY2VMYXN0Q29sdW1uQmFsYW5jZXIoXG4gICAgICAgIGNvbHVtbkdlbmVyYXRvcixcbiAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChjb2x1bW5GaWxsID09PSBDc3MuaWRlbnQuYmFsYW5jZV9hbGwpIHtcbiAgICAgIHJldHVybiBuZXcgQmFsYW5jZU5vbkxhc3RDb2x1bW5CYWxhbmNlcihcbiAgICAgICAgY29sdW1uR2VuZXJhdG9yLFxuICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBBc3NlcnRzLmFzc2VydChjb2x1bW5GaWxsID09PSBDc3MuaWRlbnQuYmFsYW5jZSk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQ3NzU3R5bGVyIC0gQXBwbHkgQ1NTIGNhc2NhZGUgdG8gYSBkb2N1bWVudCBpbmNyZW1lbnRhbGx5IGFuZFxuICogY2FjaGUgdGhlIHJlc3VsdC5cbiAqL1xuaW1wb3J0ICogYXMgQXNzZXJ0cyBmcm9tIFwiLi9hc3NlcnRzXCI7XG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCAqIGFzIEJyZWFrIGZyb20gXCIuL2JyZWFrXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzVmFsaWRhdG9yIGZyb20gXCIuL2Nzcy12YWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIERpc3BsYXkgZnJvbSBcIi4vZGlzcGxheVwiO1xuaW1wb3J0ICogYXMgRXhwcnMgZnJvbSBcIi4vZXhwcnNcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgeyBDc3NTdHlsZXIsIFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBTbGlwUmFuZ2Uge1xuICBlbmRTdHVja0ZpeGVkOiBudW1iZXI7XG4gIGVuZEZpeGVkOiBudW1iZXI7XG4gIGVuZFNsaXBwZWQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihlbmRTdHVja0ZpeGVkLCBlbmRGaXhlZCwgZW5kU2xpcHBlZCkge1xuICAgIHRoaXMuZW5kU3R1Y2tGaXhlZCA9IGVuZFN0dWNrRml4ZWQ7XG4gICAgdGhpcy5lbmRGaXhlZCA9IGVuZEZpeGVkO1xuICAgIHRoaXMuZW5kU2xpcHBlZCA9IGVuZFNsaXBwZWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBNYXBzIGFsbCBpbnRzIGluIGEgcmFuZ2UgKFwiZml4ZWRcIikgdG8gaW50cyB3aXRoIHNsaXBwYWdlIChcInNsaXBwZWRcIilcbiAqL1xuZXhwb3J0IGNsYXNzIFNsaXBNYXAge1xuICBtYXAgPSBbXSBhcyBTbGlwUmFuZ2VbXTtcblxuICBnZXRNYXhGaXhlZCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLm1hcC5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHJhbmdlLmVuZEZpeGVkO1xuICB9XG5cbiAgZ2V0TWF4U2xpcHBlZCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLm1hcC5sZW5ndGggPT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHJhbmdlLmVuZFNsaXBwZWQ7XG4gIH1cblxuICBhZGRTdHVja1JhbmdlKGVuZEZpeGVkOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5tYXAubGVuZ3RoID09IDApIHtcbiAgICAgIHRoaXMubWFwLnB1c2gobmV3IFNsaXBSYW5nZShlbmRGaXhlZCwgZW5kRml4ZWQsIGVuZEZpeGVkKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBlbmRTbGlwcGVkID0gcmFuZ2UuZW5kU2xpcHBlZCArIGVuZEZpeGVkIC0gcmFuZ2UuZW5kRml4ZWQ7XG4gICAgICBpZiAocmFuZ2UuZW5kRml4ZWQgPT0gcmFuZ2UuZW5kU3R1Y2tGaXhlZCkge1xuICAgICAgICByYW5nZS5lbmRGaXhlZCA9IGVuZEZpeGVkO1xuICAgICAgICByYW5nZS5lbmRTdHVja0ZpeGVkID0gZW5kRml4ZWQ7XG4gICAgICAgIHJhbmdlLmVuZFNsaXBwZWQgPSBlbmRTbGlwcGVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tYXAucHVzaChuZXcgU2xpcFJhbmdlKGVuZEZpeGVkLCBlbmRGaXhlZCwgZW5kU2xpcHBlZCkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFkZFNsaXBwZWRSYW5nZShlbmRGaXhlZDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubWFwLmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aGlzLm1hcC5wdXNoKG5ldyBTbGlwUmFuZ2UoZW5kRml4ZWQsIDAsIDApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tYXBbdGhpcy5tYXAubGVuZ3RoIC0gMV0uZW5kRml4ZWQgPSBlbmRGaXhlZDtcbiAgICB9XG4gIH1cblxuICBzbGlwcGVkQnlGaXhlZChmaXhlZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBpbmRleCA9IEJhc2UuYmluYXJ5U2VhcmNoKFxuICAgICAgdGhpcy5tYXAubGVuZ3RoLFxuICAgICAgKGluZGV4KSA9PiBmaXhlZCA8PSBzZWxmLm1hcFtpbmRleF0uZW5kRml4ZWQsXG4gICAgKTtcbiAgICBjb25zdCByYW5nZSA9IHRoaXMubWFwW2luZGV4XTtcbiAgICByZXR1cm4gcmFuZ2UuZW5kU2xpcHBlZCAtIE1hdGgubWF4KDAsIHJhbmdlLmVuZFN0dWNrRml4ZWQgLSBmaXhlZCk7XG4gIH1cblxuICAvKipcbiAgICogU21hbGxlc3QgZml4ZWQgZm9yIGEgZ2l2ZW4gc2xpcHBlZC5cbiAgICovXG4gIGZpeGVkQnlTbGlwcGVkKHNsaXBwZWQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChcbiAgICAgIHRoaXMubWFwLmxlbmd0aCxcbiAgICAgIChpbmRleCkgPT4gc2xpcHBlZCA8PSBzZWxmLm1hcFtpbmRleF0uZW5kU2xpcHBlZCxcbiAgICApO1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5tYXBbaW5kZXhdO1xuICAgIHJldHVybiByYW5nZS5lbmRTdHVja0ZpeGVkIC0gKHJhbmdlLmVuZFNsaXBwZWQgLSBzbGlwcGVkKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZsb3dMaXN0ZW5lciB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIGVuY291bnRlcmVkRmxvd0NodW5rKGZsb3dDaHVuazogVnRyZWUuRmxvd0NodW5rLCBmbG93OiBWdHJlZS5GbG93KTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFic3RyYWN0U3R5bGVyIGV4dGVuZHMgQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyIHt9XG5cbi8qKlxuICogUmVwcmVzZW50IGEgYm94IGdlbmVyYXRlZCBieSBhIChwc2V1ZG8pZWxlbWVudC4gV2hlbiBjb25zdHJ1Y3RlZCwgYSBib3hcbiAqIGNvcnJlc3BvbmRpbmcgdG8gYDo6YmVmb3JlYCBwc2V1ZG9lbGVtZW50IGlzIGFsc28gY29uc3RydWN0ZWQgYW5kIHN0b3JlZCBpblxuICogYGJlZm9yZUJveGAgcHJvcGVydHksIHdoZXJlYXMgb25lIGNvcnJlc3BvbmRpbmcgYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQgaXNcbiAqIG5vdCBjb25zdHJ1Y3RlZCBhbmQgYGFmdGVyQm94YCBwcm9wZXJ0eSBpcyBgbnVsbGAuIGBhZnRlckJveGAgaXMgY29uc3RydWN0ZWRcbiAqIGJ5IGBidWlsZEFmdGVyUHNldWRvRWxlbWVudEJveGAgbWV0aG9kLlxuICogQHBhcmFtIHN0eWxlIENhc2NhZGVkIHN0eWxlIHZhbHVlcyBmb3IgdGhlIGJveC5cbiAqIEBwYXJhbSBvZmZzZXQgVGhlIHN0YXJ0IG9mZnNldCBvZiB0aGUgYm94LiBJdCBjb2luY2lkZXMgd2l0aCB0aGUgc3RhcnQgb2Zmc2V0XG4gKiAgICAgb2YgdGhlIGVsZW1lbnQgaWYgdGhlIGJveCBpcyBnZW5lcmF0ZWQgYnkgdGhlIGVsZW1lbnQgb3IgdGhlIGA6OmJlZm9yZWBcbiAqICAgICBwc2V1ZG9lbGVtZW50LiBXaGVuIHRoZSBib3ggY29ycmVzcG9uZHMgdG8gdGhlIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50LFxuICogICAgIHRoZSBvZmZzZXQgaXMganVzdCBhZnRlciB0aGUgY29udGVudCBiZWZvcmUgdGhlIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50LlxuICogQHBhcmFtIGlzUm9vdCBUcnVlIGlmIHRoZSBib3ggaXMgZ2VuZXJhdGVkIGJ5IHRoZSByb290IGVsZW1lbnQgKG5vdFxuICogICAgIHBzZXVkb2VsZW1lbnQpLlxuICogQHBhcmFtIGZsb3dDaHVuayBGbG93Q2h1bmsgdG8gd2hpY2ggdGhlIGJveCBiZWxvbmdzIHRvLlxuICogQHBhcmFtIGF0QmxvY2tTdGFydCBUcnVlIGlmIHRoZSBib3ggaXMgcmlnaHQgYWZ0ZXIgdGhlIGJsb2NrIHN0YXJ0IGVkZ2UuXG4gKiBAcGFyYW0gYXRGbG93U3RhcnQgVHJ1ZSBpZiB0aGUgYm94IGlzIHJpZ2h0IGFmdGVyIHRoZSBmbG93IHN0YXJ0LlxuICogQHBhcmFtIGlzUGFyZW50Qm94RGlzcGxheWVkIFRydWUgaWYgdGhlIHBhcmVudCBib3ggaGFzIGEgZGlzcGxheWVkIGJveC5cbiAqL1xuZXhwb3J0IGNsYXNzIEJveCB7XG4gIGZsb3dOYW1lOiBzdHJpbmc7XG4gIGlzQmxvY2tWYWx1ZTogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuICBoYXNCb3hWYWx1ZTogYm9vbGVhbiB8IG51bGwgPSBudWxsO1xuICBzdHlsZVZhbHVlcyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9O1xuICBiZWZvcmVCb3g6IEJveCA9IG51bGw7XG4gIGFmdGVyQm94OiBCb3ggPSBudWxsO1xuICBicmVha0JlZm9yZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgb2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUm9vdDogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgZmxvd0NodW5rOiBWdHJlZS5GbG93Q2h1bmssXG4gICAgcHVibGljIHJlYWRvbmx5IGF0QmxvY2tTdGFydDogYm9vbGVhbixcbiAgICBwdWJsaWMgcmVhZG9ubHkgYXRGbG93U3RhcnQ6IGJvb2xlYW4sXG4gICAgcHVibGljIHJlYWRvbmx5IGlzUGFyZW50Qm94RGlzcGxheWVkOiBib29sZWFuLFxuICApIHtcbiAgICB0aGlzLmZsb3dOYW1lID0gZmxvd0NodW5rLmZsb3dOYW1lO1xuICAgIGlmICh0aGlzLmhhc0JveCgpKSB7XG4gICAgICBjb25zdCBwc2V1ZG9NYXAgPSBzdHlsZVtcIl9wc2V1ZG9zXCJdO1xuICAgICAgaWYgKHBzZXVkb01hcCkge1xuICAgICAgICBpZiAocHNldWRvTWFwW1wiYmVmb3JlXCJdKSB7XG4gICAgICAgICAgY29uc3QgYmVmb3JlQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICBwc2V1ZG9NYXBbXCJiZWZvcmVcIl0sXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGZsb3dDaHVuayxcbiAgICAgICAgICAgIHRoaXMuaXNCbG9jaygpLFxuICAgICAgICAgICAgYXRGbG93U3RhcnQsXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgYmVmb3JlQ29udGVudCA9IGJlZm9yZUJveC5zdHlsZVZhbHVlKFwiY29udGVudFwiKTtcbiAgICAgICAgICBpZiAoVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoYmVmb3JlQ29udGVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuYmVmb3JlQm94ID0gYmVmb3JlQm94O1xuICAgICAgICAgICAgdGhpcy5icmVha0JlZm9yZSA9IGJlZm9yZUJveC5icmVha0JlZm9yZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5icmVha0JlZm9yZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgdGhpcy5nZXRCcmVha1ZhbHVlKFwiYmVmb3JlXCIpLFxuICAgICAgdGhpcy5icmVha0JlZm9yZSxcbiAgICApO1xuICAgIGlmICh0aGlzLmF0Rmxvd1N0YXJ0ICYmIEJyZWFrLmlzRm9yY2VkQnJlYWtWYWx1ZSh0aGlzLmJyZWFrQmVmb3JlKSkge1xuICAgICAgZmxvd0NodW5rLmJyZWFrQmVmb3JlID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgIGZsb3dDaHVuay5icmVha0JlZm9yZSxcbiAgICAgICAgdGhpcy5icmVha0JlZm9yZSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgYm94IGNvcnJlc3BvbmRpbmcgdG8gYDo6YWZ0ZXJgIHBzZXVkb2VsZW1lbnQgYW5kIHN0b3JlcyBpdCBpblxuICAgKiBgYWZ0ZXJCb3hgIHByb3BlcnR5LlxuICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSBzdGFydCBvZmZzZXQgb2YgdGhlIGA6OmFmdGVyYCBwc2V1ZG9lbGVtZW50IGJveCwgd2hpY2ggaXNcbiAgICogICAgIGp1c3QgYWZ0ZXIgdGhlIGNvbnRlbnQgYmVmb3JlIHRoZSBgOjphZnRlcmAgcHNldWRvZWxlbWVudC5cbiAgICogQHBhcmFtIGF0QmxvY2tTdGFydCBUcnVlIGlmIHRoZSBib3ggaXMgcmlnaHQgYWZ0ZXIgdGhlIGJsb2NrIHN0YXJ0IGVkZ2UuXG4gICAqIEBwYXJhbSBhdEZsb3dTdGFydCBUcnVlIGlmIHRoZSBib3ggaXMgcmlnaHQgYWZ0ZXIgdGhlIGZsb3cgc3RhcnQuXG4gICAqL1xuICBidWlsZEFmdGVyUHNldWRvRWxlbWVudEJveChcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBhdEJsb2NrU3RhcnQ6IGJvb2xlYW4sXG4gICAgYXRGbG93U3RhcnQ6IGJvb2xlYW4sXG4gICkge1xuICAgIGlmICh0aGlzLmhhc0JveCgpKSB7XG4gICAgICBjb25zdCBwc2V1ZG9NYXAgPSB0aGlzLnN0eWxlW1wiX3BzZXVkb3NcIl07XG4gICAgICBpZiAocHNldWRvTWFwKSB7XG4gICAgICAgIGlmIChwc2V1ZG9NYXBbXCJhZnRlclwiXSkge1xuICAgICAgICAgIGNvbnN0IGFmdGVyQm94ID0gbmV3IEJveChcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICAgICAgIHBzZXVkb01hcFtcImFmdGVyXCJdLFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICB0aGlzLmZsb3dDaHVuayxcbiAgICAgICAgICAgIGF0QmxvY2tTdGFydCxcbiAgICAgICAgICAgIGF0Rmxvd1N0YXJ0LFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGFmdGVyQ29udGVudCA9IGFmdGVyQm94LnN0eWxlVmFsdWUoXCJjb250ZW50XCIpO1xuICAgICAgICAgIGlmIChWdHJlZS5ub25Ucml2aWFsQ29udGVudChhZnRlckNvbnRlbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmFmdGVyQm94ID0gYWZ0ZXJCb3g7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3R5bGVWYWx1ZShuYW1lOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IENzcy5WYWwpOiBDc3MuVmFsIHwgbnVsbCB7XG4gICAgaWYgKCEobmFtZSBpbiB0aGlzLnN0eWxlVmFsdWVzKSkge1xuICAgICAgY29uc3QgY3YgPSB0aGlzLnN0eWxlW25hbWVdO1xuICAgICAgdGhpcy5zdHlsZVZhbHVlc1tuYW1lXSA9IGN2XG4gICAgICAgID8gY3YuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBuYW1lKVxuICAgICAgICA6IGRlZmF1bHRWYWx1ZSB8fCBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHlsZVZhbHVlc1tuYW1lXTtcbiAgfVxuXG4gIGRpc3BsYXlWYWx1ZSgpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZVZhbHVlKFwiZGlzcGxheVwiLCBDc3MuaWRlbnQuaW5saW5lKTtcbiAgfVxuXG4gIGlzQmxvY2soKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaXNCbG9ja1ZhbHVlID09PSBudWxsKSB7XG4gICAgICBjb25zdCBkaXNwbGF5ID0gdGhpcy5kaXNwbGF5VmFsdWUoKSBhcyBDc3MuSWRlbnQ7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuc3R5bGVWYWx1ZShcInBvc2l0aW9uXCIpIGFzIENzcy5JZGVudDtcbiAgICAgIGNvbnN0IGZsb2F0ID0gdGhpcy5zdHlsZVZhbHVlKFwiZmxvYXRcIikgYXMgQ3NzLklkZW50O1xuICAgICAgdGhpcy5pc0Jsb2NrVmFsdWUgPSBEaXNwbGF5LmlzQmxvY2soXG4gICAgICAgIGRpc3BsYXksXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBmbG9hdCxcbiAgICAgICAgdGhpcy5pc1Jvb3QsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pc0Jsb2NrVmFsdWU7XG4gIH1cblxuICBoYXNCb3goKTogYm9vbGVhbiB7XG4gICAgaWYgKHRoaXMuaGFzQm94VmFsdWUgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuaGFzQm94VmFsdWUgPVxuICAgICAgICB0aGlzLmlzUGFyZW50Qm94RGlzcGxheWVkICYmIHRoaXMuZGlzcGxheVZhbHVlKCkgIT09IENzcy5pZGVudC5ub25lO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oYXNCb3hWYWx1ZTtcbiAgfVxuXG4gIGdldEJyZWFrVmFsdWUoZWRnZTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgbGV0IGJyZWFrVmFsdWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIGlmICh0aGlzLmlzQmxvY2soKSkge1xuICAgICAgY29uc3QgdmFsID0gdGhpcy5zdHlsZVZhbHVlKGBicmVhay0ke2VkZ2V9YCk7XG4gICAgICBpZiAodmFsKSB7XG4gICAgICAgIGJyZWFrVmFsdWUgPSB2YWwudG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJyZWFrVmFsdWU7XG4gIH1cbn1cblxuLyoqXG4gKiBNYW5hZ2VzIGJveGVzIGdlbmVyYXRlZCBieSBlbGVtZW50cyBhcyBhIHN0YWNrLlxuICovXG5leHBvcnQgY2xhc3MgQm94U3RhY2sge1xuICBzdGFjayA9IFtdIGFzIEJveFtdO1xuICBhdEJsb2NrU3RhcnQ6IGJvb2xlYW4gPSB0cnVlOyAvLyBpbmRpY2F0ZXMgaWYgdGhlIG5leHQgcHVzaGVkIGJveCB3aWxsIGJlIGF0IHRoZSBibG9jayBzdGFydFxuICBhdEZsb3dTdGFydDogYm9vbGVhbiA9IHRydWU7IC8vIGluZGljYXRlcyBpZiB0aGUgbmV4dCBwdXNoZWQgYm94IHdpbGwgYmUgYXQgdGhlIGZsb3cgc3RhcnRcbiAgYXRTdGFydFN0YWNrID0gW10gYXMgeyBhdEJsb2NrU3RhcnQ6IGJvb2xlYW47IGF0Rmxvd1N0YXJ0OiBib29sZWFuIH1bXTsgLy8gcHVzaGVkIHdoZW4gYSBuZXcgZmxvdyBzdGFydHNcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCkge31cblxuICAvKipcbiAgICogUmV0dXJucyBpZiB0aGUgc3RhY2sgaXMgZW1wdHkuXG4gICAqL1xuICBlbXB0eSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdGFjay5sZW5ndGggPT09IDA7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbGFzdCBib3ggaW4gdGhlIHN0YWNrLlxuICAgKi9cbiAgbGFzdEJveCgpOiBCb3ggfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLnN0YWNrW3RoaXMuc3RhY2subGVuZ3RoIC0gMV07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmxvdyBuYW1lIG9mIHRoZSBsYXN0IGJveCBpbiB0aGUgc3RhY2suXG4gICAqL1xuICBsYXN0Rmxvd05hbWUoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgY29uc3QgbGFzdEJveCA9IHRoaXMubGFzdEJveCgpO1xuICAgIHJldHVybiBsYXN0Qm94ID8gbGFzdEJveC5mbG93Q2h1bmsuZmxvd05hbWUgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgaWYgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFjayBpcyBkaXNwbGF5ZWQuXG4gICAqL1xuICBpc0N1cnJlbnRCb3hEaXNwbGF5ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhY2suZXZlcnkoKGJveCkgPT4gYm94LmRpc3BsYXlWYWx1ZSgpICE9PSBDc3MuaWRlbnQubm9uZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGJveCBhbmQgcHVzaCBpdCB0byB0aGUgc3RhY2suXG4gICAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSB2YWx1ZXMgZm9yIHRoZSBib3guXG4gICAqIEBwYXJhbSBvZmZzZXQgVGhlIHN0YXJ0IG9mZnNldCBvZiB0aGUgYm94LlxuICAgKiBAcGFyYW0gaXNSb290IFRydWUgaWYgdGhlIGJveCBpcyBnZW5lcmF0ZWQgYnkgdGhlIHJvb3QgZWxlbWVudFxuICAgKiBAcGFyYW0gbmV3Rmxvd0NodW5rIFNwZWNpZnkgaWYgdGhlIGVsZW1lbnQgaXMgYSBmbG93IGVsZW1lbnQgKGkuZS4gdGhlXG4gICAqICAgICBlbGVtZW50IGlzIHNwZWNpZmllZCBhIG5ldyBgZmxvdy1pbnRvYCB2YWx1ZSlcbiAgICovXG4gIHB1c2goXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgICBuZXdGbG93Q2h1bms/OiBWdHJlZS5GbG93Q2h1bmssXG4gICk6IEJveCB7XG4gICAgY29uc3QgbGFzdEJveCA9IHRoaXMubGFzdEJveCgpO1xuICAgIGlmIChuZXdGbG93Q2h1bmsgJiYgbGFzdEJveCAmJiBuZXdGbG93Q2h1bmsuZmxvd05hbWUgIT09IGxhc3RCb3guZmxvd05hbWUpIHtcbiAgICAgIHRoaXMuYXRTdGFydFN0YWNrLnB1c2goe1xuICAgICAgICBhdEJsb2NrU3RhcnQ6IHRoaXMuYXRCbG9ja1N0YXJ0LFxuICAgICAgICBhdEZsb3dTdGFydDogdGhpcy5hdEZsb3dTdGFydCxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBmbG93Q2h1bmsgPSBuZXdGbG93Q2h1bmsgfHwgbGFzdEJveC5mbG93Q2h1bms7XG4gICAgY29uc3QgaXNBdEZsb3dTdGFydCA9IHRoaXMuYXRGbG93U3RhcnQgfHwgISFuZXdGbG93Q2h1bms7XG4gICAgY29uc3QgaXNQYXJlbnRCb3hEaXNwbGF5ZWQgPSB0aGlzLmlzQ3VycmVudEJveERpc3BsYXllZCgpO1xuICAgIGNvbnN0IGJveCA9IG5ldyBCb3goXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgICBzdHlsZSxcbiAgICAgIG9mZnNldCxcbiAgICAgIGlzUm9vdCxcbiAgICAgIGZsb3dDaHVuayxcbiAgICAgIGlzQXRGbG93U3RhcnQgfHwgdGhpcy5hdEJsb2NrU3RhcnQsXG4gICAgICBpc0F0Rmxvd1N0YXJ0LFxuICAgICAgaXNQYXJlbnRCb3hEaXNwbGF5ZWQsXG4gICAgKTtcbiAgICB0aGlzLnN0YWNrLnB1c2goYm94KTtcbiAgICB0aGlzLmF0QmxvY2tTdGFydCA9IGJveC5oYXNCb3goKVxuICAgICAgPyAhYm94LmJlZm9yZUJveCAmJiBib3guaXNCbG9jaygpXG4gICAgICA6IHRoaXMuYXRCbG9ja1N0YXJ0O1xuICAgIHRoaXMuYXRGbG93U3RhcnQgPSBib3guaGFzQm94KClcbiAgICAgID8gIWJveC5iZWZvcmVCb3ggJiYgaXNBdEZsb3dTdGFydFxuICAgICAgOiB0aGlzLmF0Rmxvd1N0YXJ0O1xuICAgIHJldHVybiBib3g7XG4gIH1cblxuICBlbmNvdW50ZXJlZFRleHROb2RlKG5vZGU6IE5vZGUpIHtcbiAgICBjb25zdCBib3ggPSB0aGlzLmxhc3RCb3goKTtcbiAgICBpZiAoKHRoaXMuYXRCbG9ja1N0YXJ0IHx8IHRoaXMuYXRGbG93U3RhcnQpICYmIGJveC5oYXNCb3goKSkge1xuICAgICAgY29uc3Qgd2hpdGVzcGFjZVZhbHVlID0gYm94XG4gICAgICAgIC5zdHlsZVZhbHVlKFwid2hpdGUtc3BhY2VcIiwgQ3NzLmlkZW50Lm5vcm1hbClcbiAgICAgICAgLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCB3aGl0ZXNwYWNlID0gVnRyZWUud2hpdGVzcGFjZUZyb21Qcm9wZXJ0eVZhbHVlKHdoaXRlc3BhY2VWYWx1ZSk7XG4gICAgICBBc3NlcnRzLmFzc2VydCh3aGl0ZXNwYWNlICE9PSBudWxsKTtcbiAgICAgIGlmICghVnRyZWUuY2FuSWdub3JlKG5vZGUsIHdoaXRlc3BhY2UpKSB7XG4gICAgICAgIHRoaXMuYXRCbG9ja1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXRGbG93U3RhcnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUG9wIHRoZSBsYXN0IGJveC5cbiAgICovXG4gIHBvcChvZmZzZXQ6IG51bWJlcik6IEJveCB7XG4gICAgY29uc3QgYm94ID0gdGhpcy5zdGFjay5wb3AoKTtcbiAgICBib3guYnVpbGRBZnRlclBzZXVkb0VsZW1lbnRCb3gob2Zmc2V0LCB0aGlzLmF0QmxvY2tTdGFydCwgdGhpcy5hdEZsb3dTdGFydCk7XG4gICAgaWYgKHRoaXMuYXRGbG93U3RhcnQgJiYgYm94LmFmdGVyQm94KSB7XG4gICAgICBjb25zdCBicmVha0JlZm9yZSA9IGJveC5hZnRlckJveC5nZXRCcmVha1ZhbHVlKFwiYmVmb3JlXCIpO1xuICAgICAgYm94LmZsb3dDaHVuay5icmVha0JlZm9yZSA9IEJyZWFrLnJlc29sdmVFZmZlY3RpdmVCcmVha1ZhbHVlKFxuICAgICAgICBib3guZmxvd0NodW5rLmJyZWFrQmVmb3JlLFxuICAgICAgICBicmVha0JlZm9yZSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubGFzdEJveCgpO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuZmxvd05hbWUgPT09IGJveC5mbG93TmFtZSkge1xuICAgICAgICBpZiAoYm94Lmhhc0JveCgpKSB7XG4gICAgICAgICAgdGhpcy5hdEJsb2NrU3RhcnQgPSB0aGlzLmF0Rmxvd1N0YXJ0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGF0U3RhcnQgPSB0aGlzLmF0U3RhcnRTdGFjay5wb3AoKTtcbiAgICAgICAgdGhpcy5hdEJsb2NrU3RhcnQgPSBhdFN0YXJ0LmF0QmxvY2tTdGFydDtcbiAgICAgICAgdGhpcy5hdEZsb3dTdGFydCA9IGF0U3RhcnQuYXRGbG93U3RhcnQ7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBib3g7XG4gIH1cblxuICAvKipcbiAgICogRmluZCB0aGUgc3RhcnQgb2Zmc2V0IG9mIHRoZSBuZWFyZXN0IGJsb2NrIHN0YXJ0IGVkZ2UgdG8gd2hpY2ggdGhlXG4gICAqIGBicmVhay1iZWZvcmVgIHZhbHVlIG9mIHRoZSBib3ggc2hvdWxkIGJlIHByb3BhZ2F0ZWQuIFRoaXMgbWV0aG9kIGNhbiBiZVxuICAgKiBjYWxsZWQgd2hlbiBhZnRlciBwdXNoaW5nIHRoZSBib3ggaW50byB0aGUgc3RhY2sgb3IgYWZ0ZXIgcG9wcGluZyB0aGUgYm94XG4gICAqIG91dCBvZiB0aGUgc3RhY2suXG4gICAqL1xuICBuZWFyZXN0QmxvY2tTdGFydE9mZnNldChib3g6IEJveCk6IG51bWJlciB7XG4gICAgaWYgKCFib3guYXRCbG9ja1N0YXJ0KSB7XG4gICAgICByZXR1cm4gYm94Lm9mZnNldDtcbiAgICB9XG4gICAgbGV0IGkgPSB0aGlzLnN0YWNrLmxlbmd0aCAtIDE7XG4gICAgbGV0IHBhcmVudCA9IHRoaXMuc3RhY2tbaV07XG5cbiAgICAvLyBXaGVuIGNhbGxlZCBqdXN0IGFmdGVyIHRoZSBib3ggaXMgcG9wcGVkIG91dCwgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFja1xuICAgIC8vIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBib3ggYW5kIGl0IGlzIHRoZSBwYXJlbnQgb2YgdGhlIGJveC4gV2hlbiBjYWxsZWRcbiAgICAvLyBhZnRlciB0aGUgYm94IGlzIHB1c2hlZCwgdGhlIGxhc3QgYm94IGluIHRoZSBzdGFjayBpcyBpZGVudGljYWwgdG8gdGhlXG4gICAgLy8gYm94IGFuZCB0aGUgcGFyZW50IG9mIHRoZSBib3ggaXMgYSBib3ggcmlnaHQgYmVmb3JlIHRoZSBzcGVjaWZpZWQgYm94LlxuICAgIGlmIChwYXJlbnQgPT09IGJveCkge1xuICAgICAgaS0tO1xuICAgICAgcGFyZW50ID0gdGhpcy5zdGFja1tpXTtcbiAgICB9XG4gICAgd2hpbGUgKGkgPj0gMCkge1xuICAgICAgaWYgKHBhcmVudC5mbG93TmFtZSAhPT0gYm94LmZsb3dOYW1lKSB7XG4gICAgICAgIHJldHVybiBib3gub2Zmc2V0O1xuICAgICAgfVxuICAgICAgaWYgKCFwYXJlbnQuYXRCbG9ja1N0YXJ0KSB7XG4gICAgICAgIHJldHVybiBwYXJlbnQub2Zmc2V0O1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudC5pc1Jvb3QpIHtcbiAgICAgICAgcmV0dXJuIHBhcmVudC5vZmZzZXQ7XG4gICAgICB9XG4gICAgICBib3ggPSBwYXJlbnQ7XG4gICAgICBwYXJlbnQgPSB0aGlzLnN0YWNrWy0taV07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGJsb2NrIHN0YXJ0IG9mZnNldCBmb3VuZCFcIik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0eWxlciBpbXBsZW1lbnRzIEFic3RyYWN0U3R5bGVyIHtcbiAgcm9vdDogRWxlbWVudDtcbiAgY2FzY2FkZUhvbGRlcjogQ3NzQ2FzY2FkZS5DYXNjYWRlO1xuICBsYXN0OiBOb2RlO1xuICByb290U3R5bGUgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgc3R5bGVNYXA6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSA9IHt9O1xuICBmbG93cyA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogVnRyZWUuRmxvdyB9O1xuICBmbG93Q2h1bmtzID0gW10gYXMgVnRyZWUuRmxvd0NodW5rW107XG4gIGZsb3dMaXN0ZW5lcjogRmxvd0xpc3RlbmVyID0gbnVsbDtcbiAgZmxvd1RvUmVhY2g6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBpZFRvUmVhY2g6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZTtcbiAgb2Zmc2V0TWFwOiBTbGlwTWFwO1xuICBwcmltYXJ5OiBib29sZWFuID0gdHJ1ZTtcbiAgcHJpbWFyeVN0YWNrID0gW10gYXMgYm9vbGVhbltdO1xuICByb290QmFja2dyb3VuZEFzc2lnbmVkOiBib29sZWFuID0gZmFsc2U7XG4gIHJvb3RMYXlvdXRBc3NpZ25lZDogYm9vbGVhbiA9IGZhbHNlO1xuICBsYXN0T2Zmc2V0OiBudW1iZXI7XG4gIGJyZWFrQmVmb3JlVmFsdWVzID0ge30gYXMgeyBba2V5OiBudW1iZXJdOiBzdHJpbmcgfCBudWxsIH07XG4gIGJveFN0YWNrOiBCb3hTdGFjaztcbiAgYm9keVJlYWNoZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlLFxuICAgIHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSBwcmltYXJ5Rmxvd3M6IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9LFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJMaXN0ZW5lcjogQ3NzQ2FzY2FkZS5Db3VudGVyTGlzdGVuZXIsXG4gICAgY291bnRlclJlc29sdmVyOiBDc3NDYXNjYWRlLkNvdW50ZXJSZXNvbHZlcixcbiAgKSB7XG4gICAgdGhpcy5yb290ID0geG1sZG9jLnJvb3Q7XG4gICAgdGhpcy5jYXNjYWRlSG9sZGVyID0gY2FzY2FkZTtcbiAgICB0aGlzLmxhc3QgPSB0aGlzLnJvb3Q7XG4gICAgdGhpcy5jYXNjYWRlID0gY2FzY2FkZS5jcmVhdGVJbnN0YW5jZShcbiAgICAgIGNvbnRleHQsXG4gICAgICBjb3VudGVyTGlzdGVuZXIsXG4gICAgICBjb3VudGVyUmVzb2x2ZXIsXG4gICAgICB4bWxkb2MubGFuZyxcbiAgICApO1xuICAgIHRoaXMub2Zmc2V0TWFwID0gbmV3IFNsaXBNYXAoKTtcbiAgICBjb25zdCByb290T2Zmc2V0ID0geG1sZG9jLmdldEVsZW1lbnRPZmZzZXQodGhpcy5yb290KTtcbiAgICB0aGlzLmxhc3RPZmZzZXQgPSByb290T2Zmc2V0O1xuICAgIHRoaXMuYm94U3RhY2sgPSBuZXcgQm94U3RhY2soY29udGV4dCk7XG4gICAgdGhpcy5vZmZzZXRNYXAuYWRkU3R1Y2tSYW5nZShyb290T2Zmc2V0KTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0QXR0clN0eWxlKHRoaXMucm9vdCk7XG4gICAgdGhpcy5jYXNjYWRlLnB1c2hFbGVtZW50KHRoaXMucm9vdCwgc3R5bGUsIHJvb3RPZmZzZXQpO1xuICAgIHRoaXMucG9zdHByb2Nlc3NUb3BTdHlsZShzdHlsZSwgZmFsc2UpO1xuICAgIHN3aXRjaCAodGhpcy5yb290Lm5hbWVzcGFjZVVSSSkge1xuICAgICAgY2FzZSBCYXNlLk5TLlhIVE1MOlxuICAgICAgY2FzZSBCYXNlLk5TLkZCMjpcbiAgICAgICAgdGhpcy5ib2R5UmVhY2hlZCA9IGZhbHNlO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5wcmltYXJ5U3RhY2sucHVzaCh0cnVlKTtcbiAgICB0aGlzLnN0eWxlTWFwID0ge307XG4gICAgdGhpcy5zdHlsZU1hcFtgZSR7cm9vdE9mZnNldH1gXSA9IHN0eWxlO1xuICAgIHRoaXMubGFzdE9mZnNldCsrO1xuICAgIHRoaXMucmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldCgtMSk7XG4gIH1cblxuICBoYXNQcm9wKFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBtYXA6IENzc1ZhbGlkYXRvci5WYWx1ZU1hcCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNhc2NWYWwgPSBzdHlsZVtuYW1lXTtcbiAgICByZXR1cm4gY2FzY1ZhbCAmJiBjYXNjVmFsLmV2YWx1YXRlKHRoaXMuY29udGV4dCkgIT09IG1hcFtuYW1lXTtcbiAgfVxuXG4gIHRyYW5zZmVyUHJvcHNUb1Jvb3QoXG4gICAgc3JjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIG1hcDogQ3NzVmFsaWRhdG9yLlZhbHVlTWFwLFxuICApOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IHBuYW1lIGluIG1hcCkge1xuICAgICAgY29uc3QgY2FzY3ZhbCA9IHNyY1N0eWxlW3BuYW1lXTtcbiAgICAgIGlmIChjYXNjdmFsKSB7XG4gICAgICAgIHRoaXMucm9vdFN0eWxlW3BuYW1lXSA9IGNhc2N2YWw7XG4gICAgICAgIGRlbGV0ZSBzcmNTdHlsZVtwbmFtZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB2YWwgPSBtYXBbcG5hbWVdO1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgdGhpcy5yb290U3R5bGVbcG5hbWVdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgICAgICAgdmFsLFxuICAgICAgICAgICAgQ3NzUGFyc2VyLlNQRUNJRklDSVRZX0FVVEhPUixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZmVyIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgYXBwbGllZCBvbiB0aGUgY29udGFpbmVyIChwYXJ0aXRpb24pXG4gICAqIGxldmVsIHRvIHRoaXMucm9vdFN0eWxlLlxuICAgKiBAcGFyYW0gZWxlbVN0eWxlIChzb3VyY2UpIGVsZW1lbnQgc3R5bGVcbiAgICovXG4gIHBvc3Rwcm9jZXNzVG9wU3R5bGUoXG4gICAgZWxlbVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBpc0JvZHk6IGJvb2xlYW4sXG4gICk6IHZvaWQge1xuICAgIFtcIndyaXRpbmctbW9kZVwiLCBcImRpcmVjdGlvblwiXS5mb3JFYWNoKChwcm9wTmFtZSkgPT4ge1xuICAgICAgaWYgKGVsZW1TdHlsZVtwcm9wTmFtZV0gJiYgIShpc0JvZHkgJiYgdGhpcy5yb290U3R5bGVbcHJvcE5hbWVdKSkge1xuICAgICAgICAvLyBDb3B5IGl0IG92ZXIsIGJ1dCBrZWVwIGl0IGF0IHRoZSByb290IGVsZW1lbnQgYXMgd2VsbC5cbiAgICAgICAgdGhpcy5yb290U3R5bGVbcHJvcE5hbWVdID0gZWxlbVN0eWxlW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXRoaXMucm9vdEJhY2tncm91bmRBc3NpZ25lZCkge1xuICAgICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gdGhpcy5oYXNQcm9wKFxuICAgICAgICBlbGVtU3R5bGUsXG4gICAgICAgIHRoaXMudmFsaWRhdG9yU2V0LmJhY2tncm91bmRQcm9wcyxcbiAgICAgICAgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gICAgICApXG4gICAgICAgID8gZWxlbVN0eWxlW1wiYmFja2dyb3VuZC1jb2xvclwiXS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpXG4gICAgICAgIDogKG51bGwgYXMgQ3NzLlZhbCk7XG4gICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmhhc1Byb3AoXG4gICAgICAgIGVsZW1TdHlsZSxcbiAgICAgICAgdGhpcy52YWxpZGF0b3JTZXQuYmFja2dyb3VuZFByb3BzLFxuICAgICAgICBcImJhY2tncm91bmQtaW1hZ2VcIixcbiAgICAgIClcbiAgICAgICAgPyBlbGVtU3R5bGVbXCJiYWNrZ3JvdW5kLWltYWdlXCJdLmV2YWx1YXRlKHRoaXMuY29udGV4dClcbiAgICAgICAgOiAobnVsbCBhcyBDc3MuVmFsKTtcbiAgICAgIGlmIChcbiAgICAgICAgKGJhY2tncm91bmRDb2xvciAmJiBiYWNrZ3JvdW5kQ29sb3IgIT09IENzcy5pZGVudC5pbmhlcml0KSB8fFxuICAgICAgICAoYmFja2dyb3VuZEltYWdlICYmIGJhY2tncm91bmRJbWFnZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy50cmFuc2ZlclByb3BzVG9Sb290KGVsZW1TdHlsZSwgdGhpcy52YWxpZGF0b3JTZXQuYmFja2dyb3VuZFByb3BzKTtcbiAgICAgICAgdGhpcy5yb290QmFja2dyb3VuZEFzc2lnbmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0aGlzLnJvb3RMYXlvdXRBc3NpZ25lZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5Qcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5oYXNQcm9wKGVsZW1TdHlsZSwgdGhpcy52YWxpZGF0b3JTZXQubGF5b3V0UHJvcHMsIGNvbHVtblByb3BzW2ldKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLnRyYW5zZmVyUHJvcHNUb1Jvb3QoZWxlbVN0eWxlLCB0aGlzLnZhbGlkYXRvclNldC5sYXlvdXRQcm9wcyk7XG4gICAgICAgICAgdGhpcy5yb290TGF5b3V0QXNzaWduZWQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNCb2R5KSB7XG4gICAgICBjb25zdCBmb250U2l6ZSA9IGVsZW1TdHlsZVtcImZvbnQtc2l6ZVwiXTtcbiAgICAgIGlmIChmb250U2l6ZSkge1xuICAgICAgICBjb25zdCB2YWwgPSBmb250U2l6ZS5ldmFsdWF0ZSh0aGlzLmNvbnRleHQpO1xuICAgICAgICBsZXQgcHggPSB2YWwubnVtO1xuICAgICAgICBzd2l0Y2ggKHZhbC51bml0KSB7XG4gICAgICAgICAgY2FzZSBcImVtXCI6XG4gICAgICAgICAgY2FzZSBcInJlbVwiOlxuICAgICAgICAgICAgcHggKj0gdGhpcy5jb250ZXh0LmluaXRpYWxGb250U2l6ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJleFwiOlxuICAgICAgICAgICAgcHggKj1cbiAgICAgICAgICAgICAgKHRoaXMuY29udGV4dC5pbml0aWFsRm9udFNpemUgKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wiZXhcIl0pIC9cbiAgICAgICAgICAgICAgRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImVtXCJdO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIiVcIjpcbiAgICAgICAgICAgIHB4ICo9IHRoaXMuY29udGV4dC5pbml0aWFsRm9udFNpemUgLyAxMDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBjb25zdCB1bml0U2l6ZSA9IEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbdmFsLnVuaXRdO1xuICAgICAgICAgICAgaWYgKHVuaXRTaXplKSB7XG4gICAgICAgICAgICAgIHB4ICo9IHVuaXRTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbnRleHQucm9vdEZvbnRTaXplID0gcHg7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZ2V0VG9wQ29udGFpbmVyU3R5bGUoKTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge1xuICAgIGxldCBvZmZzZXQgPSAwO1xuICAgIHdoaWxlICghdGhpcy5ib2R5UmVhY2hlZCkge1xuICAgICAgb2Zmc2V0ICs9IDUwMDA7XG4gICAgICBpZiAodGhpcy5zdHlsZVVudGlsKG9mZnNldCwgMCkgPT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yb290U3R5bGU7XG4gIH1cblxuICBnZXRBdHRyU3R5bGUoZWxlbTogRWxlbWVudCk6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICAvLyBza2lwIGNhc2VzIGluIHdoaWNoIGVsZW1lbnRzIGZvciBYTUwgb3RoZXIgdGhhbiBIVE1MIG9yIFNWR1xuICAgIC8vIGhhdmUgJ3N0eWxlJyBhdHRyaWJ1dGUgbm90IGZvciBDU1MgZGVjbGFyYXRpb25cbiAgICBpZiAoKGVsZW0gYXMgYW55KS5zdHlsZSBpbnN0YW5jZW9mIENTU1N0eWxlRGVjbGFyYXRpb24pIHtcbiAgICAgIGNvbnN0IHN0eWxlQXR0clZhbHVlID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgIGlmIChzdHlsZUF0dHJWYWx1ZSkge1xuICAgICAgICByZXR1cm4gQ3NzQ2FzY2FkZS5wYXJzZVN0eWxlQXR0cmlidXRlKFxuICAgICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgICAgICAgdGhpcy54bWxkb2MudXJsLFxuICAgICAgICAgIHN0eWxlQXR0clZhbHVlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBjdXJyZW50bHkgcmVhY2hlZCBvZmZzZXRcbiAgICovXG4gIGdldFJlYWNoZWRPZmZzZXQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5sYXN0T2Zmc2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlcGxheSBmbG93IGVsZW1lbnRzIHRoYXQgd2VyZSBlbmNvdW50ZXJlZCBzaW5jZSB0aGUgZ2l2ZW4gb2Zmc2V0XG4gICAqL1xuICByZXBsYXlGbG93RWxlbWVudHNGcm9tT2Zmc2V0KG9mZnNldDogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKG9mZnNldCA+PSB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY29udGV4dCA9IHRoaXMuY29udGV4dDtcbiAgICBjb25zdCByb290T2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0RWxlbWVudE9mZnNldCh0aGlzLnJvb3QpO1xuICAgIGlmIChvZmZzZXQgPCByb290T2Zmc2V0KSB7XG4gICAgICBjb25zdCByb290U3R5bGUgPSB0aGlzLmdldFN0eWxlKHRoaXMucm9vdCwgZmFsc2UpO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQocm9vdFN0eWxlKTtcbiAgICAgIGNvbnN0IGZsb3dOYW1lID0gQ3NzQ2FzY2FkZS5nZXRQcm9wKHJvb3RTdHlsZSwgXCJmbG93LWludG9cIik7XG4gICAgICBjb25zdCBmbG93TmFtZVN0ciA9IGZsb3dOYW1lXG4gICAgICAgID8gZmxvd05hbWUuZXZhbHVhdGUoY29udGV4dCwgXCJmbG93LWludG9cIikudG9TdHJpbmcoKVxuICAgICAgICA6IFwiYm9keVwiO1xuICAgICAgY29uc3QgbmV3Rmxvd0NodW5rID0gdGhpcy5lbmNvdW50ZXJlZEZsb3dFbGVtZW50KFxuICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgcm9vdFN0eWxlLFxuICAgICAgICB0aGlzLnJvb3QsXG4gICAgICAgIHJvb3RPZmZzZXQsXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuYm94U3RhY2suZW1wdHkoKSkge1xuICAgICAgICB0aGlzLmJveFN0YWNrLnB1c2gocm9vdFN0eWxlLCByb290T2Zmc2V0LCB0cnVlLCBuZXdGbG93Q2h1bmspO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbm9kZSA9IHRoaXMueG1sZG9jLmdldE5vZGVCeU9mZnNldChvZmZzZXQpO1xuICAgIGxldCBub2RlT2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0Tm9kZU9mZnNldChub2RlLCAwLCBmYWxzZSk7XG4gICAgaWYgKG5vZGVPZmZzZXQgPj0gdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIG5vZGVPZmZzZXQgKz0gbm9kZS50ZXh0Q29udGVudC5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBlbGVtID0gbm9kZSBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoVklWTElPU1RZTEVfREVCVUcpIHtcbiAgICAgICAgICBpZiAobm9kZU9mZnNldCAhPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KGVsZW0pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbmNvbnNpc3RlbnQgb2Zmc2V0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0U3R5bGUoZWxlbSwgZmFsc2UpO1xuICAgICAgICBjb25zdCBmbG93TmFtZSA9IHN0eWxlW1wiZmxvdy1pbnRvXCJdO1xuICAgICAgICBpZiAoZmxvd05hbWUpIHtcbiAgICAgICAgICBjb25zdCBmbG93TmFtZVN0ciA9IGZsb3dOYW1lXG4gICAgICAgICAgICAuZXZhbHVhdGUoY29udGV4dCwgXCJmbG93LWludG9cIilcbiAgICAgICAgICAgIC50b1N0cmluZygpO1xuICAgICAgICAgIHRoaXMuZW5jb3VudGVyZWRGbG93RWxlbWVudChmbG93TmFtZVN0ciwgc3R5bGUsIGVsZW0sIG5vZGVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVPZmZzZXQrKztcbiAgICAgIH1cbiAgICAgIGlmIChub2RlT2Zmc2V0ID49IHRoaXMubGFzdE9mZnNldCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxldCBuZXh0OiBOb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKG5leHQgPT0gbnVsbCkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAobm9kZSA9PT0gdGhpcy5yb290KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlID0gbmV4dDtcbiAgICB9XG4gIH1cblxuICByZXNldEZsb3dDaHVua1N0cmVhbShmbG93TGlzdGVuZXI6IEZsb3dMaXN0ZW5lcik6IHZvaWQge1xuICAgIHRoaXMuZmxvd0xpc3RlbmVyID0gZmxvd0xpc3RlbmVyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mbG93Q2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmZsb3dMaXN0ZW5lci5lbmNvdW50ZXJlZEZsb3dDaHVuayhcbiAgICAgICAgdGhpcy5mbG93Q2h1bmtzW2ldLFxuICAgICAgICB0aGlzLmZsb3dzW3RoaXMuZmxvd0NodW5rc1tpXS5mbG93TmFtZV0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHN0eWxlVW50aWxGbG93SXNSZWFjaGVkKGZsb3dOYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLmZsb3dUb1JlYWNoID0gZmxvd05hbWU7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0aGlzLmZsb3dUb1JlYWNoID09IG51bGwpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gNTAwMDtcbiAgICAgIGlmICh0aGlzLnN0eWxlVW50aWwob2Zmc2V0LCAwKSA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3R5bGVVbnRpbElkSXNSZWFjaGVkKGlkOiBzdHJpbmcpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaWRUb1JlYWNoID0gaWQ7XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICghdGhpcy5pZFRvUmVhY2gpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBvZmZzZXQgKz0gNTAwMDtcbiAgICAgIGlmICh0aGlzLnN0eWxlVW50aWwob2Zmc2V0LCAwKSA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmlkVG9SZWFjaCA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIGVuY291bnRlcmVkRmxvd0VsZW1lbnQoXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgZWxlbTogRWxlbWVudCxcbiAgICBzdGFydE9mZnNldDogbnVtYmVyLFxuICApOiBWdHJlZS5GbG93Q2h1bmsge1xuICAgIGxldCBwcmlvcml0eSA9IDA7XG4gICAgbGV0IGxpbmdlciA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBsZXQgZXhjbHVzaXZlID0gZmFsc2U7XG4gICAgbGV0IHJlcGVhdGVkID0gZmFsc2U7XG4gICAgbGV0IGxhc3QgPSBmYWxzZTtcbiAgICBjb25zdCBvcHRpb25zQ1YgPSBzdHlsZVtcImZsb3ctb3B0aW9uc1wiXTtcbiAgICBpZiAob3B0aW9uc0NWKSB7XG4gICAgICBjb25zdCBvcHRpb25zID0gQ3NzUHJvcC50b1NldChcbiAgICAgICAgb3B0aW9uc0NWLmV2YWx1YXRlKHRoaXMuY29udGV4dCwgXCJmbG93LW9wdGlvbnNcIiksXG4gICAgICApO1xuICAgICAgZXhjbHVzaXZlID0gISFvcHRpb25zW1wiZXhjbHVzaXZlXCJdO1xuICAgICAgcmVwZWF0ZWQgPSAhIW9wdGlvbnNbXCJzdGF0aWNcIl07XG4gICAgICBsYXN0ID0gISFvcHRpb25zW1wibGFzdFwiXTtcbiAgICB9XG4gICAgY29uc3QgbGluZ2VyQ1YgPSBzdHlsZVtcImZsb3ctbGluZ2VyXCJdO1xuICAgIGlmIChsaW5nZXJDVikge1xuICAgICAgbGluZ2VyID0gQ3NzUHJvcC50b0ludChcbiAgICAgICAgbGluZ2VyQ1YuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBcImZsb3ctbGluZ2VyXCIpLFxuICAgICAgICBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwcmlvcml0eUNWID0gc3R5bGVbXCJmbG93LXByaW9yaXR5XCJdO1xuICAgIGlmIChwcmlvcml0eUNWKSB7XG4gICAgICBwcmlvcml0eSA9IENzc1Byb3AudG9JbnQoXG4gICAgICAgIHByaW9yaXR5Q1YuZXZhbHVhdGUodGhpcy5jb250ZXh0LCBcImZsb3ctcHJpb3JpdHlcIiksXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBicmVha0JlZm9yZSA9IHRoaXMuYnJlYWtCZWZvcmVWYWx1ZXNbc3RhcnRPZmZzZXRdIHx8IG51bGw7XG4gICAgbGV0IGZsb3cgPSB0aGlzLmZsb3dzW2Zsb3dOYW1lXTtcbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIGNvbnN0IHBhcmVudEZsb3dOYW1lID0gdGhpcy5ib3hTdGFjay5sYXN0Rmxvd05hbWUoKTtcbiAgICAgIGZsb3cgPSB0aGlzLmZsb3dzW2Zsb3dOYW1lXSA9IG5ldyBWdHJlZS5GbG93KGZsb3dOYW1lLCBwYXJlbnRGbG93TmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IGZsb3dDaHVuayA9IG5ldyBWdHJlZS5GbG93Q2h1bmsoXG4gICAgICBmbG93TmFtZSxcbiAgICAgIGVsZW0sXG4gICAgICBzdGFydE9mZnNldCxcbiAgICAgIHByaW9yaXR5LFxuICAgICAgbGluZ2VyLFxuICAgICAgZXhjbHVzaXZlLFxuICAgICAgcmVwZWF0ZWQsXG4gICAgICBsYXN0LFxuICAgICAgYnJlYWtCZWZvcmUsXG4gICAgKTtcbiAgICB0aGlzLmZsb3dDaHVua3MucHVzaChmbG93Q2h1bmspO1xuICAgIGlmICh0aGlzLmZsb3dUb1JlYWNoID09IGZsb3dOYW1lKSB7XG4gICAgICB0aGlzLmZsb3dUb1JlYWNoID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuZmxvd0xpc3RlbmVyKSB7XG4gICAgICB0aGlzLmZsb3dMaXN0ZW5lci5lbmNvdW50ZXJlZEZsb3dDaHVuayhmbG93Q2h1bmssIGZsb3cpO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd0NodW5rO1xuICB9XG5cbiAgcmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICBicmVha1ZhbHVlOiBzdHJpbmcgfCBudWxsLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcsXG4gICkge1xuICAgIGlmIChCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUoYnJlYWtWYWx1ZSkpIHtcbiAgICAgIGNvbnN0IGZvcmNlZEJyZWFrT2Zmc2V0cyA9IHRoaXMuZmxvd3NbZmxvd05hbWVdLmZvcmNlZEJyZWFrT2Zmc2V0cztcbiAgICAgIGlmIChcbiAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzLmxlbmd0aCA9PT0gMCB8fFxuICAgICAgICBmb3JjZWRCcmVha09mZnNldHNbZm9yY2VkQnJlYWtPZmZzZXRzLmxlbmd0aCAtIDFdIDwgb2Zmc2V0XG4gICAgICApIHtcbiAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzLnB1c2gob2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNWYWx1ZSA9IHRoaXMuYnJlYWtCZWZvcmVWYWx1ZXNbb2Zmc2V0XTtcbiAgICB0aGlzLmJyZWFrQmVmb3JlVmFsdWVzW29mZnNldF0gPSBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgIHByZXZpb3VzVmFsdWUsXG4gICAgICBicmVha1ZhbHVlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHN0YXJ0T2Zmc2V0IGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50XG4gICAqIEBwYXJhbSBsb29rdXAgbG9va3VwIHdpbmRvdyBzaXplIGZvciB0aGUgbmV4dCBwYWdlXG4gICAqIEByZXR1cm4gbG9va3VwIG9mZnNldCBpbiB0aGUgZG9jdW1lbnQgZm9yIHRoZSBuZXh0IHBhZ2VcbiAgICovXG4gIHN0eWxlVW50aWwoc3RhcnRPZmZzZXQ6IG51bWJlciwgbG9va3VwOiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCB0YXJnZXRTbGlwcGVkT2Zmc2V0ID0gLTE7XG4gICAgbGV0IHNsaXBwZWRPZmZzZXQ6IG51bWJlcjtcbiAgICBpZiAoc3RhcnRPZmZzZXQgPD0gdGhpcy5sYXN0T2Zmc2V0KSB7XG4gICAgICBzbGlwcGVkT2Zmc2V0ID0gdGhpcy5vZmZzZXRNYXAuc2xpcHBlZEJ5Rml4ZWQoc3RhcnRPZmZzZXQpO1xuICAgICAgdGFyZ2V0U2xpcHBlZE9mZnNldCA9IHNsaXBwZWRPZmZzZXQgKyBsb29rdXA7XG4gICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8IHRoaXMub2Zmc2V0TWFwLmdldE1heFNsaXBwZWQoKSkge1xuICAgICAgICAvLyBnb3QgdG8gdGhlIGRlc2lyZWQgcG9pbnRcbiAgICAgICAgcmV0dXJuIHRoaXMub2Zmc2V0TWFwLmZpeGVkQnlTbGlwcGVkKHRhcmdldFNsaXBwZWRPZmZzZXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5sYXN0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfVxuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBuZXh0OiBOb2RlID0gdGhpcy5sYXN0LmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAobmV4dCA9PSBudWxsKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgaWYgKHRoaXMubGFzdC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmNhc2NhZGUucG9wRWxlbWVudCh0aGlzLmxhc3QgYXMgRWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLnByaW1hcnkgPSB0aGlzLnByaW1hcnlTdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGNvbnN0IGJveCA9IHRoaXMuYm94U3RhY2sucG9wKHRoaXMubGFzdE9mZnNldCk7XG4gICAgICAgICAgICBsZXQgYnJlYWtBZnRlcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoYm94LmFmdGVyQm94KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGFmdGVyUHNldWRvQnJlYWtCZWZvcmUgPSBib3guYWZ0ZXJCb3guZ2V0QnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgICBcImJlZm9yZVwiLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQoXG4gICAgICAgICAgICAgICAgYWZ0ZXJQc2V1ZG9CcmVha0JlZm9yZSxcbiAgICAgICAgICAgICAgICBib3guYWZ0ZXJCb3guYXRCbG9ja1N0YXJ0XG4gICAgICAgICAgICAgICAgICA/IHRoaXMuYm94U3RhY2submVhcmVzdEJsb2NrU3RhcnRPZmZzZXQoYm94KVxuICAgICAgICAgICAgICAgICAgOiBib3guYWZ0ZXJCb3gub2Zmc2V0LFxuICAgICAgICAgICAgICAgIGJveC5mbG93TmFtZSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWtBZnRlciA9IGJveC5hZnRlckJveC5nZXRCcmVha1ZhbHVlKFwiYWZ0ZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVha0FmdGVyID0gQnJlYWsucmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUoXG4gICAgICAgICAgICAgIGJyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgIGJveC5nZXRCcmVha1ZhbHVlKFwiYWZ0ZXJcIiksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3RlckZvcmNlZEJyZWFrT2Zmc2V0KFxuICAgICAgICAgICAgICBicmVha0FmdGVyLFxuICAgICAgICAgICAgICB0aGlzLmxhc3RPZmZzZXQsXG4gICAgICAgICAgICAgIGJveC5mbG93TmFtZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5leHQgPSB0aGlzLmxhc3QubmV4dFNpYmxpbmc7XG4gICAgICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmxhc3QgPSB0aGlzLmxhc3QucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAodGhpcy5sYXN0ID09PSB0aGlzLnJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoc3RhcnRPZmZzZXQgPCB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgICAgICAgICAgaWYgKHRhcmdldFNsaXBwZWRPZmZzZXQgPCAwKSB7XG4gICAgICAgICAgICAgICAgc2xpcHBlZE9mZnNldCA9IHRoaXMub2Zmc2V0TWFwLnNsaXBwZWRCeUZpeGVkKHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0YXJnZXRTbGlwcGVkT2Zmc2V0ID0gc2xpcHBlZE9mZnNldCArIGxvb2t1cDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8PSB0aGlzLm9mZnNldE1hcC5nZXRNYXhTbGlwcGVkKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBnb3QgdG8gdGhlIGRlc2lyZWQgcG9pbnRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXRNYXAuZml4ZWRCeVNsaXBwZWQodGFyZ2V0U2xpcHBlZE9mZnNldCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhc3QgPSBuZXh0O1xuICAgICAgaWYgKHRoaXMubGFzdC5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgIHRoaXMubGFzdE9mZnNldCArPSB0aGlzLmxhc3QudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgICB0aGlzLmJveFN0YWNrLmVuY291bnRlcmVkVGV4dE5vZGUodGhpcy5sYXN0KTtcbiAgICAgICAgaWYgKHRoaXMucHJpbWFyeSkge1xuICAgICAgICAgIHRoaXMub2Zmc2V0TWFwLmFkZFN0dWNrUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9mZnNldE1hcC5hZGRTbGlwcGVkUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IHRoaXMubGFzdCBhcyBFbGVtZW50O1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2V0QXR0clN0eWxlKGVsZW0pO1xuICAgICAgICB0aGlzLnByaW1hcnlTdGFjay5wdXNoKHRoaXMucHJpbWFyeSk7XG4gICAgICAgIHRoaXMuY2FzY2FkZS5wdXNoRWxlbWVudChlbGVtLCBzdHlsZSwgdGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgY29uc3QgaWQgPVxuICAgICAgICAgIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICAgICAgaWYgKGlkICYmIGlkID09PSB0aGlzLmlkVG9SZWFjaCkge1xuICAgICAgICAgIHRoaXMuaWRUb1JlYWNoID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgIXRoaXMuYm9keVJlYWNoZWQgJiZcbiAgICAgICAgICBlbGVtLmxvY2FsTmFtZSA9PSBcImJvZHlcIiAmJlxuICAgICAgICAgIGVsZW0ucGFyZW50Tm9kZSA9PSB0aGlzLnJvb3RcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5wb3N0cHJvY2Vzc1RvcFN0eWxlKHN0eWxlLCB0cnVlKTtcbiAgICAgICAgICB0aGlzLmJvZHlSZWFjaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYm94OiBCb3g7XG4gICAgICAgIGNvbnN0IGZsb3dOYW1lID0gc3R5bGVbXCJmbG93LWludG9cIl07XG4gICAgICAgIGlmIChmbG93TmFtZSkge1xuICAgICAgICAgIGNvbnN0IGZsb3dOYW1lU3RyID0gZmxvd05hbWVcbiAgICAgICAgICAgIC5ldmFsdWF0ZShjb250ZXh0LCBcImZsb3ctaW50b1wiKVxuICAgICAgICAgICAgLnRvU3RyaW5nKCk7XG4gICAgICAgICAgY29uc3QgbmV3Rmxvd0NodW5rID0gdGhpcy5lbmNvdW50ZXJlZEZsb3dFbGVtZW50KFxuICAgICAgICAgICAgZmxvd05hbWVTdHIsXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICAgIGVsZW0sXG4gICAgICAgICAgICB0aGlzLmxhc3RPZmZzZXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnByaW1hcnkgPSAhIXRoaXMucHJpbWFyeUZsb3dzW2Zsb3dOYW1lU3RyXTtcbiAgICAgICAgICBib3ggPSB0aGlzLmJveFN0YWNrLnB1c2goXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICAgIHRoaXMubGFzdE9mZnNldCxcbiAgICAgICAgICAgIGVsZW0gPT09IHRoaXMucm9vdCxcbiAgICAgICAgICAgIG5ld0Zsb3dDaHVuayxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJveCA9IHRoaXMuYm94U3RhY2sucHVzaChzdHlsZSwgdGhpcy5sYXN0T2Zmc2V0LCBlbGVtID09PSB0aGlzLnJvb3QpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrU3RhcnRPZmZzZXQgPSB0aGlzLmJveFN0YWNrLm5lYXJlc3RCbG9ja1N0YXJ0T2Zmc2V0KGJveCk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICAgICAgICBib3guYnJlYWtCZWZvcmUsXG4gICAgICAgICAgYmxvY2tTdGFydE9mZnNldCxcbiAgICAgICAgICBib3guZmxvd05hbWUsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChib3guYmVmb3JlQm94KSB7XG4gICAgICAgICAgY29uc3QgYmVmb3JlUHNldWRvQnJlYWtBZnRlciA9IGJveC5iZWZvcmVCb3guZ2V0QnJlYWtWYWx1ZShcImFmdGVyXCIpO1xuICAgICAgICAgIHRoaXMucmVnaXN0ZXJGb3JjZWRCcmVha09mZnNldChcbiAgICAgICAgICAgIGJlZm9yZVBzZXVkb0JyZWFrQWZ0ZXIsXG4gICAgICAgICAgICBib3guYmVmb3JlQm94LmF0QmxvY2tTdGFydCA/IGJsb2NrU3RhcnRPZmZzZXQgOiBib3gub2Zmc2V0LFxuICAgICAgICAgICAgYm94LmZsb3dOYW1lLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJpbWFyeSkge1xuICAgICAgICAgIGlmIChib3guZGlzcGxheVZhbHVlKCkgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICB0aGlzLnByaW1hcnkgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0RWxlbWVudE9mZnNldCh0aGlzLmxhc3QgYXMgRWxlbWVudCk7XG4gICAgICAgICAgaWYgKG9mZnNldCAhPSB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBvZmZzZXRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3R5bGVNYXBbYGUke3RoaXMubGFzdE9mZnNldH1gXSA9IHN0eWxlO1xuICAgICAgICB0aGlzLmxhc3RPZmZzZXQrKztcbiAgICAgICAgaWYgKHRoaXMucHJpbWFyeSkge1xuICAgICAgICAgIHRoaXMub2Zmc2V0TWFwLmFkZFN0dWNrUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9mZnNldE1hcC5hZGRTbGlwcGVkUmFuZ2UodGhpcy5sYXN0T2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRPZmZzZXQgPCB0aGlzLmxhc3RPZmZzZXQpIHtcbiAgICAgICAgICBpZiAodGFyZ2V0U2xpcHBlZE9mZnNldCA8IDApIHtcbiAgICAgICAgICAgIHNsaXBwZWRPZmZzZXQgPSB0aGlzLm9mZnNldE1hcC5zbGlwcGVkQnlGaXhlZChzdGFydE9mZnNldCk7XG4gICAgICAgICAgICB0YXJnZXRTbGlwcGVkT2Zmc2V0ID0gc2xpcHBlZE9mZnNldCArIGxvb2t1cDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRhcmdldFNsaXBwZWRPZmZzZXQgPD0gdGhpcy5vZmZzZXRNYXAuZ2V0TWF4U2xpcHBlZCgpKSB7XG4gICAgICAgICAgICAvLyBnb3QgdG8gdGhlIGRlc2lyZWQgcG9pbnRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9mZnNldE1hcC5maXhlZEJ5U2xpcHBlZCh0YXJnZXRTbGlwcGVkT2Zmc2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRTdHlsZShlbGVtZW50OiBFbGVtZW50LCBkZWVwOiBib29sZWFuKTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUge1xuICAgIGxldCBvZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpO1xuICAgIGNvbnN0IGtleSA9IGBlJHtvZmZzZXR9YDtcbiAgICBpZiAoZGVlcCkge1xuICAgICAgb2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0Tm9kZU9mZnNldChlbGVtZW50LCAwLCB0cnVlKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubGFzdE9mZnNldCA8PSBvZmZzZXQpIHtcbiAgICAgIHRoaXMuc3R5bGVVbnRpbChvZmZzZXQsIDApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHlsZU1hcFtrZXldO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJvY2Vzc0NvbnRlbnQoZWxlbWVudDogRWxlbWVudCwgc3R5bGVzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSkge31cbn1cblxuZXhwb3J0IGNvbnN0IGNvbHVtblByb3BzID0gW1wiY29sdW1uLWNvdW50XCIsIFwiY29sdW1uLXdpZHRoXCIsIFwiY29sdW1uLWZpbGxcIl07XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1ZhbGlkYXRvciAtIFBhcnNlIHZhbGlkYXRpb24gcnVsZXMgKHZhbGlkYXRpb24udHh0KSwgdmFsaWRhdGVcbiAqIHByb3BlcnRpZXMgYW5kIHNob3J0aGFuZHMuXG4gKi9cbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NUb2tlbml6ZXIgZnJvbSBcIi4vY3NzLXRva2VuaXplclwiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgVmFsaWRhdGlvblR4dCBmcm9tIFwiLi9hc3NldHMvdmFsaWRhdGlvbi50eHRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQcm9wZXJ0eVJlY2VpdmVyIHtcbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkO1xuXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkO1xuXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBOb2RlIHtcbiAgc3VjY2VzczogTm9kZSA9IG51bGw7XG4gIGZhaWx1cmU6IE5vZGUgPSBudWxsO1xuICBjb2RlOiBudW1iZXIgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB2YWxpZGF0b3I6IFByb3BlcnR5VmFsaWRhdG9yKSB7fVxuXG4gIGlzU3BlY2lhbCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlICE9IDA7XG4gIH1cblxuICBtYXJrQXNTdGFydEdyb3VwKCk6IHZvaWQge1xuICAgIHRoaXMuY29kZSA9IC0xO1xuICB9XG5cbiAgaXNTdGFydEdyb3VwKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvZGUgPT0gLTE7XG4gIH1cblxuICBtYXJrQXNFbmRHcm91cCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvZGUgPSAtMjtcbiAgfVxuXG4gIGlzRW5kR3JvdXAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY29kZSA9PSAtMjtcbiAgfVxuXG4gIG1hcmtBc1N0YXJ0QWx0ZXJuYXRlKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNvZGUgPSAyICogaW5kZXggKyAxO1xuICB9XG5cbiAgaXNTdGFydEFsdGVybmF0ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID4gMCAmJiB0aGlzLmNvZGUgJSAyICE9IDA7XG4gIH1cblxuICBtYXJrQXNFbmRBbHRlcm5hdGUoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY29kZSA9IDIgKiBpbmRleCArIDI7XG4gIH1cblxuICBpc0VuZEFsdGVybmF0ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlID4gMCAmJiB0aGlzLmNvZGUgJSAyID09IDA7XG4gIH1cblxuICBnZXRBbHRlcm5hdGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcigodGhpcy5jb2RlIC0gMSkgLyAyKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29ubmVjdGlvbiB7XG4gIHdoYXQ6IG51bWJlciA9IC0xO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyB3aGVyZTogbnVtYmVyLCBwdWJsaWMgc3VjY2VzczogYm9vbGVhbikge31cbn1cblxuLyoqXG4gKiBAZW51bSB7bnVtYmVyfVxuICovXG5leHBvcnQgZW51bSBBZGQge1xuICBGT0xMT1cgPSAxLFxuICBPUFRJT05BTCxcbiAgUkVQRUFURUQsXG4gIEFMVEVSTkFURSxcbn1cblxuLyoqXG4gKiBBIGNsYXNzIHRvIGJ1aWxkIGEgbGlzdCB2YWxpZGF0b3IgZnJvbSBvdGhlciB2YWxpZGF0b3JzLlxuICovXG5leHBvcnQgY2xhc3MgVmFsaWRhdGluZ0dyb3VwIHtcbiAgbm9kZXM6IE5vZGVbXSA9IFtdO1xuICBjb25uZWN0aW9uczogQ29ubmVjdGlvbltdID0gW107XG4gIG1hdGNoOiBudW1iZXJbXSA9IFtdOyAvLyBjb25uZWN0b3IgaW5kaWNpZXNcbiAgbm9tYXRjaDogbnVtYmVyW10gPSBbXTsgLy8gY29ubmVjdG9yIGluZGljaWVzXG4gIGVycm9yOiBudW1iZXJbXSA9IFtdOyAvLyBjb25uZWN0b3IgaW5kaWNpZXNcbiAgZW1wdHlIZWFkOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25uZWN0KGFycjogbnVtYmVyW10sIG5vZGVJbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuY29ubmVjdGlvbnNbYXJyW2ldXS53aGF0ID0gbm9kZUluZGV4O1xuICAgIH1cbiAgICBhcnIuc3BsaWNlKDAsIGFyci5sZW5ndGgpO1xuICB9XG5cbiAgY2xvbmUoKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBjb25zdCBncm91cCA9IG5ldyBWYWxpZGF0aW5nR3JvdXAoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGVzW2ldO1xuICAgICAgY29uc3QgY2xvbmVkTm9kZSA9IG5ldyBOb2RlKG5vZGUudmFsaWRhdG9yKTtcbiAgICAgIGNsb25lZE5vZGUuY29kZSA9IG5vZGUuY29kZTtcbiAgICAgIGdyb3VwLm5vZGVzLnB1c2goY2xvbmVkTm9kZSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25uZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHRoaXMuY29ubmVjdGlvbnNbaV07XG4gICAgICBjb25zdCBncm91cENvbm5lY3Rpb24gPSBuZXcgQ29ubmVjdGlvbihcbiAgICAgICAgY29ubmVjdGlvbi53aGVyZSxcbiAgICAgICAgY29ubmVjdGlvbi5zdWNjZXNzLFxuICAgICAgKTtcbiAgICAgIGdyb3VwQ29ubmVjdGlvbi53aGF0ID0gY29ubmVjdGlvbi53aGF0O1xuICAgICAgZ3JvdXAuY29ubmVjdGlvbnMucHVzaChncm91cENvbm5lY3Rpb24pO1xuICAgIH1cbiAgICBncm91cC5tYXRjaC5wdXNoKC4uLnRoaXMubWF0Y2gpO1xuICAgIGdyb3VwLm5vbWF0Y2gucHVzaCguLi50aGlzLm5vbWF0Y2gpO1xuICAgIGdyb3VwLmVycm9yLnB1c2goLi4udGhpcy5lcnJvcik7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBcInNwZWNpYWxcIiB2YWxpZGF0aW9uIG5vZGUgdG8gYSBnaXZlbiBhcnJheSAobWF0Y2gsIG5vbWF0Y2gsIG9yIGVycm9yKS5cbiAgICogQHBhcmFtIHN0YXJ0IGlmIHRoaXMgYSBzdGFydCBvciB0aGUgZW5kIG9mIGEgY2xhdXNlL2dyb3VwXG4gICAqIEBwYXJhbSBjbGF1c2UgMCBpbmRpY2F0ZXMgZ3JvdXAgc3RhcnQvZW5kLCBvdGhlcndpc2UgY2xhdXNlIGluZGV4XG4gICAqL1xuICBwcml2YXRlIGFkZFNwZWNpYWxUb0FycihhcnI6IG51bWJlcltdLCBzdGFydDogYm9vbGVhbiwgY2xhdXNlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMubGVuZ3RoO1xuICAgIGNvbnN0IG5vZGUgPSBuZXcgTm9kZShBTFdBWVNfRkFJTCk7XG4gICAgaWYgKGNsYXVzZSA+PSAwKSB7XG4gICAgICBpZiAoc3RhcnQpIHtcbiAgICAgICAgbm9kZS5tYXJrQXNTdGFydEFsdGVybmF0ZShjbGF1c2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5tYXJrQXNFbmRBbHRlcm5hdGUoY2xhdXNlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXJ0KSB7XG4gICAgICAgIG5vZGUubWFya0FzU3RhcnRHcm91cCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5tYXJrQXNFbmRHcm91cCgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gICAgdGhpcy5jb25uZWN0KGFyciwgaW5kZXgpO1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBuZXcgQ29ubmVjdGlvbihpbmRleCwgdHJ1ZSk7XG4gICAgY29uc3QgZmFpbHVyZSA9IG5ldyBDb25uZWN0aW9uKGluZGV4LCBmYWxzZSk7XG4gICAgYXJyLnB1c2godGhpcy5jb25uZWN0aW9ucy5sZW5ndGgpO1xuICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChmYWlsdXJlKTtcbiAgICBhcnIucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKHN1Y2Nlc3MpO1xuICB9XG5cbiAgZW5kU3BlY2lhbEdyb3VwKCk6IHZvaWQge1xuICAgIGNvbnN0IGFycnMgPSBbdGhpcy5tYXRjaCwgdGhpcy5ub21hdGNoLCB0aGlzLmVycm9yXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkU3BlY2lhbFRvQXJyKGFycnNbaV0sIGZhbHNlLCAtMSk7XG4gICAgfVxuICB9XG5cbiAgc3RhcnRTcGVjaWFsR3JvdXAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubm9kZXMubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIGNhbGxcIik7XG4gICAgfVxuICAgIHRoaXMuYWRkU3BlY2lhbFRvQXJyKHRoaXMubWF0Y2gsIHRydWUsIC0xKTtcbiAgfVxuXG4gIGVuZENsYXVzZShjbGF1c2U6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuYWRkU3BlY2lhbFRvQXJyKHRoaXMubWF0Y2gsIGZhbHNlLCBjbGF1c2UpO1xuICB9XG5cbiAgc3RhcnRDbGF1c2UoY2xhdXNlOiBudW1iZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5ub2Rlcy5sZW5ndGgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgY2FsbFwiKTtcbiAgICB9XG4gICAgY29uc3Qgbm9kZSA9IG5ldyBOb2RlKEFMV0FZU19GQUlMKTtcbiAgICBub2RlLm1hcmtBc1N0YXJ0QWx0ZXJuYXRlKGNsYXVzZSk7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpO1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBuZXcgQ29ubmVjdGlvbigwLCB0cnVlKTtcbiAgICBjb25zdCBmYWlsdXJlID0gbmV3IENvbm5lY3Rpb24oMCwgZmFsc2UpO1xuICAgIHRoaXMubm9tYXRjaC5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goZmFpbHVyZSk7XG4gICAgdGhpcy5tYXRjaC5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25zLnB1c2goc3VjY2Vzcyk7XG4gIH1cblxuICBhZGRQcmltaXRpdmUodmFsaWRhdG9yOiBQcm9wZXJ0eVZhbGlkYXRvcik6IHZvaWQge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5ldyBOb2RlKHZhbGlkYXRvcikpO1xuICAgIGNvbnN0IHN1Y2Nlc3MgPSBuZXcgQ29ubmVjdGlvbihpbmRleCwgdHJ1ZSk7XG4gICAgY29uc3QgZmFpbHVyZSA9IG5ldyBDb25uZWN0aW9uKGluZGV4LCBmYWxzZSk7XG4gICAgdGhpcy5jb25uZWN0KHRoaXMubWF0Y2gsIGluZGV4KTtcbiAgICBpZiAodGhpcy5lbXB0eUhlYWQpIHtcbiAgICAgIC8vIGlmIGRpZCBub3QgdmFsaWRhdGUgLT4gbm8gbWF0Y2hcbiAgICAgIHRoaXMubm9tYXRjaC5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICAgIHRoaXMuZW1wdHlIZWFkID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIGRpZCBub3QgdmFsaWRhdGUgLT4gZmFpbHVyZVxuICAgICAgdGhpcy5lcnJvci5wdXNoKHRoaXMuY29ubmVjdGlvbnMubGVuZ3RoKTtcbiAgICB9XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKGZhaWx1cmUpO1xuICAgIHRoaXMubWF0Y2gucHVzaCh0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aCk7XG4gICAgdGhpcy5jb25uZWN0aW9ucy5wdXNoKHN1Y2Nlc3MpO1xuICB9XG5cbiAgaXNTaW1wbGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXMubGVuZ3RoID09IDEgJiYgIXRoaXMubm9kZXNbMF0uaXNTcGVjaWFsKCk7XG4gIH1cblxuICBpc1ByaW1pdGl2ZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5pc1NpbXBsZSgpICYmIHRoaXMubm9kZXNbMF0udmFsaWRhdG9yIGluc3RhbmNlb2YgUHJpbWl0aXZlVmFsaWRhdG9yXG4gICAgKTtcbiAgfVxuXG4gIGFkZEdyb3VwKGdyb3VwOiBWYWxpZGF0aW5nR3JvdXAsIGhvdzogQWRkKTogdm9pZCB7XG4gICAgaWYgKGdyb3VwLm5vZGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG5cbiAgICAvLyBvcHRpbWl6YXRpb24gZm9yIGFsdGVybmF0ZSBwcmltaXRpdmUgdmFsaWRhdG9yc1xuICAgIGlmIChcbiAgICAgIGhvdyA9PSBBZGQuQUxURVJOQVRFICYmXG4gICAgICBpbmRleCA9PSAxICYmXG4gICAgICBncm91cC5pc1ByaW1pdGl2ZSgpICYmXG4gICAgICB0aGlzLmlzUHJpbWl0aXZlKClcbiAgICApIHtcbiAgICAgIHRoaXMubm9kZXNbMF0udmFsaWRhdG9yID0gKHRoaXMubm9kZXNbMF1cbiAgICAgICAgLnZhbGlkYXRvciBhcyBQcmltaXRpdmVWYWxpZGF0b3IpLmNvbWJpbmUoXG4gICAgICAgIGdyb3VwLm5vZGVzWzBdLnZhbGlkYXRvciBhcyBQcmltaXRpdmVWYWxpZGF0b3IsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLm5vZGVzLnB1c2goZ3JvdXAubm9kZXNbaV0pO1xuICAgIH1cblxuICAgIC8vIG5vZGVzW2luZGV4XSBpcyBncm91cCBzdGFydFxuICAgIGlmIChob3cgPT0gQWRkLkFMVEVSTkFURSkge1xuICAgICAgdGhpcy5lbXB0eUhlYWQgPSB0cnVlO1xuICAgICAgdGhpcy5jb25uZWN0KHRoaXMubm9tYXRjaCwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbm5lY3QodGhpcy5tYXRjaCwgaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCBjb25uZWN0aW9uSW5kZXggPSB0aGlzLmNvbm5lY3Rpb25zLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmNvbm5lY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uID0gZ3JvdXAuY29ubmVjdGlvbnNbaV07XG4gICAgICBjb25uZWN0aW9uLndoZXJlICs9IGluZGV4O1xuICAgICAgaWYgKGNvbm5lY3Rpb24ud2hhdCA+PSAwKSB7XG4gICAgICAgIGNvbm5lY3Rpb24ud2hhdCArPSBpbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29ubmVjdGlvbnMucHVzaChjb25uZWN0aW9uKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5tYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5tYXRjaC5wdXNoKGdyb3VwLm1hdGNoW2ldICsgY29ubmVjdGlvbkluZGV4KTtcbiAgICB9XG4gICAgaWYgKGhvdyA9PSBBZGQuUkVQRUFURUQpIHtcbiAgICAgIHRoaXMuY29ubmVjdCh0aGlzLm1hdGNoLCBpbmRleCk7XG4gICAgfVxuICAgIGlmIChob3cgPT0gQWRkLk9QVElPTkFMIHx8IGhvdyA9PSBBZGQuUkVQRUFURUQpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubm9tYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLm1hdGNoLnB1c2goZ3JvdXAubm9tYXRjaFtpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmVtcHR5SGVhZCkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5ub21hdGNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMubm9tYXRjaC5wdXNoKGdyb3VwLm5vbWF0Y2hbaV0gKyBjb25uZWN0aW9uSW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy5lbXB0eUhlYWQgPSBncm91cC5lbXB0eUhlYWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubm9tYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmVycm9yLnB1c2goZ3JvdXAubm9tYXRjaFtpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAuZXJyb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZXJyb3IucHVzaChncm91cC5lcnJvcltpXSArIGNvbm5lY3Rpb25JbmRleCk7XG4gICAgfVxuXG4gICAgLy8gaW52YWxpZGF0ZSBncm91cFxuICAgIGdyb3VwLm5vZGVzID0gbnVsbDtcbiAgICBncm91cC5jb25uZWN0aW9ucyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob3dcbiAgICovXG4gIGZpbmlzaChzdWNjZXNzVGVybWluYWw6IE5vZGUsIGZhaWxUZXJtaW5hbDogTm9kZSk6IE5vZGUge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5sZW5ndGg7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKHN1Y2Nlc3NUZXJtaW5hbCk7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKGZhaWxUZXJtaW5hbCk7XG4gICAgdGhpcy5jb25uZWN0KHRoaXMubWF0Y2gsIGluZGV4KTtcbiAgICB0aGlzLmNvbm5lY3QodGhpcy5ub21hdGNoLCBpbmRleCArIDEpO1xuICAgIHRoaXMuY29ubmVjdCh0aGlzLmVycm9yLCBpbmRleCArIDEpO1xuICAgIGZvciAoY29uc3QgY29ubmVjdGlvbiBvZiB0aGlzLmNvbm5lY3Rpb25zKSB7XG4gICAgICBpZiAoY29ubmVjdGlvbi5zdWNjZXNzKSB7XG4gICAgICAgIHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGVyZV0uc3VjY2VzcyA9IHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGF0XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGVyZV0uZmFpbHVyZSA9IHRoaXMubm9kZXNbY29ubmVjdGlvbi53aGF0XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtYWtlIHN1cmUgdGhhdCBvdXIgZGF0YSBzdHJ1Y3R1cmUgaXMgY29ycmVjdFxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5kZXg7IGorKykge1xuICAgICAgaWYgKHRoaXMubm9kZXNbal0uZmFpbHVyZSA9PSBudWxsIHx8IHRoaXMubm9kZXNbal0uc3VjY2VzcyA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsaWRhdG9yIHN0YXRlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5ub2Rlc1swXTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgQUxMT1dfRU1QVFkgPSAxO1xuXG5leHBvcnQgY29uc3QgQUxMT1dfU1RSID0gMjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX0lERU5UID0gNDtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1BPU19OVU1FUklDID0gODtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1BPU19OVU0gPSAxNjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1BPU19JTlQgPSAzMjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX0NPTE9SID0gNjQ7XG5cbmV4cG9ydCBjb25zdCBBTExPV19VUkwgPSAxMjg7XG5cbmV4cG9ydCBjb25zdCBBTExPV19ORUdBVElWRSA9IDI1NjtcblxuZXhwb3J0IGNvbnN0IEFMTE9XX1pFUk8gPSA1MTI7XG5cbmV4cG9ydCBjb25zdCBBTExPV19aRVJPX1BFUkNFTlQgPSAxMDI0O1xuXG5leHBvcnQgY29uc3QgQUxMT1dfU0xBU0ggPSAyMDQ4O1xuXG5leHBvcnQgdHlwZSBWYWx1ZU1hcCA9IHtcbiAgW2tleTogc3RyaW5nXTogQ3NzLlZhbDtcbn07XG5cbi8qKlxuICogQWJzdHJhY3QgY2xhc3MgdG8gdmFsaWRhdGUgc2ltcGxlIENTUyBwcm9wZXJ0eSB2YWx1ZSAobm90IGEgc2hvcnRoYW5kKVxuICovXG5leHBvcnQgY2xhc3MgUHJvcGVydHlWYWxpZGF0b3IgZXh0ZW5kcyBDc3MuVmlzaXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogVmFsaWRhdGUgYSBzdWJzZXF1ZW5jZSBvZiB0aGUgZ2l2ZW4gdmFsdWVzIGZyb20gdGhlIGdpdmVuIGluZGV4LiBSZXR1cm4gdGhlXG4gICAqIGxpc3Qgb2YgbWF0Y2hlZCB2YWx1ZXMgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBtYXRjaC5cbiAgICovXG4gIHZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlczogQ3NzLlZhbFtdLCBpbmRleDogbnVtYmVyKTogQ3NzLlZhbFtdIHtcbiAgICBjb25zdCBydmFsID0gdmFsdWVzW2luZGV4XS52aXNpdCh0aGlzKTtcbiAgICBpZiAocnZhbCkge1xuICAgICAgcmV0dXJuIFtydmFsXTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBWYWxpZGF0ZSBhIHByaW1pdGl2ZSBDU1MgdmFsdWUgKG5vdCBhIGxpc3Qgb3IgZnVuY3Rpb24pLlxuICogQHBhcmFtIGFsbG93ZWQgbWFzayBvZiBBTExPV18qKiogY29uc3RhbnRzLlxuICovXG5leHBvcnQgY2xhc3MgUHJpbWl0aXZlVmFsaWRhdG9yIGV4dGVuZHMgUHJvcGVydHlWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgYWxsb3dlZDogbnVtYmVyLFxuICAgIHB1YmxpYyByZWFkb25seSBpZGVudHM6IFZhbHVlTWFwLFxuICAgIHB1YmxpYyByZWFkb25seSB1bml0czogVmFsdWVNYXAsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEVtcHR5KGVtcHR5OiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX0VNUFRZKSB7XG4gICAgICByZXR1cm4gZW1wdHk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTbGFzaChzbGFzaDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19TTEFTSCkge1xuICAgICAgcmV0dXJuIHNsYXNoO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3RyKHN0cjogQ3NzLlN0cik6IENzcy5WYWwge1xuICAgIGlmICh0aGlzLmFsbG93ZWQgJiBBTExPV19TVFIpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgdmFsID0gdGhpcy5pZGVudHNbaWRlbnQubmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfSURFTlQpIHtcbiAgICAgIHJldHVybiBpZGVudDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICBpZiAobnVtZXJpYy5udW0gPT0gMCAmJiAhKHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk8pKSB7XG4gICAgICBpZiAobnVtZXJpYy51bml0ID09IFwiJVwiICYmIHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk9fUEVSQ0VOVCkge1xuICAgICAgICByZXR1cm4gbnVtZXJpYztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobnVtZXJpYy5udW0gPCAwICYmICEodGhpcy5hbGxvd2VkICYgQUxMT1dfTkVHQVRJVkUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMudW5pdHNbbnVtZXJpYy51bml0XSkge1xuICAgICAgcmV0dXJuIG51bWVyaWM7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW0obnVtOiBDc3MuTnVtKTogQ3NzLlZhbCB7XG4gICAgaWYgKG51bS5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk8gPyBudW0gOiBudWxsO1xuICAgIH1cbiAgICBpZiAobnVtLm51bSA8PSAwICYmICEodGhpcy5hbGxvd2VkICYgQUxMT1dfTkVHQVRJVkUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIEFMTE9XX1BPU19OVU0pIHtcbiAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJbnQobnVtOiBDc3MuSW50KTogQ3NzLlZhbCB7XG4gICAgaWYgKG51bS5udW0gPT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsb3dlZCAmIEFMTE9XX1pFUk8gPyBudW0gOiBudWxsO1xuICAgIH1cbiAgICBpZiAobnVtLm51bSA8PSAwICYmICEodGhpcy5hbGxvd2VkICYgQUxMT1dfTkVHQVRJVkUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIChBTExPV19QT1NfSU5UIHwgQUxMT1dfUE9TX05VTSkpIHtcbiAgICAgIHJldHVybiBudW07XG4gICAgfVxuICAgIGNvbnN0IHZhbCA9IHRoaXMuaWRlbnRzW2Ake251bS5udW19YF07XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDc3MuQ29sb3IpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfQ09MT1IpIHtcbiAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICBpZiAodGhpcy5hbGxvd2VkICYgQUxMT1dfVVJMKSB7XG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFeHByKGV4cHI6IENzcy5FeHByKTogQ3NzLlZhbCB7XG4gICAgaWYgKHRoaXMuYWxsb3dlZCAmIDB4N2ZlKSB7XG4gICAgICAvLyBBTExPV19TVFJ8QUxMT1dfSURFTlR8Li4ufEFMTE9XX1pFUk9fUEVSQ0VOVFxuICAgICAgcmV0dXJuIGV4cHI7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgY29tYmluZShvdGhlcjogUHJpbWl0aXZlVmFsaWRhdG9yKTogUHJpbWl0aXZlVmFsaWRhdG9yIHtcbiAgICBjb25zdCBpZGVudHM6IFZhbHVlTWFwID0ge307XG4gICAgY29uc3QgdW5pdHM6IFZhbHVlTWFwID0ge307XG4gICAgZm9yIChjb25zdCBpZGVudCBpbiB0aGlzLmlkZW50cykge1xuICAgICAgaWRlbnRzW2lkZW50XSA9IHRoaXMuaWRlbnRzW2lkZW50XTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBpZGVudCBpbiBvdGhlci5pZGVudHMpIHtcbiAgICAgIGlkZW50c1tpZGVudF0gPSBvdGhlci5pZGVudHNbaWRlbnRdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHVuaXQgaW4gdGhpcy51bml0cykge1xuICAgICAgdW5pdHNbdW5pdF0gPSB0aGlzLnVuaXRzW3VuaXRdO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHVuaXQgaW4gb3RoZXIudW5pdHMpIHtcbiAgICAgIHVuaXRzW3VuaXRdID0gb3RoZXIudW5pdHNbdW5pdF07XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKHRoaXMuYWxsb3dlZCB8IG90aGVyLmFsbG93ZWQsIGlkZW50cywgdW5pdHMpO1xuICB9XG59XG5cbmNvbnN0IE5PX0lERU5UUyA9IHt9O1xuXG5leHBvcnQgY29uc3QgQUxXQVlTX0ZBSUwgPSBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKDAsIE5PX0lERU5UUywgTk9fSURFTlRTKTtcblxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBsaXN0IHZhbGlkYXRpb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0VmFsaWRhdG9yIGV4dGVuZHMgUHJvcGVydHlWYWxpZGF0b3Ige1xuICBzdWNjZXNzVGVybWluYWw6IE5vZGU7XG4gIGZhaWx1cmVUZXJtaW5hbDogTm9kZTtcbiAgZmlyc3Q6IE5vZGU7XG5cbiAgY29uc3RydWN0b3IoZ3JvdXA6IFZhbGlkYXRpbmdHcm91cCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zdWNjZXNzVGVybWluYWwgPSBuZXcgTm9kZShudWxsKTtcbiAgICB0aGlzLmZhaWx1cmVUZXJtaW5hbCA9IG5ldyBOb2RlKG51bGwpO1xuICAgIHRoaXMuZmlyc3QgPSBncm91cC5maW5pc2godGhpcy5zdWNjZXNzVGVybWluYWwsIHRoaXMuZmFpbHVyZVRlcm1pbmFsKTtcbiAgfVxuXG4gIHZhbGlkYXRlTGlzdChhcnI6IENzcy5WYWxbXSwgc2xpY2U6IGJvb2xlYW4sIHN0YXJ0SW5kZXg6IG51bWJlcik6IENzcy5WYWxbXSB7XG4gICAgbGV0IG91dDogQ3NzLlZhbFtdID0gc2xpY2UgPyBbXSA6IGFycjtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuZmlyc3Q7XG4gICAgbGV0IGluZGV4ID0gc3RhcnRJbmRleDtcbiAgICBsZXQgYWx0ZXJuYXRpdmVTdGFjazogc3RyaW5nW11bXSA9IG51bGw7XG4gICAgbGV0IGFsdGVybmF0aXZlczogc3RyaW5nW10gPSBudWxsO1xuICAgIHdoaWxlIChcbiAgICAgIGN1cnJlbnQgIT09IHRoaXMuc3VjY2Vzc1Rlcm1pbmFsICYmXG4gICAgICBjdXJyZW50ICE9PSB0aGlzLmZhaWx1cmVUZXJtaW5hbFxuICAgICkge1xuICAgICAgaWYgKGluZGV4ID49IGFyci5sZW5ndGgpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuZmFpbHVyZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnZhbCA9IGFycltpbmRleF07XG4gICAgICBsZXQgb3V0dmFsID0gaW52YWw7XG4gICAgICBpZiAoY3VycmVudC5pc1NwZWNpYWwoKSkge1xuICAgICAgICBsZXQgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgIGlmIChjdXJyZW50LmlzU3RhcnRHcm91cCgpKSB7XG4gICAgICAgICAgaWYgKGFsdGVybmF0aXZlU3RhY2spIHtcbiAgICAgICAgICAgIGFsdGVybmF0aXZlU3RhY2sucHVzaChhbHRlcm5hdGl2ZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbHRlcm5hdGl2ZVN0YWNrID0gW2FsdGVybmF0aXZlc107XG4gICAgICAgICAgfVxuICAgICAgICAgIGFsdGVybmF0aXZlcyA9IFtdO1xuICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnQuaXNFbmRHcm91cCgpKSB7XG4gICAgICAgICAgaWYgKGFsdGVybmF0aXZlU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzID0gYWx0ZXJuYXRpdmVTdGFjay5wb3AoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVzID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5pc0VuZEFsdGVybmF0ZSgpKSB7XG4gICAgICAgICAgYWx0ZXJuYXRpdmVzW2N1cnJlbnQuZ2V0QWx0ZXJuYXRlKCldID0gXCJ0YWtlblwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1Y2Nlc3MgPSBhbHRlcm5hdGl2ZXNbY3VycmVudC5nZXRBbHRlcm5hdGUoKV0gPT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gc3VjY2VzcyA/IGN1cnJlbnQuc3VjY2VzcyA6IGN1cnJlbnQuZmFpbHVyZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbmRleCA9PSAwICYmXG4gICAgICAgICAgIXNsaWNlICYmXG4gICAgICAgICAgY3VycmVudC52YWxpZGF0b3IgaW5zdGFuY2VvZiBTcGFjZUxpc3RWYWxpZGF0b3IgJiZcbiAgICAgICAgICB0aGlzIGluc3RhbmNlb2YgU3BhY2VMaXN0VmFsaWRhdG9yXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIFNwZWNpYWwgbmVzdGluZyBjYXNlOiB2YWxpZGF0ZSB0aGUgaW5wdXQgc3BhY2UgbGlzdCBhcyBhIHdob2xlLlxuICAgICAgICAgIG91dHZhbCA9IG5ldyBDc3MuU3BhY2VMaXN0KGFycikudmlzaXQoY3VycmVudC52YWxpZGF0b3IpO1xuICAgICAgICAgIGlmIChvdXR2YWwpIHtcbiAgICAgICAgICAgIGluZGV4ID0gYXJyLmxlbmd0aDtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1Y2Nlc3M7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgaW5kZXggPT0gMCAmJlxuICAgICAgICAgICFzbGljZSAmJlxuICAgICAgICAgIGN1cnJlbnQudmFsaWRhdG9yIGluc3RhbmNlb2YgQ29tbWFMaXN0VmFsaWRhdG9yICYmXG4gICAgICAgICAgdGhpcyBpbnN0YW5jZW9mIFNwYWNlTGlzdFZhbGlkYXRvclxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBTcGVjaWFsIG5lc3RpbmcgY2FzZTogdmFsaWRhdGUgdGhlIGlucHV0IGNvbW1hIGxpc3QgYXMgYSB3aG9sZS5cbiAgICAgICAgICBvdXR2YWwgPSBuZXcgQ3NzLkNvbW1hTGlzdChhcnIpLnZpc2l0KGN1cnJlbnQudmFsaWRhdG9yKTtcbiAgICAgICAgICBpZiAob3V0dmFsKSB7XG4gICAgICAgICAgICBpbmRleCA9IGFyci5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zdWNjZXNzO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dHZhbCA9IGludmFsLnZpc2l0KGN1cnJlbnQudmFsaWRhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW91dHZhbCkge1xuICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZhaWx1cmU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG91dHZhbCAhPT0gaW52YWwgJiYgYXJyID09PSBvdXQpIHtcbiAgICAgICAgICAvLyBzdGFydEluZGV4IGlzIHplcm8gaGVyZVxuICAgICAgICAgIG91dCA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgaW5kZXg7IGsrKykge1xuICAgICAgICAgICAgb3V0W2tdID0gYXJyW2tdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJyICE9PSBvdXQpIHtcbiAgICAgICAgICBvdXRbaW5kZXggLSBzdGFydEluZGV4XSA9IG91dHZhbDtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCsrO1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zdWNjZXNzO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5zdWNjZXNzVGVybWluYWwpIHtcbiAgICAgIGlmIChzbGljZSA/IG91dC5sZW5ndGggPiAwIDogaW5kZXggPT0gYXJyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhbGlkYXRlU2luZ2xlKGludmFsOiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgLy8gbm8gbmVlZCB0byB3b3JyeSBhYm91dCBcInNwZWNpYWxzXCJcbiAgICBsZXQgb3V0dmFsOiBDc3MuVmFsID0gbnVsbDtcbiAgICBsZXQgY3VycmVudCA9IHRoaXMuZmlyc3Q7XG4gICAgd2hpbGUgKFxuICAgICAgY3VycmVudCAhPT0gdGhpcy5zdWNjZXNzVGVybWluYWwgJiZcbiAgICAgIGN1cnJlbnQgIT09IHRoaXMuZmFpbHVyZVRlcm1pbmFsXG4gICAgKSB7XG4gICAgICBpZiAoIWludmFsKSB7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmZhaWx1cmU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQuaXNTcGVjaWFsKCkpIHtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3VjY2VzcztcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBvdXR2YWwgPSBpbnZhbC52aXNpdChjdXJyZW50LnZhbGlkYXRvcik7XG4gICAgICBpZiAoIW91dHZhbCkge1xuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5mYWlsdXJlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGludmFsID0gbnVsbDtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1Y2Nlc3M7XG4gICAgfVxuICAgIGlmIChjdXJyZW50ID09PSB0aGlzLnN1Y2Nlc3NUZXJtaW5hbCkge1xuICAgICAgcmV0dXJuIG91dHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEVtcHR5KGVtcHR5OiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoZW1wdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTbGFzaChzbGFzaDogQ3NzLlZhbCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKHNsYXNoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3RyKHN0cjogQ3NzLlN0cik6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKHN0cik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdElkZW50KGlkZW50OiBDc3MuSWRlbnQpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShpZGVudCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdE51bWVyaWMobnVtZXJpYzogQ3NzLk51bWVyaWMpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW1lcmljKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtKG51bTogQ3NzLk51bSk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEludChudW06IENzcy5JbnQpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShudW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb2xvcihjb2xvcjogQ3NzLkNvbG9yKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoY29sb3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRVUkwodXJsOiBDc3MuVVJMKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUodXJsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0U3BhY2VMaXN0KGxpc3Q6IENzcy5TcGFjZUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGZ1bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFeHByKGV4cHI6IENzcy5FeHByKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNwYWNlTGlzdFZhbGlkYXRvciBleHRlbmRzIExpc3RWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihncm91cDogVmFsaWRhdGluZ0dyb3VwKSB7XG4gICAgc3VwZXIoZ3JvdXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGFyciA9IHRoaXMudmFsaWRhdGVMaXN0KGxpc3QudmFsdWVzLCBmYWxzZSwgMCk7XG4gICAgaWYgKGFyciA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICBpZiAoIWFycikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLlNwYWNlTGlzdChhcnIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIC8vIFNwZWNpYWwgQ2FzZSA6IElzc3VlICMxNTZcbiAgICBsZXQgbm9kZSA9IHRoaXMuZmlyc3Q7XG4gICAgbGV0IGhhc0NvbW1hTGlzdFZhbGlkYXRvciA9IGZhbHNlO1xuICAgIHdoaWxlIChub2RlKSB7XG4gICAgICBpZiAobm9kZS52YWxpZGF0b3IgaW5zdGFuY2VvZiBDb21tYUxpc3RWYWxpZGF0b3IpIHtcbiAgICAgICAgaGFzQ29tbWFMaXN0VmFsaWRhdG9yID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5mYWlsdXJlO1xuICAgIH1cbiAgICBpZiAoaGFzQ29tbWFMaXN0VmFsaWRhdG9yKSB7XG4gICAgICBjb25zdCBhcnIgPSB0aGlzLnZhbGlkYXRlTGlzdChsaXN0LnZhbHVlcywgZmFsc2UsIDApO1xuICAgICAgaWYgKGFyciA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICB9XG4gICAgICBpZiAoIWFycikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgQ3NzLkNvbW1hTGlzdChhcnIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlczogQ3NzLlZhbFtdLCBpbmRleDogbnVtYmVyKTogQ3NzLlZhbFtdIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZUxpc3QodmFsdWVzLCB0cnVlLCBpbmRleCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hTGlzdFZhbGlkYXRvciBleHRlbmRzIExpc3RWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihncm91cDogVmFsaWRhdGluZ0dyb3VwKSB7XG4gICAgc3VwZXIoZ3JvdXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGxpc3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRDb21tYUxpc3QobGlzdDogQ3NzLkNvbW1hTGlzdCk6IENzcy5WYWwge1xuICAgIGNvbnN0IGFyciA9IHRoaXMudmFsaWRhdGVMaXN0KGxpc3QudmFsdWVzLCBmYWxzZSwgMCk7XG4gICAgaWYgKGFyciA9PT0gbGlzdC52YWx1ZXMpIHtcbiAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cbiAgICBpZiAoIWFycikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQ3NzLkNvbW1hTGlzdChhcnIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVGb3JTaG9ydGhhbmQodmFsdWVzOiBDc3MuVmFsW10sIGluZGV4OiBudW1iZXIpOiBDc3MuVmFsW10ge1xuICAgIGxldCBjdXJyZW50ID0gdGhpcy5maXJzdDtcbiAgICBsZXQgcnZhbDogQ3NzLlZhbFtdO1xuICAgIHdoaWxlIChjdXJyZW50ICE9PSB0aGlzLmZhaWx1cmVUZXJtaW5hbCkge1xuICAgICAgcnZhbCA9IGN1cnJlbnQudmFsaWRhdG9yLnZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlcywgaW5kZXgpO1xuICAgICAgaWYgKHJ2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJ2YWw7XG4gICAgICB9XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5mYWlsdXJlO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRnVuY1ZhbGlkYXRvciBleHRlbmRzIExpc3RWYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nLCBncm91cDogVmFsaWRhdGluZ0dyb3VwKSB7XG4gICAgc3VwZXIoZ3JvdXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmFsaWRhdGVTaW5nbGUoaW52YWw6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIGlmIChmdW5jLm5hbWUudG9Mb3dlckNhc2UoKSAhPSB0aGlzLm5hbWUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBhcnIgPSB0aGlzLnZhbGlkYXRlTGlzdChmdW5jLnZhbHVlcywgZmFsc2UsIDApO1xuICAgIGlmIChhcnIgPT09IGZ1bmMudmFsdWVzKSB7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9XG4gICAgaWYgKCFhcnIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IENzcy5GdW5jKGZ1bmMubmFtZSwgYXJyKTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFNob3J0aGFuZHNcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgU2hvcnRoYW5kU3ludGF4Tm9kZSB7XG4gIC8qKlxuICAgKiBAcmV0dXJuIG5ldyBpbmRleC5cbiAgICovXG4gIHRyeVBhcnNlKFxuICAgIHZhbHVlczogQ3NzLlZhbFtdLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IsXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgc3VjY2VzcyhydmFsOiBDc3MuVmFsLCBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcik6IHZvaWQge31cbn1cblxuZXhwb3J0IGNsYXNzIFNob3J0aGFuZFN5bnRheFByb3BlcnR5IGV4dGVuZHMgU2hvcnRoYW5kU3ludGF4Tm9kZSB7XG4gIHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3I7XG5cbiAgY29uc3RydWN0b3IodmFsaWRhdG9yU2V0OiBWYWxpZGF0b3JTZXQsIHB1YmxpYyByZWFkb25seSBuYW1lOiBzdHJpbmcpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudmFsaWRhdG9yID0gdmFsaWRhdG9yU2V0LnZhbGlkYXRvcnNbdGhpcy5uYW1lXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHRyeVBhcnNlKFxuICAgIHZhbHVlczogQ3NzLlZhbFtdLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3IsXG4gICk6IG51bWJlciB7XG4gICAgaWYgKHNob3J0aGFuZFZhbGlkYXRvci52YWx1ZXNbdGhpcy5uYW1lXSkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICBjb25zdCBydmFscyA9IHRoaXMudmFsaWRhdG9yLnZhbGlkYXRlRm9yU2hvcnRoYW5kKHZhbHVlcywgaW5kZXgpO1xuICAgIGlmIChydmFscykge1xuICAgICAgY29uc3QgbGVuID0gcnZhbHMubGVuZ3RoO1xuICAgICAgY29uc3QgcnZhbCA9IGxlbiA+IDEgPyBuZXcgQ3NzLlNwYWNlTGlzdChydmFscykgOiBydmFsc1swXTtcbiAgICAgIHRoaXMuc3VjY2VzcyhydmFsLCBzaG9ydGhhbmRWYWxpZGF0b3IpO1xuICAgICAgcmV0dXJuIGluZGV4ICsgbGVuO1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdWNjZXNzKHJ2YWw6IENzcy5WYWwsIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yKTogdm9pZCB7XG4gICAgc2hvcnRoYW5kVmFsaWRhdG9yLnZhbHVlc1t0aGlzLm5hbWVdID0gcnZhbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2hvcnRoYW5kU3ludGF4UHJvcGVydHlOIGV4dGVuZHMgU2hvcnRoYW5kU3ludGF4UHJvcGVydHkge1xuICBjb25zdHJ1Y3Rvcih2YWxpZGF0b3JTZXQ6IFZhbGlkYXRvclNldCwgcHVibGljIHJlYWRvbmx5IG5hbWVzOiBzdHJpbmdbXSkge1xuICAgIHN1cGVyKHZhbGlkYXRvclNldCwgbmFtZXNbMF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3VjY2VzcyhydmFsOiBDc3MuVmFsLCBzaG9ydGhhbmRWYWxpZGF0b3I6IFNob3J0aGFuZFZhbGlkYXRvcik6IHZvaWQge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yLnZhbHVlc1t0aGlzLm5hbWVzW2ldXSA9IHJ2YWw7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaG9ydGhhbmRTeW50YXhDb21wb3VuZCBleHRlbmRzIFNob3J0aGFuZFN5bnRheE5vZGUge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgbm9kZXM6IFNob3J0aGFuZFN5bnRheE5vZGVbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2xhc2g6IGJvb2xlYW4sXG4gICkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0cnlQYXJzZShcbiAgICB2YWx1ZXM6IENzcy5WYWxbXSxcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHNob3J0aGFuZFZhbGlkYXRvcjogU2hvcnRoYW5kVmFsaWRhdG9yLFxuICApOiBudW1iZXIge1xuICAgIGNvbnN0IGluZGV4MCA9IGluZGV4O1xuICAgIGlmICh0aGlzLnNsYXNoKSB7XG4gICAgICBpZiAodmFsdWVzW2luZGV4XSA9PSBDc3Muc2xhc2gpIHtcbiAgICAgICAgaWYgKCsraW5kZXggPT0gdmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiBpbmRleDA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbmRleDA7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBuZXdJbmRleCA9IHRoaXMubm9kZXNbMF0udHJ5UGFyc2UodmFsdWVzLCBpbmRleCwgc2hvcnRoYW5kVmFsaWRhdG9yKTtcbiAgICBpZiAobmV3SW5kZXggPT0gaW5kZXgpIHtcbiAgICAgIHJldHVybiBpbmRleDA7XG4gICAgfVxuICAgIGluZGV4ID0gbmV3SW5kZXg7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aCAmJiBpbmRleCA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbmV3SW5kZXggPSB0aGlzLm5vZGVzW2ldLnRyeVBhcnNlKHZhbHVlcywgaW5kZXgsIHNob3J0aGFuZFZhbGlkYXRvcik7XG4gICAgICBpZiAobmV3SW5kZXggPT0gaW5kZXgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIENzcy5WaXNpdG9yIHtcbiAgc3ludGF4OiBTaG9ydGhhbmRTeW50YXhOb2RlW10gPSBudWxsO1xuICBwcm9wTGlzdDogc3RyaW5nW10gPSBudWxsO1xuICBlcnJvcjogYm9vbGVhbiA9IGZhbHNlO1xuICB2YWx1ZXM6IFZhbHVlTWFwID0ge307XG4gIHZhbGlkYXRvclNldDogVmFsaWRhdG9yU2V0ID0gbnVsbDtcblxuICBzZXRPd25lcih2YWxpZGF0b3JTZXQ6IFZhbGlkYXRvclNldCkge1xuICAgIHRoaXMudmFsaWRhdG9yU2V0ID0gdmFsaWRhdG9yU2V0O1xuICB9XG5cbiAgc3ludGF4Tm9kZUZvclByb3BlcnR5KG5hbWU6IHN0cmluZyk6IFNob3J0aGFuZFN5bnRheE5vZGUge1xuICAgIHJldHVybiBuZXcgU2hvcnRoYW5kU3ludGF4UHJvcGVydHkodGhpcy52YWxpZGF0b3JTZXQsIG5hbWUpO1xuICB9XG5cbiAgY2xvbmUoKTogdGhpcyB7XG4gICAgY29uc3Qgb3RoZXIgPSBuZXcgKHRoaXMuY29uc3RydWN0b3IgYXMgYW55KSgpO1xuICAgIG90aGVyLnN5bnRheCA9IHRoaXMuc3ludGF4O1xuICAgIG90aGVyLnByb3BMaXN0ID0gdGhpcy5wcm9wTGlzdDtcbiAgICBvdGhlci52YWxpZGF0b3JTZXQgPSB0aGlzLnZhbGlkYXRvclNldDtcbiAgICByZXR1cm4gb3RoZXI7XG4gIH1cblxuICBpbml0KHN5bnRheDogU2hvcnRoYW5kU3ludGF4Tm9kZVtdLCBwcm9wTGlzdDogc3RyaW5nW10pOiB2b2lkIHtcbiAgICB0aGlzLnN5bnRheCA9IHN5bnRheDtcbiAgICB0aGlzLnByb3BMaXN0ID0gcHJvcExpc3Q7XG4gIH1cblxuICBmaW5pc2goaW1wb3J0YW50OiBib29sZWFuLCByZWNlaXZlcjogUHJvcGVydHlSZWNlaXZlcik6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5lcnJvcikge1xuICAgICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMucHJvcExpc3QpIHtcbiAgICAgICAgcmVjZWl2ZXIuc2ltcGxlUHJvcGVydHkoXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXSB8fCB0aGlzLnZhbGlkYXRvclNldC5kZWZhdWx0VmFsdWVzW25hbWVdLFxuICAgICAgICAgIGltcG9ydGFudCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBwcm9wYWdhdGVJbmhlcml0KGltcG9ydGFudDogYm9vbGVhbiwgcmVjZWl2ZXI6IFByb3BlcnR5UmVjZWl2ZXIpOiB2b2lkIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgdGhpcy5wcm9wTGlzdCkge1xuICAgICAgcmVjZWl2ZXIuc2ltcGxlUHJvcGVydHkobmFtZSwgQ3NzLmlkZW50LmluaGVyaXQsIGltcG9ydGFudCk7XG4gICAgfVxuICB9XG5cbiAgdmFsaWRhdGVMaXN0KGxpc3Q6IENzcy5WYWxbXSk6IG51bWJlciB7XG4gICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YWxpZGF0ZVNpbmdsZSh2YWw6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICB0aGlzLnZhbGlkYXRlTGlzdChbdmFsXSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdEVtcHR5KGVtcHR5OiBDc3MuVmFsKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoZW1wdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTdHIoc3RyOiBDc3MuU3RyKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUoc3RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SWRlbnQoaWRlbnQ6IENzcy5JZGVudCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGlkZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0TnVtZXJpYyhudW1lcmljOiBDc3MuTnVtZXJpYyk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bWVyaWMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXROdW0obnVtOiBDc3MuTnVtKTogQ3NzLlZhbCB7XG4gICAgcmV0dXJuIHRoaXMudmFsaWRhdGVTaW5nbGUobnVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0SW50KG51bTogQ3NzLkludCk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKG51bSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdENvbG9yKGNvbG9yOiBDc3MuQ29sb3IpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZShjb2xvcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2aXNpdFVSTCh1cmw6IENzcy5VUkwpOiBDc3MuVmFsIHtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNpbmdsZSh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRTcGFjZUxpc3QobGlzdDogQ3NzLlNwYWNlTGlzdCk6IENzcy5WYWwge1xuICAgIHRoaXMudmFsaWRhdGVMaXN0KGxpc3QudmFsdWVzKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0RnVuYyhmdW5jOiBDc3MuRnVuYyk6IENzcy5WYWwge1xuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2luZ2xlKGZ1bmMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRFeHByKGV4cHI6IENzcy5FeHByKTogQ3NzLlZhbCB7XG4gICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIFNob3J0aGFuZFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUxpc3QobGlzdDogQ3NzLlZhbFtdKTogbnVtYmVyIHtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaW5kZXggPCBsaXN0Lmxlbmd0aCkge1xuICAgICAgY29uc3QgbmV3SW5kZXggPSB0aGlzLnN5bnRheFtpXS50cnlQYXJzZShsaXN0LCBpbmRleCwgdGhpcyk7XG4gICAgICBpZiAobmV3SW5kZXggPiBpbmRleCkge1xuICAgICAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgICAgICBpID0gMDtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAoKytpID09IHRoaXMuc3ludGF4Lmxlbmd0aCkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW5zZXRzU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlTGlzdChsaXN0OiBDc3MuVmFsW10pOiBudW1iZXIge1xuICAgIGlmIChsaXN0Lmxlbmd0aCA+IHRoaXMuc3ludGF4Lmxlbmd0aCB8fCBsaXN0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3ludGF4Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW5kZXggPSBpO1xuICAgICAgd2hpbGUgKGluZGV4ID49IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPT0gMSA/IDAgOiBpbmRleCAtIDI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zeW50YXhbaV0udHJ5UGFyc2UobGlzdCwgaW5kZXgsIHRoaXMpICE9IGluZGV4ICsgMSkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0Lmxlbmd0aDtcbiAgfVxuXG4gIGNyZWF0ZVN5bnRheE5vZGUoKTogU2hvcnRoYW5kU3ludGF4UHJvcGVydHlOIHtcbiAgICByZXR1cm4gbmV3IFNob3J0aGFuZFN5bnRheFByb3BlcnR5Tih0aGlzLnZhbGlkYXRvclNldCwgdGhpcy5wcm9wTGlzdCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEluc2V0c1NsYXNoU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZhbGlkYXRlTGlzdChsaXN0OiBDc3MuVmFsW10pOiBudW1iZXIge1xuICAgIGxldCBzbGFzaEluZGV4ID0gbGlzdC5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdFtpXSA9PT0gQ3NzLnNsYXNoKSB7XG4gICAgICAgIHNsYXNoSW5kZXggPSBpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNsYXNoSW5kZXggPiB0aGlzLnN5bnRheC5sZW5ndGggfHwgbGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnN5bnRheC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGluZGV4MCA9IGk7XG4gICAgICB3aGlsZSAoaW5kZXgwID49IHNsYXNoSW5kZXgpIHtcbiAgICAgICAgaW5kZXgwID0gaW5kZXgwID09IDEgPyAwIDogaW5kZXgwIC0gMjtcbiAgICAgIH1cbiAgICAgIGxldCBpbmRleDE6IG51bWJlcjtcbiAgICAgIGlmIChzbGFzaEluZGV4ICsgMSA8IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGluZGV4MSA9IHNsYXNoSW5kZXggKyBpICsgMTtcbiAgICAgICAgd2hpbGUgKGluZGV4MSA+PSBsaXN0Lmxlbmd0aCkge1xuICAgICAgICAgIGluZGV4MSA9IGluZGV4MSAtIChpbmRleDEgPT0gc2xhc2hJbmRleCArIDIgPyAxIDogMik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZGV4MSA9IGluZGV4MDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHMgPSBbbGlzdFtpbmRleDBdLCBsaXN0W2luZGV4MV1dO1xuICAgICAgaWYgKHRoaXMuc3ludGF4W2ldLnRyeVBhcnNlKHZhbHMsIDAsIHRoaXMpICE9IDIpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiAwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGlzdC5sZW5ndGg7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbW1hU2hvcnRoYW5kVmFsaWRhdG9yIGV4dGVuZHMgU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIG1lcmdlSW4oYWNjOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWxbXSB9LCB2YWx1ZXM6IFZhbHVlTWFwKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIHRoaXMucHJvcExpc3QpIHtcbiAgICAgIGNvbnN0IHZhbCA9IHZhbHVlc1tuYW1lXSB8fCB0aGlzLnZhbGlkYXRvclNldC5kZWZhdWx0VmFsdWVzW25hbWVdO1xuICAgICAgbGV0IGFyciA9IGFjY1tuYW1lXTtcbiAgICAgIGlmICghYXJyKSB7XG4gICAgICAgIGFyciA9IFtdO1xuICAgICAgICBhY2NbbmFtZV0gPSBhcnI7XG4gICAgICB9XG4gICAgICBhcnIucHVzaCh2YWwpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICBjb25zdCBhY2M6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbFtdIH0gPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QudmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnZhbHVlcyA9IHt9O1xuICAgICAgaWYgKGxpc3QudmFsdWVzW2ldIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpc3QudmFsdWVzW2ldLnZpc2l0KHRoaXMpO1xuICAgICAgICB0aGlzLm1lcmdlSW4oYWNjLCB0aGlzLnZhbHVlcyk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc1tcImJhY2tncm91bmQtY29sb3JcIl0gJiYgaSAhPSBsaXN0LnZhbHVlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnZhbHVlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBhY2MpIHtcbiAgICAgIGlmIChuYW1lID09IFwiYmFja2dyb3VuZC1jb2xvclwiKSB7XG4gICAgICAgIHRoaXMudmFsdWVzW25hbWVdID0gYWNjW25hbWVdLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52YWx1ZXNbbmFtZV0gPSBuZXcgQ3NzLkNvbW1hTGlzdChhY2NbbmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9udFNob3J0aGFuZFZhbGlkYXRvciBleHRlbmRzIFNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0KHN5bnRheDogU2hvcnRoYW5kU3ludGF4Tm9kZVtdLCBwcm9wTGlzdDogc3RyaW5nW10pOiB2b2lkIHtcbiAgICBzdXBlci5pbml0KHN5bnRheCwgcHJvcExpc3QpO1xuICAgIHRoaXMucHJvcExpc3QucHVzaChcImZvbnQtZmFtaWx5XCIsIFwibGluZS1oZWlnaHRcIiwgXCJmb250LXNpemVcIik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB2YWxpZGF0ZUxpc3QobGlzdDogQ3NzLlZhbFtdKTogbnVtYmVyIHtcbiAgICBsZXQgaW5kZXggPSBzdXBlci52YWxpZGF0ZUxpc3QobGlzdCk7XG5cbiAgICAvLyBtdXN0IGF0IGxlYXN0IGhhdmUgZm9udC1zaXplIGFuZCBmb250LWZhbWlseSBhdCB0aGUgZW5kXG4gICAgaWYgKGluZGV4ICsgMiA+IGxpc3QubGVuZ3RoKSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG4gICAgdGhpcy5lcnJvciA9IGZhbHNlO1xuICAgIGNvbnN0IHZhbGlkYXRvcnMgPSB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0b3JzO1xuICAgIGlmICghbGlzdFtpbmRleF0udmlzaXQodmFsaWRhdG9yc1tcImZvbnQtc2l6ZVwiXSkpIHtcbiAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbiAgICB0aGlzLnZhbHVlc1tcImZvbnQtc2l6ZVwiXSA9IGxpc3RbaW5kZXgrK107XG4gICAgaWYgKGxpc3RbaW5kZXhdID09PSBDc3Muc2xhc2gpIHtcbiAgICAgIGluZGV4Kys7XG5cbiAgICAgIC8vIG11c3QgYXQgbGVhc3QgaGF2ZSBsaW5lLWhlaWdodCBhbmQgZm9udC1mYW1pbHkgYXQgdGhlIGVuZFxuICAgICAgaWYgKGluZGV4ICsgMiA+IGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgICB9XG4gICAgICBpZiAoIWxpc3RbaW5kZXhdLnZpc2l0KHZhbGlkYXRvcnNbXCJsaW5lLWhlaWdodFwiXSkpIHtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWVzW1wibGluZS1oZWlnaHRcIl0gPSBsaXN0W2luZGV4KytdO1xuICAgIH1cbiAgICBjb25zdCBmb250RmFtaWx5ID1cbiAgICAgIGluZGV4ID09IGxpc3QubGVuZ3RoIC0gMVxuICAgICAgICA/IGxpc3RbaW5kZXhdXG4gICAgICAgIDogbmV3IENzcy5TcGFjZUxpc3QobGlzdC5zbGljZShpbmRleCwgbGlzdC5sZW5ndGgpKTtcbiAgICBpZiAoIWZvbnRGYW1pbHkudmlzaXQodmFsaWRhdG9yc1tcImZvbnQtZmFtaWx5XCJdKSkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIHRoaXMudmFsdWVzW1wiZm9udC1mYW1pbHlcIl0gPSBmb250RmFtaWx5O1xuICAgIHJldHVybiBsaXN0Lmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHZpc2l0Q29tbWFMaXN0KGxpc3Q6IENzcy5Db21tYUxpc3QpOiBDc3MuVmFsIHtcbiAgICBsaXN0LnZhbHVlc1swXS52aXNpdCh0aGlzKTtcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGZhbWlseUxpc3QgPSBbdGhpcy52YWx1ZXNbXCJmb250LWZhbWlseVwiXV07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaXN0LnZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgZmFtaWx5TGlzdC5wdXNoKGxpc3QudmFsdWVzW2ldKTtcbiAgICB9XG4gICAgY29uc3QgZmFtaWx5ID0gbmV3IENzcy5Db21tYUxpc3QoZmFtaWx5TGlzdCk7XG4gICAgaWYgKCFmYW1pbHkudmlzaXQodGhpcy52YWxpZGF0b3JTZXQudmFsaWRhdG9yc1tcImZvbnQtZmFtaWx5XCJdKSkge1xuICAgICAgdGhpcy5lcnJvciA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmFsdWVzW1wiZm9udC1mYW1pbHlcIl0gPSBmYW1pbHk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdmlzaXRJZGVudChpZGVudDogQ3NzLklkZW50KTogQ3NzLlZhbCB7XG4gICAgY29uc3QgcHJvcHMgPSB0aGlzLnZhbGlkYXRvclNldC5zeXN0ZW1Gb250c1tpZGVudC5uYW1lXTtcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBwcm9wcykge1xuICAgICAgICB0aGlzLnZhbHVlc1tuYW1lXSA9IHByb3BzW25hbWVdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHNob3J0aGFuZFZhbGlkYXRvcnM6IHtcbiAgW2tleTogc3RyaW5nXTogdHlwZW9mIFNob3J0aGFuZFZhbGlkYXRvcjtcbn0gPSB7XG4gIFNJTVBMRTogU2ltcGxlU2hvcnRoYW5kVmFsaWRhdG9yLFxuICBJTlNFVFM6IEluc2V0c1Nob3J0aGFuZFZhbGlkYXRvcixcbiAgSU5TRVRTX1NMQVNIOiBJbnNldHNTbGFzaFNob3J0aGFuZFZhbGlkYXRvcixcbiAgQ09NTUE6IENvbW1hU2hvcnRoYW5kVmFsaWRhdG9yLFxuICBGT05UOiBGb250U2hvcnRoYW5kVmFsaWRhdG9yLFxufTtcblxuLy8tLS0tIHZhbGlkYXRpb24gZ3JhbW1hciBwYXJzZXIgYW5kIHB1YmxpYyBwcm9wZXJ0eSB2YWxpZGF0b3Jcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogT2JqZWN0IHRoYXQgdmFsaWRhdGVzIHNpbXBsZSBhbmQgc2hvcnRoYW5kIHByb3BlcnRpZXMsIGJyZWFraW5nIHVwIHNob3J0aGFuZFxuICogcHJvcGVydGllcyBpbnRvIGNvcnJlc3BvbmRpbmcgc2ltcGxlIG9uZXMsIGFsc28gc3RyaXBwaW5nIHByb3BlcnR5IHByZWZpeGVzLlxuICovXG5leHBvcnQgY2xhc3MgVmFsaWRhdG9yU2V0IHtcbiAgdmFsaWRhdG9yczogeyBba2V5OiBzdHJpbmddOiBQcm9wZXJ0eVZhbGlkYXRvciB9ID0ge307XG4gIHByZWZpeGVzOiB7IFtrZXk6IHN0cmluZ106IHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9IH0gPSB7fTtcbiAgZGVmYXVsdFZhbHVlczogVmFsdWVNYXAgPSB7fTtcbiAgbmFtZWRWYWxpZGF0b3JzOiB7IFtrZXk6IHN0cmluZ106IFZhbGlkYXRpbmdHcm91cCB9ID0ge307XG4gIHN5c3RlbUZvbnRzOiB7IFtrZXk6IHN0cmluZ106IFZhbHVlTWFwIH0gPSB7fTtcbiAgc2hvcnRoYW5kczogeyBba2V5OiBzdHJpbmddOiBTaG9ydGhhbmRWYWxpZGF0b3IgfSA9IHt9O1xuICBsYXlvdXRQcm9wczogVmFsdWVNYXAgPSB7fTtcbiAgYmFja2dyb3VuZFByb3BzOiBWYWx1ZU1hcCA9IHt9O1xuXG4gIHByaXZhdGUgYWRkUmVwbGFjZW1lbnQoXG4gICAgdmFsOiBWYWxpZGF0aW5nR3JvdXAsXG4gICAgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbixcbiAgKTogVmFsaWRhdGluZ0dyb3VwIHtcbiAgICBsZXQgY3NzdmFsOiBDc3MuVmFsO1xuICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNRVJJQykge1xuICAgICAgY3NzdmFsID0gbmV3IENzcy5OdW1lcmljKHRva2VuLm51bSwgdG9rZW4udGV4dCk7XG4gICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSEFTSCkge1xuICAgICAgY3NzdmFsID0gQ3NzUGFyc2VyLmNvbG9yRnJvbUhhc2godG9rZW4udGV4dCk7XG4gICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgIGNzc3ZhbCA9IENzcy5nZXROYW1lKHRva2VuLnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHJlcGxhY2VtZW50XCIpO1xuICAgIH1cbiAgICBpZiAodmFsLmlzUHJpbWl0aXZlKCkpIHtcbiAgICAgIGNvbnN0IHZhbGlkYXRvciA9IHZhbC5ub2Rlc1swXS52YWxpZGF0b3IgYXMgUHJpbWl0aXZlVmFsaWRhdG9yO1xuICAgICAgY29uc3QgaWRlbnRzID0gdmFsaWRhdG9yLmlkZW50cztcbiAgICAgIGZvciAoY29uc3QgaWRlbnQgaW4gaWRlbnRzKSB7XG4gICAgICAgIGlkZW50c1tpZGVudF0gPSBjc3N2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHJlcGxhY2VtZW50XCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBuZXdHcm91cChvcDogc3RyaW5nLCB2YWxzOiBWYWxpZGF0aW5nR3JvdXBbXSk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgY29uc3QgZ3JvdXAgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgaWYgKG9wID09IFwifHxcIikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN1Ymdyb3VwID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgICAgICBzdWJncm91cC5zdGFydENsYXVzZShpKTtcbiAgICAgICAgc3ViZ3JvdXAuYWRkR3JvdXAodmFsc1tpXSwgQWRkLkZPTExPVyk7XG4gICAgICAgIHN1Ymdyb3VwLmVuZENsYXVzZShpKTtcbiAgICAgICAgZ3JvdXAuYWRkR3JvdXAoc3ViZ3JvdXAsIGkgPT0gMCA/IEFkZC5GT0xMT1cgOiBBZGQuQUxURVJOQVRFKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG91dGVyID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgICAgb3V0ZXIuc3RhcnRTcGVjaWFsR3JvdXAoKTtcbiAgICAgIG91dGVyLmFkZEdyb3VwKGdyb3VwLCBBZGQuUkVQRUFURUQpO1xuICAgICAgb3V0ZXIuZW5kU3BlY2lhbEdyb3VwKCk7XG4gICAgICByZXR1cm4gb3V0ZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBob3c6IEFkZDtcbiAgICAgIHN3aXRjaCAob3ApIHtcbiAgICAgICAgY2FzZSBcIiBcIjpcbiAgICAgICAgICBob3cgPSBBZGQuRk9MTE9XO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwifFwiOlxuICAgICAgICBjYXNlIFwifHxcIjpcbiAgICAgICAgICBob3cgPSBBZGQuQUxURVJOQVRFO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInVuZXhwZWN0ZWQgb3BcIik7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsc1tpXSwgaSA9PSAwID8gQWRkLkZPTExPVyA6IGhvdyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRDb3VudHMoXG4gICAgdmFsOiBWYWxpZGF0aW5nR3JvdXAsXG4gICAgbWluOiBudW1iZXIsXG4gICAgbWF4OiBudW1iZXIsXG4gICk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgY29uc3QgZ3JvdXAgPSBuZXcgVmFsaWRhdGluZ0dyb3VwKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW47IGkrKykge1xuICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsLmNsb25lKCksIEFkZC5GT0xMT1cpO1xuICAgIH1cbiAgICBpZiAobWF4ID09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsLCBBZGQuUkVQRUFURUQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gbWluOyBpIDwgbWF4OyBpKyspIHtcbiAgICAgICAgZ3JvdXAuYWRkR3JvdXAodmFsLmNsb25lKCksIEFkZC5PUFRJT05BTCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIHByaXZhdGUgcHJpbWl0aXZlKHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3IpOiBWYWxpZGF0aW5nR3JvdXAge1xuICAgIGNvbnN0IGdyb3VwID0gbmV3IFZhbGlkYXRpbmdHcm91cCgpO1xuICAgIGdyb3VwLmFkZFByaW1pdGl2ZSh2YWxpZGF0b3IpO1xuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIHByaXZhdGUgbmV3RnVuYyhmbjogc3RyaW5nLCB2YWw6IFZhbGlkYXRpbmdHcm91cCk6IFZhbGlkYXRpbmdHcm91cCB7XG4gICAgbGV0IHZhbGlkYXRvcjogUHJvcGVydHlWYWxpZGF0b3I7XG4gICAgc3dpdGNoIChmbikge1xuICAgICAgY2FzZSBcIkNPTU1BXCI6XG4gICAgICAgIHZhbGlkYXRvciA9IG5ldyBDb21tYUxpc3RWYWxpZGF0b3IodmFsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiU1BBQ0VcIjpcbiAgICAgICAgdmFsaWRhdG9yID0gbmV3IFNwYWNlTGlzdFZhbGlkYXRvcih2YWwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhbGlkYXRvciA9IG5ldyBGdW5jVmFsaWRhdG9yKGZuLnRvTG93ZXJDYXNlKCksIHZhbCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5wcmltaXRpdmUodmFsaWRhdG9yKTtcbiAgfVxuXG4gIGluaXRCdWlsdEluVmFsaWRhdG9ycygpOiB2b2lkIHtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIkhBU0hDT0xPUlwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19DT0xPUiwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfSU5UXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19JTlQsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX05VTVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19QRVJDRU5UQUdFXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHsgXCIlXCI6IENzcy5lbXB0eSB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiTkVHQVRJVkVcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfTkVHQVRJVkUsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiWkVST1wiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19aRVJPLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlpFUk9fUEVSQ0VOVEFHRVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19aRVJPX1BFUkNFTlQsIE5PX0lERU5UUywgTk9fSURFTlRTKSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiUE9TX0xFTkdUSFwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7XG4gICAgICAgIGVtOiBDc3MuZW1wdHksXG4gICAgICAgIGV4OiBDc3MuZW1wdHksXG4gICAgICAgIGNoOiBDc3MuZW1wdHksXG4gICAgICAgIHJlbTogQ3NzLmVtcHR5LFxuICAgICAgICB2dzogQ3NzLmVtcHR5LFxuICAgICAgICB2aDogQ3NzLmVtcHR5LFxuICAgICAgICB2aTogQ3NzLmVtcHR5LFxuICAgICAgICB2YjogQ3NzLmVtcHR5LFxuICAgICAgICB2bWluOiBDc3MuZW1wdHksXG4gICAgICAgIHZtYXg6IENzcy5lbXB0eSxcbiAgICAgICAgcHZ3OiBDc3MuZW1wdHksXG4gICAgICAgIHB2aDogQ3NzLmVtcHR5LFxuICAgICAgICBwdmk6IENzcy5lbXB0eSxcbiAgICAgICAgcHZiOiBDc3MuZW1wdHksXG4gICAgICAgIHB2bWluOiBDc3MuZW1wdHksXG4gICAgICAgIHB2bWF4OiBDc3MuZW1wdHksXG4gICAgICAgIGNtOiBDc3MuZW1wdHksXG4gICAgICAgIG1tOiBDc3MuZW1wdHksXG4gICAgICAgIGluOiBDc3MuZW1wdHksXG4gICAgICAgIHB4OiBDc3MuZW1wdHksXG4gICAgICAgIHB0OiBDc3MuZW1wdHksXG4gICAgICAgIHBjOiBDc3MuZW1wdHksXG4gICAgICAgIHE6IENzcy5lbXB0eSxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJQT1NfQU5HTEVcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywge1xuICAgICAgICBkZWc6IENzcy5lbXB0eSxcbiAgICAgICAgZ3JhZDogQ3NzLmVtcHR5LFxuICAgICAgICByYWQ6IENzcy5lbXB0eSxcbiAgICAgICAgdHVybjogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlBPU19USU1FXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1BPU19OVU1FUklDLCBOT19JREVOVFMsIHtcbiAgICAgICAgczogQ3NzLmVtcHR5LFxuICAgICAgICBtczogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIkZSRVFVRU5DWVwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19QT1NfTlVNRVJJQywgTk9fSURFTlRTLCB7XG4gICAgICAgIEh6OiBDc3MuZW1wdHksXG4gICAgICAgIGtIejogQ3NzLmVtcHR5LFxuICAgICAgfSksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlJFU09MVVRJT05cIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfUE9TX05VTUVSSUMsIE5PX0lERU5UUywge1xuICAgICAgICBkcGk6IENzcy5lbXB0eSxcbiAgICAgICAgZHBjbTogQ3NzLmVtcHR5LFxuICAgICAgICBkcHB4OiBDc3MuZW1wdHksXG4gICAgICB9KSxcbiAgICApO1xuICAgIHRoaXMubmFtZWRWYWxpZGF0b3JzW1wiVVJJXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1VSTCwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJJREVOVFwiXSA9IHRoaXMucHJpbWl0aXZlKFxuICAgICAgbmV3IFByaW1pdGl2ZVZhbGlkYXRvcihBTExPV19JREVOVCwgTk9fSURFTlRTLCBOT19JREVOVFMpLFxuICAgICk7XG4gICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbXCJTVFJJTkdcIl0gPSB0aGlzLnByaW1pdGl2ZShcbiAgICAgIG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoQUxMT1dfU1RSLCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICB0aGlzLm5hbWVkVmFsaWRhdG9yc1tcIlNMQVNIXCJdID0gdGhpcy5wcmltaXRpdmUoXG4gICAgICBuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKEFMTE9XX1NMQVNILCBOT19JREVOVFMsIE5PX0lERU5UUyksXG4gICAgKTtcbiAgICBjb25zdCBzdGRmb250ID0geyBcImZvbnQtZmFtaWx5XCI6IENzcy5nZXROYW1lKFwic2Fucy1zZXJpZlwiKSB9O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJjYXB0aW9uXCJdID0gc3RkZm9udDtcbiAgICB0aGlzLnN5c3RlbUZvbnRzW1wiaWNvblwiXSA9IHN0ZGZvbnQ7XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcIm1lbnVcIl0gPSBzdGRmb250O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJtZXNzYWdlLWJveFwiXSA9IHN0ZGZvbnQ7XG4gICAgdGhpcy5zeXN0ZW1Gb250c1tcInNtYWxsLWNhcHRpb25cIl0gPSBzdGRmb250O1xuICAgIHRoaXMuc3lzdGVtRm9udHNbXCJzdGF0dXMtYmFyXCJdID0gc3RkZm9udDtcbiAgfVxuXG4gIHByaXZhdGUgaXNCdWlsdEluKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIW5hbWUubWF0Y2goL15bQS1aXzAtOV0rJC8pO1xuICB9XG5cbiAgcHJpdmF0ZSByZWFkTmFtZUFuZFByZWZpeGVzKFxuICAgIHRvazogQ3NzVG9rZW5pemVyLlRva2VuaXplcixcbiAgICBzZWN0aW9uOiBudW1iZXIsXG4gICk6IHN0cmluZyB8IG51bGwge1xuICAgIGxldCB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgIGlmICh0b2tlbi50eXBlID09IENzc1Rva2VuaXplci5Ub2tlblR5cGUuRU9GKSB7XG4gICAgICAvLyBGaW5pc2hlZCBub3JtYWxseVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGVQcmVmaXhlczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH0gPSB7IFwiXCI6IHRydWUgfTtcbiAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLKSB7XG4gICAgICBkbyB7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcmVmaXggbmFtZSBleHBlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBydWxlUHJlZml4ZXNbdG9rZW4udGV4dF0gPSB0cnVlO1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgfSB3aGlsZSAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNPTU1BKTtcbiAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkspIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ10nIGV4cGVjdGVkXCIpO1xuICAgICAgfVxuICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgfVxuICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSURFTlQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlByb3BlcnR5IG5hbWUgZXhwZWN0ZWRcIik7XG4gICAgfVxuICAgIGlmIChzZWN0aW9uID09IDIgPyB0b2tlbi50ZXh0ID09IFwiU0hPUlRIQU5EU1wiIDogdG9rZW4udGV4dCA9PSBcIkRFRkFVTFRTXCIpIHtcbiAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgbmFtZSA9IHRva2VuLnRleHQ7XG4gICAgdG9rLmNvbnN1bWUoKTtcbiAgICBpZiAoc2VjdGlvbiAhPSAyKSB7XG4gICAgICBpZiAodG9rLnRva2VuKCkudHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkVRKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIic9JyBleHBlY3RlZFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5pc0J1aWx0SW4obmFtZSkpIHtcbiAgICAgICAgdGhpcy5wcmVmaXhlc1tuYW1lXSA9IHJ1bGVQcmVmaXhlcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRvay50b2tlbigpLnR5cGUgIT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCInOicgZXhwZWN0ZWRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuYW1lO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXJzZVZhbGlkYXRvcnModG9rOiBDc3NUb2tlbml6ZXIuVG9rZW5pemVyKTogdm9pZCB7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHJ1bGVOYW1lID0gdGhpcy5yZWFkTmFtZUFuZFByZWZpeGVzKHRvaywgMSk7XG4gICAgICBpZiAoIXJ1bGVOYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCB2YWxzOiBWYWxpZGF0aW5nR3JvdXBbXSA9IFtdO1xuICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgIGxldCBvcCA9IFwiXCI7XG4gICAgICBsZXQgdmFsOiBWYWxpZGF0aW5nR3JvdXA7XG4gICAgICBsZXQgZXhwZWN0dmFsID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgcmVkdWNlID0gKCk6IFZhbGlkYXRpbmdHcm91cCA9PiB7XG4gICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsdWVzXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYubmV3R3JvdXAob3AsIHZhbHMpO1xuICAgICAgfTtcbiAgICAgIGNvbnN0IHNldG9wID0gKGN1cnJvcDogc3RyaW5nKTogdm9pZCA9PiB7XG4gICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke2N1cnJvcH0nOiB1bmV4cGVjdGVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wICYmIG9wICE9IGN1cnJvcCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgbWl4ZWQgb3BlcmF0b3JzOiAnJHtjdXJyb3B9JyBhbmQgJyR7b3B9J2ApO1xuICAgICAgICB9XG4gICAgICAgIG9wID0gY3Vycm9wO1xuICAgICAgICBleHBlY3R2YWwgPSB0cnVlO1xuICAgICAgfTtcbiAgICAgIGxldCByZXN1bHQ6IFZhbGlkYXRpbmdHcm91cCA9IG51bGw7XG4gICAgICB3aGlsZSAoIXJlc3VsdCkge1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICBsZXQgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklERU5UOlxuICAgICAgICAgICAgaWYgKCFleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgc2V0b3AoXCIgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNCdWlsdEluKHRva2VuLnRleHQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGJ1aWx0SW4gPSB0aGlzLm5hbWVkVmFsaWRhdG9yc1t0b2tlbi50ZXh0XTtcbiAgICAgICAgICAgICAgaWYgKCFidWlsdEluKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAnJHt0b2tlbi50ZXh0fScgdW5leHBlY3RlZGApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhbHMucHVzaChidWlsdEluLmNsb25lKCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY29uc3QgaWRlbnRzID0ge307XG4gICAgICAgICAgICAgIGlkZW50c1t0b2tlbi50ZXh0LnRvTG93ZXJDYXNlKCldID0gQ3NzLmdldE5hbWUodG9rZW4udGV4dCk7XG4gICAgICAgICAgICAgIHZhbHMucHVzaChcbiAgICAgICAgICAgICAgICB0aGlzLnByaW1pdGl2ZShuZXcgUHJpbWl0aXZlVmFsaWRhdG9yKDAsIGlkZW50cywgTk9fSURFTlRTKSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBleHBlY3R2YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JTlQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50cyA9IHt9O1xuICAgICAgICAgICAgaWRlbnRzW2Ake3Rva2VuLm51bX1gXSA9IG5ldyBDc3MuSW50KHRva2VuLm51bSk7XG4gICAgICAgICAgICB2YWxzLnB1c2goXG4gICAgICAgICAgICAgIHRoaXMucHJpbWl0aXZlKG5ldyBQcmltaXRpdmVWYWxpZGF0b3IoMCwgaWRlbnRzLCBOT19JREVOVFMpKSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBleHBlY3R2YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuQkFSOlxuICAgICAgICAgICAgc2V0b3AoXCJ8XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkJBUl9CQVI6XG4gICAgICAgICAgICBzZXRvcChcInx8XCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJLOlxuICAgICAgICAgICAgaWYgKCFleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgc2V0b3AoXCIgXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhY2sucHVzaCh7IHZhbHMsIG9wLCBiOiBcIltcIiB9KTtcbiAgICAgICAgICAgIG9wID0gXCJcIjtcbiAgICAgICAgICAgIHZhbHMgPSBbXTtcbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuRlVOQzpcbiAgICAgICAgICAgIGlmICghZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHNldG9wKFwiIFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrLnB1c2goeyB2YWxzLCBvcCwgYjogXCIoXCIsIGZuOiB0b2tlbi50ZXh0IH0pO1xuICAgICAgICAgICAgb3AgPSBcIlwiO1xuICAgICAgICAgICAgdmFscyA9IFtdO1xuICAgICAgICAgICAgZXhwZWN0dmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DX0JSSzoge1xuICAgICAgICAgICAgdmFsID0gcmVkdWNlKCk7XG4gICAgICAgICAgICBjb25zdCBvcGVuID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAob3Blbi5iICE9IFwiW1wiKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIiddJyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscyA9IG9wZW4udmFscztcbiAgICAgICAgICAgIHZhbHMucHVzaCh2YWwpO1xuICAgICAgICAgICAgb3AgPSBvcGVuLm9wO1xuICAgICAgICAgICAgZXhwZWN0dmFsID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfUEFSOiB7XG4gICAgICAgICAgICB2YWwgPSByZWR1Y2UoKTtcbiAgICAgICAgICAgIGNvbnN0IG9wZW4gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChvcGVuLmIgIT0gXCIoXCIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJyknIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzID0gb3Blbi52YWxzO1xuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMubmV3RnVuYyhvcGVuLmZuLCB2YWwpKTtcbiAgICAgICAgICAgIG9wID0gb3Blbi5vcDtcbiAgICAgICAgICAgIGV4cGVjdHZhbCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT0xPTjpcbiAgICAgICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJzonIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkUmVwbGFjZW1lbnQodmFscy5wb3AoKSwgdG9rLnRva2VuKCkpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5RTUFSSzpcbiAgICAgICAgICAgIGlmIChleHBlY3R2YWwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJz8nIHVuZXhwZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxzLnB1c2godGhpcy5hZGRDb3VudHModmFscy5wb3AoKSwgMCwgMSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNUQVI6XG4gICAgICAgICAgICBpZiAoZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIicqJyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkQ291bnRzKHZhbHMucG9wKCksIDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlBMVVM6XG4gICAgICAgICAgICBpZiAoZXhwZWN0dmFsKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIicrJyB1bmV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkQ291bnRzKHZhbHMucG9wKCksIDEsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLk9fQlJDOiB7XG4gICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuSU5UKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxpbnQ+IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWluID0gdG9rZW4ubnVtO1xuICAgICAgICAgICAgbGV0IG1heCA9IG1pbjtcbiAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5DT01NQSkge1xuICAgICAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgICAgICB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICAgICAgICBpZiAodG9rZW4udHlwZSAhPSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIjxpbnQ+IGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1heCA9IHRva2VuLm51bTtcbiAgICAgICAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgICAgICAgICAgdG9rZW4gPSB0b2sudG9rZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9IENzc1Rva2VuaXplci5Ub2tlblR5cGUuQ19CUkMpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ30nIGV4cGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFscy5wdXNoKHRoaXMuYWRkQ291bnRzKHZhbHMucG9wKCksIG1pbiwgbWF4KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0w6XG4gICAgICAgICAgICByZXN1bHQgPSByZWR1Y2UoKTtcbiAgICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5jbG9zZWQgJyR7c3RhY2sucG9wKCkuYn0nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB0b2tlblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgIGlmICh0aGlzLmlzQnVpbHRJbihydWxlTmFtZSkpIHtcbiAgICAgICAgdGhpcy5uYW1lZFZhbGlkYXRvcnNbcnVsZU5hbWVdID0gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHJlc3VsdC5pc1NpbXBsZSgpKSB7XG4gICAgICAgICAgdGhpcy52YWxpZGF0b3JzW3J1bGVOYW1lXSA9IHJlc3VsdC5ub2Rlc1swXS52YWxpZGF0b3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy52YWxpZGF0b3JzW3J1bGVOYW1lXSA9IG5ldyBTcGFjZUxpc3RWYWxpZGF0b3IocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VEZWZhdWx0cyh0b2s6IENzc1Rva2VuaXplci5Ub2tlbml6ZXIpOiB2b2lkIHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgcHJvcE5hbWUgPSB0aGlzLnJlYWROYW1lQW5kUHJlZml4ZXModG9rLCAyKTtcbiAgICAgIGlmICghcHJvcE5hbWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsczogQ3NzLlZhbFtdID0gW107XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICBjb25zdCB0b2tlbiA9IHRvay50b2tlbigpO1xuICAgICAgICBpZiAodG9rZW4udHlwZSA9PSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLlNFTUlDT0wpIHtcbiAgICAgICAgICB0b2suY29uc3VtZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIHZhbHMucHVzaChDc3MuZ2V0TmFtZSh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuTlVNOlxuICAgICAgICAgICAgdmFscy5wdXNoKG5ldyBDc3MuTnVtKHRva2VuLm51bSkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLklOVDpcbiAgICAgICAgICAgIHZhbHMucHVzaChuZXcgQ3NzLkludCh0b2tlbi5udW0pKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5OVU1FUklDOlxuICAgICAgICAgICAgdmFscy5wdXNoKG5ldyBDc3MuTnVtZXJpYyh0b2tlbi5udW0sIHRva2VuLnRleHQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkIHRva2VuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHRWYWx1ZXNbcHJvcE5hbWVdID1cbiAgICAgICAgdmFscy5sZW5ndGggPiAxID8gbmV3IENzcy5TcGFjZUxpc3QodmFscykgOiB2YWxzWzBdO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcGFyc2VTaG9ydGhhbmRzKHRvazogQ3NzVG9rZW5pemVyLlRva2VuaXplcik6IHZvaWQge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjb25zdCBydWxlTmFtZSA9IHRoaXMucmVhZE5hbWVBbmRQcmVmaXhlcyh0b2ssIDMpO1xuICAgICAgaWYgKCFydWxlTmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgdG9rZW4gPSB0b2subnRoVG9rZW4oMSk7XG4gICAgICBsZXQgc2hvcnRoYW5kVmFsaWRhdG9yOiBTaG9ydGhhbmRWYWxpZGF0b3I7XG4gICAgICBpZiAoXG4gICAgICAgIHRva2VuLnR5cGUgPT0gQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVCAmJlxuICAgICAgICBzaG9ydGhhbmRWYWxpZGF0b3JzW3Rva2VuLnRleHRdXG4gICAgICApIHtcbiAgICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yID0gbmV3IHNob3J0aGFuZFZhbGlkYXRvcnNbdG9rZW4udGV4dF0oKTtcbiAgICAgICAgdG9rLmNvbnN1bWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNob3J0aGFuZFZhbGlkYXRvciA9IG5ldyBTaW1wbGVTaG9ydGhhbmRWYWxpZGF0b3IoKTtcbiAgICAgIH1cbiAgICAgIHNob3J0aGFuZFZhbGlkYXRvci5zZXRPd25lcih0aGlzKTtcbiAgICAgIGxldCByZXN1bHQgPSBmYWxzZTtcbiAgICAgIGxldCBzeW50YXg6IFNob3J0aGFuZFN5bnRheE5vZGVbXSA9IFtdO1xuICAgICAgbGV0IHNsYXNoID0gZmFsc2U7XG4gICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgY29uc3QgcHJvcExpc3QgPSBbXTtcbiAgICAgIHdoaWxlICghcmVzdWx0KSB7XG4gICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgIHRva2VuID0gdG9rLnRva2VuKCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4udHlwZSkge1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5JREVOVDpcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkYXRvcnNbdG9rZW4udGV4dF0pIHtcbiAgICAgICAgICAgICAgc3ludGF4LnB1c2goc2hvcnRoYW5kVmFsaWRhdG9yLnN5bnRheE5vZGVGb3JQcm9wZXJ0eSh0b2tlbi50ZXh0KSk7XG4gICAgICAgICAgICAgIHByb3BMaXN0LnB1c2godG9rZW4udGV4dCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICB0aGlzLnNob3J0aGFuZHNbdG9rZW4udGV4dF0gaW5zdGFuY2VvZiBJbnNldHNTaG9ydGhhbmRWYWxpZGF0b3JcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb25zdCBpbnNldFNob3J0aGFuZCA9IHRoaXMuc2hvcnRoYW5kc1tcbiAgICAgICAgICAgICAgICB0b2tlbi50ZXh0XG4gICAgICAgICAgICAgIF0gYXMgSW5zZXRzU2hvcnRoYW5kVmFsaWRhdG9yO1xuICAgICAgICAgICAgICBzeW50YXgucHVzaChpbnNldFNob3J0aGFuZC5jcmVhdGVTeW50YXhOb2RlKCkpO1xuICAgICAgICAgICAgICBwcm9wTGlzdC5wdXNoKC4uLmluc2V0U2hvcnRoYW5kLnByb3BMaXN0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBgJyR7dG9rZW4udGV4dH0nIGlzIG5laXRoZXIgYSBzaW1wbGUgcHJvcGVydHkgbm9yIGFuIGluc2V0IHNob3J0aGFuZGAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIENzc1Rva2VuaXplci5Ub2tlblR5cGUuU0xBU0g6XG4gICAgICAgICAgICBpZiAoc3ludGF4Lmxlbmd0aCA+IDAgfHwgc2xhc2gpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCBzbGFzaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNsYXNoID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5PX0JSSzpcbiAgICAgICAgICAgIHN0YWNrLnB1c2goeyBzbGFzaCwgc3ludGF4IH0pO1xuICAgICAgICAgICAgc3ludGF4ID0gW107XG4gICAgICAgICAgICBzbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDc3NUb2tlbml6ZXIuVG9rZW5UeXBlLkNfQlJLOiB7XG4gICAgICAgICAgICBjb25zdCBjb21wb3VuZCA9IG5ldyBTaG9ydGhhbmRTeW50YXhDb21wb3VuZChzeW50YXgsIHNsYXNoKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN5bnRheCA9IGl0ZW0uc3ludGF4O1xuICAgICAgICAgICAgc2xhc2ggPSBpdGVtLnNsYXNoO1xuICAgICAgICAgICAgc3ludGF4LnB1c2goY29tcG91bmQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgQ3NzVG9rZW5pemVyLlRva2VuVHlwZS5TRU1JQ09MOlxuICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRvay5jb25zdW1lKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5leHBlY3RlZCB0b2tlblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc2hvcnRoYW5kVmFsaWRhdG9yLmluaXQoc3ludGF4LCBwcm9wTGlzdCk7XG4gICAgICB0aGlzLnNob3J0aGFuZHNbcnVsZU5hbWVdID0gc2hvcnRoYW5kVmFsaWRhdG9yO1xuICAgIH1cbiAgfVxuXG4gIHBhcnNlKHRleHQ6IHN0cmluZyk6IHZvaWQge1xuICAgIC8vIE5vdCBhcyByb2J1c3QgYXMgQ1NTIHBhcnNlci5cbiAgICBjb25zdCB0b2sgPSBuZXcgQ3NzVG9rZW5pemVyLlRva2VuaXplcih0ZXh0LCBudWxsKTtcbiAgICB0aGlzLnBhcnNlVmFsaWRhdG9ycyh0b2spO1xuICAgIHRoaXMucGFyc2VEZWZhdWx0cyh0b2spO1xuICAgIHRoaXMucGFyc2VTaG9ydGhhbmRzKHRvayk7XG4gICAgdGhpcy5iYWNrZ3JvdW5kUHJvcHMgPSB0aGlzLm1ha2VQcm9wU2V0KFtcImJhY2tncm91bmRcIl0pO1xuICAgIHRoaXMubGF5b3V0UHJvcHMgPSB0aGlzLm1ha2VQcm9wU2V0KFtcbiAgICAgIFwibWFyZ2luXCIsXG4gICAgICBcImJvcmRlclwiLFxuICAgICAgXCJwYWRkaW5nXCIsXG4gICAgICBcImNvbHVtbnNcIixcbiAgICAgIFwiY29sdW1uLWdhcFwiLFxuICAgICAgXCJjb2x1bW4tcnVsZVwiLFxuICAgICAgXCJjb2x1bW4tZmlsbFwiLFxuICAgIF0pO1xuICB9XG5cbiAgbWFrZVByb3BTZXQocHJvcExpc3Q6IHN0cmluZ1tdKTogVmFsdWVNYXAge1xuICAgIGNvbnN0IG1hcDogVmFsdWVNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcExpc3QpIHtcbiAgICAgIGNvbnN0IHNob3J0aGFuZCA9IHRoaXMuc2hvcnRoYW5kc1twcm9wXTtcbiAgICAgIGNvbnN0IGxpc3QgPSBzaG9ydGhhbmQgPyBzaG9ydGhhbmQucHJvcExpc3QgOiBbcHJvcF07XG4gICAgICBmb3IgKGNvbnN0IHBuYW1lIG9mIGxpc3QpIHtcbiAgICAgICAgY29uc3QgcHZhbCA9IHRoaXMuZGVmYXVsdFZhbHVlc1twbmFtZV07XG4gICAgICAgIGlmICghcHZhbCkge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJVbmtub3duIHByb3BlcnR5IGluIG1ha2VQcm9wU2V0OlwiLCBwbmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWFwW3BuYW1lXSA9IHB2YWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbiAgfVxuXG4gIHZhbGlkYXRlUHJvcGVydHlBbmRIYW5kbGVTaG9ydGhhbmQoXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHZhbHVlOiBDc3MuVmFsLFxuICAgIGltcG9ydGFudDogYm9vbGVhbixcbiAgICByZWNlaXZlcjogUHJvcGVydHlSZWNlaXZlcixcbiAgKTogdm9pZCB7XG4gICAgbGV0IHByZWZpeCA9IFwiXCI7XG4gICAgY29uc3Qgb3JpZ05hbWUgPSBuYW1lO1xuICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgciA9IG5hbWUubWF0Y2goL14tKFthLXpdKyktKFstYS16MC05XSspJC8pO1xuICAgIGlmIChyKSB7XG4gICAgICBwcmVmaXggPSByWzFdO1xuICAgICAgbmFtZSA9IHJbMl07XG4gICAgfVxuICAgIGNvbnN0IHB4ID0gdGhpcy5wcmVmaXhlc1tuYW1lXTtcbiAgICBpZiAoIXB4IHx8ICFweFtwcmVmaXhdKSB7XG4gICAgICByZWNlaXZlci51bmtub3duUHJvcGVydHkob3JpZ05hbWUsIHZhbHVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy52YWxpZGF0b3JzW25hbWVdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHJ2YWx1ZSA9XG4gICAgICAgIHZhbHVlID09PSBDc3MuaWRlbnQuaW5oZXJpdCB8fCB2YWx1ZS5pc0V4cHIoKVxuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6IHZhbHVlLnZpc2l0KHZhbGlkYXRvcik7XG4gICAgICBpZiAocnZhbHVlKSB7XG4gICAgICAgIHJlY2VpdmVyLnNpbXBsZVByb3BlcnR5KG5hbWUsIHJ2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY2VpdmVyLmludmFsaWRQcm9wZXJ0eVZhbHVlKG9yaWdOYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNob3J0aGFuZCA9IHRoaXMuc2hvcnRoYW5kc1tuYW1lXS5jbG9uZSgpO1xuICAgICAgaWYgKHZhbHVlID09PSBDc3MuaWRlbnQuaW5oZXJpdCkge1xuICAgICAgICBzaG9ydGhhbmQucHJvcGFnYXRlSW5oZXJpdChpbXBvcnRhbnQsIHJlY2VpdmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlLnZpc2l0KHNob3J0aGFuZCk7XG4gICAgICAgIGlmICghc2hvcnRoYW5kLmZpbmlzaChpbXBvcnRhbnQsIHJlY2VpdmVyKSkge1xuICAgICAgICAgIHJlY2VpdmVyLmludmFsaWRQcm9wZXJ0eVZhbHVlKG9yaWdOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJhc2VWYWxpZGF0b3JTZXQoKTogVmFsaWRhdG9yU2V0IHtcbiAgY29uc3QgdmFsaWRhdG9yU2V0ID0gbmV3IFZhbGlkYXRvclNldCgpO1xuICB2YWxpZGF0b3JTZXQuaW5pdEJ1aWx0SW5WYWxpZGF0b3JzKCk7XG4gIHZhbGlkYXRvclNldC5wYXJzZShWYWxpZGF0aW9uVHh0KTtcbiAgcmV0dXJuIHZhbGlkYXRvclNldDtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRm9udCAtIERlYWwgd2l0aCBlbWJlZGRlZCBmb250cy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgTG9nZ2luZyBmcm9tIFwiLi9sb2dnaW5nXCI7XG5pbXBvcnQgKiBhcyBOZXQgZnJvbSBcIi4vbmV0XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRhc2tVdGlsIGZyb20gXCIuL3Rhc2stdXRpbFwiO1xuXG5leHBvcnQgY29uc3QgdHJhaXRQcm9wczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0gPSB7XG4gIFwiZm9udC1zdHlsZVwiOiBDc3MuaWRlbnQubm9ybWFsLFxuICBcImZvbnQtdmFyaWFudFwiOiBDc3MuaWRlbnQubm9ybWFsLFxuICBcImZvbnQtd2VpZ2h0XCI6IENzcy5pZGVudC5ub3JtYWwsXG59O1xuXG5leHBvcnQgY29uc3QgYm9ndXNGb250RGF0YSA9IGBPVFRPJHtuZXcgRGF0ZSgpLnZhbHVlT2YoKX1gO1xuXG5leHBvcnQgbGV0IGJvZ3VzRm9udENvdW50ZXI6IG51bWJlciA9IDE7XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRm9udFRyYWl0S2V5KHByb3BlcnRpZXM6IHtcbiAgW2tleTogc3RyaW5nXTogQ3NzLlZhbDtcbn0pOiBzdHJpbmcge1xuICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBmb3IgKGNvbnN0IHByb3AgaW4gdHJhaXRQcm9wcykge1xuICAgIHNiLmFwcGVuZChcIiBcIik7XG4gICAgc2IuYXBwZW5kKHByb3BlcnRpZXNbcHJvcF0udG9TdHJpbmcoKSk7XG4gIH1cbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmaWxsRGVmYXVsdHMocHJvcGVydGllczogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pOiB2b2lkIHtcbiAgZm9yIChjb25zdCBwcm9wIGluIHRyYWl0UHJvcHMpIHtcbiAgICBpZiAoIXByb3BlcnRpZXNbcHJvcF0pIHtcbiAgICAgIHByb3BlcnRpZXNbcHJvcF0gPSB0cmFpdFByb3BzW3Byb3BdO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZVByb3BlcnRpZXMoXG4gIHByb3BlcnRpZXM6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuKTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0ge1xuICBjb25zdCByZXN1bHQgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfTtcbiAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnRpZXMpIHtcbiAgICByZXN1bHRbcHJvcF0gPSBDc3NDYXNjYWRlLmdldFByb3AocHJvcGVydGllcywgcHJvcCkuZXZhbHVhdGUoY29udGV4dCwgcHJvcCk7XG4gIH1cbiAgZmlsbERlZmF1bHRzKHJlc3VsdCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogQSBmb250IGRlY2xhcmVkIGluIGEgZm9udC1mYWNlIHJ1bGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWNlIHtcbiAgZm9udFRyYWl0S2V5OiBzdHJpbmc7XG4gIHNyYzogc3RyaW5nIHwgbnVsbDtcbiAgYmxvYlVSTHM6IHN0cmluZ1tdID0gW107XG4gIGJsb2JzOiBCbG9iW10gPSBbXTtcbiAgZmFtaWx5OiBzdHJpbmcgfCBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBwcm9wZXJ0aWVzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSkge1xuICAgIHRoaXMuZm9udFRyYWl0S2V5ID0gbWFrZUZvbnRUcmFpdEtleSh0aGlzLnByb3BlcnRpZXMpO1xuICAgIHRoaXMuc3JjID0gdGhpcy5wcm9wZXJ0aWVzW1wic3JjXCJdXG4gICAgICA/IHRoaXMucHJvcGVydGllc1tcInNyY1wiXS50b1N0cmluZygpXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgZmFtaWx5ID0gdGhpcy5wcm9wZXJ0aWVzW1wiZm9udC1mYW1pbHlcIl07XG4gICAgdGhpcy5mYW1pbHkgPSBmYW1pbHkgPyBmYW1pbHkuc3RyaW5nVmFsdWUoKSA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgZm9udCB0cmFpdHMgYXJlIHRoZSBzYW1lIGZvciB0d28gZm9udCBmYWNlc1xuICAgKi9cbiAgdHJhaXRzRXF1YWwob3RoZXI6IEZhY2UpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5mb250VHJhaXRLZXkgPT0gb3RoZXIuZm9udFRyYWl0S2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBcImF0XCIgZm9udC1mYWNlIHJ1bGUuXG4gICAqL1xuICBtYWtlQXRSdWxlKHNyYzogc3RyaW5nLCBmb250Qnl0ZXM6IEJsb2IpOiBzdHJpbmcge1xuICAgIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gICAgc2IuYXBwZW5kKFwiQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogXCIpO1xuICAgIHNiLmFwcGVuZCh0aGlzLmZhbWlseSBhcyBzdHJpbmcpO1xuICAgIHNiLmFwcGVuZChcIjtcXG4gIFwiKTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gdHJhaXRQcm9wcykge1xuICAgICAgc2IuYXBwZW5kKHByb3ApO1xuICAgICAgc2IuYXBwZW5kKFwiOiBcIik7XG4gICAgICB0aGlzLnByb3BlcnRpZXNbcHJvcF0uYXBwZW5kVG8oc2IsIHRydWUpO1xuICAgICAgc2IuYXBwZW5kKFwiO1xcbiAgXCIpO1xuICAgIH1cbiAgICBpZiAoZm9udEJ5dGVzKSB7XG4gICAgICBzYi5hcHBlbmQoJ3NyYzogdXJsKFwiJyk7XG4gICAgICBjb25zdCBibG9iVVJMID0gTmV0LmNyZWF0ZU9iamVjdFVSTChmb250Qnl0ZXMpO1xuICAgICAgc2IuYXBwZW5kKGJsb2JVUkwpO1xuICAgICAgdGhpcy5ibG9iVVJMcy5wdXNoKGJsb2JVUkwpO1xuICAgICAgdGhpcy5ibG9icy5wdXNoKGZvbnRCeXRlcyk7XG4gICAgICBzYi5hcHBlbmQoJ1wiKScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzYi5hcHBlbmQoXCJzcmM6IFwiKTtcbiAgICAgIHNiLmFwcGVuZChzcmMpO1xuICAgIH1cbiAgICBzYi5hcHBlbmQoXCI7XFxufVxcblwiKTtcbiAgICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBvZiB0aGUgZm9udHMgZGVjbGFyZWQgaW4gYWxsIHN0eWxlc2hlZXRzIG9mIGEgZG9jdW1lbnQuXG4gKiBAcGFyYW0gZGVvYmZ1c2NhdG9yIGZ1bmN0aW9uXG4gKiAgICAgdGhhdCB0YWtlcyB1cmwgYW5kIHJldHVybnMgZGF0YSBkZW9iZnVzY2F0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIERvY3VtZW50RmFjZXMge1xuICAvKipcbiAgICogTWFwcyBzb3VyY2UgZm9udCBmYW1pbHkgbmFtZXMgdG8gdGhlIGZhbWlseSBuYW1lcyB1c2VkIGluIHRoZSBIVE1MIHZpZXcuXG4gICAqL1xuICBmYW1pbHlNYXAgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBkZW9iZnVzY2F0b3I6XG4gICAgICB8ICgocDE6IHN0cmluZykgPT4gKChwMTogQmxvYikgPT4gVGFzay5SZXN1bHQ8QmxvYj4pIHwgbnVsbClcbiAgICAgIHwgbnVsbCxcbiAgKSB7fVxuXG4gIHJlZ2lzdGVyRmFtaWx5KHNyY0ZhY2U6IEZhY2UsIHZpZXdGYWNlOiBGYWNlKTogdm9pZCB7XG4gICAgY29uc3Qgc3JjRmFtaWx5ID0gc3JjRmFjZS5mYW1pbHkgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHZpZXdGYW1pbHlGcm9tU3JjID0gdGhpcy5mYW1pbHlNYXBbc3JjRmFtaWx5XTtcbiAgICBjb25zdCB2aWV3RmFtaWx5RnJvbVZpZXcgPSB2aWV3RmFjZS5mYW1pbHk7XG4gICAgaWYgKHZpZXdGYW1pbHlGcm9tU3JjKSB7XG4gICAgICBpZiAodmlld0ZhbWlseUZyb21TcmMgIT0gdmlld0ZhbWlseUZyb21WaWV3KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRV9GT05UX0ZBTUlMWV9JTkNPTlNJU1RFTlQgJHtzcmNGYWNlLmZhbWlseX1gKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5mYW1pbHlNYXBbc3JjRmFtaWx5XSA9IHZpZXdGYW1pbHlGcm9tVmlldyBhcyBzdHJpbmc7XG4gICAgfVxuICB9XG5cbiAgZmlsdGVyRm9udEZhbWlseSh2YWw6IENzcy5WYWwpOiBDc3MuVmFsIHtcbiAgICBpZiAodmFsIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgY29uc3QgbGlzdCA9ICh2YWwgYXMgQ3NzLkNvbW1hTGlzdCkudmFsdWVzO1xuICAgICAgY29uc3QgbmV3VmFsdWVzID0gW10gYXMgQ3NzLlZhbFtdO1xuICAgICAgZm9yIChjb25zdCB2IG9mIGxpc3QpIHtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuZmFtaWx5TWFwW3Yuc3RyaW5nVmFsdWUoKV07XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgbmV3VmFsdWVzLnB1c2goQ3NzLmdldE5hbWUocikpO1xuICAgICAgICB9XG4gICAgICAgIG5ld1ZhbHVlcy5wdXNoKHYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDc3MuQ29tbWFMaXN0KG5ld1ZhbHVlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHJmID0gdGhpcy5mYW1pbHlNYXBbdmFsLnN0cmluZ1ZhbHVlKCldO1xuICAgICAgaWYgKHJmKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ3NzLkNvbW1hTGlzdChbQ3NzLmdldE5hbWUocmYpLCB2YWxdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogT2JqZWN0IHRoYXQgbG9hZHMgZm9udHMgaW4gYSBkb2N1bWVudCBhbmQgYWxsb2NhdGVzIGZvbnQgZmFtaWxpZXMgZm9yIHRoZW1cbiAqIGluIHRoZSB2aWV3IGRvY3VtZW50XG4gKiBAcGFyYW0gaGVhZCB3aGVyZSB0byBhZGQgc3R5bGVzIGluIHRoZSB2aWV3IGRvY3VtZW50IChub3JtYWxseSBoZWFkIGVsZW1lbnQpXG4gKiBAcGFyYW0gYm9keSB3aGVyZSB0byBwcm9iZSB0ZXh0IGluIHRoZSB2aWV3IGRvY3VtZW50IChub3JtYWxseSBib2R5IGVsZW1lbnQpXG4gKi9cbmV4cG9ydCBjbGFzcyBNYXBwZXIge1xuICAvKipcbiAgICogTWFwcyBGYWNlLnNyYyB0byBhbiBlbnRyeSBmb3IgYW4gYWxyZWFkeS1sb2FkZWQgZm9udC5cbiAgICovXG4gIHNyY1VSTE1hcDogeyBba2V5OiBzdHJpbmddOiBUYXNrVXRpbC5GZXRjaGVyPEZhY2U+IH0gPSB7fTtcbiAgZmFtaWx5UHJlZml4OiBzdHJpbmc7XG4gIGZhbWlseUNvdW50ZXI6IG51bWJlciA9IDA7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGhlYWQ6IEVsZW1lbnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGJvZHk6IEVsZW1lbnQsXG4gICAgb3B0X2ZhbWlseVByZWZpeD86IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5mYW1pbHlQcmVmaXggPSBvcHRfZmFtaWx5UHJlZml4IHx8IFwiRm50X1wiO1xuICB9XG5cbiAgZ2V0Vmlld0ZvbnRGYW1pbHkoc3JjRmFjZTogRmFjZSwgZG9jdW1lbnRGYWNlczogRG9jdW1lbnRGYWNlcyk6IHN0cmluZyB7XG4gICAgY29uc3Qgc3JjRmFtaWx5ID0gc3JjRmFjZS5mYW1pbHkgYXMgc3RyaW5nO1xuICAgIGxldCB2aWV3RmFtaWx5ID0gZG9jdW1lbnRGYWNlcy5mYW1pbHlNYXBbc3JjRmFtaWx5XTtcbiAgICBpZiAodmlld0ZhbWlseSkge1xuICAgICAgcmV0dXJuIHZpZXdGYW1pbHk7XG4gICAgfVxuICAgIHZpZXdGYW1pbHkgPSB0aGlzLmZhbWlseVByZWZpeCArICsrdGhpcy5mYW1pbHlDb3VudGVyO1xuICAgIGRvY3VtZW50RmFjZXMuZmFtaWx5TWFwW3NyY0ZhbWlseV0gPSB2aWV3RmFtaWx5O1xuICAgIHJldHVybiB2aWV3RmFtaWx5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBmb250Qnl0ZXMgZGVvYmZ1c2NhdGVkIGZvbnQgYnl0ZXMgKGlmIGRlb2JmdXNjYXRpb24gaXMgbmVlZGVkKVxuICAgKi9cbiAgcHJpdmF0ZSBpbml0Rm9udChcbiAgICBzcmNGYWNlOiBGYWNlLFxuICAgIGZvbnRCeXRlczogQmxvYixcbiAgICBkb2N1bWVudEZhY2VzOiBEb2N1bWVudEZhY2VzLFxuICApOiBUYXNrLlJlc3VsdDxGYWNlPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8RmFjZT4gPSBUYXNrLm5ld0ZyYW1lKFwiaW5pdEZvbnRcIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3Qgc3JjID0gc3JjRmFjZS5zcmMgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHByb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH07XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHRyYWl0UHJvcHMpIHtcbiAgICAgIHByb3BzW3Byb3BdID0gc3JjRmFjZS5wcm9wZXJ0aWVzW3Byb3BdO1xuICAgIH1cbiAgICBjb25zdCBmb250RmFtaWx5ID0gc2VsZi5nZXRWaWV3Rm9udEZhbWlseShzcmNGYWNlLCBkb2N1bWVudEZhY2VzKTtcbiAgICBwcm9wc1tcImZvbnQtZmFtaWx5XCJdID0gQ3NzLmdldE5hbWUoZm9udEZhbWlseSk7XG4gICAgY29uc3Qgdmlld0ZvbnRGYWNlID0gbmV3IEZhY2UocHJvcHMpO1xuICAgIGNvbnN0IHByb2JlID0gc2VsZi5ib2R5Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgcHJvYmUudGV4dENvbnRlbnQgPSBcIk1cIjtcbiAgICBjb25zdCBraWxsVGltZSA9IG5ldyBEYXRlKCkudmFsdWVPZigpICsgMTAwMDtcbiAgICBjb25zdCBzdHlsZSA9IHNlbGYuaGVhZC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBjb25zdCBib2d1c0RhdGEgPSBib2d1c0ZvbnREYXRhICsgYm9ndXNGb250Q291bnRlcisrO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gdmlld0ZvbnRGYWNlLm1ha2VBdFJ1bGUoXCJcIiwgTmV0Lm1ha2VCbG9iKFtib2d1c0RhdGFdKSk7XG4gICAgc2VsZi5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICBzZWxmLmJvZHkuYXBwZW5kQ2hpbGQocHJvYmUpO1xuICAgIHByb2JlLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIHByb2JlLnN0eWxlLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgIGZvciAoY29uc3QgcG5hbWUgaW4gdHJhaXRQcm9wcykge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShwcm9iZSwgcG5hbWUsIHByb3BzW3BuYW1lXS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdCA9IHByb2JlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IGluaXRXaWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgY29uc3QgaW5pdEhlaWdodCA9IHJlY3QuYm90dG9tIC0gcmVjdC50b3A7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSB2aWV3Rm9udEZhY2UubWFrZUF0UnVsZShzcmMsIGZvbnRCeXRlcyk7XG4gICAgTG9nZ2luZy5sb2dnZXIuaW5mbyhcIlN0YXJ0aW5nIHRvIGxvYWQgZm9udDpcIiwgc3JjKTtcbiAgICBsZXQgbG9hZGVkID0gZmFsc2U7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVjdCA9IHByb2JlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyV2lkdGggPSByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0O1xuICAgICAgICBjb25zdCBjdXJySGVpZ2h0ID0gcmVjdC5ib3R0b20gLSByZWN0LnRvcDtcbiAgICAgICAgaWYgKGluaXRXaWR0aCAhPSBjdXJyV2lkdGggfHwgaW5pdEhlaWdodCAhPSBjdXJySGVpZ2h0KSB7XG4gICAgICAgICAgbG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJUaW1lID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7XG4gICAgICAgIGlmIChjdXJyVGltZSA+IGtpbGxUaW1lKSB7XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhbWUuc2xlZXAoMTApO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmluZm8oXCJMb2FkZWQgZm9udDpcIiwgc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRmFpbGVkIHRvIGxvYWQgZm9udDpcIiwgc3JjKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJvZHkucmVtb3ZlQ2hpbGQocHJvYmUpO1xuICAgICAgICBmcmFtZS5maW5pc2godmlld0ZvbnRGYWNlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxvYWRGb250KFxuICAgIHNyY0ZhY2U6IEZhY2UsXG4gICAgZG9jdW1lbnRGYWNlczogRG9jdW1lbnRGYWNlcyxcbiAgKTogVGFza1V0aWwuRmV0Y2hlcjxGYWNlPiB7XG4gICAgY29uc3Qgc3JjID0gc3JjRmFjZS5zcmMgYXMgc3RyaW5nO1xuICAgIGxldCBmZXRjaGVyID0gdGhpcy5zcmNVUkxNYXBbc3JjXTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoZmV0Y2hlcikge1xuICAgICAgZmV0Y2hlci5waWdneWJhY2soKHZpZXdGYWNlUGFyYW0pID0+IHtcbiAgICAgICAgY29uc3Qgdmlld0ZhY2UgPSB2aWV3RmFjZVBhcmFtIGFzIEZhY2U7XG4gICAgICAgIGlmICghdmlld0ZhY2UudHJhaXRzRXF1YWwoc3JjRmFjZSkpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRV9GT05UX0ZBQ0VfSU5DT01QQVRJQkxFXCIsIHNyY0ZhY2Uuc3JjKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkb2N1bWVudEZhY2VzLnJlZ2lzdGVyRmFtaWx5KHNyY0ZhY2UsIHZpZXdGYWNlKTtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci53YXJuKFwiRm91bmQgYWxyZWFkeS1sb2FkZWQgZm9udDpcIiwgc3JjKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZldGNoZXIgPSBuZXcgVGFza1V0aWwuRmV0Y2hlcigoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPEZhY2U+ID0gVGFzay5uZXdGcmFtZShcImxvYWRGb250XCIpO1xuICAgICAgICBjb25zdCBkZW9iZnVzY2F0b3IgPSBkb2N1bWVudEZhY2VzLmRlb2JmdXNjYXRvclxuICAgICAgICAgID8gZG9jdW1lbnRGYWNlcy5kZW9iZnVzY2F0b3Ioc3JjKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKGRlb2JmdXNjYXRvcikge1xuICAgICAgICAgIE5ldC5hamF4KHNyYywgTmV0LlhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlLkJMT0IpLnRoZW4oKHhocikgPT4ge1xuICAgICAgICAgICAgaWYgKCF4aHIucmVzcG9uc2VCbG9iKSB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVvYmZ1c2NhdG9yKHhoci5yZXNwb25zZUJsb2IpLnRoZW4oKGZvbnRCeXRlcykgPT4ge1xuICAgICAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAgICAgLmluaXRGb250KHNyY0ZhY2UsIGZvbnRCeXRlcywgZG9jdW1lbnRGYWNlcylcbiAgICAgICAgICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmluaXRGb250KHNyY0ZhY2UsIG51bGwsIGRvY3VtZW50RmFjZXMpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICAgIH0sIGBsb2FkRm9udCAke3NyY31gKTtcbiAgICAgIHRoaXMuc3JjVVJMTWFwW3NyY10gPSBmZXRjaGVyO1xuICAgICAgZmV0Y2hlci5zdGFydCgpO1xuICAgIH1cbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfVxuXG4gIGZpbmRPckxvYWRGb250cyhcbiAgICBzcmNGYWNlczogRmFjZVtdLFxuICAgIGRvY3VtZW50RmFjZXM6IERvY3VtZW50RmFjZXMsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBmZXRjaGVycyA9IFtdIGFzIFRhc2tVdGlsLkZldGNoZXI8RmFjZT5bXTtcbiAgICBmb3IgKGNvbnN0IHNyY0ZhY2Ugb2Ygc3JjRmFjZXMpIHtcbiAgICAgIGlmICghc3JjRmFjZS5zcmMgfHwgIXNyY0ZhY2UuZmFtaWx5KSB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJFX0ZPTlRfRkFDRV9JTlZBTElEXCIpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGZldGNoZXJzLnB1c2godGhpcy5sb2FkRm9udChzcmNGYWNlLCBkb2N1bWVudEZhY2VzKSk7XG4gICAgfVxuICAgIHJldHVybiBUYXNrVXRpbC53YWl0Rm9yRmV0Y2hlcnMoZmV0Y2hlcnMpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFBhZ2VNYXN0ZXIgLSBEZWFsIHdpdGggcGFnZSBtYXN0ZXJzLCBwYXJ0aXRpb24gZ3JvdXBzLCBhbmQgcGFydGl0aW9ucy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzVmFsaWRhdG9yIGZyb20gXCIuL2Nzcy12YWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5cbmV4cG9ydCBsZXQga2V5Q291bnQ6IG51bWJlciA9IDE7XG5cbi8qKlxuICogUmVwcmVzZW50IGFuIGF0LXJ1bGUgd2hpY2ggY3JlYXRlcyBhIHBhZ2UtbGV2ZWwgQ1NTIGJveCAocGFnZS1tYXN0ZXIsXG4gKiBwYXJ0aXRpb24sIGFuZCBwYXJ0aXRpb24tZ3JvdXApLlxuICovXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUGFnZUJveDxcbiAgSSBleHRlbmRzIFBhZ2VCb3hJbnN0YW5jZSA9IFBhZ2VCb3hJbnN0YW5jZTxhbnk+XG4+IHtcbiAgLy8gc3R5bGVzIHNwZWNpZmllZCBpbiB0aGUgYXQtcnVsZVxuICBzcGVjaWZpZWQ6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlID0ge307XG4gIGNoaWxkcmVuOiBQYWdlQm94W10gPSBbXTtcbiAgcGFnZU1hc3RlcjogUGFnZU1hc3RlciA9IG51bGw7XG4gIGluZGV4OiBudW1iZXIgPSAwO1xuICBrZXk6IHN0cmluZztcblxuICBwcm90ZWN0ZWQgX3Njb3BlOiBFeHBycy5MZXhpY2FsU2NvcGU7XG5cbiAgZ2V0IHNjb3BlKCk6IEV4cHJzLkxleGljYWxTY29wZSB7XG4gICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcHVibGljIHJlYWRvbmx5IHBhcmVudDogUGFnZUJveCxcbiAgKSB7XG4gICAgdGhpcy5fc2NvcGUgPSBzY29wZTtcbiAgICB0aGlzLmtleSA9IGBwJHtrZXlDb3VudCsrfWA7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5pbmRleCA9IHBhcmVudC5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlKTogUGFnZUJveEluc3RhbmNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1VORVhQRUNURURfQ0FMTFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgUGFnZUJveC5cbiAgICogQHBhcmFtIHBhcmFtIHBhcmVudDogVGhlIHBhcmVudCBvZiB0aGUgY2xvbmVkIFBhZ2VCb3guXG4gICAqICAgICBwc2V1ZG9OYW1lOiBBc3NpZ24gdGhpcyB2YWx1ZSBhcyB0aGUgcHNldWRvTmFtZSBvZiB0aGUgY2xvbmVkIFBhZ2VCb3guXG4gICAqL1xuICBjbG9uZShwYXJhbTogeyBwYXJlbnQ/OiBQYWdlQm94OyBwc2V1ZG9OYW1lPzogc3RyaW5nIH0pOiBQYWdlQm94PEk+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJFX1VORVhQRUNURURfQ0FMTFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb3B5ICdzcGVjaWZpZWQnIHByb3BlcnRpZXMgdG8gYW5vdGhlciBpbnN0YW5jZS5cbiAgICogQHBhcmFtIGRlc3QgVGhlIFBhZ2VCb3ggaW50byB3aGljaCAnc3BlY2lmaWVkJyBwcm9wZXJ0aWVzIGFyZSBjb3BpZWRcbiAgICovXG4gIHByb3RlY3RlZCBjb3B5U3BlY2lmaWVkKGRlc3Q6IFBhZ2VCb3gpIHtcbiAgICBjb25zdCBzcGVjaWZpZWQgPSB0aGlzLnNwZWNpZmllZDtcbiAgICBjb25zdCBkZXN0U3BlY2lmaWVkID0gZGVzdC5zcGVjaWZpZWQ7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHNwZWNpZmllZCkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzcGVjaWZpZWQsIHByb3ApKSB7XG4gICAgICAgIGRlc3RTcGVjaWZpZWRbcHJvcF0gPSBzcGVjaWZpZWRbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb25lIGNoaWxkcmVuIHdpdGggdGhlIHNwZWNpZmllZCBQYWdlQm94IGFzIHRoZWlyIHBhcmVudC5cbiAgICovXG4gIHByb3RlY3RlZCBjbG9uZUNoaWxkcmVuKHBhcmVudDogUGFnZUJveCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgLy8gdGhlIGNsb25lZCBjaGlsZCBpcyBhZGRlZCB0byBwYXJlbnQuY2hpbGRyZW4gaW4gdGhlIGNoaWxkIGNvbnN0cnVjdG9yLlxuICAgICAgdGhpcy5jaGlsZHJlbltpXS5jbG9uZSh7IHBhcmVudCB9KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQYXJlbnQgb2YgYWxsIHBhZ2UgbWFzdGVyc1xuICovXG5leHBvcnQgY2xhc3MgUm9vdFBhZ2VCb3ggZXh0ZW5kcyBQYWdlQm94PFJvb3RQYWdlQm94SW5zdGFuY2U+IHtcbiAgY29uc3RydWN0b3Ioc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSkge1xuICAgIHN1cGVyKHNjb3BlLCBudWxsLCBudWxsLCBbXSwgbnVsbCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3aWR0aFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbFdpZHRoLCAwKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcImhlaWdodFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbEhlaWdodCwgMCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VNYXN0ZXJTY29wZSBleHRlbmRzIEV4cHJzLkxleGljYWxTY29wZSB7XG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsIHB1YmxpYyBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyKSB7XG4gICAgc3VwZXIoc2NvcGUsIHJlc29sdmVyKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBmdW5jdGlvbiByZXNvbHZlcihxdWFsaWZpZWROYW1lLCBpc0Z1bmMpIHtcbiAgICAgIGNvbnN0IHIgPSBxdWFsaWZpZWROYW1lLm1hdGNoKC9eKFteLl0rKVxcLihbXi5dKykkLyk7XG4gICAgICBpZiAocikge1xuICAgICAgICBjb25zdCBrZXkgPSBzZWxmLnBhZ2VNYXN0ZXIua2V5TWFwW3JbMV1dO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgY29uc3QgaG9sZGVyID0gdGhpcyBhcyBJbnN0YW5jZUhvbGRlcjtcbiAgICAgICAgICBjb25zdCBib3hJbnN0YW5jZSA9IGhvbGRlci5sb29rdXBJbnN0YW5jZShrZXkpO1xuICAgICAgICAgIGlmIChib3hJbnN0YW5jZSkge1xuICAgICAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgICAgICByZXR1cm4gYm94SW5zdGFuY2UucmVzb2x2ZUZ1bmMoclsyXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gYm94SW5zdGFuY2UucmVzb2x2ZU5hbWUoclsyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYWdlLW1hc3RlciBydWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlTWFzdGVyPFxuICBJIGV4dGVuZHMgUGFnZU1hc3Rlckluc3RhbmNlID0gUGFnZU1hc3Rlckluc3RhbmNlPGFueT5cbj4gZXh0ZW5kcyBQYWdlQm94PEk+IHtcbiAgcGFnZU1hc3RlcjogUGFnZU1hc3RlcjtcbiAga2V5TWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICAgcGFyZW50OiBSb290UGFnZUJveCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY29uZGl0aW9uOiBFeHBycy5WYWwsXG4gICAgcHVibGljIHJlYWRvbmx5IHNwZWNpZmljaXR5OiBudW1iZXIsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBuYW1lLCBwc2V1ZG9OYW1lLCBjbGFzc2VzLCBwYXJlbnQpO1xuICAgIC8vIGlmIFBhZ2VNYXN0ZXJTY29wZSBvYmplY3QgaXMgcGFzc2VkLCB1c2UgKHNoYXJlKSBpdC5cbiAgICBpZiAoIShzY29wZSBpbnN0YW5jZW9mIFBhZ2VNYXN0ZXJTY29wZSkpIHtcbiAgICAgIHRoaXMuX3Njb3BlID0gbmV3IFBhZ2VNYXN0ZXJTY29wZShzY29wZSwgdGhpcyk7XG4gICAgfVxuICAgIHRoaXMucGFnZU1hc3RlciA9IHRoaXM7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3aWR0aFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbFdpZHRoLCAwKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcImhlaWdodFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShDc3MuZnVsbEhlaWdodCwgMCk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3cmFwLWZsb3dcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQuYXV0byxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcInBvc2l0aW9uXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmlkZW50LnJlbGF0aXZlLFxuICAgICAgMCxcbiAgICApO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wib3ZlcmZsb3dcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQudmlzaWJsZSxcbiAgICAgIDAsXG4gICAgKTtcblxuICAgIC8vIFNoaWZ0IDFweCB0byB3b3JrYXJvdW5kIENocm9tZSBwcmludGluZyBidWdcbiAgICAvLyB0aGlzLnNwZWNpZmllZFtcInRvcFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShuZXcgQ3NzLk51bWVyaWMoLTEsIFwicHhcIiksIDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpOiBQYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZU1hc3Rlckluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNsb25lKHBhcmFtKTogUGFnZU1hc3RlciB7XG4gICAgLy8gVGhlIGNsb25lZCBwYWdlIG1hc3RlciBzaGFyZXMgdGhlIHNhbWUgc2NvcGUgb2JqZWN0IHdpdGggdGhlIG9yaWdpbmFsXG4gICAgLy8gb25lLlxuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBQYWdlTWFzdGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIHBhcmFtLnBzZXVkb05hbWUgfHwgdGhpcy5wc2V1ZG9OYW1lLFxuICAgICAgdGhpcy5jbGFzc2VzLFxuICAgICAgdGhpcy5wYXJlbnQgYXMgUm9vdFBhZ2VCb3gsXG4gICAgICB0aGlzLmNvbmRpdGlvbixcbiAgICAgIHRoaXMuc3BlY2lmaWNpdHksXG4gICAgKTtcbiAgICB0aGlzLmNvcHlTcGVjaWZpZWQoY2xvbmVkKTtcbiAgICB0aGlzLmNsb25lQ2hpbGRyZW4oY2xvbmVkKTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvaW50IHRoZSBwYWdlTWFzdGVyIHJlZmVyZW5jZSBpbiB0aGUgUGFnZU1hc3RlclNjb3BlIHRvIHRoZSBjdXJyZW50IHBhZ2VcbiAgICogbWFzdGVyLiBUaGlzIGlzIG5lZWRlZCB3aGVuIGEgcGFnZSBtYXN0ZXIgaXMgY2xvbmVkIGFuZCBzaGFyZXMgYSBjb21tb25cbiAgICogc2NvcGUgd2l0aCB0aGUgb3JpZ2luYWwgcGFnZSBtYXN0ZXIuIFNpbmNlIGV2ZXJ5IEV4cHJzLlZhbCB3aGljaCB0aGVcbiAgICogcGFnZSBtYXN0ZXIgaG9sZHMgaGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBzY29wZSBhbmQgdXNlcyBpdCBmb3IgdmFyaWFibGVcbiAgICogcmVzb2x1dGlvbiwgdGhpcyByZWZlcmVuY2UgbXVzdCBiZSB1cGRhdGVkIHByb3Blcmx5IGJlZm9yZSB0aGUgcGFnZSBtYXN0ZXJcbiAgICogaW5zdGFuY2UgaXMgdXNlZC5cbiAgICovXG4gIHJlc2V0U2NvcGUoKSB7XG4gICAgKHRoaXMuc2NvcGUgYXMgYW55KS5wYWdlTWFzdGVyID0gdGhpcztcbiAgfVxufVxuXG4vKipcbiAqIFJlcHJlc2VudCBhIHBhcnRpdGlvbi1ncm91cCBydWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25Hcm91cCBleHRlbmRzIFBhZ2VCb3g8UGFydGl0aW9uR3JvdXBJbnN0YW5jZT4ge1xuICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICAgIHBhcmVudDogUGFnZUJveCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG5hbWUsIHBzZXVkb05hbWUsIGNsYXNzZXMsIHBhcmVudCk7XG4gICAgdGhpcy5wYWdlTWFzdGVyID0gcGFyZW50LnBhZ2VNYXN0ZXI7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMucGFnZU1hc3Rlci5rZXlNYXBbbmFtZV0gPSB0aGlzLmtleTtcbiAgICB9XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJ3cmFwLWZsb3dcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQuYXV0byxcbiAgICAgIDAsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UpOiBQYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFydGl0aW9uR3JvdXBJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjbG9uZShwYXJhbSk6IFBhcnRpdGlvbkdyb3VwIHtcbiAgICBjb25zdCBjbG9uZWQgPSBuZXcgUGFydGl0aW9uR3JvdXAoXG4gICAgICBwYXJhbS5wYXJlbnQuc2NvcGUsXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICB0aGlzLnBzZXVkb05hbWUsXG4gICAgICB0aGlzLmNsYXNzZXMsXG4gICAgICBwYXJhbS5wYXJlbnQsXG4gICAgKTtcbiAgICB0aGlzLmNvcHlTcGVjaWZpZWQoY2xvbmVkKTtcbiAgICB0aGlzLmNsb25lQ2hpbGRyZW4oY2xvbmVkKTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59XG5cbi8qKlxuICogUmVwcmVzZW50IGEgcGFydGl0aW9uIHJ1bGVcbiAqL1xuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbjxcbiAgSSBleHRlbmRzIFBhcnRpdGlvbkluc3RhbmNlID0gUGFydGl0aW9uSW5zdGFuY2Vcbj4gZXh0ZW5kcyBQYWdlQm94PEk+IHtcbiAgcGFnZU1hc3RlcjogUGFnZU1hc3RlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgICBwYXJlbnQ6IFBhZ2VCb3gsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBuYW1lLCBwc2V1ZG9OYW1lLCBjbGFzc2VzLCBwYXJlbnQpO1xuICAgIHRoaXMucGFnZU1hc3RlciA9IHBhcmVudC5wYWdlTWFzdGVyO1xuICAgIGlmIChuYW1lKSB7XG4gICAgICB0aGlzLnBhZ2VNYXN0ZXIua2V5TWFwW25hbWVdID0gdGhpcy5rZXk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY3JlYXRlSW5zdGFuY2UocGFyZW50SW5zdGFuY2UpOiBQYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFydGl0aW9uSW5zdGFuY2UocGFyZW50SW5zdGFuY2UsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUocGFyYW0pOiBQYXJ0aXRpb24ge1xuICAgIGNvbnN0IGNsb25lZCA9IG5ldyBQYXJ0aXRpb24oXG4gICAgICBwYXJhbS5wYXJlbnQuc2NvcGUsXG4gICAgICB0aGlzLm5hbWUsXG4gICAgICB0aGlzLnBzZXVkb05hbWUsXG4gICAgICB0aGlzLmNsYXNzZXMsXG4gICAgICBwYXJhbS5wYXJlbnQsXG4gICAgKTtcbiAgICB0aGlzLmNvcHlTcGVjaWZpZWQoY2xvbmVkKTtcbiAgICB0aGlzLmNsb25lQ2hpbGRyZW4oY2xvbmVkKTtcbiAgICByZXR1cm4gY2xvbmVkO1xuICB9XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJbnN0YW5jZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKipcbiAqIEBwYXJhbSBkZWYgZGVmYXVsdCB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9FeHBySWRlbnQoXG4gIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gIHZhbDogQ3NzLlZhbCxcbiAgZGVmOiBzdHJpbmcsXG4pOiBFeHBycy5WYWwge1xuICBpZiAoIXZhbCkge1xuICAgIHJldHVybiBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIGRlZik7XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHNjb3BlLnplcm8pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByQXV0byhcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHZhbCA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgcmVmKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvRXhwck5vcm1hbChcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHZhbCA9PT0gQ3NzLmlkZW50Lm5vcm1hbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByWmVybyhcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHZhbCA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICByZXR1cm4gc2NvcGUuemVybztcbiAgfVxuICByZXR1cm4gdmFsLnRvRXhwcihzY29wZSwgcmVmKTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgdmFsdWUgaXMgbm90IHNwZWNpZmllZCAobnVsbCksIHJldHVybnMgemVyby5cbiAqIElmIHRoZSB2YWx1ZSBpcyAnYXV0bycsIHJldHVybnMgbnVsbC5cbiAqIE90aGVyd2lzZSwgcmV0dXJuIHRoZSB2YWx1ZSBpdHNlbGYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJaZXJvQXV0byhcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsKSB7XG4gICAgcmV0dXJuIHNjb3BlLnplcm87XG4gIH0gZWxzZSBpZiAodmFsID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0V4cHJaZXJvQm9yZGVyKFxuICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICB2YWw6IENzcy5WYWwsXG4gIHN0eWxlVmFsOiBDc3MuVmFsLFxuICByZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsIHx8IHN0eWxlVmFsID09PSBDc3MuaWRlbnQubm9uZSkge1xuICAgIHJldHVybiBzY29wZS56ZXJvO1xuICB9XG4gIHJldHVybiB2YWwudG9FeHByKHNjb3BlLCByZWYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9FeHByQm9vbChcbiAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgdmFsOiBDc3MuVmFsLFxuICBkZWY6IEV4cHJzLlZhbCxcbik6IEV4cHJzLlZhbCB7XG4gIGlmICghdmFsKSB7XG4gICAgcmV0dXJuIGRlZjtcbiAgfVxuICBpZiAodmFsID09PSBDc3MuaWRlbnQuX3RydWUpIHtcbiAgICByZXR1cm4gc2NvcGUuX3RydWU7XG4gIH1cbiAgaWYgKHZhbCA9PT0gQ3NzLmlkZW50Ll9mYWxzZSkge1xuICAgIHJldHVybiBzY29wZS5fZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZhbC50b0V4cHIoc2NvcGUsIHNjb3BlLnplcm8pO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEluc3RhbmNlSG9sZGVyIGV4dGVuZHMgRXhwcnMuQ29udGV4dCB7XG4gIHJlZ2lzdGVySW5zdGFuY2Uoa2V5OiBzdHJpbmcsIGluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UpOiB2b2lkO1xuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGluc3RhbmNlXG4gICAqL1xuICBsb29rdXBJbnN0YW5jZShrZXk6IHN0cmluZyk6IFBhZ2VCb3hJbnN0YW5jZTtcbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VCb3hJbnN0YW5jZTxQIGV4dGVuZHMgUGFnZUJveCA9IFBhZ2VCb3g8YW55Pj4ge1xuICAvKipcbiAgICogY2FzY2FkZWQgc3R5bGVzLCBnZW9tZXRyaWMgb25lcyBjb252ZXJ0ZWQgdG8gQ3NzLkV4cHJcbiAgICovXG4gIHByb3RlY3RlZCBjYXNjYWRlZDogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgPSB7fTtcbiAgc3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9ID0ge307XG4gIHByaXZhdGUgYXV0b1dpZHRoOiBFeHBycy5OYXRpdmUgPSBudWxsO1xuICBwcml2YXRlIGF1dG9IZWlnaHQ6IEV4cHJzLk5hdGl2ZSA9IG51bGw7XG4gIGNoaWxkcmVuOiBQYWdlQm94SW5zdGFuY2VbXSA9IFtdO1xuICBpc0F1dG9XaWR0aDogYm9vbGVhbiA9IGZhbHNlO1xuICBpc0F1dG9IZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoOiBib29sZWFuID0gZmFsc2U7XG4gIHByaXZhdGUgY2FsY3VsYXRlZFdpZHRoOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGNhbGN1bGF0ZWRIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlckluc3RhbmNlID0gbnVsbDtcbiAgbmFtZWRWYWx1ZXM6IHsgW2tleTogc3RyaW5nXTogRXhwcnMuVmFsIH0gPSB7fTtcbiAgbmFtZWRGdW5jczogeyBba2V5OiBzdHJpbmddOiBFeHBycy5WYWwgfSA9IHt9O1xuICB2ZXJ0aWNhbDogYm9vbGVhbiA9IGZhbHNlO1xuICBydGw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3VwcHJlc3NFbXB0eUJveEdlbmVyYXRpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZUJveDogUCxcbiAgKSB7XG4gICAgaWYgKHBhcmVudEluc3RhbmNlKSB7XG4gICAgICBwYXJlbnRJbnN0YW5jZS5jaGlsZHJlbi5wdXNoKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGxheW91dC5cbiAgICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuY2FsY3VsYXRlZFdpZHRoID0gMDtcbiAgICB0aGlzLmNhbGN1bGF0ZWRIZWlnaHQgPSAwO1xuICB9XG5cbiAgcHJpdmF0ZSBhZGROYW1lZFZhbHVlcyhuYW1lMTogc3RyaW5nLCBuYW1lMjogc3RyaW5nKTogRXhwcnMuVmFsIHtcbiAgICBjb25zdCB2MSA9IHRoaXMucmVzb2x2ZU5hbWUobmFtZTEpO1xuICAgIGNvbnN0IHYyID0gdGhpcy5yZXNvbHZlTmFtZShuYW1lMik7XG4gICAgaWYgKCF2MSB8fCAhdjIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkVfSU5URVJOQUxcIik7XG4gICAgfVxuICAgIHJldHVybiBFeHBycy5hZGQodGhpcy5wYWdlQm94LnNjb3BlLCB2MSwgdjIpO1xuICB9XG5cbiAgcmVzb2x2ZU5hbWUobmFtZTogc3RyaW5nKTogRXhwcnMuVmFsIHtcbiAgICBsZXQgZXhwciA9IHRoaXMubmFtZWRWYWx1ZXNbbmFtZV07XG4gICAgaWYgKGV4cHIpIHtcbiAgICAgIHJldHVybiBleHByO1xuICAgIH1cbiAgICBjb25zdCB2YWwgPSB0aGlzLnN0eWxlW25hbWVdO1xuICAgIGlmICh2YWwpIHtcbiAgICAgIGV4cHIgPSB2YWwudG9FeHByKHRoaXMucGFnZUJveC5zY29wZSwgdGhpcy5wYWdlQm94LnNjb3BlLnplcm8pO1xuICAgIH1cbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgXCJtYXJnaW4tbGVmdC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLnJlc29sdmVOYW1lKFwibGVmdFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibWFyZ2luLXRvcC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLnJlc29sdmVOYW1lKFwidG9wXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJtYXJnaW4tcmlnaHQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvcmRlci1yaWdodC1lZGdlXCIsIFwibWFyZ2luLXJpZ2h0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJtYXJnaW4tYm90dG9tLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJib3JkZXItYm90dG9tLWVkZ2VcIiwgXCJtYXJnaW4tYm90dG9tXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3JkZXItbGVmdC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwibWFyZ2luLWxlZnQtZWRnZVwiLCBcIm1hcmdpbi1sZWZ0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3JkZXItdG9wLWVkZ2VcIjpcbiAgICAgICAgZXhwciA9IHRoaXMuYWRkTmFtZWRWYWx1ZXMoXCJtYXJnaW4tdG9wLWVkZ2VcIiwgXCJtYXJnaW4tdG9wXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJib3JkZXItcmlnaHQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcInBhZGRpbmctcmlnaHQtZWRnZVwiLCBcImJvcmRlci1yaWdodC13aWR0aFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm9yZGVyLWJvdHRvbS1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFxuICAgICAgICAgIFwicGFkZGluZy1ib3R0b20tZWRnZVwiLFxuICAgICAgICAgIFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYWRkaW5nLWxlZnQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvcmRlci1sZWZ0LWVkZ2VcIiwgXCJib3JkZXItbGVmdC13aWR0aFwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGFkZGluZy10b3AtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcImJvcmRlci10b3AtZWRnZVwiLCBcImJvcmRlci10b3Atd2lkdGhcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhZGRpbmctcmlnaHQtZWRnZVwiOlxuICAgICAgICBleHByID0gdGhpcy5hZGROYW1lZFZhbHVlcyhcInJpZ2h0LWVkZ2VcIiwgXCJwYWRkaW5nLXJpZ2h0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJwYWRkaW5nLWJvdHRvbS1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwiYm90dG9tLWVkZ2VcIiwgXCJwYWRkaW5nLWJvdHRvbVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGVmdC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwicGFkZGluZy1sZWZ0LWVkZ2VcIiwgXCJwYWRkaW5nLWxlZnRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInRvcC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwicGFkZGluZy10b3AtZWRnZVwiLCBcInBhZGRpbmctdG9wXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodC1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwibGVmdC1lZGdlXCIsIFwid2lkdGhcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImJvdHRvbS1lZGdlXCI6XG4gICAgICAgIGV4cHIgPSB0aGlzLmFkZE5hbWVkVmFsdWVzKFwidG9wLWVkZ2VcIiwgXCJoZWlnaHRcIik7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAoIWV4cHIpIHtcbiAgICAgIGxldCBhbHROYW1lOiBzdHJpbmc7XG4gICAgICBpZiAobmFtZSA9PSBcImV4dGVudFwiKSB7XG4gICAgICAgIGFsdE5hbWUgPSB0aGlzLnZlcnRpY2FsID8gXCJ3aWR0aFwiIDogXCJoZWlnaHRcIjtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBcIm1lYXN1cmVcIikge1xuICAgICAgICBhbHROYW1lID0gdGhpcy52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBDc3NDYXNjYWRlLmNvdXBsaW5nTWFwVmVydFxuICAgICAgICAgIDogQ3NzQ2FzY2FkZS5jb3VwbGluZ01hcEhvcjtcbiAgICAgICAgYWx0TmFtZSA9IG5hbWU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hcCkge1xuICAgICAgICAgIGFsdE5hbWUgPSBhbHROYW1lLnJlcGxhY2Uoa2V5LCBtYXBba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhbHROYW1lICE9IG5hbWUpIHtcbiAgICAgICAgZXhwciA9IHRoaXMucmVzb2x2ZU5hbWUoYWx0TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChleHByKSB7XG4gICAgICB0aGlzLm5hbWVkVmFsdWVzW25hbWVdID0gZXhwcjtcbiAgICB9XG4gICAgcmV0dXJuIGV4cHI7XG4gIH1cblxuICByZXNvbHZlRnVuYyhuYW1lKSB7XG4gICAgbGV0IGV4cHIgPSB0aGlzLm5hbWVkRnVuY3NbbmFtZV07XG4gICAgaWYgKGV4cHIpIHtcbiAgICAgIHJldHVybiBleHByO1xuICAgIH1cbiAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgIGNhc2UgXCJjb2x1bW5zXCI6IHtcbiAgICAgICAgLy8gbWluKGNvdW50LGNvbHVtbi1jb3VudCkgKiAoY29sdW1uLXdpZHRoICsgY29sdW1uLWdhcCkgLSBjb2x1bW4tZ2FwXG4gICAgICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgICAgICBjb25zdCBjb3VudCA9IG5ldyBFeHBycy5QYXJhbShzY29wZSwgMCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbkNvdW50ID0gdGhpcy5yZXNvbHZlTmFtZShcImNvbHVtbi1jb3VudFwiKTtcbiAgICAgICAgY29uc3QgY29sdW1uV2lkdGggPSB0aGlzLnJlc29sdmVOYW1lKFwiY29sdW1uLXdpZHRoXCIpO1xuICAgICAgICBjb25zdCBjb2x1bW5HYXAgPSB0aGlzLnJlc29sdmVOYW1lKFwiY29sdW1uLWdhcFwiKTtcbiAgICAgICAgZXhwciA9IEV4cHJzLnN1YihcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5tdWwoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIG5ldyBFeHBycy5DYWxsKHNjb3BlLCBcIm1pblwiLCBbY291bnQsIGNvbHVtbkNvdW50XSksXG4gICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGNvbHVtbldpZHRoLCBjb2x1bW5HYXApLFxuICAgICAgICAgICksXG4gICAgICAgICAgY29sdW1uR2FwLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGV4cHIpIHtcbiAgICAgIHRoaXMubmFtZWRGdW5jc1tuYW1lXSA9IGV4cHI7XG4gICAgfVxuICAgIHJldHVybiBleHByO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0RW5hYmxlZCgpOiB2b2lkIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgbGV0IGVuYWJsZWQgPSB0b0V4cHJCb29sKHNjb3BlLCBzdHlsZVtcImVuYWJsZWRcIl0sIHNjb3BlLl90cnVlKTtcbiAgICBjb25zdCBwYWdlID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJwYWdlXCJdLCBzY29wZS56ZXJvKTtcbiAgICBpZiAocGFnZSkge1xuICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicGFnZS1udW1iZXJcIik7XG4gICAgICBlbmFibGVkID0gRXhwcnMuYW5kKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbmV3IEV4cHJzLkVxKHNjb3BlLCBwYWdlLCBjdXJyZW50UGFnZSksXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBtaW5QYWdlV2lkdGggPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1pbi1wYWdlLXdpZHRoXCJdLCBzY29wZS56ZXJvKTtcbiAgICBpZiAobWluUGFnZVdpZHRoKSB7XG4gICAgICBlbmFibGVkID0gRXhwcnMuYW5kKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZW5hYmxlZCxcbiAgICAgICAgbmV3IEV4cHJzLkdlKHNjb3BlLCBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicGFnZS13aWR0aFwiKSwgbWluUGFnZVdpZHRoKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IG1pblBhZ2VIZWlnaHQgPSB0b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcIm1pbi1wYWdlLWhlaWdodFwiXSxcbiAgICAgIHNjb3BlLnplcm8sXG4gICAgKTtcbiAgICBpZiAobWluUGFnZUhlaWdodCkge1xuICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGVuYWJsZWQsXG4gICAgICAgIG5ldyBFeHBycy5HZShcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIFwicGFnZS1oZWlnaHRcIiksXG4gICAgICAgICAgbWluUGFnZUhlaWdodCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfVxuICAgIGVuYWJsZWQgPSB0aGlzLmJveFNwZWNpZmljRW5hYmxlZChlbmFibGVkKTtcbiAgICBzdHlsZVtcImVuYWJsZWRcIl0gPSBuZXcgQ3NzLkV4cHIoZW5hYmxlZCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYm94U3BlY2lmaWNFbmFibGVkKGVuYWJsZWQ6IEV4cHJzLlZhbCk6IEV4cHJzLlZhbCB7XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH1cblxuICBwcm90ZWN0ZWQgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHBhcmVudFdpZHRoID0gdGhpcy5wYXJlbnRJbnN0YW5jZVxuICAgICAgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wid2lkdGhcIl0udG9FeHByKHNjb3BlLCBudWxsKVxuICAgICAgOiBudWxsO1xuICAgIGxldCBsZWZ0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJsZWZ0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IG1hcmdpbkxlZnQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1hcmdpbi1sZWZ0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgY29uc3QgYm9yZGVyTGVmdFdpZHRoID0gdG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJib3JkZXItbGVmdC13aWR0aFwiXSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLWxlZnQtc3R5bGVcIl0sXG4gICAgICBwYXJlbnRXaWR0aCxcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdMZWZ0ID0gdG9FeHByWmVybyhzY29wZSwgc3R5bGVbXCJwYWRkaW5nLWxlZnRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgd2lkdGggPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIndpZHRoXCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgbGV0IG1heFdpZHRoID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXgtd2lkdGhcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBwYWRkaW5nUmlnaHQgPSB0b0V4cHJaZXJvKHNjb3BlLCBzdHlsZVtcInBhZGRpbmctcmlnaHRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBib3JkZXJSaWdodFdpZHRoID0gdG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJib3JkZXItcmlnaHQtd2lkdGhcIl0sXG4gICAgICBzdHlsZVtcImJvcmRlci1yaWdodC1zdHlsZVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgbGV0IG1hcmdpblJpZ2h0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJtYXJnaW4tcmlnaHRcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgcmlnaHQgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcInJpZ2h0XCJdLCBwYXJlbnRXaWR0aCk7XG4gICAgY29uc3QgbGVmdEJQID0gRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJMZWZ0V2lkdGgsIHBhZGRpbmdMZWZ0KTtcbiAgICBjb25zdCByaWdodEJQID0gRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJMZWZ0V2lkdGgsIHBhZGRpbmdSaWdodCk7XG4gICAgaWYgKGxlZnQgJiYgcmlnaHQgJiYgd2lkdGgpIHtcbiAgICAgIGxldCBleHRyYSA9IEV4cHJzLnN1YihcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHBhcmVudFdpZHRoLFxuICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBFeHBycy5hZGQoc2NvcGUsIGxlZnQsIGxlZnRCUCksIHJpZ2h0QlApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmICghbWFyZ2luTGVmdCkge1xuICAgICAgICBleHRyYSA9IEV4cHJzLnN1YihzY29wZSwgZXh0cmEsIHJpZ2h0KTtcbiAgICAgICAgaWYgKCFtYXJnaW5SaWdodCkge1xuICAgICAgICAgIG1hcmdpbkxlZnQgPSBFeHBycy5tdWwoc2NvcGUsIGV4dHJhLCBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDAuNSkpO1xuICAgICAgICAgIG1hcmdpblJpZ2h0ID0gbWFyZ2luTGVmdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXJnaW5MZWZ0ID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgbWFyZ2luUmlnaHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW1hcmdpblJpZ2h0KSB7XG4gICAgICAgICAgbWFyZ2luUmlnaHQgPSBFeHBycy5zdWIoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIGV4dHJhLFxuICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCByaWdodCwgbWFyZ2luTGVmdCksXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBvdmVyY29uc3RyYWludFxuICAgICAgICAgIHJpZ2h0ID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgbWFyZ2luUmlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghbWFyZ2luTGVmdCkge1xuICAgICAgICBtYXJnaW5MZWZ0ID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghbWFyZ2luUmlnaHQpIHtcbiAgICAgICAgbWFyZ2luUmlnaHQgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCFsZWZ0ICYmICFyaWdodCAmJiAhd2lkdGgpIHtcbiAgICAgICAgbGVmdCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIWxlZnQgJiYgIXdpZHRoKSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5hdXRvV2lkdGg7XG4gICAgICAgIHRoaXMuaXNBdXRvV2lkdGggPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICghbGVmdCAmJiAhcmlnaHQpIHtcbiAgICAgICAgbGVmdCA9IHNjb3BlLnplcm87XG4gICAgICB9IGVsc2UgaWYgKCF3aWR0aCAmJiAhcmlnaHQpIHtcbiAgICAgICAgd2lkdGggPSB0aGlzLmF1dG9XaWR0aDtcbiAgICAgICAgdGhpcy5pc0F1dG9XaWR0aCA9IHRydWU7XG4gICAgICB9XG4gICAgICBjb25zdCByZW1haW5zID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcGFyZW50V2lkdGgsXG4gICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpbkxlZnQsIGxlZnRCUCksXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5SaWdodCwgcmlnaHRCUCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgICAgaWYgKCFtYXhXaWR0aCkge1xuICAgICAgICAgIC8vIFRPRE86IGhhbmRsZSB0aGUgY2FzZSB3aGVuIHJpZ2h0L2xlZnQgZGVwZW5kcyBvbiB3aWR0aFxuICAgICAgICAgIG1heFdpZHRoID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBsZWZ0ID8gbGVmdCA6IHJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBtdWx0aS1jb2x1bW4gbGF5b3V0LCB3aWR0aCBpcyBtYXgtd2lkdGguXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdGhpcy52ZXJ0aWNhbCAmJlxuICAgICAgICAgICh0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi13aWR0aFwiXSwgbnVsbCkgfHxcbiAgICAgICAgICAgIHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLWNvdW50XCJdLCBudWxsKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgd2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgICB0aGlzLmlzQXV0b1dpZHRoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghbGVmdCkge1xuICAgICAgICBsZWZ0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIHJpZ2h0LCB3aWR0aCkpO1xuICAgICAgfSBlbHNlIGlmICghd2lkdGgpIHtcbiAgICAgICAgd2lkdGggPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIEV4cHJzLmFkZChzY29wZSwgbGVmdCwgcmlnaHQpKTtcbiAgICAgIH0gZWxzZSBpZiAoIXJpZ2h0KSB7XG4gICAgICAgIHJpZ2h0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBFeHBycy5hZGQoc2NvcGUsIGxlZnQsIHdpZHRoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc25hcC13aWR0aCBpcyBpbmhlcml0ZWRcbiAgICBjb25zdCBzbmFwV2lkdGhWYWwgPVxuICAgICAgc3R5bGVbXCJzbmFwLXdpZHRoXCJdIHx8XG4gICAgICAodGhpcy5wYXJlbnRJbnN0YW5jZSA/IHRoaXMucGFyZW50SW5zdGFuY2Uuc3R5bGVbXCJzbmFwLXdpZHRoXCJdIDogbnVsbCk7XG4gICAgY29uc3Qgc25hcFdpZHRoID0gdG9FeHByWmVybyhzY29wZSwgc25hcFdpZHRoVmFsLCBwYXJlbnRXaWR0aCk7XG4gICAgc3R5bGVbXCJsZWZ0XCJdID0gbmV3IENzcy5FeHByKGxlZnQpO1xuICAgIHN0eWxlW1wibWFyZ2luLWxlZnRcIl0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luTGVmdCk7XG4gICAgc3R5bGVbXCJib3JkZXItbGVmdC13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHN0eWxlW1wicGFkZGluZy1sZWZ0XCJdID0gbmV3IENzcy5FeHByKHBhZGRpbmdMZWZ0KTtcbiAgICBzdHlsZVtcIndpZHRoXCJdID0gbmV3IENzcy5FeHByKHdpZHRoKTtcbiAgICBzdHlsZVtcIm1heC13aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihtYXhXaWR0aCA/IG1heFdpZHRoIDogd2lkdGgpO1xuICAgIHN0eWxlW1wicGFkZGluZy1yaWdodFwiXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nUmlnaHQpO1xuICAgIHN0eWxlW1wiYm9yZGVyLXJpZ2h0LXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGJvcmRlclJpZ2h0V2lkdGgpO1xuICAgIHN0eWxlW1wibWFyZ2luLXJpZ2h0XCJdID0gbmV3IENzcy5FeHByKG1hcmdpblJpZ2h0KTtcbiAgICBzdHlsZVtcInJpZ2h0XCJdID0gbmV3IENzcy5FeHByKHJpZ2h0KTtcbiAgICBzdHlsZVtcInNuYXAtd2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoc25hcFdpZHRoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBpbml0VmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHBhcmVudFdpZHRoID0gdGhpcy5wYXJlbnRJbnN0YW5jZVxuICAgICAgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wid2lkdGhcIl0udG9FeHByKHNjb3BlLCBudWxsKVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IHBhcmVudEhlaWdodCA9IHRoaXMucGFyZW50SW5zdGFuY2VcbiAgICAgID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5zdHlsZVtcImhlaWdodFwiXS50b0V4cHIoc2NvcGUsIG51bGwpXG4gICAgICA6IG51bGw7XG4gICAgbGV0IHRvcCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1widG9wXCJdLCBwYXJlbnRIZWlnaHQpO1xuICAgIGxldCBtYXJnaW5Ub3AgPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1hcmdpbi10b3BcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBjb25zdCBib3JkZXJUb3BXaWR0aCA9IHRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLXRvcC13aWR0aFwiXSxcbiAgICAgIHN0eWxlW1wiYm9yZGVyLXRvcC1zdHlsZVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgY29uc3QgcGFkZGluZ1RvcCA9IHRvRXhwclplcm8oc2NvcGUsIHN0eWxlW1wicGFkZGluZy10b3BcIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgaGVpZ2h0ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJoZWlnaHRcIl0sIHBhcmVudEhlaWdodCk7XG4gICAgbGV0IG1heEhlaWdodCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wibWF4LWhlaWdodFwiXSwgcGFyZW50SGVpZ2h0KTtcbiAgICBjb25zdCBwYWRkaW5nQm90dG9tID0gdG9FeHByWmVybyhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXSxcbiAgICAgIHBhcmVudFdpZHRoLFxuICAgICk7XG4gICAgY29uc3QgYm9yZGVyQm90dG9tV2lkdGggPSB0b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtcImJvcmRlci1ib3R0b20td2lkdGhcIl0sXG4gICAgICBzdHlsZVtcImJvcmRlci1ib3R0b20tc3R5bGVcIl0sXG4gICAgICBwYXJlbnRXaWR0aCxcbiAgICApO1xuICAgIGxldCBtYXJnaW5Cb3R0b20gPSB0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcIm1hcmdpbi1ib3R0b21cIl0sIHBhcmVudFdpZHRoKTtcbiAgICBsZXQgYm90dG9tID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJib3R0b21cIl0sIHBhcmVudEhlaWdodCk7XG4gICAgY29uc3QgdG9wQlAgPSBFeHBycy5hZGQoc2NvcGUsIGJvcmRlclRvcFdpZHRoLCBwYWRkaW5nVG9wKTtcbiAgICBjb25zdCBib3R0b21CUCA9IEV4cHJzLmFkZChzY29wZSwgYm9yZGVyQm90dG9tV2lkdGgsIHBhZGRpbmdCb3R0b20pO1xuICAgIGlmICh0b3AgJiYgYm90dG9tICYmIGhlaWdodCkge1xuICAgICAgbGV0IGV4dHJhID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcGFyZW50SGVpZ2h0LFxuICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgRXhwcnMuYWRkKHNjb3BlLCB0b3AsIHRvcEJQKSwgYm90dG9tQlApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmICghbWFyZ2luVG9wKSB7XG4gICAgICAgIGV4dHJhID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgYm90dG9tKTtcbiAgICAgICAgaWYgKCFtYXJnaW5Cb3R0b20pIHtcbiAgICAgICAgICBtYXJnaW5Ub3AgPSBFeHBycy5tdWwoc2NvcGUsIGV4dHJhLCBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDAuNSkpO1xuICAgICAgICAgIG1hcmdpbkJvdHRvbSA9IG1hcmdpblRvcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtYXJnaW5Ub3AgPSBFeHBycy5zdWIoc2NvcGUsIGV4dHJhLCBtYXJnaW5Cb3R0b20pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW1hcmdpbkJvdHRvbSkge1xuICAgICAgICAgIG1hcmdpbkJvdHRvbSA9IEV4cHJzLnN1YihcbiAgICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgICAgZXh0cmEsXG4gICAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIGJvdHRvbSwgbWFyZ2luVG9wKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG92ZXJjb25zdHJhaW50XG4gICAgICAgICAgYm90dG9tID0gRXhwcnMuc3ViKHNjb3BlLCBleHRyYSwgbWFyZ2luVG9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW1hcmdpblRvcCkge1xuICAgICAgICBtYXJnaW5Ub3AgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCFtYXJnaW5Cb3R0b20pIHtcbiAgICAgICAgbWFyZ2luQm90dG9tID0gc2NvcGUuemVybztcbiAgICAgIH1cbiAgICAgIGlmICghdG9wICYmICFib3R0b20gJiYgIWhlaWdodCkge1xuICAgICAgICB0b3AgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgaWYgKCF0b3AgJiYgIWhlaWdodCkge1xuICAgICAgICBoZWlnaHQgPSB0aGlzLmF1dG9IZWlnaHQ7XG4gICAgICAgIHRoaXMuaXNBdXRvSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoIXRvcCAmJiAhYm90dG9tKSB7XG4gICAgICAgIHRvcCA9IHNjb3BlLnplcm87XG4gICAgICB9IGVsc2UgaWYgKCFoZWlnaHQgJiYgIWJvdHRvbSkge1xuICAgICAgICBoZWlnaHQgPSB0aGlzLmF1dG9IZWlnaHQ7XG4gICAgICAgIHRoaXMuaXNBdXRvSGVpZ2h0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlbWFpbnMgPSBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBwYXJlbnRIZWlnaHQsXG4gICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICBzY29wZSxcbiAgICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpblRvcCwgdG9wQlApLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgbWFyZ2luQm90dG9tLCBib3R0b21CUCksXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgaWYgKHRoaXMuaXNBdXRvSGVpZ2h0KSB7XG4gICAgICAgIGlmICghbWF4SGVpZ2h0KSB7XG4gICAgICAgICAgLy8gVE9ETzogaGFuZGxlIHRoZSBjYXNlIHdoZW4gdG9wL2JvdHRvbSBkZXBlbmRzIG9uIGhlaWdodFxuICAgICAgICAgIG1heEhlaWdodCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgdG9wID8gdG9wIDogYm90dG9tKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBtdWx0aS1jb2x1bW4gbGF5b3V0IGluIHZlcnRpY2FsIHdyaXRpbmcsIGhlaWdodCBpcyBtYXgtaGVpZ2h0LlxuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy52ZXJ0aWNhbCAmJlxuICAgICAgICAgICh0b0V4cHJBdXRvKHNjb3BlLCBzdHlsZVtcImNvbHVtbi13aWR0aFwiXSwgbnVsbCkgfHxcbiAgICAgICAgICAgIHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLWNvdW50XCJdLCBudWxsKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgICAgICAgIHRoaXMuaXNBdXRvSGVpZ2h0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghdG9wKSB7XG4gICAgICAgIHRvcCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCBib3R0b20sIGhlaWdodCkpO1xuICAgICAgfSBlbHNlIGlmICghaGVpZ2h0KSB7XG4gICAgICAgIGhlaWdodCA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCBib3R0b20sIHRvcCkpO1xuICAgICAgfSBlbHNlIGlmICghYm90dG9tKSB7XG4gICAgICAgIGJvdHRvbSA9IEV4cHJzLnN1YihzY29wZSwgcmVtYWlucywgRXhwcnMuYWRkKHNjb3BlLCB0b3AsIGhlaWdodCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNuYXAtaGVpZ2h0IGlzIGluaGVyaXRlZFxuICAgIGNvbnN0IHNuYXBIZWlnaHRWYWwgPVxuICAgICAgc3R5bGVbXCJzbmFwLWhlaWdodFwiXSB8fFxuICAgICAgKHRoaXMucGFyZW50SW5zdGFuY2UgPyB0aGlzLnBhcmVudEluc3RhbmNlLnN0eWxlW1wic25hcC1oZWlnaHRcIl0gOiBudWxsKTtcbiAgICBjb25zdCBzbmFwSGVpZ2h0ID0gdG9FeHByWmVybyhzY29wZSwgc25hcEhlaWdodFZhbCwgcGFyZW50V2lkdGgpO1xuICAgIHN0eWxlW1widG9wXCJdID0gbmV3IENzcy5FeHByKHRvcCk7XG4gICAgc3R5bGVbXCJtYXJnaW4tdG9wXCJdID0gbmV3IENzcy5FeHByKG1hcmdpblRvcCk7XG4gICAgc3R5bGVbXCJib3JkZXItdG9wLXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGJvcmRlclRvcFdpZHRoKTtcbiAgICBzdHlsZVtcInBhZGRpbmctdG9wXCJdID0gbmV3IENzcy5FeHByKHBhZGRpbmdUb3ApO1xuICAgIHN0eWxlW1wiaGVpZ2h0XCJdID0gbmV3IENzcy5FeHByKGhlaWdodCk7XG4gICAgc3R5bGVbXCJtYXgtaGVpZ2h0XCJdID0gbmV3IENzcy5FeHByKG1heEhlaWdodCA/IG1heEhlaWdodCA6IGhlaWdodCk7XG4gICAgc3R5bGVbXCJwYWRkaW5nLWJvdHRvbVwiXSA9IG5ldyBDc3MuRXhwcihwYWRkaW5nQm90dG9tKTtcbiAgICBzdHlsZVtcImJvcmRlci1ib3R0b20td2lkdGhcIl0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyQm90dG9tV2lkdGgpO1xuICAgIHN0eWxlW1wibWFyZ2luLWJvdHRvbVwiXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5Cb3R0b20pO1xuICAgIHN0eWxlW1wiYm90dG9tXCJdID0gbmV3IENzcy5FeHByKGJvdHRvbSk7XG4gICAgc3R5bGVbXCJzbmFwLWhlaWdodFwiXSA9IG5ldyBDc3MuRXhwcihzbmFwSGVpZ2h0KTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdENvbHVtbnMoKTogdm9pZCB7XG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VCb3guc2NvcGU7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHdpZHRoID0gdG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbdGhpcy52ZXJ0aWNhbCA/IFwiaGVpZ2h0XCIgOiBcIndpZHRoXCJdLFxuICAgICAgbnVsbCxcbiAgICApO1xuICAgIGxldCBjb2x1bW5XaWR0aCA9IHRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW1wiY29sdW1uLXdpZHRoXCJdLCB3aWR0aCk7XG4gICAgbGV0IGNvbHVtbkNvdW50ID0gdG9FeHByQXV0byhzY29wZSwgc3R5bGVbXCJjb2x1bW4tY291bnRcIl0sIG51bGwpO1xuICAgIGxldCBjb2x1bW5HYXAgPSB0b0V4cHJOb3JtYWwoc2NvcGUsIHN0eWxlW1wiY29sdW1uLWdhcFwiXSwgbnVsbCk7XG4gICAgaWYgKCFjb2x1bW5HYXApIHtcbiAgICAgIGNvbHVtbkdhcCA9IG5ldyBFeHBycy5OdW1lcmljKHNjb3BlLCAxLCBcImVtXCIpO1xuICAgIH1cbiAgICBpZiAoY29sdW1uV2lkdGggJiYgIWNvbHVtbkNvdW50KSB7XG4gICAgICBjb2x1bW5Db3VudCA9IG5ldyBFeHBycy5DYWxsKHNjb3BlLCBcImZsb29yXCIsIFtcbiAgICAgICAgRXhwcnMuZGl2KFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgd2lkdGgsIGNvbHVtbkdhcCksXG4gICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBjb2x1bW5XaWR0aCwgY29sdW1uR2FwKSxcbiAgICAgICAgKSxcbiAgICAgIF0pO1xuICAgICAgY29sdW1uQ291bnQgPSBuZXcgRXhwcnMuQ2FsbChzY29wZSwgXCJtYXhcIiwgW3Njb3BlLm9uZSwgY29sdW1uQ291bnRdKTtcbiAgICB9XG4gICAgaWYgKCFjb2x1bW5Db3VudCkge1xuICAgICAgY29sdW1uQ291bnQgPSBzY29wZS5vbmU7XG4gICAgfVxuICAgIGNvbHVtbldpZHRoID0gRXhwcnMuc3ViKFxuICAgICAgc2NvcGUsXG4gICAgICBFeHBycy5kaXYoc2NvcGUsIEV4cHJzLmFkZChzY29wZSwgd2lkdGgsIGNvbHVtbkdhcCksIGNvbHVtbkNvdW50KSxcbiAgICAgIGNvbHVtbkdhcCxcbiAgICApO1xuICAgIHN0eWxlW1wiY29sdW1uLXdpZHRoXCJdID0gbmV3IENzcy5FeHByKGNvbHVtbldpZHRoKTtcbiAgICBzdHlsZVtcImNvbHVtbi1jb3VudFwiXSA9IG5ldyBDc3MuRXhwcihjb2x1bW5Db3VudCk7XG4gICAgc3R5bGVbXCJjb2x1bW4tZ2FwXCJdID0gbmV3IENzcy5FeHByKGNvbHVtbkdhcCk7XG4gIH1cblxuICBwcml2YXRlIGRlcGVuZHMoXG4gICAgcHJvcE5hbWU6IHN0cmluZyxcbiAgICB2YWw6IEV4cHJzLlZhbCxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZVtwcm9wTmFtZV1cbiAgICAgIC50b0V4cHIodGhpcy5wYWdlQm94LnNjb3BlLCBudWxsKVxuICAgICAgLmRlcGVuZCh2YWwsIGNvbnRleHQpO1xuICB9XG5cbiAgcHJpdmF0ZSBpbml0KGNvbnRleHQ6IEV4cHJzLkNvbnRleHQpOiB2b2lkIHtcbiAgICAvLyBJZiBjb250ZXh0IGRvZXMgbm90IGltcGxlbWVudCBJbnN0YW5jZUhvbGRlciB3ZSB3b3VsZCBub3QgYmUgYWJsZSB0b1xuICAgIC8vIHJlc29sdmUgXCJwYXJ0aXRpb24ucHJvcGVydHlcIiBuYW1lcyBsYXRlci5cbiAgICBjb25zdCBob2xkZXIgPSBjb250ZXh0IGFzIEluc3RhbmNlSG9sZGVyO1xuICAgIGhvbGRlci5yZWdpc3Rlckluc3RhbmNlKHRoaXMucGFnZUJveC5rZXksIHRoaXMpO1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCByZWdpb25JZHMgPSB0aGlzLnBhcmVudEluc3RhbmNlXG4gICAgICA/IHRoaXMucGFyZW50SW5zdGFuY2UuZ2V0QWN0aXZlUmVnaW9ucyhjb250ZXh0KVxuICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGNhc2NNYXAgPSBDc3NDYXNjYWRlLmZsYXR0ZW5DYXNjYWRlZFN0eWxlKFxuICAgICAgdGhpcy5jYXNjYWRlZCxcbiAgICAgIGNvbnRleHQsXG4gICAgICByZWdpb25JZHMsXG4gICAgICBmYWxzZSxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICB0aGlzLnZlcnRpY2FsID0gQ3NzQ2FzY2FkZS5pc1ZlcnRpY2FsKFxuICAgICAgY2FzY01hcCxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLnBhcmVudEluc3RhbmNlID8gdGhpcy5wYXJlbnRJbnN0YW5jZS52ZXJ0aWNhbCA6IGZhbHNlLFxuICAgICk7XG4gICAgdGhpcy5ydGwgPSBDc3NDYXNjYWRlLmlzUnRsKFxuICAgICAgY2FzY01hcCxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLnBhcmVudEluc3RhbmNlID8gdGhpcy5wYXJlbnRJbnN0YW5jZS5ydGwgOiBmYWxzZSxcbiAgICApO1xuICAgIENzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwoXG4gICAgICBjYXNjTWFwLFxuICAgICAgc3R5bGUsXG4gICAgICB0aGlzLnZlcnRpY2FsLFxuICAgICAgdGhpcy5ydGwsXG4gICAgICAobmFtZSwgY2FzY1ZhbCkgPT4gY2FzY1ZhbC52YWx1ZSxcbiAgICApO1xuICAgIHRoaXMuYXV0b1dpZHRoID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHNjb3BlLFxuICAgICAgKCkgPT4gc2VsZi5jYWxjdWxhdGVkV2lkdGgsXG4gICAgICBcImF1dG9XaWR0aFwiLFxuICAgICk7XG4gICAgdGhpcy5hdXRvSGVpZ2h0ID0gbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgIHNjb3BlLFxuICAgICAgKCkgPT4gc2VsZi5jYWxjdWxhdGVkSGVpZ2h0LFxuICAgICAgXCJhdXRvSGVpZ2h0XCIsXG4gICAgKTtcbiAgICB0aGlzLmluaXRIb3Jpem9udGFsKCk7XG4gICAgdGhpcy5pbml0VmVydGljYWwoKTtcbiAgICB0aGlzLmluaXRDb2x1bW5zKCk7XG4gICAgdGhpcy5pbml0RW5hYmxlZCgpO1xuICB9XG5cbiAgZ2V0UHJvcChjb250ZXh0OiBFeHBycy5Db250ZXh0LCBuYW1lOiBzdHJpbmcpOiBDc3MuVmFsIHtcbiAgICBsZXQgdmFsID0gdGhpcy5zdHlsZVtuYW1lXTtcbiAgICBpZiAodmFsKSB7XG4gICAgICB2YWwgPSBDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyhjb250ZXh0LCB2YWwsIG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG5cbiAgZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIG5hbWU6IHN0cmluZyk6IG51bWJlciB7XG4gICAgbGV0IHZhbCA9IHRoaXMuc3R5bGVbbmFtZV07XG4gICAgaWYgKHZhbCkge1xuICAgICAgdmFsID0gQ3NzUGFyc2VyLmV2YWx1YXRlQ1NTVG9DU1MoY29udGV4dCwgdmFsLCBuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIENzcy50b051bWJlcih2YWwsIGNvbnRleHQpO1xuICB9XG5cbiAgZ2V0U3BlY2lhbChjb250ZXh0OiBFeHBycy5Db250ZXh0LCBuYW1lOiBzdHJpbmcpOiBDc3MuVmFsW10ge1xuICAgIGNvbnN0IGFyciA9IENzc0Nhc2NhZGUuZ2V0U3BlY2lhbCh0aGlzLmNhc2NhZGVkLCBuYW1lKTtcbiAgICBpZiAoYXJyKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXSBhcyBDc3MuVmFsW107XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2ID0gYXJyW2ldLmV2YWx1YXRlKGNvbnRleHQsIFwiXCIpO1xuICAgICAgICBpZiAodiAmJiB2ICE9PSBDc3MuZW1wdHkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBnZXRBY3RpdmVSZWdpb25zKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgYXJyID0gdGhpcy5nZXRTcGVjaWFsKGNvbnRleHQsIFwicmVnaW9uLWlkXCIpO1xuICAgIGlmIChhcnIpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdIGFzIHN0cmluZ1tdO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0W2ldID0gYXJyW2ldLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHByb3BhZ2F0ZVByb3BlcnR5KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICk6IHZvaWQge1xuICAgIHRoaXMucHJvcGFnYXRlUHJvcGVydHlUb0VsZW1lbnQoY29udGV4dCwgY29udGFpbmVyLmVsZW1lbnQsIG5hbWUsIGRvY0ZhY2VzKTtcbiAgfVxuXG4gIHByb3BhZ2F0ZVByb3BlcnR5VG9FbGVtZW50KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgbGV0IHZhbCA9IHRoaXMuZ2V0UHJvcChjb250ZXh0LCBuYW1lKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbC5pc051bWVyaWMoKSAmJlxuICAgICAgICBFeHBycy5uZWVkVW5pdENvbnZlcnNpb24oKHZhbCBhcyBDc3MuTnVtZXJpYykudW5pdClcbiAgICAgICkge1xuICAgICAgICB2YWwgPSBDc3MuY29udmVydE51bWVyaWNUb1B4KHZhbCwgY29udGV4dCk7XG4gICAgICB9XG4gICAgICBpZiAobmFtZSA9PT0gXCJmb250LWZhbWlseVwiKSB7XG4gICAgICAgIHZhbCA9IGRvY0ZhY2VzLmZpbHRlckZvbnRGYW1pbHkodmFsKTtcbiAgICAgIH1cbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgbmFtZSwgdmFsLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByb3BhZ2F0ZURlbGF5ZWRQcm9wZXJ0eShcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBkZWxheWVkSXRlbXM6IFZ0cmVlLkRlbGF5ZWRJdGVtW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHZhbCA9IHRoaXMuZ2V0UHJvcChjb250ZXh0LCBuYW1lKTtcbiAgICBpZiAodmFsKSB7XG4gICAgICBkZWxheWVkSXRlbXMucHVzaChuZXcgVnRyZWUuRGVsYXllZEl0ZW0oY29udGFpbmVyLmVsZW1lbnQsIG5hbWUsIHZhbCkpO1xuICAgIH1cbiAgfVxuXG4gIGFzc2lnbkxlZnRQb3NpdGlvbihjb250ZXh0OiBFeHBycy5Db250ZXh0LCBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik6IHZvaWQge1xuICAgIGNvbnN0IGxlZnQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImxlZnRcIik7XG4gICAgY29uc3QgbWFyZ2luTGVmdCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwibWFyZ2luLWxlZnRcIik7XG4gICAgY29uc3QgcGFkZGluZ0xlZnQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInBhZGRpbmctbGVmdFwiKTtcbiAgICBjb25zdCBib3JkZXJMZWZ0V2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImJvcmRlci1sZWZ0LXdpZHRoXCIpO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJ3aWR0aFwiKTtcbiAgICBjb250YWluZXIuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKGxlZnQsIHdpZHRoKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcIm1hcmdpbi1sZWZ0XCIsIGAke21hcmdpbkxlZnR9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcInBhZGRpbmctbGVmdFwiLCBgJHtwYWRkaW5nTGVmdH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgIFwiYm9yZGVyLWxlZnQtd2lkdGhcIixcbiAgICAgIGAke2JvcmRlckxlZnRXaWR0aH1weGAsXG4gICAgKTtcbiAgICBjb250YWluZXIubWFyZ2luTGVmdCA9IG1hcmdpbkxlZnQ7XG4gICAgY29udGFpbmVyLmJvcmRlckxlZnQgPSBib3JkZXJMZWZ0V2lkdGg7XG4gICAgY29udGFpbmVyLnBhZGRpbmdMZWZ0ID0gcGFkZGluZ0xlZnQ7XG4gIH1cblxuICBhc3NpZ25SaWdodFBvc2l0aW9uKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJyaWdodFwiKTtcbiAgICBjb25zdCBzbmFwV2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInNuYXAtaGVpZ2h0XCIpO1xuICAgIGNvbnN0IG1hcmdpblJpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXJnaW4tcmlnaHRcIik7XG4gICAgbGV0IHBhZGRpbmdSaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwicGFkZGluZy1yaWdodFwiKTtcbiAgICBjb25zdCBib3JkZXJSaWdodFdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgXCJib3JkZXItcmlnaHQtd2lkdGhcIixcbiAgICApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwibWFyZ2luLXJpZ2h0XCIsIGAke21hcmdpblJpZ2h0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJwYWRkaW5nLXJpZ2h0XCIsXG4gICAgICBgJHtwYWRkaW5nUmlnaHR9cHhgLFxuICAgICk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJib3JkZXItcmlnaHQtd2lkdGhcIixcbiAgICAgIGAke2JvcmRlclJpZ2h0V2lkdGh9cHhgLFxuICAgICk7XG4gICAgY29udGFpbmVyLm1hcmdpblJpZ2h0ID0gbWFyZ2luUmlnaHQ7XG4gICAgY29udGFpbmVyLmJvcmRlclJpZ2h0ID0gYm9yZGVyUmlnaHRXaWR0aDtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCAmJiBzbmFwV2lkdGggPiAwKSB7XG4gICAgICBjb25zdCB4cG9zID0gcmlnaHQgKyBjb250YWluZXIuZ2V0SW5zZXRSaWdodCgpO1xuICAgICAgY29uc3QgciA9IHhwb3MgLSBNYXRoLmZsb29yKHhwb3MgLyBzbmFwV2lkdGgpICogc25hcFdpZHRoO1xuICAgICAgaWYgKHIgPiAwKSB7XG4gICAgICAgIGNvbnRhaW5lci5zbmFwT2Zmc2V0WCA9IHNuYXBXaWR0aCAtIHI7XG4gICAgICAgIHBhZGRpbmdSaWdodCArPSBjb250YWluZXIuc25hcE9mZnNldFg7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5lci5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nUmlnaHQ7XG4gICAgY29udGFpbmVyLnNuYXBXaWR0aCA9IHNuYXBXaWR0aDtcbiAgfVxuXG4gIGFzc2lnblRvcFBvc2l0aW9uKGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogdm9pZCB7XG4gICAgY29uc3Qgc25hcEhlaWdodCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwic25hcC1oZWlnaHRcIik7XG4gICAgY29uc3QgdG9wID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJ0b3BcIik7XG4gICAgY29uc3QgbWFyZ2luVG9wID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXJnaW4tdG9wXCIpO1xuICAgIGxldCBwYWRkaW5nVG9wID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJwYWRkaW5nLXRvcFwiKTtcbiAgICBjb25zdCBib3JkZXJUb3BXaWR0aCA9IHRoaXMuZ2V0UHJvcEFzTnVtYmVyKGNvbnRleHQsIFwiYm9yZGVyLXRvcC13aWR0aFwiKTtcbiAgICBjb250YWluZXIudG9wID0gdG9wO1xuICAgIGNvbnRhaW5lci5tYXJnaW5Ub3AgPSBtYXJnaW5Ub3A7XG4gICAgY29udGFpbmVyLmJvcmRlclRvcCA9IGJvcmRlclRvcFdpZHRoO1xuICAgIGNvbnRhaW5lci5zbmFwSGVpZ2h0ID0gc25hcEhlaWdodDtcbiAgICBpZiAoIXRoaXMudmVydGljYWwgJiYgc25hcEhlaWdodCA+IDApIHtcbiAgICAgIGNvbnN0IHlwb3MgPSB0b3AgKyBjb250YWluZXIuZ2V0SW5zZXRUb3AoKTtcbiAgICAgIGNvbnN0IHIgPSB5cG9zIC0gTWF0aC5mbG9vcih5cG9zIC8gc25hcEhlaWdodCkgKiBzbmFwSGVpZ2h0O1xuICAgICAgaWYgKHIgPiAwKSB7XG4gICAgICAgIGNvbnRhaW5lci5zbmFwT2Zmc2V0WSA9IHNuYXBIZWlnaHQgLSByO1xuICAgICAgICBwYWRkaW5nVG9wICs9IGNvbnRhaW5lci5zbmFwT2Zmc2V0WTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29udGFpbmVyLnBhZGRpbmdUb3AgPSBwYWRkaW5nVG9wO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwidG9wXCIsIGAke3RvcH1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwibWFyZ2luLXRvcFwiLCBgJHttYXJnaW5Ub3B9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KGNvbnRhaW5lci5lbGVtZW50LCBcInBhZGRpbmctdG9wXCIsIGAke3BhZGRpbmdUb3B9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcImJvcmRlci10b3Atd2lkdGhcIixcbiAgICAgIGAke2JvcmRlclRvcFdpZHRofXB4YCxcbiAgICApO1xuICB9XG5cbiAgYXNzaWduQm90dG9tUG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgbWFyZ2luQm90dG9tID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXJnaW4tYm90dG9tXCIpO1xuICAgIGNvbnN0IHBhZGRpbmdCb3R0b20gPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcInBhZGRpbmctYm90dG9tXCIpO1xuICAgIGNvbnN0IGJvcmRlckJvdHRvbVdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXG4gICAgKTtcbiAgICBjb25zdCBoZWlnaHQgPVxuICAgICAgdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJoZWlnaHRcIikgLSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJtYXJnaW4tYm90dG9tXCIsXG4gICAgICBgJHttYXJnaW5Cb3R0b219cHhgLFxuICAgICk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgIGNvbnRhaW5lci5lbGVtZW50LFxuICAgICAgXCJwYWRkaW5nLWJvdHRvbVwiLFxuICAgICAgYCR7cGFkZGluZ0JvdHRvbX1weGAsXG4gICAgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgY29udGFpbmVyLmVsZW1lbnQsXG4gICAgICBcImJvcmRlci1ib3R0b20td2lkdGhcIixcbiAgICAgIGAke2JvcmRlckJvdHRvbVdpZHRofXB4YCxcbiAgICApO1xuICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQgLSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgY29udGFpbmVyLm1hcmdpbkJvdHRvbSA9IG1hcmdpbkJvdHRvbTtcbiAgICBjb250YWluZXIuYm9yZGVyQm90dG9tID0gYm9yZGVyQm90dG9tV2lkdGg7XG4gICAgY29udGFpbmVyLnBhZGRpbmdCb3R0b20gPSBwYWRkaW5nQm90dG9tO1xuICB9XG5cbiAgYXNzaWduQmVmb3JlUG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuYXNzaWduUmlnaHRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnblRvcFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgYXNzaWduQWZ0ZXJQb3NpdGlvbihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApOiB2b2lkIHtcbiAgICBpZiAodGhpcy52ZXJ0aWNhbCkge1xuICAgICAgdGhpcy5hc3NpZ25MZWZ0UG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25Cb3R0b21Qb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIGFzc2lnblN0YXJ0RW5kUG9zaXRpb24oXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuYXNzaWduVG9wUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIHRoaXMuYXNzaWduQm90dG9tUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25SaWdodFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB0aGlzLmFzc2lnbkxlZnRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgfVxuXG4gIHNpemVXaXRoTWF4SGVpZ2h0KGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyKTogdm9pZCB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJib3JkZXItdG9wLXdpZHRoXCIsIFwiMHB4XCIpO1xuICAgIGxldCBoZWlnaHQgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcIm1heC1oZWlnaHRcIik7XG4gICAgaWYgKHRoaXMuaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQpIHtcbiAgICAgIGNvbnRhaW5lci5zZXRWZXJ0aWNhbFBvc2l0aW9uKDAsIGhlaWdodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzaWduVG9wUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIGhlaWdodCAtPSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgICBjb250YWluZXIuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgfVxuICB9XG5cbiAgc2l6ZVdpdGhNYXhXaWR0aChjb250ZXh0OiBFeHBycy5Db250ZXh0LCBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcik6IHZvaWQge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwiYm9yZGVyLWxlZnQtd2lkdGhcIiwgXCIwcHhcIik7XG4gICAgbGV0IHdpZHRoID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJtYXgtd2lkdGhcIik7XG4gICAgaWYgKHRoaXMuaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoKSB7XG4gICAgICBjb250YWluZXIuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKDAsIHdpZHRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NpZ25SaWdodFBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB3aWR0aCAtPSBjb250YWluZXIuc25hcE9mZnNldFg7XG4gICAgICBjb250YWluZXIud2lkdGggPSB3aWR0aDtcbiAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5nZXRQcm9wQXNOdW1iZXIoY29udGV4dCwgXCJyaWdodFwiKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwicmlnaHRcIiwgYCR7cmlnaHR9cHhgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICB9XG4gIH1cblxuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMucGFyZW50SW5zdGFuY2UgfHwgdGhpcy52ZXJ0aWNhbCAhPSB0aGlzLnBhcmVudEluc3RhbmNlLnZlcnRpY2FsKSB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICBjb250YWluZXIuZWxlbWVudCxcbiAgICAgICAgXCJ3cml0aW5nLW1vZGVcIixcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA/IFwidmVydGljYWwtcmxcIiA6IFwiaG9yaXpvbnRhbC10YlwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGljYWwgPyB0aGlzLmlzQXV0b1dpZHRoIDogdGhpcy5pc0F1dG9IZWlnaHQpIHtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuc2l6ZVdpdGhNYXhXaWR0aChjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zaXplV2l0aE1heEhlaWdodChjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnbkJlZm9yZVBvc2l0aW9uKGNvbnRleHQsIGNvbnRhaW5lcik7XG4gICAgICB0aGlzLmFzc2lnbkFmdGVyUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGljYWwgPyB0aGlzLmlzQXV0b0hlaWdodCA6IHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XG4gICAgICAgIHRoaXMuc2l6ZVdpdGhNYXhIZWlnaHQoY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2l6ZVdpdGhNYXhXaWR0aChjb250ZXh0LCBjb250YWluZXIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFzc2lnblN0YXJ0RW5kUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzUHJlUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXNzUHJlUHJvcGVydGllc1tpXSxcbiAgICAgICAgZG9jRmFjZXMsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZmVyQ29udGVudFByb3BzKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3NDb250ZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eShcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXNzQ29udGVudFByb3BlcnRpZXNbaV0sXG4gICAgICAgIGRvY0ZhY2VzLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICB0cmFuc2ZlclNpbmdsVXJpQ29udGVudFByb3BzKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhc3NTaW5nbGVVcmlDb250ZW50UHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5wcm9wYWdhdGVQcm9wZXJ0eVRvRWxlbWVudChcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgcGFzc1NpbmdsZVVyaUNvbnRlbnRQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBkb2NGYWNlcyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjb2x1bW4gKG51bGwgd2hlbiBjb250ZW50IGNvbWVzIGZyb20gdGhlIGNvbnRlbnQgcHJvcGVydHkpXG4gICAqL1xuICBmaW5pc2hDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNvbHVtbjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgIHRoaXMuY2FsY3VsYXRlZFdpZHRoID1cbiAgICAgICAgY29udGFpbmVyLmNvbXB1dGVkQmxvY2tTaXplICsgY29udGFpbmVyLnNuYXBPZmZzZXRYO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZWRIZWlnaHQgPVxuICAgICAgICBjb250YWluZXIuY29tcHV0ZWRCbG9ja1NpemUgKyBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgfVxuICAgIGNvbnN0IHJlYWRIZWlnaHQgPSAodGhpcy52ZXJ0aWNhbCB8fCAhY29sdW1uKSAmJiB0aGlzLmlzQXV0b0hlaWdodDtcbiAgICBjb25zdCByZWFkV2lkdGggPSAoIXRoaXMudmVydGljYWwgfHwgIWNvbHVtbikgJiYgdGhpcy5pc0F1dG9XaWR0aDtcbiAgICBsZXQgYmJveDogVnRyZWUuQ2xpZW50UmVjdCA9IG51bGw7XG4gICAgaWYgKHJlYWRXaWR0aCB8fCByZWFkSGVpZ2h0KSB7XG4gICAgICBpZiAocmVhZFdpZHRoKSB7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29udGFpbmVyLmVsZW1lbnQsIFwid2lkdGhcIiwgXCJhdXRvXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWRIZWlnaHQpIHtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJoZWlnaHRcIiwgXCJhdXRvXCIpO1xuICAgICAgfVxuICAgICAgYmJveCA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q2xpZW50UmVjdChcbiAgICAgICAgY29sdW1uID8gY29sdW1uLmVsZW1lbnQgOiBjb250YWluZXIuZWxlbWVudCxcbiAgICAgICk7XG4gICAgICBpZiAocmVhZFdpZHRoKSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlZFdpZHRoID0gTWF0aC5jZWlsKFxuICAgICAgICAgIGJib3gucmlnaHQgLVxuICAgICAgICAgICAgYmJveC5sZWZ0IC1cbiAgICAgICAgICAgIGNvbnRhaW5lci5wYWRkaW5nTGVmdCAtXG4gICAgICAgICAgICBjb250YWluZXIuYm9yZGVyTGVmdCAtXG4gICAgICAgICAgICBjb250YWluZXIucGFkZGluZ1JpZ2h0IC1cbiAgICAgICAgICAgIGNvbnRhaW5lci5ib3JkZXJSaWdodCxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHRoaXMudmVydGljYWwpIHtcbiAgICAgICAgICB0aGlzLmNhbGN1bGF0ZWRXaWR0aCArPSBjb250YWluZXIuc25hcE9mZnNldFg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZWFkSGVpZ2h0KSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlZEhlaWdodCA9XG4gICAgICAgICAgYmJveC5ib3R0b20gLVxuICAgICAgICAgIGJib3gudG9wIC1cbiAgICAgICAgICBjb250YWluZXIucGFkZGluZ1RvcCAtXG4gICAgICAgICAgY29udGFpbmVyLmJvcmRlclRvcCAtXG4gICAgICAgICAgY29udGFpbmVyLnBhZGRpbmdCb3R0b20gLVxuICAgICAgICAgIGNvbnRhaW5lci5ib3JkZXJCb3R0b207XG4gICAgICAgIGlmICghdGhpcy52ZXJ0aWNhbCkge1xuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlZEhlaWdodCArPSBjb250YWluZXIuc25hcE9mZnNldFk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMudmVydGljYWwgPyB0aGlzLmlzQXV0b0hlaWdodCA6IHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgIHRoaXMuYXNzaWduU3RhcnRFbmRQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgICBpZiAodGhpcy52ZXJ0aWNhbCA/IHRoaXMuaXNBdXRvV2lkdGggOiB0aGlzLmlzQXV0b0hlaWdodCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyB0aGlzLmlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aFxuICAgICAgICAgIDogdGhpcy5pc1RvcERlcGVuZGVudE9uQXV0b0hlaWdodFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuYXNzaWduQmVmb3JlUG9zaXRpb24oY29udGV4dCwgY29udGFpbmVyKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXNzaWduQWZ0ZXJQb3NpdGlvbihjb250ZXh0LCBjb250YWluZXIpO1xuICAgIH1cbiAgICBpZiAoY29sdW1uQ291bnQgPiAxKSB7XG4gICAgICBjb25zdCBydWxlV2lkdGggPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImNvbHVtbi1ydWxlLXdpZHRoXCIpO1xuICAgICAgY29uc3QgcnVsZVN0eWxlID0gdGhpcy5nZXRQcm9wKGNvbnRleHQsIFwiY29sdW1uLXJ1bGUtc3R5bGVcIik7XG4gICAgICBjb25zdCBydWxlQ29sb3IgPSB0aGlzLmdldFByb3AoY29udGV4dCwgXCJjb2x1bW4tcnVsZS1jb2xvclwiKTtcbiAgICAgIGlmIChcbiAgICAgICAgcnVsZVdpZHRoID4gMCAmJlxuICAgICAgICBydWxlU3R5bGUgJiZcbiAgICAgICAgcnVsZVN0eWxlICE9IENzcy5pZGVudC5ub25lICYmXG4gICAgICAgIHJ1bGVDb2xvciAhPSBDc3MuaWRlbnQudHJhbnNwYXJlbnRcbiAgICAgICkge1xuICAgICAgICBjb25zdCBjb2x1bW5HYXAgPSB0aGlzLmdldFByb3BBc051bWJlcihjb250ZXh0LCBcImNvbHVtbi1nYXBcIik7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclNpemUgPSB0aGlzLnZlcnRpY2FsXG4gICAgICAgICAgPyBjb250YWluZXIuaGVpZ2h0XG4gICAgICAgICAgOiBjb250YWluZXIud2lkdGg7XG4gICAgICAgIGNvbnN0IGJvcmRlciA9IHRoaXMudmVydGljYWwgPyBcImJvcmRlci10b3BcIiA6IFwiYm9yZGVyLWxlZnRcIjtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBjb2x1bW5Db3VudDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgcG9zID1cbiAgICAgICAgICAgICgoY29udGFpbmVyU2l6ZSArIGNvbHVtbkdhcCkgKiBpKSAvIGNvbHVtbkNvdW50IC1cbiAgICAgICAgICAgIGNvbHVtbkdhcCAvIDIgK1xuICAgICAgICAgICAgY29udGFpbmVyLnBhZGRpbmdMZWZ0IC1cbiAgICAgICAgICAgIHJ1bGVXaWR0aCAvIDI7XG4gICAgICAgICAgY29uc3Qgc2l6ZSA9XG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ICsgY29udGFpbmVyLnBhZGRpbmdUb3AgKyBjb250YWluZXIucGFkZGluZ0JvdHRvbTtcbiAgICAgICAgICBjb25zdCBydWxlID0gY29udGFpbmVyLmVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocnVsZSwgXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocnVsZSwgdGhpcy52ZXJ0aWNhbCA/IFwibGVmdFwiIDogXCJ0b3BcIiwgXCIwcHhcIik7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShydWxlLCB0aGlzLnZlcnRpY2FsID8gXCJ0b3BcIiA6IFwibGVmdFwiLCBgJHtwb3N9cHhgKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJ1bGUsIHRoaXMudmVydGljYWwgPyBcImhlaWdodFwiIDogXCJ3aWR0aFwiLCBcIjBweFwiKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgcnVsZSxcbiAgICAgICAgICAgIHRoaXMudmVydGljYWwgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiLFxuICAgICAgICAgICAgYCR7c2l6ZX1weGAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgcnVsZSxcbiAgICAgICAgICAgIGJvcmRlcixcbiAgICAgICAgICAgIGAke3J1bGVXaWR0aH1weCAke3J1bGVTdHlsZS50b1N0cmluZygpfSR7XG4gICAgICAgICAgICAgIHJ1bGVDb2xvciA/IGAgJHtydWxlQ29sb3IudG9TdHJpbmcoKX1gIDogXCJcIlxuICAgICAgICAgICAgfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb250YWluZXIuZWxlbWVudC5pbnNlcnRCZWZvcmUocnVsZSwgY29udGFpbmVyLmVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXNzUG9zdFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucHJvcGFnYXRlUHJvcGVydHkoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgcGFzc1Bvc3RQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBkb2NGYWNlcyxcbiAgICAgICk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsYXllZFByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMucHJvcGFnYXRlRGVsYXllZFByb3BlcnR5KFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIGRlbGF5ZWRQcm9wZXJ0aWVzW2ldLFxuICAgICAgICBwYWdlLmRlbGF5ZWRJdGVtcyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBkb2NFbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuY2FzY2FkZWQ7XG4gICAgY29uc3Qgc3BlY2lmaWVkID0gdGhpcy5wYWdlQm94LnNwZWNpZmllZDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gc3BlY2lmaWVkKSB7XG4gICAgICBpZiAoQ3NzQ2FzY2FkZS5pc1Byb3BOYW1lKG5hbWUpKSB7XG4gICAgICAgIENzc0Nhc2NhZGUuc2V0UHJvcChzdHlsZSwgbmFtZSwgQ3NzQ2FzY2FkZS5nZXRQcm9wKHNwZWNpZmllZCwgbmFtZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wYWdlQm94LnBzZXVkb05hbWUgPT0gdXNlckFnZW50UGFnZU1hc3RlclBzZXVkbykge1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIGRvY0VsZW1lbnRTdHlsZSkge1xuICAgICAgICBpZiAobmFtZS5tYXRjaCgvXmJhY2tncm91bmQtLykgfHwgbmFtZSA9PSBcIndyaXRpbmctbW9kZVwiKSB7XG4gICAgICAgICAgc3R5bGVbbmFtZV0gPSBkb2NFbGVtZW50U3R5bGVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMucGFnZUJveC5wc2V1ZG9OYW1lID09IFwibGF5b3V0LWhvc3RcIikge1xuICAgICAgZm9yIChjb25zdCBuYW1lIGluIGRvY0VsZW1lbnRTdHlsZSkge1xuICAgICAgICBpZiAoIW5hbWUubWF0Y2goL15iYWNrZ3JvdW5kLS8pICYmIG5hbWUgIT0gXCJ3cml0aW5nLW1vZGVcIikge1xuICAgICAgICAgIHN0eWxlW25hbWVdID0gZG9jRWxlbWVudFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2NhZGUucHVzaFJ1bGUodGhpcy5wYWdlQm94LmNsYXNzZXMsIG51bGwsIHN0eWxlKTtcbiAgICBpZiAoc3R5bGVbXCJjb250ZW50XCJdKSB7XG4gICAgICBzdHlsZVtcImNvbnRlbnRcIl0gPSBzdHlsZVtcImNvbnRlbnRcIl0uZmlsdGVyVmFsdWUoXG4gICAgICAgIG5ldyBDc3NDYXNjYWRlLkNvbnRlbnRQcm9wVmlzaXRvcihcbiAgICAgICAgICBjYXNjYWRlLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgY2FzY2FkZS5jb3VudGVyUmVzb2x2ZXIsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmluaXQoY2FzY2FkZS5jb250ZXh0KTtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMucGFnZUJveC5jaGlsZHJlbikge1xuICAgICAgY29uc3QgY2hpbGRJbnN0YW5jZSA9IGNoaWxkLmNyZWF0ZUluc3RhbmNlKHRoaXMpO1xuICAgICAgY2hpbGRJbnN0YW5jZS5hcHBseUNhc2NhZGVBbmRJbml0KGNhc2NhZGUsIGRvY0VsZW1lbnRTdHlsZSk7XG4gICAgfVxuICAgIGNhc2NhZGUucG9wUnVsZSgpO1xuICB9XG5cbiAgcmVzb2x2ZUF1dG9TaXppbmcoY29udGV4dDogRXhwcnMuQ29udGV4dCk6IHZvaWQge1xuICAgIC8vIGFsbCBpbXBsaWNpdCBkZXBlbmRlbmNpZXMgYXJlIHNldCB1cCBhdCB0aGlzIHBvaW50XG4gICAgaWYgKHRoaXMuaXNBdXRvV2lkdGgpIHtcbiAgICAgIHRoaXMuaXNSaWdodERlcGVuZGVudE9uQXV0b1dpZHRoID1cbiAgICAgICAgdGhpcy5kZXBlbmRzKFwicmlnaHRcIiwgdGhpcy5hdXRvV2lkdGgsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcIm1hcmdpbi1yaWdodFwiLCB0aGlzLmF1dG9XaWR0aCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsIHRoaXMuYXV0b1dpZHRoLCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJwYWRkaW5nLXJpZ2h0XCIsIHRoaXMuYXV0b1dpZHRoLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaXNBdXRvSGVpZ2h0KSB7XG4gICAgICB0aGlzLmlzVG9wRGVwZW5kZW50T25BdXRvSGVpZ2h0ID1cbiAgICAgICAgdGhpcy5kZXBlbmRzKFwidG9wXCIsIHRoaXMuYXV0b0hlaWdodCwgY29udGV4dCkgfHxcbiAgICAgICAgdGhpcy5kZXBlbmRzKFwibWFyZ2luLXRvcFwiLCB0aGlzLmF1dG9IZWlnaHQsIGNvbnRleHQpIHx8XG4gICAgICAgIHRoaXMuZGVwZW5kcyhcImJvcmRlci10b3Atd2lkdGhcIiwgdGhpcy5hdXRvSGVpZ2h0LCBjb250ZXh0KSB8fFxuICAgICAgICB0aGlzLmRlcGVuZHMoXCJwYWRkaW5nLXRvcFwiLCB0aGlzLmF1dG9IZWlnaHQsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoaWxkSW5zdGFuY2Ugb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgY2hpbGRJbnN0YW5jZS5yZXNvbHZlQXV0b1NpemluZyhjb250ZXh0KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIHRoYXQgYXJlIHBhc3NlZCB0aHJvdWdoIGJlZm9yZSB0aGUgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3QgcGFzc1ByZVByb3BlcnRpZXMgPSBbXG4gIFwiYm9yZGVyLWxlZnQtc3R5bGVcIixcbiAgXCJib3JkZXItcmlnaHQtc3R5bGVcIixcbiAgXCJib3JkZXItdG9wLXN0eWxlXCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1zdHlsZVwiLFxuICBcImJvcmRlci1sZWZ0LWNvbG9yXCIsXG4gIFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXG4gIFwiYm9yZGVyLXRvcC1jb2xvclwiLFxuICBcImJvcmRlci1ib3R0b20tY29sb3JcIixcbiAgXCJvdXRsaW5lLXN0eWxlXCIsXG4gIFwib3V0bGluZS1jb2xvclwiLFxuICBcIm91dGxpbmUtd2lkdGhcIixcbiAgXCJvdmVyZmxvd1wiLFxuICBcInZpc2liaWxpdHlcIixcbl07XG5cbi8qKlxuICogUHJvcGVydGllcyB0aGF0IGFyZSBwYXNzZWQgdGhyb3VnaCBhZnRlciB0aGUgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3QgcGFzc1Bvc3RQcm9wZXJ0aWVzID0gW1xuICBcImJvcmRlci10b3AtbGVmdC1yYWRpdXNcIixcbiAgXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1wiLFxuICBcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLFxuICBcImJvcmRlci1pbWFnZS1zb3VyY2VcIixcbiAgXCJib3JkZXItaW1hZ2Utc2xpY2VcIixcbiAgXCJib3JkZXItaW1hZ2Utd2lkdGhcIixcbiAgXCJib3JkZXItaW1hZ2Utb3V0c2V0XCIsXG4gIFwiYm9yZGVyLWltYWdlLXJlcGVhdFwiLFxuICBcImJhY2tncm91bmQtYXR0YWNobWVudFwiLFxuICBcImJhY2tncm91bmQtY29sb3JcIixcbiAgXCJiYWNrZ3JvdW5kLWltYWdlXCIsXG4gIFwiYmFja2dyb3VuZC1yZXBlYXRcIixcbiAgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsXG4gIFwiYmFja2dyb3VuZC1jbGlwXCIsXG4gIFwiYmFja2dyb3VuZC1vcmlnaW5cIixcbiAgXCJiYWNrZ3JvdW5kLXNpemVcIixcbiAgXCJvcGFjaXR5XCIsXG4gIFwiei1pbmRleFwiLFxuICBcImJhY2tncm91bmQtYmxlbmQtbW9kZVwiLFxuICBcImlzb2xhdGlvblwiLFxuICBcIm1peC1ibGVuZC1tb2RlXCIsXG4gIFwiZmlsdGVyXCIsXG5dO1xuXG4vKipcbiAqIE9ubHkgcGFzc2VkIHdoZW4gdGhlcmUgaXMgY29udGVudCBhc3NpZ25lZCBieSB0aGUgY29udGVudCBwcm9wZXJ0eS5cbiAqL1xuZXhwb3J0IGNvbnN0IHBhc3NDb250ZW50UHJvcGVydGllcyA9IFtcbiAgXCJjb2xvclwiLFxuICBcImZvbnQtZmFtaWx5XCIsXG4gIFwiZm9udC1zaXplXCIsXG4gIFwiZm9udC1zdHlsZVwiLFxuICBcImZvbnQtd2VpZ2h0XCIsXG4gIFwiZm9udC12YXJpYW50XCIsXG4gIFwibGluZS1oZWlnaHRcIixcbiAgXCJsZXR0ZXItc3BhY2luZ1wiLFxuICBcInRleHQtYWxpZ25cIixcbiAgXCJ0ZXh0LWRlY29yYXRpb25cIixcbiAgXCJ0ZXh0LWluZGVudFwiLFxuICBcInRleHQtdHJhbnNmb3JtXCIsXG4gIFwid2hpdGUtc3BhY2VcIixcbiAgXCJ3b3JkLXNwYWNpbmdcIixcbiAgXCJmb250LWZlYXR1cmUtc2V0dGluZ3NcIixcbiAgXCJmb250LWtlcm5pbmdcIixcbiAgXCJmb250LXNpemUtYWRqdXN0XCIsXG4gIFwiZm9udC12YXJpYW50LWVhc3QtYXNpYW5cIixcbiAgXCJmb250LXN0cmV0Y2hcIixcbiAgXCJ0ZXh0LWRlY29yYXRpb24tY29sb3JcIixcbiAgXCJ0ZXh0LWRlY29yYXRpb24tbGluZVwiLFxuICBcInRleHQtZGVjb3JhdGlvbi1za2lwXCIsXG4gIFwidGV4dC1kZWNvcmF0aW9uLXN0eWxlXCIsXG4gIFwidGV4dC1lbXBoYXNpc1wiLFxuICBcInRleHQtZW1waGFzaXMtY29sb3JcIixcbiAgXCJ0ZXh0LWVtcGhhc2lzLXBvc2l0aW9uXCIsXG4gIFwidGV4dC1lbXBoYXNpcy1zdHlsZVwiLFxuICBcInRleHQtc2hhZG93XCIsXG4gIFwidGV4dC11bmRlcmxpbmUtcG9zaXRpb25cIixcbl07XG5cbmV4cG9ydCBjb25zdCBwYXNzU2luZ2xlVXJpQ29udGVudFByb3BlcnRpZXMgPSBbXG4gIFwid2lkdGhcIixcbiAgXCJoZWlnaHRcIixcbiAgXCJpbWFnZS1yZXNvbHV0aW9uXCIsXG4gIFwib2JqZWN0LWZpdFwiLFxuICBcIm9iamVjdC1wb3NpdGlvblwiLFxuXTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ZWRQcm9wZXJ0aWVzID0gW1widHJhbnNmb3JtXCIsIFwidHJhbnNmb3JtLW9yaWdpblwiXTtcblxuZXhwb3J0IGNvbnN0IHVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8gPSBcImJhY2tncm91bmQtaG9zdFwiO1xuXG5leHBvcnQgY2xhc3MgUm9vdFBhZ2VCb3hJbnN0YW5jZSBleHRlbmRzIFBhZ2VCb3hJbnN0YW5jZTxSb290UGFnZUJveD4ge1xuICBjb25zdHJ1Y3RvcihwYWdlQm94OiBSb290UGFnZUJveCkge1xuICAgIHN1cGVyKG51bGwsIHBhZ2VCb3gpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICBjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBkb2NFbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5hcHBseUNhc2NhZGVBbmRJbml0KGNhc2NhZGUsIGRvY0VsZW1lbnRTdHlsZSk7XG5cbiAgICAvLyBTb3J0IHBhZ2UgbWFzdGVycyB1c2luZyBvcmRlciBhbmQgc3BlY2lmaWNpdHkuXG4gICAgY29uc3QgcGFnZU1hc3RlcnMgPSB0aGlzLmNoaWxkcmVuO1xuICAgIChwYWdlTWFzdGVycyBhcyBQYWdlTWFzdGVySW5zdGFuY2VbXSkuc29ydChcbiAgICAgIChhLCBiKSA9PlxuICAgICAgICAoYi5wYWdlQm94IGFzIGFueSkuc3BlY2lmaWNpdHkgLSAoYS5wYWdlQm94IGFzIGFueSkuc3BlY2lmaWNpdHkgfHwgLy8gcHJvYmFibHkgY2F1c2UgTmFOXG4gICAgICAgIGEucGFnZUJveC5pbmRleCAtIGIucGFnZUJveC5pbmRleCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlTWFzdGVySW5zdGFuY2U8XG4gIFAgZXh0ZW5kcyBQYWdlTWFzdGVyID0gUGFnZU1hc3RlcjxQYWdlTWFzdGVySW5zdGFuY2U8YW55Pj5cbj4gZXh0ZW5kcyBQYWdlQm94SW5zdGFuY2U8UD4ge1xuICBwYWdlTWFzdGVySW5zdGFuY2U6IFBhZ2VNYXN0ZXJJbnN0YW5jZTtcblxuICBjb25zdHJ1Y3RvcihwYXJlbnRJbnN0YW5jZTogUGFnZUJveEluc3RhbmNlLCBwYWdlQm94OiBQKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VCb3gpO1xuICAgIHRoaXMucGFnZU1hc3Rlckluc3RhbmNlID0gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGJveFNwZWNpZmljRW5hYmxlZChlbmFibGVkOiBFeHBycy5WYWwpOiBFeHBycy5WYWwge1xuICAgIGNvbnN0IHBhZ2VNYXN0ZXIgPSB0aGlzLnBhZ2VCb3gucGFnZU1hc3RlcjtcbiAgICBpZiAocGFnZU1hc3Rlci5jb25kaXRpb24pIHtcbiAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQocGFnZU1hc3Rlci5zY29wZSwgZW5hYmxlZCwgcGFnZU1hc3Rlci5jb25kaXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gZW5hYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgYWZ0ZXIgbGF5b3V0IG9mIGNvbnRlbnRzIG9mIHRoZSBwYWdlIGhhcyBkb25lIHRvIGFkanVzdCB0aGUgb3ZlcmFsbFxuICAgKiBwYWdlIGxheW91dC4gT3ZlcnJpZGUgaW4gc3ViY2xhc3Nlcy5cbiAgICovXG4gIGFkanVzdFBhZ2VMYXlvdXQoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApIHt9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25Hcm91cEluc3RhbmNlIGV4dGVuZHMgUGFnZUJveEluc3RhbmNlPFBhcnRpdGlvbkdyb3VwPiB7XG4gIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlckluc3RhbmNlO1xuXG4gIGNvbnN0cnVjdG9yKHBhcmVudEluc3RhbmNlOiBQYWdlQm94SW5zdGFuY2UsIHBhZ2VCb3g6IFBhZ2VCb3gpIHtcbiAgICBzdXBlcihwYXJlbnRJbnN0YW5jZSwgcGFnZUJveCk7XG4gICAgdGhpcy5wYWdlTWFzdGVySW5zdGFuY2UgPSBwYXJlbnRJbnN0YW5jZS5wYWdlTWFzdGVySW5zdGFuY2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbkluc3RhbmNlPFxuICBQIGV4dGVuZHMgUGFydGl0aW9uID0gUGFydGl0aW9uPFBhcnRpdGlvbkluc3RhbmNlPGFueT4+XG4+IGV4dGVuZHMgUGFnZUJveEluc3RhbmNlPFA+IHtcbiAgcGFnZU1hc3Rlckluc3RhbmNlOiBQYWdlTWFzdGVySW5zdGFuY2U7XG5cbiAgY29uc3RydWN0b3IocGFyZW50SW5zdGFuY2U6IFBhZ2VCb3hJbnN0YW5jZSwgcGFnZUJveDogUCkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlQm94KTtcbiAgICB0aGlzLnBhZ2VNYXN0ZXJJbnN0YW5jZSA9IHBhcmVudEluc3RhbmNlLnBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgfVxuXG4gIHByb2Nlc3NQYXJ0aXRpb25MaXN0KFxuICAgIGVuYWJsZWQ6IEV4cHJzLlZhbCxcbiAgICBsaXN0VmFsOiBDc3MuVmFsLFxuICAgIGNvbmZsaWN0aW5nOiBib29sZWFuLFxuICApOiBFeHBycy5WYWwge1xuICAgIGxldCBsaXN0OiBDc3MuVmFsW10gPSBudWxsO1xuICAgIGlmIChsaXN0VmFsIGluc3RhbmNlb2YgQ3NzLklkZW50KSB7XG4gICAgICBsaXN0ID0gW2xpc3RWYWxdO1xuICAgIH1cbiAgICBpZiAobGlzdFZhbCBpbnN0YW5jZW9mIENzcy5Db21tYUxpc3QpIHtcbiAgICAgIGxpc3QgPSAobGlzdFZhbCBhcyBDc3MuQ29tbWFMaXN0KS52YWx1ZXM7XG4gICAgfVxuICAgIGlmIChsaXN0KSB7XG4gICAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAobGlzdFtpXSBpbnN0YW5jZW9mIENzcy5JZGVudCkge1xuICAgICAgICAgIGNvbnN0IHFuYW1lID0gRXhwcnMubWFrZVF1YWxpZmllZE5hbWUoXG4gICAgICAgICAgICAobGlzdFtpXSBhcyBDc3MuSWRlbnQpLm5hbWUsXG4gICAgICAgICAgICBcImVuYWJsZWRcIixcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCB0ZXJtOiBFeHBycy5WYWwgPSBuZXcgRXhwcnMuTmFtZWQoc2NvcGUsIHFuYW1lKTtcbiAgICAgICAgICBpZiAoY29uZmxpY3RpbmcpIHtcbiAgICAgICAgICAgIHRlcm0gPSBuZXcgRXhwcnMuTm90KHNjb3BlLCB0ZXJtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZW5hYmxlZCA9IEV4cHJzLmFuZChzY29wZSwgZW5hYmxlZCwgdGVybSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVuYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBib3hTcGVjaWZpY0VuYWJsZWQoZW5hYmxlZDogRXhwcnMuVmFsKTogRXhwcnMuVmFsIHtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgY29uc3QgcmVxdWlyZWQgPVxuICAgICAgdG9FeHByQm9vbChzY29wZSwgc3R5bGVbXCJyZXF1aXJlZFwiXSwgc2NvcGUuX2ZhbHNlKSAhPT0gc2NvcGUuX2ZhbHNlO1xuICAgIGlmIChyZXF1aXJlZCB8fCB0aGlzLmlzQXV0b0hlaWdodCkge1xuICAgICAgY29uc3QgZmxvd05hbWUgPSB0b0V4cHJJZGVudChzY29wZSwgc3R5bGVbXCJmbG93LWZyb21cIl0sIFwiYm9keVwiKTtcbiAgICAgIGNvbnN0IGhhc0NvbnRlbnQgPSBuZXcgRXhwcnMuQ2FsbChzY29wZSwgXCJoYXMtY29udGVudFwiLCBbZmxvd05hbWVdKTtcbiAgICAgIGVuYWJsZWQgPSBFeHBycy5hbmQoc2NvcGUsIGVuYWJsZWQsIGhhc0NvbnRlbnQpO1xuICAgIH1cbiAgICBlbmFibGVkID0gdGhpcy5wcm9jZXNzUGFydGl0aW9uTGlzdChcbiAgICAgIGVuYWJsZWQsXG4gICAgICBzdHlsZVtcInJlcXVpcmVkLXBhcnRpdGlvbnNcIl0sXG4gICAgICBmYWxzZSxcbiAgICApO1xuICAgIGVuYWJsZWQgPSB0aGlzLnByb2Nlc3NQYXJ0aXRpb25MaXN0KFxuICAgICAgZW5hYmxlZCxcbiAgICAgIHN0eWxlW1wiY29uZmxpY3RpbmctcGFydGl0aW9uc1wiXSxcbiAgICAgIHRydWUsXG4gICAgKTtcbiAgICBpZiAocmVxdWlyZWQpIHtcbiAgICAgIGNvbnN0IHBtRW5hYmxlZFZhbCA9IHRoaXMucGFnZU1hc3Rlckluc3RhbmNlLnN0eWxlW1wiZW5hYmxlZFwiXTtcbiAgICAgIGxldCBwbUVuYWJsZWQgPSBwbUVuYWJsZWRWYWxcbiAgICAgICAgPyBwbUVuYWJsZWRWYWwudG9FeHByKHNjb3BlLCBudWxsKVxuICAgICAgICA6IHNjb3BlLl90cnVlO1xuICAgICAgcG1FbmFibGVkID0gRXhwcnMuYW5kKHNjb3BlLCBwbUVuYWJsZWQsIGVuYWJsZWQpO1xuICAgICAgdGhpcy5wYWdlTWFzdGVySW5zdGFuY2Uuc3R5bGVbXCJlbmFibGVkXCJdID0gbmV3IENzcy5FeHByKHBtRW5hYmxlZCk7XG4gICAgfVxuICAgIHJldHVybiBlbmFibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcHJlcGFyZUNvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgZG9jRmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcyxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKTogdm9pZCB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShjb250YWluZXIuZWxlbWVudCwgXCJvdmVyZmxvd1wiLCBcImhpZGRlblwiKTsgLy8gZGVmYXVsdCB2YWx1ZVxuICAgIHN1cGVyLnByZXBhcmVDb250YWluZXIoY29udGV4dCwgY29udGFpbmVyLCBwYWdlLCBkb2NGYWNlcywgY2xpZW50TGF5b3V0KTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwYXJzaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgY2xhc3MgUGFnZUJveFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyByZWFkb25seSB0YXJnZXQ6IFBhZ2VCb3gsXG4gICAgcHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wb3J0YW50LFxuICAgICAgdGhpcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGludmFsaWRQcm9wZXJ0eVZhbHVlKG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZX1ZBTFVFICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQge1xuICAgIHRoaXMudGFyZ2V0LnNwZWNpZmllZFtuYW1lXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wb3J0YW50XG4gICAgICAgID8gQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFXG4gICAgICAgIDogQ3NzUGFyc2VyLlNQRUNJRklDSVRZX1NUWUxFX0lNUE9SVEFOVCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXJ0aXRpb25QYXJzZXJIYW5kbGVyIGV4dGVuZHMgUGFnZUJveFBhcnNlckhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHRhcmdldDogUGFydGl0aW9uLFxuICAgIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0YXJnZXQsIHZhbGlkYXRvclNldCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhcnRpdGlvbkdyb3VwUGFyc2VySGFuZGxlciBleHRlbmRzIFBhZ2VCb3hQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICB0YXJnZXQ6IFBhcnRpdGlvbkdyb3VwLFxuICAgIHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCB0YXJnZXQsIHZhbGlkYXRvclNldCk7XG4gICAgdGFyZ2V0LnNwZWNpZmllZFtcIndpZHRoXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmh1bmRyZWRQZXJjZW50LFxuICAgICAgMCxcbiAgICApO1xuICAgIHRhcmdldC5zcGVjaWZpZWRbXCJoZWlnaHRcIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaHVuZHJlZFBlcmNlbnQsXG4gICAgICAwLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvblJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYXJ0aXRpb24gPSBuZXcgUGFydGl0aW9uKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIG5hbWUsXG4gICAgICBwc2V1ZG9OYW1lLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIHRoaXMudGFyZ2V0LFxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBQYXJ0aXRpb25QYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMub3duZXIsXG4gICAgICBwYXJ0aXRpb24sXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICApO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoaGFuZGxlcik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhcnRpdGlvbkdyb3VwUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHBhcnRpdGlvbkdyb3VwID0gbmV3IFBhcnRpdGlvbkdyb3VwKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIG5hbWUsXG4gICAgICBwc2V1ZG9OYW1lLFxuICAgICAgY2xhc3NlcyxcbiAgICAgIHRoaXMudGFyZ2V0LFxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBQYXJ0aXRpb25Hcm91cFBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5vd25lcixcbiAgICAgIHBhcnRpdGlvbkdyb3VwLFxuICAgICAgdGhpcy52YWxpZGF0b3JTZXQsXG4gICAgKTtcbiAgICB0aGlzLm93bmVyLnB1c2hIYW5kbGVyKGhhbmRsZXIpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdlTWFzdGVyUGFyc2VySGFuZGxlciBleHRlbmRzIFBhZ2VCb3hQYXJzZXJIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICB0YXJnZXQ6IFBhZ2VNYXN0ZXIsXG4gICAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICApIHtcbiAgICBzdXBlcihzY29wZSwgb3duZXIsIHRhcmdldCwgdmFsaWRhdG9yU2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uUnVsZShcbiAgICBuYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIHBzZXVkb05hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgY2xhc3Nlczogc3RyaW5nW10sXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHBhcnRpdGlvbiA9IG5ldyBQYXJ0aXRpb24oXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgbmFtZSxcbiAgICAgIHBzZXVkb05hbWUsXG4gICAgICBjbGFzc2VzLFxuICAgICAgdGhpcy50YXJnZXQsXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhcnRpdGlvblBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgdGhpcy5vd25lcixcbiAgICAgIHBhcnRpdGlvbixcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICk7XG4gICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihoYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlKFxuICAgIG5hbWU6IHN0cmluZyB8IG51bGwsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBjbGFzc2VzOiBzdHJpbmdbXSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcGFydGl0aW9uR3JvdXAgPSBuZXcgUGFydGl0aW9uR3JvdXAoXG4gICAgICB0aGlzLnNjb3BlLFxuICAgICAgbmFtZSxcbiAgICAgIHBzZXVkb05hbWUsXG4gICAgICBjbGFzc2VzLFxuICAgICAgdGhpcy50YXJnZXQsXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhcnRpdGlvbkdyb3VwUGFyc2VySGFuZGxlcihcbiAgICAgIHRoaXMuc2NvcGUsXG4gICAgICB0aGlzLm93bmVyLFxuICAgICAgcGFydGl0aW9uR3JvdXAsXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICApO1xuICAgIHRoaXMub3duZXIucHVzaEhhbmRsZXIoaGFuZGxlcik7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IENzc1BhZ2UgLSBgQHBhZ2VgIHJ1bGUgKENTUyBQYWdlZCBNZWRpYSkgc3VwcG9ydCBodHRwczovL2RyYWZ0cy5jc3N3Zy5vcmcvY3NzLXBhZ2UvXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBDc3MgZnJvbSBcIi4vY3NzXCI7XG5pbXBvcnQgKiBhcyBDc3NDYXNjYWRlIGZyb20gXCIuL2Nzcy1jYXNjYWRlXCI7XG5pbXBvcnQgKiBhcyBDc3NQYXJzZXIgZnJvbSBcIi4vY3NzLXBhcnNlclwiO1xuaW1wb3J0ICogYXMgQ3NzVmFsaWRhdG9yIGZyb20gXCIuL2Nzcy12YWxpZGF0b3JcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIFBhZ2VNYXN0ZXIgZnJvbSBcIi4vcGFnZS1tYXN0ZXJcIjtcbmltcG9ydCAqIGFzIFNpemluZyBmcm9tIFwiLi9zaXppbmdcIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5cbi8qKlxuICogUmVzb2x2ZSBwYWdlIHByb2dyZXNzaW9uIGRpcmVjdGlvbiBmcm9tIHdyaXRpbmctbW9kZSBhbmQgZGlyZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhZ2VQcm9ncmVzc2lvbihcbiAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuKTogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB7XG4gIGxldCB3cml0aW5nTW9kZSA9IHN0eWxlW1wid3JpdGluZy1tb2RlXCJdO1xuICB3cml0aW5nTW9kZSA9IHdyaXRpbmdNb2RlICYmIHdyaXRpbmdNb2RlLnZhbHVlO1xuICBsZXQgZGlyZWN0aW9uID0gc3R5bGVbXCJkaXJlY3Rpb25cIl07XG4gIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiAmJiBkaXJlY3Rpb24udmFsdWU7XG4gIGlmIChcbiAgICB3cml0aW5nTW9kZSA9PT0gQ3NzLmlkZW50LnZlcnRpY2FsX2xyIHx8XG4gICAgKHdyaXRpbmdNb2RlICE9PSBDc3MuaWRlbnQudmVydGljYWxfcmwgJiYgZGlyZWN0aW9uICE9PSBDc3MuaWRlbnQucnRsKVxuICApIHtcbiAgICByZXR1cm4gQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbi5MVFI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24uUlRMO1xuICB9XG59XG5leHBvcnQgdHlwZSBQYWdlU2l6ZSA9IHtcbiAgd2lkdGg6IENzcy5OdW1lcmljO1xuICBoZWlnaHQ6IENzcy5OdW1lcmljO1xufTtcblxuLyoqXG4gKiBOYW1lZCBwYWdlIHNpemVzLlxuICovXG5leHBvcnQgY29uc3QgcGFnZVNpemVzOiB7IFtrZXk6IHN0cmluZ106IFBhZ2VTaXplIH0gPSB7XG4gIGE1OiB7IHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMTQ4LCBcIm1tXCIpLCBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygyMTAsIFwibW1cIikgfSxcbiAgYTQ6IHsgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygyMTAsIFwibW1cIiksIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDI5NywgXCJtbVwiKSB9LFxuICBhMzogeyB3aWR0aDogbmV3IENzcy5OdW1lcmljKDI5NywgXCJtbVwiKSwgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoNDIwLCBcIm1tXCIpIH0sXG4gIGI1OiB7IHdpZHRoOiBuZXcgQ3NzLk51bWVyaWMoMTc2LCBcIm1tXCIpLCBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygyNTAsIFwibW1cIikgfSxcbiAgYjQ6IHsgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygyNTAsIFwibW1cIiksIGhlaWdodDogbmV3IENzcy5OdW1lcmljKDM1MywgXCJtbVwiKSB9LFxuICBcImppcy1iNVwiOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygxODIsIFwibW1cIiksXG4gICAgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMjU3LCBcIm1tXCIpLFxuICB9LFxuICBcImppcy1iNFwiOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygyNTcsIFwibW1cIiksXG4gICAgaGVpZ2h0OiBuZXcgQ3NzLk51bWVyaWMoMzY0LCBcIm1tXCIpLFxuICB9LFxuICBsZXR0ZXI6IHtcbiAgICB3aWR0aDogbmV3IENzcy5OdW1lcmljKDguNSwgXCJpblwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygxMSwgXCJpblwiKSxcbiAgfSxcbiAgbGVnYWw6IHtcbiAgICB3aWR0aDogbmV3IENzcy5OdW1lcmljKDguNSwgXCJpblwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygxNCwgXCJpblwiKSxcbiAgfSxcbiAgbGVkZ2VyOiB7XG4gICAgd2lkdGg6IG5ldyBDc3MuTnVtZXJpYygxMSwgXCJpblwiKSxcbiAgICBoZWlnaHQ6IG5ldyBDc3MuTnVtZXJpYygxNywgXCJpblwiKSxcbiAgfSxcbn07XG5cbi8qKlxuICogRGVmYXVsdCB2YWx1ZSBmb3IgbGluZSB3aWR0aCBvZiBwcmludGVyIG1hcmtzXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJpbnRlck1hcmtMaW5lV2lkdGg6IENzcy5OdW1lcmljID0gbmV3IENzcy5OdW1lcmljKFxuICAwLjI0LFxuICBcInB0XCIsXG4pO1xuXG4vKipcbiAqIERlZmF1bHQgdmFsdWUgZm9yIGRpc3RhbmNlIGJldHdlZW4gYW4gZWRnZSBvZiB0aGUgcGFnZSBhbmQgcHJpbnRlciBtYXJrc1xuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFByaW50ZXJNYXJrT2Zmc2V0OiBDc3MuTnVtZXJpYyA9IG5ldyBDc3MuTnVtZXJpYygzLCBcIm1tXCIpO1xuXG4vKipcbiAqIERlZmF1bHQgdmFsdWUgZm9yIGxpbmUgbGVuZ3RoIG9mIHRoZSAoc2hvcnRlcikgbGluZSBvZiBhIGNyb3AgbWFyayBhbmQgdGhlXG4gKiBzaG9ydGVyIGxpbmUgb2YgYSBjcm9zcyBtYXJrXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoOiBDc3MuTnVtZXJpYyA9IG5ldyBDc3MuTnVtZXJpYyhcbiAgMTAsXG4gIFwibW1cIixcbik7XG5cbi8qKlxuICogRGVmYXVsdCB2YWx1ZSBmb3IgYmxlZWQgb2Zmc2V0ICg9IGRlZmF1bHRQcmludGVyTWFya09mZnNldCArXG4gKiBkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoKVxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEJsZWVkT2Zmc2V0OiBDc3MuTnVtZXJpYyA9IG5ldyBDc3MuTnVtZXJpYygzICsgMTAsIFwibW1cIik7XG5cbmV4cG9ydCB0eXBlIFBhZ2VTaXplQW5kQmxlZWQgPSB7XG4gIHdpZHRoOiBDc3MuTnVtZXJpYztcbiAgaGVpZ2h0OiBDc3MuTnVtZXJpYztcbiAgYmxlZWQ6IENzcy5OdW1lcmljO1xuICBibGVlZE9mZnNldDogQ3NzLk51bWVyaWM7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQoc3R5bGU6IHtcbiAgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWU7XG59KTogUGFnZVNpemVBbmRCbGVlZCB7XG4gIC8vIGRlZmF1bHQgdmFsdWUgKGZpdCB0byB2aWV3cG9ydCwgbm8gYmxlZWQpXG4gIGNvbnN0IHBhZ2VTaXplQW5kQmxlZWQ6IFBhZ2VTaXplQW5kQmxlZWQgPSB7XG4gICAgd2lkdGg6IENzcy5mdWxsV2lkdGgsXG4gICAgaGVpZ2h0OiBDc3MuZnVsbEhlaWdodCxcbiAgICBibGVlZDogQ3NzLm51bWVyaWNaZXJvLFxuICAgIGJsZWVkT2Zmc2V0OiBDc3MubnVtZXJpY1plcm8sXG4gIH07XG4gIGNvbnN0IHNpemU6IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlID0gc3R5bGVbXCJzaXplXCJdO1xuXG4gIGlmICghc2l6ZSB8fCBzaXplLnZhbHVlID09PSBDc3MuaWRlbnQuYXV0bykge1xuICAgIC8vIGlmIHNpemUgaXMgYXV0bywgZml0IHRvIHRoZSB2aWV3cG9ydCAodXNlIGRlZmF1bHQgdmFsdWUpXG4gIH0gZWxzZSB7XG4gICAgLyoqICF0eXBlIHshQ3NzLlZhbH0gKi9cbiAgICBjb25zdCB2YWx1ZSA9IHNpemUudmFsdWU7XG4gICAgbGV0IHZhbDE6IENzcy5WYWw7XG4gICAgbGV0IHZhbDI6IENzcy5WYWw7XG4gICAgaWYgKHZhbHVlLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgIHZhbDEgPSAodmFsdWUgYXMgQ3NzLlNwYWNlTGlzdCkudmFsdWVzWzBdO1xuICAgICAgdmFsMiA9ICh2YWx1ZSBhcyBDc3MuU3BhY2VMaXN0KS52YWx1ZXNbMV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbDEgPSB2YWx1ZTtcbiAgICAgIHZhbDIgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmFsMS5pc051bWVyaWMoKSkge1xuICAgICAgLy8gPGxlbmd0aD57MSwyfVxuICAgICAgcGFnZVNpemVBbmRCbGVlZC53aWR0aCA9IHZhbDEgYXMgQ3NzLk51bWVyaWM7XG4gICAgICBwYWdlU2l6ZUFuZEJsZWVkLmhlaWdodCA9ICh2YWwyIHx8IHZhbDEpIGFzIENzcy5OdW1lcmljO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyA8cGFnZS1zaXplPiB8fCBbIHBvcnRyYWl0IHwgbGFuZHNjYXBlIF1cbiAgICAgIGNvbnN0IHMgPVxuICAgICAgICAodmFsMSBhcyBhbnkpLm5hbWUgJiYgcGFnZVNpemVzWyh2YWwxIGFzIENzcy5JZGVudCkubmFtZS50b0xvd2VyQ2FzZSgpXTtcbiAgICAgIGlmICghcykge1xuICAgICAgICAvLyBwb3J0cmFpdCBvciBsYW5kc2NhcGUgaXMgc3BlY2lmaWVkIGFsb25lLiBmYWxsYmFjayB0byBmaXQgdG8gdGhlXG4gICAgICAgIC8vIHZpZXdwb3J0ICh1c2UgZGVmYXVsdCB2YWx1ZSlcbiAgICAgIH0gZWxzZSBpZiAodmFsMiAmJiB2YWwyID09PSBDc3MuaWRlbnQubGFuZHNjYXBlKSB7XG4gICAgICAgIC8vIHN3YXBcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC53aWR0aCA9IHMuaGVpZ2h0O1xuICAgICAgICBwYWdlU2l6ZUFuZEJsZWVkLmhlaWdodCA9IHMud2lkdGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyByZXR1cm4ge1xuICAgICAgICBwYWdlU2l6ZUFuZEJsZWVkLndpZHRoID0gcy53aWR0aDtcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC5oZWlnaHQgPSBzLmhlaWdodDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgbWFya3MgPSBzdHlsZVtcIm1hcmtzXCJdO1xuICBpZiAobWFya3MgJiYgbWFya3MudmFsdWUgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldCA9IGRlZmF1bHRCbGVlZE9mZnNldDtcbiAgfVxuICBjb25zdCBibGVlZCA9IHN0eWxlW1wiYmxlZWRcIl07XG4gIGlmICghYmxlZWQgfHwgYmxlZWQudmFsdWUgPT09IENzcy5pZGVudC5hdXRvKSB7XG4gICAgLy8gXCIoJ2F1dG8nIHZhbHVlKSBDb21wdXRlcyB0byA2cHQgaWYgbWFya3MgaGFzIGNyb3AgYW5kIHRvIHplcm9cbiAgICAvLyBvdGhlcndpc2UuXCIgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy1wYWdlLyN2YWxkZWYtcGFnZS1ibGVlZC1hdXRvXG4gICAgaWYgKG1hcmtzKSB7XG4gICAgICBsZXQgaGFzQ3JvcCA9IGZhbHNlO1xuICAgICAgaWYgKG1hcmtzLnZhbHVlLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgICAgaGFzQ3JvcCA9IChtYXJrcy52YWx1ZSBhcyBDc3MuU3BhY2VMaXN0KS52YWx1ZXMuc29tZShcbiAgICAgICAgICAodikgPT4gdiA9PT0gQ3NzLmlkZW50LmNyb3AsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNDcm9wID0gbWFya3MudmFsdWUgPT09IENzcy5pZGVudC5jcm9wO1xuICAgICAgfVxuICAgICAgaWYgKGhhc0Nyb3ApIHtcbiAgICAgICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZCA9IG5ldyBDc3MuTnVtZXJpYyg2LCBcInB0XCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChibGVlZC52YWx1ZSAmJiBibGVlZC52YWx1ZS5pc051bWVyaWMoKSkge1xuICAgIHBhZ2VTaXplQW5kQmxlZWQuYmxlZWQgPSBibGVlZC52YWx1ZSBhcyBDc3MuTnVtZXJpYztcbiAgfVxuICByZXR1cm4gcGFnZVNpemVBbmRCbGVlZDtcbn1cblxuZXhwb3J0IHR5cGUgRXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCA9IHtcbiAgcGFnZVdpZHRoOiBudW1iZXI7XG4gIHBhZ2VIZWlnaHQ6IG51bWJlcjtcbiAgYmxlZWQ6IG51bWJlcjtcbiAgYmxlZWRPZmZzZXQ6IG51bWJlcjtcbiAgY3JvcE9mZnNldDogbnVtYmVyO1xufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSBhY3R1YWwgcGFnZSB3aWR0aCwgaGVpZ2h0IGFuZCBibGVlZCBmcm9tIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlXG4gKiBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkKFxuICBwYWdlU2l6ZUFuZEJsZWVkOiBQYWdlU2l6ZUFuZEJsZWVkLFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuKTogRXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCB7XG4gIGNvbnN0IGV2YWx1YXRlZCA9IHt9IGFzIEV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQ7XG4gIGNvbnN0IGJsZWVkID1cbiAgICBwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkLm51bSAqXG4gICAgY29udGV4dC5xdWVyeVVuaXRTaXplKHBhZ2VTaXplQW5kQmxlZWQuYmxlZWQudW5pdCwgZmFsc2UpO1xuICBjb25zdCBibGVlZE9mZnNldCA9XG4gICAgcGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldC5udW0gKlxuICAgIGNvbnRleHQucXVlcnlVbml0U2l6ZShwYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0LnVuaXQsIGZhbHNlKTtcbiAgY29uc3QgY3JvcE9mZnNldCA9IGJsZWVkICsgYmxlZWRPZmZzZXQ7XG4gIGNvbnN0IHdpZHRoID0gcGFnZVNpemVBbmRCbGVlZC53aWR0aDtcbiAgaWYgKHdpZHRoID09PSBDc3MuZnVsbFdpZHRoKSB7XG4gICAgaWYgKGNvbnRleHQucHJlZi5kZWZhdWx0UGFwZXJTaXplKSB7XG4gICAgICBldmFsdWF0ZWQucGFnZVdpZHRoID1cbiAgICAgICAgY29udGV4dC5wcmVmLmRlZmF1bHRQYXBlclNpemUud2lkdGggKlxuICAgICAgICBjb250ZXh0LnF1ZXJ5VW5pdFNpemUoXCJweFwiLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV2YWx1YXRlZC5wYWdlV2lkdGggPVxuICAgICAgICAoY29udGV4dC5wcmVmLnNwcmVhZFZpZXdcbiAgICAgICAgICA/IE1hdGguZmxvb3IoY29udGV4dC52aWV3cG9ydFdpZHRoIC8gMikgLSBjb250ZXh0LnByZWYucGFnZUJvcmRlclxuICAgICAgICAgIDogY29udGV4dC52aWV3cG9ydFdpZHRoKSAtXG4gICAgICAgIGNyb3BPZmZzZXQgKiAyO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBldmFsdWF0ZWQucGFnZVdpZHRoID0gd2lkdGgubnVtICogY29udGV4dC5xdWVyeVVuaXRTaXplKHdpZHRoLnVuaXQsIGZhbHNlKTtcbiAgfVxuICBjb25zdCBoZWlnaHQgPSBwYWdlU2l6ZUFuZEJsZWVkLmhlaWdodDtcbiAgaWYgKGhlaWdodCA9PT0gQ3NzLmZ1bGxIZWlnaHQpIHtcbiAgICBpZiAoY29udGV4dC5wcmVmLmRlZmF1bHRQYXBlclNpemUpIHtcbiAgICAgIGV2YWx1YXRlZC5wYWdlSGVpZ2h0ID1cbiAgICAgICAgY29udGV4dC5wcmVmLmRlZmF1bHRQYXBlclNpemUuaGVpZ2h0ICpcbiAgICAgICAgY29udGV4dC5xdWVyeVVuaXRTaXplKFwicHhcIiwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBldmFsdWF0ZWQucGFnZUhlaWdodCA9IGNvbnRleHQudmlld3BvcnRIZWlnaHQgLSBjcm9wT2Zmc2V0ICogMjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZXZhbHVhdGVkLnBhZ2VIZWlnaHQgPVxuICAgICAgaGVpZ2h0Lm51bSAqIGNvbnRleHQucXVlcnlVbml0U2l6ZShoZWlnaHQudW5pdCwgZmFsc2UpO1xuICB9XG4gIGV2YWx1YXRlZC5ibGVlZCA9IGJsZWVkO1xuICBldmFsdWF0ZWQuYmxlZWRPZmZzZXQgPSBibGVlZE9mZnNldDtcbiAgZXZhbHVhdGVkLmNyb3BPZmZzZXQgPSBjcm9wT2Zmc2V0O1xuICByZXR1cm4gZXZhbHVhdGVkO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiAnc3ZnJyBlbGVtZW50IGZvciBhIHByaW50ZXIgbWFyay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVByaW50ZXJNYXJrU3ZnKFxuICBkb2M6IERvY3VtZW50LFxuICB3aWR0aDogbnVtYmVyLFxuICBoZWlnaHQ6IG51bWJlcixcbik6IEVsZW1lbnQge1xuICBjb25zdCBtYXJrID0gZG9jLmNyZWF0ZUVsZW1lbnROUyhCYXNlLk5TLlNWRywgXCJzdmdcIik7XG4gIG1hcmsuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGgpO1xuICBtYXJrLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLCBoZWlnaHQpO1xuICBtYXJrLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICByZXR1cm4gbWFyaztcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gU1ZHIGVsZW1lbnQgZm9yIGEgcHJpbnRlciBtYXJrIGxpbmUuXG4gKiBAcGFyYW0gZWxlbWVudFR5cGUgU3BlY2lmaWVzIHdoaWNoIHR5cGUgb2YgZWxlbWVudCB0byBjcmVhdGUuIERlZmF1bHQgdmFsdWVcbiAqICAgICBpcyBcInBvbHlsaW5lXCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoXG4gIGRvYzogRG9jdW1lbnQsXG4gIGxpbmVXaWR0aDogbnVtYmVyLFxuICBlbGVtZW50VHlwZT86IHN0cmluZyxcbik6IEVsZW1lbnQge1xuICBlbGVtZW50VHlwZSA9IGVsZW1lbnRUeXBlIHx8IFwicG9seWxpbmVcIjtcbiAgY29uc3QgbGluZSA9IGRvYy5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5TVkcsIGVsZW1lbnRUeXBlKTtcbiAgbGluZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIiwgXCJibGFja1wiKTtcbiAgbGluZS5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIiwgbGluZVdpZHRoKTtcbiAgbGluZS5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwibm9uZVwiKTtcbiAgcmV0dXJuIGxpbmU7XG59XG5cbi8qKlxuICogUG9zaXRpb24gb2YgYSBjb3JuZXIgbWFya1xuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gQ29ybmVyTWFya1Bvc2l0aW9uIHtcbiAgVE9QX0xFRlQgPSBcInRvcCBsZWZ0XCIsXG4gIFRPUF9SSUdIVCA9IFwidG9wIHJpZ2h0XCIsXG4gIEJPVFRPTV9MRUZUID0gXCJib3R0b20gbGVmdFwiLFxuICBCT1RUT01fUklHSFQgPSBcImJvdHRvbSByaWdodFwiLFxufVxuXG4vKipcbiAqIENyZWF0ZSBhIGNvcm5lciBtYXJrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29ybmVyTWFyayhcbiAgZG9jOiBEb2N1bWVudCxcbiAgcG9zaXRpb246IENvcm5lck1hcmtQb3NpdGlvbixcbiAgbGluZVdpZHRoOiBudW1iZXIsXG4gIGNyb3BNYXJrTGluZUxlbmd0aDogbnVtYmVyLFxuICBibGVlZDogbnVtYmVyLFxuICBvZmZzZXQ6IG51bWJlcixcbik6IEVsZW1lbnQge1xuICBsZXQgYmxlZWRNYXJrTGluZUxlbmd0aCA9IGNyb3BNYXJrTGluZUxlbmd0aDtcblxuICAvLyBibGVlZCBtYXJrIGxpbmUgc2hvdWxkIGJlIGxvbmdlciB0aGFuIGJsZWVkICsgMm1tXG4gIGlmIChibGVlZE1hcmtMaW5lTGVuZ3RoIDw9IGJsZWVkICsgMiAqIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJtbVwiXSkge1xuICAgIGJsZWVkTWFya0xpbmVMZW5ndGggPSBibGVlZCArIGNyb3BNYXJrTGluZUxlbmd0aCAvIDI7XG4gIH1cbiAgY29uc3QgbWF4TGluZUxlbmd0aCA9IE1hdGgubWF4KGNyb3BNYXJrTGluZUxlbmd0aCwgYmxlZWRNYXJrTGluZUxlbmd0aCk7XG4gIGNvbnN0IHN2Z1dpZHRoID0gYmxlZWQgKyBtYXhMaW5lTGVuZ3RoICsgbGluZVdpZHRoIC8gMjtcbiAgY29uc3QgbWFyayA9IGNyZWF0ZVByaW50ZXJNYXJrU3ZnKGRvYywgc3ZnV2lkdGgsIHN2Z1dpZHRoKTtcbiAgbGV0IHBvaW50czEgPSBbXG4gICAgWzAsIGJsZWVkICsgY3JvcE1hcmtMaW5lTGVuZ3RoXSxcbiAgICBbY3JvcE1hcmtMaW5lTGVuZ3RoLCBibGVlZCArIGNyb3BNYXJrTGluZUxlbmd0aF0sXG4gICAgW2Nyb3BNYXJrTGluZUxlbmd0aCwgYmxlZWQgKyBjcm9wTWFya0xpbmVMZW5ndGggLSBibGVlZE1hcmtMaW5lTGVuZ3RoXSxcbiAgXTtcblxuICAvLyByZWZsZWN0IHdpdGggcmVzcGVjdCB0byB5PXhcbiAgbGV0IHBvaW50czIgPSBwb2ludHMxLm1hcCgocCkgPT4gW3BbMV0sIHBbMF1dKTtcbiAgaWYgKFxuICAgIHBvc2l0aW9uID09PSBDb3JuZXJNYXJrUG9zaXRpb24uVE9QX1JJR0hUIHx8XG4gICAgcG9zaXRpb24gPT09IENvcm5lck1hcmtQb3NpdGlvbi5CT1RUT01fUklHSFRcbiAgKSB7XG4gICAgLy8gcmVmbGVjdCB3aXRoIHJlc3BlY3QgdG8gYSB2ZXJ0aWNhbCBheGlzXG4gICAgcG9pbnRzMSA9IHBvaW50czEubWFwKChwKSA9PiBbYmxlZWQgKyBtYXhMaW5lTGVuZ3RoIC0gcFswXSwgcFsxXV0pO1xuICAgIHBvaW50czIgPSBwb2ludHMyLm1hcCgocCkgPT4gW2JsZWVkICsgbWF4TGluZUxlbmd0aCAtIHBbMF0sIHBbMV1dKTtcbiAgfVxuICBpZiAoXG4gICAgcG9zaXRpb24gPT09IENvcm5lck1hcmtQb3NpdGlvbi5CT1RUT01fTEVGVCB8fFxuICAgIHBvc2l0aW9uID09PSBDb3JuZXJNYXJrUG9zaXRpb24uQk9UVE9NX1JJR0hUXG4gICkge1xuICAgIC8vIHJlZmxlY3Qgd2l0aCByZXNwZWN0IHRvIGEgdmVydGljYWwgYXhpc1xuICAgIHBvaW50czEgPSBwb2ludHMxLm1hcCgocCkgPT4gW3BbMF0sIGJsZWVkICsgbWF4TGluZUxlbmd0aCAtIHBbMV1dKTtcbiAgICBwb2ludHMyID0gcG9pbnRzMi5tYXAoKHApID0+IFtwWzBdLCBibGVlZCArIG1heExpbmVMZW5ndGggLSBwWzFdXSk7XG4gIH1cbiAgY29uc3QgbGluZTEgPSBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoZG9jLCBsaW5lV2lkdGgpO1xuICBsaW5lMS5zZXRBdHRyaWJ1dGUoXCJwb2ludHNcIiwgcG9pbnRzMS5tYXAoKHApID0+IHAuam9pbihcIixcIikpLmpvaW4oXCIgXCIpKTtcbiAgbWFyay5hcHBlbmRDaGlsZChsaW5lMSk7XG4gIGNvbnN0IGxpbmUyID0gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KGRvYywgbGluZVdpZHRoKTtcbiAgbGluZTIuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIHBvaW50czIubWFwKChwKSA9PiBwLmpvaW4oXCIsXCIpKS5qb2luKFwiIFwiKSk7XG4gIG1hcmsuYXBwZW5kQ2hpbGQobGluZTIpO1xuICBwb3NpdGlvbi5zcGxpdChcIiBcIikuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgIChtYXJrIGFzIGFueSkuc3R5bGVbc2lkZV0gPSBgJHtvZmZzZXR9cHhgO1xuICB9KTtcbiAgcmV0dXJuIG1hcms7XG59XG5cbi8qKlxuICogUG9zaXRpb24gb2YgYSBjcm9zcyBtYXJrXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBDcm9zc01hcmtQb3NpdGlvbiB7XG4gIFRPUCA9IFwidG9wXCIsXG4gIEJPVFRPTSA9IFwiYm90dG9tXCIsXG4gIExFRlQgPSBcImxlZnRcIixcbiAgUklHSFQgPSBcInJpZ2h0XCIsXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY3Jvc3MgbWFyay5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNyb3NzTWFyayhcbiAgZG9jOiBEb2N1bWVudCxcbiAgcG9zaXRpb246IENyb3NzTWFya1Bvc2l0aW9uLFxuICBsaW5lV2lkdGg6IG51bWJlcixcbiAgbGluZUxlbmd0aDogbnVtYmVyLFxuICBvZmZzZXQ6IG51bWJlcixcbik6IEVsZW1lbnQge1xuICBjb25zdCBsb25nTGluZUxlbmd0aCA9IGxpbmVMZW5ndGggKiAyO1xuICBsZXQgd2lkdGg6IG51bWJlcjtcbiAgbGV0IGhlaWdodDogbnVtYmVyO1xuICBpZiAoXG4gICAgcG9zaXRpb24gPT09IENyb3NzTWFya1Bvc2l0aW9uLlRPUCB8fFxuICAgIHBvc2l0aW9uID09PSBDcm9zc01hcmtQb3NpdGlvbi5CT1RUT01cbiAgKSB7XG4gICAgd2lkdGggPSBsb25nTGluZUxlbmd0aDtcbiAgICBoZWlnaHQgPSBsaW5lTGVuZ3RoO1xuICB9IGVsc2Uge1xuICAgIHdpZHRoID0gbGluZUxlbmd0aDtcbiAgICBoZWlnaHQgPSBsb25nTGluZUxlbmd0aDtcbiAgfVxuICBjb25zdCBtYXJrID0gY3JlYXRlUHJpbnRlck1hcmtTdmcoZG9jLCB3aWR0aCwgaGVpZ2h0KTtcbiAgY29uc3QgaG9yaXpvbnRhbExpbmUgPSBjcmVhdGVQcmludGVyTWFya0VsZW1lbnQoZG9jLCBsaW5lV2lkdGgpO1xuICBob3Jpem9udGFsTGluZS5zZXRBdHRyaWJ1dGUoXG4gICAgXCJwb2ludHNcIixcbiAgICBgMCwke2hlaWdodCAvIDJ9ICR7d2lkdGh9LCR7aGVpZ2h0IC8gMn1gLFxuICApO1xuICBtYXJrLmFwcGVuZENoaWxkKGhvcml6b250YWxMaW5lKTtcbiAgY29uc3QgdmVydGljYWxMaW5lID0gY3JlYXRlUHJpbnRlck1hcmtFbGVtZW50KGRvYywgbGluZVdpZHRoKTtcbiAgdmVydGljYWxMaW5lLnNldEF0dHJpYnV0ZShcInBvaW50c1wiLCBgJHt3aWR0aCAvIDJ9LDAgJHt3aWR0aCAvIDJ9LCR7aGVpZ2h0fWApO1xuICBtYXJrLmFwcGVuZENoaWxkKHZlcnRpY2FsTGluZSk7XG4gIGNvbnN0IGNpcmNsZSA9IGNyZWF0ZVByaW50ZXJNYXJrRWxlbWVudChkb2MsIGxpbmVXaWR0aCwgXCJjaXJjbGVcIik7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJjeFwiLCB3aWR0aCAvIDIpO1xuICBjaXJjbGUuc2V0QXR0cmlidXRlKFwiY3lcIiwgaGVpZ2h0IC8gMik7XG4gIGNpcmNsZS5zZXRBdHRyaWJ1dGUoXCJyXCIsIGxpbmVMZW5ndGggLyA0KTtcbiAgbWFyay5hcHBlbmRDaGlsZChjaXJjbGUpO1xuICBsZXQgb3Bwb3NpdGU6IENyb3NzTWFya1Bvc2l0aW9uO1xuICBzd2l0Y2ggKHBvc2l0aW9uKSB7XG4gICAgY2FzZSBDcm9zc01hcmtQb3NpdGlvbi5UT1A6XG4gICAgICBvcHBvc2l0ZSA9IENyb3NzTWFya1Bvc2l0aW9uLkJPVFRPTTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgQ3Jvc3NNYXJrUG9zaXRpb24uQk9UVE9NOlxuICAgICAgb3Bwb3NpdGUgPSBDcm9zc01hcmtQb3NpdGlvbi5UT1A7XG4gICAgICBicmVhaztcbiAgICBjYXNlIENyb3NzTWFya1Bvc2l0aW9uLkxFRlQ6XG4gICAgICBvcHBvc2l0ZSA9IENyb3NzTWFya1Bvc2l0aW9uLlJJR0hUO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBDcm9zc01hcmtQb3NpdGlvbi5SSUdIVDpcbiAgICAgIG9wcG9zaXRlID0gQ3Jvc3NNYXJrUG9zaXRpb24uTEVGVDtcbiAgICAgIGJyZWFrO1xuICB9XG4gIE9iamVjdC5rZXlzKENyb3NzTWFya1Bvc2l0aW9uKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCBzaWRlID0gQ3Jvc3NNYXJrUG9zaXRpb25ba2V5XTtcbiAgICBpZiAoc2lkZSA9PT0gcG9zaXRpb24pIHtcbiAgICAgIChtYXJrIGFzIGFueSkuc3R5bGVbc2lkZV0gPSBgJHtvZmZzZXR9cHhgO1xuICAgIH0gZWxzZSBpZiAoc2lkZSAhPT0gb3Bwb3NpdGUpIHtcbiAgICAgIChtYXJrIGFzIGFueSkuc3R5bGVbc2lkZV0gPSBcIjBcIjtcbiAgICAgIChtYXJrIGFzIGFueSkuc3R5bGVbYG1hcmdpbi0ke3NpZGV9YF0gPSBcImF1dG9cIjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWFyaztcbn1cblxuLyoqXG4gKiBBZGQgcHJpbnRlciBtYXJrcyB0byB0aGUgcGFnZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFByaW50ZXJNYXJrcyhcbiAgY2FzY2FkZWRQYWdlU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkOiBFdmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLFxuICBwYWdlOiBWdHJlZS5QYWdlLFxuICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuKTogdm9pZCB7XG4gIGxldCBjcm9wID0gZmFsc2U7XG4gIGxldCBjcm9zcyA9IGZhbHNlO1xuICBjb25zdCBtYXJrcyA9IGNhc2NhZGVkUGFnZVN0eWxlW1wibWFya3NcIl07XG4gIGlmIChtYXJrcykge1xuICAgIGNvbnN0IHZhbHVlID0gbWFya3MudmFsdWU7XG4gICAgaWYgKHZhbHVlLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgIHZhbHVlLnZhbHVlcy5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgIGlmICh2ID09PSBDc3MuaWRlbnQuY3JvcCkge1xuICAgICAgICAgIGNyb3AgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHYgPT09IENzcy5pZGVudC5jcm9zcykge1xuICAgICAgICAgIGNyb3NzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gQ3NzLmlkZW50LmNyb3ApIHtcbiAgICAgIGNyb3AgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IENzcy5pZGVudC5jcm9zcykge1xuICAgICAgY3Jvc3MgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoIWNyb3AgJiYgIWNyb3NzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lciA9IHBhZ2UuY29udGFpbmVyO1xuICBjb25zdCBkb2MgPSBjb250YWluZXIub3duZXJEb2N1bWVudCBhcyBEb2N1bWVudDtcbiAgQXNzZXJ0cy5hc3NlcnQoZG9jKTtcbiAgY29uc3QgYmxlZWQgPSBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkO1xuICBjb25zdCBsaW5lV2lkdGggPSBDc3MudG9OdW1iZXIoZGVmYXVsdFByaW50ZXJNYXJrTGluZVdpZHRoLCBjb250ZXh0KTtcbiAgY29uc3QgcHJpbnRlck1hcmtPZmZzZXQgPSBDc3MudG9OdW1iZXIoZGVmYXVsdFByaW50ZXJNYXJrT2Zmc2V0LCBjb250ZXh0KTtcbiAgY29uc3QgbGluZUxlbmd0aCA9IENzcy50b051bWJlcihkZWZhdWx0UHJpbnRlck1hcmtMaW5lTGVuZ3RoLCBjb250ZXh0KTtcblxuICBpZiAoYmxlZWQpIHtcbiAgICBjb25zdCBiZ2NvbG9yID0gY2FzY2FkZWRQYWdlU3R5bGVbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdO1xuICAgIGlmIChiZ2NvbG9yICYmIGJnY29sb3IudmFsdWUpIHtcbiAgICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmdjb2xvci52YWx1ZS5zdHJpbmdWYWx1ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNvcm5lciBtYXJrc1xuICBpZiAoY3JvcCkge1xuICAgIE9iamVjdC5rZXlzKENvcm5lck1hcmtQb3NpdGlvbikuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IENvcm5lck1hcmtQb3NpdGlvbltrZXldO1xuICAgICAgY29uc3QgbWFyayA9IGNyZWF0ZUNvcm5lck1hcmsoXG4gICAgICAgIGRvYyxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGxpbmVXaWR0aCxcbiAgICAgICAgbGluZUxlbmd0aCxcbiAgICAgICAgYmxlZWQsXG4gICAgICAgIHByaW50ZXJNYXJrT2Zmc2V0LFxuICAgICAgKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChtYXJrKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGNyb3NzIG1hcmtzXG4gIGlmIChjcm9zcykge1xuICAgIE9iamVjdC5rZXlzKENyb3NzTWFya1Bvc2l0aW9uKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gQ3Jvc3NNYXJrUG9zaXRpb25ba2V5XTtcbiAgICAgIGNvbnN0IG1hcmsgPSBjcmVhdGVDcm9zc01hcmsoXG4gICAgICAgIGRvYyxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGxpbmVXaWR0aCxcbiAgICAgICAgbGluZUxlbmd0aCxcbiAgICAgICAgcHJpbnRlck1hcmtPZmZzZXQsXG4gICAgICApO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1hcmspO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogUHJvcGVydGllcyB0cmFuc2ZlcmVkIGZyb20gdGhlIFBhZ2VSdWxlTWFzdGVyIHRvIHRoZSBQYWdlUnVsZVBhcnRpdGlvblxuICovXG5leHBvcnQgY29uc3QgcHJvcGVydGllc0FwcGxpZWRUb1BhcnRpdGlvbiA9ICgoKSA9PiB7XG4gIGNvbnN0IHNpZGVzID0gW1xuICAgIFwibGVmdFwiLFxuICAgIFwicmlnaHRcIixcbiAgICBcInRvcFwiLFxuICAgIFwiYm90dG9tXCIsXG4gICAgXCJiZWZvcmVcIixcbiAgICBcImFmdGVyXCIsXG4gICAgXCJzdGFydFwiLFxuICAgIFwiZW5kXCIsXG4gICAgXCJibG9jay1zdGFydFwiLFxuICAgIFwiYmxvY2stZW5kXCIsXG4gICAgXCJpbmxpbmUtc3RhcnRcIixcbiAgICBcImlubGluZS1lbmRcIixcbiAgXTtcbiAgY29uc3QgcHJvcHMgPSB7XG4gICAgd2lkdGg6IHRydWUsXG4gICAgaGVpZ2h0OiB0cnVlLFxuICAgIFwiYmxvY2stc2l6ZVwiOiB0cnVlLFxuICAgIFwiaW5saW5lLXNpemVcIjogdHJ1ZSxcbiAgICBtYXJnaW46IHRydWUsXG4gICAgcGFkZGluZzogdHJ1ZSxcbiAgICBib3JkZXI6IHRydWUsXG4gICAgb3V0bGluZTogdHJ1ZSxcbiAgICBcIm91dGxpbmUtd2lkdGhcIjogdHJ1ZSxcbiAgICBcIm91dGxpbmUtc3R5bGVcIjogdHJ1ZSxcbiAgICBcIm91dGxpbmUtY29sb3JcIjogdHJ1ZSxcbiAgfTtcbiAgc2lkZXMuZm9yRWFjaCgoc2lkZSkgPT4ge1xuICAgIHByb3BzW2BtYXJnaW4tJHtzaWRlfWBdID0gdHJ1ZTtcbiAgICBwcm9wc1tgcGFkZGluZy0ke3NpZGV9YF0gPSB0cnVlO1xuICAgIHByb3BzW2Bib3JkZXItJHtzaWRlfS13aWR0aGBdID0gdHJ1ZTtcbiAgICBwcm9wc1tgYm9yZGVyLSR7c2lkZX0tc3R5bGVgXSA9IHRydWU7XG4gICAgcHJvcHNbYGJvcmRlci0ke3NpZGV9LWNvbG9yYF0gPSB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHByb3BzO1xufSkoKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHBvc2l0aW9uIG9mIGEgbWFyZ2luIGJveCBhbG9uZyB0aGUgdmFyaWFibGUgZGltZW5zaW9uIG9mIHRoZSBwYWdlLlxuICogU1RBUlQgYW5kIEVORCBjYW4gYmUgaW50ZXJwcmV0ZWQgYXMgJ2lubGluZS1zdGFydCcgYW5kICdpbmxpbmUtZW5kJyBpblxuICogaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgd3JpdGluZyBtb2Rlcy4gRm9yIGV4YW1wbGUsIGZvciB0b3AgbWFyZ2luIGJveGVzXG4gKiAoQHRvcC1sZWZ0LWNvcm5lciwgQHRvcC1sZWZ0LCBAdG9wLWNlbnRlciwgQHRvcC1yaWdodCwgQHRvcC1yaWdodC1jb3JuZXIpLFxuICogQHRvcC1sZWZ0IGNvcnJlc3BvbmRzIHRvIFNUQVJULCBAdG9wLWNlbnRlciB0byBDRU5URVIsIGFuZCBAdG9wLXJpZ2h0IHRvIEVORC5cbiAqIFRoZSBjb3JuZXIgYm94ZXMgKEB0b3AtbGVmdC1jb3JuZXIgYW5kIEB0b3AtcmlnaHQtY29ybmVyKSBoYXZlIGEgJ251bGwnXG4gKiBwb3NpdGlvbi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBlbnVtIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbiB7XG4gIFNUQVJUID0gXCJzdGFydFwiLFxuICBDRU5URVIgPSBcImNlbnRlclwiLFxuICBFTkQgPSBcImVuZFwiLFxufVxuXG5leHBvcnQgdHlwZSBQYWdlTWFyZ2luQm94SW5mb3JtYXRpb24gPSB7XG4gIG9yZGVyOiBudW1iZXI7XG4gIGlzSW5Ub3BSb3c6IGJvb2xlYW47XG4gIGlzSW5Cb3R0b21Sb3c6IGJvb2xlYW47XG4gIGlzSW5MZWZ0Q29sdW1uOiBib29sZWFuO1xuICBpc0luUmlnaHRDb2x1bW46IGJvb2xlYW47XG4gIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uO1xufTtcblxuLyoqXG4gKiBQYWdlLW1hcmdpbiBib3hlcy5cbiAqIEBkaWN0XG4gKi9cbmV4cG9ydCBjb25zdCBwYWdlTWFyZ2luQm94ZXM6IHsgW2tleTogc3RyaW5nXTogUGFnZU1hcmdpbkJveEluZm9ybWF0aW9uIH0gPSB7XG4gIFwidG9wLWxlZnQtY29ybmVyXCI6IHtcbiAgICBvcmRlcjogMSxcbiAgICBpc0luVG9wUm93OiB0cnVlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwidG9wLWxlZnRcIjoge1xuICAgIG9yZGVyOiAyLFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJULFxuICB9LFxuICBcInRvcC1jZW50ZXJcIjoge1xuICAgIG9yZGVyOiAzLFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJ0b3AtcmlnaHRcIjoge1xuICAgIG9yZGVyOiA0LFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5ELFxuICB9LFxuICBcInRvcC1yaWdodC1jb3JuZXJcIjoge1xuICAgIG9yZGVyOiA1LFxuICAgIGlzSW5Ub3BSb3c6IHRydWUsXG4gICAgaXNJbkJvdHRvbVJvdzogZmFsc2UsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwicmlnaHQtdG9wXCI6IHtcbiAgICBvcmRlcjogNixcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiB0cnVlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjpcbiAgICAgIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVCxcbiAgfSxcbiAgXCJyaWdodC1taWRkbGVcIjoge1xuICAgIG9yZGVyOiA3LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJyaWdodC1ib3R0b21cIjoge1xuICAgIG9yZGVyOiA4LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiBmYWxzZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IHRydWUsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uRU5ELFxuICB9LFxuICBcImJvdHRvbS1yaWdodC1jb3JuZXJcIjoge1xuICAgIG9yZGVyOiA5LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogdHJ1ZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwiYm90dG9tLXJpZ2h0XCI6IHtcbiAgICBvcmRlcjogMTAsXG4gICAgaXNJblRvcFJvdzogZmFsc2UsXG4gICAgaXNJbkJvdHRvbVJvdzogdHJ1ZSxcbiAgICBpc0luTGVmdENvbHVtbjogZmFsc2UsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQsXG4gIH0sXG4gIFwiYm90dG9tLWNlbnRlclwiOiB7XG4gICAgb3JkZXI6IDExLFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJib3R0b20tbGVmdFwiOiB7XG4gICAgb3JkZXI6IDEyLFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IGZhbHNlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJULFxuICB9LFxuICBcImJvdHRvbS1sZWZ0LWNvcm5lclwiOiB7XG4gICAgb3JkZXI6IDEzLFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IHRydWUsXG4gICAgaXNJbkxlZnRDb2x1bW46IHRydWUsXG4gICAgaXNJblJpZ2h0Q29sdW1uOiBmYWxzZSxcbiAgICBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb246IG51bGwsXG4gIH0sXG4gIFwibGVmdC1ib3R0b21cIjoge1xuICAgIG9yZGVyOiAxNCxcbiAgICBpc0luVG9wUm93OiBmYWxzZSxcbiAgICBpc0luQm90dG9tUm93OiBmYWxzZSxcbiAgICBpc0luTGVmdENvbHVtbjogdHJ1ZSxcbiAgICBpc0luUmlnaHRDb2x1bW46IGZhbHNlLFxuICAgIHBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjogTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORCxcbiAgfSxcbiAgXCJsZWZ0LW1pZGRsZVwiOiB7XG4gICAgb3JkZXI6IDE1LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUixcbiAgfSxcbiAgXCJsZWZ0LXRvcFwiOiB7XG4gICAgb3JkZXI6IDE2LFxuICAgIGlzSW5Ub3BSb3c6IGZhbHNlLFxuICAgIGlzSW5Cb3R0b21Sb3c6IGZhbHNlLFxuICAgIGlzSW5MZWZ0Q29sdW1uOiB0cnVlLFxuICAgIGlzSW5SaWdodENvbHVtbjogZmFsc2UsXG4gICAgcG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uOlxuICAgICAgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJULFxuICB9LFxufTtcblxuLyoqXG4gKiBOYW1lcyBmb3IgcGFnZS1tYXJnaW4gYm94ZXMgb3JkZXIgaW4gdGhlIGRlZmF1bHQgcGFpbnRpbmcgb3JkZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdlTWFyZ2luQm94TmFtZXM6IHN0cmluZ1tdID0gKCgpID0+IHtcbiAgY29uc3QgYm94ZXMgPSBwYWdlTWFyZ2luQm94ZXM7XG4gIHJldHVybiBPYmplY3Qua2V5cyhib3hlcykuc29ydCgoYSwgYikgPT4gYm94ZXNbYV0ub3JkZXIgLSBib3hlc1tiXS5vcmRlcik7XG59KSgpO1xuXG4vKipcbiAqIEluZGljYXRlcyB0aGF0IHRoZSBwYWdlIG1hc3RlciBpcyBnZW5lcmF0ZWQgZm9yIGBAcGFnZWAgcnVsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUgPSBcInZpdmxpb3N0eWxlLXBhZ2UtcnVsZS1tYXN0ZXJcIjtcblxuLyoqXG4gKiBLZXkgZm9yIHByb3BlcnRpZXMgaW4gbWFyZ2luIGNvbnRleHRzLlxuICogU3R5bGVzIGluIG1hcmdpbiBjb250ZXh0cyBhcmUgc3RvcmVkIGluIHBhZ2VTdHlsZVtcIl9tYXJnaW5Cb3hlc1wiXVsobWFyZ2luXG4gKiBib3gncyBuYW1lKV0uXG4gKi9cbmV4cG9ydCBjb25zdCBtYXJnaW5Cb3hlc0tleTogc3RyaW5nID0gXCJfbWFyZ2luQm94ZXNcIjtcblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYWdlIG1hc3RlciBnZW5lcmF0ZWQgZm9yIGBAcGFnZWAgcnVsZXNcbiAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSBmb3IgYEBwYWdlYCBydWxlc1xuICovXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVNYXN0ZXIgZXh0ZW5kcyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXI8XG4gIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2Vcbj4ge1xuICBwcml2YXRlIGJvZHlQYXJ0aXRpb25LZXk6IHN0cmluZztcbiAgcHJpdmF0ZSBwYWdlTWFyZ2luQm94ZXMgPSB7fSBhcyB7XG4gICAgW2tleTogc3RyaW5nXTogUGFnZU1hcmdpbkJveFBhcnRpdGlvbjtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHBhcmVudDogUGFnZU1hc3Rlci5Sb290UGFnZUJveCxcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBudWxsLCBwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUsIFtdLCBwYXJlbnQsIG51bGwsIDApO1xuICAgIGNvbnN0IHBhZ2VTaXplID0gcmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQoc3R5bGUgYXMgYW55KTtcbiAgICBjb25zdCBwYXJ0aXRpb24gPSBuZXcgUGFnZVJ1bGVQYXJ0aXRpb24odGhpcy5zY29wZSwgdGhpcywgc3R5bGUsIHBhZ2VTaXplKTtcbiAgICB0aGlzLmJvZHlQYXJ0aXRpb25LZXkgPSBwYXJ0aXRpb24ua2V5O1xuICAgIHRoaXMuY3JlYXRlUGFnZU1hcmdpbkJveGVzKHN0eWxlKTtcbiAgICB0aGlzLmFwcGx5U3BlY2lmaWVkKHN0eWxlLCBwYWdlU2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIHBhZ2UtbWFyZ2luIGJveGVzXG4gICAqL1xuICBjcmVhdGVQYWdlTWFyZ2luQm94ZXMoc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKSB7XG4gICAgY29uc3QgbWFyZ2luQm94ZXNNYXAgPSBzdHlsZVttYXJnaW5Cb3hlc0tleV07XG4gICAgaWYgKG1hcmdpbkJveGVzTWFwKSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHBhZ2VNYXJnaW5Cb3hOYW1lcy5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgICAgIGlmIChtYXJnaW5Cb3hlc01hcFtuYW1lXSkge1xuICAgICAgICAgIHNlbGYucGFnZU1hcmdpbkJveGVzW25hbWVdID0gbmV3IFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb24oXG4gICAgICAgICAgICBzZWxmLnNjb3BlLFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBzdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgY2FzY2FkZWQgc3R5bGUgZm9yIGBAcGFnZWAgcnVsZXMgdG8gJ3NwZWNpZmllZCcgc3R5bGUgb2YgdGhpc1xuICAgKiBQYWdlQm94XG4gICAqL1xuICBwcml2YXRlIGFwcGx5U3BlY2lmaWVkKHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSwgcGFnZVNpemU6IFBhZ2VTaXplKSB7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJwb3NpdGlvblwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC5yZWxhdGl2ZSxcbiAgICAgIDAsXG4gICAgKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcIndpZHRoXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKHBhZ2VTaXplLndpZHRoLCAwKTtcbiAgICB0aGlzLnNwZWNpZmllZFtcImhlaWdodFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShwYWdlU2l6ZS5oZWlnaHQsIDApO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZSkge1xuICAgICAgaWYgKCFwcm9wZXJ0aWVzQXBwbGllZFRvUGFydGl0aW9uW25hbWVdICYmIG5hbWUgIT09IFwiYmFja2dyb3VuZC1jbGlwXCIpIHtcbiAgICAgICAgdGhpcy5zcGVjaWZpZWRbbmFtZV0gPSBzdHlsZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBjcmVhdGVJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSk6IFBhZ2VSdWxlTWFzdGVySW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYXJ0aXRpb24gcGxhY2VkIGluIGEgUGFnZVJ1bGVNYXN0ZXJcbiAqIEBwYXJhbSBzdHlsZSBDYXNjYWRlZCBzdHlsZSBmb3IgYEBwYWdlYCBydWxlc1xuICovXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVQYXJ0aXRpb24gZXh0ZW5kcyBQYWdlTWFzdGVyLlBhcnRpdGlvbjxcbiAgUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZVxuPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFyZW50OiBQYWdlUnVsZU1hc3RlcixcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTaXplOiBQYWdlU2l6ZSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG51bGwsIG51bGwsIFtdLCBwYXJlbnQpO1xuICAgIHRoaXMuc3BlY2lmaWVkW1wiei1pbmRleFwiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShuZXcgQ3NzLkludCgwKSwgMCk7XG4gICAgdGhpcy5hcHBseVNwZWNpZmllZChzdHlsZSk7XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgY2FzY2FkZWQgc3R5bGUgZm9yIGBAcGFnZWAgcnVsZXMgdG8gJ3NwZWNpZmllZCcgc3R5bGUgb2YgdGhpc1xuICAgKiBQYWdlQm94XG4gICAqL1xuICBwcml2YXRlIGFwcGx5U3BlY2lmaWVkKHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSkge1xuICAgIHRoaXMuc3BlY2lmaWVkW1wiZmxvdy1mcm9tXCJdID0gbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgQ3NzLmdldE5hbWUoXCJib2R5XCIpLFxuICAgICAgMCxcbiAgICApO1xuXG4gICAgLy8gVXNlIGFic29sdXRlIHBvc2l0aW9uaW5nIHNvIHRoYXQgdGhpcyBwYXJ0aXRpb24ncyBtYXJnaW5zIGRvbid0IGNvbGxhcHNlXG4gICAgLy8gd2l0aCBpdHMgcGFyZW50J3MgbWFyZ2luc1xuICAgIHRoaXMuc3BlY2lmaWVkW1wicG9zaXRpb25cIl0gPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICBDc3MuaWRlbnQuYWJzb2x1dGUsXG4gICAgICAwLFxuICAgICk7XG4gICAgdGhpcy5zcGVjaWZpZWRbXCJvdmVyZmxvd1wiXSA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShcbiAgICAgIENzcy5pZGVudC52aXNpYmxlLFxuICAgICAgMCxcbiAgICApO1xuICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wZXJ0aWVzQXBwbGllZFRvUGFydGl0aW9uKSB7XG4gICAgICBpZiAocHJvcGVydGllc0FwcGxpZWRUb1BhcnRpdGlvbi5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgICB0aGlzLnNwZWNpZmllZFtwcm9wXSA9IHN0eWxlW3Byb3BdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZShwYXJlbnRJbnN0YW5jZSwgdGhpcyk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXByZXNlbnQgYSBwYXJ0aXRpb24gZm9yIGEgcGFnZS1tYXJnaW4gYm94XG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlTWFyZ2luQm94UGFydGl0aW9uIGV4dGVuZHMgUGFnZU1hc3Rlci5QYXJ0aXRpb248XG4gIFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25JbnN0YW5jZVxuPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcGFyZW50OiBQYWdlUnVsZU1hc3RlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgbWFyZ2luQm94TmFtZTogc3RyaW5nLFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG51bGwsIG51bGwsIFtdLCBwYXJlbnQpO1xuICAgIHRoaXMuYXBwbHlTcGVjaWZpZWQoc3R5bGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZmVyIGNhc2NhZGVkIHN0eWxlIGZvciBgQHBhZ2VgIHJ1bGVzIHRvICdzcGVjaWZpZWQnIHN0eWxlIG9mIHRoaXNcbiAgICogUGFnZU1hcmdpbkJveFxuICAgKi9cbiAgYXBwbHlTcGVjaWZpZWQoc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlKSB7XG4gICAgY29uc3Qgb3duU3R5bGUgPSBzdHlsZVttYXJnaW5Cb3hlc0tleV1bXG4gICAgICB0aGlzLm1hcmdpbkJveE5hbWVcbiAgICBdIGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuXG4gICAgLy8gSW5oZXJpdCBwcm9wZXJ0aWVzIGluIHRoZSBwYWdlIGNvbnRleHQgdG8gdGhlIHBhZ2UtbWFyZ2luIGNvbnRleHRcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gc3R5bGUpIHtcbiAgICAgIGNvbnN0IHZhbCA9IHN0eWxlW3Byb3BdIGFzIENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlO1xuICAgICAgY29uc3Qgb3duVmFsID0gb3duU3R5bGVbcHJvcF0gYXMgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWU7XG4gICAgICBpZiAoXG4gICAgICAgIENzc0Nhc2NhZGUuaW5oZXJpdGVkUHJvcHNbcHJvcF0gfHxcbiAgICAgICAgKG93blZhbCAmJiBvd25WYWwudmFsdWUgPT09IENzcy5pZGVudC5pbmhlcml0KVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3BlY2lmaWVkW3Byb3BdID0gdmFsO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gb3duU3R5bGUpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3duU3R5bGUsIHByb3ApKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IG93blN0eWxlW3Byb3BdIGFzIENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlO1xuICAgICAgICBpZiAodmFsICYmIHZhbC52YWx1ZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgICAgICB0aGlzLnNwZWNpZmllZFtwcm9wXSA9IHZhbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGNyZWF0ZUluc3RhbmNlKHBhcmVudEluc3RhbmNlKTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiBuZXcgUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlKHBhcmVudEluc3RhbmNlLCB0aGlzKTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSW5zdGFuY2UgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCB0eXBlIFBhZ2VBcmVhRGltZW5zaW9uID0ge1xuICBib3JkZXJCb3hXaWR0aDogRXhwcnMuVmFsO1xuICBib3JkZXJCb3hIZWlnaHQ6IEV4cHJzLlZhbDtcbiAgbWFyZ2luVG9wOiBFeHBycy5WYWw7XG4gIG1hcmdpbkJvdHRvbTogRXhwcnMuVmFsO1xuICBtYXJnaW5MZWZ0OiBFeHBycy5WYWw7XG4gIG1hcmdpblJpZ2h0OiBFeHBycy5WYWw7XG59O1xuXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlPFxuICBQYWdlUnVsZU1hc3RlclxuPiB7XG4gIHBhZ2VBcmVhRGltZW5zaW9uOiBQYWdlQXJlYURpbWVuc2lvbiB8IG51bGwgPSBudWxsO1xuICBwYWdlTWFyZ2luQm94SW5zdGFuY2VzOiB7XG4gICAgW2tleTogc3RyaW5nXTogUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlO1xuICB9ID0ge307XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcGFyZW50SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIHBhZ2VSdWxlTWFzdGVyOiBQYWdlUnVsZU1hc3RlcixcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VSdWxlTWFzdGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UsXG4gICAgZG9jRWxlbWVudFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLmNhc2NhZGVkO1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBkb2NFbGVtZW50U3R5bGUpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jRWxlbWVudFN0eWxlLCBuYW1lKSkge1xuICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwid3JpdGluZy1tb2RlXCI6XG4gICAgICAgICAgY2FzZSBcImRpcmVjdGlvblwiOlxuICAgICAgICAgICAgc3R5bGVbbmFtZV0gPSBkb2NFbGVtZW50U3R5bGVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgc3VwZXIuYXBwbHlDYXNjYWRlQW5kSW5pdChjYXNjYWRlLCBkb2NFbGVtZW50U3R5bGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIHN0eWxlW1wibGVmdFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcIm1hcmdpbi1sZWZ0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm9yZGVyLWxlZnQtd2lkdGhcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJwYWRkaW5nLWxlZnRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJwYWRkaW5nLXJpZ2h0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm9yZGVyLXJpZ2h0LXdpZHRoXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wibWFyZ2luLXJpZ2h0XCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wicmlnaHRcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0VmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuXG4gICAgLy8gU2hpZnQgMXB4IHRvIHdvcmthcm91bmQgQ2hyb21lIHByaW50aW5nIGJ1Z1xuICAgIC8vIHN0eWxlW1widG9wXCJdID0gbmV3IENzcy5OdW1lcmljKC0xLCBcInB4XCIpO1xuICAgIHN0eWxlW1widG9wXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wibWFyZ2luLXRvcFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcImJvcmRlci10b3Atd2lkdGhcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJwYWRkaW5nLXRvcFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcInBhZGRpbmctYm90dG9tXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXSA9IENzcy5udW1lcmljWmVybztcbiAgICBzdHlsZVtcIm1hcmdpbi1ib3R0b21cIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgc3R5bGVbXCJib3R0b21cIl0gPSBDc3MubnVtZXJpY1plcm87XG4gIH1cblxuICBzZXRQYWdlQXJlYURpbWVuc2lvbihkaW06IFBhZ2VBcmVhRGltZW5zaW9uKSB7XG4gICAgdGhpcy5wYWdlQXJlYURpbWVuc2lvbiA9IGRpbTtcbiAgICBjb25zdCBzdHlsZSA9IHRoaXMuc3R5bGU7XG4gICAgc3R5bGVbXCJ3aWR0aFwiXSA9IG5ldyBDc3MuRXhwcihkaW0uYm9yZGVyQm94V2lkdGgpO1xuICAgIHN0eWxlW1wiaGVpZ2h0XCJdID0gbmV3IENzcy5FeHByKGRpbS5ib3JkZXJCb3hIZWlnaHQpO1xuICAgIHN0eWxlW1wicGFkZGluZy1sZWZ0XCJdID0gbmV3IENzcy5FeHByKGRpbS5tYXJnaW5MZWZ0KTtcbiAgICBzdHlsZVtcInBhZGRpbmctcmlnaHRcIl0gPSBuZXcgQ3NzLkV4cHIoZGltLm1hcmdpblJpZ2h0KTtcbiAgICBzdHlsZVtcInBhZGRpbmctdG9wXCJdID0gbmV3IENzcy5FeHByKGRpbS5tYXJnaW5Ub3ApO1xuICAgIHN0eWxlW1wicGFkZGluZy1ib3R0b21cIl0gPSBuZXcgQ3NzLkV4cHIoZGltLm1hcmdpbkJvdHRvbSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhZGp1c3RQYWdlTGF5b3V0KFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKSB7XG4gICAgY29uc3QgbWFyZ2luQm94Q29udGFpbmVycyA9IHBhZ2UubWFyZ2luQm94ZXM7XG4gICAgY29uc3QgaG9yaXpvbnRhbERpbWVuc2lvbnMgPSB7XG4gICAgICBzdGFydDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5tYXJnaW5MZWZ0LFxuICAgICAgZW5kOiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLm1hcmdpblJpZ2h0LFxuICAgICAgZXh0ZW50OiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLmJvcmRlckJveFdpZHRoLFxuICAgIH07XG4gICAgY29uc3QgdmVydGljYWxEaW1lbnNpb25zID0ge1xuICAgICAgc3RhcnQ6IHRoaXMucGFnZUFyZWFEaW1lbnNpb24ubWFyZ2luVG9wLFxuICAgICAgZW5kOiB0aGlzLnBhZ2VBcmVhRGltZW5zaW9uLm1hcmdpbkJvdHRvbSxcbiAgICAgIGV4dGVudDogdGhpcy5wYWdlQXJlYURpbWVuc2lvbi5ib3JkZXJCb3hIZWlnaHQsXG4gICAgfTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLnRvcCxcbiAgICAgIHRydWUsXG4gICAgICBob3Jpem9udGFsRGltZW5zaW9ucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLmJvdHRvbSxcbiAgICAgIHRydWUsXG4gICAgICBob3Jpem9udGFsRGltZW5zaW9ucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLmxlZnQsXG4gICAgICBmYWxzZSxcbiAgICAgIHZlcnRpY2FsRGltZW5zaW9ucyxcbiAgICAgIGNvbnRleHQsXG4gICAgICBjbGllbnRMYXlvdXQsXG4gICAgKTtcbiAgICB0aGlzLnNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBtYXJnaW5Cb3hDb250YWluZXJzLnJpZ2h0LFxuICAgICAgZmFsc2UsXG4gICAgICB2ZXJ0aWNhbERpbWVuc2lvbnMsXG4gICAgICBjb250ZXh0LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGFuZCBzZXQgbWFyZ2luIGJveGVzJyBzaXplcyBhbG9uZyB2YXJpYWJsZSBkaW1lbnNpb24gdXNpbmcgYW5cbiAgICogYWxnb3JpdGhtIHNwZWNpZmllZCBpbiBDU1MgUGFnZWQgTWVkaWEgc3BlYy5cbiAgICogQHBhcmFtIG1hcmdpbkJveENvbnRhaW5lcnMgQ29udGFpbmVycyBjb3JyZXNwb25kaW5nIHRvIHRoZSB0YXJnZXQgbWFyZ2luXG4gICAqICAgICBib3hlcyBpbiBvbmUgcGFnZSBlZGdlICh0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHQpXG4gICAqIEBwYXJhbSBpc0hvcml6b250YWwgSW5kaWNhdGVzIGlmIHRoZSB0YXJnZXQgbWFyZ2luIGJveGVzIGFyZSBvbiB0aGVcbiAgICogICAgIGhvcml6b250YWwgZWRnZSAodG9wIG9yIGJvdHRvbSkgb3Igbm90IChsZWZ0IG9yIHJpZ2h0KS5cbiAgICogQHBhcmFtIGRpbWVuc2lvbnMgUGFnZSBkaW1lbnNpb25zLiBzdGFydDogbWFyZ2luLWxlZnQgb3IgbWFyZ2luLXRvcC4gZW5kOlxuICAgKiAgICAgbWFyZ2luLXJpZ2h0IG9yIG1hcmdpbi1ib3R0b20uIGV4dGVudDogYm9yZGVyLWJveCB3aWR0aCBvciBoZWlnaHQgb2ZcbiAgICogICAgIHRoZSBwYWdlIGFyZWEgKD0gYXZhaWxhYmxlIHdpZHRoIG9yIGhlaWdodCBmb3IgdGhlIHRhcmdldCBtYXJnaW4gYm94ZXMpXG4gICAqL1xuICBwcml2YXRlIHNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgbWFyZ2luQm94Q29udGFpbmVyczogeyBba2V5OiBzdHJpbmddOiBWdHJlZS5Db250YWluZXIgfSxcbiAgICBpc0hvcml6b250YWw6IGJvb2xlYW4sXG4gICAgZGltZW5zaW9uczogeyBzdGFydDogRXhwcnMuVmFsOyBlbmQ6IEV4cHJzLlZhbDsgZXh0ZW50OiBFeHBycy5WYWwgfSxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApIHtcbiAgICBjb25zdCBTVEFSVCA9IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5TVEFSVDtcbiAgICBjb25zdCBDRU5URVIgPSBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uQ0VOVEVSO1xuICAgIGNvbnN0IEVORCA9IE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQ7XG5cbiAgICAvLyBwcmVwYXJlIHBhcmFtZXRlcnNcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBjb250YWluZXJzOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBWdHJlZS5Db250YWluZXI7XG4gICAgfSA9IHt9O1xuICAgIGNvbnN0IGJveEluc3RhbmNlczoge1xuICAgICAgW2tleSBpbiBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb25dPzogUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlO1xuICAgIH0gPSB7fTtcbiAgICBjb25zdCBib3hQYXJhbXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IE1hcmdpbkJveFNpemluZ1BhcmFtO1xuICAgIH0gPSB7fTtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gbWFyZ2luQm94Q29udGFpbmVycykge1xuICAgICAgY29uc3QgYm94SW5mbyA9IHBhZ2VNYXJnaW5Cb3hlc1tuYW1lXTtcbiAgICAgIGlmIChib3hJbmZvKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IG1hcmdpbkJveENvbnRhaW5lcnNbbmFtZV07XG4gICAgICAgIGNvbnN0IGJveEluc3RhbmNlID0gdGhpcy5wYWdlTWFyZ2luQm94SW5zdGFuY2VzW25hbWVdO1xuICAgICAgICBjb25zdCBib3hQYXJhbSA9IG5ldyBTaW5nbGVCb3hNYXJnaW5Cb3hTaXppbmdQYXJhbShcbiAgICAgICAgICBjb250YWluZXIsXG4gICAgICAgICAgKGJveEluc3RhbmNlIGFzIGFueSkuc3R5bGUsXG4gICAgICAgICAgaXNIb3Jpem9udGFsLFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIGNsaWVudExheW91dCxcbiAgICAgICAgKTtcbiAgICAgICAgY29udGFpbmVyc1tib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0gPSBjb250YWluZXI7XG4gICAgICAgIGJveEluc3RhbmNlc1tib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0gPSBib3hJbnN0YW5jZTtcbiAgICAgICAgYm94UGFyYW1zW2JveEluZm8ucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXSA9IGJveFBhcmFtO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRldGVybWluZSBzaXplc1xuICAgIGNvbnN0IGV2YWx1YXRlZERpbSA9IHtcbiAgICAgIHN0YXJ0OiBkaW1lbnNpb25zLnN0YXJ0LmV2YWx1YXRlKGNvbnRleHQpIGFzIG51bWJlcixcbiAgICAgIGVuZDogZGltZW5zaW9ucy5lbmQuZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyLFxuICAgICAgZXh0ZW50OiBkaW1lbnNpb25zLmV4dGVudC5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXIsXG4gICAgfTtcbiAgICBsZXQgc2l6ZXMgPSB0aGlzLmdldFNpemVzT2ZNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgICBib3hQYXJhbXMsXG4gICAgICBldmFsdWF0ZWREaW0uZXh0ZW50LFxuICAgICk7XG4gICAgbGV0IG5lZWRSZWNhbGN1bGF0ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLy8gQ2hlY2sgbWF4LXdpZHRoL21heC1oZWlnaHRcbiAgICBjb25zdCBtYXhPdXRlclNpemVzOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBudW1iZXI7XG4gICAgfSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGNvbnRhaW5lcnMpLmZvckVhY2goKG4pID0+IHtcbiAgICAgIGNvbnN0IG5hbWUgPSBuIGFzIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbjtcbiAgICAgIGNvbnN0IG1heFNpemUgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBib3hJbnN0YW5jZXNbbmFtZV0uc3R5bGVbaXNIb3Jpem9udGFsID8gXCJtYXgtd2lkdGhcIiA6IFwibWF4LWhlaWdodFwiXSxcbiAgICAgICAgZGltZW5zaW9ucy5leHRlbnQsXG4gICAgICApO1xuICAgICAgaWYgKG1heFNpemUpIHtcbiAgICAgICAgY29uc3QgZXZhbHVhdGVkTWF4U2l6ZSA9IG1heFNpemUuZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyO1xuICAgICAgICBpZiAoc2l6ZXNbbmFtZV0gPiBldmFsdWF0ZWRNYXhTaXplKSB7XG4gICAgICAgICAgY29uc3QgcCA9IChib3hQYXJhbXNbbmFtZV0gPSBuZXcgRml4ZWRTaXplTWFyZ2luQm94U2l6aW5nUGFyYW0oXG4gICAgICAgICAgICBjb250YWluZXJzW25hbWVdLFxuICAgICAgICAgICAgYm94SW5zdGFuY2VzW25hbWVdLnN0eWxlLFxuICAgICAgICAgICAgaXNIb3Jpem9udGFsLFxuICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICBjbGllbnRMYXlvdXQsXG4gICAgICAgICAgICBldmFsdWF0ZWRNYXhTaXplLFxuICAgICAgICAgICkpO1xuICAgICAgICAgIG1heE91dGVyU2l6ZXNbbmFtZV0gPSBwLmdldE91dGVyU2l6ZSgpO1xuICAgICAgICAgIG5lZWRSZWNhbGN1bGF0ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAobmVlZFJlY2FsY3VsYXRlKSB7XG4gICAgICBzaXplcyA9IHRoaXMuZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbihcbiAgICAgICAgYm94UGFyYW1zLFxuICAgICAgICBldmFsdWF0ZWREaW0uZXh0ZW50LFxuICAgICAgKTtcbiAgICAgIG5lZWRSZWNhbGN1bGF0ZSA9IGZhbHNlO1xuICAgICAgW1NUQVJULCBDRU5URVIsIEVORF0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBzaXplc1tuYW1lXSA9IG1heE91dGVyU2l6ZXNbbmFtZV0gfHwgc2l6ZXNbbmFtZV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBtaW4td2lkdGgvbWluLWhlaWdodFxuICAgIGNvbnN0IG1pbk91dGVyU2l6ZXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IG51bWJlcjtcbiAgICB9ID0ge307XG4gICAgT2JqZWN0LmtleXMoY29udGFpbmVycykuZm9yRWFjaCgobikgPT4ge1xuICAgICAgY29uc3QgbmFtZSA9IG4gYXMgTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uO1xuICAgICAgY29uc3QgbWluU2l6ZSA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGJveEluc3RhbmNlc1tuYW1lXS5zdHlsZVtpc0hvcml6b250YWwgPyBcIm1pbi13aWR0aFwiIDogXCJtaW4taGVpZ2h0XCJdLFxuICAgICAgICBkaW1lbnNpb25zLmV4dGVudCxcbiAgICAgICk7XG4gICAgICBpZiAobWluU2l6ZSkge1xuICAgICAgICBjb25zdCBldmFsdWF0ZWRNaW5TaXplID0gbWluU2l6ZS5ldmFsdWF0ZShjb250ZXh0KSBhcyBudW1iZXI7XG4gICAgICAgIGlmIChzaXplc1tuYW1lXSA8IGV2YWx1YXRlZE1pblNpemUpIHtcbiAgICAgICAgICBjb25zdCBwID0gKGJveFBhcmFtc1tuYW1lXSA9IG5ldyBGaXhlZFNpemVNYXJnaW5Cb3hTaXppbmdQYXJhbShcbiAgICAgICAgICAgIGNvbnRhaW5lcnNbbmFtZV0sXG4gICAgICAgICAgICBib3hJbnN0YW5jZXNbbmFtZV0uc3R5bGUsXG4gICAgICAgICAgICBpc0hvcml6b250YWwsXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIGNsaWVudExheW91dCxcbiAgICAgICAgICAgIGV2YWx1YXRlZE1pblNpemUsXG4gICAgICAgICAgKSk7XG4gICAgICAgICAgbWluT3V0ZXJTaXplc1tuYW1lXSA9IHAuZ2V0T3V0ZXJTaXplKCk7XG4gICAgICAgICAgbmVlZFJlY2FsY3VsYXRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChuZWVkUmVjYWxjdWxhdGUpIHtcbiAgICAgIHNpemVzID0gdGhpcy5nZXRTaXplc09mTWFyZ2luQm94ZXNBbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgICBib3hQYXJhbXMsXG4gICAgICAgIGV2YWx1YXRlZERpbS5leHRlbnQsXG4gICAgICApO1xuICAgICAgW1NUQVJULCBDRU5URVIsIEVORF0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBzaXplc1tuYW1lXSA9IG1pbk91dGVyU2l6ZXNbbmFtZV0gfHwgc2l6ZXNbbmFtZV07XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBzZXQgc2l6ZXNcbiAgICBjb25zdCBlbmRFZGdlID0gZXZhbHVhdGVkRGltLnN0YXJ0ICsgZXZhbHVhdGVkRGltLmV4dGVudDtcbiAgICBjb25zdCBzdGFydEVuZFN1bSA9XG4gICAgICBldmFsdWF0ZWREaW0uc3RhcnQgKyAoZXZhbHVhdGVkRGltLnN0YXJ0ICsgZXZhbHVhdGVkRGltLmV4dGVudCk7XG4gICAgW1NUQVJULCBDRU5URVIsIEVORF0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgY29uc3Qgb3V0ZXJTaXplID0gc2l6ZXNbbmFtZV07XG4gICAgICBpZiAob3V0ZXJTaXplKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lcnNbbmFtZV07XG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICBjYXNlIFNUQVJUOlxuICAgICAgICAgICAgb2Zmc2V0ID0gaXNIb3Jpem9udGFsID8gY29udGFpbmVyLmxlZnQgOiBjb250YWluZXIudG9wO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBDRU5URVI6XG4gICAgICAgICAgICBvZmZzZXQgPSAoc3RhcnRFbmRTdW0gLSBvdXRlclNpemUpIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRU5EOlxuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kRWRnZSAtIG91dGVyU2l6ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0hvcml6b250YWwpIHtcbiAgICAgICAgICBjb250YWluZXIuc2V0SG9yaXpvbnRhbFBvc2l0aW9uKFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgb3V0ZXJTaXplIC0gY29udGFpbmVyLmdldEluc2V0TGVmdCgpIC0gY29udGFpbmVyLmdldEluc2V0UmlnaHQoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRhaW5lci5zZXRWZXJ0aWNhbFBvc2l0aW9uKFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgb3V0ZXJTaXplIC0gY29udGFpbmVyLmdldEluc2V0VG9wKCkgLSBjb250YWluZXIuZ2V0SW5zZXRCb3R0b20oKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldFNpemVzT2ZNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgYm94UGFyYW1zOiB7XG4gICAgICBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBNYXJnaW5Cb3hTaXppbmdQYXJhbTtcbiAgICB9LFxuICAgIGF2YWlsYWJsZVNpemU6IG51bWJlcixcbiAgKTogeyBba2V5IGluIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbl0/OiBudW1iZXIgfSB7XG4gICAgY29uc3Qgc3RhcnRCb3hQYXJhbSA9XG4gICAgICBib3hQYXJhbXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJUXTtcbiAgICBjb25zdCBjZW50ZXJCb3hQYXJhbSA9XG4gICAgICBib3hQYXJhbXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkNFTlRFUl07XG4gICAgY29uc3QgZW5kQm94UGFyYW0gPSBib3hQYXJhbXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLkVORF07XG4gICAgY29uc3Qgc2l6ZXM6IHtcbiAgICAgIFtrZXkgaW4gTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uXT86IG51bWJlcjtcbiAgICB9ID0ge307XG4gICAgaWYgKCFjZW50ZXJCb3hQYXJhbSkge1xuICAgICAgY29uc3Qgc3RhcnRFbmRTaXplcyA9IHRoaXMuZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyhcbiAgICAgICAgc3RhcnRCb3hQYXJhbSxcbiAgICAgICAgZW5kQm94UGFyYW0sXG4gICAgICAgIGF2YWlsYWJsZVNpemUsXG4gICAgICApO1xuICAgICAgaWYgKHN0YXJ0RW5kU2l6ZXMueFNpemUpIHtcbiAgICAgICAgc2l6ZXNbTWFyZ2luQm94UG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uLlNUQVJUXSA9XG4gICAgICAgICAgc3RhcnRFbmRTaXplcy54U2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFydEVuZFNpemVzLnlTaXplKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkRdID1cbiAgICAgICAgICBzdGFydEVuZFNpemVzLnlTaXplO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwYXJhbXMgPSBbc3RhcnRCb3hQYXJhbSwgZW5kQm94UGFyYW1dLmZpbHRlcigocCkgPT4gcCk7XG4gICAgICBjb25zdCBzdGFydEVuZEJveFBhcmFtID0gcGFyYW1zLmxlbmd0aFxuICAgICAgICA/IG5ldyBNdWx0aXBsZUJveGVzTWFyZ2luQm94U2l6aW5nUGFyYW0ocGFyYW1zKVxuICAgICAgICA6IG51bGw7XG4gICAgICBjb25zdCBjZW50ZXJTaXplcyA9IHRoaXMuZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyhcbiAgICAgICAgY2VudGVyQm94UGFyYW0sXG4gICAgICAgIHN0YXJ0RW5kQm94UGFyYW0sXG4gICAgICAgIGF2YWlsYWJsZVNpemUsXG4gICAgICApO1xuICAgICAgaWYgKGNlbnRlclNpemVzLnhTaXplKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVJdID1cbiAgICAgICAgICBjZW50ZXJTaXplcy54U2l6ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNlbnRlclNpemUgPSBjZW50ZXJTaXplcy54U2l6ZSB8fCBjZW50ZXJCb3hQYXJhbS5nZXRPdXRlclNpemUoKTtcbiAgICAgIGNvbnN0IHN0YXJ0RW5kQXV0b1NpemUgPSAoYXZhaWxhYmxlU2l6ZSAtIGNlbnRlclNpemUpIC8gMjtcbiAgICAgIGlmIChzdGFydEJveFBhcmFtICYmIHN0YXJ0Qm94UGFyYW0uaGFzQXV0b1NpemUoKSkge1xuICAgICAgICBzaXplc1tNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlRdID0gc3RhcnRFbmRBdXRvU2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmRCb3hQYXJhbSAmJiBlbmRCb3hQYXJhbS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHNpemVzW01hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkRdID0gc3RhcnRFbmRBdXRvU2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpemVzO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3RyaWJ1dGUgYXV0byBtYXJnaW4gc2l6ZXMgYW1vbmcgdHdvIG1hcmdpbiBib3hlcyB1c2luZyBhbiBhbGdvcml0aG1cbiAgICogc3BlY2lmaWVkIGluIENTUyBQYWdlZCBNZWRpYSBzcGVjLlxuICAgKiBAcGFyYW0geCBQYXJhbWV0ZXIgZm9yIHRoZSBmaXJzdCBtYXJnaW4gYm94LiBudWxsIGlmIHRoZSBib3ggaXMgbm90XG4gICAqICAgICBnZW5lcmF0ZWQuXG4gICAqIEBwYXJhbSB5IFBhcmFtZXRlciBmb3IgdGhlIHNlY29uZCBtYXJnaW4gYm94LiBudWxsIGlmIHRoZSBib3ggaXMgbm90XG4gICAqICAgICBnZW5lcmF0ZWQuXG4gICAqIEBwYXJhbSBhdmFpbGFibGVTaXplIEF2YWlsYWJsZSBzaXplIGZvciB0aGUgbWFyZ2luIGJveGVzLlxuICAgKiBAcmV0dXJucyBEZXRlcm1pbmVkIHNpemVzIGZvciB0aGUgdHdvIGJveGVzLiBFYWNoIHZhbHVlIGlzIHByZXNlbnQgb25seVxuICAgKiAgICAgd2hlbiB0aGUgc2l6ZSBvZiB0aGUgY29ycmVzcG9uZGluZyBib3ggaXMgJ2F1dG8nLlxuICAgKi9cbiAgcHJpdmF0ZSBkaXN0cmlidXRlQXV0b01hcmdpbkJveFNpemVzKFxuICAgIHg6IE1hcmdpbkJveFNpemluZ1BhcmFtLFxuICAgIHk6IE1hcmdpbkJveFNpemluZ1BhcmFtLFxuICAgIGF2YWlsYWJsZVNpemU6IG51bWJlcixcbiAgKTogeyB4U2l6ZTogbnVtYmVyIHwgbnVsbDsgeVNpemU6IG51bWJlciB8IG51bGwgfSB7XG4gICAgY29uc3QgcmVzdWx0OiB7IHhTaXplOiBudW1iZXIgfCBudWxsOyB5U2l6ZTogbnVtYmVyIHwgbnVsbCB9ID0ge1xuICAgICAgeFNpemU6IG51bGwsXG4gICAgICB5U2l6ZTogbnVsbCxcbiAgICB9O1xuICAgIGlmICh4ICYmIHkpIHtcbiAgICAgIGlmICh4Lmhhc0F1dG9TaXplKCkgJiYgeS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIGNvbnN0IHhPdXRlck1heENvbnRlbnRTaXplID0geC5nZXRPdXRlck1heENvbnRlbnRTaXplKCk7XG4gICAgICAgIGNvbnN0IHlPdXRlck1heENvbnRlbnRTaXplID0geS5nZXRPdXRlck1heENvbnRlbnRTaXplKCk7XG4gICAgICAgIGlmICh4T3V0ZXJNYXhDb250ZW50U2l6ZSA+IDAgJiYgeU91dGVyTWF4Q29udGVudFNpemUgPiAwKSB7XG4gICAgICAgICAgY29uc3QgbWF4Q29udGVudFNpemVTdW0gPSB4T3V0ZXJNYXhDb250ZW50U2l6ZSArIHlPdXRlck1heENvbnRlbnRTaXplO1xuICAgICAgICAgIGlmIChtYXhDb250ZW50U2l6ZVN1bSA8IGF2YWlsYWJsZVNpemUpIHtcbiAgICAgICAgICAgIHJlc3VsdC54U2l6ZSA9XG4gICAgICAgICAgICAgIChhdmFpbGFibGVTaXplICogeE91dGVyTWF4Q29udGVudFNpemUpIC8gbWF4Q29udGVudFNpemVTdW07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHhPdXRlck1pbkNvbnRlbnRTaXplID0geC5nZXRPdXRlck1pbkNvbnRlbnRTaXplKCk7XG4gICAgICAgICAgICBjb25zdCB5T3V0ZXJNaW5Db250ZW50U2l6ZSA9IHkuZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpO1xuICAgICAgICAgICAgY29uc3QgbWluQ29udGVudFNpemVTdW0gPVxuICAgICAgICAgICAgICB4T3V0ZXJNaW5Db250ZW50U2l6ZSArIHlPdXRlck1pbkNvbnRlbnRTaXplO1xuICAgICAgICAgICAgaWYgKG1pbkNvbnRlbnRTaXplU3VtIDwgYXZhaWxhYmxlU2l6ZSkge1xuICAgICAgICAgICAgICByZXN1bHQueFNpemUgPVxuICAgICAgICAgICAgICAgIHhPdXRlck1pbkNvbnRlbnRTaXplICtcbiAgICAgICAgICAgICAgICAoKGF2YWlsYWJsZVNpemUgLSBtaW5Db250ZW50U2l6ZVN1bSkgKlxuICAgICAgICAgICAgICAgICAgKHhPdXRlck1heENvbnRlbnRTaXplIC0geE91dGVyTWluQ29udGVudFNpemUpKSAvXG4gICAgICAgICAgICAgICAgICAobWF4Q29udGVudFNpemVTdW0gLSBtaW5Db250ZW50U2l6ZVN1bSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG1pbkNvbnRlbnRTaXplU3VtID4gMCkge1xuICAgICAgICAgICAgICByZXN1bHQueFNpemUgPVxuICAgICAgICAgICAgICAgIChhdmFpbGFibGVTaXplICogeE91dGVyTWluQ29udGVudFNpemUpIC8gbWluQ29udGVudFNpemVTdW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChyZXN1bHQueFNpemUgPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQueVNpemUgPSBhdmFpbGFibGVTaXplIC0gcmVzdWx0LnhTaXplO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh4T3V0ZXJNYXhDb250ZW50U2l6ZSA+IDApIHtcbiAgICAgICAgICByZXN1bHQueFNpemUgPSBhdmFpbGFibGVTaXplO1xuICAgICAgICB9IGVsc2UgaWYgKHlPdXRlck1heENvbnRlbnRTaXplID4gMCkge1xuICAgICAgICAgIHJlc3VsdC55U2l6ZSA9IGF2YWlsYWJsZVNpemU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoeC5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHJlc3VsdC54U2l6ZSA9IE1hdGgubWF4KGF2YWlsYWJsZVNpemUgLSB5LmdldE91dGVyU2l6ZSgpLCAwKTtcbiAgICAgIH0gZWxzZSBpZiAoeS5oYXNBdXRvU2l6ZSgpKSB7XG4gICAgICAgIHJlc3VsdC55U2l6ZSA9IE1hdGgubWF4KGF2YWlsYWJsZVNpemUgLSB4LmdldE91dGVyU2l6ZSgpLCAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHgpIHtcbiAgICAgIGlmICh4Lmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgcmVzdWx0LnhTaXplID0gYXZhaWxhYmxlU2l6ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHkpIHtcbiAgICAgIGlmICh5Lmhhc0F1dG9TaXplKCkpIHtcbiAgICAgICAgcmVzdWx0LnlTaXplID0gYXZhaWxhYmxlU2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHByZXBhcmVDb250YWluZXIoXG4gICAgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGRvY0ZhY2VzOiBGb250LkRvY3VtZW50RmFjZXMsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IHZvaWQge1xuICAgIHN1cGVyLnByZXBhcmVDb250YWluZXIoY29udGV4dCwgY29udGFpbmVyLCBwYWdlLCBkb2NGYWNlcywgY2xpZW50TGF5b3V0KTtcblxuICAgIC8vIEFkZCBhbiBhdHRyaWJ1dGUgdG8gdGhlIGVsZW1lbnQgc28gdGhhdCBpdCBjYW4gYmUgcmVmZXJlZCBmcm9tIGV4dGVybmFsXG4gICAgLy8gc3R5bGUgc2hlZXRzLlxuICAgIGNvbnRhaW5lci5lbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcGFnZS1ib3hcIiwgdHJ1ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgdXNlZCBmb3IgcGFyYW1ldGVycyBwYXNzZWQgdG8gZGlzdHJpYnV0ZUF1dG9NYXJnaW5Cb3hTaXplcyBtZXRob2QuXG4gKi9cbmludGVyZmFjZSBNYXJnaW5Cb3hTaXppbmdQYXJhbSB7XG4gIGhhc0F1dG9TaXplKCk6IGJvb2xlYW47XG5cbiAgZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpOiBudW1iZXI7XG5cbiAgZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpOiBudW1iZXI7XG5cbiAgZ2V0T3V0ZXJTaXplKCk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBNYXJnaW5Cb3hTaXppbmdQYXJhbSBmb3IgYSBzaW5nbGUgcGFnZS1tYXJnaW4gYm94LlxuICogQHBhcmFtIGNvbnRhaW5lciBBIGNvbnRhaW5lciBjb3JyZXNwb25kaW5nIHRvIHRoZSB0YXJnZXQgbWFyZ2luIGJveC5cbiAqIEBwYXJhbSBzdHlsZSBTdHlsZXMgc3BlY2lmaWVkIHRvIHRoZSB0YXJnZXQgbWFyZ2luIGJveC5cbiAqL1xuY2xhc3MgU2luZ2xlQm94TWFyZ2luQm94U2l6aW5nUGFyYW0gaW1wbGVtZW50cyBNYXJnaW5Cb3hTaXppbmdQYXJhbSB7XG4gIHByaXZhdGUgaGFzQXV0b1NpemVfOiBib29sZWFuO1xuICBwcml2YXRlIHNpemU6IHsgW2tleSBpbiBTaXppbmcuU2l6ZV06IG51bWJlciB9IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgaXNIb3Jpem9udGFsOiBib29sZWFuLFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgcHJpdmF0ZSByZWFkb25seSBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgKSB7XG4gICAgdGhpcy5oYXNBdXRvU2l6ZV8gPSAhUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtpc0hvcml6b250YWwgPyBcIndpZHRoXCIgOiBcImhlaWdodFwiXSxcbiAgICAgIG5ldyBFeHBycy5OdW1lcmljKHNjb3BlLCAwLCBcInB4XCIpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgaGFzQXV0b1NpemUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuaGFzQXV0b1NpemVfO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTaXplKCk6IHsgW2tleSBpbiBTaXppbmcuU2l6ZV06IG51bWJlciB9IHtcbiAgICBpZiAoIXRoaXMuc2l6ZSkge1xuICAgICAgY29uc3Qgc2l6ZXMgPSB0aGlzLmlzSG9yaXpvbnRhbFxuICAgICAgICA/IFtTaXppbmcuU2l6ZS5NQVhfQ09OVEVOVF9XSURUSCwgU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfV0lEVEhdXG4gICAgICAgIDogW1NpemluZy5TaXplLk1BWF9DT05URU5UX0hFSUdIVCwgU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfSEVJR0hUXTtcbiAgICAgIHRoaXMuc2l6ZSA9IFNpemluZy5nZXRTaXplKFxuICAgICAgICB0aGlzLmNsaWVudExheW91dCxcbiAgICAgICAgdGhpcy5jb250YWluZXIuZWxlbWVudCxcbiAgICAgICAgc2l6ZXMsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zaXplO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldFNpemUoKTtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgc2l6ZVtTaXppbmcuU2l6ZS5NQVhfQ09OVEVOVF9XSURUSF0gK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0VG9wKCkgK1xuICAgICAgICBzaXplW1NpemluZy5TaXplLk1BWF9DT05URU5UX0hFSUdIVF0gK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyTWluQ29udGVudFNpemUoKTogbnVtYmVyIHtcbiAgICBjb25zdCBzaXplID0gdGhpcy5nZXRTaXplKCk7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldExlZnQoKSArXG4gICAgICAgIHNpemVbU2l6aW5nLlNpemUuTUlOX0NPTlRFTlRfV0lEVEhdICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRSaWdodCgpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgc2l6ZVtTaXppbmcuU2l6ZS5NSU5fQ09OVEVOVF9IRUlHSFRdICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRCb3R0b20oKVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlclNpemUoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy5pc0hvcml6b250YWwpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0TGVmdCgpICtcbiAgICAgICAgdGhpcy5jb250YWluZXIud2lkdGggK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFJpZ2h0KClcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmdldEluc2V0VG9wKCkgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5oZWlnaHQgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE1hcmdpbkJveFNpemluZ1BhcmFtIHdpdGggd2hpY2ggbXVsdGlwbGUgbWFyZ2luIGJveGVzIGFyZSB0cmVhdGVkIGFzIG9uZVxuICogbWFyZ2luIGJveC4gRWFjaCBtZXRob2QgcXVlcnlpbmcgYSBkaW1lbnNpb24gcmV0dXJucyB0aGUgbWF4aW11bSBvZiB0aGUgYm94ZXNcbiAqIG11bHRpcGxpZWQgYnkgdGhlIG51bWJlciBvZiB0aGUgYm94ZXMuXG4gKiBAcGFyYW0gcGFyYW1zIE1hcmdpbkJveFNpemluZ1BhcmFtJ3Mgb2YgdGhlIHRhcmdldCBtYXJnaW4gYm94ZXMuXG4gKi9cbmNsYXNzIE11bHRpcGxlQm94ZXNNYXJnaW5Cb3hTaXppbmdQYXJhbSBpbXBsZW1lbnRzIE1hcmdpbkJveFNpemluZ1BhcmFtIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBwYXJhbXM6IE1hcmdpbkJveFNpemluZ1BhcmFtW10pIHt9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaGFzQXV0b1NpemUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zLnNvbWUoKHApID0+IHAuaGFzQXV0b1NpemUoKSk7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemVzID0gdGhpcy5wYXJhbXMubWFwKChwKSA9PiBwLmdldE91dGVyTWF4Q29udGVudFNpemUoKSk7XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHNpemVzKSAqIHNpemVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1pbkNvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgY29uc3Qgc2l6ZXMgPSB0aGlzLnBhcmFtcy5tYXAoKHApID0+IHAuZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpKTtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc2l6ZXMpICogc2l6ZXMubGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqICBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE91dGVyU2l6ZSgpOiBudW1iZXIge1xuICAgIGNvbnN0IHNpemVzID0gdGhpcy5wYXJhbXMubWFwKChwKSA9PiBwLmdldE91dGVyU2l6ZSgpKTtcbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc2l6ZXMpICogc2l6ZXMubGVuZ3RoO1xuICB9XG59XG5cbi8qKlxuICogTWFyZ2luQm94U2l6aW5nUGFyYW0gZm9yIGEgc2luZ2xlIHBhZ2UtbWFyZ2luIGJveCB3aXRoIGEgZml4ZWQgc2l6ZSBhbG9uZyB0aGVcbiAqIHZhcmlhYmxlIGRpbWVuc2lvbi5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBjb250YWluZXIgY29ycmVzcG9uZGluZyB0byB0aGUgdGFyZ2V0IG1hcmdpbiBib3guXG4gKiBAcGFyYW0gc3R5bGUgU3R5bGVzIHNwZWNpZmllZCB0byB0aGUgdGFyZ2V0IG1hcmdpbiBib3guXG4gKiBAcGFyYW0gc2l6ZSBUaGUgZml4ZWQgc2l6ZSAod2lkdGggb3IgaGVpZ2h0KSBhbG9uZyB0aGUgdmFyaWFibGUgZGltZW5zaW9uLlxuICovXG5jbGFzcyBGaXhlZFNpemVNYXJnaW5Cb3hTaXppbmdQYXJhbSBleHRlbmRzIFNpbmdsZUJveE1hcmdpbkJveFNpemluZ1BhcmFtIHtcbiAgcHJpdmF0ZSBmaXhlZFNpemU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBjb250YWluZXI6IFZ0cmVlLkNvbnRhaW5lcixcbiAgICBzdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICAgaXNIb3Jpem9udGFsOiBib29sZWFuLFxuICAgIHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICAgc2l6ZTogbnVtYmVyLFxuICApIHtcbiAgICBzdXBlcihjb250YWluZXIsIHN0eWxlLCBpc0hvcml6b250YWwsIHNjb3BlLCBjbGllbnRMYXlvdXQpO1xuICAgIHRoaXMuZml4ZWRTaXplID0gc2l6ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGhhc0F1dG9TaXplKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgQG92ZXJyaWRlXG4gICAqL1xuICBnZXRPdXRlck1heENvbnRlbnRTaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3V0ZXJTaXplKCk7XG4gIH1cblxuICAvKipcbiAgICogIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJNaW5Db250ZW50U2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmdldE91dGVyU2l6ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0T3V0ZXJTaXplKCk6IG51bWJlciB7XG4gICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldExlZnQoKSArXG4gICAgICAgIHRoaXMuZml4ZWRTaXplICtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZ2V0SW5zZXRSaWdodCgpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldFRvcCgpICtcbiAgICAgICAgdGhpcy5maXhlZFNpemUgK1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5nZXRJbnNldEJvdHRvbSgpXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZSBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2U8XG4gIFBhZ2VSdWxlUGFydGl0aW9uXG4+IHtcbiAgYm9yZGVyQm94V2lkdGg6IEV4cHJzLlZhbCA9IG51bGw7XG4gIGJvcmRlckJveEhlaWdodDogRXhwcnMuVmFsID0gbnVsbDtcbiAgbWFyZ2luVG9wOiBFeHBycy5WYWwgPSBudWxsO1xuICBtYXJnaW5SaWdodDogRXhwcnMuVmFsID0gbnVsbDtcbiAgbWFyZ2luQm90dG9tOiBFeHBycy5WYWwgPSBudWxsO1xuICBtYXJnaW5MZWZ0OiBFeHBycy5WYWwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHBhcmVudEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBwYWdlUnVsZVBhcnRpdGlvbjogUGFnZVJ1bGVQYXJ0aXRpb24sXG4gICkge1xuICAgIHN1cGVyKHBhcmVudEluc3RhbmNlLCBwYWdlUnVsZVBhcnRpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseUNhc2NhZGVBbmRJbml0KFxuICAgIGNhc2NhZGU6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlLFxuICAgIGRvY0VsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5jYXNjYWRlZDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZG9jRWxlbWVudFN0eWxlKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0VsZW1lbnRTdHlsZSwgbmFtZSkpIHtcbiAgICAgICAgaWYgKG5hbWUubWF0Y2goL15jb2x1bW4uKiQvKSB8fCBuYW1lLm1hdGNoKC9eYmFja2dyb3VuZC0vKSkge1xuICAgICAgICAgIHN0eWxlW25hbWVdID0gZG9jRWxlbWVudFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHN1cGVyLmFwcGx5Q2FzY2FkZUFuZEluaXQoY2FzY2FkZSwgZG9jRWxlbWVudFN0eWxlKTtcbiAgICBjb25zdCBwYWdlUnVsZU1hc3Rlckluc3RhbmNlID0gdGhpc1xuICAgICAgLnBhcmVudEluc3RhbmNlIGFzIFBhZ2VSdWxlTWFzdGVySW5zdGFuY2U7XG4gICAgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZS5zZXRQYWdlQXJlYURpbWVuc2lvbih7XG4gICAgICBib3JkZXJCb3hXaWR0aDogdGhpcy5ib3JkZXJCb3hXaWR0aCxcbiAgICAgIGJvcmRlckJveEhlaWdodDogdGhpcy5ib3JkZXJCb3hIZWlnaHQsXG4gICAgICBtYXJnaW5Ub3A6IHRoaXMubWFyZ2luVG9wLFxuICAgICAgbWFyZ2luUmlnaHQ6IHRoaXMubWFyZ2luUmlnaHQsXG4gICAgICBtYXJnaW5Cb3R0b206IHRoaXMubWFyZ2luQm90dG9tLFxuICAgICAgbWFyZ2luTGVmdDogdGhpcy5tYXJnaW5MZWZ0LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3QgZGltID0gdGhpcy5yZXNvbHZlUGFnZUJveERpbWVuc2lvbnMoe1xuICAgICAgc3RhcnQ6IFwibGVmdFwiLFxuICAgICAgZW5kOiBcInJpZ2h0XCIsXG4gICAgICBleHRlbnQ6IFwid2lkdGhcIixcbiAgICB9KTtcbiAgICB0aGlzLmJvcmRlckJveFdpZHRoID0gZGltLmJvcmRlckJveEV4dGVudDtcbiAgICB0aGlzLm1hcmdpbkxlZnQgPSBkaW0ubWFyZ2luU3RhcnQ7XG4gICAgdGhpcy5tYXJnaW5SaWdodCA9IGRpbS5tYXJnaW5FbmQ7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpbml0VmVydGljYWwoKTogdm9pZCB7XG4gICAgY29uc3QgZGltID0gdGhpcy5yZXNvbHZlUGFnZUJveERpbWVuc2lvbnMoe1xuICAgICAgc3RhcnQ6IFwidG9wXCIsXG4gICAgICBlbmQ6IFwiYm90dG9tXCIsXG4gICAgICBleHRlbnQ6IFwiaGVpZ2h0XCIsXG4gICAgfSk7XG4gICAgdGhpcy5ib3JkZXJCb3hIZWlnaHQgPSBkaW0uYm9yZGVyQm94RXh0ZW50O1xuICAgIHRoaXMubWFyZ2luVG9wID0gZGltLm1hcmdpblN0YXJ0O1xuICAgIHRoaXMubWFyZ2luQm90dG9tID0gZGltLm1hcmdpbkVuZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcGFnZSBkaW1lbnNpb25zIGFzIHNwZWNpZmllZCBpbiBDU1MgUGFnZWQgTWVkaWFcbiAgICogKGh0dHA6Ly9kZXYudzMub3JnL2Nzc3dnL2Nzcy1wYWdlLyNwYWdlLW1vZGVsKSBQYWdlIGJvcmRlciBib3ggZXh0ZW50IGFuZFxuICAgKiBtYXJnaW5zLiBTaW5jZSB0aGUgY29udGFpbmluZyBibG9jayBjYW4gYmUgcmVzaXplZCBpbiB0aGUgb3Zlci1jb25zdHJhaW5lZFxuICAgKiBjYXNlLCB0aGUgc3VtIG9mIHRoZXNlIHZhbHVlcyBpcyBub3QgbmVjZXNzYXJpbHkgc2FtZSB0byB0aGUgb3JpZ2luYWwgcGFnZVxuICAgKiBkaW1lbnNpb24gc3BlY2lmaWVkIGluIHRoZSBwYWdlIGF0LXJ1bGVzLlxuICAgKi9cbiAgcHJpdmF0ZSByZXNvbHZlUGFnZUJveERpbWVuc2lvbnMobmFtZXM6IHtcbiAgICBzdGFydDogc3RyaW5nO1xuICAgIGVuZDogc3RyaW5nO1xuICAgIGV4dGVudDogc3RyaW5nO1xuICB9KToge1xuICAgIGJvcmRlckJveEV4dGVudDogRXhwcnMuVmFsO1xuICAgIG1hcmdpblN0YXJ0OiBFeHBycy5WYWw7XG4gICAgbWFyZ2luRW5kOiBFeHBycy5WYWw7XG4gIH0ge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBwYWdlU2l6ZSA9IHRoaXMucGFnZUJveC5wYWdlU2l6ZTtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdGFydFNpZGUgPSBuYW1lcy5zdGFydDtcbiAgICBjb25zdCBlbmRTaWRlID0gbmFtZXMuZW5kO1xuICAgIGNvbnN0IGV4dGVudE5hbWUgPSBuYW1lcy5leHRlbnQ7XG4gICAgY29uc3QgcGFnZUV4dGVudCA9IHBhZ2VTaXplW2V4dGVudE5hbWVdLnRvRXhwcihzY29wZSwgbnVsbCk7XG4gICAgbGV0IGV4dGVudCA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhzY29wZSwgc3R5bGVbZXh0ZW50TmFtZV0sIHBhZ2VFeHRlbnQpO1xuICAgIGxldCBtYXJnaW5TdGFydCA9IFBhZ2VNYXN0ZXIudG9FeHByQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYG1hcmdpbi0ke3N0YXJ0U2lkZX1gXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBsZXQgbWFyZ2luRW5kID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgbWFyZ2luLSR7ZW5kU2lkZX1gXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nU3RhcnQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BwYWRkaW5nLSR7c3RhcnRTaWRlfWBdLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdFbmQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BwYWRkaW5nLSR7ZW5kU2lkZX1gXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJTdGFydFdpZHRoID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQm9yZGVyKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS13aWR0aGBdLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke3N0YXJ0U2lkZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJFbmRXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXdpZHRoYF0sXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7ZW5kU2lkZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VFeHRlbnQsXG4gICAgKTtcbiAgICBsZXQgcmVtYWlucyA9IEV4cHJzLnN1YihcbiAgICAgIHNjb3BlLFxuICAgICAgcGFnZUV4dGVudCxcbiAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIEV4cHJzLmFkZChzY29wZSwgYm9yZGVyU3RhcnRXaWR0aCwgcGFkZGluZ1N0YXJ0KSxcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBib3JkZXJFbmRXaWR0aCwgcGFkZGluZ0VuZCksXG4gICAgICApLFxuICAgICk7XG5cbiAgICAvLyBUaGUgZGltZW5zaW9ucyBhcmUgY2FsY3VsYXRlZCBhcyBmb3IgYSBub24tcmVwbGFjZWQgYmxvY2sgZWxlbWVudCBpblxuICAgIC8vIG5vcm1hbCBmbG93IChodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS92aXN1ZGV0Lmh0bWwjYmxvY2t3aWR0aClcbiAgICBpZiAoIWV4dGVudCkge1xuICAgICAgaWYgKCFtYXJnaW5TdGFydCkge1xuICAgICAgICBtYXJnaW5TdGFydCA9IHNjb3BlLnplcm87XG4gICAgICB9XG4gICAgICBpZiAoIW1hcmdpbkVuZCkge1xuICAgICAgICBtYXJnaW5FbmQgPSBzY29wZS56ZXJvO1xuICAgICAgfVxuICAgICAgZXh0ZW50ID0gRXhwcnMuc3ViKFxuICAgICAgICBzY29wZSxcbiAgICAgICAgcmVtYWlucyxcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5TdGFydCwgbWFyZ2luRW5kKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbWFpbnMgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIGV4dGVudCk7XG4gICAgICBpZiAoIW1hcmdpblN0YXJ0ICYmICFtYXJnaW5FbmQpIHtcbiAgICAgICAgbWFyZ2luU3RhcnQgPSBFeHBycy5tdWwoc2NvcGUsIHJlbWFpbnMsIG5ldyBFeHBycy5Db25zdChzY29wZSwgMC41KSk7XG4gICAgICAgIG1hcmdpbkVuZCA9IG1hcmdpblN0YXJ0O1xuICAgICAgfSBlbHNlIGlmIChtYXJnaW5TdGFydCkge1xuICAgICAgICBtYXJnaW5FbmQgPSBFeHBycy5zdWIoc2NvcGUsIHJlbWFpbnMsIG1hcmdpblN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcmdpblN0YXJ0ID0gRXhwcnMuc3ViKHNjb3BlLCByZW1haW5zLCBtYXJnaW5FbmQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gb3Zlci1jb25zdHJhaW5lZCBjYXNlXG4gICAgLy8gXCJpZiB0aGUgdmFsdWVzIGFyZSBvdmVyLWNvbnN0cmFpbmVkLCBpbnN0ZWFkIG9mIGlnbm9yaW5nIGFueSBtYXJnaW5zLCB0aGVcbiAgICAvLyBjb250YWluaW5nIGJsb2NrIGlzIHJlc2l6ZWQgdG8gY29pbmNpZGUgd2l0aCB0aGUgbWFyZ2luIGVkZ2VzIG9mIHRoZSBwYWdlXG4gICAgLy8gYm94LlwiIChDU1MgUGFnZWQgTWVkaWEgaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvY3NzLXBhZ2UvI3BhZ2UtbW9kZWwpXG4gICAgc3R5bGVbc3RhcnRTaWRlXSA9IG5ldyBDc3MuRXhwcihtYXJnaW5TdGFydCk7XG4gICAgc3R5bGVbZW5kU2lkZV0gPSBuZXcgQ3NzLkV4cHIobWFyZ2luRW5kKTtcbiAgICBzdHlsZVtgbWFyZ2luLSR7c3RhcnRTaWRlfWBdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW2BtYXJnaW4tJHtlbmRTaWRlfWBdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgIHN0eWxlW2BwYWRkaW5nLSR7c3RhcnRTaWRlfWBdID0gbmV3IENzcy5FeHByKHBhZGRpbmdTdGFydCk7XG4gICAgc3R5bGVbYHBhZGRpbmctJHtlbmRTaWRlfWBdID0gbmV3IENzcy5FeHByKHBhZGRpbmdFbmQpO1xuICAgIHN0eWxlW2Bib3JkZXItJHtzdGFydFNpZGV9LXdpZHRoYF0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyU3RhcnRXaWR0aCk7XG4gICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXdpZHRoYF0gPSBuZXcgQ3NzLkV4cHIoYm9yZGVyRW5kV2lkdGgpO1xuICAgIHN0eWxlW2V4dGVudE5hbWVdID0gbmV3IENzcy5FeHByKGV4dGVudCk7XG4gICAgc3R5bGVbYG1heC0ke2V4dGVudE5hbWV9YF0gPSBuZXcgQ3NzLkV4cHIoZXh0ZW50KTtcbiAgICByZXR1cm4ge1xuICAgICAgYm9yZGVyQm94RXh0ZW50OiBFeHBycy5zdWIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBwYWdlRXh0ZW50LFxuICAgICAgICBFeHBycy5hZGQoc2NvcGUsIG1hcmdpblN0YXJ0LCBtYXJnaW5FbmQpLFxuICAgICAgKSxcbiAgICAgIG1hcmdpblN0YXJ0LFxuICAgICAgbWFyZ2luRW5kLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5wcmVwYXJlQ29udGFpbmVyKGNvbnRleHQsIGNvbnRhaW5lciwgcGFnZSwgZG9jRmFjZXMsIGNsaWVudExheW91dCk7XG4gICAgcGFnZS5wYWdlQXJlYUVsZW1lbnQgPSBjb250YWluZXIuZWxlbWVudCBhcyBIVE1MRWxlbWVudDtcblxuICAgIC8vIFNldCBwYWdlIGFyZWEgc2l6ZSBmb3IgdncvdmggdW5pdCBjYWxjdWxhdGlvblxuICAgIGNvbnRleHQucGFnZUFyZWFXaWR0aCA9IHBhcnNlRmxvYXQocGFnZS5wYWdlQXJlYUVsZW1lbnQuc3R5bGUud2lkdGgpO1xuICAgIGNvbnRleHQucGFnZUFyZWFIZWlnaHQgPSBwYXJzZUZsb2F0KHBhZ2UucGFnZUFyZWFFbGVtZW50LnN0eWxlLmhlaWdodCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25JbnN0YW5jZSBleHRlbmRzIFBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2U8XG4gIFBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb25cbj4ge1xuICBib3hJbmZvOiBQYWdlTWFyZ2luQm94SW5mb3JtYXRpb247XG4gIHN1cHByZXNzRW1wdHlCb3hHZW5lcmF0aW9uOiBib29sZWFuID0gdHJ1ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwYXJlbnRJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgcGFnZU1hcmdpbkJveFBhcnRpdGlvbjogUGFnZU1hcmdpbkJveFBhcnRpdGlvbixcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50SW5zdGFuY2UsIHBhZ2VNYXJnaW5Cb3hQYXJ0aXRpb24pO1xuICAgIGNvbnN0IG5hbWUgPSBwYWdlTWFyZ2luQm94UGFydGl0aW9uLm1hcmdpbkJveE5hbWU7XG4gICAgdGhpcy5ib3hJbmZvID0gcGFnZU1hcmdpbkJveGVzW25hbWVdO1xuICAgIGNvbnN0IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UgPSBwYXJlbnRJbnN0YW5jZSBhcyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlO1xuICAgIHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UucGFnZU1hcmdpbkJveEluc3RhbmNlc1tuYW1lXSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcmVwYXJlQ29udGFpbmVyKFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgY29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICApOiB2b2lkIHtcbiAgICB0aGlzLmFwcGx5VmVydGljYWxBbGlnbihjb250ZXh0LCBjb250YWluZXIuZWxlbWVudCk7XG4gICAgc3VwZXIucHJlcGFyZUNvbnRhaW5lcihjb250ZXh0LCBjb250YWluZXIsIHBhZ2UsIGRvY0ZhY2VzLCBjbGllbnRMYXlvdXQpO1xuICB9XG5cbiAgcHJpdmF0ZSBhcHBseVZlcnRpY2FsQWxpZ24oY29udGV4dDogRXhwcnMuQ29udGV4dCwgZWxlbWVudDogRWxlbWVudCkge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiZmxleFwiKTtcbiAgICBjb25zdCB2ZXJ0aWNhbEFsaWduOiBDc3MuVmFsID0gdGhpcy5nZXRQcm9wKGNvbnRleHQsIFwidmVydGljYWwtYWxpZ25cIik7XG4gICAgbGV0IGZsZXhBbGlnbjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHZlcnRpY2FsQWxpZ24gPT09IENzcy5nZXROYW1lKFwibWlkZGxlXCIpKSB7XG4gICAgICBmbGV4QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIH0gZWxzZSBpZiAodmVydGljYWxBbGlnbiA9PT0gQ3NzLmdldE5hbWUoXCJ0b3BcIikpIHtcbiAgICAgIGZsZXhBbGlnbiA9IFwiZmxleC1zdGFydFwiO1xuICAgIH0gZWxzZSBpZiAodmVydGljYWxBbGlnbiA9PT0gQ3NzLmdldE5hbWUoXCJib3R0b21cIikpIHtcbiAgICAgIGZsZXhBbGlnbiA9IFwiZmxleC1lbmRcIjtcbiAgICB9XG4gICAgaWYgKGZsZXhBbGlnbikge1xuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgXCJmbGV4LWZsb3dcIixcbiAgICAgICAgdGhpcy52ZXJ0aWNhbCA/IFwicm93XCIgOiBcImNvbHVtblwiLFxuICAgICAgKTtcbiAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbWVudCwgXCJqdXN0aWZ5LWNvbnRlbnRcIiwgZmxleEFsaWduKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHBhZ2UtbWFyZ2luIGJveGVzIHBvc2l0aW9ucyBhbG9uZyB0aGUgdmFyaWFibGUgZGltZW5zaW9uIG9mIHRoZVxuICAgKiBwYWdlLiBGb3IgQ0VOVEVSIGFuZCBFTkQgbWFyZ2luIGJveGVzLCB0aGUgcG9zaXRpb24gaXMgY2FsY3VsYXRlZCBvbmx5IGlmXG4gICAqIHRoZSBkaW1lbnNpb24gKHdpZHRoIG9yIGhlaWdodCkgaXMgbm9uLWF1dG8sIHNvIHRoYXQgaXQgY2FuIGJlIHJlc29sdmVkIGF0XG4gICAqIHRoaXMgcG9pbnQuIElmIHRoZSBkaW1lbnNpb24gaXMgYXV0bywgdGhlIGNhbGN1bGF0aW9uIGlzIGRlZmZlcmVkLlxuICAgKi9cbiAgcHJpdmF0ZSBwb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24oXG4gICAgbmFtZXM6IHsgc3RhcnQ6IHN0cmluZzsgZW5kOiBzdHJpbmc7IGV4dGVudDogc3RyaW5nIH0sXG4gICAgZGltOiBQYWdlQXJlYURpbWVuc2lvbiB8IG51bGwsXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IHN0eWxlID0gdGhpcy5zdHlsZTtcbiAgICBjb25zdCBzY29wZSA9IHRoaXMucGFnZUJveC5zY29wZTtcbiAgICBjb25zdCBzdGFydFNpZGUgPSBuYW1lcy5zdGFydDtcbiAgICBjb25zdCBlbmRTaWRlID0gbmFtZXMuZW5kO1xuICAgIGNvbnN0IGV4dGVudE5hbWUgPSBuYW1lcy5leHRlbnQ7XG4gICAgY29uc3QgaXNIb3Jpem9udGFsID0gc3RhcnRTaWRlID09PSBcImxlZnRcIjtcbiAgICBjb25zdCBhdmFpbGFibGVFeHRlbnQgPSBpc0hvcml6b250YWxcbiAgICAgID8gZGltLmJvcmRlckJveFdpZHRoXG4gICAgICA6IGRpbS5ib3JkZXJCb3hIZWlnaHQ7XG4gICAgY29uc3QgZXh0ZW50ID0gUGFnZU1hc3Rlci50b0V4cHJBdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtleHRlbnROYW1lXSxcbiAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICApO1xuICAgIGNvbnN0IHN0YXJ0T2Zmc2V0ID0gaXNIb3Jpem9udGFsID8gZGltLm1hcmdpbkxlZnQgOiBkaW0ubWFyZ2luVG9wO1xuICAgIGlmIChcbiAgICAgIHRoaXMuYm94SW5mby5wb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24gPT09XG4gICAgICBNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24uU1RBUlRcbiAgICApIHtcbiAgICAgIHN0eWxlW3N0YXJ0U2lkZV0gPSBuZXcgQ3NzLkV4cHIoc3RhcnRPZmZzZXQpO1xuICAgIH0gZWxzZSBpZiAoZXh0ZW50KSB7XG4gICAgICBjb25zdCBtYXJnaW5TdGFydCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2BtYXJnaW4tJHtzdGFydFNpZGV9YF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBtYXJnaW5FbmQgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgbWFyZ2luLSR7ZW5kU2lkZX1gXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHBhZGRpbmdTdGFydCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2BwYWRkaW5nLSR7c3RhcnRTaWRlfWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3QgcGFkZGluZ0VuZCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIHN0eWxlW2BwYWRkaW5nLSR7ZW5kU2lkZX1gXSxcbiAgICAgICAgYXZhaWxhYmxlRXh0ZW50LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGJvcmRlclN0YXJ0V2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS13aWR0aGBdLFxuICAgICAgICBzdHlsZVtgYm9yZGVyLSR7c3RhcnRTaWRlfS1zdHlsZWBdLFxuICAgICAgICBhdmFpbGFibGVFeHRlbnQsXG4gICAgICApO1xuICAgICAgY29uc3QgYm9yZGVyRW5kV2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBzdHlsZVtgYm9yZGVyLSR7ZW5kU2lkZX0td2lkdGhgXSxcbiAgICAgICAgc3R5bGVbYGJvcmRlci0ke2VuZFNpZGV9LXN0eWxlYF0sXG4gICAgICAgIGF2YWlsYWJsZUV4dGVudCxcbiAgICAgICk7XG4gICAgICBjb25zdCBvdXRlckV4dGVudCA9IEV4cHJzLmFkZChcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGV4dGVudCxcbiAgICAgICAgRXhwcnMuYWRkKFxuICAgICAgICAgIHNjb3BlLFxuICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgcGFkZGluZ1N0YXJ0LCBwYWRkaW5nRW5kKSxcbiAgICAgICAgICBFeHBycy5hZGQoXG4gICAgICAgICAgICBzY29wZSxcbiAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgYm9yZGVyU3RhcnRXaWR0aCwgYm9yZGVyRW5kV2lkdGgpLFxuICAgICAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBtYXJnaW5TdGFydCwgbWFyZ2luRW5kKSxcbiAgICAgICAgICApLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIHN3aXRjaCAodGhpcy5ib3hJbmZvLnBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbikge1xuICAgICAgICBjYXNlIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5DRU5URVI6XG4gICAgICAgICAgc3R5bGVbc3RhcnRTaWRlXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgICAgIEV4cHJzLmFkZChcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIHN0YXJ0T2Zmc2V0LFxuICAgICAgICAgICAgICBFeHBycy5kaXYoXG4gICAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgICAgRXhwcnMuc3ViKHNjb3BlLCBhdmFpbGFibGVFeHRlbnQsIG91dGVyRXh0ZW50KSxcbiAgICAgICAgICAgICAgICBuZXcgRXhwcnMuQ29uc3Qoc2NvcGUsIDIpLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIE1hcmdpbkJveFBvc2l0aW9uQWxvbmdWYXJpYWJsZURpbWVuc2lvbi5FTkQ6XG4gICAgICAgICAgc3R5bGVbc3RhcnRTaWRlXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgICAgIEV4cHJzLnN1YihcbiAgICAgICAgICAgICAgc2NvcGUsXG4gICAgICAgICAgICAgIEV4cHJzLmFkZChzY29wZSwgc3RhcnRPZmZzZXQsIGF2YWlsYWJsZUV4dGVudCksXG4gICAgICAgICAgICAgIG91dGVyRXh0ZW50LFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcGFnZS1tYXJnaW4gYm94ZXMgcG9zaXRpb25zIGFsb25nIHRoZSBmaXhlZCBkaW1lbnNpb24gb2YgdGhlXG4gICAqIHBhZ2UuXG4gICAqL1xuICBwcml2YXRlIHBvc2l0aW9uQW5kU2l6ZUFsb25nRml4ZWREaW1lbnNpb24oXG4gICAgbmFtZXM6IHsgaW5zaWRlOiBzdHJpbmc7IG91dHNpZGU6IHN0cmluZzsgZXh0ZW50OiBzdHJpbmcgfSxcbiAgICBkaW06IFBhZ2VBcmVhRGltZW5zaW9uIHwgbnVsbCxcbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlO1xuICAgIGNvbnN0IHNjb3BlID0gdGhpcy5wYWdlQm94LnNjb3BlO1xuICAgIGNvbnN0IGluc2lkZU5hbWUgPSBuYW1lcy5pbnNpZGU7XG4gICAgY29uc3Qgb3V0c2lkZU5hbWUgPSBuYW1lcy5vdXRzaWRlO1xuICAgIGNvbnN0IGV4dGVudE5hbWUgPSBuYW1lcy5leHRlbnQ7XG4gICAgY29uc3QgcGFnZU1hcmdpbiA9XG4gICAgICBkaW1bXG4gICAgICAgIGBtYXJnaW4ke291dHNpZGVOYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfSR7b3V0c2lkZU5hbWUuc3Vic3RyaW5nKFxuICAgICAgICAgIDEsXG4gICAgICAgICl9YFxuICAgICAgXTtcbiAgICBjb25zdCBtYXJnaW5JbnNpZGUgPSBQYWdlTWFzdGVyLnRvRXhwclplcm9BdXRvKFxuICAgICAgc2NvcGUsXG4gICAgICBzdHlsZVtgbWFyZ2luLSR7aW5zaWRlTmFtZX1gXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBtYXJnaW5PdXRzaWRlID0gUGFnZU1hc3Rlci50b0V4cHJaZXJvQXV0byhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYG1hcmdpbi0ke291dHNpZGVOYW1lfWBdLFxuICAgICAgcGFnZU1hcmdpbixcbiAgICApO1xuICAgIGNvbnN0IHBhZGRpbmdJbnNpZGUgPSBQYWdlTWFzdGVyLnRvRXhwclplcm8oXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2BwYWRkaW5nLSR7aW5zaWRlTmFtZX1gXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBwYWRkaW5nT3V0c2lkZSA9IFBhZ2VNYXN0ZXIudG9FeHByWmVybyhcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYHBhZGRpbmctJHtvdXRzaWRlTmFtZX1gXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJJbnNpZGVXaWR0aCA9IFBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlcihcbiAgICAgIHNjb3BlLFxuICAgICAgc3R5bGVbYGJvcmRlci0ke2luc2lkZU5hbWV9LXdpZHRoYF0sXG4gICAgICBzdHlsZVtgYm9yZGVyLSR7aW5zaWRlTmFtZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBib3JkZXJPdXRzaWRlV2lkdGggPSBQYWdlTWFzdGVyLnRvRXhwclplcm9Cb3JkZXIoXG4gICAgICBzY29wZSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtvdXRzaWRlTmFtZX0td2lkdGhgXSxcbiAgICAgIHN0eWxlW2Bib3JkZXItJHtvdXRzaWRlTmFtZX0tc3R5bGVgXSxcbiAgICAgIHBhZ2VNYXJnaW4sXG4gICAgKTtcbiAgICBjb25zdCBleHRlbnQgPSBQYWdlTWFzdGVyLnRvRXhwckF1dG8oc2NvcGUsIHN0eWxlW2V4dGVudE5hbWVdLCBwYWdlTWFyZ2luKTtcbiAgICBsZXQgcmVzdWx0OiB7XG4gICAgICBleHRlbnQ6IEV4cHJzLlJlc3VsdDtcbiAgICAgIG1hcmdpbkluc2lkZTogRXhwcnMuUmVzdWx0O1xuICAgICAgbWFyZ2luT3V0c2lkZTogRXhwcnMuUmVzdWx0O1xuICAgIH0gPSBudWxsO1xuXG4gICAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRWYWx1ZXMoXG4gICAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgICk6IHtcbiAgICAgIGV4dGVudDogRXhwcnMuUmVzdWx0IHwgbnVsbDtcbiAgICAgIG1hcmdpbkluc2lkZTogRXhwcnMuUmVzdWx0IHwgbnVsbDtcbiAgICAgIG1hcmdpbk91dHNpZGU6IEV4cHJzLlJlc3VsdCB8IG51bGw7XG4gICAgfSB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIGV4dGVudDogZXh0ZW50ID8gZXh0ZW50LmV2YWx1YXRlKGNvbnRleHQpIDogbnVsbCxcbiAgICAgICAgbWFyZ2luSW5zaWRlOiBtYXJnaW5JbnNpZGUgPyBtYXJnaW5JbnNpZGUuZXZhbHVhdGUoY29udGV4dCkgOiBudWxsLFxuICAgICAgICBtYXJnaW5PdXRzaWRlOiBtYXJnaW5PdXRzaWRlID8gbWFyZ2luT3V0c2lkZS5ldmFsdWF0ZShjb250ZXh0KSA6IG51bGwsXG4gICAgICB9O1xuICAgICAgY29uc3QgcGFnZU1hcmdpblZhbHVlID0gcGFnZU1hcmdpbi5ldmFsdWF0ZShjb250ZXh0KTtcbiAgICAgIGxldCBib3JkZXJBbmRQYWRkaW5nID0gMDtcbiAgICAgIFtcbiAgICAgICAgYm9yZGVySW5zaWRlV2lkdGgsXG4gICAgICAgIHBhZGRpbmdJbnNpZGUsXG4gICAgICAgIHBhZGRpbmdPdXRzaWRlLFxuICAgICAgICBib3JkZXJPdXRzaWRlV2lkdGgsXG4gICAgICBdLmZvckVhY2goKHgpID0+IHtcbiAgICAgICAgaWYgKHgpIHtcbiAgICAgICAgICBib3JkZXJBbmRQYWRkaW5nICs9IHguZXZhbHVhdGUoY29udGV4dCkgYXMgbnVtYmVyO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChyZXN1bHQubWFyZ2luSW5zaWRlID09PSBudWxsIHx8IHJlc3VsdC5tYXJnaW5PdXRzaWRlID09PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHRvdGFsID1cbiAgICAgICAgICBib3JkZXJBbmRQYWRkaW5nICtcbiAgICAgICAgICAocmVzdWx0LmV4dGVudCBhcyBudW1iZXIpICtcbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbkluc2lkZSBhcyBudW1iZXIpICtcbiAgICAgICAgICAocmVzdWx0Lm1hcmdpbk91dHNpZGUgYXMgbnVtYmVyKTtcbiAgICAgICAgaWYgKHRvdGFsID4gcGFnZU1hcmdpblZhbHVlKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5tYXJnaW5JbnNpZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0Lm1hcmdpbk91dHNpZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgcmVzdWx0LmV4dGVudCAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlICE9PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlICE9PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgLy8gb3Zlci1jb25zdHJhaW5lZFxuICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIHJlc3VsdC5leHRlbnQgPT09IG51bGwgJiZcbiAgICAgICAgcmVzdWx0Lm1hcmdpbkluc2lkZSAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luT3V0c2lkZSAhPT0gbnVsbFxuICAgICAgKSB7XG4gICAgICAgIHJlc3VsdC5leHRlbnQgPVxuICAgICAgICAgIHBhZ2VNYXJnaW5WYWx1ZSAtXG4gICAgICAgICAgYm9yZGVyQW5kUGFkZGluZyAtXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5JbnNpZGUgYXMgbnVtYmVyKSAtXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5PdXRzaWRlIGFzIG51bWJlcik7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICByZXN1bHQuZXh0ZW50ICE9PSBudWxsICYmXG4gICAgICAgIChyZXN1bHQubWFyZ2luSW5zaWRlIGFzIG51bWJlcikgPT09IG51bGwgJiZcbiAgICAgICAgKHJlc3VsdC5tYXJnaW5PdXRzaWRlIGFzIG51bWJlcikgIT09IG51bGxcbiAgICAgICkge1xuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlID1cbiAgICAgICAgICBwYWdlTWFyZ2luVmFsdWUgLVxuICAgICAgICAgIGJvcmRlckFuZFBhZGRpbmcgLVxuICAgICAgICAgIChyZXN1bHQuZXh0ZW50IGFzIG51bWJlcikgLVxuICAgICAgICAgIChyZXN1bHQubWFyZ2luT3V0c2lkZSBhcyBudW1iZXIpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgcmVzdWx0LmV4dGVudCAhPT0gbnVsbCAmJlxuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlICE9PSBudWxsICYmXG4gICAgICAgIHJlc3VsdC5tYXJnaW5PdXRzaWRlID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgcmVzdWx0Lm1hcmdpbk91dHNpZGUgPVxuICAgICAgICAgIHBhZ2VNYXJnaW5WYWx1ZSAtXG4gICAgICAgICAgYm9yZGVyQW5kUGFkZGluZyAtXG4gICAgICAgICAgKHJlc3VsdC5leHRlbnQgYXMgbnVtYmVyKSAtXG4gICAgICAgICAgKHJlc3VsdC5tYXJnaW5JbnNpZGUgYXMgbnVtYmVyKTtcbiAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmV4dGVudCA9PT0gbnVsbCkge1xuICAgICAgICByZXN1bHQubWFyZ2luSW5zaWRlID0gcmVzdWx0Lm1hcmdpbk91dHNpZGUgPSAwO1xuICAgICAgICByZXN1bHQuZXh0ZW50ID0gcGFnZU1hcmdpblZhbHVlIC0gYm9yZGVyQW5kUGFkZGluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5tYXJnaW5JbnNpZGUgPSByZXN1bHQubWFyZ2luT3V0c2lkZSA9XG4gICAgICAgICAgKHBhZ2VNYXJnaW5WYWx1ZSAtIGJvcmRlckFuZFBhZGRpbmcgLSAocmVzdWx0LmV4dGVudCBhcyBudW1iZXIpKSAvIDI7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdHlsZVtleHRlbnROYW1lXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICAgIHNjb3BlLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBnZXRDb21wdXRlZFZhbHVlcyh0aGlzKS5leHRlbnQ7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gMCA6IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBleHRlbnROYW1lLFxuICAgICAgKSxcbiAgICApO1xuICAgIHN0eWxlW2BtYXJnaW4tJHtpbnNpZGVOYW1lfWBdID0gbmV3IENzcy5FeHByKFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldENvbXB1dGVkVmFsdWVzKHRoaXMpLm1hcmdpbkluc2lkZTtcbiAgICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgPyAwIDogdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGBtYXJnaW4tJHtpbnNpZGVOYW1lfWAsXG4gICAgICApLFxuICAgICk7XG4gICAgc3R5bGVbYG1hcmdpbi0ke291dHNpZGVOYW1lfWBdID0gbmV3IENzcy5FeHByKFxuICAgICAgbmV3IEV4cHJzLk5hdGl2ZShcbiAgICAgICAgc2NvcGUsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldENvbXB1dGVkVmFsdWVzKHRoaXMpLm1hcmdpbk91dHNpZGU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gMCA6IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBgbWFyZ2luLSR7b3V0c2lkZU5hbWV9YCxcbiAgICAgICksXG4gICAgKTtcbiAgICBpZiAoaW5zaWRlTmFtZSA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgIHN0eWxlW1wibGVmdFwiXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBkaW0ubWFyZ2luTGVmdCwgZGltLmJvcmRlckJveFdpZHRoKSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpbnNpZGVOYW1lID09PSBcInRvcFwiKSB7XG4gICAgICBzdHlsZVtcInRvcFwiXSA9IG5ldyBDc3MuRXhwcihcbiAgICAgICAgRXhwcnMuYWRkKHNjb3BlLCBkaW0ubWFyZ2luVG9wLCBkaW0uYm9yZGVyQm94SGVpZ2h0KSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdEhvcml6b250YWwoKTogdm9pZCB7XG4gICAgY29uc3QgcGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSA9IHRoaXNcbiAgICAgIC5wYXJlbnRJbnN0YW5jZSBhcyBQYWdlUnVsZU1hc3Rlckluc3RhbmNlO1xuICAgIGNvbnN0IGRpbSA9IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UucGFnZUFyZWFEaW1lbnNpb247XG4gICAgaWYgKHRoaXMuYm94SW5mby5pc0luTGVmdENvbHVtbikge1xuICAgICAgdGhpcy5wb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgICAgICB7IGluc2lkZTogXCJyaWdodFwiLCBvdXRzaWRlOiBcImxlZnRcIiwgZXh0ZW50OiBcIndpZHRoXCIgfSxcbiAgICAgICAgZGltLFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuYm94SW5mby5pc0luUmlnaHRDb2x1bW4pIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbihcbiAgICAgICAgeyBpbnNpZGU6IFwibGVmdFwiLCBvdXRzaWRlOiBcInJpZ2h0XCIsIGV4dGVudDogXCJ3aWR0aFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgICB7IHN0YXJ0OiBcImxlZnRcIiwgZW5kOiBcInJpZ2h0XCIsIGV4dGVudDogXCJ3aWR0aFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW5pdFZlcnRpY2FsKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VSdWxlTWFzdGVySW5zdGFuY2UgPSB0aGlzXG4gICAgICAucGFyZW50SW5zdGFuY2UgYXMgUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZTtcbiAgICBjb25zdCBkaW0gPSBwYWdlUnVsZU1hc3Rlckluc3RhbmNlLnBhZ2VBcmVhRGltZW5zaW9uO1xuICAgIGlmICh0aGlzLmJveEluZm8uaXNJblRvcFJvdykge1xuICAgICAgdGhpcy5wb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgICAgICB7IGluc2lkZTogXCJib3R0b21cIiwgb3V0c2lkZTogXCJ0b3BcIiwgZXh0ZW50OiBcImhlaWdodFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmJveEluZm8uaXNJbkJvdHRvbVJvdykge1xuICAgICAgdGhpcy5wb3NpdGlvbkFuZFNpemVBbG9uZ0ZpeGVkRGltZW5zaW9uKFxuICAgICAgICB7IGluc2lkZTogXCJ0b3BcIiwgb3V0c2lkZTogXCJib3R0b21cIiwgZXh0ZW50OiBcImhlaWdodFwiIH0sXG4gICAgICAgIGRpbSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uKFxuICAgICAgICB7IHN0YXJ0OiBcInRvcFwiLCBlbmQ6IFwiYm90dG9tXCIsIGV4dGVudDogXCJoZWlnaHRcIiB9LFxuICAgICAgICBkaW0sXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGZpbmlzaENvbnRhaW5lcihcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIGNvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICAgY29sdW1uOiBWdHJlZS5Db250YWluZXIsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5maW5pc2hDb250YWluZXIoXG4gICAgICBjb250ZXh0LFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFnZSxcbiAgICAgIGNvbHVtbixcbiAgICAgIGNvbHVtbkNvdW50LFxuICAgICAgY2xpZW50TGF5b3V0LFxuICAgICAgZG9jRmFjZXMsXG4gICAgKTtcblxuICAgIC8vIGZpbmlzaENvbnRhaW5lciBpcyBjYWxsZWQgb25seSB3aGVuIHRoZSBtYXJnaW4gYm94IGlzIGdlbmVyYXRlZC5cbiAgICAvLyBJbiB0aGlzIGNhc2UsIHN0b3JlIHRoZSBnZW5lcmF0ZWQgY29udGFpbmVyIGZvciB0aGUgbWFyZ2luIGJveCBpbiB0aGVcbiAgICAvLyBwYWdlIG9iamVjdC4gKGV4Y2VwdCB3aGVuIGl0IGlzIGEgY29ybmVyIG1hcmdpbiBib3gsIGJlY2F1c2Ugc2l6ZSBvZiBhXG4gICAgLy8gY29ybmVyIG1hcmdpbiBib3ggZG9lcyBub3QgbmVlZCB0byBiZSBhZGp1c3RlZCBhZnRlciB0aGUgbGF5b3V0KVxuICAgIGNvbnN0IG1hcmdpbkJveGVzID0gcGFnZS5tYXJnaW5Cb3hlcztcbiAgICBjb25zdCBuYW1lID0gKHRoaXMucGFnZUJveCBhcyBhbnkpLm1hcmdpbkJveE5hbWU7XG4gICAgY29uc3QgYm94SW5mbyA9IHRoaXMuYm94SW5mbztcbiAgICBpZiAoIWJveEluZm8uaXNJbkxlZnRDb2x1bW4gJiYgIWJveEluZm8uaXNJblJpZ2h0Q29sdW1uKSB7XG4gICAgICBpZiAoYm94SW5mby5pc0luVG9wUm93KSB7XG4gICAgICAgIG1hcmdpbkJveGVzLnRvcFtuYW1lXSA9IGNvbnRhaW5lcjtcbiAgICAgIH0gZWxzZSBpZiAoYm94SW5mby5pc0luQm90dG9tUm93KSB7XG4gICAgICAgIG1hcmdpbkJveGVzLmJvdHRvbVtuYW1lXSA9IGNvbnRhaW5lcjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFib3hJbmZvLmlzSW5Ub3BSb3cgJiYgIWJveEluZm8uaXNJbkJvdHRvbVJvdykge1xuICAgICAgaWYgKGJveEluZm8uaXNJbkxlZnRDb2x1bW4pIHtcbiAgICAgICAgbWFyZ2luQm94ZXMubGVmdFtuYW1lXSA9IGNvbnRhaW5lcjtcbiAgICAgIH0gZWxzZSBpZiAoYm94SW5mby5pc0luUmlnaHRDb2x1bW4pIHtcbiAgICAgICAgbWFyZ2luQm94ZXMucmlnaHRbbmFtZV0gPSBjb250YWluZXI7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRHluYW1pY2FsbHkgZ2VuZXJhdGUgYW5kIG1hbmFnZSBwYWdlIG1hc3RlcnMgY29ycmVzcG9uZGluZyB0byBwYWdlIGF0LXJ1bGVzLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZU1hbmFnZXIge1xuICBwcml2YXRlIHBhZ2VNYXN0ZXJDYWNoZTogYW55ID0ge30gYXMge1xuICAgIFtrZXk6IHN0cmluZ106IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlO1xuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbiAgICBwcml2YXRlIHJlYWRvbmx5IHBhZ2VTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcm9vdFBhZ2VCb3hJbnN0YW5jZTogUGFnZU1hc3Rlci5Sb290UGFnZUJveEluc3RhbmNlLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgY29udGV4dDogRXhwcnMuQ29udGV4dCxcbiAgICBwcml2YXRlIHJlYWRvbmx5IGRvY0VsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICkge1xuICAgIHRoaXMuZGVmaW5lUGFnZVByb2dyZXNzaW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHRoZSBwYWdlIHByb2dyZXNzaW9uIGFuZCBkZWZpbmUgbGVmdC9yaWdodC9yZWN0by92ZXJzbyBwYWdlcy5cbiAgICovXG4gIHByaXZhdGUgZGVmaW5lUGFnZVByb2dyZXNzaW9uKCkge1xuICAgIC8vIFRPRE8gSWYgYSBwYWdlIGJyZWFrIGlzIGZvcmNlZCBiZWZvcmUgdGhlIHJvb3QgZWxlbWVudCwgcmVjdG8vdmVyc28gcGFnZXNcbiAgICAvLyBhcmUgbm8gbG9uZ2VyIG9kZC9ldmVuIHBhZ2VzLiBsZWZ0L3JpZ2h0IGFyZSByZXZlcnNlZCB0b28uXG4gICAgY29uc3Qgc2NvcGUgPSB0aGlzLnBhZ2VTY29wZTtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gbmV3IEV4cHJzLk5hbWVkKHNjb3BlLCBcInBhZ2UtbnVtYmVyXCIpO1xuICAgIGNvbnN0IGlzRXZlblBhZ2UgPSBuZXcgRXhwcnMuRXEoXG4gICAgICBzY29wZSxcbiAgICAgIG5ldyBFeHBycy5Nb2R1bG8oc2NvcGUsIHBhZ2VOdW1iZXIsIG5ldyBFeHBycy5Db25zdChzY29wZSwgMikpLFxuICAgICAgc2NvcGUuemVybyxcbiAgICApO1xuICAgIHNjb3BlLmRlZmluZU5hbWUoXCJyZWN0by1wYWdlXCIsIG5ldyBFeHBycy5Ob3Qoc2NvcGUsIGlzRXZlblBhZ2UpKTtcbiAgICBzY29wZS5kZWZpbmVOYW1lKFwidmVyc28tcGFnZVwiLCBpc0V2ZW5QYWdlKTtcbiAgICBjb25zdCBzdHlsZUluc3RhbmNlOiBhbnkgLyogT3BzLlN0eWxlSW5zdGFuY2UgKi8gPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgcGFnZVByb2dyZXNzaW9uID1cbiAgICAgIHN0eWxlSW5zdGFuY2UucGFnZVByb2dyZXNzaW9uIHx8XG4gICAgICByZXNvbHZlUGFnZVByb2dyZXNzaW9uKHRoaXMuZG9jRWxlbWVudFN0eWxlKTtcbiAgICBpZiAocGFnZVByb2dyZXNzaW9uID09PSBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uLkxUUikge1xuICAgICAgc2NvcGUuZGVmaW5lTmFtZShcImxlZnQtcGFnZVwiLCBpc0V2ZW5QYWdlKTtcbiAgICAgIHNjb3BlLmRlZmluZU5hbWUoXCJyaWdodC1wYWdlXCIsIG5ldyBFeHBycy5Ob3Qoc2NvcGUsIGlzRXZlblBhZ2UpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NvcGUuZGVmaW5lTmFtZShcImxlZnQtcGFnZVwiLCBuZXcgRXhwcnMuTm90KHNjb3BlLCBpc0V2ZW5QYWdlKSk7XG4gICAgICBzY29wZS5kZWZpbmVOYW1lKFwicmlnaHQtcGFnZVwiLCBpc0V2ZW5QYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNhc2NhZGVkIHBhZ2Ugc3R5bGUgc3BlY2lmaWVkIGluIHBhZ2UgY29udGV4dCBmb3IgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICovXG4gIGdldENhc2NhZGVkUGFnZVN0eWxlKCk6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIHtcbiAgICBjb25zdCBzdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHRoaXMuY2FzY2FkZUluc3RhbmNlLnB1c2hSdWxlKFtdLCBcIlwiLCBzdHlsZSk7XG4gICAgdGhpcy5jYXNjYWRlSW5zdGFuY2UucG9wUnVsZSgpO1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBQYWdlTWFzdGVySW5zdGFuY2Ugd2l0aCBwYWdlIHJ1bGVzIGFwcGxpZWQuIFJldHVybiBhIGNhY2hlZFxuICAgKiBpbnN0YW5jZSBpZiB0aGVyZSBhbHJlYWR5IGV4aXN0cyBvbmUgd2l0aCB0aGUgc2FtZSBzdHlsZXMuXG4gICAqIEBwYXJhbSBwYWdlTWFzdGVySW5zdGFuY2UgVGhlIG9yaWdpbmFsIHBhZ2UgbWFzdGVyIGluc3RhbmNlLlxuICAgKiBAcGFyYW0gY2FzY2FkZWRQYWdlU3R5bGUgQ2FzY2FkZWQgcGFnZSBzdHlsZSBzcGVjaWZpZWQgaW4gcGFnZSBjb250ZXh0LlxuICAgKi9cbiAgZ2V0UGFnZVJ1bGVQYWdlTWFzdGVyKFxuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2UsXG4gICAgY2FzY2FkZWRQYWdlU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSB7XG4gICAgY29uc3QgcGFnZU1hc3RlciA9IHBhZ2VNYXN0ZXJJbnN0YW5jZS5wYWdlQm94IGFzIFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcjtcblxuICAgIC8vIElmIG5vIHByb3BlcmllcyBhcmUgc3BlY2lmaWVkIGluIEBwYWdlIHJ1bGVzLCB1c2UgdGhlIG9yaWdpbmFsIHBhZ2VcbiAgICAvLyBtYXN0ZXIuXG4gICAgaWYgKE9iamVjdC5rZXlzKGNhc2NhZGVkUGFnZVN0eWxlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHBhZ2VNYXN0ZXIucmVzZXRTY29wZSgpO1xuICAgICAgcmV0dXJuIHBhZ2VNYXN0ZXJJbnN0YW5jZTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gdGhpcy5tYWtlQ2FjaGVLZXkoY2FzY2FkZWRQYWdlU3R5bGUsIHBhZ2VNYXN0ZXIpO1xuICAgIGxldCBhcHBsaWVkID0gdGhpcy5wYWdlTWFzdGVyQ2FjaGVba2V5XTtcbiAgICBpZiAoIWFwcGxpZWQpIHtcbiAgICAgIGlmIChwYWdlTWFzdGVyLnBzZXVkb05hbWUgPT09IFBhZ2VNYXN0ZXIudXNlckFnZW50UGFnZU1hc3RlclBzZXVkbykge1xuICAgICAgICAvLyBJZiB0aGUgcGFzc2VkIHBhZ2UgbWFzdGVyIGlzIGEgVUEgcGFnZSBtYXN0ZXIsXG4gICAgICAgIC8vIGlnbm9yZSBpdCBhbmQgZ2VuZXJhdGUgYSBuZXcgcGFnZSBtYXN0ZXIgZnJvbSBAcGFnZSBydWxlcy5cbiAgICAgICAgYXBwbGllZCA9IHRoaXMuZ2VuZXJhdGVQYWdlUnVsZU1hc3RlcihjYXNjYWRlZFBhZ2VTdHlsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UgY2FzY2FkZSBzb21lIHByb3BlcnRpZXMgZnJvbSBAcGFnZSBydWxlcyB0byB0aGUgcGFnZVxuICAgICAgICAvLyBtYXN0ZXIuXG4gICAgICAgIGFwcGxpZWQgPSB0aGlzLmdlbmVyYXRlQ2FzY2FkZWRQYWdlTWFzdGVyKFxuICAgICAgICAgIGNhc2NhZGVkUGFnZVN0eWxlLFxuICAgICAgICAgIHBhZ2VNYXN0ZXIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhZ2VNYXN0ZXJDYWNoZVtrZXldID0gYXBwbGllZDtcbiAgICB9XG4gICAgYXBwbGllZC5wYWdlQm94LnJlc2V0U2NvcGUoKTtcbiAgICByZXR1cm4gYXBwbGllZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIGNhY2hlIGtleSBmcm9tIHRoZSBzcGVjaWZpZWQgc3R5bGVzIGFuZCB0aGUgb3JpZ2luYWwgcGFnZSBtYXN0ZXJcbiAgICoga2V5LlxuICAgKi9cbiAgcHJpdmF0ZSBtYWtlQ2FjaGVLZXkoXG4gICAgc3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcixcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBwcm9wc1N0ciA9IHRoaXMubWFrZUNhc2NhZGVWYWx1ZU9iamVjdEtleShzdHlsZSk7XG4gICAgcmV0dXJuIGAke3BhZ2VNYXN0ZXIua2V5fV4ke3Byb3BzU3RyfWA7XG4gIH1cblxuICBwcml2YXRlIG1ha2VDYXNjYWRlVmFsdWVPYmplY3RLZXkob2JqZWN0OiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSk6IHN0cmluZyB7XG4gICAgY29uc3QgcHJvcHMgPSBbXSBhcyBzdHJpbmdbXTtcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcCkpIHtcbiAgICAgICAgY29uc3QgdmFsID0gb2JqZWN0W3Byb3BdO1xuICAgICAgICBsZXQgc3RyOiBzdHJpbmc7XG4gICAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZSkge1xuICAgICAgICAgIHN0ciA9IGAke3ZhbC52YWx1ZX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9IHRoaXMubWFrZUNhc2NhZGVWYWx1ZU9iamVjdEtleSh2YWwpO1xuICAgICAgICB9XG4gICAgICAgIHByb3BzLnB1c2gocHJvcCArIHN0ciArICh2YWwucHJpb3JpdHkgfHwgXCJcIikpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcHMuc29ydCgpLmpvaW4oXCJeXCIpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW5lcmF0ZVBhZ2VSdWxlTWFzdGVyKFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKTogUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSB7XG4gICAgY29uc3QgcGFnZU1hc3RlciA9IG5ldyBQYWdlUnVsZU1hc3RlcihcbiAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLnBhZ2VCb3ggYXMgUGFnZU1hc3Rlci5Sb290UGFnZUJveCxcbiAgICAgIHN0eWxlLFxuICAgICk7XG4gICAgY29uc3QgcGFnZU1hc3Rlckluc3RhbmNlID0gcGFnZU1hc3Rlci5jcmVhdGVJbnN0YW5jZShcbiAgICAgIHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZSxcbiAgICApO1xuXG4gICAgLy8gRG8gdGhlIHNhbWUgaW5pdGlhbGl6YXRpb24gYXMgaW4gT3BzLlN0eWxlSW5zdGFuY2UucHJvdG90eXBlLmluaXRcbiAgICBwYWdlTWFzdGVySW5zdGFuY2UuYXBwbHlDYXNjYWRlQW5kSW5pdChcbiAgICAgIHRoaXMuY2FzY2FkZUluc3RhbmNlLFxuICAgICAgdGhpcy5kb2NFbGVtZW50U3R5bGUsXG4gICAgKTtcbiAgICBwYWdlTWFzdGVySW5zdGFuY2UucmVzb2x2ZUF1dG9TaXppbmcodGhpcy5jb250ZXh0KTtcbiAgICByZXR1cm4gcGFnZU1hc3Rlckluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhc2NhZGUgc29tZSBwcm9wZXJ0aWVzIGZyb20gYEBwYWdlYCBydWxlcyB0byBhIHBhZ2UgbWFzdGVyLlxuICAgKiBGb3Igbm93LCBvbmx5ICd3aWR0aCcgYW5kICdoZWlnaHQnIHJlc29sdmVkIGZyb20gJ3NpemUnIHZhbHVlIGFyZSBjYXNjYWRlZC5cbiAgICogQHBhcmFtIHN0eWxlIENhc2NhZGVkIHN0eWxlIGluIHRoZSBwYWdlIGNvbnRleHRcbiAgICogQHBhcmFtIHBhZ2VNYXN0ZXIgVGhlIG9yaWdpbmFsIHBhZ2UgbWFzdGVyXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlQ2FzY2FkZWRQYWdlTWFzdGVyKFxuICAgIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwYWdlTWFzdGVyOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXIsXG4gICk6IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlIHtcbiAgICBjb25zdCBuZXdQYWdlTWFzdGVyID0gcGFnZU1hc3Rlci5jbG9uZSh7XG4gICAgICBwc2V1ZG9OYW1lOiBwYWdlUnVsZU1hc3RlclBzZXVkb05hbWUsXG4gICAgfSk7XG4gICAgY29uc3QgcGFnZU1hc3RlclN0eWxlID0gbmV3UGFnZU1hc3Rlci5zcGVjaWZpZWQ7XG4gICAgY29uc3Qgc2l6ZSA9IHN0eWxlW1wic2l6ZVwiXTtcbiAgICBpZiAoc2l6ZSkge1xuICAgICAgY29uc3QgcGFnZVNpemUgPSByZXNvbHZlUGFnZVNpemVBbmRCbGVlZChzdHlsZSBhcyBhbnkpO1xuICAgICAgY29uc3QgcHJpb3JpdHkgPSBzaXplLnByaW9yaXR5O1xuICAgICAgcGFnZU1hc3RlclN0eWxlW1wid2lkdGhcIl0gPSBDc3NDYXNjYWRlLmNhc2NhZGVWYWx1ZXMoXG4gICAgICAgIHRoaXMuY29udGV4dCxcbiAgICAgICAgcGFnZU1hc3RlclN0eWxlW1wid2lkdGhcIl0sXG4gICAgICAgIG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShwYWdlU2l6ZS53aWR0aCwgcHJpb3JpdHkpLFxuICAgICAgKTtcbiAgICAgIHBhZ2VNYXN0ZXJTdHlsZVtcImhlaWdodFwiXSA9IENzc0Nhc2NhZGUuY2FzY2FkZVZhbHVlcyhcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgICBwYWdlTWFzdGVyU3R5bGVbXCJoZWlnaHRcIl0sXG4gICAgICAgIG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVWYWx1ZShwYWdlU2l6ZS5oZWlnaHQsIHByaW9yaXR5KSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVHJhbnNmZXIgY291bnRlciBwcm9wZXJ0aWVzIHRvIHRoZSBwYWdlIHN0eWxlIHNvIHRoYXQgdGhlc2Ugc3BlY2lmaWVkIGluXG4gICAgLy8gdGhlIHBhZ2UgbWFzdGVyIGFyZSBhbHNvIGVmZmVjdGl2ZS4gTm90ZSB0aGF0IHRoZXNlIHZhbHVlcyAoaWYgc3BlY2lmaWVkKVxuICAgIC8vIGFsd2F5cyBvdmVycmlkZSB2YWx1ZXMgaW4gcGFnZSBjb250ZXh0cy5cbiAgICBbXCJjb3VudGVyLXJlc2V0XCIsIFwiY291bnRlci1pbmNyZW1lbnRcIl0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgaWYgKHBhZ2VNYXN0ZXJTdHlsZVtuYW1lXSkge1xuICAgICAgICBzdHlsZVtuYW1lXSA9IHBhZ2VNYXN0ZXJTdHlsZVtuYW1lXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBwYWdlTWFzdGVySW5zdGFuY2UgPSBuZXdQYWdlTWFzdGVyLmNyZWF0ZUluc3RhbmNlKFxuICAgICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLFxuICAgICkgYXMgUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2U7XG5cbiAgICAvLyBEbyB0aGUgc2FtZSBpbml0aWFsaXphdGlvbiBhcyBpbiBPcHMuU3R5bGVJbnN0YW5jZS5wcm90b3R5cGUuaW5pdFxuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZS5hcHBseUNhc2NhZGVBbmRJbml0KFxuICAgICAgdGhpcy5jYXNjYWRlSW5zdGFuY2UsXG4gICAgICB0aGlzLmRvY0VsZW1lbnRTdHlsZSxcbiAgICApO1xuICAgIHBhZ2VNYXN0ZXJJbnN0YW5jZS5yZXNvbHZlQXV0b1NpemluZyh0aGlzLmNvbnRleHQpO1xuICAgIHJldHVybiBwYWdlTWFzdGVySW5zdGFuY2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrUGFnZVR5cGVBY3Rpb24gZXh0ZW5kcyBDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcmVhZG9ubHkgcGFnZVR5cGU6IHN0cmluZykge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseShjYXNjYWRlSW5zdGFuY2U6IENzc0Nhc2NhZGUuQ2FzY2FkZUluc3RhbmNlKTogdm9pZCB7XG4gICAgaWYgKGNhc2NhZGVJbnN0YW5jZS5jdXJyZW50UGFnZVR5cGUgPT09IHRoaXMucGFnZVR5cGUpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDM7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlUHJpbWFyeShjYXNjYWRlOiBDc3NDYXNjYWRlLkNhc2NhZGUpOiBib29sZWFuIHtcbiAgICBpZiAodGhpcy5jaGFpbmVkKSB7XG4gICAgICBjYXNjYWRlLmluc2VydEluVGFibGUoY2FzY2FkZS5wYWdldHlwZXMsIHRoaXMucGFnZVR5cGUsIHRoaXMuY2hhaW5lZCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0ZpcnN0UGFnZUFjdGlvbiBleHRlbmRzIENzc0Nhc2NhZGUuQ2hhaW5lZEFjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByZWFkb25seSBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGFwcGx5KGNhc2NhZGVJbnN0YW5jZTogQ3NzQ2FzY2FkZS5DYXNjYWRlSW5zdGFuY2UpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc2NvcGUsIFwicGFnZS1udW1iZXJcIik7XG4gICAgaWYgKHBhZ2VOdW1iZXIuZXZhbHVhdGUoY2FzY2FkZUluc3RhbmNlLmNvbnRleHQpID09PSAxKSB7XG4gICAgICB0aGlzLmNoYWluZWQuYXBwbHkoY2FzY2FkZUluc3RhbmNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBnZXRQcmlvcml0eSgpOiBudW1iZXIge1xuICAgIHJldHVybiAyO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJc0xlZnRQYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IGxlZnRQYWdlID0gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc2NvcGUsIFwibGVmdC1wYWdlXCIpO1xuICAgIGlmIChsZWZ0UGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzUmlnaHRQYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IHJpZ2h0UGFnZSA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcInJpZ2h0LXBhZ2VcIik7XG4gICAgaWYgKHJpZ2h0UGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzUmVjdG9QYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IHJlY3RvUGFnZSA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcInJlY3RvLXBhZ2VcIik7XG4gICAgaWYgKHJlY3RvUGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIElzVmVyc29QYWdlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5DaGFpbmVkQWN0aW9uIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGUpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIGNvbnN0IHZlcnNvUGFnZSA9IG5ldyBFeHBycy5OYW1lZCh0aGlzLnNjb3BlLCBcInZlcnNvLXBhZ2VcIik7XG4gICAgaWYgKHZlcnNvUGFnZS5ldmFsdWF0ZShjYXNjYWRlSW5zdGFuY2UuY29udGV4dCkpIHtcbiAgICAgIHRoaXMuY2hhaW5lZC5hcHBseShjYXNjYWRlSW5zdGFuY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFByaW9yaXR5KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbn1cblxuLyoqXG4gKiBBY3Rpb24gYXBwbHlpbmcgYW4gYXQtcGFnZSBydWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBBcHBseVBhZ2VSdWxlQWN0aW9uIGV4dGVuZHMgQ3NzQ2FzY2FkZS5BcHBseVJ1bGVBY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsIHNwZWNpZmljaXR5OiBudW1iZXIpIHtcbiAgICBzdXBlcihzdHlsZSwgc3BlY2lmaWNpdHksIG51bGwsIG51bGwsIG51bGwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgYXBwbHkoY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSk6IHZvaWQge1xuICAgIG1lcmdlSW5QYWdlUnVsZShcbiAgICAgIGNhc2NhZGVJbnN0YW5jZS5jb250ZXh0LFxuICAgICAgY2FzY2FkZUluc3RhbmNlLmN1cnJlbnRTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGUsXG4gICAgICB0aGlzLnNwZWNpZmljaXR5LFxuICAgICAgY2FzY2FkZUluc3RhbmNlLFxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBNZXJnZSBwYWdlIHN0eWxlcywgaW5jbHVkaW5nIHN0eWxlcyBzcGVjaWZpZWQgb24gcGFnZS1tYXJnaW4gYm94ZXMsXG4gKiBjb25zaWRlcmluZyBzcGVjaWZpY2l0eS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBpbiBwbGFjZSBvZlxuICogQ3NzQ2FzY2FkZS5tZXJnZUluLCB3aGljaCBpcyBmb3IgZWxlbWVudCBzdHlsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUluUGFnZVJ1bGUoXG4gIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gIHRhcmdldDogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gIHN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgc3BlY2lmaWNpdHk6IG51bWJlcixcbiAgY2FzY2FkZUluc3RhbmNlOiBDc3NDYXNjYWRlLkNhc2NhZGVJbnN0YW5jZSxcbik6IHZvaWQge1xuICBDc3NDYXNjYWRlLm1lcmdlSW4oY29udGV4dCwgdGFyZ2V0LCBzdHlsZSwgc3BlY2lmaWNpdHksIG51bGwsIG51bGwsIG51bGwpO1xuICBjb25zdCBtYXJnaW5Cb3hlcyA9IHN0eWxlW21hcmdpbkJveGVzS2V5XTtcbiAgaWYgKG1hcmdpbkJveGVzKSB7XG4gICAgY29uc3QgdGFyZ2V0TWFwID0gQ3NzQ2FzY2FkZS5nZXRNdXRhYmxlU3R5bGVNYXAodGFyZ2V0LCBtYXJnaW5Cb3hlc0tleSk7XG4gICAgZm9yIChjb25zdCBib3hOYW1lIGluIG1hcmdpbkJveGVzKSB7XG4gICAgICBpZiAobWFyZ2luQm94ZXMuaGFzT3duUHJvcGVydHkoYm94TmFtZSkpIHtcbiAgICAgICAgbGV0IHRhcmdldEJveCA9IHRhcmdldE1hcFtib3hOYW1lXTtcbiAgICAgICAgaWYgKCF0YXJnZXRCb3gpIHtcbiAgICAgICAgICB0YXJnZXRCb3ggPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICAgICAgICB0YXJnZXRNYXBbYm94TmFtZV0gPSB0YXJnZXRCb3g7XG4gICAgICAgIH1cbiAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZUluKFxuICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgdGFyZ2V0Qm94LFxuICAgICAgICAgIG1hcmdpbkJveGVzW2JveE5hbWVdLFxuICAgICAgICAgIHNwZWNpZmljaXR5LFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlckhhbmRsZXIgZm9yIGBAcGFnZWAgcnVsZXMuIEl0IGhhbmRsZXMgcHJvcGVydGllcyBzcGVjaWZpZWQgd2l0aCBwYWdlXG4gKiBjb250ZXh0cy4gSXQgYWxzbyBkb2VzIGJhc2ljIGNhc2NhZGluZyAod2hpY2ggY2FuIGJlIGRvbmUgd2l0aG91dCBpbmZvcm1hdGlvblxuICogb3RoZXIgdGhhbiB0aGUgcGFnZSBydWxlcyB0aGVtc2VsdmVzKSBhbmQgc3RvcmVzIHRoZSByZXN1bHQgaW4gYHBhZ2VQcm9wc2BcbiAqIG9iamVjdCBhcyBhIG1hcCBmcm9tIHBhZ2Ugc2VsZWN0b3JzIHRvIHNldHMgb2YgcHJvcGVydGllcy4gVGhpcyByZXN1bHQgaXNcbiAqIGxhdGVyIHVzZWQgZm9yIGFkZGluZyBgQHBhZ2VgIHJ1bGVzIHRvIHRoZSByZWFsIERPTSwgd2hpY2ggYXJlIHRoZW4gdXNlZCBieVxuICogdGhlIFBERiByZW5kZXJlciAoQ2hyb21pdW0pIHRvIGRldGVybWluZSBwYWdlIHNpemVzLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBwcml2YXRlIGN1cnJlbnRQYWdlU2VsZWN0b3JzOiB7XG4gICAgc2VsZWN0b3JzOiBzdHJpbmdbXSB8IG51bGw7XG4gICAgc3BlY2lmaWNpdHk6IG51bWJlcjtcbiAgfVtdID0gW107XG4gIHByaXZhdGUgY3VycmVudE5hbWVkUGFnZVNlbGVjdG9yOiBzdHJpbmcgPSBcIlwiO1xuICBwcml2YXRlIGN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnM6IHN0cmluZ1tdID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBvd25lcjogQ3NzUGFyc2VyLkRpc3BhdGNoUGFyc2VySGFuZGxlcixcbiAgICBwYXJlbnQ6IENzc0Nhc2NhZGUuQ2FzY2FkZVBhcnNlckhhbmRsZXIsXG4gICAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0LFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcGFnZVByb3BzOiB7IFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0sXG4gICkge1xuICAgIHN1cGVyKHNjb3BlLCBvd25lciwgbnVsbCwgcGFyZW50LCBudWxsLCB2YWxpZGF0b3JTZXQsIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZVJ1bGUoKTogdm9pZCB7XG4gICAgdGhpcy5zdGFydFNlbGVjdG9yUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdGFnU2VsZWN0b3IobnM6IHN0cmluZyB8IG51bGwsIG5hbWU6IHN0cmluZyB8IG51bGwpOiB2b2lkIHtcbiAgICBBc3NlcnRzLmFzc2VydChuYW1lKTtcbiAgICB0aGlzLmN1cnJlbnROYW1lZFBhZ2VTZWxlY3RvciA9IG5hbWU7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHRoaXMuY2hhaW4ucHVzaChuZXcgQ2hlY2tQYWdlVHlwZUFjdGlvbihuYW1lKSk7XG4gICAgICB0aGlzLnNwZWNpZmljaXR5ICs9IDY1NTM2O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBzZXVkb2NsYXNzU2VsZWN0b3IobmFtZTogc3RyaW5nLCBwYXJhbXM6IChudW1iZXIgfCBzdHJpbmcpW10pOiB2b2lkIHtcbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICB0aGlzLnJlcG9ydEFuZFNraXAoXG4gICAgICAgIGBFX0lOVkFMSURfUEFHRV9TRUxFQ1RPUiA6JHtuYW1lfSgke3BhcmFtcy5qb2luKFwiXCIpfSlgLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzLnB1c2goYDoke25hbWV9YCk7XG4gICAgc3dpdGNoIChuYW1lLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIGNhc2UgXCJmaXJzdFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzRmlyc3RQYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAyNTY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgdGhpcy5jaGFpbi5wdXNoKG5ldyBJc0xlZnRQYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzUmlnaHRQYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZWN0b1wiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzUmVjdG9QYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ2ZXJzb1wiOlxuICAgICAgICB0aGlzLmNoYWluLnB1c2gobmV3IElzVmVyc29QYWdlQWN0aW9uKHRoaXMuc2NvcGUpKTtcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSArPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMucmVwb3J0QW5kU2tpcChgRV9JTlZBTElEX1BBR0VfU0VMRUNUT1IgOiR7bmFtZX1gKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhdmUgY3VycmVudGx5IHByb2Nlc3NlZCBzZWxlY3RvciBhbmQgcmVzZXQgdmFyaWFibGVzLlxuICAgKi9cbiAgcHJpdmF0ZSBmaW5pc2hTZWxlY3RvcigpIHtcbiAgICBsZXQgc2VsZWN0b3JzOiBzdHJpbmdbXTtcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jdXJyZW50TmFtZWRQYWdlU2VsZWN0b3IgJiZcbiAgICAgICF0aGlzLmN1cnJlbnRQc2V1ZG9QYWdlQ2xhc3NTZWxlY3RvcnMubGVuZ3RoXG4gICAgKSB7XG4gICAgICBzZWxlY3RvcnMgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RvcnMgPSBbdGhpcy5jdXJyZW50TmFtZWRQYWdlU2VsZWN0b3JdLmNvbmNhdChcbiAgICAgICAgdGhpcy5jdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzLnNvcnQoKSxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudFBhZ2VTZWxlY3RvcnMucHVzaCh7XG4gICAgICBzZWxlY3RvcnMsXG4gICAgICBzcGVjaWZpY2l0eTogdGhpcy5zcGVjaWZpY2l0eSxcbiAgICB9KTtcbiAgICB0aGlzLmN1cnJlbnROYW1lZFBhZ2VTZWxlY3RvciA9IFwiXCI7XG4gICAgdGhpcy5jdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzID0gW107XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBuZXh0U2VsZWN0b3IoKTogdm9pZCB7XG4gICAgdGhpcy5maW5pc2hTZWxlY3RvcigpO1xuICAgIHN1cGVyLm5leHRTZWxlY3RvcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICB0aGlzLmZpbmlzaFNlbGVjdG9yKCk7XG4gICAgc3VwZXIuc3RhcnRSdWxlQm9keSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc2ltcGxlUHJvcGVydHkobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCwgaW1wb3J0YW50KTogdm9pZCB7XG4gICAgLy8gd2UgbGltaXQgJ2JsZWVkJyBhbmQgJ21hcmtzJyB0byBiZSBlZmZlY3RpdmUgb25seSB3aGVuIHNwZWNpZmllZCB3aXRob3V0XG4gICAgLy8gcGFnZSBzZWxlY3RvcnNcbiAgICBpZiAoXG4gICAgICAobmFtZSA9PT0gXCJibGVlZFwiIHx8IG5hbWUgPT09IFwibWFya3NcIikgJiZcbiAgICAgICF0aGlzLmN1cnJlbnRQYWdlU2VsZWN0b3JzLnNvbWUoKHMpID0+IHMuc2VsZWN0b3JzID09PSBudWxsKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdXBlci5zaW1wbGVQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgaW1wb3J0YW50KTtcbiAgICBjb25zdCBjYXNjVmFsID0gQ3NzQ2FzY2FkZS5nZXRQcm9wKHRoaXMuZWxlbWVudFN0eWxlLCBuYW1lKTtcbiAgICBjb25zdCBwYWdlUHJvcHMgPSB0aGlzLnBhZ2VQcm9wcztcbiAgICBpZiAobmFtZSA9PT0gXCJibGVlZFwiIHx8IG5hbWUgPT09IFwibWFya3NcIikge1xuICAgICAgaWYgKCFwYWdlUHJvcHNbXCJcIl0pIHtcbiAgICAgICAgcGFnZVByb3BzW1wiXCJdID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGNhbiBzaW1wbHkgb3ZlcndyaXRlIHdpdGhvdXQgY29uc2lkZXJpbmcgc3BlY2lmaWNpdHlcbiAgICAgIC8vIHNpbmNlICdibGVlZCcgYW5kICdtYXJrcycgYWx3YXlzIGNvbWUgZnJvbSBhIHBhZ2UgcnVsZSB3aXRob3V0IHBhZ2VcbiAgICAgIC8vIHNlbGVjdG9ycy5cbiAgICAgIE9iamVjdC5rZXlzKHBhZ2VQcm9wcykuZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICAgICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHBhZ2VQcm9wc1tzZWxlY3Rvcl0sIG5hbWUsIGNhc2NWYWwpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSBcInNpemVcIikge1xuICAgICAgY29uc3Qgbm9QYWdlU2VsZWN0b3JQcm9wcyA9IHBhZ2VQcm9wc1tcIlwiXTtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2VTZWxlY3RvcnMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAvLyB1cGRhdGUgc3BlY2lmaWNpdHkgdG8gcmVmbGVjdCB0aGUgc3BlY2lmaWNpdHkgb2YgdGhlIHNlbGVjdG9yXG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUoXG4gICAgICAgICAgY2FzY1ZhbC52YWx1ZSxcbiAgICAgICAgICBjYXNjVmFsLnByaW9yaXR5ICsgcy5zcGVjaWZpY2l0eSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2VsZWN0b3IgPSBzLnNlbGVjdG9ycyA/IHMuc2VsZWN0b3JzLmpvaW4oXCJcIikgOiBcIlwiO1xuICAgICAgICBsZXQgcHJvcHMgPSBwYWdlUHJvcHNbc2VsZWN0b3JdO1xuICAgICAgICBpZiAoIXByb3BzKSB7XG4gICAgICAgICAgLy8gc2luY2Ugbm8gcHJvcGVydGllcyBmb3IgdGhpcyBzZWxlY3RvciBoYXZlIGJlZW4gc3RvcmVkIGJlZm9yZSxcbiAgICAgICAgICAvLyB3ZSBjYW4gc2ltcGx5IHNldCB0aGUgJ3NpemUnLCAnYmxlZWQnIGFuZCAnbWFya3MnIHByb3BlcnRpZXMuXG4gICAgICAgICAgcHJvcHMgPSBwYWdlUHJvcHNbc2VsZWN0b3JdID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICAgICAgQ3NzQ2FzY2FkZS5zZXRQcm9wKHByb3BzLCBuYW1lLCByZXN1bHQpO1xuICAgICAgICAgIGlmIChub1BhZ2VTZWxlY3RvclByb3BzKSB7XG4gICAgICAgICAgICBbXCJibGVlZFwiLCBcIm1hcmtzXCJdLmZvckVhY2goKG4pID0+IHtcbiAgICAgICAgICAgICAgaWYgKG5vUGFnZVNlbGVjdG9yUHJvcHNbbl0pIHtcbiAgICAgICAgICAgICAgICBDc3NDYXNjYWRlLnNldFByb3AocHJvcHMsIG4sIG5vUGFnZVNlbGVjdG9yUHJvcHNbbl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gY29uc2lkZXIgc3BlY2lmaWNpdHkgd2hlbiBzZXR0aW5nICdzaXplJyBwcm9wZXJ0eS5cbiAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIHRvIHNldCAnYmxlZWQnIGFuZCAnbWFya3MnIHNpbmNlIHRoZXkgc2hvdWxkIGhhdmVcbiAgICAgICAgICAvLyBiZWVuIGFscmVhZHkgdXBkYXRlZC5cbiAgICAgICAgICBjb25zdCBwcmV2Q2FzY1ZhbCA9IENzc0Nhc2NhZGUuZ2V0UHJvcChwcm9wcywgbmFtZSk7XG4gICAgICAgICAgcmVzdWx0ID0gcHJldkNhc2NWYWxcbiAgICAgICAgICAgID8gQ3NzQ2FzY2FkZS5jYXNjYWRlVmFsdWVzKG51bGwsIHJlc3VsdCwgcHJldkNhc2NWYWwpXG4gICAgICAgICAgICA6IHJlc3VsdDtcbiAgICAgICAgICBDc3NDYXNjYWRlLnNldFByb3AocHJvcHMsIG5hbWUsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGluc2VydE5vblByaW1hcnkoYWN0aW9uOiBDc3NDYXNjYWRlLkNhc2NhZGVBY3Rpb24pOiB2b2lkIHtcbiAgICAvLyBXZSByZXByZXNlbnQgcGFnZSBydWxlcyB3aXRob3V0IHNlbGVjdG9ycyBieSAqLCB0aG91Z2ggaXQgaXMgaWxsZWdhbCBpblxuICAgIC8vIENTU1xuICAgIHRoaXMuY2FzY2FkZS5pbnNlcnRJblRhYmxlKHRoaXMuY2FzY2FkZS5wYWdldHlwZXMsIFwiKlwiLCBhY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbWFrZUFwcGx5UnVsZUFjdGlvbihzcGVjaWZpY2l0eTogbnVtYmVyKTogQ3NzQ2FzY2FkZS5BcHBseVJ1bGVBY3Rpb24ge1xuICAgIHJldHVybiBuZXcgQXBwbHlQYWdlUnVsZUFjdGlvbih0aGlzLmVsZW1lbnRTdHlsZSwgc3BlY2lmaWNpdHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRQYWdlTWFyZ2luQm94UnVsZShuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBtYXJnaW5Cb3hNYXAgPSBDc3NDYXNjYWRlLmdldE11dGFibGVTdHlsZU1hcChcbiAgICAgIHRoaXMuZWxlbWVudFN0eWxlLFxuICAgICAgbWFyZ2luQm94ZXNLZXksXG4gICAgKTtcbiAgICBsZXQgYm94U3R5bGUgPSBtYXJnaW5Cb3hNYXBbbmFtZV07XG4gICAgaWYgKCFib3hTdHlsZSkge1xuICAgICAgYm94U3R5bGUgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICAgIG1hcmdpbkJveE1hcFtuYW1lXSA9IGJveFN0eWxlO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVyID0gbmV3IFBhZ2VNYXJnaW5Cb3hQYXJzZXJIYW5kbGVyKFxuICAgICAgdGhpcy5zY29wZSxcbiAgICAgIHRoaXMub3duZXIsXG4gICAgICB0aGlzLnZhbGlkYXRvclNldCxcbiAgICAgIGJveFN0eWxlLFxuICAgICk7XG4gICAgdGhpcy5vd25lci5wdXNoSGFuZGxlcihoYW5kbGVyKTtcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlciBoYW5kbGVyIGZvciBhIHBhZ2UtbWFyZ2luIGJveCBydWxlLlxuICovXG5leHBvcnQgY2xhc3MgUGFnZU1hcmdpbkJveFBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NQYXJzZXIuU2xhdmVQYXJzZXJIYW5kbGVyXG4gIGltcGxlbWVudHMgQ3NzVmFsaWRhdG9yLlByb3BlcnR5UmVjZWl2ZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICBzY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIG93bmVyOiBDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyLFxuICAgIHB1YmxpYyByZWFkb25seSB2YWxpZGF0b3JTZXQ6IENzc1ZhbGlkYXRvci5WYWxpZGF0b3JTZXQsXG4gICAgcHVibGljIHJlYWRvbmx5IGJveFN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgKSB7XG4gICAgc3VwZXIoc2NvcGUsIG93bmVyLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9wZXJ0eShuYW1lOiBzdHJpbmcsIHZhbHVlOiBDc3MuVmFsLCBpbXBvcnRhbnQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICB0aGlzLnZhbGlkYXRvclNldC52YWxpZGF0ZVByb3BlcnR5QW5kSGFuZGxlU2hvcnRoYW5kKFxuICAgICAgbmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgaW1wb3J0YW50LFxuICAgICAgdGhpcyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgaW52YWxpZFByb3BlcnR5VmFsdWUobmFtZTogc3RyaW5nLCB2YWx1ZTogQ3NzLlZhbCk6IHZvaWQge1xuICAgIHRoaXMucmVwb3J0KGBFX0lOVkFMSURfUFJPUEVSVFlfVkFMVUUgJHtuYW1lfTogJHt2YWx1ZS50b1N0cmluZygpfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5rbm93blByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwpOiB2b2lkIHtcbiAgICB0aGlzLnJlcG9ydChgRV9JTlZBTElEX1BST1BFUlRZICR7bmFtZX06ICR7dmFsdWUudG9TdHJpbmcoKX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNpbXBsZVByb3BlcnR5KG5hbWU6IHN0cmluZywgdmFsdWU6IENzcy5WYWwsIGltcG9ydGFudCk6IHZvaWQge1xuICAgIGNvbnN0IHNwZWNpZmljaXR5ID0gaW1wb3J0YW50XG4gICAgICA/IHRoaXMuZ2V0SW1wb3J0YW50U3BlY2lmaWNpdHkoKVxuICAgICAgOiB0aGlzLmdldEJhc2VTcGVjaWZpY2l0eSgpO1xuICAgIGNvbnN0IGNhc2N2YWwgPSBuZXcgQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUodmFsdWUsIHNwZWNpZmljaXR5KTtcbiAgICBDc3NDYXNjYWRlLnNldFByb3AodGhpcy5ib3hTdHlsZSwgbmFtZSwgY2FzY3ZhbCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFVybHMgLSBVUkwgVXRpbGl0aWVzXG4gKi9cblxuLyoqXG4gKiB0cmFuc2Zvcm0gYWxsIHVybHMgaW4gYXR0cmlidXRlVmFsdWUgdXNpbmcgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci5cbiAqXG4gKiBAcmV0dXJucyB0cmFuc2Zvcm1lZCBhdHRyaWJ1dGVWYWx1ZVxuICovXG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1VUklzID0gKFxuICBhdHRyaWJ1dGVWYWx1ZSxcbiAgYmFzZVVybCxcbiAgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbikgPT5cbiAgYXR0cmlidXRlVmFsdWVcbiAgICAucmVwbGFjZShcbiAgICAgIC9bdVVdW3JSXVtsTF1cXChcXHMqXCIoKFxcXFwoW14wLTlhLWZBLUZdK3xbMC05YS1mQS1GXStcXHMqKXxbXlwiXFxyXFxuXSkrKVwiL2dtLFxuICAgICAgKG1hdGNoLCBtMSkgPT5cbiAgICAgICAgYHVybChcIiR7ZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwobTEsIGJhc2VVcmwpfVwiYCxcbiAgICApXG4gICAgLnJlcGxhY2UoXG4gICAgICAvW3VVXVtyUl1bbExdXFwoXFxzKicoKFxcXFwoW14wLTlhLWZBLUZdK3xbMC05YS1mQS1GXStcXHMqKXxbXidcXHJcXG5dKSspJy9nbSxcbiAgICAgIChtYXRjaCwgbTEpID0+XG4gICAgICAgIGB1cmwoJyR7ZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwobTEsIGJhc2VVcmwpfSdgLFxuICAgIClcbiAgICAucmVwbGFjZShcbiAgICAgIC9bdVVdW3JSXVtsTF1cXChcXHMqKChcXFxcKFteMC05YS1mQS1GXSt8WzAtOWEtZkEtRl0rXFxzKil8W15cIidcXHJcXG5cXClcXHNdKSspL2dtLFxuICAgICAgKG1hdGNoLCBtMSkgPT4gYHVybCgke2RvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtVVJMKG0xLCBiYXNlVXJsKX1gLFxuICAgICk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFZnZW4gLSBWaWV3IHRyZWUgZ2VuZXJhdG9yLlxuICovXG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzUHJvcCBmcm9tIFwiLi9jc3MtcHJvcFwiO1xuaW1wb3J0ICogYXMgQ3NzU3R5bGVyIGZyb20gXCIuL2Nzcy1zdHlsZXJcIjtcbmltcG9ydCAqIGFzIERpZmYgZnJvbSBcIi4vZGlmZlwiO1xuaW1wb3J0ICogYXMgRGlzcGxheSBmcm9tIFwiLi9kaXNwbGF5XCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBNYXRjaGVycyBmcm9tIFwiLi9tYXRjaGVyc1wiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUHNldWRvRWxlbWVudCBmcm9tIFwiLi9wc2V1ZG8tZWxlbWVudFwiO1xuaW1wb3J0ICogYXMgUmVwZXRpdGl2ZUVsZW1lbnQgZnJvbSBcIi4vcmVwZXRpdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRhc2tVdGlsIGZyb20gXCIuL3Rhc2stdXRpbFwiO1xuaW1wb3J0ICogYXMgVXJscyBmcm9tIFwiLi91cmxzXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0IHsgWG1sRG9jIH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuY29uc3QgbmFtZXNwYWNlUHJlZml4TWFwID0ge307XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VCbGFja0xpc3RIb3I6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XG4gIFwidGV4dC1pbmRlbnRcIjogXCIwcHhcIixcbiAgXCJtYXJnaW4tdG9wXCI6IFwiMHB4XCIsXG4gIFwicGFkZGluZy10b3BcIjogXCIwcHhcIixcbiAgXCJib3JkZXItdG9wLXdpZHRoXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLXRvcC1zdHlsZVwiOiBcIm5vbmVcIixcbiAgXCJib3JkZXItdG9wLWNvbG9yXCI6IFwidHJhbnNwYXJlbnRcIixcbiAgXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLXRvcC1yaWdodC1yYWRpdXNcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VCbGFja0xpc3RWZXJ0OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICBcInRleHQtaW5kZW50XCI6IFwiMHB4XCIsXG4gIFwibWFyZ2luLXJpZ2h0XCI6IFwiMHB4XCIsXG4gIFwicGFkZGluZy1yaWdodFwiOiBcIjBweFwiLFxuICBcImJvcmRlci1yaWdodC13aWR0aFwiOiBcIjBweFwiLFxuICBcImJvcmRlci1yaWdodC1zdHlsZVwiOiBcIm5vbmVcIixcbiAgXCJib3JkZXItcmlnaHQtY29sb3JcIjogXCJ0cmFuc3BhcmVudFwiLFxuICBcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6IFwiMHB4XCIsXG4gIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0SG9yOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICBcIm1hcmdpbi10b3BcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCBjb25zdCBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgXCJtYXJnaW4tcmlnaHRcIjogXCIwcHhcIixcbn07XG5cbmV4cG9ydCB0eXBlIEN1c3RvbVJlbmRlcmVyID0gKFxuICBwMTogRWxlbWVudCxcbiAgcDI6IEVsZW1lbnQsXG4gIHAzOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbikgPT4gVGFzay5SZXN1bHQ8RWxlbWVudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tUmVuZGVyZXJGYWN0b3J5IHtcbiAgbWFrZUN1c3RvbVJlbmRlcmVyKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcik6IEN1c3RvbVJlbmRlcmVyO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gZXB1YlJlYWRpbmdTeXN0ZW0gb2JqZWN0IGluIHRoZSBpZnJhbWUuY29udGVudFdpbmRvdy5uYXZpZ2F0b3JcbiAqIHdoZW4gbG9hZCBldmVudCBmaXJlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRJRnJhbWUoaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCk6IHZvaWQge1xuICBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImxvYWRcIixcbiAgICAoKSA9PiB7XG4gICAgICBpZnJhbWUuY29udGVudFdpbmRvdy5uYXZpZ2F0b3JbXCJlcHViUmVhZGluZ1N5c3RlbVwiXSA9IHtcbiAgICAgICAgbmFtZTogXCJhZGFwdFwiLFxuICAgICAgICB2ZXJzaW9uOiBcIjAuMVwiLFxuICAgICAgICBsYXlvdXRTdHlsZTogXCJwYWdpbmF0ZWRcIixcbiAgICAgICAgaGFzRmVhdHVyZTogZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24pIHtcbiAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZS1ldmVudHNcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSxcbiAgICBmYWxzZSxcbiAgKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZXJQcm9kdWNlciB7XG4gIGdldFN0eWxlckZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBWaWV3RmFjdG9yeSBleHRlbmRzIEJhc2UuU2ltcGxlRXZlbnRUYXJnZXRcbiAgaW1wbGVtZW50cyBWdHJlZS5MYXlvdXRDb250ZXh0IHtcbiAgcHJpdmF0ZSBzdGF0aWMgU1ZHX1VSTF9BVFRSSUJVVEVTOiBzdHJpbmdbXSA9IFtcbiAgICBcImNvbG9yLXByb2ZpbGVcIixcbiAgICBcImNsaXAtcGF0aFwiLFxuICAgIFwiY3Vyc29yXCIsXG4gICAgXCJmaWx0ZXJcIixcbiAgICBcIm1hcmtlclwiLFxuICAgIFwibWFya2VyLXN0YXJ0XCIsXG4gICAgXCJtYXJrZXItZW5kXCIsXG4gICAgXCJtYXJrZXItbWlkXCIsXG4gICAgXCJmaWxsXCIsXG4gICAgXCJzdHJva2VcIixcbiAgICBcIm1hc2tcIixcbiAgXTtcbiAgZG9jdW1lbnQ6IERvY3VtZW50O1xuICBleHByQ29udGVudExpc3RlbmVyOiBWdHJlZS5FeHByQ29udGVudExpc3RlbmVyO1xuXG4gIC8vIHByb3ZpZGVkIGJ5IGxheW91dFxuICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQgfCBudWxsID0gbnVsbDtcbiAgdmlld1Jvb3Q6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgaXNGb290bm90ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBzb3VyY2VOb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gIG9mZnNldEluTm9kZTogbnVtYmVyID0gMDtcblxuICAvLyBjb21wdXRlZFxuICAvLyBUT0RPOiBvbmx5IHNldCBpdCBvbiBOb2RlQ29udGV4dFxuICB2aWV3Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93TmFtZTogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydDogVmlld3BvcnQsXG4gICAgcHVibGljIHJlYWRvbmx5IHN0eWxlcjogQ3NzU3R5bGVyLlN0eWxlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHB1YmxpYyByZWFkb25seSBkb2NGYWNlczogRm9udC5Eb2N1bWVudEZhY2VzLFxuICAgIHB1YmxpYyByZWFkb25seSBmb290bm90ZVN0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3R5bGVyUHJvZHVjZXI6IFN0eWxlclByb2R1Y2VyLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIHB1YmxpYyByZWFkb25seSBjdXN0b21SZW5kZXJlcjogQ3VzdG9tUmVuZGVyZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZhbGxiYWNrTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHB1YmxpYyByZWFkb25seSBkb2N1bWVudFVSTFRyYW5zZm9ybWVyOiBCYXNlLkRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5kb2N1bWVudCA9IHZpZXdwb3J0LmRvY3VtZW50O1xuICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lciA9IHN0eWxlci5jb3VudGVyTGlzdGVuZXIuZ2V0RXhwckNvbnRlbnRMaXN0ZW5lcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY2xvbmUoKTogVnRyZWUuTGF5b3V0Q29udGV4dCB7XG4gICAgcmV0dXJuIG5ldyBWaWV3RmFjdG9yeShcbiAgICAgIHRoaXMuZmxvd05hbWUsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgICB0aGlzLnZpZXdwb3J0LFxuICAgICAgdGhpcy5zdHlsZXIsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMueG1sZG9jLFxuICAgICAgdGhpcy5kb2NGYWNlcyxcbiAgICAgIHRoaXMuZm9vdG5vdGVTdHlsZSxcbiAgICAgIHRoaXMuc3R5bGVyUHJvZHVjZXIsXG4gICAgICB0aGlzLnBhZ2UsXG4gICAgICB0aGlzLmN1c3RvbVJlbmRlcmVyLFxuICAgICAgdGhpcy5mYWxsYmFja01hcCxcbiAgICAgIHRoaXMuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICApO1xuICB9XG5cbiAgY3JlYXRlUHNldWRvZWxlbWVudFNoYWRvdyhcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgICBjYXNjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICAgcGFyZW50U2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0LFxuICAgIHN1YlNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCxcbiAgKTogVnRyZWUuU2hhZG93Q29udGV4dCB7XG4gICAgY29uc3QgcHNldWRvTWFwID0gdGhpcy5nZXRQc2V1ZG9NYXAoXG4gICAgICBjYXNjU3R5bGUsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMuaXNGb290bm90ZSxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgICBjb250ZXh0LFxuICAgICk7XG4gICAgaWYgKCFwc2V1ZG9NYXApIHtcbiAgICAgIHJldHVybiBzdWJTaGFkb3c7XG4gICAgfVxuICAgIGNvbnN0IGFkZGVkTmFtZXMgPSBbXTtcbiAgICBjb25zdCByb290ID0gUHNldWRvRWxlbWVudC5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoQmFzZS5OUy5TSEFET1csIFwicm9vdFwiKTtcbiAgICBsZXQgYXR0ID0gcm9vdDtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgUHNldWRvRWxlbWVudC5wc2V1ZG9OYW1lcykge1xuICAgICAgbGV0IGVsZW06IEVsZW1lbnQ7XG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICBpZiAoIXBzZXVkb01hcFtuYW1lXSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lID09IFwiZm9vdG5vdGUtbWFya2VyXCIgJiYgIShpc1Jvb3QgJiYgdGhpcy5pc0Zvb3Rub3RlKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYW1lLm1hdGNoKC9eZmlyc3QtLykpIHtcbiAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl07XG4gICAgICAgICAgaWYgKCFkaXNwbGF5IHx8IGRpc3BsYXkgPT09IENzcy5pZGVudC5pbmxpbmUpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PT0gXCJiZWZvcmVcIiB8fCBuYW1lID09PSBcImFmdGVyXCIpIHtcbiAgICAgICAgICBjb25zdCBjb250ZW50ID0gcHNldWRvTWFwW25hbWVdW1wiY29udGVudFwiXTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhY29udGVudCB8fFxuICAgICAgICAgICAgY29udGVudCA9PT0gQ3NzLmlkZW50Lm5vcm1hbCB8fFxuICAgICAgICAgICAgY29udGVudCA9PT0gQ3NzLmlkZW50Lm5vbmVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhZGRlZE5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIGVsZW0gPSBQc2V1ZG9FbGVtZW50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhCYXNlLk5TLlhIVE1MLCBcInNwYW5cIik7XG4gICAgICAgIFBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZShlbGVtLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW0gPSBQc2V1ZG9FbGVtZW50LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICBCYXNlLk5TLlNIQURPVyxcbiAgICAgICAgICBcImNvbnRlbnRcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGF0dC5hcHBlbmRDaGlsZChlbGVtKTtcbiAgICAgIGlmIChuYW1lLm1hdGNoKC9eZmlyc3QtLykpIHtcbiAgICAgICAgYXR0ID0gZWxlbTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFhZGRlZE5hbWVzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHN1YlNoYWRvdztcbiAgICB9XG4gICAgY29uc3Qgc2hhZG93U3R5bGVyID0gbmV3IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcihcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjYXNjU3R5bGUsXG4gICAgICBzdHlsZXIsXG4gICAgICBjb250ZXh0LFxuICAgICAgdGhpcy5leHByQ29udGVudExpc3RlbmVyLFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBWdHJlZS5TaGFkb3dDb250ZXh0KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHJvb3QsXG4gICAgICBudWxsLFxuICAgICAgcGFyZW50U2hhZG93LFxuICAgICAgc3ViU2hhZG93LFxuICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09UTEVTUyxcbiAgICAgIHNoYWRvd1N0eWxlcixcbiAgICApO1xuICB9XG5cbiAgZ2V0UHNldWRvTWFwKFxuICAgIGNhc2NTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgcmVnaW9uSWRzOiBzdHJpbmdbXSxcbiAgICBpc0Zvb3Rub3RlOiBib29sZWFuLFxuICAgIG5vZGVDb250ZXh0OiBWdHJlZS5Ob2RlQ29udGV4dCxcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICApIHtcbiAgICBjb25zdCBwc2V1ZG9NYXAgPSBDc3NDYXNjYWRlLmdldFN0eWxlTWFwKGNhc2NTdHlsZSwgXCJfcHNldWRvc1wiKTtcbiAgICBpZiAoIXBzZXVkb01hcCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGNvbXB1dGVkUHNldWRvU3R5bGVNYXAgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBwc2V1ZG9NYXApIHtcbiAgICAgIGNvbnN0IGNvbXB1dGVkUHNldWRvU3R5bGUgPSAoY29tcHV0ZWRQc2V1ZG9TdHlsZU1hcFtrZXldID0ge30pO1xuICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKGNvbXB1dGVkUHNldWRvU3R5bGUsIHBzZXVkb01hcFtrZXldLCBjb250ZXh0KTtcbiAgICAgIENzc0Nhc2NhZGUubWVyZ2VWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gICAgICAgIGNvbXB1dGVkUHNldWRvU3R5bGUsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHBzZXVkb01hcFtrZXldLFxuICAgICAgKTtcbiAgICAgIENzc0Nhc2NhZGUuZm9yRWFjaFN0eWxlc0luUmVnaW9uKFxuICAgICAgICBwc2V1ZG9NYXBba2V5XSxcbiAgICAgICAgcmVnaW9uSWRzLFxuICAgICAgICBpc0Zvb3Rub3RlLFxuICAgICAgICAocmVnaW9uSWQsIHJlZ2lvblN0eWxlKSA9PiB7XG4gICAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKGNvbXB1dGVkUHNldWRvU3R5bGUsIHJlZ2lvblN0eWxlLCBjb250ZXh0KTtcbiAgICAgICAgICBDc3NDYXNjYWRlLmZvckVhY2hWaWV3Q29uZGl0aW9uYWxTdHlsZXMoXG4gICAgICAgICAgICByZWdpb25TdHlsZSxcbiAgICAgICAgICAgICh2aWV3Q29uZGl0aW9uYWxTdHlsZXMpID0+IHtcbiAgICAgICAgICAgICAgQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkUHNldWRvU3R5bGUsXG4gICAgICAgICAgICAgICAgdmlld0NvbmRpdGlvbmFsU3R5bGVzLFxuICAgICAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZWRQc2V1ZG9TdHlsZU1hcDtcbiAgfVxuXG4gIGNyZWF0ZVJlZlNoYWRvdyhcbiAgICBocmVmOiBzdHJpbmcsXG4gICAgdHlwZTogVnRyZWUuU2hhZG93VHlwZSxcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHBhcmVudFNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCxcbiAgICBzdWJTaGFkb3c6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TaGFkb3dDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZVJlZlNoYWRvd1wiLFxuICAgICk7XG4gICAgc2VsZi54bWxkb2Muc3RvcmUubG9hZChocmVmKS50aGVuKChyZWZEb2NQYXJhbSkgPT4ge1xuICAgICAgY29uc3QgcmVmRG9jID0gcmVmRG9jUGFyYW07XG4gICAgICBpZiAocmVmRG9jKSB7XG4gICAgICAgIGNvbnN0IHJlZkVsZW1lbnQgPSByZWZEb2MuZ2V0RWxlbWVudChocmVmKTtcbiAgICAgICAgaWYgKHJlZkVsZW1lbnQpIHtcbiAgICAgICAgICBjb25zdCByZWZTdHlsZXIgPSBzZWxmLnN0eWxlclByb2R1Y2VyLmdldFN0eWxlckZvckRvYyhyZWZEb2MpO1xuICAgICAgICAgIHN1YlNoYWRvdyA9IG5ldyBWdHJlZS5TaGFkb3dDb250ZXh0KFxuICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgIHJlZkVsZW1lbnQsXG4gICAgICAgICAgICByZWZEb2MsXG4gICAgICAgICAgICBwYXJlbnRTaGFkb3csXG4gICAgICAgICAgICBzdWJTaGFkb3csXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmVmU3R5bGVyLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChzdWJTaGFkb3cpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNyZWF0ZVNoYWRvd3MoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBpc1Jvb3QsXG4gICAgY2FzY1N0eWxlOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICBzdHlsZXI6IENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcixcbiAgICBjb250ZXh0OiBFeHBycy5Db250ZXh0LFxuICAgIHNoYWRvd0NvbnRleHQ6IFZ0cmVlLlNoYWRvd0NvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TaGFkb3dDb250ZXh0PiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZVNoYWRvd3NcIixcbiAgICApO1xuICAgIGNvbnN0IHNoYWRvdzogVnRyZWUuU2hhZG93Q29udGV4dCA9IG51bGw7XG4gICAgY29uc3QgdGVtcGxhdGVVUkxWYWwgPSBjb21wdXRlZFN0eWxlW1widGVtcGxhdGVcIl07XG4gICAgbGV0IGNvbnQ6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+O1xuICAgIGlmICh0ZW1wbGF0ZVVSTFZhbCBpbnN0YW5jZW9mIENzcy5VUkwpIHtcbiAgICAgIGNvbnN0IHVybCA9ICh0ZW1wbGF0ZVVSTFZhbCBhcyBDc3MuVVJMKS51cmw7XG4gICAgICBjb250ID0gc2VsZi5jcmVhdGVSZWZTaGFkb3coXG4gICAgICAgIHVybCxcbiAgICAgICAgVnRyZWUuU2hhZG93VHlwZS5ST09UTEVTUyxcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgc2hhZG93LFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHNoYWRvdyk7XG4gICAgfVxuICAgIGNvbnQudGhlbigoc2hhZG93KSA9PiB7XG4gICAgICBsZXQgY29udDE6IFRhc2suUmVzdWx0PFZ0cmVlLlNoYWRvd0NvbnRleHQ+ID0gbnVsbDtcbiAgICAgIGlmIChlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNIQURPVykge1xuICAgICAgICBpZiAoZWxlbWVudC5sb2NhbE5hbWUgPT0gXCJpbmNsdWRlXCIpIHtcbiAgICAgICAgICBsZXQgaHJlZiA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgICAgICBsZXQgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyID0gbnVsbDtcbiAgICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgICAgeG1sZG9jID0gc2hhZG93Q29udGV4dCA/IHNoYWRvd0NvbnRleHQueG1sZG9jIDogc2VsZi54bWxkb2M7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaGFkb3dDb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAoc2hhZG93Q29udGV4dC5vd25lci5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgICAgICAgICBocmVmID0gc2hhZG93Q29udGV4dC5vd25lci5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaHJlZiA9IHNoYWRvd0NvbnRleHQub3duZXIuZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5YTElOSywgXCJocmVmXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeG1sZG9jID0gc2hhZG93Q29udGV4dC5wYXJlbnRTaGFkb3dcbiAgICAgICAgICAgICAgPyBzaGFkb3dDb250ZXh0LnBhcmVudFNoYWRvdy54bWxkb2NcbiAgICAgICAgICAgICAgOiBzZWxmLnhtbGRvYztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgIGhyZWYgPSBCYXNlLnJlc29sdmVVUkwoaHJlZiwgeG1sZG9jLnVybCk7XG4gICAgICAgICAgICBjb250MSA9IHNlbGYuY3JlYXRlUmVmU2hhZG93KFxuICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICBWdHJlZS5TaGFkb3dUeXBlLlJPT1RFRCxcbiAgICAgICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgICAgICAgc2hhZG93LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb250MSA9PSBudWxsKSB7XG4gICAgICAgIGNvbnQxID0gVGFzay5uZXdSZXN1bHQoc2hhZG93KTtcbiAgICAgIH1cbiAgICAgIGxldCBjb250MjogVGFzay5SZXN1bHQ8VnRyZWUuU2hhZG93Q29udGV4dD4gPSBudWxsO1xuICAgICAgY29udDEudGhlbigoc2hhZG93KSA9PiB7XG4gICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9PT0gQ3NzLmlkZW50LnRhYmxlX2NlbGwpIHtcbiAgICAgICAgICBjb25zdCB1cmwgPSBCYXNlLnJlc29sdmVVUkwoXG4gICAgICAgICAgICBcInVzZXItYWdlbnQueG1sI3RhYmxlLWNlbGxcIixcbiAgICAgICAgICAgIEJhc2UucmVzb3VyY2VCYXNlVVJMLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29udDIgPSBzZWxmLmNyZWF0ZVJlZlNoYWRvdyhcbiAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgIFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MsXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgc2hhZG93Q29udGV4dCxcbiAgICAgICAgICAgIHNoYWRvdyxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnQyID0gVGFzay5uZXdSZXN1bHQoc2hhZG93KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb250Mi50aGVuKChzaGFkb3cpID0+IHtcbiAgICAgICAgc2hhZG93ID0gc2VsZi5jcmVhdGVQc2V1ZG9lbGVtZW50U2hhZG93KFxuICAgICAgICAgIGVsZW1lbnQsXG4gICAgICAgICAgaXNSb290LFxuICAgICAgICAgIGNhc2NTdHlsZSxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICAgIHN0eWxlcixcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIHNoYWRvd0NvbnRleHQsXG4gICAgICAgICAgc2hhZG93LFxuICAgICAgICApO1xuICAgICAgICBmcmFtZS5maW5pc2goc2hhZG93KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldFZpZXdSb290KHZpZXdSb290OiBFbGVtZW50LCBpc0Zvb3Rub3RlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aWV3Um9vdCA9IHZpZXdSb290O1xuICAgIHRoaXMuaXNGb290bm90ZSA9IGlzRm9vdG5vdGU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiB2ZXJ0aWNhbFxuICAgKi9cbiAgY29tcHV0ZVN0eWxlKFxuICAgIHZlcnRpY2FsOiBib29sZWFuLFxuICAgIHJ0bDogYm9vbGVhbixcbiAgICBzdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgY29uc3QgY2FzY01hcCA9IENzc0Nhc2NhZGUuZmxhdHRlbkNhc2NhZGVkU3R5bGUoXG4gICAgICBzdHlsZSxcbiAgICAgIGNvbnRleHQsXG4gICAgICB0aGlzLnJlZ2lvbklkcyxcbiAgICAgIHRoaXMuaXNGb290bm90ZSxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQsXG4gICAgKTtcbiAgICB2ZXJ0aWNhbCA9IENzc0Nhc2NhZGUuaXNWZXJ0aWNhbChjYXNjTWFwLCBjb250ZXh0LCB2ZXJ0aWNhbCk7XG4gICAgcnRsID0gQ3NzQ2FzY2FkZS5pc1J0bChjYXNjTWFwLCBjb250ZXh0LCBydGwpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIENzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwoXG4gICAgICBjYXNjTWFwLFxuICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgIHZlcnRpY2FsLFxuICAgICAgcnRsLFxuICAgICAgKG5hbWUsIGNhc2NWYWwpID0+IHtcbiAgICAgICAgbGV0IHZhbHVlID0gY2FzY1ZhbC5ldmFsdWF0ZShjb250ZXh0LCBuYW1lKTtcbiAgICAgICAgaWYgKG5hbWUgPT0gXCJmb250LWZhbWlseVwiKSB7XG4gICAgICAgICAgdmFsdWUgPSBzZWxmLmRvY0ZhY2VzLmZpbHRlckZvbnRGYW1pbHkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIC8vIENvbXB1dGUgdmFsdWVzIG9mIGRpc3BsYXksIHBvc2l0aW9uIGFuZCBmbG9hdFxuICAgIGNvbnN0IHBvc2l0aW9uID0gY29tcHV0ZWRTdHlsZVtcInBvc2l0aW9uXCJdIGFzIENzcy5JZGVudDtcbiAgICBjb25zdCBmbG9hdCA9IGNvbXB1dGVkU3R5bGVbXCJmbG9hdFwiXSBhcyBDc3MuSWRlbnQ7XG4gICAgY29uc3QgZGlzcGxheVZhbHVlcyA9IERpc3BsYXkuZ2V0Q29tcHV0ZWREaXNsYXlWYWx1ZShcbiAgICAgIChjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSBhcyBDc3MuSWRlbnQpIHx8IENzcy5pZGVudC5pbmxpbmUsXG4gICAgICBwb3NpdGlvbixcbiAgICAgIGZsb2F0LFxuICAgICAgdGhpcy5zb3VyY2VOb2RlID09PSB0aGlzLnhtbGRvYy5yb290LFxuICAgICk7XG4gICAgW1wiZGlzcGxheVwiLCBcInBvc2l0aW9uXCIsIFwiZmxvYXRcIl0uZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgaWYgKGRpc3BsYXlWYWx1ZXNbbmFtZV0pIHtcbiAgICAgICAgY29tcHV0ZWRTdHlsZVtuYW1lXSA9IGRpc3BsYXlWYWx1ZXNbbmFtZV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZlcnRpY2FsO1xuICB9XG5cbiAgcHJpdmF0ZSBpbmhlcml0RnJvbVNvdXJjZVBhcmVudChcbiAgICBlbGVtZW50U3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiB7IGxhbmc6IHN0cmluZyB8IG51bGw7IGVsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSB7XG4gICAgbGV0IG5vZGUgPSB0aGlzLm5vZGVDb250ZXh0LnNvdXJjZU5vZGU7XG4gICAgY29uc3Qgc3R5bGVzID0gW107XG4gICAgbGV0IGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gVE9ETzogdGhpcyBpcyBoYWNreS4gV2UgbmVlZCB0byByZWNvdmVyIHRoZSBwYXRoIHRocm91Z2ggdGhlIHNoYWRvd1xuICAgIC8vIHRyZWVzLCBidXQgd2UgZG8gbm90IGhhdmUgdGhlIGZ1bGwgc2hhZG93IHRyZWUgc3RydWN0dXJlIGF0IHRoaXMgcG9pbnQuXG4gICAgLy8gVGhpcyBjb2RlIGhhbmRsZXMgY29taW5nIG91dCBvZiB0aGUgc2hhZG93IHRyZWVzLCBidXQgZG9lcyBub3QgZ28gYmFjayBpblxuICAgIC8vICh0aHJvdWdoIHNoYWRvdzpjb250ZW50IGVsZW1lbnQpLlxuICAgIGxldCBzaGFkb3dDb250ZXh0ID0gdGhpcy5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0O1xuICAgIGxldCBzdGVwcyA9IC0xO1xuICAgIHdoaWxlIChub2RlICYmIG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgY29uc3Qgc2hhZG93Um9vdCA9IHNoYWRvd0NvbnRleHQgJiYgc2hhZG93Q29udGV4dC5yb290ID09IG5vZGU7XG4gICAgICBpZiAoIXNoYWRvd1Jvb3QgfHwgc2hhZG93Q29udGV4dC50eXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgY29uc3Qgc3R5bGVyID0gc2hhZG93Q29udGV4dFxuICAgICAgICAgID8gKHNoYWRvd0NvbnRleHQuc3R5bGVyIGFzIENzc1N0eWxlci5BYnN0cmFjdFN0eWxlcilcbiAgICAgICAgICA6IHRoaXMuc3R5bGVyO1xuICAgICAgICBjb25zdCBub2RlU3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUobm9kZSBhcyBFbGVtZW50LCBmYWxzZSk7XG4gICAgICAgIHN0eWxlcy5wdXNoKG5vZGVTdHlsZSk7XG4gICAgICAgIGxhbmcgPSBsYW5nIHx8IEJhc2UuZ2V0TGFuZ0F0dHJpYnV0ZShub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgbm9kZSA9IHNoYWRvd0NvbnRleHQub3duZXI7XG4gICAgICAgIHNoYWRvd0NvbnRleHQgPSBzaGFkb3dDb250ZXh0LnBhcmVudFNoYWRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIHN0ZXBzKys7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdCA9IHN0ZXBzID09PSAwO1xuICAgIGNvbnN0IGZvbnRTaXplID0gdGhpcy5jb250ZXh0LnF1ZXJ5VW5pdFNpemUoXCJlbVwiLCBpc1Jvb3QpO1xuICAgIGNvbnN0IHByb3BzID0ge1xuICAgICAgXCJmb250LXNpemVcIjogbmV3IENzc0Nhc2NhZGUuQ2FzY2FkZVZhbHVlKFxuICAgICAgICBuZXcgQ3NzLk51bWVyaWMoZm9udFNpemUsIFwicHhcIiksXG4gICAgICAgIDAsXG4gICAgICApLFxuICAgIH0gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgY29uc3QgaW5oZXJpdGFuY2VWaXNpdG9yID0gbmV3IENzc0Nhc2NhZGUuSW5oZXJpdGFuY2VWaXNpdG9yKFxuICAgICAgcHJvcHMsXG4gICAgICB0aGlzLmNvbnRleHQsXG4gICAgKTtcbiAgICBmb3IgKGxldCBpID0gc3R5bGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICBjb25zdCBzdHlsZSA9IHN0eWxlc1tpXTtcbiAgICAgIGNvbnN0IHByb3BMaXN0ID0gW107XG4gICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHN0eWxlKSB7XG4gICAgICAgIGlmIChDc3NDYXNjYWRlLmlzSW5oZXJpdGVkKHByb3BOYW1lKSkge1xuICAgICAgICAgIHByb3BMaXN0LnB1c2gocHJvcE5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwcm9wTGlzdC5zb3J0KENzcy5wcm9jZXNzaW5nT3JkZXJGbik7XG4gICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgcHJvcExpc3QpIHtcbiAgICAgICAgaW5oZXJpdGFuY2VWaXNpdG9yLnNldFByb3BOYW1lKG5hbWUpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IENzc0Nhc2NhZGUuZ2V0UHJvcChzdHlsZSwgbmFtZSk7XG4gICAgICAgIGlmICh2YWx1ZS52YWx1ZSAhPT0gQ3NzLmlkZW50LmluaGVyaXQpIHtcbiAgICAgICAgICBwcm9wc1tuYW1lXSA9IHZhbHVlLmZpbHRlclZhbHVlKGluaGVyaXRhbmNlVmlzaXRvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBzbmFtZSBpbiBlbGVtZW50U3R5bGUpIHtcbiAgICAgIGlmICghQ3NzQ2FzY2FkZS5pc0luaGVyaXRlZChzbmFtZSkpIHtcbiAgICAgICAgcHJvcHNbc25hbWVdID0gZWxlbWVudFN0eWxlW3NuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbGFuZywgZWxlbWVudFN0eWxlOiBwcm9wcyB9O1xuICB9XG5cbiAgcmVzb2x2ZVVSTCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdXJsID0gQmFzZS5yZXNvbHZlVVJMKHVybCwgdGhpcy54bWxkb2MudXJsKTtcbiAgICByZXR1cm4gdGhpcy5mYWxsYmFja01hcFt1cmxdIHx8IHVybDtcbiAgfVxuXG4gIGluaGVyaXRMYW5nQXR0cmlidXRlKCkge1xuICAgIHRoaXMubm9kZUNvbnRleHQubGFuZyA9XG4gICAgICBCYXNlLmdldExhbmdBdHRyaWJ1dGUodGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQpIHx8XG4gICAgICAodGhpcy5ub2RlQ29udGV4dC5wYXJlbnQgJiYgdGhpcy5ub2RlQ29udGV4dC5wYXJlbnQubGFuZykgfHxcbiAgICAgIHRoaXMubm9kZUNvbnRleHQubGFuZztcbiAgfVxuXG4gIHRyYW5zZmVyUG9seWZpbGxlZEluaGVyaXRlZFByb3BzKGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3QgcG9seWZpbGxlZEluaGVyaXRlZFByb3BzID0gQ3NzQ2FzY2FkZS5nZXRQb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMoKS5maWx0ZXIoXG4gICAgICAobmFtZSkgPT4gY29tcHV0ZWRTdHlsZVtuYW1lXSxcbiAgICApO1xuICAgIGlmIChwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMubGVuZ3RoKSB7XG4gICAgICBsZXQgcHJvcHMgPSB0aGlzLm5vZGVDb250ZXh0LmluaGVyaXRlZFByb3BzO1xuICAgICAgaWYgKHRoaXMubm9kZUNvbnRleHQucGFyZW50KSB7XG4gICAgICAgIHByb3BzID0gdGhpcy5ub2RlQ29udGV4dC5pbmhlcml0ZWRQcm9wcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IG4gaW4gdGhpcy5ub2RlQ29udGV4dC5wYXJlbnQuaW5oZXJpdGVkUHJvcHMpIHtcbiAgICAgICAgICBwcm9wc1tuXSA9IHRoaXMubm9kZUNvbnRleHQucGFyZW50LmluaGVyaXRlZFByb3BzW25dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb2x5ZmlsbGVkSW5oZXJpdGVkUHJvcHMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbXB1dGVkU3R5bGVbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENzcy5JbnQpIHtcbiAgICAgICAgICAgIHByb3BzW25hbWVdID0gKHZhbHVlIGFzIENzcy5JbnQpLm51bTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ3NzLklkZW50KSB7XG4gICAgICAgICAgICBwcm9wc1tuYW1lXSA9ICh2YWx1ZSBhcyBDc3MuSWRlbnQpLm5hbWU7XG4gICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIENzcy5OdW1lcmljKSB7XG4gICAgICAgICAgICBjb25zdCBudW1lcmljVmFsID0gdmFsdWUgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICBzd2l0Y2ggKG51bWVyaWNWYWwudW5pdCkge1xuICAgICAgICAgICAgICBjYXNlIFwiZHBpXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcGNtXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcHB4XCI6XG4gICAgICAgICAgICAgICAgcHJvcHNbbmFtZV0gPVxuICAgICAgICAgICAgICAgICAgbnVtZXJpY1ZhbC5udW0gKiBFeHBycy5kZWZhdWx0VW5pdFNpemVzW251bWVyaWNWYWwudW5pdF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb3BzW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICBkaXNwbGF5OiBDc3MuSWRlbnQsXG4gICAgcG9zaXRpb246IENzcy5JZGVudCxcbiAgICBmbG9hdDogQ3NzLklkZW50LFxuICAgIGlzUm9vdDogYm9vbGVhbixcbiAgKSB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5SZXNvbHZlRm9ybWF0dGluZ0NvbnRleHRIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgUGx1Z2luLkhPT0tTLlJFU09MVkVfRk9STUFUVElOR19DT05URVhULFxuICAgICk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZm9ybWF0dGluZ0NvbnRleHQgPSBob29rc1tpXShcbiAgICAgICAgbm9kZUNvbnRleHQsXG4gICAgICAgIGZpcnN0VGltZSxcbiAgICAgICAgZGlzcGxheSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIGZsb2F0LFxuICAgICAgICBpc1Jvb3QsXG4gICAgICApO1xuICAgICAgaWYgKGZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICAgIG5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0ID0gZm9ybWF0dGluZ0NvbnRleHQ7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVFbGVtZW50VmlldyhcbiAgICBmaXJzdFRpbWU6IGJvb2xlYW4sXG4gICAgYXRVbmZvcmNlZEJyZWFrOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IG5lZWRUb1Byb2Nlc3NDaGlsZHJlbiA9IHRydWU7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiY3JlYXRlRWxlbWVudFZpZXdcIik7XG5cbiAgICAvLyBGaWd1cmUgb3V0IGVsZW1lbnQncyBzdHlsZXNcbiAgICBsZXQgZWxlbWVudCA9IHNlbGYuc291cmNlTm9kZSBhcyBFbGVtZW50O1xuICAgIGNvbnN0IHN0eWxlciA9IHNlbGYubm9kZUNvbnRleHQuc2hhZG93Q29udGV4dFxuICAgICAgPyAoc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LnN0eWxlciBhcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIpXG4gICAgICA6IHNlbGYuc3R5bGVyO1xuICAgIGxldCBlbGVtZW50U3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUoZWxlbWVudCwgZmFsc2UpO1xuICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0KSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpO1xuICAgICAgTWF0Y2hlcnMuTnRoRnJhZ21lbnRNYXRjaGVyLnJlZ2lzdGVyRnJhZ21lbnRJbmRleChcbiAgICAgICAgb2Zmc2V0LFxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZyYWdtZW50SW5kZXgsXG4gICAgICAgIDAsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0ge307XG4gICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LnBhcmVudCkge1xuICAgICAgY29uc3QgaW5oZXJpdGVkVmFsdWVzID0gc2VsZi5pbmhlcml0RnJvbVNvdXJjZVBhcmVudChlbGVtZW50U3R5bGUpO1xuICAgICAgZWxlbWVudFN0eWxlID0gaW5oZXJpdGVkVmFsdWVzLmVsZW1lbnRTdHlsZTtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQubGFuZyA9IGluaGVyaXRlZFZhbHVlcy5sYW5nO1xuICAgIH1cbiAgICBjb25zdCBmbG9hdFJlZmVyZW5jZSA9XG4gICAgICBlbGVtZW50U3R5bGVbXCJmbG9hdC1yZWZlcmVuY2VcIl0gJiZcbiAgICAgIFBhZ2VGbG9hdHMuZmxvYXRSZWZlcmVuY2VPZihcbiAgICAgICAgZWxlbWVudFN0eWxlW1wiZmxvYXQtcmVmZXJlbmNlXCJdLnZhbHVlLnRvU3RyaW5nKCksXG4gICAgICApO1xuICAgIGlmIChcbiAgICAgIHNlbGYubm9kZUNvbnRleHQucGFyZW50ICYmXG4gICAgICBmbG9hdFJlZmVyZW5jZSAmJlxuICAgICAgUGFnZUZsb2F0cy5pc1BhZ2VGbG9hdChmbG9hdFJlZmVyZW5jZSlcbiAgICApIHtcbiAgICAgIC8vIFNpbmNlIGEgcGFnZSBmbG9hdCB3aWxsIGJlIGRldGFjaGVkIGZyb20gYSB2aWV3IG5vZGUgb2YgaXRzIHBhcmVudCxcbiAgICAgIC8vIGluaGVyaXRlZCBwcm9wZXJ0aWVzIG5lZWQgdG8gYmUgaW5oZXJpdGVkIGZyb20gaXRzIHNvdXJjZSBwYXJlbnQuXG4gICAgICBjb25zdCBpbmhlcml0ZWRWYWx1ZXMgPSBzZWxmLmluaGVyaXRGcm9tU291cmNlUGFyZW50KGVsZW1lbnRTdHlsZSk7XG4gICAgICBlbGVtZW50U3R5bGUgPSBpbmhlcml0ZWRWYWx1ZXMuZWxlbWVudFN0eWxlO1xuICAgICAgc2VsZi5ub2RlQ29udGV4dC5sYW5nID0gaW5oZXJpdGVkVmFsdWVzLmxhbmc7XG4gICAgfVxuICAgIHNlbGYubm9kZUNvbnRleHQudmVydGljYWwgPSBzZWxmLmNvbXB1dGVTdHlsZShcbiAgICAgIHNlbGYubm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgICBzZWxmLm5vZGVDb250ZXh0LmRpcmVjdGlvbiA9PT0gXCJydGxcIixcbiAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgKTtcbiAgICBzdHlsZXIucHJvY2Vzc0NvbnRlbnQoZWxlbWVudCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgdGhpcy50cmFuc2ZlclBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyhjb21wdXRlZFN0eWxlKTtcbiAgICB0aGlzLmluaGVyaXRMYW5nQXR0cmlidXRlKCk7XG4gICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXJlY3Rpb25cIl0pIHtcbiAgICAgIHNlbGYubm9kZUNvbnRleHQuZGlyZWN0aW9uID0gY29tcHV0ZWRTdHlsZVtcImRpcmVjdGlvblwiXS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIC8vIFNvcnQgb3V0IHRoZSBwcm9wZXJ0aWVzXG4gICAgY29uc3QgZmxvdyA9IGNvbXB1dGVkU3R5bGVbXCJmbG93LWludG9cIl07XG4gICAgaWYgKGZsb3cgJiYgZmxvdy50b1N0cmluZygpICE9IHNlbGYuZmxvd05hbWUpIHtcbiAgICAgIC8vIGZvcmVpZ24gZmxvdywgZG9uJ3QgY3JlYXRlIGEgdmlld1xuICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9XG4gICAgbGV0IGRpc3BsYXkgPSBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXTtcbiAgICBpZiAoZGlzcGxheSA9PT0gQ3NzLmlkZW50Lm5vbmUpIHtcbiAgICAgIC8vIG5vIGNvbnRlbnRcbiAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICAgIGNvbnN0IGlzUm9vdCA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50ID09IG51bGw7XG4gICAgc2VsZi5ub2RlQ29udGV4dC5mbGV4Q29udGFpbmVyID0gZGlzcGxheSA9PT0gQ3NzLmlkZW50LmZsZXg7XG4gICAgc2VsZlxuICAgICAgLmNyZWF0ZVNoYWRvd3MoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGlzUm9vdCxcbiAgICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgICBjb21wdXRlZFN0eWxlLFxuICAgICAgICBzdHlsZXIsXG4gICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LFxuICAgICAgKVxuICAgICAgLnRoZW4oKHNoYWRvd1BhcmFtKSA9PiB7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQubm9kZVNoYWRvdyA9IHNoYWRvd1BhcmFtO1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGNvbXB1dGVkU3R5bGVbXCJwb3NpdGlvblwiXTtcbiAgICAgICAgbGV0IGZsb2F0U2lkZSA9IGNvbXB1dGVkU3R5bGVbXCJmbG9hdFwiXTtcbiAgICAgICAgbGV0IGNsZWFyU2lkZSA9IGNvbXB1dGVkU3R5bGVbXCJjbGVhclwiXTtcbiAgICAgICAgY29uc3Qgd3JpdGluZ01vZGUgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgPyBDc3MuaWRlbnQudmVydGljYWxfcmxcbiAgICAgICAgICA6IENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuICAgICAgICBjb25zdCBwYXJlbnRXcml0aW5nTW9kZSA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50XG4gICAgICAgICAgPyBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC52ZXJ0aWNhbFxuICAgICAgICAgICAgPyBDc3MuaWRlbnQudmVydGljYWxfcmxcbiAgICAgICAgICAgIDogQ3NzLmlkZW50Lmhvcml6b250YWxfdGJcbiAgICAgICAgICA6IHdyaXRpbmdNb2RlO1xuICAgICAgICBjb25zdCBpc0Zsb3dSb290ID0gRGlzcGxheS5pc0Zsb3dSb290KGVsZW1lbnQpO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmVzdGFibGlzaGVzQkZDID0gRGlzcGxheS5lc3RhYmxpc2hlc0JGQyhcbiAgICAgICAgICBkaXNwbGF5LFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIGZsb2F0U2lkZSxcbiAgICAgICAgICBjb21wdXRlZFN0eWxlW1wib3ZlcmZsb3dcIl0sXG4gICAgICAgICAgd3JpdGluZ01vZGUsXG4gICAgICAgICAgcGFyZW50V3JpdGluZ01vZGUsXG4gICAgICAgICAgaXNGbG93Um9vdCxcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jb250YWluaW5nQmxvY2tGb3JBYnNvbHV0ZSA9IERpc3BsYXkuZXN0YWJsaXNoZXNDQkZvckFic29sdXRlKFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pc0luc2lkZUJGQygpICYmXG4gICAgICAgICAgZmxvYXRTaWRlICE9PSBDc3MuaWRlbnQuZm9vdG5vdGUgJiZcbiAgICAgICAgICAhKGZsb2F0UmVmZXJlbmNlICYmIFBhZ2VGbG9hdHMuaXNQYWdlRmxvYXQoZmxvYXRSZWZlcmVuY2UpKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBXaGVuIHRoZSBlbGVtZW50IGlzIGFscmVhZHkgaW5zaWRlIGEgYmxvY2sgZm9ybWF0dGluZyBjb250ZXh0XG4gICAgICAgICAgLy8gKGV4Y2VwdCBvbmUgZnJvbSB0aGUgcm9vdCksIGZsb2F0IGFuZCBjbGVhciBjYW4gYmUgY29udHJvbGxlZCBieVxuICAgICAgICAgIC8vIHRoZSBicm93c2VyIGFuZCB3ZSBkb24ndCBuZWVkIHRvIGNhcmUuXG4gICAgICAgICAgZmxvYXRTaWRlID0gbnVsbDtcbiAgICAgICAgICBjbGVhclNpZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBmbG9hdGluZyA9XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQubGVmdCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LnJpZ2h0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQudG9wIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuYm90dG9tIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuaW5saW5lX3N0YXJ0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuaW5saW5lX2VuZCB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmJsb2NrX3N0YXJ0IHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuYmxvY2tfZW5kIHx8XG4gICAgICAgICAgZmxvYXRTaWRlID09PSBDc3MuaWRlbnQuc25hcF9ibG9jayB8fFxuICAgICAgICAgIGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmZvb3Rub3RlO1xuICAgICAgICBpZiAoZmxvYXRTaWRlKSB7XG4gICAgICAgICAgLy8gRG9uJ3Qgd2FudCB0byBzZXQgaXQgaW4gdmlldyBET00gQ1NTLlxuICAgICAgICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiZmxvYXRcIl07XG4gICAgICAgICAgaWYgKGZsb2F0U2lkZSA9PT0gQ3NzLmlkZW50LmZvb3Rub3RlKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pc0Zvb3Rub3RlKSB7XG4gICAgICAgICAgICAgIC8vIE5vIGZvb3Rub3RlcyBpbnNpZGUgZm9vdG5vdGVzLiBzZWxmIGlzIG1vc3QgbGlrZWx5IHRoZSByb290XG4gICAgICAgICAgICAgIC8vIG9mIHRoZSBmb290bm90ZSBib2R5IGJlaW5nIHJlbmRlcmVkIGluIGZvb3Rub3RlIGFyZWEuIFRyZWF0XG4gICAgICAgICAgICAgIC8vIGFzIGJsb2NrLlxuICAgICAgICAgICAgICBmbG9hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5ibG9jaztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID0gQ3NzLmlkZW50LmlubGluZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNsZWFyU2lkZSkge1xuICAgICAgICAgIGlmIChjbGVhclNpZGUgPT09IENzcy5pZGVudC5pbmhlcml0KSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQgJiYgc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuY2xlYXJTaWRlKSB7XG4gICAgICAgICAgICAgIGNsZWFyU2lkZSA9IENzcy5nZXROYW1lKHNlbGYubm9kZUNvbnRleHQucGFyZW50LmNsZWFyU2lkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmxlZnQgfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LnJpZ2h0IHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC50b3AgfHxcbiAgICAgICAgICAgIGNsZWFyU2lkZSA9PT0gQ3NzLmlkZW50LmJvdHRvbSB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuYm90aCB8fFxuICAgICAgICAgICAgY2xlYXJTaWRlID09PSBDc3MuaWRlbnQuYWxsIHx8XG4gICAgICAgICAgICBjbGVhclNpZGUgPT09IENzcy5pZGVudC5zYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkZWxldGUgY29tcHV0ZWRTdHlsZVtcImNsZWFyXCJdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSAmJlxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSAhPSBDc3MuaWRlbnQuaW5saW5lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jbGVhclNpZGUgPSBjbGVhclNpZGUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGlzdEl0ZW0gPVxuICAgICAgICAgIGRpc3BsYXkgPT09IENzcy5pZGVudC5saXN0X2l0ZW0gJiZcbiAgICAgICAgICBjb21wdXRlZFN0eWxlW1widWEtbGlzdC1pdGVtLWNvdW50XCJdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZmxvYXRpbmcgfHxcbiAgICAgICAgICAoY29tcHV0ZWRTdHlsZVtcImJyZWFrLWluc2lkZVwiXSAmJlxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJyZWFrLWluc2lkZVwiXSAhPT0gQ3NzLmlkZW50LmF1dG8pXG4gICAgICAgICkge1xuICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuYnJlYWtQZW5hbHR5Kys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRpc3BsYXkgJiZcbiAgICAgICAgICBkaXNwbGF5ICE9PSBDc3MuaWRlbnQuaW5saW5lICYmXG4gICAgICAgICAgRGlzcGxheS5pc0lubGluZUxldmVsKGRpc3BsYXkpXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIERvbid0IGJyZWFrIGluc2lkZSBydWJ5LCBpbmxpbmUtYmxvY2ssIGV0Yy5cbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrUGVuYWx0eSsrO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuaW5saW5lID1cbiAgICAgICAgICAoIWZsb2F0aW5nICYmICFkaXNwbGF5KSB8fFxuICAgICAgICAgIERpc3BsYXkuaXNJbmxpbmVMZXZlbChkaXNwbGF5KSB8fFxuICAgICAgICAgIERpc3BsYXkuaXNSdWJ5SW50ZXJuYWxEaXNwbGF5KGRpc3BsYXkpO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmRpc3BsYXkgPSBkaXNwbGF5ID8gZGlzcGxheS50b1N0cmluZygpIDogXCJpbmxpbmVcIjtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mbG9hdFNpZGUgPSBmbG9hdGluZyA/IGZsb2F0U2lkZS50b1N0cmluZygpIDogbnVsbDtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5mbG9hdFJlZmVyZW5jZSA9XG4gICAgICAgICAgZmxvYXRSZWZlcmVuY2UgfHwgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5JTkxJTkU7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQuZmxvYXRNaW5XcmFwQmxvY2sgPVxuICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJmbG9hdC1taW4td3JhcC1ibG9ja1wiXSB8fCBudWxsO1xuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmNvbHVtblNwYW4gPSBjb21wdXRlZFN0eWxlW1wiY29sdW1uLXNwYW5cIl07XG4gICAgICAgIGlmICghc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUpIHtcbiAgICAgICAgICBjb25zdCBicmVha0FmdGVyID0gY29tcHV0ZWRTdHlsZVtcImJyZWFrLWFmdGVyXCJdO1xuICAgICAgICAgIGlmIChicmVha0FmdGVyKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJyZWFrQWZ0ZXIgPSBicmVha0FmdGVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGJyZWFrQmVmb3JlID0gY29tcHV0ZWRTdHlsZVtcImJyZWFrLWJlZm9yZVwiXTtcbiAgICAgICAgICBpZiAoYnJlYWtCZWZvcmUpIHtcbiAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQuYnJlYWtCZWZvcmUgPSBicmVha0JlZm9yZS50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsQWxpZ24gPVxuICAgICAgICAgIChjb21wdXRlZFN0eWxlW1widmVydGljYWwtYWxpZ25cIl0gJiZcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ2ZXJ0aWNhbC1hbGlnblwiXS50b1N0cmluZygpKSB8fFxuICAgICAgICAgIFwiYmFzZWxpbmVcIjtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5jYXB0aW9uU2lkZSA9XG4gICAgICAgICAgKGNvbXB1dGVkU3R5bGVbXCJjYXB0aW9uLXNpZGVcIl0gJiZcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJjYXB0aW9uLXNpZGVcIl0udG9TdHJpbmcoKSkgfHxcbiAgICAgICAgICBcInRvcFwiO1xuICAgICAgICBjb25zdCBib3JkZXJDb2xsYXBzZSA9IGNvbXB1dGVkU3R5bGVbXCJib3JkZXItY29sbGFwc2VcIl07XG4gICAgICAgIGlmICghYm9yZGVyQ29sbGFwc2UgfHwgYm9yZGVyQ29sbGFwc2UgPT09IENzcy5nZXROYW1lKFwic2VwYXJhdGVcIikpIHtcbiAgICAgICAgICBjb25zdCBib3JkZXJTcGFjaW5nID0gY29tcHV0ZWRTdHlsZVtcImJvcmRlci1zcGFjaW5nXCJdO1xuICAgICAgICAgIGxldCBpbmxpbmVCb3JkZXJTcGFjaW5nO1xuICAgICAgICAgIGxldCBibG9ja0JvcmRlclNwYWNpbmc7XG4gICAgICAgICAgaWYgKGJvcmRlclNwYWNpbmcpIHtcbiAgICAgICAgICAgIGlmIChib3JkZXJTcGFjaW5nLmlzU3BhY2VMaXN0KCkpIHtcbiAgICAgICAgICAgICAgaW5saW5lQm9yZGVyU3BhY2luZyA9IGJvcmRlclNwYWNpbmcudmFsdWVzWzBdO1xuICAgICAgICAgICAgICBibG9ja0JvcmRlclNwYWNpbmcgPSBib3JkZXJTcGFjaW5nLnZhbHVlc1sxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlubGluZUJvcmRlclNwYWNpbmcgPSBibG9ja0JvcmRlclNwYWNpbmcgPSBib3JkZXJTcGFjaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlubGluZUJvcmRlclNwYWNpbmcuaXNOdW1lcmljKCkpIHtcbiAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pbmxpbmVCb3JkZXJTcGFjaW5nID0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGlubGluZUJvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJsb2NrQm9yZGVyU3BhY2luZy5pc051bWVyaWMoKSkge1xuICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmJsb2NrQm9yZGVyU3BhY2luZyA9IENzcy50b051bWJlcihcbiAgICAgICAgICAgICAgICBibG9ja0JvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZvb3Rub3RlUG9saWN5ID0gY29tcHV0ZWRTdHlsZVtcImZvb3Rub3RlLXBvbGljeVwiXTtcbiAgICAgICAgY29uc3QgZmlyc3RQc2V1ZG8gPSBjb21wdXRlZFN0eWxlW1wieC1maXJzdC1wc2V1ZG9cIl07XG4gICAgICAgIGlmIChmaXJzdFBzZXVkbykge1xuICAgICAgICAgIGNvbnN0IG91dGVyUHNldWRvID0gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnRcbiAgICAgICAgICAgID8gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQuZmlyc3RQc2V1ZG9cbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LmZpcnN0UHNldWRvID0gbmV3IFZ0cmVlLkZpcnN0UHNldWRvKFxuICAgICAgICAgICAgb3V0ZXJQc2V1ZG8sXG4gICAgICAgICAgICAvKiogQ3NzLkludCAqL1xuICAgICAgICAgICAgZmlyc3RQc2V1ZG8ubnVtLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgIHNlbGYucHJvY2Vzc0FmdGVySWZjb250aW51ZXMoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgICAgICAgc3R5bGVyLFxuICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd2hpdGVzcGFjZSA9IGNvbXB1dGVkU3R5bGVbXCJ3aGl0ZS1zcGFjZVwiXTtcbiAgICAgICAgaWYgKHdoaXRlc3BhY2UpIHtcbiAgICAgICAgICBjb25zdCB3aGl0ZXNwYWNlVmFsdWUgPSBWdHJlZS53aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUoXG4gICAgICAgICAgICB3aGl0ZXNwYWNlLnRvU3RyaW5nKCksXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAod2hpdGVzcGFjZVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LndoaXRlc3BhY2UgPSB3aGl0ZXNwYWNlVmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGh5cGhlbmF0ZUNoYXJhY3RlciA9IGNvbXB1dGVkU3R5bGVbXCJoeXBoZW5hdGUtY2hhcmFjdGVyXCJdO1xuICAgICAgICBpZiAoaHlwaGVuYXRlQ2hhcmFjdGVyICYmIGh5cGhlbmF0ZUNoYXJhY3RlciAhPT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0Lmh5cGhlbmF0ZUNoYXJhY3RlciA9IGh5cGhlbmF0ZUNoYXJhY3Rlci5zdHI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd29yZEJyZWFrID0gY29tcHV0ZWRTdHlsZVtcIndvcmQtYnJlYWtcIl07XG4gICAgICAgIGNvbnN0IG92ZXJmbG93V3JhcCA9IGNvbXB1dGVkU3R5bGVbXCJvdmVyZmxvdy13cmFwXCJdIHx8IFtcIndvcmQtd3JhcFwiXTtcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5icmVha1dvcmQgPVxuICAgICAgICAgIHdvcmRCcmVhayA9PT0gQ3NzLmlkZW50LmJyZWFrX2FsbCB8fFxuICAgICAgICAgIG92ZXJmbG93V3JhcCA9PT0gQ3NzLmlkZW50LmJyZWFrX3dvcmQ7XG5cbiAgICAgICAgLy8gUmVzb2x2ZSBmb3JtYXR0aW5nIGNvbnRleHRcbiAgICAgICAgc2VsZi5yZXNvbHZlRm9ybWF0dGluZ0NvbnRleHQoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dCxcbiAgICAgICAgICBmaXJzdFRpbWUsXG4gICAgICAgICAgZGlzcGxheSxcbiAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICBmbG9hdFNpZGUsXG4gICAgICAgICAgaXNSb290LFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQgJiZcbiAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dFxuICAgICAgICApIHtcbiAgICAgICAgICBmaXJzdFRpbWUgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudC5mb3JtYXR0aW5nQ29udGV4dC5pc0ZpcnN0VGltZShcbiAgICAgICAgICAgIHNlbGYubm9kZUNvbnRleHQsXG4gICAgICAgICAgICBmaXJzdFRpbWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYubm9kZUNvbnRleHQuaW5saW5lKSB7XG4gICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5yZXBlYXRPbkJyZWFrID0gc2VsZi5wcm9jZXNzUmVwZWF0T25CcmVhayhcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZWxmLmZpbmRBbmRQcm9jZXNzUmVwZWF0aW5nRWxlbWVudHMoZWxlbWVudCwgc3R5bGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgdmlldyBlbGVtZW50XG4gICAgICAgIGxldCBjdXN0b20gPSBmYWxzZTtcbiAgICAgICAgbGV0IGlubmVyOiBFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgY29uc3QgZmV0Y2hlcnMgPSBbXTtcbiAgICAgICAgbGV0IG5zID0gZWxlbWVudC5uYW1lc3BhY2VVUkk7XG4gICAgICAgIGxldCB0YWcgPSBlbGVtZW50LmxvY2FsTmFtZTtcbiAgICAgICAgaWYgKG5zID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0YWcgPT0gXCJodG1sXCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcImJvZHlcIiB8fFxuICAgICAgICAgICAgdGFnID09IFwic2NyaXB0XCIgfHxcbiAgICAgICAgICAgIHRhZyA9PSBcImxpbmtcIiB8fFxuICAgICAgICAgICAgdGFnID09IFwibWV0YVwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0YWcgPSBcImRpdlwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwidmlkZV9cIikge1xuICAgICAgICAgICAgdGFnID0gXCJ2aWRlb1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwiYXVkaV9cIikge1xuICAgICAgICAgICAgdGFnID0gXCJhdWRpb1wiO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGFnID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIGN1c3RvbSA9ICEhc2VsZi5jdXN0b21SZW5kZXJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFBzZXVkb0VsZW1lbnQuUFNFVURPX0FUVFIpKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGVsZW1lbnRTdHlsZVtcImNvbnRlbnRcIl0gJiZcbiAgICAgICAgICAgICAgZWxlbWVudFN0eWxlW1wiY29udGVudFwiXS52YWx1ZSAmJlxuICAgICAgICAgICAgICBlbGVtZW50U3R5bGVbXCJjb250ZW50XCJdLnZhbHVlLnVybFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHRhZyA9IFwiaW1nXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuZXB1Yikge1xuICAgICAgICAgIHRhZyA9IFwic3BhblwiO1xuICAgICAgICAgIG5zID0gQmFzZS5OUy5YSFRNTDtcbiAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLkZCMikge1xuICAgICAgICAgIG5zID0gQmFzZS5OUy5YSFRNTDtcbiAgICAgICAgICBpZiAodGFnID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVmID0gZWxlbWVudC5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhMSU5LLCBcImhyZWZcIik7XG4gICAgICAgICAgICBpZiAoaW1hZ2VSZWYgJiYgaW1hZ2VSZWYuY2hhckF0KDApID09IFwiI1wiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGltYWdlQmluYXJ5ID0gc2VsZi54bWxkb2MuZ2V0RWxlbWVudChpbWFnZVJlZik7XG4gICAgICAgICAgICAgIGlmIChpbWFnZUJpbmFyeSkge1xuICAgICAgICAgICAgICAgIGlubmVyID0gc2VsZi5jcmVhdGVFbGVtZW50KG5zLCBcImltZ1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYVR5cGUgPVxuICAgICAgICAgICAgICAgICAgaW1hZ2VCaW5hcnkuZ2V0QXR0cmlidXRlKFwiY29udGVudC10eXBlXCIpIHx8IFwiaW1hZ2UvanBlZ1wiO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlubmVyU3JjID0gYGRhdGE6JHttZWRpYVR5cGV9O2Jhc2U2NCwke2ltYWdlQmluYXJ5LnRleHRDb250ZW50LnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAvWyBcXHRcXG5cXHRdL2csXG4gICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICl9YDtcbiAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKFRhc2tVdGlsLmxvYWRFbGVtZW50KGlubmVyLCBpbm5lclNyYykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhZyA9IGZiMlJlbWFwW3RhZ107XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdGFnKSB7XG4gICAgICAgICAgICB0YWcgPSBzZWxmLm5vZGVDb250ZXh0LmlubGluZSA/IFwic3BhblwiIDogXCJkaXZcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5OQ1gpIHtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgICAgaWYgKHRhZyA9PSBcIm5jeFwiIHx8IHRhZyA9PSBcIm5hdlBvaW50XCIpIHtcbiAgICAgICAgICAgIHRhZyA9IFwiZGl2XCI7XG4gICAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJuYXZMYWJlbFwiKSB7XG4gICAgICAgICAgICAvLyBDaGVhdCBoZXJlLiBUcmFuc2xhdGUgc291cmNlIHRvIEhUTUwsIHNvIGl0IHdpbGwgcGx1Z1xuICAgICAgICAgICAgLy8gaW4gaW50byB0aGUgcmVzdCBvZiB0aGUgcGlwZWxpbmUuXG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICAgIGNvbnN0IG5hdlBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGlmIChuYXZQYXJlbnQpIHtcbiAgICAgICAgICAgICAgLy8gZmluZCB0aGUgY29udGVudCBlbGVtZW50XG4gICAgICAgICAgICAgIGxldCBocmVmOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgZm9yIChsZXQgYzogTm9kZSA9IG5hdlBhcmVudC5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICAgIGlmIChjLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEVsZW1lbnQgPSBjIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLk5DWCAmJlxuICAgICAgICAgICAgICAgICAgY2hpbGRFbGVtZW50LmxvY2FsTmFtZSA9PSBcImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgaHJlZiA9IGNoaWxkRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGhyZWYpIHtcbiAgICAgICAgICAgICAgICB0YWcgPSBcImFcIjtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgXCJhXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBocmVmKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobnMgPT0gQmFzZS5OUy5TSEFET1cpIHtcbiAgICAgICAgICBucyA9IEJhc2UuTlMuWEhUTUw7XG4gICAgICAgICAgdGFnID0gc2VsZi5ub2RlQ29udGV4dC5pbmxpbmUgPyBcInNwYW5cIiA6IFwiZGl2XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VzdG9tID0gISFzZWxmLmN1c3RvbVJlbmRlcmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgIGlmIChmaXJzdFRpbWUpIHtcbiAgICAgICAgICAgIHRhZyA9IFwibGlcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgICAgIGRpc3BsYXkgPSBDc3MuaWRlbnQuYmxvY2s7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IGRpc3BsYXk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRhZyA9PSBcImJvZHlcIiB8fCB0YWcgPT0gXCJsaVwiKSB7XG4gICAgICAgICAgdGFnID0gXCJkaXZcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJxXCIpIHtcbiAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YWcgPT0gXCJhXCIpIHtcbiAgICAgICAgICBjb25zdCBocCA9IGNvbXB1dGVkU3R5bGVbXCJoeXBlcmxpbmstcHJvY2Vzc2luZ1wiXTtcbiAgICAgICAgICBpZiAoaHAgJiYgaHAudG9TdHJpbmcoKSAhPSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICB0YWcgPSBcInNwYW5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJiZWhhdmlvclwiXSkge1xuICAgICAgICAgIGNvbnN0IGJlaGF2aW9yID0gY29tcHV0ZWRTdHlsZVtcImJlaGF2aW9yXCJdLnRvU3RyaW5nKCk7XG4gICAgICAgICAgaWYgKGJlaGF2aW9yICE9IFwibm9uZVwiICYmIHNlbGYuY3VzdG9tUmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGN1c3RvbSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoZWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZGF0YXNldCAmJlxuICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1tYXRoLXR5cGVzZXRcIikgPT09IFwidHJ1ZVwiXG4gICAgICAgICkge1xuICAgICAgICAgIGN1c3RvbSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVsZW1SZXN1bHQ6IFRhc2suUmVzdWx0PEVsZW1lbnQ+O1xuICAgICAgICBpZiAoY3VzdG9tKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IHNlbGYubm9kZUNvbnRleHQucGFyZW50XG4gICAgICAgICAgICA/IHNlbGYubm9kZUNvbnRleHQucGFyZW50LnZpZXdOb2RlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgZWxlbVJlc3VsdCA9IHNlbGYuY3VzdG9tUmVuZGVyZXIoXG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgcGFyZW50Tm9kZSBhcyBFbGVtZW50LFxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVsZW1SZXN1bHQgPSBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtUmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChjdXN0b20pIHtcbiAgICAgICAgICAgICAgbmVlZFRvUHJvY2Vzc0NoaWxkcmVuID1cbiAgICAgICAgICAgICAgICByZXN1bHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIpID09IFwidHJ1ZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSBzZWxmLmNyZWF0ZUVsZW1lbnQobnMsIHRhZyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0YWcgPT0gXCJhXCIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2VsZi5wYWdlLmhyZWZIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbm5lcikge1xuICAgICAgICAgICAgc2VsZi5hcHBseVBzZXVkb2VsZW1lbnRTdHlsZShzZWxmLm5vZGVDb250ZXh0LCBcImlubmVyXCIsIGlubmVyKTtcbiAgICAgICAgICAgIHJlc3VsdC5hcHBlbmRDaGlsZChpbm5lcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlc3VsdC5sb2NhbE5hbWUgPT0gXCJpZnJhbWVcIiAmJlxuICAgICAgICAgICAgcmVzdWx0Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlhIVE1MXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpbml0SUZyYW1lKHJlc3VsdCBhcyBIVE1MSUZyYW1lRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGltYWdlUmVzb2x1dGlvbiA9IHNlbGYubm9kZUNvbnRleHQuaW5oZXJpdGVkUHJvcHNbXG4gICAgICAgICAgICBcImltYWdlLXJlc29sdXRpb25cIlxuICAgICAgICAgIF0gYXMgbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgICAgICAgIGNvbnN0IGltYWdlczoge1xuICAgICAgICAgICAgaW1hZ2U6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICBmZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPHN0cmluZz47XG4gICAgICAgICAgfVtdID0gW107XG4gICAgICAgICAgY29uc3QgY3NzV2lkdGggPSBjb21wdXRlZFN0eWxlW1wid2lkdGhcIl07XG4gICAgICAgICAgY29uc3QgY3NzSGVpZ2h0ID0gY29tcHV0ZWRTdHlsZVtcImhlaWdodFwiXTtcbiAgICAgICAgICBjb25zdCBhdHRyV2lkdGggPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpO1xuICAgICAgICAgIGNvbnN0IGF0dHJIZWlnaHQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgICBjb25zdCBoYXNBdXRvV2lkdGggPVxuICAgICAgICAgICAgY3NzV2lkdGggPT09IENzcy5pZGVudC5hdXRvIHx8ICghY3NzV2lkdGggJiYgIWF0dHJXaWR0aCk7XG4gICAgICAgICAgY29uc3QgaGFzQXV0b0hlaWdodCA9XG4gICAgICAgICAgICBjc3NIZWlnaHQgPT09IENzcy5pZGVudC5hdXRvIHx8ICghY3NzSGVpZ2h0ICYmICFhdHRySGVpZ2h0KTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgIT0gQmFzZS5OUy5GQjIgfHwgdGFnID09IFwidGRcIikge1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZUNvdW50ID0gYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgZGVsYXllZFNyYzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlTlMgPSBhdHRyaWJ1dGUubmFtZXNwYWNlVVJJO1xuICAgICAgICAgICAgICBsZXQgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZS5sb2NhbE5hbWU7XG4gICAgICAgICAgICAgIGxldCBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZS5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgIGlmICghYXR0cmlidXRlTlMpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTmFtZS5tYXRjaCgvXm9uLykpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBkb24ndCBwcm9wYWdhdGUgSmF2YVNjcmlwdCBjb2RlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIHdlIGRvIHN0eWxpbmcgb3Vyc2VsdmVzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwiaWRcIiB8fCBhdHRyaWJ1dGVOYW1lID09IFwibmFtZVwiKSB7XG4gICAgICAgICAgICAgICAgICAvLyBQcm9wYWdhdGUgdHJhbnNmb3JtZWQgaWRzIGFuZCBjb2xsZWN0IHRoZW0gb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICAgIC8vIChvbmx5IGZpcnN0IHRpbWUpLlxuICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UucmVnaXN0ZXJFbGVtZW50V2l0aElkKHJlc3VsdCwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPOiB1bmRlcnN0YW5kIHRoZSBlbGVtZW50IHdlIGFyZSB3b3JraW5nIHdpdGguXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcInNyY1wiIHx8XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID09IFwiaHJlZlwiIHx8XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lID09IFwicG9zdGVyXCJcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gc2VsZi5yZXNvbHZlVVJMKGF0dHJpYnV0ZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09PSBcImhyZWZcIikge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci50cmFuc2Zvcm1VUkwoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTmFtZSA9PSBcInNyY3NldFwiKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IGF0dHJpYnV0ZVZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgodmFsdWUpID0+IHNlbGYucmVzb2x2ZVVSTCh2YWx1ZS50cmltKCkpKVxuICAgICAgICAgICAgICAgICAgICAuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPT09IFwicG9zdGVyXCIgJiZcbiAgICAgICAgICAgICAgICAgIHRhZyA9PT0gXCJ2aWRlb1wiICYmXG4gICAgICAgICAgICAgICAgICBucyA9PT0gQmFzZS5OUy5YSFRNTCAmJlxuICAgICAgICAgICAgICAgICAgaGFzQXV0b1dpZHRoICYmXG4gICAgICAgICAgICAgICAgICBoYXNBdXRvSGVpZ2h0XG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgZmV0Y2hlciA9IFRhc2tVdGlsLmxvYWRFbGVtZW50KGltYWdlLCBhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKGZldGNoZXIpO1xuICAgICAgICAgICAgICAgICAgaW1hZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogcmVzdWx0IGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBmZXRjaGVyLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZU5TID09IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIikge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBuYW1lc3BhY2UgZGVjbGFyYXRpb24gKGluIEZpcmVmb3gpXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTlMgPT0gQmFzZS5OUy5YTElOSykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVOYW1lID09IFwiaHJlZlwiKSB7XG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSA9IHNlbGYucmVzb2x2ZVVSTChhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChucyA9PSBCYXNlLk5TLlNWRyAmJiAvXltBLVpcXC1dKyQvLnRlc3QoYXR0cmlidXRlTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kIGZvciBFZGdlIGJ1Z1xuICAgICAgICAgICAgICAgIC8vIFNlZVxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzU1NzkzMTEvXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoc2VsZi5pc1NWR1VybEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZVZhbHVlID0gVXJscy50cmFuc2Zvcm1VUklzKFxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlVmFsdWUsXG4gICAgICAgICAgICAgICAgICBzZWxmLnhtbGRvYy51cmwsXG4gICAgICAgICAgICAgICAgICBzZWxmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlTlMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVQcmVmaXggPSBuYW1lc3BhY2VQcmVmaXhNYXBbYXR0cmlidXRlTlNdO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBgJHthdHRyaWJ1dGVQcmVmaXh9OiR7YXR0cmlidXRlTmFtZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcInNyY1wiICYmXG4gICAgICAgICAgICAgICAgIWF0dHJpYnV0ZU5TICYmXG4gICAgICAgICAgICAgICAgKHRhZyA9PSBcImltZ1wiIHx8IHRhZyA9PSBcImlucHV0XCIpICYmXG4gICAgICAgICAgICAgICAgbnMgPT0gQmFzZS5OUy5YSFRNTFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBIVE1MIGltZyBlbGVtZW50IHNob3VsZCBzdGFydCBsb2FkaW5nIG9ubHkgb25jZSBhbGxcbiAgICAgICAgICAgICAgICAvLyBhdHRyaWJ1dGVzIGFyZSBhc3NpZ25lZC5cbiAgICAgICAgICAgICAgICBkZWxheWVkU3JjID0gYXR0cmlidXRlVmFsdWU7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9PSBcImhyZWZcIiAmJlxuICAgICAgICAgICAgICAgIHRhZyA9PSBcImltYWdlXCIgJiZcbiAgICAgICAgICAgICAgICBucyA9PSBCYXNlLk5TLlNWRyAmJlxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5TID09IEJhc2UuTlMuWExJTktcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlLmZldGNoZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICBUYXNrVXRpbC5sb2FkRWxlbWVudChyZXN1bHQsIGF0dHJpYnV0ZVZhbHVlKSxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIGRvY3VtZW50IGlzIG5vdCBYTUwgZG9jdW1lbnQgKGUuZy4gbm9uLVhNTCBIVE1MKVxuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZU5TIGNhbiBiZSBudWxsXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU5TKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlTlMoXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5TLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRlbGF5ZWRTcmMpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSB0YWcgPT09IFwiaW5wdXRcIiA/IG5ldyBJbWFnZSgpIDogcmVzdWx0O1xuICAgICAgICAgICAgICBjb25zdCBpbWFnZUZldGNoZXIgPSBUYXNrVXRpbC5sb2FkRWxlbWVudChpbWFnZSwgZGVsYXllZFNyYyk7XG4gICAgICAgICAgICAgIGlmIChpbWFnZSAhPT0gcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgKHJlc3VsdCBhcyBIVE1MSW1hZ2VFbGVtZW50KS5zcmMgPSBkZWxheWVkU3JjO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghaGFzQXV0b1dpZHRoICYmICFoYXNBdXRvSGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byB3YWl0IGZvciB0aGUgaW1hZ2UsIGRvZXMgbm90IGFmZmVjdCBsYXlvdXRcbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2UuZmV0Y2hlcnMucHVzaChpbWFnZUZldGNoZXIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIGhhc0F1dG9XaWR0aCAmJlxuICAgICAgICAgICAgICAgICAgaGFzQXV0b0hlaWdodCAmJlxuICAgICAgICAgICAgICAgICAgaW1hZ2VSZXNvbHV0aW9uICYmXG4gICAgICAgICAgICAgICAgICBpbWFnZVJlc29sdXRpb24gIT09IDFcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGltYWdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGltYWdlIGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiByZXN1bHQgYXMgSFRNTEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIGZldGNoZXI6IGltYWdlRmV0Y2hlcixcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmZXRjaGVycy5wdXNoKGltYWdlRmV0Y2hlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZGVsZXRlIGNvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgICAgICAgIGNvbnN0IGxpc3RTdHlsZUltYWdlID0gY29tcHV0ZWRTdHlsZVtcImxpc3Qtc3R5bGUtaW1hZ2VcIl07XG4gICAgICAgICAgaWYgKGxpc3RTdHlsZUltYWdlICYmIGxpc3RTdHlsZUltYWdlIGluc3RhbmNlb2YgQ3NzLlVSTCkge1xuICAgICAgICAgICAgY29uc3QgbGlzdFN0eWxlVVJMID0gKGxpc3RTdHlsZUltYWdlIGFzIENzcy5VUkwpLnVybDtcbiAgICAgICAgICAgIGZldGNoZXJzLnB1c2goVGFza1V0aWwubG9hZEVsZW1lbnQobmV3IEltYWdlKCksIGxpc3RTdHlsZVVSTCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLnByZXByb2Nlc3NFbGVtZW50U3R5bGUoY29tcHV0ZWRTdHlsZSk7XG4gICAgICAgICAgc2VsZi5hcHBseUNvbXB1dGVkU3R5bGVzKHJlc3VsdCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgICAgICAgaWYgKCFzZWxmLm5vZGVDb250ZXh0LmlubGluZSkge1xuICAgICAgICAgICAgbGV0IGJsYWNrTGlzdDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIWZpcnN0VGltZSkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5pbmhlcml0ZWRQcm9wc1tcImJveC1kZWNvcmF0aW9uLWJyZWFrXCJdICE9PVxuICAgICAgICAgICAgICAgIFwiY2xvbmVcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBibGFja0xpc3QgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgICA/IGZyb250RWRnZUJsYWNrTGlzdFZlcnRcbiAgICAgICAgICAgICAgICAgIDogZnJvbnRFZGdlQmxhY2tMaXN0SG9yO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdoZW4gYm94LWRlY29yYXRpb24tYnJlYWs6IGNsb25lLCBjbG9uZWQgbWFyZ2lucyBhcmUgYWx3YXlzXG4gICAgICAgICAgICAgICAgLy8gdHJ1bmNhdGVkIHRvIHplcm8uXG4gICAgICAgICAgICAgICAgYmxhY2tMaXN0ID0gc2VsZi5ub2RlQ29udGV4dC52ZXJ0aWNhbFxuICAgICAgICAgICAgICAgICAgPyBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydFxuICAgICAgICAgICAgICAgICAgOiBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0SG9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF0VW5mb3JjZWRCcmVhaykge1xuICAgICAgICAgICAgICBibGFja0xpc3QgPSBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsXG4gICAgICAgICAgICAgICAgPyBmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydFxuICAgICAgICAgICAgICAgIDogZnJvbnRFZGdlVW5mb3JjZWRCcmVha0JsYWNrTGlzdEhvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChibGFja0xpc3QpIHtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBibGFja0xpc3QpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHJlc3VsdCwgcHJvcE5hbWUsIGJsYWNrTGlzdFtwcm9wTmFtZV0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsaXN0SXRlbSkge1xuICAgICAgICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widWEtbGlzdC1pdGVtLWNvdW50XCJdLnN0cmluZ1ZhbHVlKCksXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZWxmLnZpZXdOb2RlID0gcmVzdWx0O1xuICAgICAgICAgIGlmIChmZXRjaGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIFRhc2tVdGlsLndhaXRGb3JGZXRjaGVycyhmZXRjaGVycykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChpbWFnZVJlc29sdXRpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5tb2RpZnlFbGVtRGltZW5zaW9uV2l0aEltYWdlUmVzb2x1dGlvbihcbiAgICAgICAgICAgICAgICAgIGltYWdlcyxcbiAgICAgICAgICAgICAgICAgIGltYWdlUmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgICAgICAgICAgICAgICBzZWxmLm5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG5lZWRUb1Byb2Nlc3NDaGlsZHJlbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUudGltZVNsaWNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc0FmdGVySWZjb250aW51ZXMoXG4gICAgZWxlbWVudDogRWxlbWVudCxcbiAgICBjYXNjU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHN0eWxlcjogQ3NzU3R5bGVyLkFic3RyYWN0U3R5bGVyLFxuICAgIGNvbnRleHQ6IEV4cHJzLkNvbnRleHQsXG4gICkge1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IHRoaXMuZ2V0UHNldWRvTWFwKFxuICAgICAgY2FzY1N0eWxlLFxuICAgICAgdGhpcy5yZWdpb25JZHMsXG4gICAgICB0aGlzLmlzRm9vdG5vdGUsXG4gICAgICB0aGlzLm5vZGVDb250ZXh0LFxuICAgICAgY29udGV4dCxcbiAgICApO1xuICAgIGlmICghcHNldWRvTWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHBzZXVkb01hcFtcImFmdGVyLWlmLWNvbnRpbnVlc1wiXSAmJlxuICAgICAgcHNldWRvTWFwW1wiYWZ0ZXItaWYtY29udGludWVzXCJdW1wiY29udGVudFwiXVxuICAgICkge1xuICAgICAgY29uc3Qgc2hhZG93U3R5bGVyID0gbmV3IFBzZXVkb0VsZW1lbnQuUHNldWRvZWxlbWVudFN0eWxlcihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY2FzY1N0eWxlLFxuICAgICAgICBzdHlsZXIsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHRoaXMuZXhwckNvbnRlbnRMaXN0ZW5lcixcbiAgICAgICk7XG4gICAgICB0aGlzLm5vZGVDb250ZXh0LmFmdGVySWZDb250aW51ZXMgPSBuZXcgTGF5b3V0LkFmdGVySWZDb250aW51ZXMoXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIHNoYWRvd1N0eWxlcixcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaXNTVkdVcmxBdHRyaWJ1dGVcbiAgICovXG4gIGlzU1ZHVXJsQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBWaWV3RmFjdG9yeS5TVkdfVVJMX0FUVFJJQlVURVMuaW5jbHVkZXMoYXR0cmlidXRlTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIG1vZGlmeUVsZW1EaW1lbnNpb25XaXRoSW1hZ2VSZXNvbHV0aW9uKFxuICAgIGltYWdlczoge1xuICAgICAgaW1hZ2U6IEhUTUxFbGVtZW50O1xuICAgICAgZWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gICAgICBmZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPHN0cmluZz47XG4gICAgfVtdLFxuICAgIGltYWdlUmVzb2x1dGlvbjogbnVtYmVyLFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICAgIGlzVmVydGljYWw6IGJvb2xlYW4sXG4gICkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGltYWdlcy5mb3JFYWNoKChwYXJhbSkgPT4ge1xuICAgICAgaWYgKHBhcmFtLmZldGNoZXIuZ2V0KCkuZ2V0KCkgPT09IFwibG9hZFwiKSB7XG4gICAgICAgIGNvbnN0IGltZyA9IHBhcmFtLmltYWdlO1xuICAgICAgICBsZXQgc2NhbGVkV2lkdGggPSAoaW1nIGFzIEhUTUxJbWFnZUVsZW1lbnQpLndpZHRoIC8gaW1hZ2VSZXNvbHV0aW9uO1xuICAgICAgICBsZXQgc2NhbGVkSGVpZ2h0ID0gKGltZyBhcyBIVE1MSW1hZ2VFbGVtZW50KS5oZWlnaHQgLyBpbWFnZVJlc29sdXRpb247XG4gICAgICAgIGNvbnN0IGVsZW0gPSBwYXJhbS5lbGVtZW50O1xuICAgICAgICBpZiAoc2NhbGVkV2lkdGggPiAwICYmIHNjYWxlZEhlaWdodCA+IDApIHtcbiAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJveC1zaXppbmdcIl0gPT09IENzcy5pZGVudC5ib3JkZXJfYm94KSB7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJvcmRlci1sZWZ0LXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRXaWR0aCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci1sZWZ0LXdpZHRoXCJdLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb21wdXRlZFN0eWxlW1wiYm9yZGVyLXJpZ2h0LXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRXaWR0aCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci1yaWdodC13aWR0aFwiXSxcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRleHQsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZVtcImJvcmRlci10b3Atc3R5bGVcIl0gIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICAgIHNjYWxlZEhlaWdodCArPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImJvcmRlci10b3Atd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZXh0LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJib3JkZXItYm90dG9tLXN0eWxlXCJdICE9PSBDc3MuaWRlbnQubm9uZSkge1xuICAgICAgICAgICAgICBzY2FsZWRIZWlnaHQgKz0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJib3JkZXItYm90dG9tLXdpZHRoXCJdLFxuICAgICAgICAgICAgICAgIHNlbGYuY29udGV4dCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGltYWdlUmVzb2x1dGlvbiA+IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gY29tcHV0ZWRTdHlsZVtcIm1heC13aWR0aFwiXSB8fCBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGNvbnN0IG1heEhlaWdodCA9IGNvbXB1dGVkU3R5bGVbXCJtYXgtaGVpZ2h0XCJdIHx8IENzcy5pZGVudC5ub25lO1xuICAgICAgICAgICAgaWYgKG1heFdpZHRoID09PSBDc3MuaWRlbnQubm9uZSAmJiBtYXhIZWlnaHQgPT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJtYXgtd2lkdGhcIiwgYCR7c2NhbGVkV2lkdGh9cHhgKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIG1heFdpZHRoICE9PSBDc3MuaWRlbnQubm9uZSAmJlxuICAgICAgICAgICAgICBtYXhIZWlnaHQgPT09IENzcy5pZGVudC5ub25lXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIndpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBtYXhXaWR0aCA9PT0gQ3NzLmlkZW50Lm5vbmUgJiZcbiAgICAgICAgICAgICAgbWF4SGVpZ2h0ICE9PSBDc3MuaWRlbnQubm9uZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJoZWlnaHRcIiwgYCR7c2NhbGVkSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBtYXhXaWR0aCAhPSBub25lICYmIG1heEhlaWdodCAhPSBub25lXG4gICAgICAgICAgICAgIEFzc2VydHMuYXNzZXJ0KG1heFdpZHRoLmlzTnVtZXJpYygpKTtcbiAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQobWF4SGVpZ2h0LmlzTnVtZXJpYygpKTtcbiAgICAgICAgICAgICAgY29uc3QgbnVtZXJpY01heFdpZHRoID0gbWF4V2lkdGggYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICAgIGNvbnN0IG51bWVyaWNNYXhIZWlnaHQgPSBtYXhIZWlnaHQgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICAgIGlmIChudW1lcmljTWF4V2lkdGgudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWF4LXdpZHRoXCIsXG4gICAgICAgICAgICAgICAgICBgJHtNYXRoLm1pbihcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIENzcy50b051bWJlcihudW1lcmljTWF4V2lkdGgsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG51bWVyaWNNYXhIZWlnaHQudW5pdCAhPT0gXCIlXCIpIHtcbiAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgZWxlbSxcbiAgICAgICAgICAgICAgICAgIFwibWF4LWhlaWdodFwiLFxuICAgICAgICAgICAgICAgICAgYCR7TWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlZEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgQ3NzLnRvTnVtYmVyKG51bWVyaWNNYXhIZWlnaHQsIHNlbGYuY29udGV4dCksXG4gICAgICAgICAgICAgICAgICApfXB4YCxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiaGVpZ2h0XCIsIGAke3NjYWxlZEhlaWdodH1weGApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwid2lkdGhcIiwgYCR7c2NhbGVkV2lkdGh9cHhgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGltYWdlUmVzb2x1dGlvbiA8IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pbldpZHRoID0gY29tcHV0ZWRTdHlsZVtcIm1pbi13aWR0aFwiXSB8fCBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBjb25zdCBtaW5IZWlnaHQgPSBjb21wdXRlZFN0eWxlW1wibWluLWhlaWdodFwiXSB8fCBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChtaW5XaWR0aC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICBBc3NlcnRzLmFzc2VydChtaW5XaWR0aC5pc051bWVyaWMoKSk7XG4gICAgICAgICAgICBjb25zdCBudW1lcmljTWluV2lkdGggPSBtaW5XaWR0aCBhcyBDc3MuTnVtZXJpYztcbiAgICAgICAgICAgIGNvbnN0IG51bWVyaWNNaW5IZWlnaHQgPSBtaW5IZWlnaHQgYXMgQ3NzLk51bWVyaWM7XG4gICAgICAgICAgICBpZiAobnVtZXJpY01pbldpZHRoLm51bSA9PT0gMCAmJiBudW1lcmljTWluSGVpZ2h0Lm51bSA9PT0gMCkge1xuICAgICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwibWluLXdpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBudW1lcmljTWluV2lkdGgubnVtICE9PSAwICYmXG4gICAgICAgICAgICAgIG51bWVyaWNNaW5IZWlnaHQubnVtID09PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcIndpZHRoXCIsIGAke3NjYWxlZFdpZHRofXB4YCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBudW1lcmljTWluV2lkdGgubnVtID09PSAwICYmXG4gICAgICAgICAgICAgIG51bWVyaWNNaW5IZWlnaHQubnVtICE9PSAwXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtLCBcImhlaWdodFwiLCBgJHtzY2FsZWRIZWlnaHR9cHhgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG1pbldpZHRoICE9IDAgJiYgbWluSGVpZ2h0ICE9IDBcbiAgICAgICAgICAgICAgaWYgKG51bWVyaWNNaW5XaWR0aC51bml0ICE9PSBcIiVcIikge1xuICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICBlbGVtLFxuICAgICAgICAgICAgICAgICAgXCJtaW4td2lkdGhcIixcbiAgICAgICAgICAgICAgICAgIGAke01hdGgubWF4KFxuICAgICAgICAgICAgICAgICAgICBzY2FsZWRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgQ3NzLnRvTnVtYmVyKG51bWVyaWNNaW5XaWR0aCwgc2VsZi5jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICl9cHhgLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtZXJpY01pbkhlaWdodC51bml0ICE9PSBcIiVcIikge1xuICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICBlbGVtLFxuICAgICAgICAgICAgICAgICAgXCJtaW4taGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICBgJHtNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVkSGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBDc3MudG9OdW1iZXIobnVtZXJpY01pbkhlaWdodCwgc2VsZi5jb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICl9cHhgLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJoZWlnaHRcIiwgYCR7c2NhbGVkSGVpZ2h0fXB4YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJ3aWR0aFwiLCBgJHtzY2FsZWRXaWR0aH1weGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBwcmVwcm9jZXNzRWxlbWVudFN0eWxlKGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5QcmVQcm9jZXNzRWxlbWVudFN0eWxlSG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5QUkVQUk9DRVNTX0VMRU1FTlRfU1RZTEUsXG4gICAgKTtcbiAgICBob29rcy5mb3JFYWNoKChob29rKSA9PiB7XG4gICAgICBob29rKHNlbGYubm9kZUNvbnRleHQsIGNvbXB1dGVkU3R5bGUpO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBmaW5kQW5kUHJvY2Vzc1JlcGVhdGluZ0VsZW1lbnRzKFxuICAgIGVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgc3R5bGVyOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIsXG4gICkge1xuICAgIGZvciAoXG4gICAgICBsZXQgY2hpbGQ6IE5vZGUgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gICAgICBjaGlsZDtcbiAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmdcbiAgICApIHtcbiAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB7fTtcbiAgICAgIGNvbnN0IGVsZW1lbnRTdHlsZSA9IHN0eWxlci5nZXRTdHlsZShjaGlsZCBhcyBFbGVtZW50LCBmYWxzZSk7XG4gICAgICB0aGlzLmNvbXB1dGVTdHlsZShcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC52ZXJ0aWNhbCxcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5kaXJlY3Rpb24gPT09IFwicnRsXCIsXG4gICAgICAgIGVsZW1lbnRTdHlsZSxcbiAgICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICAgICk7XG4gICAgICBjb25zdCBwcm9jZXNzUmVwZWF0T25CcmVhayA9IHRoaXMucHJvY2Vzc1JlcGVhdE9uQnJlYWsoY29tcHV0ZWRTdHlsZSk7XG4gICAgICBpZiAoIXByb2Nlc3NSZXBlYXRPbkJyZWFrKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0IGluc3RhbmNlb2ZcbiAgICAgICAgICBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0ICYmXG4gICAgICAgICF0aGlzLm5vZGVDb250ZXh0LmJlbG9uZ3NUbyh0aGlzLm5vZGVDb250ZXh0LmZvcm1hdHRpbmdDb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubm9kZUNvbnRleHQucGFyZW50O1xuICAgICAgY29uc3QgcGFyZW50Rm9ybWF0dGluZ0NvbnRleHQgPSBwYXJlbnQgJiYgcGFyZW50LmZvcm1hdHRpbmdDb250ZXh0O1xuICAgICAgdGhpcy5ub2RlQ29udGV4dC5mb3JtYXR0aW5nQ29udGV4dCA9IG5ldyBSZXBldGl0aXZlRWxlbWVudC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0KFxuICAgICAgICBwYXJlbnRGb3JtYXR0aW5nQ29udGV4dCxcbiAgICAgICAgdGhpcy5ub2RlQ29udGV4dC5zb3VyY2VOb2RlIGFzIEVsZW1lbnQsXG4gICAgICApO1xuICAgICAgKHRoaXMubm9kZUNvbnRleHRcbiAgICAgICAgLmZvcm1hdHRpbmdDb250ZXh0IGFzIFJlcGV0aXRpdmVFbGVtZW50LlJlcGV0aXRpdmVFbGVtZW50c093bmVyRm9ybWF0dGluZ0NvbnRleHQpLmluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHMoXG4gICAgICAgIHRoaXMubm9kZUNvbnRleHQudmVydGljYWwsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgcHJvY2Vzc1JlcGVhdE9uQnJlYWsoY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0pIHtcbiAgICBsZXQgcmVwZWF0T25CcmVhayA9IGNvbXB1dGVkU3R5bGVbXCJyZXBlYXQtb24tYnJlYWtcIl07XG4gICAgaWYgKHJlcGVhdE9uQnJlYWsgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICBpZiAocmVwZWF0T25CcmVhayA9PT0gQ3NzLmlkZW50LmF1dG8pIHtcbiAgICAgICAgaWYgKGNvbXB1dGVkU3R5bGVbXCJkaXNwbGF5XCJdID09PSBDc3MuaWRlbnQudGFibGVfaGVhZGVyX2dyb3VwKSB7XG4gICAgICAgICAgcmVwZWF0T25CcmVhayA9IENzcy5pZGVudC5oZWFkZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPT09IENzcy5pZGVudC50YWJsZV9mb290ZXJfZ3JvdXApIHtcbiAgICAgICAgICByZXBlYXRPbkJyZWFrID0gQ3NzLmlkZW50LmZvb3RlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXBlYXRPbkJyZWFrID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXBlYXRPbkJyZWFrICYmIHJlcGVhdE9uQnJlYWsgIT09IENzcy5pZGVudC5ub25lKSB7XG4gICAgICAgIHJldHVybiByZXBlYXRPbkJyZWFrLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUZXh0Tm9kZVZpZXcoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNyZWF0ZVRleHROb2RlVmlld1wiKTtcbiAgICB0aGlzLnByZXByb2Nlc3NUZXh0Q29udGVudCgpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qgb2Zmc2V0SW5Ob2RlID0gc2VsZi5vZmZzZXRJbk5vZGUgfHwgMDtcbiAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gRGlmZi5yZXN0b3JlTmV3VGV4dChcbiAgICAgICAgc2VsZi5ub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCxcbiAgICAgICkuc3Vic3RyKG9mZnNldEluTm9kZSk7XG4gICAgICBzZWxmLnZpZXdOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dENvbnRlbnQpO1xuICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcHJlcHJvY2Vzc1RleHRDb250ZW50KCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBpZiAodGhpcy5ub2RlQ29udGV4dC5wcmVwcm9jZXNzZWRUZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBvcmlnaW5sOiBzdHJpbmc7XG4gICAgbGV0IHRleHRDb250ZW50ID0gKG9yaWdpbmwgPSBzZWxmLnNvdXJjZU5vZGUudGV4dENvbnRlbnQpO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcInByZXByb2Nlc3NUZXh0Q29udGVudFwiKTtcbiAgICBjb25zdCBob29rczogUGx1Z2luLlByZVByb2Nlc3NUZXh0Q29udGVudEhvb2tbXSA9IFBsdWdpbi5nZXRIb29rc0Zvck5hbWUoXG4gICAgICBQbHVnaW4uSE9PS1MuUFJFUFJPQ0VTU19URVhUX0NPTlRFTlQsXG4gICAgKTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZyYW1lXG4gICAgICAubG9vcCgoKSA9PiB7XG4gICAgICAgIGlmIChpbmRleCA+PSBob29rcy5sZW5ndGgpIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBob29rc1tpbmRleCsrXShzZWxmLm5vZGVDb250ZXh0LCB0ZXh0Q29udGVudCkudGhlbkFzeW5jKFxuICAgICAgICAgIChwcm9jZXNzZWRUZXh0KSA9PiB7XG4gICAgICAgICAgICB0ZXh0Q29udGVudCA9IHByb2Nlc3NlZFRleHQ7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHNlbGYubm9kZUNvbnRleHQucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQgPSBEaWZmLmRpZmZDaGFycyhcbiAgICAgICAgICBvcmlnaW5sLFxuICAgICAgICAgIHRleHRDb250ZW50LFxuICAgICAgICApO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBob2xkaW5nIHRydWUgaWYgY2hpbGRyZW4gc2hvdWxkIGJlIHByb2Nlc3NlZFxuICAgKi9cbiAgY3JlYXRlTm9kZVZpZXcoXG4gICAgZmlyc3RUaW1lOiBib29sZWFuLFxuICAgIGF0VW5mb3JjZWRCcmVhazogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImNyZWF0ZU5vZGVWaWV3XCIpO1xuICAgIGxldCByZXN1bHQ6IFRhc2suUmVzdWx0PGJvb2xlYW4+O1xuICAgIGxldCBuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4gPSB0cnVlO1xuICAgIGlmIChzZWxmLnNvdXJjZU5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgcmVzdWx0ID0gc2VsZi5jcmVhdGVFbGVtZW50VmlldyhmaXJzdFRpbWUsIGF0VW5mb3JjZWRCcmVhayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzZWxmLnNvdXJjZU5vZGUubm9kZVR5cGUgPT0gOCkge1xuICAgICAgICBzZWxmLnZpZXdOb2RlID0gbnVsbDsgLy8gY29tbWVudCBub2RlXG4gICAgICAgIHJlc3VsdCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gc2VsZi5jcmVhdGVUZXh0Tm9kZVZpZXcoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnRoZW4oKHByb2Nlc3NDaGlsZHJlbikgPT4ge1xuICAgICAgbmVlZFRvUHJvY2Vzc0NoaWxkcmVuID0gcHJvY2Vzc0NoaWxkcmVuO1xuICAgICAgc2VsZi5ub2RlQ29udGV4dC52aWV3Tm9kZSA9IHNlbGYudmlld05vZGU7XG4gICAgICBpZiAoc2VsZi52aWV3Tm9kZSkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSBzZWxmLm5vZGVDb250ZXh0LnBhcmVudFxuICAgICAgICAgID8gc2VsZi5ub2RlQ29udGV4dC5wYXJlbnQudmlld05vZGVcbiAgICAgICAgICA6IHNlbGYudmlld1Jvb3Q7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoc2VsZi52aWV3Tm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZyYW1lLmZpbmlzaChuZWVkVG9Qcm9jZXNzQ2hpbGRyZW4pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHNldEN1cnJlbnQoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIGZpcnN0VGltZTogYm9vbGVhbixcbiAgICBhdFVuZm9yY2VkQnJlYWs/OiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5ub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0O1xuICAgIGlmIChub2RlQ29udGV4dCkge1xuICAgICAgdGhpcy5zb3VyY2VOb2RlID0gbm9kZUNvbnRleHQuc291cmNlTm9kZTtcbiAgICAgIHRoaXMub2Zmc2V0SW5Ob2RlID0gbm9kZUNvbnRleHQub2Zmc2V0SW5Ob2RlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNvdXJjZU5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5vZmZzZXRJbk5vZGUgPSAtMTtcbiAgICB9XG4gICAgdGhpcy52aWV3Tm9kZSA9IG51bGw7XG4gICAgaWYgKHRoaXMubm9kZUNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZU5vZGVWaWV3KGZpcnN0VGltZSwgISFhdFVuZm9yY2VkQnJlYWspO1xuICAgIH1cbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICBwcm9jZXNzU2hhZG93Q29udGVudChwb3M6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGlmIChcbiAgICAgIHBvcy5zaGFkb3dDb250ZXh0ID09IG51bGwgfHxcbiAgICAgIChwb3Muc291cmNlTm9kZSBhcyBFbGVtZW50KS5sb2NhbE5hbWUgIT0gXCJjb250ZW50XCIgfHxcbiAgICAgIHBvcy5zb3VyY2VOb2RlLm5hbWVzcGFjZVVSSSAhPSBCYXNlLk5TLlNIQURPV1xuICAgICkge1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gICAgY29uc3QgYm94T2Zmc2V0ID0gcG9zLmJveE9mZnNldDtcbiAgICBjb25zdCBzaGFkb3cgPSBwb3Muc2hhZG93Q29udGV4dDtcbiAgICBjb25zdCBwYXJlbnQgPSBwb3MucGFyZW50O1xuXG4gICAgLy8gY29udGVudCB0aGF0IHdpbGwgYmUgaW5zZXJ0ZWRcbiAgICBsZXQgY29udGVudE5vZGU6IE5vZGU7XG4gICAgbGV0IGNvbnRlbnRTaGFkb3dUeXBlOiBWdHJlZS5TaGFkb3dUeXBlO1xuICAgIGxldCBjb250ZW50U2hhZG93OiBWdHJlZS5TaGFkb3dDb250ZXh0O1xuICAgIGlmIChzaGFkb3cuc3ViU2hhZG93KSB7XG4gICAgICBjb250ZW50U2hhZG93ID0gc2hhZG93LnN1YlNoYWRvdztcbiAgICAgIGNvbnRlbnROb2RlID0gc2hhZG93LnJvb3Q7XG4gICAgICBjb250ZW50U2hhZG93VHlwZSA9IHNoYWRvdy50eXBlO1xuICAgICAgaWYgKGNvbnRlbnRTaGFkb3dUeXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgY29udGVudE5vZGUgPSBjb250ZW50Tm9kZS5maXJzdENoaWxkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250ZW50U2hhZG93ID0gc2hhZG93LnBhcmVudFNoYWRvdztcbiAgICAgIGNvbnRlbnROb2RlID0gc2hhZG93Lm93bmVyLmZpcnN0Q2hpbGQ7XG4gICAgICBjb250ZW50U2hhZG93VHlwZSA9IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1M7XG4gICAgfVxuICAgIGNvbnN0IG5leHRTaWJsaW5nID0gcG9zLnNvdXJjZU5vZGUubmV4dFNpYmxpbmc7XG4gICAgaWYgKG5leHRTaWJsaW5nKSB7XG4gICAgICBwb3Muc291cmNlTm9kZSA9IG5leHRTaWJsaW5nO1xuICAgICAgcG9zLnJlc2V0VmlldygpO1xuICAgIH0gZWxzZSBpZiAocG9zLnNoYWRvd1NpYmxpbmcpIHtcbiAgICAgIHBvcyA9IHBvcy5zaGFkb3dTaWJsaW5nO1xuICAgIH0gZWxzZSBpZiAoY29udGVudE5vZGUpIHtcbiAgICAgIHBvcyA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBvcyA9IHBvcy5wYXJlbnQubW9kaWZ5KCk7XG4gICAgICBwb3MuYWZ0ZXIgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoY29udGVudE5vZGUpIHtcbiAgICAgIGNvbnN0IHIgPSBuZXcgVnRyZWUuTm9kZUNvbnRleHQoY29udGVudE5vZGUsIHBhcmVudCwgYm94T2Zmc2V0KTtcbiAgICAgIHIuc2hhZG93Q29udGV4dCA9IGNvbnRlbnRTaGFkb3c7XG4gICAgICByLnNoYWRvd1R5cGUgPSBjb250ZW50U2hhZG93VHlwZTtcbiAgICAgIHIuc2hhZG93U2libGluZyA9IHBvcztcbiAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBwb3MuYm94T2Zmc2V0ID0gYm94T2Zmc2V0O1xuICAgIHJldHVybiBwb3M7XG4gIH1cblxuICBwcml2YXRlIG5leHRQb3NpdGlvbkluVHJlZShwb3M6IFZ0cmVlLk5vZGVDb250ZXh0KTogVnRyZWUuTm9kZUNvbnRleHQge1xuICAgIGxldCBib3hPZmZzZXQgPSBwb3MuYm94T2Zmc2V0ICsgMTsgLy8gb2Zmc2V0IGZvciB0aGUgbmV4dCBwb3NpdGlvblxuICAgIGlmIChwb3MuYWZ0ZXIpIHtcbiAgICAgIC8vIHJvb3QsIHRoYXQgd2FzIHRoZSBsYXN0IHBvc3NpYmxlIHBvc2l0aW9uXG4gICAgICBpZiAoIXBvcy5wYXJlbnQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIC8vIHdlIGFyZSBkb25lIHdpdGggdGhpcyBzb3VyY2VOb2RlLCBzZWUgaWYgdGhlcmUgaXMgYSBuZXh0IHNpYmxpbmcsXG4gICAgICAvLyB1bmxlc3MgdGhpcyBpcyB0aGUgcm9vdCBvZiB0aGUgc2hhZG93IHRyZWVcbiAgICAgIGlmIChwb3Muc2hhZG93VHlwZSAhPSBWdHJlZS5TaGFkb3dUeXBlLlJPT1RFRCkge1xuICAgICAgICBjb25zdCBuZXh0ID0gcG9zLnNvdXJjZU5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgcG9zID0gcG9zLm1vZGlmeSgpO1xuXG4gICAgICAgICAgLy8ga2VlcCBzaGFkb3dUeXBlXG4gICAgICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgICAgICBwb3Muc291cmNlTm9kZSA9IG5leHQ7XG4gICAgICAgICAgcG9zLnJlc2V0VmlldygpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NTaGFkb3dDb250ZW50KHBvcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgbm8gdmlhYmxlIHNpYmxpbmdzLCBjaGVjayBpZiB0aGVyZSBhcmUgc2hhZG93IHNpYmxpbmdzXG4gICAgICBpZiAocG9zLnNoYWRvd1NpYmxpbmcpIHtcbiAgICAgICAgLy8gb3VyIG5leHQgcG9zaXRpb24gaXMgdGhlIGVsZW1lbnQgYWZ0ZXIgc2hhZG93OmNvbnRlbnQgaW4gdGhlIHBhcmVudFxuICAgICAgICAvLyBzaGFkb3cgdHJlZVxuICAgICAgICBwb3MgPSBwb3Muc2hhZG93U2libGluZy5tb2RpZnkoKTtcbiAgICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgIH1cblxuICAgICAgLy8gaWYgbm90IHJvb3RsZXNzIHNoYWRvdywgbW92ZSB0byB0aGUgXCJhZnRlclwiIHBvc2l0aW9uIGZvciB0aGUgcGFyZW50XG4gICAgICBwb3MgPSBwb3MucGFyZW50Lm1vZGlmeSgpO1xuICAgICAgcG9zLmJveE9mZnNldCA9IGJveE9mZnNldDtcbiAgICAgIHBvcy5hZnRlciA9IHRydWU7XG4gICAgICByZXR1cm4gcG9zO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBhbnkgc2hhZG93IHRyZWVzP1xuICAgICAgaWYgKHBvcy5ub2RlU2hhZG93KSB7XG4gICAgICAgIGxldCBzaGFkb3dOb2RlOiBOb2RlIHwgbnVsbCA9IHBvcy5ub2RlU2hhZG93LnJvb3Q7XG4gICAgICAgIGlmIChwb3Mubm9kZVNoYWRvdy50eXBlID09IFZ0cmVlLlNoYWRvd1R5cGUuUk9PVExFU1MpIHtcbiAgICAgICAgICBzaGFkb3dOb2RlID0gc2hhZG93Tm9kZS5maXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaGFkb3dOb2RlKSB7XG4gICAgICAgICAgY29uc3Qgc3IgPSBuZXcgVnRyZWUuTm9kZUNvbnRleHQoc2hhZG93Tm9kZSwgcG9zLCBib3hPZmZzZXQpO1xuICAgICAgICAgIHNyLnNoYWRvd0NvbnRleHQgPSBwb3Mubm9kZVNoYWRvdztcbiAgICAgICAgICBzci5zaGFkb3dUeXBlID0gcG9zLm5vZGVTaGFkb3cudHlwZTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzU2hhZG93Q29udGVudChzcik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYW55IGNoaWxkcmVuP1xuICAgICAgY29uc3QgY2hpbGQgPSBwb3Muc291cmNlTm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NTaGFkb3dDb250ZW50KFxuICAgICAgICAgIG5ldyBWdHJlZS5Ob2RlQ29udGV4dChjaGlsZCwgcG9zLCBib3hPZmZzZXQpLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBubyBjaGlsZHJlbiAtIHdhcyB0aGVyZSB0ZXh0IGNvbnRlbnQ/XG4gICAgICBpZiAocG9zLnNvdXJjZU5vZGUubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gRGlmZi5yZXN0b3JlTmV3VGV4dChwb3MucHJlcHJvY2Vzc2VkVGV4dENvbnRlbnQpO1xuICAgICAgICBib3hPZmZzZXQgKz0gY29udGVudC5sZW5ndGggLSAxIC0gcG9zLm9mZnNldEluTm9kZTtcbiAgICAgIH1cbiAgICAgIHBvcyA9IHBvcy5tb2RpZnkoKTtcbiAgICAgIHBvcy5ib3hPZmZzZXQgPSBib3hPZmZzZXQ7XG4gICAgICBwb3MuYWZ0ZXIgPSB0cnVlO1xuICAgICAgcmV0dXJuIHBvcztcbiAgICB9XG4gIH1cblxuICBpc1RyYW5zY2x1c2lvbihcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIGVsZW1lbnRTdHlsZTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUsXG4gICAgdHJhbnNjbHVzaW9uVHlwZTogc3RyaW5nIHwgbnVsbCxcbiAgKSB7XG4gICAgY29uc3QgcHJvYyA9IENzc0Nhc2NhZGUuZ2V0UHJvcChlbGVtZW50U3R5bGUsIFwiaHlwZXJsaW5rLXByb2Nlc3NpbmdcIik7XG4gICAgaWYgKCFwcm9jKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHByb3AgPSBwcm9jLmV2YWx1YXRlKHRoaXMuY29udGV4dCwgXCJoeXBlcmxpbmstcHJvY2Vzc2luZ1wiKTtcbiAgICBpZiAoIXByb3ApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHByb3AudG9TdHJpbmcoKSA9PSB0cmFuc2NsdXNpb25UeXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgbmV4dEluVHJlZShcbiAgICBwb3NpdGlvbjogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgYXRVbmZvcmNlZEJyZWFrPzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBsZXQgbm9kZUNvbnRleHQgPSB0aGlzLm5leHRQb3NpdGlvbkluVHJlZShwb3NpdGlvbik7XG4gICAgaWYgKCFub2RlQ29udGV4dCB8fCBub2RlQ29udGV4dC5hZnRlcikge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG5vZGVDb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTm9kZUNvbnRleHQ+ID0gVGFzay5uZXdGcmFtZShcIm5leHRJblRyZWVcIik7XG4gICAgdGhpcy5zZXRDdXJyZW50KG5vZGVDb250ZXh0LCB0cnVlLCBhdFVuZm9yY2VkQnJlYWspLnRoZW4oXG4gICAgICAocHJvY2Vzc0NoaWxkcmVuKSA9PiB7XG4gICAgICAgIGlmICghbm9kZUNvbnRleHQudmlld05vZGUgfHwgIXByb2Nlc3NDaGlsZHJlbikge1xuICAgICAgICAgIG5vZGVDb250ZXh0ID0gbm9kZUNvbnRleHQubW9kaWZ5KCk7XG4gICAgICAgICAgbm9kZUNvbnRleHQuYWZ0ZXIgPSB0cnVlOyAvLyBza2lwXG4gICAgICAgICAgaWYgKCFub2RlQ29udGV4dC52aWV3Tm9kZSkge1xuICAgICAgICAgICAgbm9kZUNvbnRleHQuaW5saW5lID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogXCJuZXh0SW5UcmVlXCIsIG5vZGVDb250ZXh0IH0gYXMgYW55KTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBhZGRJbWFnZUZldGNoZXJzKGJnOiBDc3MuVmFsKSB7XG4gICAgaWYgKGJnIGluc3RhbmNlb2YgQ3NzLkNvbW1hTGlzdCkge1xuICAgICAgY29uc3QgdmFsdWVzID0gKGJnIGFzIENzcy5Db21tYUxpc3QpLnZhbHVlcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuYWRkSW1hZ2VGZXRjaGVycyh2YWx1ZXNbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYmcgaW5zdGFuY2VvZiBDc3MuVVJMKSB7XG4gICAgICBjb25zdCB1cmwgPSAoYmcgYXMgQ3NzLlVSTCkudXJsO1xuICAgICAgdGhpcy5wYWdlLmZldGNoZXJzLnB1c2goVGFza1V0aWwubG9hZEVsZW1lbnQobmV3IEltYWdlKCksIHVybCkpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGx5Q29tcHV0ZWRTdHlsZXMoXG4gICAgdGFyZ2V0OiBFbGVtZW50LFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApIHtcbiAgICBjb25zdCBiZyA9IGNvbXB1dGVkU3R5bGVbXCJiYWNrZ3JvdW5kLWltYWdlXCJdO1xuICAgIGlmIChiZykge1xuICAgICAgdGhpcy5hZGRJbWFnZUZldGNoZXJzKGJnKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWxhdGl2ZVBvc2l0aW9uZWQgPVxuICAgICAgY29tcHV0ZWRTdHlsZVtcInBvc2l0aW9uXCJdID09PSBDc3MuaWRlbnQucmVsYXRpdmU7XG4gICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBjb21wdXRlZFN0eWxlKSB7XG4gICAgICBpZiAocHJvcGVydGllc05vdFBhc3NlZFRvRE9NW3Byb3BOYW1lXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCB2YWx1ZSA9IGNvbXB1dGVkU3R5bGVbcHJvcE5hbWVdO1xuICAgICAgdmFsdWUgPSB2YWx1ZS52aXNpdChcbiAgICAgICAgbmV3IENzc1Byb3AuVXJsVHJhbnNmb3JtVmlzaXRvcihcbiAgICAgICAgICB0aGlzLnhtbGRvYy51cmwsXG4gICAgICAgICAgdGhpcy5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgdmFsdWUuaXNOdW1lcmljKCkgJiZcbiAgICAgICAgRXhwcnMubmVlZFVuaXRDb252ZXJzaW9uKCh2YWx1ZSBhcyBDc3MuTnVtZXJpYykudW5pdClcbiAgICAgICkge1xuICAgICAgICAvLyBmb250LXNpemUgZm9yIHRoZSByb290IGVsZW1lbnQgaXMgYWxyZWFkeSBjb252ZXJ0ZWQgdG8gcHhcbiAgICAgICAgdmFsdWUgPSBDc3MuY29udmVydE51bWVyaWNUb1B4KHZhbHVlLCB0aGlzLmNvbnRleHQpO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICBWdHJlZS5kZWxheWVkUHJvcHNbcHJvcE5hbWVdIHx8XG4gICAgICAgIChpc1JlbGF0aXZlUG9zaXRpb25lZCAmJlxuICAgICAgICAgIFZ0cmVlLmRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkW3Byb3BOYW1lXSlcbiAgICAgICkge1xuICAgICAgICAvLyBTZXQgaXQgYWZ0ZXIgcGFnZSBsYXlvdXQgaXMgZG9uZS5cbiAgICAgICAgdGhpcy5wYWdlLmRlbGF5ZWRJdGVtcy5wdXNoKFxuICAgICAgICAgIG5ldyBWdHJlZS5EZWxheWVkSXRlbSh0YXJnZXQsIHByb3BOYW1lLCB2YWx1ZSksXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0YXJnZXQsIHByb3BOYW1lLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseVBzZXVkb2VsZW1lbnRTdHlsZShcbiAgICBub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQsXG4gICAgcHNldWRvTmFtZTogc3RyaW5nLFxuICAgIHRhcmdldDogRWxlbWVudCxcbiAgKTogdm9pZCB7XG4gICAgaWYgKG5vZGVDb250ZXh0LmFmdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNvdXJjZU5vZGUgYXMgRWxlbWVudDtcbiAgICBjb25zdCBzdHlsZXIgPSBub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0XG4gICAgICA/IChub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0LnN0eWxlciBhcyBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIpXG4gICAgICA6IHRoaXMuc3R5bGVyO1xuICAgIGxldCBlbGVtZW50U3R5bGUgPSBzdHlsZXIuZ2V0U3R5bGUoZWxlbWVudCwgZmFsc2UpO1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAoZWxlbWVudFN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIGlmICghcHNldWRvTWFwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGVsZW1lbnRTdHlsZSA9IHBzZXVkb01hcFtwc2V1ZG9OYW1lXTtcbiAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0ge307XG4gICAgbm9kZUNvbnRleHQudmVydGljYWwgPSB0aGlzLmNvbXB1dGVTdHlsZShcbiAgICAgIG5vZGVDb250ZXh0LnZlcnRpY2FsLFxuICAgICAgbm9kZUNvbnRleHQuZGlyZWN0aW9uID09PSBcInJ0bFwiLFxuICAgICAgZWxlbWVudFN0eWxlLFxuICAgICAgY29tcHV0ZWRTdHlsZSxcbiAgICApO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICBpZiAoVnRyZWUubm9uVHJpdmlhbENvbnRlbnQoY29udGVudCkpIHtcbiAgICAgIGNvbnRlbnQudmlzaXQoXG4gICAgICAgIG5ldyBWdHJlZS5Db250ZW50UHJvcGVydHlIYW5kbGVyKFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICB0aGlzLmNvbnRleHQsXG4gICAgICAgICAgY29udGVudCxcbiAgICAgICAgICB0aGlzLmV4cHJDb250ZW50TGlzdGVuZXIsXG4gICAgICAgICksXG4gICAgICApO1xuICAgICAgZGVsZXRlIGNvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgIH1cbiAgICB0aGlzLmFwcGx5Q29tcHV0ZWRTdHlsZXModGFyZ2V0LCBjb21wdXRlZFN0eWxlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHBlZWxPZmYoXG4gICAgbm9kZUNvbnRleHQ6IFZ0cmVlLk5vZGVDb250ZXh0LFxuICAgIG5vZGVPZmZzZXQ6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuTm9kZUNvbnRleHQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5Ob2RlQ29udGV4dD4gPSBUYXNrLm5ld0ZyYW1lKFwicGVlbE9mZlwiKTtcbiAgICBjb25zdCBmaXJzdFBzZXVkbyA9IG5vZGVDb250ZXh0LmZpcnN0UHNldWRvO1xuICAgIGxldCBvZmZzZXRJbk5vZGUgPSBub2RlQ29udGV4dC5vZmZzZXRJbk5vZGU7XG4gICAgY29uc3QgYWZ0ZXIgPSBub2RlQ29udGV4dC5hZnRlcjtcbiAgICBpZiAobm9kZU9mZnNldCA+IDApIHtcbiAgICAgIGNvbnN0IHRleHQgPSBub2RlQ29udGV4dC52aWV3Tm9kZS50ZXh0Q29udGVudDtcbiAgICAgIG5vZGVDb250ZXh0LnZpZXdOb2RlLnRleHRDb250ZW50ID0gdGV4dC5zdWJzdHIoMCwgbm9kZU9mZnNldCk7XG4gICAgICBvZmZzZXRJbk5vZGUgKz0gbm9kZU9mZnNldDtcbiAgICB9IGVsc2UgaWYgKCFhZnRlciAmJiBub2RlQ29udGV4dC52aWV3Tm9kZSAmJiBvZmZzZXRJbk5vZGUgPT0gMCkge1xuICAgICAgY29uc3QgcGFyZW50ID0gbm9kZUNvbnRleHQudmlld05vZGUucGFyZW50Tm9kZTtcbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG5vZGVDb250ZXh0LnZpZXdOb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYm94T2Zmc2V0ID0gbm9kZUNvbnRleHQuYm94T2Zmc2V0ICsgbm9kZU9mZnNldDtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICB3aGlsZSAobm9kZUNvbnRleHQuZmlyc3RQc2V1ZG8gPT09IGZpcnN0UHNldWRvKSB7XG4gICAgICBhcnIucHVzaChub2RlQ29udGV4dCk7XG4gICAgICBub2RlQ29udGV4dCA9IG5vZGVDb250ZXh0LnBhcmVudDtcbiAgICB9XG4gICAgbGV0IHBuID0gYXJyLnBvcCgpOyAvLyBjb250YWluZXIgZm9yIHRoYXQgcHNldWRvZWxlbWVudFxuICAgIGxldCBzaGFkb3dTaWJsaW5nID0gcG4uc2hhZG93U2libGluZztcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBmcmFtZVxuICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBwbiA9IGFyci5wb3AoKTtcbiAgICAgICAgICBub2RlQ29udGV4dCA9IG5ldyBWdHJlZS5Ob2RlQ29udGV4dChcbiAgICAgICAgICAgIHBuLnNvdXJjZU5vZGUsXG4gICAgICAgICAgICBub2RlQ29udGV4dCxcbiAgICAgICAgICAgIGJveE9mZnNldCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChhcnIubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0Lm9mZnNldEluTm9kZSA9IG9mZnNldEluTm9kZTtcbiAgICAgICAgICAgIG5vZGVDb250ZXh0LmFmdGVyID0gYWZ0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGVDb250ZXh0LnNoYWRvd1R5cGUgPSBwbi5zaGFkb3dUeXBlO1xuICAgICAgICAgIChub2RlQ29udGV4dC5zaGFkb3dDb250ZXh0ID0gcG4uc2hhZG93Q29udGV4dCksXG4gICAgICAgICAgICAobm9kZUNvbnRleHQubm9kZVNoYWRvdyA9IHBuLm5vZGVTaGFkb3cpO1xuICAgICAgICAgIG5vZGVDb250ZXh0LnNoYWRvd1NpYmxpbmcgPSBwbi5zaGFkb3dTaWJsaW5nXG4gICAgICAgICAgICA/IHBuLnNoYWRvd1NpYmxpbmdcbiAgICAgICAgICAgIDogc2hhZG93U2libGluZztcbiAgICAgICAgICBzaGFkb3dTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBzZWxmLnNldEN1cnJlbnQobm9kZUNvbnRleHQsIGZhbHNlKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmlzUGVuZGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoZmFsc2UpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG5vZGVDb250ZXh0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGNyZWF0ZUVsZW1lbnQobnM6IHN0cmluZywgdGFnOiBzdHJpbmcpOiBFbGVtZW50IHtcbiAgICBpZiAobnMgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhcHBseUZvb3Rub3RlU3R5bGUoXG4gICAgdmVydGljYWw6IGJvb2xlYW4sXG4gICAgcnRsOiBib29sZWFuLFxuICAgIHRhcmdldDogRWxlbWVudCxcbiAgKTogYm9vbGVhbiB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHt9O1xuICAgIGNvbnN0IHBzZXVkb01hcCA9IENzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAodGhpcy5mb290bm90ZVN0eWxlLCBcIl9wc2V1ZG9zXCIpO1xuICAgIHZlcnRpY2FsID0gdGhpcy5jb21wdXRlU3R5bGUoXG4gICAgICB2ZXJ0aWNhbCxcbiAgICAgIHJ0bCxcbiAgICAgIHRoaXMuZm9vdG5vdGVTdHlsZSxcbiAgICAgIGNvbXB1dGVkU3R5bGUsXG4gICAgKTtcbiAgICBpZiAocHNldWRvTWFwICYmIHBzZXVkb01hcFtcImJlZm9yZVwiXSkge1xuICAgICAgY29uc3QgY2hpbGRDb21wdXRlZFN0eWxlID0ge307XG4gICAgICBjb25zdCBzcGFuID0gdGhpcy5jcmVhdGVFbGVtZW50KEJhc2UuTlMuWEhUTUwsIFwic3BhblwiKTtcbiAgICAgIFBzZXVkb0VsZW1lbnQuc2V0UHNldWRvTmFtZShzcGFuLCBcImJlZm9yZVwiKTtcbiAgICAgIHRhcmdldC5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIHRoaXMuY29tcHV0ZVN0eWxlKHZlcnRpY2FsLCBydGwsIHBzZXVkb01hcFtcImJlZm9yZVwiXSwgY2hpbGRDb21wdXRlZFN0eWxlKTtcbiAgICAgIGRlbGV0ZSBjaGlsZENvbXB1dGVkU3R5bGVbXCJjb250ZW50XCJdO1xuICAgICAgdGhpcy5hcHBseUNvbXB1dGVkU3R5bGVzKHNwYW4sIGNoaWxkQ29tcHV0ZWRTdHlsZSk7XG4gICAgfVxuICAgIGRlbGV0ZSBjb21wdXRlZFN0eWxlW1wiY29udGVudFwiXTtcbiAgICB0aGlzLmFwcGx5Q29tcHV0ZWRTdHlsZXModGFyZ2V0LCBjb21wdXRlZFN0eWxlKTtcbiAgICByZXR1cm4gdmVydGljYWw7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBwcm9jZXNzRnJhZ21lbnRlZEJsb2NrRWRnZShub2RlQ29udGV4dDogVnRyZWUuTm9kZUNvbnRleHQpIHtcbiAgICBpZiAobm9kZUNvbnRleHQpIHtcbiAgICAgIG5vZGVDb250ZXh0LndhbGtVcEJsb2NrcygoYmxvY2spID0+IHtcbiAgICAgICAgY29uc3QgYm94RGVjb3JhdGlvbkJyZWFrID0gYmxvY2suaW5oZXJpdGVkUHJvcHNbXCJib3gtZGVjb3JhdGlvbi1icmVha1wiXTtcbiAgICAgICAgaWYgKCFib3hEZWNvcmF0aW9uQnJlYWsgfHwgYm94RGVjb3JhdGlvbkJyZWFrID09PSBcInNsaWNlXCIpIHtcbiAgICAgICAgICBjb25zdCBlbGVtID0gYmxvY2sudmlld05vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChlbGVtIGluc3RhbmNlb2YgRWxlbWVudCk7XG4gICAgICAgICAgaWYgKGJsb2NrLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwicGFkZGluZy1sZWZ0XCIsIFwiMFwiKTtcbiAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJib3JkZXItbGVmdFwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZWxlbSwgXCJwYWRkaW5nLWJvdHRvbVwiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbVwiLCBcIm5vbmVcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLCBcIjBcIik7XG4gICAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW0sIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIiwgXCIwXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgY29udmVydExlbmd0aFRvUHgoXG4gICAgbnVtZXJpYzogQ3NzLk51bWVyaWMsXG4gICAgdmlld05vZGU6IE5vZGUsXG4gICAgY2xpZW50TGF5b3V0OiBWdHJlZS5DbGllbnRMYXlvdXQsXG4gICk6IG51bWJlciB8IENzcy5OdW1lcmljIHtcbiAgICBjb25zdCBudW0gPSBudW1lcmljLm51bTtcbiAgICBjb25zdCB1bml0ID0gbnVtZXJpYy51bml0O1xuICAgIGlmIChFeHBycy5pc0ZvbnRSZWxhdGl2ZUxlbmd0aFVuaXQodW5pdCkpIHtcbiAgICAgIGxldCBlbGVtID0gdmlld05vZGU7XG4gICAgICB3aGlsZSAoZWxlbSAmJiBlbGVtLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICB9XG4gICAgICBBc3NlcnRzLmFzc2VydChlbGVtKTtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gcGFyc2VGbG9hdChcbiAgICAgICAgY2xpZW50TGF5b3V0LmdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW0gYXMgRWxlbWVudClbXCJmb250LXNpemVcIl0sXG4gICAgICApO1xuICAgICAgQXNzZXJ0cy5hc3NlcnQodGhpcy5jb250ZXh0KTtcbiAgICAgIHJldHVybiBDc3NDYXNjYWRlLmNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4KFxuICAgICAgICBudW1lcmljLFxuICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgdGhpcy5jb250ZXh0LFxuICAgICAgKS5udW07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHVuaXRTaXplID0gdGhpcy5jb250ZXh0LnF1ZXJ5VW5pdFNpemUodW5pdCwgZmFsc2UpO1xuICAgICAgaWYgKHVuaXRTaXplKSB7XG4gICAgICAgIHJldHVybiBudW0gKiB1bml0U2l6ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudW1lcmljO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIHR3byBOb2RlUG9zaXRpb25TdGVwIGFyZSBlcXVpdmFsZW50LlxuICAgKi9cbiAgaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChcbiAgICBzdGVwMTogVnRyZWUuTm9kZVBvc2l0aW9uU3RlcCxcbiAgICBzdGVwMjogVnRyZWUuTm9kZVBvc2l0aW9uU3RlcCxcbiAgKTogYm9vbGVhbiB7XG4gICAgaWYgKHN0ZXAxLnNoYWRvd0NvbnRleHQpIHtcbiAgICAgIGlmICghc3RlcDIuc2hhZG93Q29udGV4dCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtMSA9XG4gICAgICAgIHN0ZXAxLm5vZGUubm9kZVR5cGUgPT09IDFcbiAgICAgICAgICA/IChzdGVwMS5ub2RlIGFzIEVsZW1lbnQpXG4gICAgICAgICAgOiAoc3RlcDEubm9kZS5wYXJlbnRFbGVtZW50IGFzIEVsZW1lbnQpO1xuICAgICAgY29uc3QgZWxlbTIgPVxuICAgICAgICBzdGVwMi5ub2RlLm5vZGVUeXBlID09PSAxXG4gICAgICAgICAgPyAoc3RlcDIubm9kZSBhcyBFbGVtZW50KVxuICAgICAgICAgIDogKHN0ZXAyLm5vZGUucGFyZW50RWxlbWVudCBhcyBFbGVtZW50KTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIHN0ZXAxLnNoYWRvd0NvbnRleHQub3duZXIgPT09IHN0ZXAyLnNoYWRvd0NvbnRleHQub3duZXIgJiZcbiAgICAgICAgUHNldWRvRWxlbWVudC5nZXRQc2V1ZG9OYW1lKGVsZW0xKSA9PT1cbiAgICAgICAgICBQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUoZWxlbTIpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc3RlcDEubm9kZSA9PT0gc3RlcDIubm9kZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBpc1NhbWVOb2RlUG9zaXRpb24oXG4gICAgbm9kZVBvc2l0aW9uMTogVnRyZWUuTm9kZVBvc2l0aW9uLFxuICAgIG5vZGVQb3NpdGlvbjI6IFZ0cmVlLk5vZGVQb3NpdGlvbixcbiAgKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIG5vZGVQb3NpdGlvbjEub2Zmc2V0SW5Ob2RlID09PSBub2RlUG9zaXRpb24yLm9mZnNldEluTm9kZSAmJlxuICAgICAgbm9kZVBvc2l0aW9uMS5hZnRlciA9PSBub2RlUG9zaXRpb24yLmFmdGVyICYmXG4gICAgICBub2RlUG9zaXRpb24xLnN0ZXBzLmxlbmd0aCA9PT0gbm9kZVBvc2l0aW9uMi5zdGVwcy5sZW5ndGggJiZcbiAgICAgIG5vZGVQb3NpdGlvbjEuc3RlcHMuZXZlcnkoKHN0ZXAxLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0ZXAyID0gbm9kZVBvc2l0aW9uMi5zdGVwc1tpXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTYW1lTm9kZVBvc2l0aW9uU3RlcChzdGVwMSwgc3RlcDIpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgaXNQc2V1ZG9lbGVtZW50KGVsZW0pIHtcbiAgICByZXR1cm4gISFQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUoZWxlbSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGZiMlJlbWFwID0ge1xuICBhOiBcImFcIixcbiAgc3ViOiBcInN1YlwiLFxuICBzdXA6IFwic3VwXCIsXG4gIHRhYmxlOiBcInRhYmxlXCIsXG4gIHRyOiBcInRyXCIsXG4gIHRkOiBcInRkXCIsXG4gIHRoOiBcInRoXCIsXG4gIGNvZGU6IFwiY29kZVwiLFxuICBib2R5OiBcImRpdlwiLFxuICBwOiBcInBcIixcbiAgdjogXCJwXCIsXG4gIGRhdGU6IFwicFwiLFxuICBlbXBoYXNpczogXCJlbVwiLFxuICBzdHJvbmc6IFwic3Ryb25nXCIsXG4gIHN0eWxlOiBcInNwYW5cIixcbiAgc3RyaWtldGhyb3VnaDogXCJkZWxcIixcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9wZXJ0aWVzTm90UGFzc2VkVG9ET00gPSB7XG4gIFwiYm94LWRlY29yYXRpb24tYnJlYWtcIjogdHJ1ZSxcbiAgXCJmbG9hdC1taW4td3JhcC1ibG9ja1wiOiB0cnVlLFxuICBcImZsb2F0LXJlZmVyZW5jZVwiOiB0cnVlLFxuICBcImZsb3ctaW50b1wiOiB0cnVlLFxuICBcImZsb3ctbGluZ2VyXCI6IHRydWUsXG4gIFwiZmxvdy1vcHRpb25zXCI6IHRydWUsXG4gIFwiZmxvdy1wcmlvcml0eVwiOiB0cnVlLFxuICBcImZvb3Rub3RlLXBvbGljeVwiOiB0cnVlLFxuICBwYWdlOiB0cnVlLFxufTtcblxuZXhwb3J0IGNsYXNzIERlZmF1bHRDbGllbnRMYXlvdXQgaW1wbGVtZW50cyBWdHJlZS5DbGllbnRMYXlvdXQge1xuICBsYXlvdXRCb3g6IEVsZW1lbnQ7XG4gIHdpbmRvdzogV2luZG93O1xuXG4gIGNvbnN0cnVjdG9yKHZpZXdwb3J0OiBWaWV3cG9ydCkge1xuICAgIHRoaXMubGF5b3V0Qm94ID0gdmlld3BvcnQubGF5b3V0Qm94O1xuICAgIHRoaXMud2luZG93ID0gdmlld3BvcnQud2luZG93O1xuICB9XG5cbiAgcHJpdmF0ZSBzdWJ0cmFjdE9mZnNldHMoXG4gICAgcmVjdDogVnRyZWUuQ2xpZW50UmVjdCxcbiAgICBvcmlnaW5SZWN0OiBWdHJlZS5DbGllbnRSZWN0LFxuICApOiBWdHJlZS5DbGllbnRSZWN0IHtcbiAgICBjb25zdCB2aWV3cG9ydExlZnQgPSBvcmlnaW5SZWN0LmxlZnQ7XG4gICAgY29uc3Qgdmlld3BvcnRUb3AgPSBvcmlnaW5SZWN0LnRvcDtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogcmVjdC5sZWZ0IC0gdmlld3BvcnRMZWZ0LFxuICAgICAgdG9wOiByZWN0LnRvcCAtIHZpZXdwb3J0VG9wLFxuICAgICAgcmlnaHQ6IHJlY3QucmlnaHQgLSB2aWV3cG9ydExlZnQsXG4gICAgICBib3R0b206IHJlY3QuYm90dG9tIC0gdmlld3BvcnRUb3AsXG4gICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXG4gICAgfSBhcyBWdHJlZS5DbGllbnRSZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0UmFuZ2VDbGllbnRSZWN0cyhyYW5nZTogUmFuZ2UpOiBDbGllbnRSZWN0W10ge1xuICAgIGNvbnN0IHJlY3RzID0gcmFuZ2VbXCJnZXRDbGllbnRSZWN0c1wiXSgpO1xuICAgIGNvbnN0IGxheW91dEJveFJlY3QgPSB0aGlzLmxheW91dEJveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShyZWN0cykubWFwKChyZWN0KSA9PlxuICAgICAgdGhpcy5zdWJ0cmFjdE9mZnNldHMocmVjdCwgbGF5b3V0Qm94UmVjdCksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEVsZW1lbnRDbGllbnRSZWN0KGVsZW1lbnQ6IEVsZW1lbnQpOiBDbGllbnRSZWN0IHtcbiAgICBjb25zdCBodG1sRWxlbWVudCA9IGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgcmVjdCA9IGh0bWxFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGFzIFZ0cmVlLkNsaWVudFJlY3Q7XG4gICAgY29uc3QgbGF5b3V0Qm94UmVjdCA9IHRoaXMubGF5b3V0Qm94LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHJldHVybiB0aGlzLnN1YnRyYWN0T2Zmc2V0cyhyZWN0LCBsYXlvdXRCb3hSZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQ6IEVsZW1lbnQpOiBDU1NTdHlsZURlY2xhcmF0aW9uIHtcbiAgICByZXR1cm4gdGhpcy53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlld3BvcnQge1xuICBkb2N1bWVudDogRG9jdW1lbnQ7XG4gIHJvb3Q6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIG91dGVyWm9vbUJveDogSFRNTEVsZW1lbnQ7XG4gIGNvbnRlbnRDb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBsYXlvdXRCb3g6IEVsZW1lbnQ7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB3aW5kb3c6IFdpbmRvdyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udFNpemU6IG51bWJlcixcbiAgICBvcHRfcm9vdD86IEhUTUxFbGVtZW50LFxuICAgIG9wdF93aWR0aD86IG51bWJlcixcbiAgICBvcHRfaGVpZ2h0PzogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIHRoaXMucm9vdCA9IG9wdF9yb290IHx8IHRoaXMuZG9jdW1lbnQuYm9keTtcbiAgICBsZXQgb3V0ZXJab29tQm94ID0gdGhpcy5yb290LmZpcnN0RWxlbWVudENoaWxkO1xuICAgIGlmICghb3V0ZXJab29tQm94KSB7XG4gICAgICBvdXRlclpvb21Cb3ggPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBvdXRlclpvb21Cb3guc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1vdXRlci16b29tLWJveFwiLCBcInRydWVcIik7XG4gICAgICB0aGlzLnJvb3QuYXBwZW5kQ2hpbGQob3V0ZXJab29tQm94KTtcbiAgICB9XG4gICAgbGV0IGNvbnRlbnRDb250YWluZXIgPSBvdXRlclpvb21Cb3guZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgaWYgKCFjb250ZW50Q29udGFpbmVyKSB7XG4gICAgICBjb250ZW50Q29udGFpbmVyID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgY29udGVudENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXG4gICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS1zcHJlYWQtY29udGFpbmVyXCIsXG4gICAgICAgIFwidHJ1ZVwiLFxuICAgICAgKTtcbiAgICAgIG91dGVyWm9vbUJveC5hcHBlbmRDaGlsZChjb250ZW50Q29udGFpbmVyKTtcbiAgICB9XG4gICAgbGV0IGxheW91dEJveCA9IG91dGVyWm9vbUJveC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgaWYgKCFsYXlvdXRCb3gpIHtcbiAgICAgIGxheW91dEJveCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGxheW91dEJveC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLWxheW91dC1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKGxheW91dEJveCk7XG4gICAgfVxuICAgIHRoaXMub3V0ZXJab29tQm94ID0gb3V0ZXJab29tQm94IGFzIEhUTUxFbGVtZW50O1xuICAgIHRoaXMuY29udGVudENvbnRhaW5lciA9IGNvbnRlbnRDb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG4gICAgdGhpcy5sYXlvdXRCb3ggPSBsYXlvdXRCb3ggYXMgSFRNTEVsZW1lbnQ7XG4gICAgY29uc3QgY2xpZW50TGF5b3V0ID0gbmV3IERlZmF1bHRDbGllbnRMYXlvdXQodGhpcyk7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IGNsaWVudExheW91dC5nZXRFbGVtZW50Q29tcHV0ZWRTdHlsZSh0aGlzLnJvb3QpO1xuICAgIHRoaXMud2lkdGggPVxuICAgICAgb3B0X3dpZHRoIHx8IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVtcIndpZHRoXCJdKSB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9XG4gICAgICBvcHRfaGVpZ2h0IHx8IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVtcImhlaWdodFwiXSkgfHwgd2luZG93LmlubmVySGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHpvb20uXG4gICAqL1xuICByZXNldFpvb20oKSB7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLm91dGVyWm9vbUJveCwgXCJ3aWR0aFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMub3V0ZXJab29tQm94LCBcImhlaWdodFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJ3aWR0aFwiLCBcIlwiKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJoZWlnaHRcIiwgXCJcIik7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwidHJhbnNmb3JtXCIsIFwiXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFpvb20gdmlld3BvcnQuXG4gICAqIEBwYXJhbSB3aWR0aCBPdmVyYWxsIHdpZHRoIG9mIGNvbnRlbnRzIGJlZm9yZSBzY2FsaW5nIChweClcbiAgICogQHBhcmFtIGhlaWdodCBPdmVyYWxsIGhlaWdodCBvZiBjb250ZW50cyBiZWZvcmUgc2NhbGluZyAocHgpXG4gICAqIEBwYXJhbSBzY2FsZSBGYWN0b3IgdG8gd2hpY2ggdGhlIHZpZXdwb3J0IHdpbGwgYmUgc2NhbGVkLlxuICAgKi9cbiAgem9vbSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlciwgc2NhbGU6IG51bWJlcikge1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5vdXRlclpvb21Cb3gsIFwid2lkdGhcIiwgYCR7d2lkdGggKiBzY2FsZX1weGApO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkodGhpcy5vdXRlclpvb21Cb3gsIFwiaGVpZ2h0XCIsIGAke2hlaWdodCAqIHNjYWxlfXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwid2lkdGhcIiwgYCR7d2lkdGh9cHhgKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHRoaXMuY29udGVudENvbnRhaW5lciwgXCJoZWlnaHRcIiwgYCR7aGVpZ2h0fXB4YCk7XG4gICAgQmFzZS5zZXRDU1NQcm9wZXJ0eSh0aGlzLmNvbnRlbnRDb250YWluZXIsIFwidHJhbnNmb3JtXCIsIGBzY2FsZSgke3NjYWxlfSlgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIHBhZ2VzIGluc2lkZSB0aGUgdmlld3BvcnQuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBjb25zdCByb290ID0gdGhpcy5yb290O1xuICAgIHdoaWxlIChyb290Lmxhc3RDaGlsZCkge1xuICAgICAgcm9vdC5yZW1vdmVDaGlsZChyb290Lmxhc3RDaGlsZCk7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFhtbERvYyAtIFV0aWxpdHkgZnVuY3Rpb25zIHRvIHdvcmsgd2l0aCBYTUwgKG1vc3RseSBYSFRNTClcbiAqIGRvY3VtZW50cy5cbiAqL1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBOZXQgZnJvbSBcIi4vbmV0XCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCB7IFhtbERvYyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCB0eXBlIFhNTERvY1N0b3JlID0gWG1sRG9jLlhNTERvY1N0b3JlO1xuXG5leHBvcnQgY29uc3QgRUxFTUVOVF9PRkZTRVRfQVRUUiA9IFwiZGF0YS1hZGFwdC1lbG9mZlwiO1xuXG5leHBvcnQgY2xhc3MgWE1MRG9jSG9sZGVyIGltcGxlbWVudHMgWG1sRG9jLlhNTERvY0hvbGRlciB7XG4gIGxhbmc6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICB0b3RhbE9mZnNldDogbnVtYmVyID0gLTE7XG4gIHJvb3Q6IEVsZW1lbnQ7XG4gIGJvZHk6IEVsZW1lbnQ7XG4gIGhlYWQ6IEVsZW1lbnQ7XG4gIGxhc3Q6IEVsZW1lbnQ7XG4gIGxhc3RPZmZzZXQ6IG51bWJlciA9IDE7XG4gIGlkTWFwOiB7IFtrZXk6IHN0cmluZ106IEVsZW1lbnQgfTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RvcmU6IFhNTERvY1N0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSB1cmw6IHN0cmluZyxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZG9jdW1lbnQ6IERvY3VtZW50LFxuICApIHtcbiAgICB0aGlzLnJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IC8vIGh0bWwgZWxlbWVudFxuICAgIGxldCBib2R5OiBFbGVtZW50ID0gbnVsbDtcbiAgICBsZXQgaGVhZDogRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgZm9yIChcbiAgICAgICAgbGV0IGNoaWxkOiBOb2RlID0gdGhpcy5yb290LmZpcnN0Q2hpbGQ7XG4gICAgICAgIGNoaWxkO1xuICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nXG4gICAgICApIHtcbiAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtID0gY2hpbGQgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKGVsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUwpIHtcbiAgICAgICAgICBzd2l0Y2ggKGVsZW0ubG9jYWxOYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICAgICAgICBoZWFkID0gZWxlbTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICAgICAgICBib2R5ID0gZWxlbTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmxhbmcgPSB0aGlzLnJvb3QuZ2V0QXR0cmlidXRlKFwibGFuZ1wiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMucm9vdC5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5GQjIpIHtcbiAgICAgIGhlYWQgPSB0aGlzLnJvb3Q7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgY2hpbGQ6IE5vZGUgPSB0aGlzLnJvb3QuZmlyc3RDaGlsZDtcbiAgICAgICAgY2hpbGQ7XG4gICAgICAgIGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmdcbiAgICAgICkge1xuICAgICAgICBpZiAoY2hpbGQubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsZW0gPSBjaGlsZCBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoZWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5GQjIpIHtcbiAgICAgICAgICBpZiAoZWxlbS5sb2NhbE5hbWUgPT0gXCJib2R5XCIpIHtcbiAgICAgICAgICAgIGJvZHkgPSBlbGVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgbGFuZ3MgPSB0aGlzLmRvYygpXG4gICAgICAgIC5jaGlsZChcIkZpY3Rpb25Cb29rXCIpXG4gICAgICAgIC5jaGlsZChcImRlc2NyaXB0aW9uXCIpXG4gICAgICAgIC5jaGlsZChcInRpdGxlLWluZm9cIilcbiAgICAgICAgLmNoaWxkKFwibGFuZ1wiKVxuICAgICAgICAudGV4dENvbnRlbnQoKTtcbiAgICAgIGlmIChsYW5ncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMubGFuZyA9IGxhbmdzWzBdO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5yb290Lm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlNTRSkge1xuICAgICAgLy8gdHJlYXQgPG1ldGE+IGVsZW1lbnQgYXMgXCJoZWFkXCIgb2YgdGhlIGRvY3VtZW50XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgZWxlbSA9IHRoaXMucm9vdC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgZWxlbTtcbiAgICAgICAgZWxlbSA9IGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gZWxlbS5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChsb2NhbE5hbWUgPT09IFwibWV0YVwiKSB7XG4gICAgICAgICAgaGVhZCA9IGVsZW07XG4gICAgICAgIH0gZWxzZSBpZiAobG9jYWxOYW1lID09PSBcImJvZHlcIikge1xuICAgICAgICAgIGJvZHkgPSBlbGVtO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYm9keSA9IGJvZHkgYXMgRWxlbWVudDtcbiAgICB0aGlzLmhlYWQgPSBoZWFkIGFzIEVsZW1lbnQ7XG4gICAgdGhpcy5sYXN0ID0gdGhpcy5yb290O1xuICAgIHRoaXMubGFzdC5zZXRBdHRyaWJ1dGUoRUxFTUVOVF9PRkZTRVRfQVRUUiwgXCIwXCIpO1xuICB9XG5cbiAgZG9jKCk6IFhtbERvYy5Ob2RlTGlzdCB7XG4gICAgcmV0dXJuIG5ldyBOb2RlTGlzdChbdGhpcy5kb2N1bWVudF0pO1xuICB9XG5cbiAgZ2V0RWxlbWVudE9mZnNldChlbGVtZW50OiBFbGVtZW50KTogbnVtYmVyIHtcbiAgICBjb25zdCBvZmZzZXRTdHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShFTEVNRU5UX09GRlNFVF9BVFRSKTtcbiAgICBpZiAob2Zmc2V0U3RyKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQob2Zmc2V0U3RyLCAxMCk7XG4gICAgfVxuICAgIGxldCBvZmZzZXQgPSB0aGlzLmxhc3RPZmZzZXQ7XG4gICAgbGV0IGxhc3Q6IE5vZGUgfCBudWxsID0gdGhpcy5sYXN0O1xuICAgIHdoaWxlIChsYXN0ICE9IGVsZW1lbnQpIHtcbiAgICAgIGxldCBuZXh0OiBOb2RlIHwgbnVsbCA9IGxhc3QuZmlyc3RDaGlsZDtcbiAgICAgIGlmICghbmV4dCkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG5leHQgPSBsYXN0Lm5leHRTaWJsaW5nO1xuICAgICAgICAgIGlmIChuZXh0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdCA9IGxhc3QucGFyZW50Tm9kZTtcbiAgICAgICAgICBpZiAobGFzdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBlcnJvclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxhc3QgPSBuZXh0O1xuICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICBjb25zdCBuZXh0RWxlbWVudCA9IG5leHQgYXMgRWxlbWVudDtcbiAgICAgICAgbmV4dEVsZW1lbnQuc2V0QXR0cmlidXRlKEVMRU1FTlRfT0ZGU0VUX0FUVFIsIG9mZnNldC50b1N0cmluZygpKTtcbiAgICAgICAgKytvZmZzZXQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvZmZzZXQgKz0gKG5leHQudGV4dENvbnRlbnQgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubGFzdE9mZnNldCA9IG9mZnNldDtcbiAgICB0aGlzLmxhc3QgPSBlbGVtZW50O1xuICAgIHJldHVybiBvZmZzZXQgLSAxO1xuICB9XG5cbiAgZ2V0Tm9kZU9mZnNldChzcmNOb2RlOiBOb2RlLCBvZmZzZXRJbk5vZGU6IG51bWJlciwgYWZ0ZXI6IGJvb2xlYW4pIHtcbiAgICBsZXQgZXh0cmFPZmZzZXQgPSAwO1xuICAgIGxldCBub2RlOiBOb2RlIHwgbnVsbCA9IHNyY05vZGU7XG4gICAgbGV0IHByZXY6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAvLyBhZnRlciA9IHRydWUgaXMgb25seSB2YWxpZCBmb3IgZWxlbWVudHNcbiAgICAgIGlmICghYWZ0ZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudE9mZnNldChub2RlIGFzIEVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBvZmZzZXRJbk5vZGUgaXMgb25seSB2YWxpZCBmb3IgdGV4dCBub2Rlc1xuICAgICAgZXh0cmFPZmZzZXQgPSBvZmZzZXRJbk5vZGU7XG4gICAgICBwcmV2ID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICBpZiAoIXByZXYpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgZXh0cmFPZmZzZXQgKz0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RWxlbWVudE9mZnNldChub2RlIGFzIEVsZW1lbnQpICsgZXh0cmFPZmZzZXQ7XG4gICAgICB9XG4gICAgICBub2RlID0gcHJldjtcbiAgICB9XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHdoaWxlIChub2RlLmxhc3RDaGlsZCkge1xuICAgICAgICBub2RlID0gbm9kZS5sYXN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIC8vIGVtcHR5IGVsZW1lbnRcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBleHRyYU9mZnNldCArPSAobm9kZS50ZXh0Q29udGVudCBhcyBzdHJpbmcpLmxlbmd0aDtcbiAgICAgIHByZXYgPSBub2RlLnByZXZpb3VzU2libGluZztcbiAgICAgIGlmICghcHJldikge1xuICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBwcmV2O1xuICAgIH1cbiAgICBleHRyYU9mZnNldCArPSAxO1xuICAgIHJldHVybiB0aGlzLmdldEVsZW1lbnRPZmZzZXQobm9kZSBhcyBFbGVtZW50KSArIGV4dHJhT2Zmc2V0O1xuICB9XG5cbiAgZ2V0VG90YWxPZmZzZXQoKTogbnVtYmVyIHtcbiAgICBpZiAodGhpcy50b3RhbE9mZnNldCA8IDApIHtcbiAgICAgIHRoaXMudG90YWxPZmZzZXQgPSB0aGlzLmdldE5vZGVPZmZzZXQodGhpcy5yb290LCAwLCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG90YWxPZmZzZXQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBsYXN0IG5vZGUgc3VjaCB0aGF0IGl0cyBvZmZzZXQgaXMgbGVzcyBvciBlcXVhbCB0byB0aGUgZ2l2ZW5cbiAgICovXG4gIGdldE5vZGVCeU9mZnNldChvZmZzZXQ6IG51bWJlcik6IE5vZGUge1xuICAgIGxldCBlbGVtZW50T2Zmc2V0OiBudW1iZXI7XG5cbiAgICAvLyBGaXJzdCwgZmluZCB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBkb2N1bWVudCwgc3VjaCB0aGF0XG4gICAgLy8gdGhpcy5nZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpIDw9IG9mZnNldDsgaWYgb2ZmZXN0IG1hdGNoZXNcbiAgICAvLyBleGFjdGx5LCBqdXN0IHJldHVybiBpdC5cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMucm9vdDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgZWxlbWVudE9mZnNldCA9IHRoaXMuZ2V0RWxlbWVudE9mZnNldChlbGVtZW50KTtcbiAgICAgIGlmIChlbGVtZW50T2Zmc2V0ID49IG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbjsgLy8gRWxlbWVudCBjaGlsZHJlblxuICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNvbnN0IGluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2goY2hpbGRyZW4ubGVuZ3RoLCAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpbmRleF07XG4gICAgICAgIGNvbnN0IGNoaWxkT2Zmc2V0ID0gc2VsZi5nZXRFbGVtZW50T2Zmc2V0KGNoaWxkKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkT2Zmc2V0ID4gb2Zmc2V0O1xuICAgICAgfSk7XG4gICAgICBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChWSVZMSU9TVFlMRV9ERUJVRykge1xuICAgICAgICBpZiAoaW5kZXggPCBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBlbGVtT2Zmc2V0ID0gc2VsZi5nZXRFbGVtZW50T2Zmc2V0KGNoaWxkcmVuW2luZGV4XSk7XG4gICAgICAgICAgaWYgKGVsZW1PZmZzZXQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25zaXN0ZW5jeSBjaGVjayBmYWlsZWQhXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxlbWVudCA9IGNoaWxkcmVuW2luZGV4IC0gMV07XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgZWxlbWVudCB3aXRoIG9mZnNldCBsZXNzIHRoYW4gZGVzaXJlZC4gRmluZCBmb2xsb3dpbmdcbiAgICAvLyAobm9uLWVsZW1lbnQpIG5vZGUgd2l0aCB0aGUgcmlnaHQgb2Zmc2V0LlxuICAgIGxldCBub2RlT2Zmc2V0ID0gZWxlbWVudE9mZnNldCArIDE7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsID0gZWxlbWVudDtcbiAgICBsZXQgbmV4dDogTm9kZSB8IG51bGwgPSBub2RlLmZpcnN0Q2hpbGQgfHwgbm9kZS5uZXh0U2libGluZztcbiAgICBsZXQgbGFzdEdvb2Q6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKG5leHQpIHtcbiAgICAgICAgaWYgKG5leHQubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgICBsYXN0R29vZCA9IG5vZGU7XG4gICAgICAgIG5vZGVPZmZzZXQgKz0gKG5leHQudGV4dENvbnRlbnQgYXMgc3RyaW5nKS5sZW5ndGg7XG4gICAgICAgIGlmIChub2RlT2Zmc2V0ID4gb2Zmc2V0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgIGlmICghbm9kZSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGxhc3RHb29kIHx8IGVsZW1lbnQ7XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkSWRNYXAoZTogRWxlbWVudCk6IHZvaWQge1xuICAgIGNvbnN0IGlkID0gZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICBpZiAoaWQgJiYgIXRoaXMuaWRNYXBbaWRdKSB7XG4gICAgICB0aGlzLmlkTWFwW2lkXSA9IGU7XG4gICAgfVxuICAgIGNvbnN0IHhtbGlkID0gZS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLlhNTCwgXCJpZFwiKTtcbiAgICBpZiAoeG1saWQgJiYgIXRoaXMuaWRNYXBbeG1saWRdKSB7XG4gICAgICB0aGlzLmlkTWFwW3htbGlkXSA9IGU7XG4gICAgfVxuICAgIGZvciAobGV0IGMgPSBlLmZpcnN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHRoaXMuYnVpbGRJZE1hcChjKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGVsZW1lbnQgYnkgVVJMIGluIHRoZSBzb3VyY2UgZG9jdW1lbnQocykuIFVSTCBtdXN0IGJlIGluIGVpdGhlciAnI2lkJ1xuICAgKiBvciAndXJsI2lkJyBmb3JtLlxuICAgKi9cbiAgZ2V0RWxlbWVudCh1cmw6IHN0cmluZyk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICBjb25zdCBtID0gdXJsLm1hdGNoKC8oW14jXSopIyguKykkLyk7XG4gICAgaWYgKCFtIHx8IChtWzFdICYmIG1bMV0gIT0gdGhpcy51cmwpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgaWQgPSBtWzJdO1xuICAgIGxldCByOiBFbGVtZW50ID0gdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgaWYgKCFyICYmIHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUpIHtcbiAgICAgIHIgPSB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGlkKVswXTtcbiAgICB9XG4gICAgaWYgKCFyKSB7XG4gICAgICBpZiAoIXRoaXMuaWRNYXApIHtcbiAgICAgICAgdGhpcy5pZE1hcCA9IHt9O1xuICAgICAgICB0aGlzLmJ1aWxkSWRNYXAodGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgciA9IHRoaXMuaWRNYXBbaWRdO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxufVxuXG4vKipcbiAqIGNmLiBodHRwczovL3czYy5naXRodWIuaW8vRE9NLVBhcnNpbmcvI3RoZS1kb21wYXJzZXItaW50ZXJmYWNlXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBET01QYXJzZXJTdXBwb3J0ZWRUeXBlIHtcbiAgVEVYVF9IVE1MID0gXCJ0ZXh0L2h0bWxcIixcbiAgVEVYVF9YTUwgPSBcInRleHQveG1sXCIsXG4gIEFQUExJQ0FUSU9OX1hNTCA9IFwiYXBwbGljYXRpb24veG1sXCIsXG4gIEFQUExJQ0FUSU9OX1hIVE1MX1hNTCA9IFwiYXBwbGljYXRpb24veGh0bWxfeG1sXCIsXG4gIElNQUdFX1NWR19YTUwgPSBcImltYWdlL3N2Zyt4bWxcIixcbn1cblxuLyoqXG4gKiBQYXJzZXMgYSBzdHJpbmcgd2l0aCBhIERPTVBhcnNlciBhbmQgcmV0dXJucyB0aGUgZG9jdW1lbnQuXG4gKiBJZiBhIHBhcnNlIGVycm9yIG9jY3VycywgcmV0dXJuIG51bGwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFuZFJldHVybk51bGxJZkVycm9yKFxuICBzdHI6IHN0cmluZyxcbiAgdHlwZTogc3RyaW5nLFxuICBvcHRfcGFyc2VyPzogRE9NUGFyc2VyLFxuKTogRG9jdW1lbnQgfCBudWxsIHtcbiAgY29uc3QgcGFyc2VyID0gb3B0X3BhcnNlciB8fCBuZXcgRE9NUGFyc2VyKCk7XG4gIGxldCBkb2M6IERvY3VtZW50O1xuICB0cnkge1xuICAgIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoc3RyLCB0eXBlIGFzIFN1cHBvcnRlZFR5cGUpO1xuICB9IGNhdGNoIChlKSB7fVxuICBpZiAoIWRvYykge1xuICAgIHJldHVybiBudWxsO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGRvY0VsZW1lbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIGNvbnN0IGVycm9yVGFnTmFtZSA9IFwicGFyc2VyZXJyb3JcIjtcbiAgICBpZiAoZG9jRWxlbWVudC5sb2NhbE5hbWUgPT09IGVycm9yVGFnTmFtZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGV0IGMgPSBkb2NFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkOyBjOyBjID0gYy5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGMubG9jYWxOYW1lID09PSBlcnJvclRhZ05hbWUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZG9jO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIG51bGwgaWYgY29udGVudFR5cGUgY2Fubm90IGJlIGluZmVycmVkIGZyb20gSFRUUCBoZWFkZXIgYW5kIGZpbGVcbiAqICAgICBleHRlbnNpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVDb250ZW50VHlwZShyZXNwb25zZTogTmV0LlJlc3BvbnNlKTogc3RyaW5nIHwgbnVsbCB7XG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuY29udGVudFR5cGU7XG4gIGlmIChjb250ZW50VHlwZSkge1xuICAgIGNvbnN0IHN1cHBvcnRlZEtleXMgPSBPYmplY3Qua2V5cyhET01QYXJzZXJTdXBwb3J0ZWRUeXBlKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1cHBvcnRlZEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChET01QYXJzZXJTdXBwb3J0ZWRUeXBlW3N1cHBvcnRlZEtleXNbaV1dID09PSBjb250ZW50VHlwZSkge1xuICAgICAgICByZXR1cm4gY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjb250ZW50VHlwZS5tYXRjaCgvXFwreG1sJC8pKSB7XG4gICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YTUw7XG4gICAgfVxuICB9XG4gIGNvbnN0IG1hdGNoID0gcmVzcG9uc2UudXJsLm1hdGNoKC9cXC4oW14uL10rKSQvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gbWF0Y2hbMV07XG4gICAgc3dpdGNoIChleHRlbnNpb24pIHtcbiAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICBjYXNlIFwiaHRtXCI6XG4gICAgICAgIHJldHVybiBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLlRFWFRfSFRNTDtcbiAgICAgIGNhc2UgXCJ4aHRtbFwiOlxuICAgICAgY2FzZSBcInhodFwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YSFRNTF9YTUw7XG4gICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICBjYXNlIFwic3ZnelwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5JTUFHRV9TVkdfWE1MO1xuICAgICAgY2FzZSBcIm9wZlwiOlxuICAgICAgY2FzZSBcInhtbFwiOlxuICAgICAgICByZXR1cm4gRE9NUGFyc2VyU3VwcG9ydGVkVHlwZS5BUFBMSUNBVElPTl9YTUw7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VYTUxSZXNvdXJjZShcbiAgcmVzcG9uc2U6IE5ldC5SZXNwb25zZSxcbiAgc3RvcmU6IFhNTERvY1N0b3JlLFxuKTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4ge1xuICBsZXQgZG9jID0gcmVzcG9uc2UucmVzcG9uc2VYTUw7XG4gIGlmICghZG9jKSB7XG4gICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIGNvbnN0IHRleHQgPSByZXNwb25zZS5yZXNwb25zZVRleHQ7XG4gICAgaWYgKHRleHQpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzb2x2ZUNvbnRlbnRUeXBlKHJlc3BvbnNlKTtcbiAgICAgIGRvYyA9IHBhcnNlQW5kUmV0dXJuTnVsbElmRXJyb3IoXG4gICAgICAgIHRleHQsXG4gICAgICAgIGNvbnRlbnRUeXBlIHx8IERPTVBhcnNlclN1cHBvcnRlZFR5cGUuQVBQTElDQVRJT05fWE1MLFxuICAgICAgICBwYXJzZXIsXG4gICAgICApO1xuXG4gICAgICAvLyBXaGVuIGNvbnRlbnRUeXBlIGNhbm5vdCBiZSBpbmZlcnJlZCBmcm9tIEhUVFAgaGVhZGVyIGFuZCBmaWxlXG4gICAgICAvLyBleHRlbnNpb24sIHdlIHVzZSByb290IGVsZW1lbnQncyB0YWcgbmFtZSB0byBpbmZlciB0aGUgY29udGVudFR5cGUuIElmXG4gICAgICAvLyBpdCBpcyBodG1sIG9yIHN2Zywgd2UgcmUtcGFyc2UgdGhlIHNvdXJjZSB3aXRoIGFuIGFwcHJvcHJpYXRlXG4gICAgICAvLyBjb250ZW50VHlwZS5cbiAgICAgIGlmIChkb2MgJiYgIWNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGNvbnN0IHJvb3QgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBpZiAocm9vdC5sb2NhbE5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJodG1sXCIgJiYgIXJvb3QubmFtZXNwYWNlVVJJKSB7XG4gICAgICAgICAgZG9jID0gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgICAgICAgICAgIHRleHQsXG4gICAgICAgICAgICBET01QYXJzZXJTdXBwb3J0ZWRUeXBlLlRFWFRfSFRNTCxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHJvb3QubG9jYWxOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic3ZnXCIgJiZcbiAgICAgICAgICAoZG9jIGFzIGFueSkuY29udGVudFR5cGUgIT09IERPTVBhcnNlclN1cHBvcnRlZFR5cGUuSU1BR0VfU1ZHX1hNTFxuICAgICAgICApIHtcbiAgICAgICAgICBkb2MgPSBwYXJzZUFuZFJldHVybk51bGxJZkVycm9yKFxuICAgICAgICAgICAgdGV4dCxcbiAgICAgICAgICAgIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuSU1BR0VfU1ZHX1hNTCxcbiAgICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICAvLyBGYWxsYmFjayB0byBIVE1MIHBhcnNpbmdcbiAgICAgICAgZG9jID0gcGFyc2VBbmRSZXR1cm5OdWxsSWZFcnJvcihcbiAgICAgICAgICB0ZXh0LFxuICAgICAgICAgIERPTVBhcnNlclN1cHBvcnRlZFR5cGUuVEVYVF9IVE1MLFxuICAgICAgICAgIHBhcnNlcixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgeG1sZG9jID0gZG9jID8gbmV3IFhNTERvY0hvbGRlcihzdG9yZSwgcmVzcG9uc2UudXJsLCBkb2MpIDogbnVsbDtcbiAgcmV0dXJuIFRhc2submV3UmVzdWx0KHhtbGRvYyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdYTUxEb2NTdG9yZSgpOiBYTUxEb2NTdG9yZSB7XG4gIHJldHVybiBuZXcgTmV0LlJlc291cmNlU3RvcmUoXG4gICAgcGFyc2VYTUxSZXNvdXJjZSxcbiAgICBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQsXG4gICk7XG59XG5cbmV4cG9ydCBjbGFzcyBQcmVkaWNhdGUgaW1wbGVtZW50cyBYbWxEb2MuUHJlZGljYXRlIHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IGZuOiAocDE6IE5vZGUpID0+IGJvb2xlYW4pIHt9XG5cbiAgY2hlY2sobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZuKG5vZGUpO1xuICB9XG5cbiAgd2l0aEF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiBQcmVkaWNhdGUge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJlZGljYXRlKFxuICAgICAgKG5vZGUpID0+XG4gICAgICAgIHNlbGYuY2hlY2sobm9kZSkgJiZcbiAgICAgICAgbm9kZS5ub2RlVHlwZSA9PSAxICYmXG4gICAgICAgIChub2RlIGFzIEVsZW1lbnQpLmdldEF0dHJpYnV0ZShuYW1lKSA9PSB2YWx1ZSxcbiAgICApO1xuICB9XG5cbiAgd2l0aENoaWxkKG5hbWU6IHN0cmluZywgb3B0X2NoaWxkUHJlZGljYXRlPzogUHJlZGljYXRlKTogUHJlZGljYXRlIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByZWRpY2F0ZSgobm9kZSkgPT4ge1xuICAgICAgaWYgKCFzZWxmLmNoZWNrKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGxldCBsaXN0ID0gbmV3IE5vZGVMaXN0KFtub2RlXSk7XG4gICAgICBsaXN0ID0gbGlzdC5jaGlsZChuYW1lKTtcbiAgICAgIGlmIChvcHRfY2hpbGRQcmVkaWNhdGUpIHtcbiAgICAgICAgbGlzdCA9IGxpc3QucHJlZGljYXRlKG9wdF9jaGlsZFByZWRpY2F0ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGlzdC5zaXplKCkgPiAwO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwcmVkaWNhdGUgPSBuZXcgUHJlZGljYXRlKChub2RlKSA9PiB0cnVlKTtcblxuZXhwb3J0IGNsYXNzIE5vZGVMaXN0IGltcGxlbWVudHMgWG1sRG9jLk5vZGVMaXN0IHtcbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IG5vZGVzOiBOb2RlW10pIHt9XG5cbiAgYXNBcnJheSgpOiBOb2RlW10ge1xuICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICB9XG5cbiAgc2l6ZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaWx0ZXIgd2l0aCBwcmVkaWNhdGVcbiAgICovXG4gIHByZWRpY2F0ZShwcjogUHJlZGljYXRlKTogTm9kZUxpc3Qge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAoY29uc3QgbiBvZiB0aGlzLm5vZGVzKSB7XG4gICAgICBpZiAocHIuY2hlY2sobikpIHtcbiAgICAgICAgYXJyLnB1c2gobik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgTm9kZUxpc3QoYXJyKTtcbiAgfVxuXG4gIGZvckVhY2hOb2RlKGZuOiAocDE6IE5vZGUsIHAyOiAocDE6IE5vZGUpID0+IHZvaWQpID0+IHZvaWQpOiBOb2RlTGlzdCB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgY29uc3QgYWRkID0gKG4pID0+IHtcbiAgICAgIGFyci5wdXNoKG4pO1xuICAgIH07XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBmbih0aGlzLm5vZGVzW2ldLCBhZGQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE5vZGVMaXN0KGFycik7XG4gIH1cblxuICAvKipcbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2g8VD4oZm46IChwMTogTm9kZSkgPT4gVCk6IFRbXSB7XG4gICAgY29uc3QgYXJyID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcnIucHVzaChmbih0aGlzLm5vZGVzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBhcnI7XG4gIH1cblxuICAvKipcbiAgICogQHRlbXBsYXRlIFRcbiAgICovXG4gIGZvckVhY2hOb25OdWxsPFQ+KGZuOiAocDE6IE5vZGUpID0+IFQpOiBUW10ge1xuICAgIGNvbnN0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgdCA9IGZuKHRoaXMubm9kZXNbaV0pO1xuICAgICAgaWYgKHQgIT0gbnVsbCkge1xuICAgICAgICBhcnIucHVzaCh0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGNoaWxkKHRhZzogc3RyaW5nKTogTm9kZUxpc3Qge1xuICAgIHJldHVybiB0aGlzLmZvckVhY2hOb2RlKChub2RlLCBhZGQpID0+IHtcbiAgICAgIGZvciAobGV0IGM6IE5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7IGM7IGMgPSBjLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGlmIChjLm5vZGVUeXBlID09IDEgJiYgKGMgYXMgRWxlbWVudCkubG9jYWxOYW1lID09IHRhZykge1xuICAgICAgICAgIGFkZChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgY2hpbGRFbGVtZW50cygpOiBOb2RlTGlzdCB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaE5vZGUoKG5vZGUsIGFkZCkgPT4ge1xuICAgICAgZm9yIChsZXQgYzogTm9kZSA9IG5vZGUuZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgaWYgKGMubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgIGFkZChjKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IChzdHJpbmcgfCBudWxsKVtdIHtcbiAgICByZXR1cm4gdGhpcy5mb3JFYWNoTm9uTnVsbCgobm9kZSkgPT4ge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICByZXR1cm4gKG5vZGUgYXMgRWxlbWVudCkuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gIH1cblxuICB0ZXh0Q29udGVudCgpOiAoc3RyaW5nIHwgbnVsbClbXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9yRWFjaCgobm9kZSkgPT4gbm9kZS50ZXh0Q29udGVudCk7XG4gIH1cbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgT3BzIC0gUmVuZGVyIEVQVUIgY29udGVudCBmaWxlcyBieSBhcHBseWluZyBwYWdlIG1hc3RlcnMsXG4gKiBzdHlsaW5nIGFuZCBsYXlvdXQuXG4gKi9cbmltcG9ydCBcIi4vZm9vdG5vdGVzXCI7XG5pbXBvcnQgXCIuL3RhYmxlXCI7XG5pbXBvcnQgKiBhcyBBc3NlcnRzIGZyb20gXCIuL2Fzc2VydHNcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQnJlYWsgZnJvbSBcIi4vYnJlYWtcIjtcbmltcG9ydCAqIGFzIENvbHVtbnMgZnJvbSBcIi4vY29sdW1uc1wiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgQ291bnRlcnMgZnJvbSBcIi4vY291bnRlcnNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIENzc0Nhc2NhZGUgZnJvbSBcIi4vY3NzLWNhc2NhZGVcIjtcbmltcG9ydCAqIGFzIENzc1BhcnNlciBmcm9tIFwiLi9jc3MtcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBDc3NQcm9wIGZyb20gXCIuL2Nzcy1wcm9wXCI7XG5pbXBvcnQgKiBhcyBDc3NTdHlsZXIgZnJvbSBcIi4vY3NzLXN0eWxlclwiO1xuaW1wb3J0ICogYXMgQ3NzVG9rZW5pemVyIGZyb20gXCIuL2Nzcy10b2tlbml6ZXJcIjtcbmltcG9ydCAqIGFzIENzc1ZhbGlkYXRvciBmcm9tIFwiLi9jc3MtdmFsaWRhdG9yXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBHZW9tZXRyeVV0aWwgZnJvbSBcIi4vZ2VvbWV0cnktdXRpbFwiO1xuaW1wb3J0ICogYXMgTGF5b3V0IGZyb20gXCIuL2xheW91dFwiO1xuaW1wb3J0ICogYXMgTGF5b3V0UHJvY2Vzc29yIGZyb20gXCIuL2xheW91dC1wcm9jZXNzb3JcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgTmV0IGZyb20gXCIuL25ldFwiO1xuaW1wb3J0ICogYXMgUGFnZUZsb2F0cyBmcm9tIFwiLi9wYWdlLWZsb2F0c1wiO1xuaW1wb3J0ICogYXMgQ3NzUGFnZSBmcm9tIFwiLi9jc3MtcGFnZVwiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUGFnZU1hc3RlciBmcm9tIFwiLi9wYWdlLW1hc3RlclwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUYXNrVXRpbCBmcm9tIFwiLi90YXNrLXV0aWxcIjtcbmltcG9ydCAqIGFzIFZnZW4gZnJvbSBcIi4vdmdlblwiO1xuaW1wb3J0ICogYXMgVnRyZWUgZnJvbSBcIi4vdnRyZWVcIjtcbmltcG9ydCAqIGFzIFhtbERvYyBmcm9tIFwiLi94bWwtZG9jXCI7XG5pbXBvcnQgeyBMYXlvdXQgYXMgTGF5b3V0VHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgVXNlckFnZW50QmFzZUNzcyBmcm9tIFwiLi9hc3NldHMvdXNlci1hZ2VudC1iYXNlLmNzc1wiO1xuaW1wb3J0IFVzZXJBZ2VudFBhZ2VDc3MgZnJvbSBcIi4vYXNzZXRzL3VzZXItYWdlbnQtcGFnZS5jc3NcIjtcblxuZXhwb3J0IGNvbnN0IHVhU3R5bGVzaGVldEJhc2VGZXRjaGVyOiBUYXNrVXRpbC5GZXRjaGVyPGJvb2xlYW4+ID0gbmV3IFRhc2tVdGlsLkZldGNoZXIoXG4gICgpID0+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJ1YVN0eWxlc2hlZXRCYXNlXCIpO1xuICAgIGNvbnN0IHZhbGlkYXRvclNldCA9IENzc1ZhbGlkYXRvci5iYXNlVmFsaWRhdG9yU2V0KCk7XG4gICAgY29uc3QgdXJsID0gQmFzZS5yZXNvbHZlVVJMKFwidXNlci1hZ2VudC1iYXNlLmNzc1wiLCBCYXNlLnJlc291cmNlQmFzZVVSTCk7XG4gICAgY29uc3QgaGFuZGxlciA9IG5ldyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyKFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICB2YWxpZGF0b3JTZXQsXG4gICAgICB0cnVlLFxuICAgICk7XG4gICAgaGFuZGxlci5zdGFydFN0eWxlc2hlZXQoQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuVVNFUl9BR0VOVCk7XG4gICAgQ3NzQ2FzY2FkZS5zZXRVQUJhc2VDYXNjYWRlKGhhbmRsZXIuY2FzY2FkZSk7XG4gICAgQ3NzUGFyc2VyLnBhcnNlU3R5bGVzaGVldEZyb21UZXh0KFxuICAgICAgVXNlckFnZW50QmFzZUNzcyxcbiAgICAgIGhhbmRsZXIsXG4gICAgICB1cmwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICApLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfSxcbiAgXCJ1YVN0eWxlc2hlZXRCYXNlRmV0Y2hlclwiLFxuKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRVQUJhc2UoKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICByZXR1cm4gdWFTdHlsZXNoZWV0QmFzZUZldGNoZXIuZ2V0KCk7XG59XG5cbmV4cG9ydCB0eXBlIEZvbnRGYWNlID0ge1xuICBwcm9wZXJ0aWVzOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgY29uZGl0aW9uOiBFeHBycy5WYWw7XG59O1xuXG5leHBvcnQgY2xhc3MgU3R5bGUge1xuICBmb250RGVvYmZ1c2NhdG9yOlxuICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgIHwgbnVsbDtcbiAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdG9yZTogT1BTRG9jU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IHJvb3RTY29wZTogRXhwcnMuTGV4aWNhbFNjb3BlLFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlU2NvcGU6IEV4cHJzLkxleGljYWxTY29wZSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgY2FzY2FkZTogQ3NzQ2FzY2FkZS5DYXNjYWRlLFxuICAgIHB1YmxpYyByZWFkb25seSByb290Qm94OiBQYWdlTWFzdGVyLlJvb3RQYWdlQm94LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250RmFjZXM6IEZvbnRGYWNlW10sXG4gICAgcHVibGljIHJlYWRvbmx5IGZvb3Rub3RlUHJvcHM6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICAgIHB1YmxpYyByZWFkb25seSBmbG93UHJvcHM6IHsgW2tleTogc3RyaW5nXTogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUgfSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnRQcm9wczogQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGVbXSxcbiAgICBwdWJsaWMgcmVhZG9ubHkgcGFnZVByb3BzOiB7IFtrZXk6IHN0cmluZ106IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlIH0sXG4gICkge1xuICAgIHRoaXMuZm9udERlb2JmdXNjYXRvciA9IHN0b3JlLmZvbnREZW9iZnVzY2F0b3I7XG4gICAgdGhpcy52YWxpZGF0b3JTZXQgPSBzdG9yZS52YWxpZGF0b3JTZXQ7XG4gICAgdGhpcy5wYWdlU2NvcGUuZGVmaW5lQnVpbHRJbihcImhhcy1jb250ZW50XCIsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICBuYW1lID0gbmFtZSBhcyBzdHJpbmc7XG4gICAgICBjb25zdCBzdHlsZUluc3RhbmNlID0gdGhpcyBhcyBTdHlsZUluc3RhbmNlO1xuICAgICAgY29uc3QgY3AgPSBzdHlsZUluc3RhbmNlLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcbiAgICAgIGNvbnN0IGZsb3dDaHVuayA9IGNwLmZpcnN0Rmxvd0NodW5rT2ZGbG93KG5hbWUpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgc3R5bGVJbnN0YW5jZS5tYXRjaFBhZ2VTaWRlKGNwLnN0YXJ0U2lkZU9mRmxvdyhuYW1lIGFzIHN0cmluZykpICYmXG4gICAgICAgIGNwLmhhc0NvbnRlbnQobmFtZSBhcyBzdHJpbmcsIHN0eWxlSW5zdGFuY2UubG9va3VwT2Zmc2V0KSAmJlxuICAgICAgICAhIWZsb3dDaHVuayAmJlxuICAgICAgICAhc3R5bGVJbnN0YW5jZS5mbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrKGZsb3dDaHVuaylcbiAgICAgICk7XG4gICAgfSk7XG4gICAgdGhpcy5wYWdlU2NvcGUuZGVmaW5lTmFtZShcbiAgICAgIFwicGFnZS1udW1iZXJcIixcbiAgICAgIG5ldyBFeHBycy5OYXRpdmUoXG4gICAgICAgIHRoaXMucGFnZVNjb3BlLFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc3Qgc3R5bGVJbnN0YW5jZSA9IHRoaXMgYXMgU3R5bGVJbnN0YW5jZTtcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc3R5bGVJbnN0YW5jZS5wYWdlTnVtYmVyT2Zmc2V0ICtcbiAgICAgICAgICAgIHN0eWxlSW5zdGFuY2UuY3VycmVudExheW91dFBvc2l0aW9uLnBhZ2VcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICBcInBhZ2UtbnVtYmVyXCIsXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBzaXplVmlld3BvcnQoXG4gICAgdmlld3BvcnRXaWR0aDogbnVtYmVyLFxuICAgIHZpZXdwb3J0SGVpZ2h0OiBudW1iZXIsXG4gICAgZm9udFNpemU6IG51bWJlcixcbiAgICBwcmVmPzogRXhwcnMuUHJlZmVyZW5jZXMsXG4gICk6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXI7IGZvbnRTaXplOiBudW1iZXIgfSB7XG4gICAgaWYgKHRoaXMudmlld3BvcnRQcm9wcy5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBuZXcgRXhwcnMuQ29udGV4dChcbiAgICAgICAgdGhpcy5yb290U2NvcGUsXG4gICAgICAgIHZpZXdwb3J0V2lkdGgsXG4gICAgICAgIHZpZXdwb3J0SGVpZ2h0LFxuICAgICAgICBmb250U2l6ZSxcbiAgICAgICk7XG4gICAgICBjb25zdCB2aWV3cG9ydFByb3BzID0gQ3NzQ2FzY2FkZS5tZXJnZUFsbChjb250ZXh0LCB0aGlzLnZpZXdwb3J0UHJvcHMpO1xuICAgICAgY29uc3Qgd2lkdGggPSB2aWV3cG9ydFByb3BzW1wid2lkdGhcIl07XG4gICAgICBjb25zdCBoZWlnaHQgPSB2aWV3cG9ydFByb3BzW1wiaGVpZ2h0XCJdO1xuICAgICAgY29uc3QgdGV4dFpvb20gPSB2aWV3cG9ydFByb3BzW1widGV4dC16b29tXCJdO1xuICAgICAgbGV0IHNjYWxlRmFjdG9yID0gMTtcbiAgICAgIGlmICgod2lkdGggJiYgaGVpZ2h0KSB8fCB0ZXh0Wm9vbSkge1xuICAgICAgICBjb25zdCBkZWZhdWx0Rm9udFNpemUgPSBFeHBycy5kZWZhdWx0VW5pdFNpemVzW1wiZW1cIl07XG4gICAgICAgIGNvbnN0IHpvb21WYWwgPSB0ZXh0Wm9vbVxuICAgICAgICAgID8gdGV4dFpvb20uZXZhbHVhdGUoY29udGV4dCwgXCJ0ZXh0LXpvb21cIilcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmICh6b29tVmFsID09PSBDc3MuaWRlbnQuc2NhbGUpIHtcbiAgICAgICAgICBzY2FsZUZhY3RvciA9IGRlZmF1bHRGb250U2l6ZSAvIGZvbnRTaXplO1xuICAgICAgICAgIGZvbnRTaXplID0gZGVmYXVsdEZvbnRTaXplO1xuICAgICAgICAgIHZpZXdwb3J0V2lkdGggKj0gc2NhbGVGYWN0b3I7XG4gICAgICAgICAgdmlld3BvcnRIZWlnaHQgKj0gc2NhbGVGYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgICAgICAgIGNvbnN0IHdpZHRoVmFsID0gQ3NzLnRvTnVtYmVyKFxuICAgICAgICAgICAgd2lkdGguZXZhbHVhdGUoY29udGV4dCwgXCJ3aWR0aFwiKSxcbiAgICAgICAgICAgIGNvbnRleHQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBoZWlnaHRWYWwgPSBDc3MudG9OdW1iZXIoXG4gICAgICAgICAgICBoZWlnaHQuZXZhbHVhdGUoY29udGV4dCwgXCJoZWlnaHRcIiksXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHdpZHRoVmFsID4gMCAmJiBoZWlnaHRWYWwgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBzcHJlYWRXaWR0aCA9XG4gICAgICAgICAgICAgIHByZWYgJiYgcHJlZi5zcHJlYWRWaWV3XG4gICAgICAgICAgICAgICAgPyAod2lkdGhWYWwgKyBwcmVmLnBhZ2VCb3JkZXIpICogMlxuICAgICAgICAgICAgICAgIDogd2lkdGhWYWw7XG4gICAgICAgICAgICByZXR1cm4geyB3aWR0aDogc3ByZWFkV2lkdGgsIGhlaWdodDogaGVpZ2h0VmFsLCBmb250U2l6ZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB3aWR0aDogdmlld3BvcnRXaWR0aCwgaGVpZ2h0OiB2aWV3cG9ydEhlaWdodCwgZm9udFNpemUgfTtcbiAgfVxufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmV4cG9ydCBjbGFzcyBTdHlsZUluc3RhbmNlIGV4dGVuZHMgRXhwcnMuQ29udGV4dFxuICBpbXBsZW1lbnRzXG4gICAgQ3NzU3R5bGVyLkZsb3dMaXN0ZW5lcixcbiAgICBQYWdlTWFzdGVyLkluc3RhbmNlSG9sZGVyLFxuICAgIFZnZW4uU3R5bGVyUHJvZHVjZXIge1xuICBsYW5nOiBzdHJpbmcgfCBudWxsO1xuICBwcmltYXJ5Rmxvd3MgPSB7IGJvZHk6IHRydWUgfSBhcyB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfTtcbiAgcm9vdFBhZ2VCb3hJbnN0YW5jZTogUGFnZU1hc3Rlci5Sb290UGFnZUJveEluc3RhbmNlID0gbnVsbDtcbiAgc3R5bGVyOiBDc3NTdHlsZXIuU3R5bGVyID0gbnVsbDtcbiAgc3R5bGVyTWFwOiB7IFtrZXk6IHN0cmluZ106IENzc1N0eWxlci5TdHlsZXIgfSA9IG51bGw7XG4gIGN1cnJlbnRMYXlvdXRQb3NpdGlvbjogVnRyZWUuTGF5b3V0UG9zaXRpb24gPSBudWxsO1xuICBsYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0OiBWdHJlZS5MYXlvdXRQb3NpdGlvbiA9IG51bGw7XG4gIGxvb2t1cE9mZnNldDogbnVtYmVyID0gMDtcbiAgZmFjZXM6IEZvbnQuRG9jdW1lbnRGYWNlcztcbiAgcGFnZUJveEluc3RhbmNlczogeyBba2V5OiBzdHJpbmddOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSB9ID0ge307XG4gIHBhZ2VNYW5hZ2VyOiBDc3NQYWdlLlBhZ2VNYW5hZ2VyID0gbnVsbDtcbiAgcHJpdmF0ZSByb290UGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0O1xuICBwYWdlQnJlYWtzOiB7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfSA9IHt9O1xuICBwYWdlUHJvZ3Jlc3Npb246IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsID0gbnVsbDtcbiAgcGFnZVNoZWV0U2l6ZTogeyBba2V5OiBzdHJpbmddOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH0gfSA9IHt9O1xuICBwYWdlU2hlZXRIZWlnaHQ6IG51bWJlciA9IDA7XG4gIHBhZ2VTaGVldFdpZHRoOiBudW1iZXIgPSAwO1xuICBhY3R1YWxQYWdlV2lkdGg6IG51bWJlcjtcbiAgYWN0dWFsUGFnZUhlaWdodDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdHlsZTogU3R5bGUsXG4gICAgcHVibGljIHJlYWRvbmx5IHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBkZWZhdWx0TGFuZzogc3RyaW5nIHwgbnVsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgdmlld3BvcnQ6IFZnZW4uVmlld3BvcnQsXG4gICAgcHVibGljIHJlYWRvbmx5IGNsaWVudExheW91dDogVnRyZWUuQ2xpZW50TGF5b3V0LFxuICAgIHB1YmxpYyByZWFkb25seSBmb250TWFwcGVyOiBGb250Lk1hcHBlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY3VzdG9tUmVuZGVyZXI6IFZnZW4uQ3VzdG9tUmVuZGVyZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGZhbGxiYWNrTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHB1YmxpYyByZWFkb25seSBwYWdlTnVtYmVyT2Zmc2V0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGRvY3VtZW50VVJMVHJhbnNmb3JtZXI6IEJhc2UuRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgY291bnRlclN0b3JlOiBDb3VudGVycy5Db3VudGVyU3RvcmUsXG4gICAgcGFnZVByb2dyZXNzaW9uPzogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbixcbiAgKSB7XG4gICAgc3VwZXIoc3R5bGUucm9vdFNjb3BlLCB2aWV3cG9ydC53aWR0aCwgdmlld3BvcnQuaGVpZ2h0LCB2aWV3cG9ydC5mb250U2l6ZSk7XG4gICAgdGhpcy5sYW5nID0geG1sZG9jLmxhbmcgfHwgZGVmYXVsdExhbmc7XG4gICAgdGhpcy5mYWNlcyA9IG5ldyBGb250LkRvY3VtZW50RmFjZXModGhpcy5zdHlsZS5mb250RGVvYmZ1c2NhdG9yKTtcbiAgICB0aGlzLnJvb3RQYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dChcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICB0aGlzLnBhZ2VQcm9ncmVzc2lvbiA9IHBhZ2VQcm9ncmVzc2lvbiB8fCBudWxsO1xuICAgIGZvciAoY29uc3QgZmxvd05hbWUgaW4gc3R5bGUuZmxvd1Byb3BzKSB7XG4gICAgICBjb25zdCBmbG93U3R5bGUgPSBzdHlsZS5mbG93UHJvcHNbZmxvd05hbWVdO1xuICAgICAgY29uc3QgY29uc3VtZSA9IENzc0Nhc2NhZGUuZ2V0UHJvcChmbG93U3R5bGUsIFwiZmxvdy1jb25zdW1lXCIpO1xuICAgICAgaWYgKGNvbnN1bWUpIHtcbiAgICAgICAgY29uc3QgY29uc3VtZVZhbCA9IGNvbnN1bWUuZXZhbHVhdGUodGhpcywgXCJmbG93LWNvbnN1bWVcIik7XG4gICAgICAgIGlmIChjb25zdW1lVmFsID09IENzcy5pZGVudC5hbGwpIHtcbiAgICAgICAgICB0aGlzLnByaW1hcnlGbG93c1tmbG93TmFtZV0gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnByaW1hcnlGbG93c1tmbG93TmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpbml0KCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJTdHlsZUluc3RhbmNlLmluaXRcIik7XG4gICAgY29uc3QgY291bnRlckxpc3RlbmVyID0gc2VsZi5jb3VudGVyU3RvcmUuY3JlYXRlQ291bnRlckxpc3RlbmVyKFxuICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICk7XG4gICAgY29uc3QgY291bnRlclJlc29sdmVyID0gc2VsZi5jb3VudGVyU3RvcmUuY3JlYXRlQ291bnRlclJlc29sdmVyKFxuICAgICAgc2VsZi54bWxkb2MudXJsLFxuICAgICAgc2VsZi5zdHlsZS5yb290U2NvcGUsXG4gICAgICBzZWxmLnN0eWxlLnBhZ2VTY29wZSxcbiAgICApO1xuICAgIHNlbGYuc3R5bGVyID0gbmV3IENzc1N0eWxlci5TdHlsZXIoXG4gICAgICBzZWxmLnhtbGRvYyxcbiAgICAgIHNlbGYuc3R5bGUuY2FzY2FkZSxcbiAgICAgIHNlbGYuc3R5bGUucm9vdFNjb3BlLFxuICAgICAgc2VsZixcbiAgICAgIHRoaXMucHJpbWFyeUZsb3dzLFxuICAgICAgc2VsZi5zdHlsZS52YWxpZGF0b3JTZXQsXG4gICAgICBjb3VudGVyTGlzdGVuZXIsXG4gICAgICBjb3VudGVyUmVzb2x2ZXIsXG4gICAgKTtcbiAgICBjb3VudGVyUmVzb2x2ZXIuc2V0U3R5bGVyKHNlbGYuc3R5bGVyKTtcbiAgICBzZWxmLnN0eWxlci5yZXNldEZsb3dDaHVua1N0cmVhbShzZWxmKTtcbiAgICBzZWxmLnN0eWxlck1hcCA9IHt9O1xuICAgIHNlbGYuc3R5bGVyTWFwW3NlbGYueG1sZG9jLnVybF0gPSBzZWxmLnN0eWxlcjtcbiAgICBjb25zdCBkb2NFbGVtZW50U3R5bGUgPSBzZWxmLnN0eWxlci5nZXRUb3BDb250YWluZXJTdHlsZSgpO1xuICAgIGlmICghc2VsZi5wYWdlUHJvZ3Jlc3Npb24pIHtcbiAgICAgIHNlbGYucGFnZVByb2dyZXNzaW9uID0gQ3NzUGFnZS5yZXNvbHZlUGFnZVByb2dyZXNzaW9uKGRvY0VsZW1lbnRTdHlsZSk7XG4gICAgfVxuICAgIGNvbnN0IHJvb3RCb3ggPSB0aGlzLnN0eWxlLnJvb3RCb3g7XG4gICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlID0gbmV3IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3hJbnN0YW5jZShyb290Qm94KTtcbiAgICBjb25zdCBjYXNjYWRlSW5zdGFuY2UgPSB0aGlzLnN0eWxlLmNhc2NhZGUuY3JlYXRlSW5zdGFuY2UoXG4gICAgICBzZWxmLFxuICAgICAgY291bnRlckxpc3RlbmVyLFxuICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgdGhpcy5sYW5nLFxuICAgICk7XG4gICAgdGhpcy5yb290UGFnZUJveEluc3RhbmNlLmFwcGx5Q2FzY2FkZUFuZEluaXQoXG4gICAgICBjYXNjYWRlSW5zdGFuY2UsXG4gICAgICBkb2NFbGVtZW50U3R5bGUsXG4gICAgKTtcbiAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UucmVzb2x2ZUF1dG9TaXppbmcoc2VsZik7XG4gICAgdGhpcy5wYWdlTWFuYWdlciA9IG5ldyBDc3NQYWdlLlBhZ2VNYW5hZ2VyKFxuICAgICAgY2FzY2FkZUluc3RhbmNlLFxuICAgICAgdGhpcy5zdHlsZS5wYWdlU2NvcGUsXG4gICAgICB0aGlzLnJvb3RQYWdlQm94SW5zdGFuY2UsXG4gICAgICBzZWxmLFxuICAgICAgZG9jRWxlbWVudFN0eWxlLFxuICAgICk7XG4gICAgY29uc3Qgc3JjRmFjZXMgPSBbXSBhcyBGb250LkZhY2VbXTtcbiAgICBmb3IgKGNvbnN0IGZvbnRGYWNlIG9mIHNlbGYuc3R5bGUuZm9udEZhY2VzKSB7XG4gICAgICBpZiAoZm9udEZhY2UuY29uZGl0aW9uICYmICFmb250RmFjZS5jb25kaXRpb24uZXZhbHVhdGUoc2VsZikpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBwcm9wZXJ0aWVzID0gRm9udC5wcmVwYXJlUHJvcGVydGllcyhmb250RmFjZS5wcm9wZXJ0aWVzLCBzZWxmKTtcbiAgICAgIGNvbnN0IHNyY0ZhY2UgPSBuZXcgRm9udC5GYWNlKHByb3BlcnRpZXMpO1xuICAgICAgc3JjRmFjZXMucHVzaChzcmNGYWNlKTtcbiAgICB9XG4gICAgc2VsZi5mb250TWFwcGVyLmZpbmRPckxvYWRGb250cyhzcmNGYWNlcywgc2VsZi5mYWNlcykudGhlbkZpbmlzaChmcmFtZSk7XG5cbiAgICAvLyBEZXRlcm1pbmUgcGFnZSBzaGVldCBzaXplcyBjb3JyZXNwb25kaW5nIHRvIHBhZ2Ugc2VsZWN0b3JzXG4gICAgY29uc3QgcGFnZVByb3BzID0gc2VsZi5zdHlsZS5wYWdlUHJvcHM7XG4gICAgT2JqZWN0LmtleXMocGFnZVByb3BzKS5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgY29uc3QgcGFnZVNpemVBbmRCbGVlZCA9IENzc1BhZ2UuZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkKFxuICAgICAgICBDc3NQYWdlLnJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkKHBhZ2VQcm9wc1tzZWxlY3Rvcl0gYXMgYW55KSxcbiAgICAgICAgdGhpcyxcbiAgICAgICk7XG4gICAgICB0aGlzLnBhZ2VTaGVldFNpemVbc2VsZWN0b3JdID0ge1xuICAgICAgICB3aWR0aDogcGFnZVNpemVBbmRCbGVlZC5wYWdlV2lkdGggKyBwYWdlU2l6ZUFuZEJsZWVkLmNyb3BPZmZzZXQgKiAyLFxuICAgICAgICBoZWlnaHQ6IHBhZ2VTaXplQW5kQmxlZWQucGFnZUhlaWdodCArIHBhZ2VTaXplQW5kQmxlZWQuY3JvcE9mZnNldCAqIDIsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldFN0eWxlckZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBDc3NTdHlsZXIuQWJzdHJhY3RTdHlsZXIge1xuICAgIGxldCBzdHlsZXIgPSB0aGlzLnN0eWxlck1hcFt4bWxkb2MudXJsXTtcbiAgICBpZiAoIXN0eWxlcikge1xuICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLnN0eWxlLnN0b3JlLmdldFN0eWxlRm9yRG9jKHhtbGRvYyk7XG5cbiAgICAgIC8vIFdlIG5lZWQgYSBzZXBhcmF0ZSBjb250ZW50LCBzbyB0aGF0IHZhcmlhYmxlcyBjYW4gZ2V0IHBvdGVudGlhbGx5XG4gICAgICAvLyBkaWZmZXJlbnQgdmFsdWVzLlxuICAgICAgY29uc3QgY29udGV4dCA9IG5ldyBFeHBycy5Db250ZXh0KFxuICAgICAgICBzdHlsZS5yb290U2NvcGUsXG4gICAgICAgIHRoaXMucGFnZVdpZHRoKCksXG4gICAgICAgIHRoaXMucGFnZUhlaWdodCgpLFxuICAgICAgICB0aGlzLmluaXRpYWxGb250U2l6ZSxcbiAgICAgICk7XG4gICAgICBjb25zdCBjb3VudGVyTGlzdGVuZXIgPSB0aGlzLmNvdW50ZXJTdG9yZS5jcmVhdGVDb3VudGVyTGlzdGVuZXIoXG4gICAgICAgIHhtbGRvYy51cmwsXG4gICAgICApO1xuICAgICAgY29uc3QgY291bnRlclJlc29sdmVyID0gdGhpcy5jb3VudGVyU3RvcmUuY3JlYXRlQ291bnRlclJlc29sdmVyKFxuICAgICAgICB4bWxkb2MudXJsLFxuICAgICAgICBzdHlsZS5yb290U2NvcGUsXG4gICAgICAgIHN0eWxlLnBhZ2VTY29wZSxcbiAgICAgICk7XG4gICAgICBzdHlsZXIgPSBuZXcgQ3NzU3R5bGVyLlN0eWxlcihcbiAgICAgICAgeG1sZG9jLFxuICAgICAgICBzdHlsZS5jYXNjYWRlLFxuICAgICAgICBzdHlsZS5yb290U2NvcGUsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHRoaXMucHJpbWFyeUZsb3dzLFxuICAgICAgICBzdHlsZS52YWxpZGF0b3JTZXQsXG4gICAgICAgIGNvdW50ZXJMaXN0ZW5lcixcbiAgICAgICAgY291bnRlclJlc29sdmVyLFxuICAgICAgKTtcbiAgICAgIHRoaXMuc3R5bGVyTWFwW3htbGRvYy51cmxdID0gc3R5bGVyO1xuICAgIH1cbiAgICByZXR1cm4gc3R5bGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcmVnaXN0ZXJJbnN0YW5jZShrZXk6IHN0cmluZywgaW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlKTogdm9pZCB7XG4gICAgdGhpcy5wYWdlQm94SW5zdGFuY2VzW2tleV0gPSBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGxvb2t1cEluc3RhbmNlKGtleTogc3RyaW5nKTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2Uge1xuICAgIHJldHVybiB0aGlzLnBhZ2VCb3hJbnN0YW5jZXNba2V5XTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGVuY291bnRlcmVkRmxvd0NodW5rKGZsb3dDaHVuazogVnRyZWUuRmxvd0NodW5rLCBmbG93OiBWdHJlZS5GbG93KTogYW55IHtcbiAgICBjb25zdCBjcCA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uO1xuICAgIGlmIChjcCkge1xuICAgICAgaWYgKCFjcC5mbG93c1tmbG93Q2h1bmsuZmxvd05hbWVdKSB7XG4gICAgICAgIGNwLmZsb3dzW2Zsb3dDaHVuay5mbG93TmFtZV0gPSBmbG93O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxvdyA9IGNwLmZsb3dzW2Zsb3dDaHVuay5mbG93TmFtZV07XG4gICAgICB9XG4gICAgICBsZXQgZmxvd1Bvc2l0aW9uID0gY3AuZmxvd1Bvc2l0aW9uc1tmbG93Q2h1bmsuZmxvd05hbWVdO1xuICAgICAgaWYgKCFmbG93UG9zaXRpb24pIHtcbiAgICAgICAgZmxvd1Bvc2l0aW9uID0gbmV3IFZ0cmVlLkZsb3dQb3NpdGlvbigpO1xuICAgICAgICBjcC5mbG93UG9zaXRpb25zW2Zsb3dDaHVuay5mbG93TmFtZV0gPSBmbG93UG9zaXRpb247XG4gICAgICB9XG4gICAgICBjb25zdCBub2RlUG9zaXRpb24gPSBWdHJlZS5uZXdOb2RlUG9zaXRpb25Gcm9tTm9kZShmbG93Q2h1bmsuZWxlbWVudCk7XG4gICAgICBjb25zdCBjaHVua1Bvc2l0aW9uID0gbmV3IFZ0cmVlLkNodW5rUG9zaXRpb24obm9kZVBvc2l0aW9uKTtcbiAgICAgIGNvbnN0IGZsb3dDaHVua1Bvc2l0aW9uID0gbmV3IFZ0cmVlLkZsb3dDaHVua1Bvc2l0aW9uKFxuICAgICAgICBjaHVua1Bvc2l0aW9uLFxuICAgICAgICBmbG93Q2h1bmssXG4gICAgICApO1xuICAgICAgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucy5wdXNoKGZsb3dDaHVua1Bvc2l0aW9uKTtcbiAgICB9XG4gIH1cblxuICBnZXRDb25zdW1lZE9mZnNldChmbG93UG9zaXRpb246IFZ0cmVlLkZsb3dQb3NpdGlvbik6IG51bWJlciB7XG4gICAgbGV0IG9mZnNldCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHBvcyA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnNbaV0uY2h1bmtQb3NpdGlvbi5wcmltYXJ5O1xuICAgICAgbGV0IG5vZGUgPSBwb3Muc3RlcHNbMF0ubm9kZTtcbiAgICAgIGxldCBvZmZzZXRJbk5vZGUgPSBwb3Mub2Zmc2V0SW5Ob2RlO1xuICAgICAgbGV0IGFmdGVyID0gcG9zLmFmdGVyO1xuICAgICAgbGV0IGsgPSAwO1xuICAgICAgd2hpbGUgKG5vZGUub3duZXJEb2N1bWVudCAhPSB0aGlzLnhtbGRvYy5kb2N1bWVudCkge1xuICAgICAgICBrKys7XG4gICAgICAgIG5vZGUgPSBwb3Muc3RlcHNba10ubm9kZTtcbiAgICAgICAgYWZ0ZXIgPSBmYWxzZTtcbiAgICAgICAgb2Zmc2V0SW5Ob2RlID0gMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGNodW5rT2Zmc2V0ID0gdGhpcy54bWxkb2MuZ2V0Tm9kZU9mZnNldChub2RlLCBvZmZzZXRJbk5vZGUsIGFmdGVyKTtcbiAgICAgIGlmIChjaHVua09mZnNldCA8IG9mZnNldCkge1xuICAgICAgICBvZmZzZXQgPSBjaHVua09mZnNldDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gbm9Mb29rQWhlYWQgRG8gbm90IGxvb2sgYWhlYWQgZWxlbWVudHMgdGhhdCBhcmUgbm90IHN0eWxlZCB5ZXRcbiAgICogQHJldHVybiBkb2N1bWVudCBvZmZzZXQgb2YgdGhlIGdpdmVuIGxheW91dFBvc2l0aW9uXG4gICAqL1xuICBnZXRQb3NpdGlvbihcbiAgICBsYXlvdXRQb3NpdGlvbj86IFZ0cmVlLkxheW91dFBvc2l0aW9uLFxuICAgIG5vTG9va0FoZWFkPzogYm9vbGVhbixcbiAgKTogbnVtYmVyIHtcbiAgICBpZiAoIWxheW91dFBvc2l0aW9uKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMucHJpbWFyeUZsb3dzKSB7XG4gICAgICBsZXQgZmxvd1Bvc2l0aW9uID0gbGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICBpZiAoXG4gICAgICAgICFub0xvb2tBaGVhZCAmJlxuICAgICAgICAoIWZsb3dQb3NpdGlvbiB8fCBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCA9PSAwKSAmJlxuICAgICAgICB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvblxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3R5bGVyLnN0eWxlVW50aWxGbG93SXNSZWFjaGVkKGZsb3dOYW1lKTtcbiAgICAgICAgZmxvd1Bvc2l0aW9uID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICAgIGlmIChsYXlvdXRQb3NpdGlvbiAhPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbikge1xuICAgICAgICAgIGlmIChmbG93UG9zaXRpb24pIHtcbiAgICAgICAgICAgIGZsb3dQb3NpdGlvbiA9IGZsb3dQb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgbGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV0gPSBmbG93UG9zaXRpb247XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZmxvd1Bvc2l0aW9uKSB7XG4gICAgICAgIGNvbnN0IGNvbnN1bWVkT2Zmc2V0ID0gdGhpcy5nZXRDb25zdW1lZE9mZnNldChmbG93UG9zaXRpb24pO1xuICAgICAgICBpZiAoY29uc3VtZWRPZmZzZXQgPCBjdXJyZW50UG9zaXRpb24pIHtcbiAgICAgICAgICBjdXJyZW50UG9zaXRpb24gPSBjb25zdW1lZE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFBvc2l0aW9uO1xuICB9XG5cbiAgZHVtcExvY2F0aW9uKHBvc2l0aW9uKSB7XG4gICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCJMb2NhdGlvbiAtIHBhZ2VcIiwgdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZSk7XG4gICAgTG9nZ2luZy5sb2dnZXIuZGVidWcoXCIgIGN1cnJlbnQ6XCIsIHBvc2l0aW9uKTtcbiAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhcIiAgbG9va3VwOlwiLCB0aGlzLmxvb2t1cE9mZnNldCk7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zKSB7XG4gICAgICBjb25zdCBmbG93UG9zaXRpb24gPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgIGZvciAoY29uc3QgcCBvZiBmbG93UG9zaXRpb24ucG9zaXRpb25zKSB7XG4gICAgICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKFxuICAgICAgICAgIFwiICBDaHVua1wiLFxuICAgICAgICAgIGAke2Zsb3dOYW1lfTpgLFxuICAgICAgICAgIHAuZmxvd0NodW5rLnN0YXJ0T2Zmc2V0LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hdGNoUGFnZVNpZGUoc2lkZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgc3dpdGNoIChzaWRlKSB7XG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICBjYXNlIFwicmVjdG9cIjpcbiAgICAgIGNhc2UgXCJ2ZXJzb1wiOlxuICAgICAgICByZXR1cm4gbmV3IEV4cHJzLk5hbWVkKHRoaXMuc3R5bGUucGFnZVNjb3BlLCBgJHtzaWRlfS1wYWdlYCkuZXZhbHVhdGUoXG4gICAgICAgICAgdGhpcyxcbiAgICAgICAgKSBhcyBib29sZWFuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU3RhcnRTaWRlKGxheW91dFBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbikge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBsYXlvdXRQb3NpdGlvbi5mbG93UG9zaXRpb25zKSB7XG4gICAgICBjb25zdCBmbG93UG9zID0gbGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tuYW1lXTtcbiAgICAgIGlmIChmbG93UG9zICYmIGZsb3dQb3MucG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmxvd0NodW5rID0gZmxvd1Bvcy5wb3NpdGlvbnNbMF0uZmxvd0NodW5rO1xuICAgICAgICBpZiAodGhpcy5nZXRDb25zdW1lZE9mZnNldChmbG93UG9zKSA9PT0gZmxvd0NodW5rLnN0YXJ0T2Zmc2V0KSB7XG4gICAgICAgICAgY29uc3QgZmxvd0NodW5rQnJlYWtCZWZvcmUgPVxuICAgICAgICAgICAgZmxvd1Bvcy5wb3NpdGlvbnNbMF0uZmxvd0NodW5rLmJyZWFrQmVmb3JlO1xuICAgICAgICAgIGNvbnN0IGZsb3dCcmVha0FmdGVyID0gQnJlYWsuc3RhcnRTaWRlVmFsdWVUb0JyZWFrVmFsdWUoXG4gICAgICAgICAgICBmbG93UG9zLnN0YXJ0U2lkZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsb3dQb3Muc3RhcnRTaWRlID0gQnJlYWsuYnJlYWtWYWx1ZVRvU3RhcnRTaWRlVmFsdWUoXG4gICAgICAgICAgICBCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZShcbiAgICAgICAgICAgICAgZmxvd0JyZWFrQWZ0ZXIsXG4gICAgICAgICAgICAgIGZsb3dDaHVua0JyZWFrQmVmb3JlLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBjYXNjYWRlZFBhZ2VTdHlsZSBDYXNjYWRlZCBwYWdlIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlIGNvbnRleHRcbiAgICovXG4gIHNlbGVjdFBhZ2VNYXN0ZXIoXG4gICAgY2FzY2FkZWRQYWdlU3R5bGU6IENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlLFxuICApOiBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJJbnN0YW5jZSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgY3AgPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbjtcblxuICAgIC8vIDMuNS4gUGFnZSBMYXlvdXQgUHJvY2Vzc2luZyBNb2RlbFxuICAgIC8vIDEuIERldGVybWluZSBjdXJyZW50IHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudDogRmluZCB0aGUgbWluaW1hbFxuICAgIC8vIGNvbnN1bWVkLW9mZnNldCBmb3IgYWxsIGVsZW1lbnRzIG5vdCBmdWxseS1jb25zdW1lZCBpbiBlYWNoIHByaW1hcnkgZmxvdy5cbiAgICAvLyBDdXJyZW50IHBvc2l0aW9uIGlzIG1heGltdW0gb2YgdGhlIHJlc3VsdHMgYW1vbmcgYWxsIHByaW1hcnkgZmxvd3MuXG4gICAgY29uc3QgY3VycmVudFBvc2l0aW9uID0gdGhpcy5nZXRQb3NpdGlvbihjcCk7XG4gICAgaWYgKGN1cnJlbnRQb3NpdGlvbiA9PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpIHtcbiAgICAgIC8vIGVuZCBvZiBwcmltYXJ5IGNvbnRlbnQgaXMgcmVhY2hlZFxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gMi4gUGFnZSBtYXN0ZXIgc2VsZWN0aW9uOiBmb3IgZWFjaCBwYWdlIG1hc3RlcjpcbiAgICBjb25zdCBwYWdlTWFzdGVycyA9IHRoaXMucm9vdFBhZ2VCb3hJbnN0YW5jZVxuICAgICAgLmNoaWxkcmVuIGFzIFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlW107XG4gICAgbGV0IHBhZ2VNYXN0ZXI6IFBhZ2VNYXN0ZXIuUGFnZU1hc3Rlckluc3RhbmNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZU1hc3RlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhZ2VNYXN0ZXIgPSBwYWdlTWFzdGVyc1tpXTtcblxuICAgICAgLy8gU2tpcCBhIHBhZ2UgbWFzdGVyIGdlbmVyYXRlZCBmb3IgQHBhZ2UgcnVsZXNcbiAgICAgIGlmIChwYWdlTWFzdGVyLnBhZ2VCb3gucHNldWRvTmFtZSA9PT0gQ3NzUGFnZS5wYWdlUnVsZU1hc3RlclBzZXVkb05hbWUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBsZXQgY29lZmYgPSAxO1xuXG4gICAgICAvLyBBLiBDYWxjdWxhdGUgbG9va3VwIHBvc2l0aW9uIHVzaW5nIGN1cnJlbnQgcG9zaXRpb24gYW5kIHV0aWxpemF0aW9uXG4gICAgICAvLyAoc2VlIC1lcHVieC11dGlsaXphdGlvbiBwcm9wZXJ0eSlcbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uID0gcGFnZU1hc3Rlci5nZXRQcm9wKHNlbGYsIFwidXRpbGl6YXRpb25cIik7XG4gICAgICBpZiAodXRpbGl6YXRpb24gJiYgdXRpbGl6YXRpb24uaXNOdW0oKSkge1xuICAgICAgICBjb2VmZiA9ICh1dGlsaXphdGlvbiBhcyBDc3MuTnVtKS5udW07XG4gICAgICB9XG4gICAgICBjb25zdCBlbSA9IHNlbGYucXVlcnlVbml0U2l6ZShcImVtXCIsIGZhbHNlKTtcbiAgICAgIGNvbnN0IHBhZ2VBcmVhID0gc2VsZi5wYWdlV2lkdGgoKSAqIHNlbGYucGFnZUhlaWdodCgpO1xuICAgICAgY29uc3QgbG9va3VwID0gTWF0aC5jZWlsKChjb2VmZiAqIHBhZ2VBcmVhKSAvIChlbSAqIGVtKSk7XG5cbiAgICAgIC8vIEIuIERldGVybWluZSBlbGVtZW50IGVsaWdpYmlsaXR5LiBFYWNoIGVsZW1lbnQgaW4gYSBmbG93IGlzIGNvbnNpZGVyZWRcbiAgICAgIC8vIGVsaWdpYmxlIGlmIGl0IGlzIGlzIG5vdCBtYXJrZWQgYXMgZnVsbHkgY29uc3VtZWQgYW5kIGl0IGNvbWVzIGluIHRoZVxuICAgICAgLy8gZG9jdW1lbnQgYmVmb3JlIHRoZSBsb29rdXAgcG9zaXRpb24uIEZlZWQgbG9va3VwT2Zmc2V0IGFuZCBmbG93XG4gICAgICAvLyBhdmFpbGFiaWxpdHkgaW50byB0aGUgY29udGV4dFxuICAgICAgdGhpcy5sb29rdXBPZmZzZXQgPSB0aGlzLnN0eWxlci5zdHlsZVVudGlsKGN1cnJlbnRQb3NpdGlvbiwgbG9va3VwKTtcbiAgICAgIEFzc2VydHMuYXNzZXJ0KGNwKTtcbiAgICAgIHRoaXMudXBkYXRlU3RhcnRTaWRlKGNwKTtcblxuICAgICAgLy8gdXBkYXRlIGxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQgc2luY2Ugc3RhcnRTaWRlIG9mIEZsb3dDaHVua3MgbWF5IGJlXG4gICAgICAvLyB1cGRhdGVkXG4gICAgICB0aGlzLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQgPSBjcC5jbG9uZSgpO1xuICAgICAgdGhpcy5pbml0TGluZ2VyaW5nKCk7XG4gICAgICBzZWxmLmNsZWFyU2NvcGUodGhpcy5zdHlsZS5wYWdlU2NvcGUpO1xuXG4gICAgICAvLyBDLiBEZXRlcm1pbmUgY29udGVudCBhdmFpbGFiaWxpdHkuIEZsb3cgaGFzIGNvbnRlbnQgYXZhaWxhYmxlIGlmIGl0XG4gICAgICAvLyBjb250YWlucyBlbGlnaWJsZSBlbGVtZW50cy4gRC4gRGV0ZXJtaW5lIGlmIHBhZ2UgbWFzdGVyIGlzIGVuYWJsZWRcbiAgICAgIC8vIHVzaW5nIHJ1bGVzIGluIFNlY3Rpb24gMy40LjdcbiAgICAgIGNvbnN0IGVuYWJsZWQgPSBwYWdlTWFzdGVyLmdldFByb3Aoc2VsZiwgXCJlbmFibGVkXCIpO1xuXG4gICAgICAvLyBFLiBGaXJzdCBlbmFibGVkIHBhZ2UgbWFzdGVyIGlzIHVzZWQgZm9yIHRoZSBuZXh0IHBhZ2VcbiAgICAgIGlmICghZW5hYmxlZCB8fCBlbmFibGVkID09PSBDc3MuaWRlbnQuX3RydWUpIHtcbiAgICAgICAgaWYgKFZJVkxJT1NUWUxFX0RFQlVHKSB7XG4gICAgICAgICAgdGhpcy5kdW1wTG9jYXRpb24oY3VycmVudFBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IEBwYWdlIHJ1bGVzXG4gICAgICAgIHJldHVybiB0aGlzLnBhZ2VNYW5hZ2VyLmdldFBhZ2VSdWxlUGFnZU1hc3RlcihcbiAgICAgICAgICBwYWdlTWFzdGVyLFxuICAgICAgICAgIGNhc2NhZGVkUGFnZVN0eWxlLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBlbmFibGVkIHBhZ2UgbWFzdGVyc1wiKTtcbiAgfVxuXG4gIGZsb3dDaHVua0lzQWZ0ZXJQYXJlbnRGbG93Rm9yY2VkQnJlYWsoZmxvd0NodW5rOiBWdHJlZS5GbG93Q2h1bmspOiBib29sZWFuIHtcbiAgICBjb25zdCBmbG93cyA9IHRoaXMubGF5b3V0UG9zaXRpb25BdFBhZ2VTdGFydC5mbG93cztcbiAgICBjb25zdCBwYXJlbnRGbG93TmFtZSA9IGZsb3dzW2Zsb3dDaHVuay5mbG93TmFtZV0ucGFyZW50Rmxvd05hbWU7XG4gICAgaWYgKHBhcmVudEZsb3dOYW1lKSB7XG4gICAgICBjb25zdCBzdGFydE9mZnNldCA9IGZsb3dDaHVuay5zdGFydE9mZnNldDtcbiAgICAgIGNvbnN0IGZvcmNlZEJyZWFrT2Zmc2V0cyA9IGZsb3dzW3BhcmVudEZsb3dOYW1lXS5mb3JjZWRCcmVha09mZnNldHM7XG4gICAgICBpZiAoIWZvcmNlZEJyZWFrT2Zmc2V0cy5sZW5ndGggfHwgc3RhcnRPZmZzZXQgPCBmb3JjZWRCcmVha09mZnNldHNbMF0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgYnJlYWtPZmZzZXRCZWZvcmVTdGFydEluZGV4ID1cbiAgICAgICAgQmFzZS5iaW5hcnlTZWFyY2goXG4gICAgICAgICAgZm9yY2VkQnJlYWtPZmZzZXRzLmxlbmd0aCxcbiAgICAgICAgICAoaSkgPT4gZm9yY2VkQnJlYWtPZmZzZXRzW2ldID4gc3RhcnRPZmZzZXQsXG4gICAgICAgICkgLSAxO1xuICAgICAgY29uc3QgYnJlYWtPZmZzZXRCZWZvcmVTdGFydCA9XG4gICAgICAgIGZvcmNlZEJyZWFrT2Zmc2V0c1ticmVha09mZnNldEJlZm9yZVN0YXJ0SW5kZXhdO1xuICAgICAgY29uc3QgcGFyZW50Rmxvd1Bvc2l0aW9uID0gdGhpcy5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0LmZsb3dQb3NpdGlvbnNbXG4gICAgICAgIHBhcmVudEZsb3dOYW1lXG4gICAgICBdO1xuICAgICAgY29uc3QgcGFyZW50U3RhcnRPZmZzZXQgPSB0aGlzLmdldENvbnN1bWVkT2Zmc2V0KHBhcmVudEZsb3dQb3NpdGlvbik7XG4gICAgICBpZiAoYnJlYWtPZmZzZXRCZWZvcmVTdGFydCA8IHBhcmVudFN0YXJ0T2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnRTdGFydE9mZnNldCA8IGJyZWFrT2Zmc2V0QmVmb3JlU3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIFNwZWNpYWwgY2FzZTogcGFyZW50U3RhcnRPZmZzZXQgPT09IGJyZWFrT2Zmc2V0QmVmb3JlU3RhcnRcbiAgICAgIC8vIEluIHRoaXMgY2FzZSwgdGhlIGZsb3dDaHVuayBjYW4gYmUgdXNlZCBpZiB0aGUgc3RhcnQgc2lkZSBvZiB0aGUgcGFyZW50XG4gICAgICAvLyBmbG93IG1hdGNoZXMgdGhlIGN1cnJlbnQgcGFnZSBzaWRlLlxuICAgICAgcmV0dXJuICF0aGlzLm1hdGNoUGFnZVNpZGUocGFyZW50Rmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHNldEZvcm1hdHRpbmdDb250ZXh0VG9Db2x1bW4oY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbiwgZmxvd05hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IGZsb3cgPSB0aGlzLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5mbG93c1tmbG93TmFtZV07XG4gICAgaWYgKCFmbG93LmZvcm1hdHRpbmdDb250ZXh0KSB7XG4gICAgICBmbG93LmZvcm1hdHRpbmdDb250ZXh0ID0gbmV3IExheW91dFByb2Nlc3Nvci5CbG9ja0Zvcm1hdHRpbmdDb250ZXh0KG51bGwpO1xuICAgIH1cbiAgICBjb2x1bW4uZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dCA9IGZsb3cuZm9ybWF0dGluZ0NvbnRleHQ7XG4gIH1cblxuICBsYXlvdXREZWZlcnJlZFBhZ2VGbG9hdHMoY29sdW1uOiBMYXlvdXRUeXBlLkNvbHVtbik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBwYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQ7XG4gICAgY29uc3QgZGVmZXJyZWRGbG9hdHMgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucygpO1xuICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxib29sZWFuPihcImxheW91dERlZmVycmVkUGFnZUZsb2F0c1wiKTtcbiAgICBsZXQgaW52YWxpZGF0ZWQgPSBmYWxzZTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPT09IGRlZmVycmVkRmxvYXRzLmxlbmd0aCkge1xuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGludWF0aW9uID0gZGVmZXJyZWRGbG9hdHNbaSsrXTtcbiAgICAgICAgY29uc3QgZmxvYXQgPSBjb250aW51YXRpb24uZmxvYXQ7XG4gICAgICAgIGNvbnN0IHN0cmF0ZWd5ID0gbmV3IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0U3RyYXRlZ3lSZXNvbHZlcigpLmZpbmRCeUZsb2F0KFxuICAgICAgICAgIGZsb2F0LFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwYWdlRmxvYXRGcmFnbWVudCA9IHN0cmF0ZWd5LmZpbmRQYWdlRmxvYXRGcmFnbWVudChcbiAgICAgICAgICBmbG9hdCxcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgICBpZiAocGFnZUZsb2F0RnJhZ21lbnQgJiYgcGFnZUZsb2F0RnJhZ21lbnQuaGFzRmxvYXQoZmxvYXQpKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzRm9yYmlkZGVuKGZsb2F0KSB8fFxuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuaGFzUHJlY2VkaW5nRmxvYXRzRGVmZXJyZWRUb05leHQoZmxvYXQpXG4gICAgICAgICkge1xuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuZGVmZXJQYWdlRmxvYXQoY29udGludWF0aW9uKTtcbiAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbHVtblxuICAgICAgICAgIC5sYXlvdXRQYWdlRmxvYXRJbm5lcihjb250aW51YXRpb24sIHN0cmF0ZWd5LCBudWxsLCBwYWdlRmxvYXRGcmFnbWVudClcbiAgICAgICAgICAudGhlbigoc3VjY2VzcykgPT4ge1xuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGFyZW50SW52YWxpZGF0ZWQgPSBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LnBhcmVudC5pc0ludmFsaWRhdGVkKCk7XG4gICAgICAgICAgICBpZiAocGFyZW50SW52YWxpZGF0ZWQpIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSAmJlxuICAgICAgICAgICAgICAhcGFyZW50SW52YWxpZGF0ZWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpbnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmIChpbnZhbGlkYXRlZCkge1xuICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuaW52YWxpZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGdldExhc3RBZnRlclBvc2l0aW9uSWZEZWZlcnJlZEZsb2F0c0V4aXN0cyhcbiAgICBjb2x1bW46IExheW91dFR5cGUuQ29sdW1uLFxuICAgIG5ld1Bvc2l0aW9uOiBWdHJlZS5DaHVua1Bvc2l0aW9uIHwgbnVsbCxcbiAgKTogVnRyZWUuQ2h1bmtQb3NpdGlvbiB8IG51bGwge1xuICAgIGNvbnN0IHBhZ2VGbG9hdExheW91dENvbnRleHQgPSBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dDtcbiAgICBjb25zdCBkZWZlcnJlZEZsb2F0cyA9IHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0UGFnZUZsb2F0Q29udGludWF0aW9uc0RlZmVycmVkVG9OZXh0KCk7XG4gICAgaWYgKGRlZmVycmVkRmxvYXRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChjb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24pIHtcbiAgICAgICAgbGV0IHJlc3VsdDogVnRyZWUuQ2h1bmtQb3NpdGlvbjtcbiAgICAgICAgaWYgKG5ld1Bvc2l0aW9uKSB7XG4gICAgICAgICAgLy8gTmVlZCBvdmVyZmxvd24gZm9vdG5vdGVzIG93bmVkIGJ5IG5ld1Bvc2l0aW9uXG4gICAgICAgICAgcmVzdWx0ID0gbmV3UG9zaXRpb24uY2xvbmUoKTtcbiAgICAgICAgICByZXN1bHQucHJpbWFyeSA9IGNvbHVtbi5sYXN0QWZ0ZXJQb3NpdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBuZXcgVnRyZWUuQ2h1bmtQb3NpdGlvbihjb2x1bW4ubGFzdEFmdGVyUG9zaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBBc3NlcnRzLmFzc2VydChcImNvbHVtbi5sYXN0QWZ0ZXJQb3NpdGlvbiA9PT0gbnVsbFwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIGhvbGRpbmcgdHJ1ZVxuICAgKi9cbiAgbGF5b3V0Q29sdW1uKFxuICAgIGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4sXG4gICAgZmxvd05hbWU6IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgIGlmICghZmxvd1Bvc2l0aW9uIHx8ICF0aGlzLm1hdGNoUGFnZVNpZGUoZmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSkpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgZmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSA9IFwiYW55XCI7XG4gICAgdGhpcy5zZXRGb3JtYXR0aW5nQ29udGV4dFRvQ29sdW1uKGNvbHVtbiwgZmxvd05hbWUpO1xuICAgIGNvbHVtbi5pbml0KCk7XG4gICAgaWYgKHRoaXMucHJpbWFyeUZsb3dzW2Zsb3dOYW1lXSAmJiBjb2x1bW4uYmFuZHMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gSW4gZ2VuZXJhbCwgd2UgZm9yY2Ugbm9uLWZpdHRpbmcgY29udGVudC4gRXhjZXB0aW9uIGlzIG9ubHkgZm9yIHByaW1hcnlcbiAgICAgIC8vIGZsb3cgY29sdW1ucyB0aGF0IGhhdmUgZXhjbHVzaW9ucy5cbiAgICAgIGNvbHVtbi5mb3JjZU5vbmZpdHRpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0Q29sdW1uXCIpO1xuICAgIHRoaXMubGF5b3V0RGVmZXJyZWRQYWdlRmxvYXRzKGNvbHVtbikudGhlbigoKSA9PiB7XG4gICAgICBpZiAoY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBSZWNvcmQgaW5kaWNlcyBvZiByZXBlYXRlZCBwb3NpdGlvbnMgYW5kIHJlbW92ZWQgcG9zaXRpb25zXG4gICAgICBjb25zdCByZXBlYXRlZEluZGljZXMgPSBbXSBhcyBudW1iZXJbXTtcbiAgICAgIGNvbnN0IHJlbW92ZWRJbmRpY2VzID0gW10gYXMgbnVtYmVyW107XG4gICAgICBsZXQgbGVhZGluZ0VkZ2UgPSB0cnVlO1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0Lmhhc0NvbnRpbnVpbmdGbG9hdEZyYWdtZW50c0luRmxvdyhcbiAgICAgICAgICAgICAgZmxvd05hbWUsXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHdoaWxlIChmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aCAtIHJlbW92ZWRJbmRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG5cbiAgICAgICAgICAgIC8vIFNraXAgYWxsIHJlbW92ZWQgcG9zaXRpb25zXG4gICAgICAgICAgICB3aGlsZSAocmVtb3ZlZEluZGljZXMuaW5jbHVkZXMoaW5kZXgpKSB7XG4gICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSBmbG93UG9zaXRpb24ucG9zaXRpb25zW2luZGV4XTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2VsZWN0ZWQuZmxvd0NodW5rLnN0YXJ0T2Zmc2V0ID4gc2VsZi5sb29rdXBPZmZzZXQgfHxcbiAgICAgICAgICAgICAgc2VsZi5mbG93Q2h1bmtJc0FmdGVyUGFyZW50Rmxvd0ZvcmNlZEJyZWFrKHNlbGVjdGVkLmZsb3dDaHVuaylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGsgPSBpbmRleCArIDE7IGsgPCBmbG93UG9zaXRpb24ucG9zaXRpb25zLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgIGlmIChyZW1vdmVkSW5kaWNlcy5pbmNsdWRlcyhrKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHJlbW92ZWQgcG9zaXRpb25zXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgYWx0ID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1trXTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGFsdC5mbG93Q2h1bmsuc3RhcnRPZmZzZXQgPiBzZWxmLmxvb2t1cE9mZnNldCB8fFxuICAgICAgICAgICAgICAgIHNlbGYuZmxvd0NodW5rSXNBZnRlclBhcmVudEZsb3dGb3JjZWRCcmVhayhhbHQuZmxvd0NodW5rKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYWx0LmZsb3dDaHVuay5pc0JldHRlcihzZWxlY3RlZC5mbG93Q2h1bmspKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSBhbHQ7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmbG93Q2h1bmsgPSBzZWxlY3RlZC5mbG93Q2h1bms7XG4gICAgICAgICAgICBsZXQgcGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICBjb2x1bW5cbiAgICAgICAgICAgICAgLmxheW91dChcbiAgICAgICAgICAgICAgICBzZWxlY3RlZC5jaHVua1Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgIGxlYWRpbmdFZGdlLFxuICAgICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIC50aGVuKChuZXdQb3NpdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGVhZGluZ0VkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIC8vIHN0YXRpYzoga2VlcCBpbiB0aGUgZmxvd1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLmZsb3dDaHVuay5yZXBlYXRlZCAmJlxuICAgICAgICAgICAgICAgICAgKG5ld1Bvc2l0aW9uID09PSBudWxsIHx8IGZsb3dDaHVuay5leGNsdXNpdmUpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICByZXBlYXRlZEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmbG93Q2h1bmsuZXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAvLyBleGNsdXNpdmUsIG9ubHkgY2FuIGhhdmUgb25lLCByZW1vdmUgZnJvbSB0aGUgZmxvdyBldmVuXG4gICAgICAgICAgICAgICAgICAvLyBpZiBpdCBkaWQgbm90IGZpdFxuICAgICAgICAgICAgICAgICAgcmVtb3ZlZEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIC8vIG5vdCBleGNsdXNpdmVcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZE9mQ29sdW1uID0gISFuZXdQb3NpdGlvbiB8fCAhIWNvbHVtbi5wYWdlQnJlYWtUeXBlO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEFmdGVyUG9zaXRpb24gPSBzZWxmLmdldExhc3RBZnRlclBvc2l0aW9uSWZEZWZlcnJlZEZsb2F0c0V4aXN0cyhcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLFxuICAgICAgICAgICAgICAgICAgICBuZXdQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpZiAoY29sdW1uLnBhZ2VCcmVha1R5cGUgJiYgbGFzdEFmdGVyUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQuY2h1bmtQb3NpdGlvbiA9IGxhc3RBZnRlclBvc2l0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gcHJvcGFnYXRlIHBhZ2VCcmVha1R5cGVcbiAgICAgICAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLmJyZWFrQWZ0ZXIgPSBjb2x1bW4ucGFnZUJyZWFrVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uLnBhZ2VCcmVha1R5cGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZ28gdG8gdGhlIG5leHQgZWxlbWVudCBpbiB0aGUgZmxvd1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkSW5kaWNlcy5wdXNoKGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1Bvc2l0aW9uIHx8IGxhc3RBZnRlclBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gZGlkIG5vdCBmaXQgY29tcGxldGVseVxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkLmNodW5rUG9zaXRpb24gPSBuZXdQb3NpdGlvbiB8fCBsYXN0QWZ0ZXJQb3NpdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICByZXBlYXRlZEluZGljZXMucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2VkIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLnN0YXJ0U2lkZSA9IEJyZWFrLmJyZWFrVmFsdWVUb1N0YXJ0U2lkZVZhbHVlKFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uLnBhZ2VCcmVha1R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGVuZE9mQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNpbmNlIGF0IGxlYXN0IG9uZSBmbG93Q2h1bmsgaGFzIGJlZW4gcGxhY2VkIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGNvbHVtbiwgdGhlIG5leHQgZmxvd0NodW5rIG9mIHRoZSBmbG93IGNhbiBiZSBkZWZlcnJlZCB0b1xuICAgICAgICAgICAgICAgIC8vIHRoZSBuZXh0IHBhcnRpdGlvbiBpZiB0aGVyZSBpcyBub3QgZW5vdWdoIHNwYWNlIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgcGFydGl0aW9uLlxuICAgICAgICAgICAgICAgIGNvbHVtbi5mb3JjZU5vbmZpdHRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgLy8gU3luYyByZXN1bHRcbiAgICAgICAgICAgICAgICAgIHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gQXN5bmMgcmVzdWx0XG4gICAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XG4gICAgICAgICAgICAgIC8vIEFzeW5jIHJlc3VsdFxuICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBTeW5jIHJlc3VsdFxuICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlmICghY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAvLyBLZWVwIHBvc2l0aW9ucyByZXBlYXRlZCBvciBub3QgcmVtb3ZlZFxuICAgICAgICAgICAgZmxvd1Bvc2l0aW9uLnBvc2l0aW9ucyA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMuZmlsdGVyKFxuICAgICAgICAgICAgICAocG9zLCBpKSA9PlxuICAgICAgICAgICAgICAgIHJlcGVhdGVkSW5kaWNlcy5pbmNsdWRlcyhpKSB8fCAhcmVtb3ZlZEluZGljZXMuaW5jbHVkZXMoaSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID09PSBcImNvbHVtblwiKSB7XG4gICAgICAgICAgICAgIGZsb3dQb3NpdGlvbi5icmVha0FmdGVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbi5zYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzKCk7XG4gICAgICAgICAgICBjb25zdCBlZGdlID0gY29sdW1uLnBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSgpO1xuICAgICAgICAgICAgY29sdW1uLnVwZGF0ZU1heFJlYWNoZWRBZnRlckVkZ2UoZWRnZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgY3JlYXRlTGF5b3V0Q29uc3RyYWludChcbiAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICk6IExheW91dFR5cGUuTGF5b3V0Q29uc3RyYWludCB7XG4gICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZSAtIDE7XG4gICAgY29uc3QgY291bnRlckNvbnN0cmFpbnQgPSB0aGlzLmNvdW50ZXJTdG9yZS5jcmVhdGVMYXlvdXRDb25zdHJhaW50KFxuICAgICAgcGFnZUluZGV4LFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBMYXlvdXQuQWxsTGF5b3V0Q29uc3RyYWludChcbiAgICAgIFtjb3VudGVyQ29uc3RyYWludF0uY29uY2F0KHBhZ2VGbG9hdExheW91dENvbnRleHQuZ2V0TGF5b3V0Q29uc3RyYWludHMoKSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlQW5kTGF5b3V0Q29sdW1uKFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGN1cnJlbnRDb2x1bW5JbmRleDogbnVtYmVyLFxuICAgIGZsb3dOYW1lU3RyOiBzdHJpbmcsXG4gICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGNvbHVtbkNvdW50OiBudW1iZXIsXG4gICAgY29sdW1uR2FwOiBudW1iZXIsXG4gICAgY29sdW1uV2lkdGg6IG51bWJlcixcbiAgICBpbm5lclNoYXBlOiBHZW9tZXRyeVV0aWwuU2hhcGUsXG4gICAgbGF5b3V0Q29udGV4dDogVnRyZWUuTGF5b3V0Q29udGV4dCxcbiAgICBmb3JjZU5vbkZpdHRpbmc6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PExheW91dFR5cGUuQ29sdW1uPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZG9udEFwcGx5RXhjbHVzaW9ucyA9IGJveEluc3RhbmNlLnZlcnRpY2FsXG4gICAgICA/IGJveEluc3RhbmNlLmlzQXV0b1dpZHRoICYmIGJveEluc3RhbmNlLmlzUmlnaHREZXBlbmRlbnRPbkF1dG9XaWR0aFxuICAgICAgOiBib3hJbnN0YW5jZS5pc0F1dG9IZWlnaHQgJiYgYm94SW5zdGFuY2UuaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQ7XG4gICAgY29uc3QgYm94Q29udGFpbmVyID0gbGF5b3V0Q29udGFpbmVyLmVsZW1lbnQ7XG4gICAgY29uc3QgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCA9IG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZS5DT0xVTU4sXG4gICAgICBudWxsLFxuICAgICAgZmxvd05hbWVTdHIsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIG51bGwsXG4gICAgKTtcbiAgICBjb25zdCBwb3NpdGlvbkF0Q29sdW1uU3RhcnQgPSBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbi5jbG9uZSgpO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPExheW91dFR5cGUuQ29sdW1uPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcImNyZWF0ZUFuZExheW91dENvbHVtblwiLFxuICAgICk7XG4gICAgbGV0IGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW47XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgY29uc3QgbGF5b3V0Q29uc3RyYWludCA9IHNlbGYuY3JlYXRlTGF5b3V0Q29uc3RyYWludChcbiAgICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICApO1xuICAgICAgICBpZiAoY29sdW1uQ291bnQgPiAxKSB7XG4gICAgICAgICAgY29uc3QgY29sdW1uQ29udGFpbmVyID0gc2VsZi52aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoY29sdW1uQ29udGFpbmVyLCBcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIik7XG4gICAgICAgICAgYm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvbHVtbkNvbnRhaW5lcik7XG4gICAgICAgICAgY29sdW1uID0gbmV3IExheW91dC5Db2x1bW4oXG4gICAgICAgICAgICBjb2x1bW5Db250YWluZXIsXG4gICAgICAgICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbHVtbi5mb3JjZU5vbmZpdHRpbmcgPSBmb3JjZU5vbkZpdHRpbmc7XG4gICAgICAgICAgY29sdW1uLnZlcnRpY2FsID0gbGF5b3V0Q29udGFpbmVyLnZlcnRpY2FsO1xuICAgICAgICAgIGNvbHVtbi5zbmFwSGVpZ2h0ID0gbGF5b3V0Q29udGFpbmVyLnNuYXBIZWlnaHQ7XG4gICAgICAgICAgY29sdW1uLnNuYXBXaWR0aCA9IGxheW91dENvbnRhaW5lci5zbmFwV2lkdGg7XG4gICAgICAgICAgaWYgKGxheW91dENvbnRhaW5lci52ZXJ0aWNhbCkge1xuICAgICAgICAgICAgY29uc3QgY29sdW1uWSA9XG4gICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5JbmRleCAqIChjb2x1bW5XaWR0aCArIGNvbHVtbkdhcCkgK1xuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIucGFkZGluZ1RvcDtcbiAgICAgICAgICAgIGNvbHVtbi5zZXRIb3Jpem9udGFsUG9zaXRpb24oXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5wYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLndpZHRoLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbHVtbi5zZXRWZXJ0aWNhbFBvc2l0aW9uKGNvbHVtblksIGNvbHVtbldpZHRoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY29sdW1uWCA9XG4gICAgICAgICAgICAgIGN1cnJlbnRDb2x1bW5JbmRleCAqIChjb2x1bW5XaWR0aCArIGNvbHVtbkdhcCkgK1xuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIucGFkZGluZ0xlZnQ7XG4gICAgICAgICAgICBjb2x1bW4uc2V0VmVydGljYWxQb3NpdGlvbihcbiAgICAgICAgICAgICAgbGF5b3V0Q29udGFpbmVyLnBhZGRpbmdUb3AsXG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5oZWlnaHQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29sdW1uLnNldEhvcml6b250YWxQb3NpdGlvbihjb2x1bW5YLCBjb2x1bW5XaWR0aCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbHVtbi5vcmlnaW5YID0gb2Zmc2V0WDtcbiAgICAgICAgICBjb2x1bW4ub3JpZ2luWSA9IG9mZnNldFk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29sdW1uID0gbmV3IExheW91dC5Db2x1bW4oXG4gICAgICAgICAgICBib3hDb250YWluZXIsXG4gICAgICAgICAgICBsYXlvdXRDb250ZXh0LFxuICAgICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgICBsYXlvdXRDb25zdHJhaW50LFxuICAgICAgICAgICAgY29sdW1uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbHVtbi5jb3B5RnJvbShsYXlvdXRDb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbHVtbi5leGNsdXNpb25zID0gZG9udEFwcGx5RXhjbHVzaW9ucyA/IFtdIDogZXhjbHVzaW9ucy5jb25jYXQoKTtcbiAgICAgICAgY29sdW1uLmlubmVyU2hhcGUgPSBpbm5lclNoYXBlO1xuICAgICAgICBjb2x1bW5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LnNldENvbnRhaW5lcihjb2x1bW4pO1xuICAgICAgICBpZiAoY29sdW1uLndpZHRoID49IDApIHtcbiAgICAgICAgICAvLyBjb2x1bW4uZWxlbWVudC5zdHlsZS5vdXRsaW5lID0gXCIxcHggZG90dGVkIGdyZWVuXCI7XG4gICAgICAgICAgc2VsZi5sYXlvdXRDb2x1bW4oY29sdW1uLCBmbG93TmFtZVN0cikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvbHVtbi5wYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSAmJlxuICAgICAgICAgICAgICAhcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjb2x1bW4ucGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHBvc2l0aW9uQXRDb2x1bW5TdGFydC5jbG9uZSgpO1xuICAgICAgICAgICAgICBpZiAoY29sdW1uLmVsZW1lbnQgIT09IGJveENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGJveENvbnRhaW5lci5yZW1vdmVDaGlsZChjb2x1bW4uZWxlbWVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQuZmluaXNoKCk7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBmcmFtZS5maW5pc2goY29sdW1uKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHNldFBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0Q29udGFpbmVyKFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICApIHtcbiAgICBpZiAoXG4gICAgICBib3hJbnN0YW5jZSBpbnN0YW5jZW9mIENzc1BhZ2UuUGFnZVJ1bGVQYXJ0aXRpb25JbnN0YW5jZSB8fFxuICAgICAgKGJveEluc3RhbmNlIGluc3RhbmNlb2YgUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2UgJiZcbiAgICAgICAgIShib3hJbnN0YW5jZSBpbnN0YW5jZW9mIENzc1BhZ2UuUGFnZVJ1bGVNYXN0ZXJJbnN0YW5jZSkpXG4gICAgKSB7XG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5zZXRDb250YWluZXIobGF5b3V0Q29udGFpbmVyKTtcbiAgICB9XG4gIH1cblxuICBnZXRSZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgYm94SW5zdGFuY2U6IFBhZ2VNYXN0ZXIuUGFnZUJveEluc3RhbmNlLFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGZsb3dOYW1lOiBzdHJpbmcsXG4gICk6IFBhZ2VGbG9hdHMuUGFnZUZsb2F0TGF5b3V0Q29udGV4dCB7XG4gICAgQXNzZXJ0cy5hc3NlcnQoYm94SW5zdGFuY2UgaW5zdGFuY2VvZiBQYWdlTWFzdGVyLlBhcnRpdGlvbkluc3RhbmNlKTtcbiAgICBjb25zdCB3cml0aW5nTW9kZSA9IGJveEluc3RhbmNlLmdldFByb3AodGhpcywgXCJ3cml0aW5nLW1vZGVcIikgfHwgbnVsbDtcbiAgICBjb25zdCBkaXJlY3Rpb24gPSBib3hJbnN0YW5jZS5nZXRQcm9wKHRoaXMsIFwiZGlyZWN0aW9uXCIpIHx8IG51bGw7XG4gICAgcmV0dXJuIG5ldyBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQoXG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUkVHSU9OLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgZmxvd05hbWUsXG4gICAgICBudWxsLFxuICAgICAgd3JpdGluZ01vZGUsXG4gICAgICBkaXJlY3Rpb24sXG4gICAgKTtcbiAgfVxuXG4gIGxheW91dEZsb3dDb2x1bW5zV2l0aEJhbGFuY2luZyhcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgbGF5b3V0Q29udGFpbmVyOiBWdHJlZS5Db250YWluZXIsXG4gICAgZmxvd05hbWVTdHI6IHN0cmluZyxcbiAgICBjb2x1bW5Db3VudDogbnVtYmVyLFxuICApOiBUYXNrLlJlc3VsdDxMYXlvdXRUeXBlLkNvbHVtbltdPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgcG9zaXRpb25BdENvbnRhaW5lclN0YXJ0ID0gc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24uY2xvbmUoKTtcbiAgICBjb25zdCByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0ID0gc2VsZi5nZXRSZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICBib3hJbnN0YW5jZSxcbiAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgIGZsb3dOYW1lU3RyLFxuICAgICk7XG4gICAgbGV0IGlzRmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgIGZ1bmN0aW9uIGxheW91dENvbHVtbnMoKSB7XG4gICAgICBzZWxmLmN1cnJlbnRMYXlvdXRQb3NpdGlvbiA9IHBvc2l0aW9uQXRDb250YWluZXJTdGFydC5jbG9uZSgpO1xuICAgICAgcmV0dXJuIHNlbGZcbiAgICAgICAgLmxheW91dEZsb3dDb2x1bW5zKFxuICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgYm94SW5zdGFuY2UsXG4gICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgIGV4Y2x1c2lvbnMsXG4gICAgICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgZmxvd05hbWVTdHIsXG4gICAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICAgICAgaXNGaXJzdFRpbWUsXG4gICAgICAgIClcbiAgICAgICAgLnRoZW5Bc3luYygoY29sdW1ucykgPT4ge1xuICAgICAgICAgIGlmIChjb2x1bW5zKSB7XG4gICAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoe1xuICAgICAgICAgICAgICBjb2x1bW5zLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBsYXlvdXRDb2x1bW5zKCkudGhlbkFzeW5jKChnZW5lcmF0b3JSZXN1bHQpID0+IHtcbiAgICAgIGlmICghZ2VuZXJhdG9yUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2x1bW5Db3VudCA8PSAxKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChnZW5lcmF0b3JSZXN1bHQuY29sdW1ucyk7XG4gICAgICB9XG4gICAgICBjb25zdCBjb2x1bW5GaWxsID1cbiAgICAgICAgKGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJjb2x1bW4tZmlsbFwiKSBhcyBDc3MuSWRlbnQpIHx8XG4gICAgICAgIENzcy5pZGVudC5iYWxhbmNlO1xuICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID1cbiAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24uZmxvd1Bvc2l0aW9uc1tmbG93TmFtZVN0cl07XG4gICAgICBBc3NlcnRzLmFzc2VydChmbG93UG9zaXRpb24pO1xuICAgICAgY29uc3QgY29sdW1uQmFsYW5jZXIgPSBDb2x1bW5zLmNyZWF0ZUNvbHVtbkJhbGFuY2VyKFxuICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgY29sdW1uRmlsbCxcbiAgICAgICAgbGF5b3V0Q29sdW1ucyxcbiAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgICBnZW5lcmF0b3JSZXN1bHQuY29sdW1ucyxcbiAgICAgICAgZmxvd1Bvc2l0aW9uLFxuICAgICAgKTtcbiAgICAgIGlmICghY29sdW1uQmFsYW5jZXIpIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGdlbmVyYXRvclJlc3VsdC5jb2x1bW5zKTtcbiAgICAgIH1cbiAgICAgIGlzRmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5sb2NrKCk7XG4gICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmxvY2soKTtcbiAgICAgIHJldHVybiBjb2x1bW5CYWxhbmNlclxuICAgICAgICAuYmFsYW5jZUNvbHVtbnMoZ2VuZXJhdG9yUmVzdWx0KVxuICAgICAgICAudGhlbkFzeW5jKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC51bmxvY2soKTtcbiAgICAgICAgICBwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQudW5sb2NrKCk7XG4gICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSByZXN1bHQucG9zaXRpb247XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdC5jb2x1bW5zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBsYXlvdXRGbG93Q29sdW1ucyhcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGJveEluc3RhbmNlOiBQYWdlTWFzdGVyLlBhZ2VCb3hJbnN0YW5jZSxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dDogUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgIGxheW91dENvbnRhaW5lcjogVnRyZWUuQ29udGFpbmVyLFxuICAgIGZsb3dOYW1lU3RyOiBzdHJpbmcsXG4gICAgY29sdW1uQ291bnQ6IG51bWJlcixcbiAgICBmb3JjZU5vbkZpdHRpbmc6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PExheW91dFR5cGUuQ29sdW1uW10gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8TGF5b3V0VHlwZS5Db2x1bW5bXSB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibGF5b3V0Rmxvd0NvbHVtbnNcIixcbiAgICApO1xuICAgIGNvbnN0IHBvc2l0aW9uQXRDb250YWluZXJTdGFydCA9IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLmNsb25lKCk7XG4gICAgY29uc3QgY29sdW1uR2FwID0gYm94SW5zdGFuY2UuZ2V0UHJvcEFzTnVtYmVyKHNlbGYsIFwiY29sdW1uLWdhcFwiKTtcblxuICAgIC8vIERvbid0IHF1ZXJ5IGNvbHVtbldpZHRoIHdoZW4gaXQncyBub3QgbmVlZGVkLCBzbyB0aGF0IHdpZHRoIGNhbGN1bGF0aW9uXG4gICAgLy8gY2FuIGJlIGRlbGF5ZWQgZm9yIHdpZHRoOiBhdXRvIGNvbHVtbnMuXG4gICAgY29uc3QgY29sdW1uV2lkdGggPVxuICAgICAgY29sdW1uQ291bnQgPiAxXG4gICAgICAgID8gYm94SW5zdGFuY2UuZ2V0UHJvcEFzTnVtYmVyKHNlbGYsIFwiY29sdW1uLXdpZHRoXCIpXG4gICAgICAgIDogbGF5b3V0Q29udGFpbmVyLndpZHRoO1xuICAgIGNvbnN0IHJlZ2lvbklkcyA9IGJveEluc3RhbmNlLmdldEFjdGl2ZVJlZ2lvbnMoc2VsZik7XG4gICAgY29uc3QgaW5uZXJTaGFwZVZhbCA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJzaGFwZS1pbnNpZGVcIik7XG4gICAgY29uc3QgaW5uZXJTaGFwZSA9IENzc1Byb3AudG9TaGFwZShcbiAgICAgIGlubmVyU2hhcGVWYWwsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIGxheW91dENvbnRhaW5lci53aWR0aCxcbiAgICAgIGxheW91dENvbnRhaW5lci5oZWlnaHQsXG4gICAgICBzZWxmLFxuICAgICk7XG4gICAgY29uc3QgbGF5b3V0Q29udGV4dCA9IG5ldyBWZ2VuLlZpZXdGYWN0b3J5KFxuICAgICAgZmxvd05hbWVTdHIsXG4gICAgICBzZWxmLFxuICAgICAgc2VsZi52aWV3cG9ydCxcbiAgICAgIHNlbGYuc3R5bGVyLFxuICAgICAgcmVnaW9uSWRzLFxuICAgICAgc2VsZi54bWxkb2MsXG4gICAgICBzZWxmLmZhY2VzLFxuICAgICAgc2VsZi5zdHlsZS5mb290bm90ZVByb3BzLFxuICAgICAgc2VsZixcbiAgICAgIHBhZ2UsXG4gICAgICBzZWxmLmN1c3RvbVJlbmRlcmVyLFxuICAgICAgc2VsZi5mYWxsYmFja01hcCxcbiAgICAgIHRoaXMuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICApO1xuICAgIGxldCBjb2x1bW5JbmRleCA9IDA7XG4gICAgbGV0IGNvbHVtbjogTGF5b3V0VHlwZS5Db2x1bW4gPSBudWxsO1xuICAgIGxldCBjb2x1bW5zOiBMYXlvdXRUeXBlLkNvbHVtbltdID0gW107XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5jcmVhdGVBbmRMYXlvdXRDb2x1bW4oXG4gICAgICAgICAgICBib3hJbnN0YW5jZSxcbiAgICAgICAgICAgIG9mZnNldFgsXG4gICAgICAgICAgICBvZmZzZXRZLFxuICAgICAgICAgICAgZXhjbHVzaW9ucyxcbiAgICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICAgIGNvbHVtbkluZGV4KyssXG4gICAgICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgICAgIHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgICAgIGNvbHVtbkdhcCxcbiAgICAgICAgICAgIGNvbHVtbldpZHRoLFxuICAgICAgICAgICAgaW5uZXJTaGFwZSxcbiAgICAgICAgICAgIGxheW91dENvbnRleHQsXG4gICAgICAgICAgICBmb3JjZU5vbkZpdHRpbmcsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuKChjKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIGNvbHVtbnMgPSBudWxsO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZvcmNlZFJlZ2lvbkJyZWFrID1cbiAgICAgICAgICAgICAgISFjLnBhZ2VCcmVha1R5cGUgJiYgYy5wYWdlQnJlYWtUeXBlICE9PSBcImNvbHVtblwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoZm9yY2VkUmVnaW9uQnJlYWsgfHwgY29sdW1uSW5kZXggPT09IGNvbHVtbkNvdW50KSAmJlxuICAgICAgICAgICAgICAhcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICByZWdpb25QYWdlRmxvYXRMYXlvdXRDb250ZXh0LmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIGNvbHVtbkluZGV4ID0gMDtcbiAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBwb3NpdGlvbkF0Q29udGFpbmVyU3RhcnQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgcmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICBpZiAocmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0xvY2tlZCgpKSB7XG4gICAgICAgICAgICAgICAgY29sdW1ucyA9IG51bGw7XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2x1bW4gPSBjO1xuICAgICAgICAgICAgY29sdW1uc1tjb2x1bW5JbmRleCAtIDFdID0gY29sdW1uO1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlKSB7XG4gICAgICAgICAgICAgIGlmIChjb2x1bW4ucGFnZUJyZWFrVHlwZSAhPSBcImNvbHVtblwiKSB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCByZW1haW5pbmcgY29sdW1uc1xuICAgICAgICAgICAgICAgIGNvbHVtbkluZGV4ID0gY29sdW1uQ291bnQ7XG4gICAgICAgICAgICAgICAgaWYgKGNvbHVtbi5wYWdlQnJlYWtUeXBlICE9IFwicmVnaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgIC8vIHNraXAgcmVtYWluaW5nIHJlZ2lvbnNcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZUJyZWFrc1tmbG93TmFtZVN0cl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbHVtbkluZGV4IDwgY29sdW1uQ291bnQpIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZnJhbWUuZmluaXNoKGNvbHVtbnMpO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4gaG9sZGluZyB0cnVlXG4gICAqL1xuICBsYXlvdXRDb250YWluZXIoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBib3hJbnN0YW5jZTogUGFnZU1hc3Rlci5QYWdlQm94SW5zdGFuY2UsXG4gICAgcGFyZW50Q29udGFpbmVyOiBIVE1MRWxlbWVudCxcbiAgICBvZmZzZXRYOiBudW1iZXIsXG4gICAgb2Zmc2V0WTogbnVtYmVyLFxuICAgIGV4Y2x1c2lvbnM6IEdlb21ldHJ5VXRpbC5TaGFwZVtdLFxuICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0OiBQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBib3hJbnN0YW5jZS5yZXNldCgpO1xuICAgIGNvbnN0IGVuYWJsZWQgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwiZW5hYmxlZFwiKTtcbiAgICBpZiAoZW5hYmxlZCAmJiBlbmFibGVkICE9PSBDc3MuaWRlbnQuX3RydWUpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwibGF5b3V0Q29udGFpbmVyXCIpO1xuICAgIGNvbnN0IHdyYXBGbG93ID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcIndyYXAtZmxvd1wiKTtcbiAgICBjb25zdCBkb250RXhjbHVkZSA9IHdyYXBGbG93ID09PSBDc3MuaWRlbnQuYXV0bztcbiAgICBjb25zdCBmbG93TmFtZSA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJmbG93LWZyb21cIik7XG4gICAgY29uc3QgYm94Q29udGFpbmVyID0gc2VsZi52aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHBvc2l0aW9uID0gYm94SW5zdGFuY2UuZ2V0UHJvcChzZWxmLCBcInBvc2l0aW9uXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoXG4gICAgICBib3hDb250YWluZXIsXG4gICAgICBcInBvc2l0aW9uXCIsXG4gICAgICBwb3NpdGlvbiA/IChwb3NpdGlvbiBhcyBhbnkpLm5hbWUgOiBcImFic29sdXRlXCIsXG4gICAgKTtcbiAgICBwYXJlbnRDb250YWluZXIuaW5zZXJ0QmVmb3JlKGJveENvbnRhaW5lciwgcGFyZW50Q29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIGxldCBsYXlvdXRDb250YWluZXIgPSBuZXcgVnRyZWUuQ29udGFpbmVyKGJveENvbnRhaW5lcik7XG4gICAgbGF5b3V0Q29udGFpbmVyLnZlcnRpY2FsID0gYm94SW5zdGFuY2UudmVydGljYWw7XG4gICAgbGF5b3V0Q29udGFpbmVyLmV4Y2x1c2lvbnMgPSBleGNsdXNpb25zO1xuICAgIGJveEluc3RhbmNlLnByZXBhcmVDb250YWluZXIoXG4gICAgICBzZWxmLFxuICAgICAgbGF5b3V0Q29udGFpbmVyLFxuICAgICAgcGFnZSxcbiAgICAgIHNlbGYuZmFjZXMsXG4gICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICApO1xuICAgIGxheW91dENvbnRhaW5lci5vcmlnaW5YID0gb2Zmc2V0WDtcbiAgICBsYXlvdXRDb250YWluZXIub3JpZ2luWSA9IG9mZnNldFk7XG4gICAgb2Zmc2V0WCArPVxuICAgICAgbGF5b3V0Q29udGFpbmVyLmxlZnQgK1xuICAgICAgbGF5b3V0Q29udGFpbmVyLm1hcmdpbkxlZnQgK1xuICAgICAgbGF5b3V0Q29udGFpbmVyLmJvcmRlckxlZnQ7XG4gICAgb2Zmc2V0WSArPVxuICAgICAgbGF5b3V0Q29udGFpbmVyLnRvcCArXG4gICAgICBsYXlvdXRDb250YWluZXIubWFyZ2luVG9wICtcbiAgICAgIGxheW91dENvbnRhaW5lci5ib3JkZXJUb3A7XG4gICAgdGhpcy5zZXRQYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dENvbnRhaW5lcihcbiAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgYm94SW5zdGFuY2UsXG4gICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgKTtcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgbGV0IHJlbW92ZWQgPSBmYWxzZTtcbiAgICBpZiAoIWZsb3dOYW1lIHx8ICFmbG93TmFtZS5pc0lkZW50KCkpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRWYWwgPSBib3hJbnN0YW5jZS5nZXRQcm9wKHNlbGYsIFwiY29udGVudFwiKTtcbiAgICAgIGlmIChjb250ZW50VmFsICYmIFZ0cmVlLm5vblRyaXZpYWxDb250ZW50KGNvbnRlbnRWYWwpKSB7XG4gICAgICAgIGxldCBpbm5lckNvbnRhaW5lclRhZyA9IFwic3BhblwiO1xuICAgICAgICBpZiAoKGNvbnRlbnRWYWwgYXMgYW55KS51cmwpIHtcbiAgICAgICAgICBpbm5lckNvbnRhaW5lclRhZyA9IFwiaW1nXCI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5uZXJDb250YWluZXIgPSBzZWxmLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgaW5uZXJDb250YWluZXJUYWcsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnRlbnRWYWwudmlzaXQoXG4gICAgICAgICAgbmV3IFZ0cmVlLkNvbnRlbnRQcm9wZXJ0eUhhbmRsZXIoXG4gICAgICAgICAgICBpbm5lckNvbnRhaW5lcixcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICBjb250ZW50VmFsLFxuICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUuZ2V0RXhwckNvbnRlbnRMaXN0ZW5lcigpLFxuICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgICAgIGJveENvbnRhaW5lci5hcHBlbmRDaGlsZChpbm5lckNvbnRhaW5lcik7XG4gICAgICAgIGlmIChpbm5lckNvbnRhaW5lclRhZyA9PSBcImltZ1wiKSB7XG4gICAgICAgICAgYm94SW5zdGFuY2UudHJhbnNmZXJTaW5nbFVyaUNvbnRlbnRQcm9wcyhcbiAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICBpbm5lckNvbnRhaW5lcixcbiAgICAgICAgICAgIHNlbGYuZmFjZXMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBib3hJbnN0YW5jZS50cmFuc2ZlckNvbnRlbnRQcm9wcyhcbiAgICAgICAgICBzZWxmLFxuICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIHNlbGYuZmFjZXMsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKGJveEluc3RhbmNlLnN1cHByZXNzRW1wdHlCb3hHZW5lcmF0aW9uKSB7XG4gICAgICAgIHBhcmVudENvbnRhaW5lci5yZW1vdmVDaGlsZChib3hDb250YWluZXIpO1xuICAgICAgICByZW1vdmVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghcmVtb3ZlZCkge1xuICAgICAgICBib3hJbnN0YW5jZS5maW5pc2hDb250YWluZXIoXG4gICAgICAgICAgc2VsZixcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgc2VsZi5mYWNlcyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKCFzZWxmLnBhZ2VCcmVha3NbZmxvd05hbWUudG9TdHJpbmcoKV0pIHtcbiAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgICBcImxheW91dENvbnRhaW5lci5pbm5lclwiLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IGZsb3dOYW1lU3RyID0gZmxvd05hbWUudG9TdHJpbmcoKTtcblxuICAgICAgLy8gZm9yIG5vdyBvbmx5IGEgc2luZ2xlIGNvbHVtbiBpbiB2ZXJ0aWNhbCBjYXNlXG4gICAgICBjb25zdCBjb2x1bW5Db3VudCA9IGJveEluc3RhbmNlLmdldFByb3BBc051bWJlcihzZWxmLCBcImNvbHVtbi1jb3VudFwiKTtcbiAgICAgIHNlbGZcbiAgICAgICAgLmxheW91dEZsb3dDb2x1bW5zV2l0aEJhbGFuY2luZyhcbiAgICAgICAgICBwYWdlLFxuICAgICAgICAgIGJveEluc3RhbmNlLFxuICAgICAgICAgIG9mZnNldFgsXG4gICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICBleGNsdXNpb25zLFxuICAgICAgICAgIHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgIGxheW91dENvbnRhaW5lcixcbiAgICAgICAgICBmbG93TmFtZVN0cixcbiAgICAgICAgICBjb2x1bW5Db3VudCxcbiAgICAgICAgKVxuICAgICAgICAudGhlbigoY29sdW1ucykgPT4ge1xuICAgICAgICAgIGlmICghcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW4gPSBjb2x1bW5zWzBdO1xuICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW4uZWxlbWVudCA9PT0gYm94Q29udGFpbmVyKSB7XG4gICAgICAgICAgICAgIGxheW91dENvbnRhaW5lciA9IGNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxheW91dENvbnRhaW5lci5jb21wdXRlZEJsb2NrU2l6ZSA9IE1hdGgubWF4LmFwcGx5KFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBjb2x1bW5zLm1hcCgoYykgPT4gYy5jb21wdXRlZEJsb2NrU2l6ZSksXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYm94SW5zdGFuY2UuZmluaXNoQ29udGFpbmVyKFxuICAgICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICAgIGNvbHVtbixcbiAgICAgICAgICAgICAgY29sdW1uQ291bnQsXG4gICAgICAgICAgICAgIHNlbGYuY2xpZW50TGF5b3V0LFxuICAgICAgICAgICAgICBzZWxmLmZhY2VzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9XG4gICAgICAgICAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVTdHJdO1xuICAgICAgICAgICAgaWYgKGZsb3dQb3NpdGlvbiAmJiBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9PT0gXCJyZWdpb25cIikge1xuICAgICAgICAgICAgICBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlubmVyRnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgIGNvbnQgPSBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICBib3hJbnN0YW5jZS5maW5pc2hDb250YWluZXIoXG4gICAgICAgICAgc2VsZixcbiAgICAgICAgICBsYXlvdXRDb250YWluZXIsXG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIDEsXG4gICAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgICAgc2VsZi5mYWNlcyxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICB9XG4gICAgY29udC50aGVuKCgpID0+IHtcbiAgICAgIGlmIChwYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgICFib3hJbnN0YW5jZS5pc0F1dG9IZWlnaHQgfHxcbiAgICAgICAgTWF0aC5mbG9vcihsYXlvdXRDb250YWluZXIuY29tcHV0ZWRCbG9ja1NpemUpID4gMFxuICAgICAgKSB7XG4gICAgICAgIGlmICghcmVtb3ZlZCAmJiAhZG9udEV4Y2x1ZGUpIHtcbiAgICAgICAgICBjb25zdCBvdXRlclNoYXBlUHJvcCA9IGJveEluc3RhbmNlLmdldFByb3Aoc2VsZiwgXCJzaGFwZS1vdXRzaWRlXCIpO1xuICAgICAgICAgIGNvbnN0IG91dGVyU2hhcGUgPSBsYXlvdXRDb250YWluZXIuZ2V0T3V0ZXJTaGFwZShcbiAgICAgICAgICAgIG91dGVyU2hhcGVQcm9wLFxuICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgLy8gVGhvdWdoIGl0IHNlZW1zIHRoYXQgTFNoYXBlRmxvYXRCdWcgc3RpbGwgZXhpc3RzIGluIEZpcmVmb3gsIGl0XG4gICAgICAgICAgLy8gYXBwYXJlbnRseSBkb2VzIG5vdCBvY2N1ciBvbiBleGNsdXNpb24gZmxvYXRzLiBTZWUgdGhlIHRlc3QgZmlsZTpcbiAgICAgICAgICAvLyB0ZXN0L2ZpbGVzL2NvbHVtbi1icmVhay1idWcuaHRtbFxuICAgICAgICAgIC8vIGlmIChCYXNlLmNoZWNrTFNoYXBlRmxvYXRCdWcoc2VsZi52aWV3cG9ydC5yb290KSkge1xuICAgICAgICAgIC8vIFx0Ly8gU2ltcGxpc3RpYyBidWcgd29ya2Fyb3VuZDogYWRkIGEgY29weSBvZiB0aGUgc2hhcGUgdHJhbnNsYXRlZCB1cC5cbiAgICAgICAgICAvLyAgICAgZXhjbHVzaW9ucy5wdXNoKG91dGVyU2hhcGUud2l0aE9mZnNldCgwLCAtMS4yNSAqIHNlbGYucXVlcnlVbml0U2l6ZShcImVtXCIsIGZhbHNlKSkpO1xuICAgICAgICAgIC8vIH1cbiAgICAgICAgICBleGNsdXNpb25zLnB1c2gob3V0ZXJTaGFwZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYm94SW5zdGFuY2UuY2hpbGRyZW4ubGVuZ3RoID09IDApIHtcbiAgICAgICAgcGFyZW50Q29udGFpbmVyLnJlbW92ZUNoaWxkKGJveENvbnRhaW5lcik7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IGkgPSBib3hJbnN0YW5jZS5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3AoKCkgPT4ge1xuICAgICAgICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gYm94SW5zdGFuY2UuY2hpbGRyZW5baS0tXTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBzZWxmLmxheW91dENvbnRhaW5lcihcbiAgICAgICAgICAgICAgcGFnZSxcbiAgICAgICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgICAgIGJveENvbnRhaW5lciBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICAgICAgb2Zmc2V0WCxcbiAgICAgICAgICAgICAgb2Zmc2V0WSxcbiAgICAgICAgICAgICAgZXhjbHVzaW9ucyxcbiAgICAgICAgICAgICAgcGFnZVBhZ2VGbG9hdExheW91dENvbnRleHQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHIuaXNQZW5kaW5nKCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHIudGhlbkFzeW5jKCgpID0+XG4gICAgICAgICAgICAgICAgVGFzay5uZXdSZXN1bHQoIXBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0LmlzSW52YWxpZGF0ZWQoKSkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGZhbHNlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcHJvY2Vzc0xpbmdlcigpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZTtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgZm9yIChsZXQgaSA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgcG9zID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1tpXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRQYWdlID49IDAgJiZcbiAgICAgICAgICBwb3MuZmxvd0NodW5rLnN0YXJ0UGFnZSArIHBvcy5mbG93Q2h1bmsubGluZ2VyIC0gMSA8PSBwYWdlTnVtYmVyXG4gICAgICAgICkge1xuICAgICAgICAgIGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaW5pdExpbmdlcmluZygpOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTnVtYmVyID0gdGhpcy5jdXJyZW50TGF5b3V0UG9zaXRpb24ucGFnZTtcbiAgICBmb3IgKGNvbnN0IGZsb3dOYW1lIGluIHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnMpIHtcbiAgICAgIGNvbnN0IGZsb3dQb3NpdGlvbiA9IHRoaXMuY3VycmVudExheW91dFBvc2l0aW9uLmZsb3dQb3NpdGlvbnNbZmxvd05hbWVdO1xuICAgICAgZm9yIChsZXQgaSA9IGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgcG9zID0gZmxvd1Bvc2l0aW9uLnBvc2l0aW9uc1tpXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRQYWdlIDwgMCAmJlxuICAgICAgICAgIHBvcy5mbG93Q2h1bmsuc3RhcnRPZmZzZXQgPCB0aGlzLmxvb2t1cE9mZnNldFxuICAgICAgICApIHtcbiAgICAgICAgICBwb3MuZmxvd0NodW5rLnN0YXJ0UGFnZSA9IHBhZ2VOdW1iZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBub01vcmVQcmltYXJ5Rmxvd3MoY3A6IFZ0cmVlLkxheW91dFBvc2l0aW9uKTogYm9vbGVhbiB7XG4gICAgZm9yIChjb25zdCBmbG93TmFtZSBpbiB0aGlzLnByaW1hcnlGbG93cykge1xuICAgICAgY29uc3QgZmxvd1Bvc2l0aW9uID0gY3AuZmxvd1Bvc2l0aW9uc1tmbG93TmFtZV07XG4gICAgICBpZiAoZmxvd1Bvc2l0aW9uICYmIGZsb3dQb3NpdGlvbi5wb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgbGF5b3V0TmV4dFBhZ2UoXG4gICAgcGFnZTogVnRyZWUuUGFnZSxcbiAgICBjcD86IFZ0cmVlLkxheW91dFBvc2l0aW9uLFxuICApOiBUYXNrLlJlc3VsdDxWdHJlZS5MYXlvdXRQb3NpdGlvbj4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gVE9DIGJveCBpcyBzcGVjaWFsIHBhZ2UgY29udGFpbmVyLCBubyBwYWdpbmF0aW9uXG4gICAgY29uc3QgaXNUb2NCb3ggPSBwYWdlLmNvbnRhaW5lciA9PT0gcGFnZS5ibGVlZEJveDtcblxuICAgIHNlbGYucGFnZUJyZWFrcyA9IHt9O1xuICAgIGlmIChjcCkge1xuICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBjcC5jbG9uZSgpO1xuICAgICAgc2VsZi5zdHlsZXIucmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldChjcC5oaWdoZXN0U2Vlbk9mZnNldCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uID0gbmV3IFZ0cmVlLkxheW91dFBvc2l0aW9uKCk7XG4gICAgICBzZWxmLnN0eWxlci5yZXBsYXlGbG93RWxlbWVudHNGcm9tT2Zmc2V0KC0xKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubGFuZykge1xuICAgICAgcGFnZS5ibGVlZEJveC5zZXRBdHRyaWJ1dGUoXCJsYW5nXCIsIHRoaXMubGFuZyk7XG4gICAgfVxuICAgIGNwID0gc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb247XG4gICAgY3AucGFnZSsrO1xuICAgIHNlbGYuY2xlYXJTY29wZShzZWxmLnN0eWxlLnBhZ2VTY29wZSk7XG4gICAgc2VsZi5sYXlvdXRQb3NpdGlvbkF0UGFnZVN0YXJ0ID0gY3AuY2xvbmUoKTtcblxuICAgIC8vIFJlc29sdmUgcGFnZSBzaXplIGJlZm9yZSBwYWdlIG1hc3RlciBzZWxlY3Rpb24uXG4gICAgY29uc3QgY2FzY2FkZWRQYWdlU3R5bGUgPSBpc1RvY0JveFxuICAgICAgPyAoe30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGUpXG4gICAgICA6IHNlbGYucGFnZU1hbmFnZXIuZ2V0Q2FzY2FkZWRQYWdlU3R5bGUoKTtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gc2VsZi5zZWxlY3RQYWdlTWFzdGVyKGNhc2NhZGVkUGFnZVN0eWxlKTtcbiAgICBpZiAoIXBhZ2VNYXN0ZXIpIHtcbiAgICAgIC8vIGVuZCBvZiBwcmltYXJ5IGNvbnRlbnRcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFZ0cmVlLkxheW91dFBvc2l0aW9uKTtcbiAgICB9XG4gICAgbGV0IGJsZWVkQm94UGFkZGluZ0VkZ2UgPSAwO1xuICAgIGlmICghaXNUb2NCb3gpIHtcbiAgICAgIHBhZ2Uuc2V0QXV0b1BhZ2VXaWR0aChcbiAgICAgICAgcGFnZU1hc3Rlci5wYWdlQm94LnNwZWNpZmllZFtcIndpZHRoXCJdLnZhbHVlID09PSBDc3MuZnVsbFdpZHRoLFxuICAgICAgKTtcbiAgICAgIHBhZ2Uuc2V0QXV0b1BhZ2VIZWlnaHQoXG4gICAgICAgIHBhZ2VNYXN0ZXIucGFnZUJveC5zcGVjaWZpZWRbXCJoZWlnaHRcIl0udmFsdWUgPT09IENzcy5mdWxsSGVpZ2h0LFxuICAgICAgKTtcbiAgICAgIHNlbGYuY291bnRlclN0b3JlLnNldEN1cnJlbnRQYWdlKHBhZ2UpO1xuICAgICAgc2VsZi5jb3VudGVyU3RvcmUudXBkYXRlUGFnZUNvdW50ZXJzKGNhc2NhZGVkUGFnZVN0eWxlLCBzZWxmKTtcblxuICAgICAgLy8gc2V0dXAgYmxlZWQgYXJlYSBhbmQgY3JvcCBtYXJrc1xuICAgICAgY29uc3QgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCA9IENzc1BhZ2UuZXZhbHVhdGVQYWdlU2l6ZUFuZEJsZWVkKFxuICAgICAgICBDc3NQYWdlLnJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkKGNhc2NhZGVkUGFnZVN0eWxlIGFzIGFueSksXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgICAgc2VsZi5zZXRQYWdlU2l6ZUFuZEJsZWVkKGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQsIHBhZ2UpO1xuICAgICAgQ3NzUGFnZS5hZGRQcmludGVyTWFya3MoXG4gICAgICAgIGNhc2NhZGVkUGFnZVN0eWxlLFxuICAgICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLFxuICAgICAgICBwYWdlLFxuICAgICAgICB0aGlzLFxuICAgICAgKTtcbiAgICAgIGJsZWVkQm94UGFkZGluZ0VkZ2UgPVxuICAgICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0ICsgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZDtcbiAgICB9XG5cbiAgICBjb25zdCB3cml0aW5nTW9kZSA9XG4gICAgICAoIWlzVG9jQm94ICYmIHBhZ2VNYXN0ZXIuZ2V0UHJvcChzZWxmLCBcIndyaXRpbmctbW9kZVwiKSkgfHxcbiAgICAgIENzcy5pZGVudC5ob3Jpem9udGFsX3RiO1xuXG4gICAgdGhpcy5wYWdlVmVydGljYWwgPSB3cml0aW5nTW9kZSAhPSBDc3MuaWRlbnQuaG9yaXpvbnRhbF90YjtcblxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHBhZ2VNYXN0ZXIuZ2V0UHJvcChzZWxmLCBcImRpcmVjdGlvblwiKSB8fCBDc3MuaWRlbnQubHRyO1xuICAgIGNvbnN0IHBhZ2VGbG9hdExheW91dENvbnRleHQgPSBuZXcgUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRDb250ZXh0KFxuICAgICAgc2VsZi5yb290UGFnZUZsb2F0TGF5b3V0Q29udGV4dCxcbiAgICAgIFBhZ2VGbG9hdHMuRmxvYXRSZWZlcmVuY2UuUEFHRSxcbiAgICAgIG51bGwsXG4gICAgICBudWxsLFxuICAgICAgbnVsbCxcbiAgICAgIHdyaXRpbmdNb2RlLFxuICAgICAgZGlyZWN0aW9uLFxuICAgICk7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8VnRyZWUuTGF5b3V0UG9zaXRpb24+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwibGF5b3V0TmV4dFBhZ2VcIixcbiAgICApO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIC8vIHNlbGYubGF5b3V0Q29udGFpbmVyKHBhZ2UsIHBhZ2VNYXN0ZXIsIHBhZ2UuYmxlZWRCb3gsIGJsZWVkQm94UGFkZGluZ0VkZ2UsIGJsZWVkQm94UGFkZGluZ0VkZ2UrMSwgLy8gQ29tcGVuc2F0ZSAndG9wOiAtMXB4JyBvbiBwYWdlIG1hc3RlclxuICAgICAgICBzZWxmXG4gICAgICAgICAgLmxheW91dENvbnRhaW5lcihcbiAgICAgICAgICAgIHBhZ2UsXG4gICAgICAgICAgICBwYWdlTWFzdGVyLFxuICAgICAgICAgICAgcGFnZS5ibGVlZEJveCxcbiAgICAgICAgICAgIGJsZWVkQm94UGFkZGluZ0VkZ2UsXG4gICAgICAgICAgICBibGVlZEJveFBhZGRpbmdFZGdlLFxuICAgICAgICAgICAgW10sXG4gICAgICAgICAgICBwYWdlRmxvYXRMYXlvdXRDb250ZXh0LFxuICAgICAgICAgIClcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXBhZ2VGbG9hdExheW91dENvbnRleHQuaXNJbnZhbGlkYXRlZCgpKSB7XG4gICAgICAgICAgICAgIHBhZ2VGbG9hdExheW91dENvbnRleHQuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFnZUZsb2F0TGF5b3V0Q29udGV4dC5pc0ludmFsaWRhdGVkKCkpIHtcbiAgICAgICAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBzZWxmLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgcGFnZUZsb2F0TGF5b3V0Q29udGV4dC52YWxpZGF0ZSgpO1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBwYWdlTWFzdGVyLmFkanVzdFBhZ2VMYXlvdXQoc2VsZiwgcGFnZSwgc2VsZi5jbGllbnRMYXlvdXQpO1xuICAgICAgICBpZiAoIWlzVG9jQm94KSB7XG4gICAgICAgICAgY29uc3QgaXNMZWZ0UGFnZSA9IG5ldyBFeHBycy5OYW1lZChcbiAgICAgICAgICAgIHBhZ2VNYXN0ZXIucGFnZUJveC5zY29wZSxcbiAgICAgICAgICAgIFwibGVmdC1wYWdlXCIsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwYWdlLnNpZGUgPSBpc0xlZnRQYWdlLmV2YWx1YXRlKHNlbGYpXG4gICAgICAgICAgICA/IENvbnN0YW50cy5QYWdlU2lkZS5MRUZUXG4gICAgICAgICAgICA6IENvbnN0YW50cy5QYWdlU2lkZS5SSUdIVDtcbiAgICAgICAgICBzZWxmLnByb2Nlc3NMaW5nZXIoKTtcbiAgICAgICAgICBjcCA9IHNlbGYuY3VycmVudExheW91dFBvc2l0aW9uO1xuICAgICAgICAgIE9iamVjdC5rZXlzKGNwLmZsb3dQb3NpdGlvbnMpLmZvckVhY2goKGZsb3dOYW1lKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBmbG93UG9zaXRpb24gPSBjcC5mbG93UG9zaXRpb25zW2Zsb3dOYW1lXTtcbiAgICAgICAgICAgIGNvbnN0IGJyZWFrQWZ0ZXIgPSBmbG93UG9zaXRpb24uYnJlYWtBZnRlcjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgYnJlYWtBZnRlciAmJlxuICAgICAgICAgICAgICAoYnJlYWtBZnRlciA9PT0gXCJwYWdlXCIgfHwgIXNlbGYubWF0Y2hQYWdlU2lkZShicmVha0FmdGVyKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBmbG93UG9zaXRpb24uYnJlYWtBZnRlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5jdXJyZW50TGF5b3V0UG9zaXRpb24gPSBzZWxmLmxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQgPSBudWxsO1xuICAgICAgICBjcC5oaWdoZXN0U2Vlbk9mZnNldCA9IHNlbGYuc3R5bGVyLmdldFJlYWNoZWRPZmZzZXQoKTtcbiAgICAgICAgY29uc3QgdHJpZ2dlcnMgPSBzZWxmLnN0eWxlLnN0b3JlLmdldFRyaWdnZXJzRm9yRG9jKHNlbGYueG1sZG9jKTtcbiAgICAgICAgcGFnZS5maW5pc2godHJpZ2dlcnMsIHNlbGYuY2xpZW50TGF5b3V0KTtcbiAgICAgICAgaWYgKHNlbGYubm9Nb3JlUHJpbWFyeUZsb3dzKGNwKSkge1xuICAgICAgICAgIGNwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmcmFtZS5maW5pc2goY3ApO1xuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhY3R1YWwgcGFnZSB3aWR0aCwgaGVpZ2h0IGFuZCBibGVlZCBmcm9tIHN0eWxlIHNwZWNpZmllZCBpbiBwYWdlXG4gICAqIGNvbnRleHQuXG4gICAqL1xuICBwcml2YXRlIHNldFBhZ2VTaXplQW5kQmxlZWQoXG4gICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZDogQ3NzUGFnZS5FdmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLFxuICAgIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gICkge1xuICAgIHRoaXMuYWN0dWFsUGFnZVdpZHRoID0gZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5wYWdlV2lkdGg7XG4gICAgdGhpcy5hY3R1YWxQYWdlSGVpZ2h0ID0gZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5wYWdlSGVpZ2h0O1xuICAgIHRoaXMucGFnZVNoZWV0V2lkdGggPVxuICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5wYWdlV2lkdGggK1xuICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5jcm9wT2Zmc2V0ICogMjtcbiAgICB0aGlzLnBhZ2VTaGVldEhlaWdodCA9XG4gICAgICBldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLnBhZ2VIZWlnaHQgK1xuICAgICAgZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5jcm9wT2Zmc2V0ICogMjtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGAke3RoaXMucGFnZVNoZWV0V2lkdGh9cHhgO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGAke3RoaXMucGFnZVNoZWV0SGVpZ2h0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLmxlZnQgPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLnJpZ2h0ID0gYCR7ZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZC5ibGVlZE9mZnNldH1weGA7XG4gICAgcGFnZS5ibGVlZEJveC5zdHlsZS50b3AgPSBgJHtldmFsdWF0ZWRQYWdlU2l6ZUFuZEJsZWVkLmJsZWVkT2Zmc2V0fXB4YDtcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLmJvdHRvbSA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWRPZmZzZXR9cHhgO1xuICAgIHBhZ2UuYmxlZWRCb3guc3R5bGUucGFkZGluZyA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWR9cHhgO1xuXG4gICAgLy8gU2hpZnQgMXB4IHRvIHdvcmthcm91bmQgQ2hyb21lIHByaW50aW5nIGJ1ZyAoQ2FuY2VsZWQgYmVjYXVzZSBvZiBhbm90aGVyIENocm9tZSBwcm9ibGVtKVxuICAgIC8vIHBhZ2UuYmxlZWRCb3guc3R5bGUucGFkZGluZ1RvcCA9IGAke2V2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWQrMX1weGA7XG5cbiAgICAvLyBTaGlmdCAwLjAxcHggdG8gd29ya2Fyb3VuZCBGaXJlZm94IHByaW50aW5nIHByb2JsZW1cbiAgICAvLyAoVGhpcyBzbWFsbCB2YWx1ZSAoPCAxLzY0IHB4KSBoYXMgbm8gZWZmZWN0IHRvIENocm9tZSlcbiAgICBwYWdlLmJsZWVkQm94LnN0eWxlLnBhZGRpbmdUb3AgPSBgJHtcbiAgICAgIGV2YWx1YXRlZFBhZ2VTaXplQW5kQmxlZWQuYmxlZWQgKyAwLjAxXG4gICAgfXB4YDtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmFzZVBhcnNlckhhbmRsZXIgZXh0ZW5kcyBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyIHtcbiAgaW5zaWRlUmVnaW9uOiBib29sZWFuID0gZmFsc2U7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIG1hc3RlckhhbmRsZXI6IFN0eWxlUGFyc2VySGFuZGxlcixcbiAgICBjb25kaXRpb246IEV4cHJzLlZhbCxcbiAgICBwYXJlbnQ6IEJhc2VQYXJzZXJIYW5kbGVyLFxuICAgIHJlZ2lvbklkOiBzdHJpbmcgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgIG1hc3RlckhhbmRsZXIucm9vdFNjb3BlLFxuICAgICAgbWFzdGVySGFuZGxlcixcbiAgICAgIGNvbmRpdGlvbixcbiAgICAgIHBhcmVudCxcbiAgICAgIHJlZ2lvbklkLFxuICAgICAgbWFzdGVySGFuZGxlci52YWxpZGF0b3JTZXQsXG4gICAgICAhcGFyZW50LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VUZW1wbGF0ZVJ1bGUoKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0UGFnZU1hc3RlclJ1bGUoXG4gICAgbmFtZTogc3RyaW5nIHwgbnVsbCxcbiAgICBwc2V1ZG9OYW1lOiBzdHJpbmcgfCBudWxsLFxuICAgIGNsYXNzZXM6IHN0cmluZ1tdLFxuICApOiB2b2lkIHtcbiAgICBjb25zdCBwYWdlTWFzdGVyID0gbmV3IFBhZ2VNYXN0ZXIuUGFnZU1hc3RlcihcbiAgICAgIHRoaXMubWFzdGVySGFuZGxlci5wYWdlU2NvcGUsXG4gICAgICBuYW1lLFxuICAgICAgcHNldWRvTmFtZSxcbiAgICAgIGNsYXNzZXMsXG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucm9vdEJveCxcbiAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgdGhpcy5vd25lci5nZXRCYXNlU3BlY2lmaWNpdHkoKSxcbiAgICApO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBQYWdlTWFzdGVyLlBhZ2VNYXN0ZXJQYXJzZXJIYW5kbGVyKFxuICAgICAgICBwYWdlTWFzdGVyLnNjb3BlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIsXG4gICAgICAgIHBhZ2VNYXN0ZXIsXG4gICAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRXaGVuUnVsZShleHByOiBDc3MuRXhwcik6IHZvaWQge1xuICAgIGxldCBjb25kaXRpb24gPSBleHByLmV4cHI7XG4gICAgaWYgKHRoaXMuY29uZGl0aW9uICE9IG51bGwpIHtcbiAgICAgIGNvbmRpdGlvbiA9IEV4cHJzLmFuZCh0aGlzLnNjb3BlLCB0aGlzLmNvbmRpdGlvbiwgY29uZGl0aW9uKTtcbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IEJhc2VQYXJzZXJIYW5kbGVyKHRoaXMubWFzdGVySGFuZGxlciwgY29uZGl0aW9uLCB0aGlzLCB0aGlzLnJlZ2lvbklkKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnREZWZpbmVSdWxlKCk6IHZvaWQge1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihcbiAgICAgIG5ldyBDc3NDYXNjYWRlLkRlZmluZVBhcnNlckhhbmRsZXIodGhpcy5zY29wZSwgdGhpcy5vd25lciksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIHN0YXJ0Rm9udEZhY2VSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgICB0aGlzLm1hc3RlckhhbmRsZXIuZm9udEZhY2VzLnB1c2goe1xuICAgICAgcHJvcGVydGllcyxcbiAgICAgIGNvbmRpdGlvbjogdGhpcy5jb25kaXRpb24sXG4gICAgfSk7XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgIHRoaXMubWFzdGVySGFuZGxlci52YWxpZGF0b3JTZXQsXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydEZsb3dSdWxlKGZsb3dOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgc3R5bGUgPSB0aGlzLm1hc3RlckhhbmRsZXIuZmxvd1Byb3BzW2Zsb3dOYW1lXTtcbiAgICBpZiAoIXN0eWxlKSB7XG4gICAgICBzdHlsZSA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLmZsb3dQcm9wc1tmbG93TmFtZV0gPSBzdHlsZTtcbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRWaWV3cG9ydFJ1bGUoKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld3BvcnRQcm9wcyA9IHt9IGFzIENzc0Nhc2NhZGUuRWxlbWVudFN0eWxlO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci52aWV3cG9ydFByb3BzLnB1c2godmlld3BvcnRQcm9wcyk7XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgICB2aWV3cG9ydFByb3BzLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRGb290bm90ZVJ1bGUocHNldWRvZWxlbTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgIGxldCBzdHlsZSA9IHRoaXMubWFzdGVySGFuZGxlci5mb290bm90ZVByb3BzO1xuICAgIGlmIChwc2V1ZG9lbGVtKSB7XG4gICAgICBjb25zdCBwc2V1ZG9zID0gQ3NzQ2FzY2FkZS5nZXRNdXRhYmxlU3R5bGVNYXAoc3R5bGUsIFwiX3BzZXVkb3NcIik7XG4gICAgICBzdHlsZSA9IHBzZXVkb3NbcHNldWRvZWxlbV07XG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHN0eWxlID0ge30gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGU7XG4gICAgICAgIHBzZXVkb3NbcHNldWRvZWxlbV0gPSBzdHlsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnB1c2hIYW5kbGVyKFxuICAgICAgbmV3IENzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIoXG4gICAgICAgIHRoaXMuc2NvcGUsXG4gICAgICAgIHRoaXMub3duZXIsXG4gICAgICAgIG51bGwsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIudmFsaWRhdG9yU2V0LFxuICAgICAgKSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSZWdpb25SdWxlKCk6IHZvaWQge1xuICAgIHRoaXMuaW5zaWRlUmVnaW9uID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXJ0U2VsZWN0b3JSdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBzdGFydFBhZ2VSdWxlKCk6IHZvaWQge1xuICAgIGNvbnN0IHBhZ2VIYW5kbGVyID0gbmV3IENzc1BhZ2UuUGFnZVBhcnNlckhhbmRsZXIoXG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucGFnZVNjb3BlLFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMudmFsaWRhdG9yU2V0LFxuICAgICAgdGhpcy5tYXN0ZXJIYW5kbGVyLnBhZ2VQcm9wcyxcbiAgICApO1xuICAgIHRoaXMubWFzdGVySGFuZGxlci5wdXNoSGFuZGxlcihwYWdlSGFuZGxlcik7XG4gICAgcGFnZUhhbmRsZXIuc3RhcnRQYWdlUnVsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgc3RhcnRSdWxlQm9keSgpOiB2b2lkIHtcbiAgICBDc3NDYXNjYWRlLkNhc2NhZGVQYXJzZXJIYW5kbGVyLnByb3RvdHlwZS5zdGFydFJ1bGVCb2R5LmNhbGwodGhpcyk7XG4gICAgaWYgKHRoaXMuaW5zaWRlUmVnaW9uKSB7XG4gICAgICB0aGlzLmluc2lkZVJlZ2lvbiA9IGZhbHNlO1xuICAgICAgY29uc3QgcmVnaW9uSWQgPSBgUiR7dGhpcy5tYXN0ZXJIYW5kbGVyLnJlZ2lvbkNvdW50Kyt9YDtcbiAgICAgIHRoaXMuc3BlY2lhbChcInJlZ2lvbi1pZFwiLCBDc3MuZ2V0TmFtZShyZWdpb25JZCkpO1xuICAgICAgdGhpcy5lbmRSdWxlKCk7XG4gICAgICBjb25zdCByZWdpb25IYW5kbGVyID0gbmV3IEJhc2VQYXJzZXJIYW5kbGVyKFxuICAgICAgICB0aGlzLm1hc3RlckhhbmRsZXIsXG4gICAgICAgIHRoaXMuY29uZGl0aW9uLFxuICAgICAgICB0aGlzLFxuICAgICAgICByZWdpb25JZCxcbiAgICAgICk7XG4gICAgICB0aGlzLm1hc3RlckhhbmRsZXIucHVzaEhhbmRsZXIocmVnaW9uSGFuZGxlcik7XG4gICAgICByZWdpb25IYW5kbGVyLnN0YXJ0UnVsZUJvZHkoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gb3ZlcnJpZGUsIHNvIHdlIGRvbid0IHJlZ2lzdGVyIGFuIGVycm9yXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1ZpZXdwb3J0TWV0YShtZXRhOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgbGV0IGNvbnRlbnQgPSBtZXRhLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG4gIGlmICghY29udGVudCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGNvbnN0IHZhbHMgPSB7fTtcbiAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG4gIHdoaWxlIChcbiAgICAociA9IGNvbnRlbnQubWF0Y2goXG4gICAgICAvXiw/XFxzKihbLUEtWmEtel8uXVstQS1aYS16XzAtOS5dKilcXHMqPVxccyooWy0rQS1aYS16XzAtOS5dKilcXHMqLyxcbiAgICApKSAhPSBudWxsXG4gICkge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cihyWzBdLmxlbmd0aCk7XG4gICAgdmFsc1tyWzFdXSA9IHJbMl07XG4gIH1cbiAgY29uc3Qgd2lkdGggPSB2YWxzW1wid2lkdGhcIl0gLSAwO1xuICBjb25zdCBoZWlnaHQgPSB2YWxzW1wiaGVpZ2h0XCJdIC0gMDtcbiAgaWYgKHdpZHRoICYmIGhlaWdodCkge1xuICAgIHJldHVybiBgQC1lcHVieC12aWV3cG9ydHt3aWR0aDoke3dpZHRofXB4O2hlaWdodDoke2hlaWdodH1weDt9YDtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuZXhwb3J0IGNsYXNzIFN0eWxlUGFyc2VySGFuZGxlciBleHRlbmRzIENzc1BhcnNlci5EaXNwYXRjaFBhcnNlckhhbmRsZXIge1xuICByb290U2NvcGU6IEV4cHJzLkxleGljYWxTY29wZTtcbiAgcGFnZVNjb3BlOiBFeHBycy5MZXhpY2FsU2NvcGU7XG4gIHJvb3RCb3g6IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3g7XG4gIGNhc2NhZGVQYXJzZXJIYW5kbGVyOiBCYXNlUGFyc2VySGFuZGxlcjtcbiAgcmVnaW9uQ291bnQ6IG51bWJlciA9IDA7XG4gIGZvbnRGYWNlcyA9IFtdIGFzIEZvbnRGYWNlW107XG4gIGZvb3Rub3RlUHJvcHMgPSB7fSBhcyBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZTtcbiAgZmxvd1Byb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9O1xuICB2aWV3cG9ydFByb3BzID0gW10gYXMgQ3NzQ2FzY2FkZS5FbGVtZW50U3R5bGVbXTtcbiAgcGFnZVByb3BzID0ge30gYXMgeyBba2V5OiBzdHJpbmddOiBDc3NDYXNjYWRlLkVsZW1lbnRTdHlsZSB9O1xuICBzbGF2ZTogQmFzZVBhcnNlckhhbmRsZXI7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHJlYWRvbmx5IHZhbGlkYXRvclNldDogQ3NzVmFsaWRhdG9yLlZhbGlkYXRvclNldCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5yb290U2NvcGUgPSBuZXcgRXhwcnMuTGV4aWNhbFNjb3BlKG51bGwpO1xuICAgIHRoaXMucGFnZVNjb3BlID0gbmV3IEV4cHJzLkxleGljYWxTY29wZSh0aGlzLnJvb3RTY29wZSk7XG4gICAgdGhpcy5yb290Qm94ID0gbmV3IFBhZ2VNYXN0ZXIuUm9vdFBhZ2VCb3godGhpcy5yb290U2NvcGUpO1xuICAgIHRoaXMuY2FzY2FkZVBhcnNlckhhbmRsZXIgPSBuZXcgQmFzZVBhcnNlckhhbmRsZXIodGhpcywgbnVsbCwgbnVsbCwgbnVsbCk7XG4gICAgdGhpcy5zbGF2ZSA9IHRoaXMuY2FzY2FkZVBhcnNlckhhbmRsZXI7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBlcnJvcihtbmVtb25pY3M6IHN0cmluZywgdG9rZW46IENzc1Rva2VuaXplci5Ub2tlbik6IHZvaWQge1xuICAgIExvZ2dpbmcubG9nZ2VyLndhcm4oXCJDU1MgcGFyc2VyOlwiLCBtbmVtb25pY3MpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFN0eWxlU291cmNlID0ge1xuICB1cmw6IHN0cmluZztcbiAgdGV4dDogc3RyaW5nIHwgbnVsbDtcbiAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvcjtcbiAgY2xhc3Nlczogc3RyaW5nIHwgbnVsbDtcbiAgbWVkaWE6IHN0cmluZyB8IG51bGw7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPUFNSZXNvdXJjZShcbiAgcmVzcG9uc2U6IE5ldC5SZXNwb25zZSxcbiAgc3RvcmU6IFhtbERvYy5YTUxEb2NTdG9yZSxcbik6IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgcmV0dXJuIChzdG9yZSBhcyBPUFNEb2NTdG9yZSkucGFyc2VPUFNSZXNvdXJjZShyZXNwb25zZSk7XG59XG5cbmV4cG9ydCBjbGFzcyBPUFNEb2NTdG9yZSBleHRlbmRzIE5ldC5SZXNvdXJjZVN0b3JlPFhtbERvYy5YTUxEb2NIb2xkZXI+IHtcbiAgc3R5bGVCeUtleTogeyBba2V5OiBzdHJpbmddOiBTdHlsZSB9ID0ge307XG4gIHN0eWxlRmV0Y2hlckJ5S2V5OiB7IFtrZXk6IHN0cmluZ106IFRhc2tVdGlsLkZldGNoZXI8U3R5bGU+IH0gPSB7fTtcbiAgc3R5bGVCeURvY1VSTDogeyBba2V5OiBzdHJpbmddOiBTdHlsZSB9ID0ge307XG4gIHRyaWdnZXJzQnlEb2NVUkw6IHsgW2tleTogc3RyaW5nXTogVnRyZWUuVHJpZ2dlcltdIH0gPSB7fTtcbiAgdmFsaWRhdG9yU2V0OiBDc3NWYWxpZGF0b3IuVmFsaWRhdG9yU2V0ID0gbnVsbDtcbiAgcHJpdmF0ZSBzdHlsZVNoZWV0czogU3R5bGVTb3VyY2VbXSA9IFtdO1xuICBwcml2YXRlIHRyaWdnZXJTaW5nbGVEb2N1bWVudFByZXByb2Nlc3Npbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgZm9udERlb2JmdXNjYXRvcjpcbiAgICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgICAgfCBudWxsLFxuICApIHtcbiAgICBzdXBlcihwYXJzZU9QU1Jlc291cmNlLCBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuRE9DVU1FTlQpO1xuICB9XG5cbiAgaW5pdChcbiAgICBhdXRob3JTdHlsZVNoZWV0czogeyB1cmw6IHN0cmluZyB8IG51bGw7IHRleHQ6IHN0cmluZyB8IG51bGwgfVtdIHwgbnVsbCxcbiAgICB1c2VyU3R5bGVTaGVldHM6IHsgdXJsOiBzdHJpbmcgfCBudWxsOyB0ZXh0OiBzdHJpbmcgfCBudWxsIH1bXSB8IG51bGwsXG4gICk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLnNldFN0eWxlU2hlZXRzKGF1dGhvclN0eWxlU2hlZXRzIGFzIGFueSwgdXNlclN0eWxlU2hlZXRzIGFzIGFueSk7XG4gICAgY29uc3QgdXNlckFnZW50WE1MID0gQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgXCJ1c2VyLWFnZW50LnhtbFwiLFxuICAgICAgQmFzZS5yZXNvdXJjZUJhc2VVUkwsXG4gICAgKTtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8Ym9vbGVhbj4oXCJPUFNEb2NTdG9yZS5pbml0XCIpO1xuICAgIHRoaXMudmFsaWRhdG9yU2V0ID0gQ3NzVmFsaWRhdG9yLmJhc2VWYWxpZGF0b3JTZXQoKTtcbiAgICBsb2FkVUFCYXNlKCkudGhlbigoKSA9PiB7XG4gICAgICB0aGlzLmxvYWQodXNlckFnZW50WE1MKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy50cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nID0gdHJ1ZTtcbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgZ2V0U3R5bGVGb3JEb2MoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogU3R5bGUge1xuICAgIHJldHVybiB0aGlzLnN0eWxlQnlEb2NVUkxbeG1sZG9jLnVybF07XG4gIH1cblxuICBnZXRUcmlnZ2Vyc0ZvckRvYyh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpOiBWdHJlZS5UcmlnZ2VyW10ge1xuICAgIHJldHVybiB0aGlzLnRyaWdnZXJzQnlEb2NVUkxbeG1sZG9jLnVybF07XG4gIH1cblxuICAvKipcbiAgICogU2V0IGF1dGhvciBzdHlsZXNoZWV0cyBhbmQgdXNlciBzdHlsZXNoZWV0cy4gRXhpc3Rpbmcgc3R5bGUgc2hlZXRzIGFyZVxuICAgKiByZW1vdmVkLlxuICAgKi9cbiAgcHJpdmF0ZSBzZXRTdHlsZVNoZWV0cyhcbiAgICBhdXRob3JTdHlsZVNoZWV0czogU3R5bGVTb3VyY2VbXSB8IG51bGwsXG4gICAgdXNlclN0eWxlU2hlZXRzOiBTdHlsZVNvdXJjZVtdIHwgbnVsbCxcbiAgKSB7XG4gICAgdGhpcy5jbGVhclN0eWxlU2hlZXRzKCk7XG4gICAgaWYgKGF1dGhvclN0eWxlU2hlZXRzKSB7XG4gICAgICBhdXRob3JTdHlsZVNoZWV0cy5mb3JFYWNoKHRoaXMuYWRkQXV0aG9yU3R5bGVTaGVldCwgdGhpcyk7XG4gICAgfVxuICAgIGlmICh1c2VyU3R5bGVTaGVldHMpIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0cy5mb3JFYWNoKHRoaXMuYWRkVXNlclN0eWxlU2hlZXQsIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY2xlYXJTdHlsZVNoZWV0cygpIHtcbiAgICB0aGlzLnN0eWxlU2hlZXRzLnNwbGljZSgwKTtcbiAgfVxuXG4gIHByaXZhdGUgYWRkQXV0aG9yU3R5bGVTaGVldChzdHlsZXNoZWV0OiBTdHlsZVNvdXJjZSkge1xuICAgIGxldCB1cmwgPSBzdHlsZXNoZWV0LnVybDtcbiAgICBpZiAodXJsKSB7XG4gICAgICB1cmwgPSBCYXNlLnJlc29sdmVVUkwoQmFzZS5jb252ZXJ0U3BlY2lhbFVSTCh1cmwpLCBCYXNlLmJhc2VVUkwpO1xuICAgIH1cbiAgICB0aGlzLnN0eWxlU2hlZXRzLnB1c2goe1xuICAgICAgdXJsLFxuICAgICAgdGV4dDogc3R5bGVzaGVldC50ZXh0LFxuICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5BVVRIT1IsXG4gICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgbWVkaWE6IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFkZFVzZXJTdHlsZVNoZWV0KHN0eWxlc2hlZXQ6IFN0eWxlU291cmNlKSB7XG4gICAgbGV0IHVybCA9IHN0eWxlc2hlZXQudXJsO1xuICAgIGlmICh1cmwpIHtcbiAgICAgIHVybCA9IEJhc2UucmVzb2x2ZVVSTChCYXNlLmNvbnZlcnRTcGVjaWFsVVJMKHVybCksIEJhc2UuYmFzZVVSTCk7XG4gICAgfVxuICAgIHRoaXMuc3R5bGVTaGVldHMucHVzaCh7XG4gICAgICB1cmwsXG4gICAgICB0ZXh0OiBzdHlsZXNoZWV0LnRleHQsXG4gICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLlVTRVIsXG4gICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgbWVkaWE6IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBwYXJzZU9QU1Jlc291cmNlKHJlc3BvbnNlOiBOZXQuUmVzcG9uc2UpOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8WG1sRG9jLlhNTERvY0hvbGRlcj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJPUFNEb2NTdG9yZS5sb2FkXCIsXG4gICAgKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCB1cmwgPSByZXNwb25zZS51cmw7XG5cbiAgICAvLyBIYWNrIGZvciBUT0NWaWV3LnNob3dUT0MoKVxuICAgIGNvbnN0IGlzVG9jQm94ID0gdXJsLmVuZHNXaXRoKFwiP3Zpdi10b2MtYm94XCIpO1xuXG4gICAgWG1sRG9jLnBhcnNlWE1MUmVzb3VyY2UocmVzcG9uc2UsIHNlbGYpLnRoZW4oXG4gICAgICAoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKSA9PiB7XG4gICAgICAgIGlmICgheG1sZG9jKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZi50cmlnZ2VyU2luZ2xlRG9jdW1lbnRQcmVwcm9jZXNzaW5nKSB7XG4gICAgICAgICAgY29uc3QgaG9va3M6IFBsdWdpbi5QcmVQcm9jZXNzU2luZ2xlRG9jdW1lbnRIb29rW10gPSBQbHVnaW4uZ2V0SG9va3NGb3JOYW1lKFxuICAgICAgICAgICAgUGx1Z2luLkhPT0tTLlBSRVBST0NFU1NfU0lOR0xFX0RPQ1VNRU5ULFxuICAgICAgICAgICk7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaG9va3NbaV0oeG1sZG9jLmRvY3VtZW50KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihcbiAgICAgICAgICAgICAgICBcIkVycm9yIGR1cmluZyBzaW5nbGUgZG9jdW1lbnQgcHJlcHJvY2Vzc2luZzpcIixcbiAgICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmlnZ2VycyA9IFtdO1xuICAgICAgICBjb25zdCB0cmlnZ2VyTGlzdCA9IHhtbGRvYy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZU5TKFxuICAgICAgICAgIEJhc2UuTlMuZXB1YixcbiAgICAgICAgICBcInRyaWdnZXJcIixcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0cmlnZ2VyTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHRyaWdnZXJFbGVtID0gdHJpZ2dlckxpc3RbaV07XG4gICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB0cmlnZ2VyRWxlbS5nZXRBdHRyaWJ1dGVOUyhCYXNlLk5TLkVWLCBcIm9ic2VydmVyXCIpO1xuICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlTlMoQmFzZS5OUy5FViwgXCJldmVudFwiKTtcbiAgICAgICAgICBjb25zdCBhY3Rpb24gPSB0cmlnZ2VyRWxlbS5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIik7XG4gICAgICAgICAgY29uc3QgcmVmID0gdHJpZ2dlckVsZW0uZ2V0QXR0cmlidXRlKFwicmVmXCIpO1xuICAgICAgICAgIGlmIChvYnNlcnZlciAmJiBldmVudCAmJiBhY3Rpb24gJiYgcmVmKSB7XG4gICAgICAgICAgICB0cmlnZ2Vycy5wdXNoKHsgb2JzZXJ2ZXIsIGV2ZW50LCBhY3Rpb24sIHJlZiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi50cmlnZ2Vyc0J5RG9jVVJMW3VybF0gPSB0cmlnZ2VycztcbiAgICAgICAgY29uc3Qgc291cmNlcyA9IFtdIGFzIFN0eWxlU291cmNlW107XG4gICAgICAgIGNvbnN0IHVzZXJBZ2VudFVSTCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgICAgICBcInVzZXItYWdlbnQtcGFnZS5jc3NcIixcbiAgICAgICAgICBCYXNlLnJlc291cmNlQmFzZVVSTCxcbiAgICAgICAgKTtcbiAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICB1cmw6IHVzZXJBZ2VudFVSTCxcbiAgICAgICAgICB0ZXh0OiBVc2VyQWdlbnRQYWdlQ3NzLFxuICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuVVNFUl9BR0VOVCxcbiAgICAgICAgICBjbGFzc2VzOiBudWxsLFxuICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgaGVhZCA9IHhtbGRvYy5oZWFkO1xuICAgICAgICBpZiAoIWlzVG9jQm94ICYmIGhlYWQpIHtcbiAgICAgICAgICBmb3IgKGxldCBjOiBOb2RlID0gaGVhZC5maXJzdENoaWxkOyBjOyBjID0gYy5uZXh0U2libGluZykge1xuICAgICAgICAgICAgaWYgKGMubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gYyBhcyBFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgbnMgPSBjaGlsZC5uYW1lc3BhY2VVUkk7XG4gICAgICAgICAgICBjb25zdCBsb2NhbE5hbWUgPSBjaGlsZC5sb2NhbE5hbWU7XG4gICAgICAgICAgICBpZiAobnMgPT0gQmFzZS5OUy5YSFRNTCkge1xuICAgICAgICAgICAgICBpZiAobG9jYWxOYW1lID09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgc291cmNlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgIHRleHQ6IGNoaWxkLnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgZmxhdm9yOiBDc3NQYXJzZXIuU3R5bGVzaGVldEZsYXZvci5BVVRIT1IsXG4gICAgICAgICAgICAgICAgICBjbGFzc2VzOiB0aXRsZSA/IGNsYXNzZXMgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbWVkaWEsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYWxOYW1lID09IFwibGlua1wiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwicmVsXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXNzZXMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtZWRpYSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHJlbCA9PSBcInN0eWxlc2hlZXRcIiB8fFxuICAgICAgICAgICAgICAgICAgKHJlbCA9PSBcImFsdGVybmF0ZSBzdHlsZXNoZWV0XCIgJiYgY2xhc3NlcylcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGxldCBzcmMgPSBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgICAgICAgICAgc3JjID0gQmFzZS5yZXNvbHZlVVJMKHNyYywgdXJsKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gY2hpbGQuZ2V0QXR0cmlidXRlKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogdGl0bGUgPyBjbGFzc2VzIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEsXG4gICAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIGxvY2FsTmFtZSA9PSBcIm1ldGFcIiAmJlxuICAgICAgICAgICAgICAgIGNoaWxkLmdldEF0dHJpYnV0ZShcIm5hbWVcIikgPT0gXCJ2aWV3cG9ydFwiXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHNvdXJjZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9jZXNzVmlld3BvcnRNZXRhKGNoaWxkKSxcbiAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG1lZGlhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5zID09IEJhc2UuTlMuRkIyKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBsb2NhbE5hbWUgPT0gXCJzdHlsZXNoZWV0XCIgJiZcbiAgICAgICAgICAgICAgICBjaGlsZC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpID09IFwidGV4dC9jc3NcIlxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgICAgdGV4dDogY2hpbGQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICBmbGF2b3I6IENzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yLkFVVEhPUixcbiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICBtZWRpYTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChucyA9PSBCYXNlLk5TLlNTRSAmJiBsb2NhbE5hbWUgPT09IFwicHJvcGVydHlcIikge1xuICAgICAgICAgICAgICAvLyBsb29rIGZvciBzdHlsZXNoZWV0IHNwZWNpZmljYXRpb24gbGlrZTpcbiAgICAgICAgICAgICAgLy8gPHByb3BlcnR5PjxuYW1lPnN0eWxlc2hlZXQ8L25hbWU+PHZhbHVlPnN0eWxlLmNzczwvdmFsdWU+PC9wcm9wZXJ0eT5cbiAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGNoaWxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibmFtZVwiKVswXTtcbiAgICAgICAgICAgICAgaWYgKG5hbWUgJiYgbmFtZS50ZXh0Q29udGVudCA9PT0gXCJzdHlsZXNoZWV0XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNoaWxkLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidmFsdWVcIilbMF07XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzcmMgPSBCYXNlLnJlc29sdmVVUkwodmFsdWUudGV4dENvbnRlbnQsIHVybCk7XG4gICAgICAgICAgICAgICAgICBzb3VyY2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB1cmw6IHNyYyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbWVkaWE6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGZsYXZvcjogQ3NzUGFyc2VyLlN0eWxlc2hlZXRGbGF2b3IuQVVUSE9SLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNUb2NCb3gpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGYuc3R5bGVTaGVldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHNvdXJjZXMucHVzaChzZWxmLnN0eWxlU2hlZXRzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGtleSA9IFwiXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGtleSArPSBzb3VyY2VzW2ldLnVybDtcbiAgICAgICAgICBrZXkgKz0gXCJeXCI7XG4gICAgICAgICAgaWYgKHNvdXJjZXNbaV0udGV4dCkge1xuICAgICAgICAgICAga2V5ICs9IHNvdXJjZXNbaV0udGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgICAga2V5ICs9IFwiXlwiO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdHlsZSA9IHNlbGYuc3R5bGVCeUtleVtrZXldO1xuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICBzZWxmLnN0eWxlQnlEb2NVUkxbdXJsXSA9IHN0eWxlO1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh4bWxkb2MpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZmV0Y2hlciA9IHNlbGYuc3R5bGVGZXRjaGVyQnlLZXlba2V5XTtcbiAgICAgICAgaWYgKCFmZXRjaGVyKSB7XG4gICAgICAgICAgZmV0Y2hlciA9IG5ldyBUYXNrVXRpbC5GZXRjaGVyKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8U3R5bGU+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgICAgICAgICAgXCJmZXRjaFN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICAgICAgY29uc3Qgc3BoID0gbmV3IFN0eWxlUGFyc2VySGFuZGxlcihzZWxmLnZhbGlkYXRvclNldCk7XG4gICAgICAgICAgICBpbm5lckZyYW1lXG4gICAgICAgICAgICAgIC5sb29wKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCBzb3VyY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc291cmNlID0gc291cmNlc1tpbmRleCsrXTtcbiAgICAgICAgICAgICAgICAgIHNwaC5zdGFydFN0eWxlc2hlZXQoc291cmNlLmZsYXZvcik7XG4gICAgICAgICAgICAgICAgICBpZiAoc291cmNlLnRleHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENzc1BhcnNlci5wYXJzZVN0eWxlc2hlZXRGcm9tVGV4dChcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICBzcGgsXG4gICAgICAgICAgICAgICAgICAgICAgc291cmNlLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UubWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICkudGhlblJldHVybih0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBDc3NQYXJzZXIucGFyc2VTdHlsZXNoZWV0RnJvbVVSTChcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UudXJsLFxuICAgICAgICAgICAgICAgICAgICAgIHNwaCxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UuY2xhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UubWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChmYWxzZSk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjYXNjYWRlID0gc3BoLmNhc2NhZGVQYXJzZXJIYW5kbGVyLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgIHN0eWxlID0gbmV3IFN0eWxlKFxuICAgICAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAgICAgIHNwaC5yb290U2NvcGUsXG4gICAgICAgICAgICAgICAgICBzcGgucGFnZVNjb3BlLFxuICAgICAgICAgICAgICAgICAgY2FzY2FkZSxcbiAgICAgICAgICAgICAgICAgIHNwaC5yb290Qm94LFxuICAgICAgICAgICAgICAgICAgc3BoLmZvbnRGYWNlcyxcbiAgICAgICAgICAgICAgICAgIHNwaC5mb290bm90ZVByb3BzLFxuICAgICAgICAgICAgICAgICAgc3BoLmZsb3dQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHNwaC52aWV3cG9ydFByb3BzLFxuICAgICAgICAgICAgICAgICAgc3BoLnBhZ2VQcm9wcyxcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHNlbGYuc3R5bGVCeUtleVtrZXldID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHNlbGYuc3R5bGVGZXRjaGVyQnlLZXlba2V5XTtcbiAgICAgICAgICAgICAgICBpbm5lckZyYW1lLmZpbmlzaChzdHlsZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGlubmVyRnJhbWUucmVzdWx0KCk7XG4gICAgICAgICAgfSwgYEZldGNoU3R5bGVzaGVldCAke3VybH1gKTtcbiAgICAgICAgICBzZWxmLnN0eWxlRmV0Y2hlckJ5S2V5W2tleV0gPSBmZXRjaGVyO1xuICAgICAgICAgIGZldGNoZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBmZXRjaGVyLmdldCgpLnRoZW4oKHN0eWxlKSA9PiB7XG4gICAgICAgICAgc2VsZi5zdHlsZUJ5RG9jVVJMW3VybF0gPSBzdHlsZTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeG1sZG9jKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTcgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFNoYTEgLSBDYWxjdWxhdGUgU0hBMSBoYXNoIG9mIHRoZSBnaXZlbiBjb250ZW50LlxuICovXG5pbXBvcnQgKiBhcyBCYXNlIGZyb20gXCIuL2Jhc2VcIjtcblxuLyoqXG4gKiBAcmV0dXJuIGJpZy1lbmRpYW4gYnl0ZSBzZXF1ZW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5jb2RlMzIobjogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgKG4gPj4+IDI0KSAmIDI1NSxcbiAgICAobiA+Pj4gMTYpICYgMjU1LFxuICAgIChuID4+PiA4KSAmIDI1NSxcbiAgICBuICYgMjU1LFxuICApO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBiaWctZW5kaWFuIGJ5dGUgc2VxdWVuY2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZTMyKGJ5dGVzOiBzdHJpbmcpOiBudW1iZXIge1xuICAvLyBJbXBvcnRhbnQgZmFjdHM6IFwiXCIuY2hhckNvZGVBdCgwKSA9PSBOYU4sIE5hTiAmIDB4RkYgPT0gMFxuICBjb25zdCBiMCA9IGJ5dGVzLmNoYXJDb2RlQXQoMCkgJiAyNTU7XG4gIGNvbnN0IGIxID0gYnl0ZXMuY2hhckNvZGVBdCgxKSAmIDI1NTtcbiAgY29uc3QgYjIgPSBieXRlcy5jaGFyQ29kZUF0KDIpICYgMjU1O1xuICBjb25zdCBiMyA9IGJ5dGVzLmNoYXJDb2RlQXQoMykgJiAyNTU7XG4gIHJldHVybiAoYjAgPDwgMjQpIHwgKGIxIDw8IDE2KSB8IChiMiA8PCA4KSB8IGIzO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBjaGFycyB3aXRoIGNvZGVzIDAgLSAyNTUgdGhhdCByZXByZXNlbnQgbWVzc2FnZSBieXRlIHZhbHVlc1xuICogQHJldHVybiBiaWctZW5kaWFuIHVpbnQzMiBudW1iZXJzIHJlcHJlc2VudGluZyBzaGExIGhhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExSW50MzIoYnl0ZXM6IHN0cmluZyk6IG51bWJlcltdIHtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgc2IuYXBwZW5kKGJ5dGVzKTtcbiAgbGV0IGFwcGVuZENvdW50ID0gKDU1IC0gYnl0ZXMubGVuZ3RoKSAmIDYzO1xuICBzYi5hcHBlbmQoXCJcXHUwMDgwXCIpO1xuICB3aGlsZSAoYXBwZW5kQ291bnQgPiAwKSB7XG4gICAgYXBwZW5kQ291bnQtLTtcbiAgICBzYi5hcHBlbmQoXCJcXHgwMFwiKTtcbiAgfVxuICBzYi5hcHBlbmQoXCJcXHgwMFxceDAwXFx4MDBcXHgwMFwiKTtcbiAgc2IuYXBwZW5kKGVuY29kZTMyKGJ5dGVzLmxlbmd0aCAqIDgpKTtcbiAgYnl0ZXMgPSBzYi50b1N0cmluZygpO1xuICBjb25zdCBoID0gWzE3MzI1ODQxOTMsIDQwMjMyMzM0MTcsIDI1NjIzODMxMDIsIDI3MTczMzg3OCwgMzI4NTM3NzUyMF07XG4gIGNvbnN0IHcgPVxuICAgIC8qKiBAdHlwZSBBcnJheS48bnVtYmVyPiAqL1xuICAgIFtdIGFzIG51bWJlcltdO1xuICBsZXQgaTogbnVtYmVyO1xuICBmb3IgKGxldCBiaSA9IDA7IGJpIDwgYnl0ZXMubGVuZ3RoOyBiaSArPSA2NCkge1xuICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICB3W2ldID0gZGVjb2RlMzIoYnl0ZXMuc3Vic3RyKGJpICsgNCAqIGksIDQpKTtcbiAgICB9XG4gICAgZm9yICg7IGkgPCA4MDsgaSsrKSB7XG4gICAgICBjb25zdCBxID0gd1tpIC0gM10gXiB3W2kgLSA4XSBeIHdbaSAtIDE0XSBeIHdbaSAtIDE2XTtcbiAgICAgIHdbaV0gPSAocSA8PCAxKSB8IChxID4+PiAzMSk7XG4gICAgfVxuICAgIGxldCBhID0gaFswXTtcbiAgICBsZXQgYiA9IGhbMV07XG4gICAgbGV0IGMgPSBoWzJdO1xuICAgIGxldCBkID0gaFszXTtcbiAgICBsZXQgZSA9IGhbNF07XG4gICAgbGV0IGY6IG51bWJlcjtcbiAgICBmb3IgKGkgPSAwOyBpIDwgODA7IGkrKykge1xuICAgICAgaWYgKGkgPCAyMCkge1xuICAgICAgICBmID0gKChiICYgYykgfCAofmIgJiBkKSkgKyAxNTE4NTAwMjQ5O1xuICAgICAgfSBlbHNlIGlmIChpIDwgNDApIHtcbiAgICAgICAgZiA9IChiIF4gYyBeIGQpICsgMTg1OTc3NTM5MztcbiAgICAgIH0gZWxzZSBpZiAoaSA8IDYwKSB7XG4gICAgICAgIGYgPSAoKGIgJiBjKSB8IChiICYgZCkgfCAoYyAmIGQpKSArIDI0MDA5NTk3MDg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmID0gKGIgXiBjIF4gZCkgKyAzMzk1NDY5NzgyO1xuICAgICAgfVxuICAgICAgZiArPSAoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGUgKyB3W2ldO1xuICAgICAgZSA9IGQ7XG4gICAgICBkID0gYztcbiAgICAgIGMgPSAoYiA8PCAzMCkgfCAoYiA+Pj4gMik7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBmO1xuICAgIH1cbiAgICBoWzBdID0gKGhbMF0gKyBhKSB8IDA7XG4gICAgaFsxXSA9IChoWzFdICsgYikgfCAwO1xuICAgIGhbMl0gPSAoaFsyXSArIGMpIHwgMDtcbiAgICBoWzNdID0gKGhbM10gKyBkKSB8IDA7XG4gICAgaFs0XSA9IChoWzRdICsgZSkgfCAwO1xuICB9XG4gIHJldHVybiBoO1xufVxuXG4vKipcbiAqIEBwYXJhbSBieXRlcyBjaGFycyB3aXRoIGNvZGVzIDAgLSAyNTUgdGhhdCByZXByZXNlbnQgbWVzc2FnZSBieXRlIHZhbHVlc1xuICogQHJldHVybiB1aW50OCBudW1iZXJzIHJlcHJlc2VudGluZyBzaGExIGhhc2hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExSW50OChieXRlczogc3RyaW5nKTogbnVtYmVyW10ge1xuICBjb25zdCBoID0gYnl0ZXNUb1NIQTFJbnQzMihieXRlcyk7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBmb3IgKGNvbnN0IG4gb2YgaCkge1xuICAgIHJlcy5wdXNoKChuID4+PiAyNCkgJiAyNTUsIChuID4+PiAxNikgJiAyNTUsIChuID4+PiA4KSAmIDI1NSwgbiAmIDI1NSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IGVxdWFsIHRvIFNIQTEgaGFzaCBvZiB0aGUgaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExQnl0ZXMoYnl0ZXM6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGggPSBieXRlc1RvU0hBMUludDMyKGJ5dGVzKTtcbiAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBoLmxlbmd0aDsgaSsrKSB7XG4gICAgc2IuYXBwZW5kKGVuY29kZTMyKGhbaV0pKTtcbiAgfVxuICByZXR1cm4gc2IudG9TdHJpbmcoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gYnl0ZXMgY2hhcnMgd2l0aCBjb2RlcyAwIC0gMjU1IHRoYXQgcmVwcmVzZW50IG1lc3NhZ2UgYnl0ZSB2YWx1ZXNcbiAqIEByZXR1cm4gaGV4LWVuY29kZWQgU0hBMSBoYXNoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBieXRlc1RvU0hBMUhleChieXRlczogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgc2hhMSA9IGJ5dGVzVG9TSEExQnl0ZXMoYnl0ZXMpO1xuICBjb25zdCBzYiA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNoYTEubGVuZ3RoOyBpKyspIHtcbiAgICBzYi5hcHBlbmQoKHNoYTEuY2hhckNvZGVBdChpKSB8IDI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG4gIH1cbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQHBhcmFtIGJ5dGVzIGNoYXJzIHdpdGggY29kZXMgMCAtIDI1NSB0aGF0IHJlcHJlc2VudCBtZXNzYWdlIGJ5dGUgdmFsdWVzXG4gKiBAcmV0dXJuIGJhc2U2NC1lbmNvZGVkIFNIQTEgaGFzaCBvZiB0aGUgaW5wdXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ5dGVzVG9TSEExQmFzZTY0KGJ5dGVzOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBzaGExID0gYnl0ZXNUb1NIQTFCeXRlcyhieXRlcyk7XG4gIGNvbnN0IHNiID0gbmV3IEJhc2UuU3RyaW5nQnVmZmVyKCk7XG4gIEJhc2UuYXBwZW5kQmFzZTY0KHNiLCBzaGExKTtcbiAgcmV0dXJuIHNiLnRvU3RyaW5nKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDEzIEdvb2dsZSwgSW5jLlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZS5qcy4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqXG4gKiBAZmlsZW92ZXJ2aWV3IFRvYyAtIFRhYmxlIG9mIENvbnRlbnRzIHZpZXcuXG4gKi9cbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ291bnRlcnMgZnJvbSBcIi4vY291bnRlcnNcIjtcbmltcG9ydCAqIGFzIENzcyBmcm9tIFwiLi9jc3NcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIE9QUyBmcm9tIFwiLi9vcHNcIjtcbmltcG9ydCAqIGFzIFRhc2sgZnJvbSBcIi4vdGFza1wiO1xuaW1wb3J0ICogYXMgVmdlbiBmcm9tIFwiLi92Z2VuXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuaW1wb3J0ICogYXMgWG1sRG9jIGZyb20gXCIuL3htbC1kb2NcIjtcblxuLy8gY2xvc2VkOiAyNUI4XG4vLyBvcGVuOiAyNUJFXG4vLyBlbXB0eTogMjVCOVxuZXhwb3J0IGNvbnN0IGJ1bGxldENsb3NlZCA9IFwiXFx1MjViOFwiO1xuXG5leHBvcnQgY29uc3QgYnVsbGV0T3BlbiA9IFwiXFx1MjViZVwiO1xuXG5leHBvcnQgY29uc3QgYnVsbGV0RW1wdHkgPSBcIlxcdTI1YjlcIjtcblxuZXhwb3J0IHR5cGUgVE9DSXRlbSA9IHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgY2hpbGRyZW46IFRPQ0l0ZW1bXTtcbn07XG5cbmV4cG9ydCBjbGFzcyBUT0NWaWV3IGltcGxlbWVudHMgVmdlbi5DdXN0b21SZW5kZXJlckZhY3Rvcnkge1xuICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcztcbiAgcGFnZTogVnRyZWUuUGFnZSA9IG51bGw7XG4gIGluc3RhbmNlOiBPUFMuU3R5bGVJbnN0YW5jZSA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHN0b3JlOiBPUFMuT1BTRG9jU3RvcmUsXG4gICAgcHVibGljIHJlYWRvbmx5IHVybDogc3RyaW5nLFxuICAgIHB1YmxpYyByZWFkb25seSBsYW5nOiBzdHJpbmcgfCBudWxsLFxuICAgIHB1YmxpYyByZWFkb25seSBjbGllbnRMYXlvdXQ6IFZ0cmVlLkNsaWVudExheW91dCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udE1hcHBlcjogRm9udC5NYXBwZXIsXG4gICAgcHJlZjogRXhwcnMuUHJlZmVyZW5jZXMsXG4gICAgcHVibGljIHJlYWRvbmx5IHJlbmRlcmVyRmFjdG9yeTogVmdlbi5DdXN0b21SZW5kZXJlckZhY3RvcnksXG4gICAgcHVibGljIHJlYWRvbmx5IGZhbGxiYWNrTWFwOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9LFxuICAgIHB1YmxpYyByZWFkb25seSBkb2N1bWVudFVSTFRyYW5zZm9ybWVyOiBCYXNlLkRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvdW50ZXJTdG9yZTogQ291bnRlcnMuQ291bnRlclN0b3JlLFxuICApIHtcbiAgICB0aGlzLnByZWYgPSBFeHBycy5jbG9uZVByZWZlcmVuY2VzKHByZWYpO1xuICAgIHRoaXMucHJlZi5zcHJlYWRWaWV3ID0gZmFsc2U7IC8vIE5vIHNwcmVkIHZpZXcgZm9yIFRPQyBib3hcbiAgfVxuXG4gIHNldEF1dG9IZWlnaHQoZWxlbTogRWxlbWVudCwgZGVwdGg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmIChkZXB0aC0tID09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZm9yIChsZXQgYzogTm9kZSA9IGVsZW0uZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgIGlmIChjLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgY29uc3QgZSA9IGMgYXMgRWxlbWVudDtcbiAgICAgICAgaWYgKEJhc2UuZ2V0Q1NTUHJvcGVydHkoZSwgXCJoZWlnaHRcIiwgXCJhdXRvXCIpICE9IFwiYXV0b1wiKSB7XG4gICAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlLCBcImhlaWdodFwiLCBcImF1dG9cIik7XG4gICAgICAgICAgdGhpcy5zZXRBdXRvSGVpZ2h0KGUsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQmFzZS5nZXRDU1NQcm9wZXJ0eShlLCBcInBvc2l0aW9uXCIsIFwic3RhdGljXCIpID09IFwiYWJzb2x1dGVcIikge1xuICAgICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoZSwgXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIpO1xuICAgICAgICAgIHRoaXMuc2V0QXV0b0hlaWdodChlLCBkZXB0aCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogVmdlbi5DdXN0b21SZW5kZXJlciB7XG4gICAgY29uc3QgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyRmFjdG9yeS5tYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jKTtcbiAgICByZXR1cm4gKFxuICAgICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiA9PiB7XG4gICAgICBjb25zdCBiZWhhdmlvciA9IGNvbXB1dGVkU3R5bGVbXCJiZWhhdmlvclwiXTtcbiAgICAgIGlmIChiZWhhdmlvcikge1xuICAgICAgICBzd2l0Y2ggKGJlaGF2aW9yLnRvU3RyaW5nKCkpIHtcbiAgICAgICAgICBjYXNlIFwiYm9keS1jaGlsZFwiOlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzcmNFbGVtLnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS1wcmltYXJ5LWVudHJ5XCIsXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIXNyY0VsZW0ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICAgIFwiW3JvbGU9ZG9jLXRvY10sIFtyb2xlPWRpcmVjdG9yeV0sIG5hdiBsaSBhLCAudG9jLCAjdG9jXCIsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSBUT0MgZWxlbWVudCBpcyBhIHBhcnQgb2YgdGhlIHByaW1hdHkgZW50cnkgKFgpSFRNTCxcbiAgICAgICAgICAgICAgICAvLyBoaWRlIGVsZW1lbnRzIG5vdCBjb250YWluaW5nIFRPQy5cbiAgICAgICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiZGlzcGxheVwiXSA9IENzcy5pZGVudC5ub25lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwidG9jLW5vZGUtYW5jaG9yXCI6XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wiY29sb3JcIl0gPSBDc3MuaWRlbnQuaW5oZXJpdDtcbiAgICAgICAgICAgIGNvbXB1dGVkU3R5bGVbXCJ0ZXh0LWRlY29yYXRpb25cIl0gPSBDc3MuaWRlbnQubm9uZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0b2Mtbm9kZVwiOlxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPSBDc3MuaWRlbnQuYmxvY2s7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wibWFyZ2luXCJdID0gQ3NzLm51bWVyaWNaZXJvO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcInBhZGRpbmdcIl0gPSBDc3MubnVtZXJpY1plcm87XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1wicGFkZGluZy1pbmxpbmUtc3RhcnRcIl0gPSBuZXcgQ3NzLk51bWVyaWMoMS4yNSwgXCJlbVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ0b2Mtbm9kZS1maXJzdC1jaGlsZFwiOlxuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImRpc3BsYXlcIl0gPSBDc3MuaWRlbnQuaW5saW5lX2Jsb2NrO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcIm1hcmdpblwiXSA9IG5ldyBDc3MuTnVtZXJpYygwLjIsIFwiZW1cIik7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widmVydGljYWwtYWxpZ25cIl0gPSBDc3MuaWRlbnQudG9wO1xuICAgICAgICAgICAgY29tcHV0ZWRTdHlsZVtcImNvbG9yXCJdID0gQ3NzLmlkZW50LmluaGVyaXQ7XG4gICAgICAgICAgICBjb21wdXRlZFN0eWxlW1widGV4dC1kZWNvcmF0aW9uXCJdID0gQ3NzLmlkZW50Lm5vbmU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAhYmVoYXZpb3IgfHxcbiAgICAgICAgKGJlaGF2aW9yLnRvU3RyaW5nKCkgIT0gXCJ0b2Mtbm9kZVwiICYmXG4gICAgICAgICAgYmVoYXZpb3IudG9TdHJpbmcoKSAhPSBcInRvYy1jb250YWluZXJcIilcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gcmVuZGVyZXIoc3JjRWxlbSwgdmlld1BhcmVudCwgY29tcHV0ZWRTdHlsZSk7XG4gICAgICB9XG4gICAgICAvLyBSZW1vdmUgd2hpdGUtc3BhY2UgdGV4dG5vZGUgdGhhdCBiZWNvbWVzIHVud2FudGVkIHNwYWNlIGJldHdlZW4gYnV0dG9uIGFuZCBhbmNob3IgZWxlbWVudC5cbiAgICAgIGNvbnN0IGZpcnN0Q2hpbGQgPSBzcmNFbGVtLmZpcnN0Q2hpbGQ7XG4gICAgICBpZiAoXG4gICAgICAgIGZpcnN0Q2hpbGQgJiZcbiAgICAgICAgZmlyc3RDaGlsZC5ub2RlVHlwZSAhPT0gMSAmJlxuICAgICAgICBmaXJzdENoaWxkLnRleHRDb250ZW50LnRyaW0oKSA9PT0gXCJcIlxuICAgICAgKSB7XG4gICAgICAgIC8vIFRvIGF2b2lkIFwiSW5jb25zaXN0ZW50IG9mZnNldFwiIGVycm9yLCBjcmVhdGUgYSBjb21tZW50IG5vZGUgd2l0aCBzYW1lIHdoaXRlLXNwYWNlIHRleHQuXG4gICAgICAgIHNyY0VsZW0ucmVwbGFjZUNoaWxkKFxuICAgICAgICAgIHNyY0VsZW0ub3duZXJEb2N1bWVudC5jcmVhdGVDb21tZW50KGZpcnN0Q2hpbGQudGV4dENvbnRlbnQpLFxuICAgICAgICAgIGZpcnN0Q2hpbGQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBhZGFwdFBhcmVudENsYXNzID0gdmlld1BhcmVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LWNsYXNzXCIpO1xuICAgICAgaWYgKGFkYXB0UGFyZW50Q2xhc3MgPT0gXCJ0b2Mtbm9kZVwiKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IHZpZXdQYXJlbnQuZmlyc3RDaGlsZCBhcyBFbGVtZW50O1xuICAgICAgICBpZiAoYnV0dG9uLnRleHRDb250ZW50ICE9IGJ1bGxldENsb3NlZCkge1xuICAgICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1bGxldENsb3NlZDtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpO1xuICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdG9nZ2xlTm9kZUV4cGFuc2lvbiwgZmFsc2UpO1xuXG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICB2aWV3UGFyZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcblxuICAgICAgICAgIC8vIEVuYWJsZSB0YWIgbW92ZSB0byB0aGUgYnV0dG9uIHVubGVzcyBoaWRkZW4uXG4gICAgICAgICAgaWYgKCh2aWV3UGFyZW50IGFzIEhUTUxFbGVtZW50KS5zdHlsZS5oZWlnaHQgIT09IFwiMHB4XCIpIHtcbiAgICAgICAgICAgIChidXR0b24gYXMgSFRNTEVsZW1lbnQpLnRhYkluZGV4ID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSB2aWV3UGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIsIFwidHJ1ZVwiKTtcbiAgICAgIGlmIChiZWhhdmlvci50b1N0cmluZygpID09IFwidG9jLW5vZGVcIikge1xuICAgICAgICBjb25zdCBidXR0b24gPSB2aWV3UGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gYnVsbGV0RW1wdHk7XG5cbiAgICAgICAgLy8gVE9ETzogZGVmaW5lIHBzZXVkby1lbGVtZW50IGZvciB0aGUgYnV0dG9uP1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJtYXJnaW5cIiwgXCIwLjJlbSAwIDAgLTFlbVwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwibWFyZ2luLWlubGluZS1zdGFydFwiLCBcIi0xZW1cIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcIm1hcmdpbi1pbmxpbmUtZW5kXCIsIFwiMFwiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShidXR0b24sIFwid2lkdGhcIiwgXCIxZW1cIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcInRleHQtYWxpZ25cIiwgXCJjZW50ZXJcIik7XG4gICAgICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkoYnV0dG9uLCBcInZlcnRpY2FsLWFsaWduXCIsIFwidG9wXCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJjdXJzb3JcIiwgXCJkZWZhdWx0XCIpO1xuICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGJ1dHRvbiwgXCJmb250LWZhbWlseVwiLCBcIk1lbmxvLHNhbnMtc2VyaWZcIik7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgQmFzZS5zZXRDU1NQcm9wZXJ0eShlbGVtZW50LCBcIm92ZXJmbG93XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtY2xhc3NcIiwgXCJ0b2Mtbm9kZVwiKTtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwidHJlZWl0ZW1cIik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGFkYXB0UGFyZW50Q2xhc3MgPT0gXCJ0b2Mtbm9kZVwiIHx8XG4gICAgICAgICAgYWRhcHRQYXJlbnRDbGFzcyA9PSBcInRvYy1jb250YWluZXJcIlxuICAgICAgICApIHtcbiAgICAgICAgICBCYXNlLnNldENTU1Byb3BlcnR5KGVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiMHB4XCIpO1xuXG4gICAgICAgICAgLy8gUHJldmVudCB0YWIgbW92ZSB0byBoaWRkZW4gYW5jaG9yLlxuICAgICAgICAgIGNvbnN0IGFuY2hvckVsZW0gPSBzcmNFbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICAgIGlmIChhbmNob3JFbGVtICYmIGFuY2hvckVsZW0ubG9jYWxOYW1lID09PSBcImFcIikge1xuICAgICAgICAgICAgKGFuY2hvckVsZW0gYXMgSFRNTEVsZW1lbnQpLnRhYkluZGV4ID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXdQYXJlbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcInRyZWVcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhZGFwdFBhcmVudENsYXNzID09IFwidG9jLW5vZGVcIikge1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1jbGFzc1wiLCBcInRvYy1jb250YWluZXJcIik7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwiZ3JvdXBcIik7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChlbGVtZW50IGFzIEVsZW1lbnQpO1xuICAgIH07XG4gIH1cblxuICBzaG93VE9DKFxuICAgIGVsZW06IEhUTUxFbGVtZW50LFxuICAgIHZpZXdwb3J0OiBWZ2VuLlZpZXdwb3J0LFxuICAgIHdpZHRoOiBudW1iZXIsXG4gICAgaGVpZ2h0OiBudW1iZXIsXG4gICAgZm9udFNpemU6IG51bWJlcixcbiAgKTogVGFzay5SZXN1bHQ8VnRyZWUuUGFnZT4ge1xuICAgIGlmICh0aGlzLnBhZ2UpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0aGlzLnBhZ2UgYXMgVnRyZWUuUGFnZSk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLlBhZ2U+ID0gVGFzay5uZXdGcmFtZShcInNob3dUT0NcIik7XG4gICAgY29uc3QgcGFnZSA9IG5ldyBWdHJlZS5QYWdlKGVsZW0sIGVsZW0pO1xuICAgIHRoaXMucGFnZSA9IHBhZ2U7XG5cbiAgICAvLyBUaGUgKFgpSFRNTCBkb2MgZm9yIHRoZSBUT0MgYm94IG1heSBiZSByZXVzZWQgZm9yIHRoZSBUT0MgcGFnZSBpbiB0aGUgYm9vayxcbiAgICAvLyBidXQgdGhleSBuZWVkIGRpZmZlcmVudCBzdHlsZXMuIFNvLCBhZGQgXCI/dml2LXRvYy1ib3hcIiB0byBkaXN0aW5ndWlzaCB3aXRoIFRPQyBwYWdlIFVSTC5cbiAgICBjb25zdCB0b2NCb3hVcmwgPSB0aGlzLnVybCArIFwiP3Zpdi10b2MtYm94XCI7XG5cbiAgICB0aGlzLnN0b3JlLmxvYWQodG9jQm94VXJsKS50aGVuKCh4bWxkb2MpID0+IHtcbiAgICAgIC8vIE1hcmsgaWYgdGhpcyBkb2MgaXMgdGhlIHByaW1hcnkgZW50cnkgcGFnZS5cbiAgICAgIGNvbnN0IG5vblRvY0JveERvYyA9IHRoaXMuc3RvcmUucmVzb3VyY2VzW3RoaXMudXJsXTtcbiAgICAgIGlmIChcbiAgICAgICAgbm9uVG9jQm94RG9jICYmXG4gICAgICAgIG5vblRvY0JveERvYy5ib2R5ICYmXG4gICAgICAgIG5vblRvY0JveERvYy5ib2R5LmdldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcHJpbWFyeS1lbnRyeVwiKVxuICAgICAgKSB7XG4gICAgICAgIHhtbGRvYy5ib2R5LnNldEF0dHJpYnV0ZShcImRhdGEtdml2bGlvc3R5bGUtcHJpbWFyeS1lbnRyeVwiLCB0cnVlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgc3R5bGUgPSBzZWxmLnN0b3JlLmdldFN0eWxlRm9yRG9jKHhtbGRvYyk7XG4gICAgICBjb25zdCB2aWV3cG9ydFNpemUgPSBzdHlsZS5zaXplVmlld3BvcnQod2lkdGgsIDEwMDAwMCwgZm9udFNpemUpO1xuICAgICAgdmlld3BvcnQgPSBuZXcgVmdlbi5WaWV3cG9ydChcbiAgICAgICAgdmlld3BvcnQud2luZG93LFxuICAgICAgICB2aWV3cG9ydFNpemUuZm9udFNpemUsXG4gICAgICAgIHZpZXdwb3J0LnJvb3QsXG4gICAgICAgIHZpZXdwb3J0U2l6ZS53aWR0aCxcbiAgICAgICAgdmlld3BvcnRTaXplLmhlaWdodCxcbiAgICAgICk7XG4gICAgICBjb25zdCBjdXN0b21SZW5kZXJlciA9IHNlbGYubWFrZUN1c3RvbVJlbmRlcmVyKHhtbGRvYyk7XG4gICAgICBjb25zdCBpbnN0YW5jZSA9IG5ldyBPUFMuU3R5bGVJbnN0YW5jZShcbiAgICAgICAgc3R5bGUsXG4gICAgICAgIHhtbGRvYyxcbiAgICAgICAgc2VsZi5sYW5nLFxuICAgICAgICB2aWV3cG9ydCxcbiAgICAgICAgc2VsZi5jbGllbnRMYXlvdXQsXG4gICAgICAgIHNlbGYuZm9udE1hcHBlcixcbiAgICAgICAgY3VzdG9tUmVuZGVyZXIsXG4gICAgICAgIHNlbGYuZmFsbGJhY2tNYXAsXG4gICAgICAgIDAsXG4gICAgICAgIHNlbGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcixcbiAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUsXG4gICAgICApO1xuICAgICAgc2VsZi5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgaW5zdGFuY2UucHJlZiA9IHNlbGYucHJlZjtcbiAgICAgIGluc3RhbmNlLmluaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgaW5zdGFuY2UubGF5b3V0TmV4dFBhZ2UocGFnZSwgbnVsbCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgQXJyYXkuZnJvbShcbiAgICAgICAgICAgIHBhZ2UuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgIFwiW2RhdGEtdml2bGlvc3R5bGUtdG9jLWJveF0+Kj4qPio+Kj4qW3N0eWxlKj0nZGlzcGxheTogbm9uZSddXCIsXG4gICAgICAgICAgICApLFxuICAgICAgICAgICkuZm9yRWFjaCgoYm9keUNoaWxkRWxlbSkgPT4ge1xuICAgICAgICAgICAgYm9keUNoaWxkRWxlbS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIik7XG4gICAgICAgICAgICBib2R5Q2hpbGRFbGVtLnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWxmLnNldEF1dG9IZWlnaHQoZWxlbSwgMik7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHBhZ2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGhpZGVUT0MoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucGFnZSkge1xuICAgICAgdGhpcy5wYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIHRoaXMucGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgIH1cbiAgfVxuXG4gIGlzVE9DVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gISF0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID09PSBcInZpc2libGVcIjtcbiAgfVxuXG4gIGdldFRPQygpOiBUT0NJdGVtW10ge1xuICAgIGlmICghdGhpcy5wYWdlKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZXhwb3J0VHJlZSh0YWcpOiBUT0NJdGVtW10ge1xuICAgICAgaWYgKCF0YWcpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgY29uc3QgbGlua3MgPSB0YWcucXVlcnlTZWxlY3RvckFsbChcIjpzY29wZSA+IFtyb2xlPXRyZWVpdGVtXSA+IGFbaHJlZl1cIik7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShsaW5rcykubWFwKGV4cG9ydExpbmspO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cG9ydExpbmsodGFnKTogVE9DSXRlbSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHRhZy5ocmVmKTtcbiAgICAgIGNvbnN0IFssIGlkXSA9IHVybC5oYXNoLm1hdGNoKC9eIyguKikkLyk7XG5cbiAgICAgIGNvbnN0IHRpdGxlID0gdGFnLmlubmVyVGV4dDtcblxuICAgICAgY29uc3QgY29udGFpbmVyID0gdGFnLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIltyb2xlPWdyb3VwXVwiKTtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gZXhwb3J0VHJlZShjb250YWluZXIpO1xuXG4gICAgICByZXR1cm4geyBpZCwgdGl0bGUsIGNoaWxkcmVuIH07XG4gICAgfVxuXG4gICAgY29uc3QgdG9wTGV2ZWxUcmVlID0gdGhpcy5wYWdlLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiW3JvbGU9dHJlZV1cIik7XG4gICAgcmV0dXJuIGV4cG9ydFRyZWUodG9wTGV2ZWxUcmVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlTm9kZUV4cGFuc2lvbihldnQ6IEV2ZW50KTogdm9pZCB7XG4gIGNvbnN0IGVsZW0gPSBldnQudGFyZ2V0IGFzIEVsZW1lbnQ7XG4gIGNvbnN0IG9wZW4gPSBlbGVtLnRleHRDb250ZW50ID09IGJ1bGxldENsb3NlZDtcbiAgZWxlbS50ZXh0Q29udGVudCA9IG9wZW4gPyBidWxsZXRPcGVuIDogYnVsbGV0Q2xvc2VkO1xuICBjb25zdCB0b2NOb2RlRWxlbSA9IGVsZW0ucGFyZW50Tm9kZSBhcyBFbGVtZW50O1xuICBlbGVtLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgb3BlbiA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiKTtcbiAgdG9jTm9kZUVsZW0uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBvcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICBsZXQgYzogTm9kZSA9IHRvY05vZGVFbGVtLmZpcnN0Q2hpbGQ7XG4gIHdoaWxlIChjKSB7XG4gICAgaWYgKGMubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnN0IGNlID0gYyBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGNvbnN0IGFkYXB0Q2xhc3MgPSBjZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWFkYXB0LWNsYXNzXCIpO1xuICAgICAgaWYgKGFkYXB0Q2xhc3MgPT09IFwidG9jLWNvbnRhaW5lclwiKSB7XG4gICAgICAgIGNlLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsICFvcGVuID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICAgICAgICBpZiAoY2UuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIGMgPSBjZS5maXJzdENoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFkYXB0Q2xhc3MgPT09IFwidG9jLW5vZGVcIikge1xuICAgICAgICBjZS5zdHlsZS5oZWlnaHQgPSBvcGVuID8gXCJhdXRvXCIgOiBcIjBweFwiO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBlbmFibGUvZGlzYWJsZSB0YWIgbW92ZSB0byB0aGUgYnV0dG9uIGFuZCBhbmNob3IuXG4gICAgICAgIGlmIChjZS5jaGlsZHJlbi5sZW5ndGggPj0gMikge1xuICAgICAgICAgIChjZS5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSBvcGVuID8gMCA6IC0xO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjZS5jaGlsZHJlbi5sZW5ndGggPj0gMykge1xuICAgICAgICAgIChjZS5jaGlsZHJlblswXSBhcyBIVE1MRWxlbWVudCkudGFiSW5kZXggPSBvcGVuID8gMCA6IC0xO1xuICAgICAgICAgIGlmICghb3Blbikge1xuICAgICAgICAgICAgY29uc3QgZWxlbTEgPSBjZS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgIGlmIChlbGVtMS50ZXh0Q29udGVudCA9PSBidWxsZXRPcGVuKSB7XG4gICAgICAgICAgICAgIGVsZW0xLnRleHRDb250ZW50ID0gYnVsbGV0Q2xvc2VkO1xuICAgICAgICAgICAgICBlbGVtMS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgIGNlLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgICAgYyA9IGNlLmNoaWxkcmVuWzJdO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKCFjLm5leHRTaWJsaW5nICYmIGMucGFyZW50Tm9kZSAhPT0gdG9jTm9kZUVsZW0pIHtcbiAgICAgIGMgPSBjLnBhcmVudE5vZGU7XG4gICAgfVxuICAgIGMgPSBjLm5leHRTaWJsaW5nO1xuICB9XG4gIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgRXB1YiAtIERlYWwgd2l0aCBNRVRBLUlORi8gYW5kIC5vcGYgZmlsZXMgaW4gRVBVQiBjb250YWluZXIuXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDRkkgZnJvbSBcIi4vY2ZpXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBDb3VudGVycyBmcm9tIFwiLi9jb3VudGVyc1wiO1xuaW1wb3J0ICogYXMgQ3NzIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0ICogYXMgQ3NzQ2FzY2FkZSBmcm9tIFwiLi9jc3MtY2FzY2FkZVwiO1xuaW1wb3J0ICogYXMgQ3NzUGFyc2VyIGZyb20gXCIuL2Nzcy1wYXJzZXJcIjtcbmltcG9ydCAqIGFzIENzc1Rva2VuaXplciBmcm9tIFwiLi9jc3MtdG9rZW5pemVyXCI7XG5pbXBvcnQgKiBhcyBFeHBycyBmcm9tIFwiLi9leHByc1wiO1xuaW1wb3J0ICogYXMgRm9udCBmcm9tIFwiLi9mb250XCI7XG5pbXBvcnQgKiBhcyBMb2dnaW5nIGZyb20gXCIuL2xvZ2dpbmdcIjtcbmltcG9ydCAqIGFzIE5ldCBmcm9tIFwiLi9uZXRcIjtcbmltcG9ydCAqIGFzIE9QUyBmcm9tIFwiLi9vcHNcIjtcbmltcG9ydCAqIGFzIFNIQTEgZnJvbSBcIi4vc2hhMVwiO1xuaW1wb3J0ICogYXMgVGFzayBmcm9tIFwiLi90YXNrXCI7XG5pbXBvcnQgKiBhcyBUb2MgZnJvbSBcIi4vdG9jXCI7XG5pbXBvcnQgKiBhcyBWZ2VuIGZyb20gXCIuL3ZnZW5cIjtcbmltcG9ydCAqIGFzIFZ0cmVlIGZyb20gXCIuL3Z0cmVlXCI7XG5pbXBvcnQgKiBhcyBYbWxEb2MgZnJvbSBcIi4veG1sLWRvY1wiO1xuXG5leHBvcnQgdHlwZSBQb3NpdGlvbiA9IHtcbiAgc3BpbmVJbmRleDogbnVtYmVyO1xuICBwYWdlSW5kZXg6IG51bWJlcjtcbiAgb2Zmc2V0SW5JdGVtOiBudW1iZXI7XG59O1xuXG5leHBvcnQgY2xhc3MgRVBVQkRvY1N0b3JlIGV4dGVuZHMgT1BTLk9QU0RvY1N0b3JlIHtcbiAgcGxhaW5YTUxTdG9yZTogWG1sRG9jLlhNTERvY1N0b3JlO1xuICBqc29uU3RvcmU6IE5ldC5KU09OU3RvcmU7XG4gIG9wZkJ5VVJMOiB7IFtrZXk6IHN0cmluZ106IE9QRkRvYyB9ID0ge307XG4gIHByaW1hcnlPUEZCeUVQdWJVUkw6IHsgW2tleTogc3RyaW5nXTogT1BGRG9jIH0gPSB7fTtcbiAgZGVvYmZ1c2NhdG9yczogeyBba2V5OiBzdHJpbmddOiAocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+IH0gPSB7fTtcbiAgZG9jdW1lbnRzOiB7IFtrZXk6IHN0cmluZ106IFRhc2suUmVzdWx0PFhtbERvYy5YTUxEb2NIb2xkZXI+IH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihudWxsKTtcbiAgICB0aGlzLmZvbnREZW9iZnVzY2F0b3IgPSB0aGlzLm1ha2VEZW9iZnVzY2F0b3JGYWN0b3J5KCk7XG4gICAgdGhpcy5wbGFpblhNTFN0b3JlID0gWG1sRG9jLm5ld1hNTERvY1N0b3JlKCk7XG4gICAgdGhpcy5qc29uU3RvcmUgPSBOZXQubmV3SlNPTlN0b3JlKCk7XG4gIH1cblxuICBtYWtlRGVvYmZ1c2NhdG9yRmFjdG9yeSgpOlxuICAgIHwgKChwMTogc3RyaW5nKSA9PiAoKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPikgfCBudWxsKVxuICAgIHwgbnVsbCB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuICh1cmw6IHN0cmluZyk6ICgocDE6IEJsb2IpID0+IFRhc2suUmVzdWx0PEJsb2I+KSB8IG51bGwgPT4ge1xuICAgICAgcmV0dXJuIHNlbGYuZGVvYmZ1c2NhdG9yc1t1cmxdO1xuICAgIH07XG4gIH1cblxuICBsb2FkQXNQbGFpblhNTChcbiAgICB1cmw6IHN0cmluZyxcbiAgICBvcHRfcmVxdWlyZWQ/OiBib29sZWFuLFxuICAgIG9wdF9tZXNzYWdlPzogc3RyaW5nLFxuICApOiBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPiB7XG4gICAgcmV0dXJuIHRoaXMucGxhaW5YTUxTdG9yZS5sb2FkKFxuICAgICAgdXJsLFxuICAgICAgb3B0X3JlcXVpcmVkLFxuICAgICAgb3B0X21lc3NhZ2UsXG4gICAgKSBhcyBUYXNrLlJlc3VsdDxYbWxEb2MuWE1MRG9jSG9sZGVyPjtcbiAgfVxuXG4gIHN0YXJ0TG9hZGluZ0FzUGxhaW5YTUwodXJsOiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnBsYWluWE1MU3RvcmUuZmV0Y2godXJsKTtcbiAgfVxuXG4gIGxvYWRBc0pTT04oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgb3B0X3JlcXVpcmVkPzogYm9vbGVhbixcbiAgICBvcHRfbWVzc2FnZT86IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8QmFzZS5KU09OPiB7XG4gICAgcmV0dXJuIHRoaXMuanNvblN0b3JlLmxvYWQodXJsLCBvcHRfcmVxdWlyZWQsIG9wdF9tZXNzYWdlKTtcbiAgfVxuXG4gIHN0YXJ0TG9hZGluZ0FzSlNPTih1cmw6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuanNvblN0b3JlLmZldGNoKHVybCk7XG4gIH1cblxuICBsb2FkUHViRG9jKHVybDogc3RyaW5nLCBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxPUEZEb2M+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZEb2M+ID0gVGFzay5uZXdGcmFtZShcImxvYWRQdWJEb2NcIik7XG5cbiAgICBOZXQuYWpheCh1cmwsIG51bGwsIFwiSEVBRFwiKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDApIHtcbiAgICAgICAgLy8gVGhpcyB1cmwgY2FuIGJlIHRoZSByb290IG9mIGFuIHVuemlwcGVkIEVQVUIuXG4gICAgICAgIHRoaXMubG9hZEVQVUJEb2ModXJsLCBoYXZlWmlwTWV0YWRhdGEpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgIGlmIChvcGYpIHtcbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgIGBGYWlsZWQgdG8gZmV0Y2ggYSBzb3VyY2UgZG9jdW1lbnQgZnJvbSAke3VybH0gKCR7cmVzcG9uc2Uuc3RhdHVzfSR7XG4gICAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1c1RleHQgPyBcIiBcIiArIHJlc3BvbnNlLnN0YXR1c1RleHQgOiBcIlwiXG4gICAgICAgICAgICB9KWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFyZXNwb25zZS5zdGF0dXMgJiZcbiAgICAgICAgICAhcmVzcG9uc2UucmVzcG9uc2VYTUwgJiZcbiAgICAgICAgICAhcmVzcG9uc2UucmVzcG9uc2VUZXh0ICYmXG4gICAgICAgICAgIXJlc3BvbnNlLnJlc3BvbnNlQmxvYiAmJlxuICAgICAgICAgICFyZXNwb25zZS5jb250ZW50VHlwZVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBFbXB0eSByZXNwb25zZVxuICAgICAgICAgIGlmICgvXFwvW14vLl0rKD86WyM/XXwkKS8udGVzdCh1cmwpKSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgdHJhaWxpbmcgXCIvXCIgbWF5IHNvbHZlIHRoZSBwcm9ibGVtLlxuICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyhbIz9dfCQpLywgXCIvJDFcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBlbXB0eSByZXNwb25zZSBvZiBIRUFEIHJlcXVlc3QsIGl0IG1heSBiZWNvbWUgT0sgd2l0aCBHRVQgcmVxdWVzdC5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID09IFwiYXBwbGljYXRpb24vb2VicHMtcGFja2FnZSt4bWxcIiB8fFxuICAgICAgICAgIC9cXC5vcGYoPzpbIz9dfCQpLy50ZXN0KHVybClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gRVBVQiBPUEZcbiAgICAgICAgICBjb25zdCBbLCBwdWJVUkwsIHJvb3RdID0gdXJsLm1hdGNoKC9eKCg/Oi4qXFwvKT8pKFteL10qKSQvKTtcbiAgICAgICAgICB0aGlzLmxvYWRPUEYocHViVVJMLCByb290LCBoYXZlWmlwTWV0YWRhdGEpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRUeXBlID09IFwiYXBwbGljYXRpb24vbGQranNvblwiIHx8XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi93ZWJwdWIranNvblwiIHx8XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9hdWRpb2Jvb2sranNvblwiIHx8XG4gICAgICAgICAgcmVzcG9uc2UuY29udGVudFR5cGUgPT0gXCJhcHBsaWNhdGlvbi9qc29uXCIgfHxcbiAgICAgICAgICAvXFwuanNvbig/OmxkKT8oPzpbIz9dfCQpLy50ZXN0KHVybClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gV2ViIFB1YmxpY2F0aW9uIE1hbmlmZXN0XG4gICAgICAgICAgdGhpcy5sb2FkQXNKU09OKHVybCwgdHJ1ZSkudGhlbigobWFuaWZlc3RPYmopID0+IHtcbiAgICAgICAgICAgIGlmICghbWFuaWZlc3RPYmopIHtcbiAgICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgICAgYFJlY2VpdmVkIGFuIGVtcHR5IHJlc3BvbnNlIGZvciAke3VybH0uIFRoaXMgbWF5IGJlIGNhdXNlZCBieSB0aGUgc2VydmVyIG5vdCBhbGxvd2luZyBjcm9zcy1vcmlnaW4gcmVzb3VyY2Ugc2hhcmluZyAoQ09SUykuYCxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcGYgPSBuZXcgT1BGRG9jKHRoaXMsIHVybCk7XG4gICAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChtYW5pZmVzdE9iaikudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gV2ViIFB1YmxpY2F0aW9uIHByaW1hcnkgZW50cnkgKFgpSFRNTFxuICAgICAgICAgIHRoaXMubG9hZFdlYlB1Yih1cmwpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gob3BmKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGhpcyB1cmwgY2FuIGJlIHRoZSByb290IG9mIGFuIHVuemlwcGVkIEVQVUIuXG4gICAgICAgICAgICB0aGlzLmxvYWRFUFVCRG9jKHVybCwgaGF2ZVppcE1ldGFkYXRhKS50aGVuKChvcGYpID0+IHtcbiAgICAgICAgICAgICAgaWYgKG9wZikge1xuICAgICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGxvYWQgJHt1cmx9LmApO1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGxvYWRFUFVCRG9jKHVybDogc3RyaW5nLCBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxPUEZEb2M+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxPUEZEb2M+ID0gVGFzay5uZXdGcmFtZShcImxvYWRFUFVCRG9jXCIpO1xuICAgIGlmICghdXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgdXJsID0gdXJsICsgXCIvXCI7XG4gICAgfVxuICAgIGlmIChoYXZlWmlwTWV0YWRhdGEpIHtcbiAgICAgIHRoaXMuc3RhcnRMb2FkaW5nQXNKU09OKHVybCArIFwiP3I9bGlzdFwiKTtcbiAgICB9XG4gICAgdGhpcy5zdGFydExvYWRpbmdBc1BsYWluWE1MKHVybCArIFwiTUVUQS1JTkYvZW5jcnlwdGlvbi54bWxcIik7XG4gICAgY29uc3QgY29udGFpbmVyVVJMID0gdXJsICsgXCJNRVRBLUlORi9jb250YWluZXIueG1sXCI7XG4gICAgdGhpcy5sb2FkQXNQbGFpblhNTChjb250YWluZXJVUkwpLnRoZW4oKGNvbnRhaW5lclhNTCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5lclhNTCkge1xuICAgICAgICBjb25zdCByb290cyA9IGNvbnRhaW5lclhNTFxuICAgICAgICAgIC5kb2MoKVxuICAgICAgICAgIC5jaGlsZChcImNvbnRhaW5lclwiKVxuICAgICAgICAgIC5jaGlsZChcInJvb3RmaWxlc1wiKVxuICAgICAgICAgIC5jaGlsZChcInJvb3RmaWxlXCIpXG4gICAgICAgICAgLmF0dHJpYnV0ZShcImZ1bGwtcGF0aFwiKTtcbiAgICAgICAgZm9yIChjb25zdCByb290IG9mIHJvb3RzKSB7XG4gICAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZE9QRih1cmwsIHJvb3QsIGhhdmVaaXBNZXRhZGF0YSkudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBsb2FkT1BGKFxuICAgIHB1YlVSTDogc3RyaW5nLFxuICAgIHJvb3Q6IHN0cmluZyxcbiAgICBoYXZlWmlwTWV0YWRhdGE6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IHVybCA9IHB1YlVSTCArIHJvb3Q7XG4gICAgbGV0IG9wZiA9IHNlbGYub3BmQnlVUkxbdXJsXTtcbiAgICBpZiAob3BmKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQob3BmKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8T1BGRG9jPiA9IFRhc2submV3RnJhbWUoXCJsb2FkT1BGXCIpO1xuICAgIHNlbGZcbiAgICAgIC5sb2FkQXNQbGFpblhNTCh1cmwsIHRydWUsIGBGYWlsZWQgdG8gZmV0Y2ggRVBVQiBPUEYgJHt1cmx9YClcbiAgICAgIC50aGVuKChvcGZYTUwpID0+IHtcbiAgICAgICAgaWYgKCFvcGZYTUwpIHtcbiAgICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICAgIGBSZWNlaXZlZCBhbiBlbXB0eSByZXNwb25zZSBmb3IgRVBVQiBPUEYgJHt1cmx9LiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgdGhlIHNlcnZlciBub3QgYWxsb3dpbmcgY3Jvc3Mtb3JpZ2luIHJlc291cmNlIHNoYXJpbmcgKENPUlMpLmAsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmXG4gICAgICAgICAgICAubG9hZEFzUGxhaW5YTUwoYCR7cHViVVJMfU1FVEEtSU5GL2VuY3J5cHRpb24ueG1sYClcbiAgICAgICAgICAgIC50aGVuKChlbmNYTUwpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgemlwTWV0YWRhdGFSZXN1bHQgPSBoYXZlWmlwTWV0YWRhdGFcbiAgICAgICAgICAgICAgICA/IHNlbGYubG9hZEFzSlNPTihgJHtwdWJVUkx9P3I9bGlzdGApXG4gICAgICAgICAgICAgICAgOiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgICAgemlwTWV0YWRhdGFSZXN1bHQudGhlbigoemlwTWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBvcGYgPSBuZXcgT1BGRG9jKHNlbGYsIHB1YlVSTCk7XG4gICAgICAgICAgICAgICAgb3BmXG4gICAgICAgICAgICAgICAgICAuaW5pdFdpdGhYTUxEb2MoXG4gICAgICAgICAgICAgICAgICAgIG9wZlhNTCxcbiAgICAgICAgICAgICAgICAgICAgZW5jWE1MLFxuICAgICAgICAgICAgICAgICAgICB6aXBNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgYCR7cHViVVJMfT9yPW1hbmlmZXN0YCxcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGZCeVVSTFt1cmxdID0gb3BmO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnByaW1hcnlPUEZCeUVQdWJVUkxbcHViVVJMXSA9IG9wZjtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWUuZmluaXNoKG9wZik7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbG9hZFdlYlB1Yih1cmw6IHN0cmluZyk6IFRhc2suUmVzdWx0PE9QRkRvYz4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPE9QRkRvYz4gPSBUYXNrLm5ld0ZyYW1lKFwibG9hZFdlYlB1YlwiKTtcblxuICAgIC8vIExvYWQgdGhlIHByaW1hcnkgZW50cnkgcGFnZSAoWClIVE1MXG4gICAgdGhpcy5sb2FkKHVybCkudGhlbigoeG1sZG9jKSA9PiB7XG4gICAgICBpZiAoIXhtbGRvYykge1xuICAgICAgICBMb2dnaW5nLmxvZ2dlci5lcnJvcihcbiAgICAgICAgICBgUmVjZWl2ZWQgYW4gZW1wdHkgcmVzcG9uc2UgZm9yICR7dXJsfS4gVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHRoZSBzZXJ2ZXIgbm90IGFsbG93aW5nIGNyb3NzLW9yaWdpbiByZXNvdXJjZSBzaGFyaW5nIChDT1JTKS5gLFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgeG1sZG9jLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgXCJhW2hyZWY9J01FVEEtSU5GLyddLGFbaHJlZiQ9Jy9NRVRBLUlORi8nXVwiLFxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgLy8gVGhpcyBpcyBsaWtlbHkgdGhlIGRpcmVjdG9yeSBsaXN0aW5nIG9mIHVuemlwcGVkIEVQVUIgdG9wIGRpcmVjdG9yeVxuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBkb2MgPSB4bWxkb2MuZG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IG9wZiA9IG5ldyBPUEZEb2ModGhpcywgdXJsKTtcblxuICAgICAgICBpZiAoZG9jLmJvZHkpIHtcbiAgICAgICAgICBkb2MuYm9keS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXByaW1hcnktZW50cnlcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmluZCBtYW5pZmVzdCwgVzNDIFdlYlB1YmxpY2F0aW9uIG9yIFJlYWRpdW0gV2ViIFB1YmxpY2F0aW9uIE1hbmlmZXN0XG4gICAgICAgIGNvbnN0IG1hbmlmZXN0TGluayA9IGRvYy5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIFwibGlua1tyZWw9J3B1YmxpY2F0aW9uJ10sbGlua1tyZWw9J21hbmlmZXN0J11bdHlwZT0nYXBwbGljYXRpb24vd2VicHViK2pzb24nXVwiLFxuICAgICAgICApO1xuICAgICAgICBpZiAobWFuaWZlc3RMaW5rKSB7XG4gICAgICAgICAgY29uc3QgaHJlZiA9IG1hbmlmZXN0TGluay5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICAgIGlmICgvXiMvLnRlc3QoaHJlZikpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hbmlmZXN0T2JqID0gQmFzZS5zdHJpbmdUb0pTT04oXG4gICAgICAgICAgICAgIGRvYy5nZXRFbGVtZW50QnlJZChocmVmLnN1YnN0cigxKSkudGV4dENvbnRlbnQsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgb3BmLmluaXRXaXRoV2ViUHViTWFuaWZlc3QobWFuaWZlc3RPYmosIGRvYykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9hZEFzSlNPTihcbiAgICAgICAgICAgICAgQmFzZS5yZXNvbHZlVVJMKG1hbmlmZXN0TGluay5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLCB1cmwpLFxuICAgICAgICAgICAgKS50aGVuKChtYW5pZmVzdE9iaikgPT4ge1xuICAgICAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdChtYW5pZmVzdE9iaiwgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gob3BmKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gbWFuaWZlc3RcbiAgICAgICAgICBvcGYuaW5pdFdpdGhXZWJQdWJNYW5pZmVzdCh7fSwgZG9jKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChvcGYueGh0bWxUb2MgJiYgb3BmLnhodG1sVG9jLnNyYyA9PT0geG1sZG9jLnVybCkge1xuICAgICAgICAgICAgICAvLyB4aHRtbFRvYyBpcyB0aGUgcHJpbWFyaSBlbnRyeSAoWClIVE1MXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhZG9jLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICBcIltyb2xlPWRvYy10b2NdLCBbcm9sZT1kaXJlY3RvcnldLCBuYXYsIC50b2MsICN0b2NcIixcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIFRPQyBpcyBub3QgZm91bmQgaW4gdGhlIHByaW1hcmkgZW50cnkgKFgpSFRNTFxuICAgICAgICAgICAgICAgIG9wZi54aHRtbFRvYyA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZyYW1lLmZpbmlzaChvcGYpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgYWRkRG9jdW1lbnQodXJsOiBzdHJpbmcsIGRvYzogRG9jdW1lbnQpIHtcbiAgICBjb25zdCBmcmFtZSA9IFRhc2submV3RnJhbWU8WG1sRG9jLlhNTERvY0hvbGRlcj4oXCJFUFVCRG9jU3RvcmUubG9hZFwiKTtcbiAgICBjb25zdCBkb2NVUkwgPSBCYXNlLnN0cmlwRnJhZ21lbnQodXJsKTtcbiAgICBjb25zdCByID0gKHRoaXMuZG9jdW1lbnRzW2RvY1VSTF0gPSB0aGlzLnBhcnNlT1BTUmVzb3VyY2Uoe1xuICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICBzdGF0dXNUZXh0OiBcIlwiLFxuICAgICAgdXJsOiBkb2NVUkwsXG4gICAgICBjb250ZW50VHlwZTogKGRvYyBhcyBhbnkpLmNvbnRlbnRUeXBlLFxuICAgICAgcmVzcG9uc2VUZXh0OiBudWxsLFxuICAgICAgcmVzcG9uc2VYTUw6IGRvYyxcbiAgICAgIHJlc3BvbnNlQmxvYjogbnVsbCxcbiAgICB9KSk7XG4gICAgci50aGVuRmluaXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBsb2FkKHVybDogc3RyaW5nKTogVGFzay5SZXN1bHQ8WG1sRG9jLlhNTERvY0hvbGRlcj4ge1xuICAgIGNvbnN0IGRvY1VSTCA9IEJhc2Uuc3RyaXBGcmFnbWVudCh1cmwpO1xuICAgIGxldCByID0gdGhpcy5kb2N1bWVudHNbZG9jVVJMXTtcbiAgICBpZiAocikge1xuICAgICAgcmV0dXJuIHIuaXNQZW5kaW5nKCkgPyByIDogVGFzay5uZXdSZXN1bHQoci5nZXQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gVGFzay5uZXdGcmFtZTxYbWxEb2MuWE1MRG9jSG9sZGVyPihcIkVQVUJEb2NTdG9yZS5sb2FkXCIpO1xuICAgICAgciA9IHN1cGVyLmxvYWQoXG4gICAgICAgIGRvY1VSTCxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgYEZhaWxlZCB0byBmZXRjaCBhIHNvdXJjZSBkb2N1bWVudCBmcm9tICR7ZG9jVVJMfWAsXG4gICAgICApO1xuICAgICAgci50aGVuKCh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpID0+IHtcbiAgICAgICAgaWYgKCF4bWxkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jVVJMLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSkge1xuICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBsb2FkICR7ZG9jVVJMfS4gSW52YWxpZCBkYXRhLmApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBkb2NVUkwuc3RhcnRzV2l0aChcImh0dHA6XCIpICYmXG4gICAgICAgICAgICBCYXNlLmJhc2VVUkwuc3RhcnRzV2l0aChcImh0dHBzOlwiKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXG4gICAgICAgICAgICAgIGBGYWlsZWQgdG8gbG9hZCAke2RvY1VSTH0uIE1peGVkIENvbnRlbnQgKFwiaHR0cDpcIiBjb250ZW50IG9uIFwiaHR0cHM6XCIgY29udGV4dCkgaXMgbm90IGFsbG93ZWQuYCxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmVycm9yKFxuICAgICAgICAgICAgICBgUmVjZWl2ZWQgYW4gZW1wdHkgcmVzcG9uc2UgZm9yICR7ZG9jVVJMfS4gVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHRoZSBzZXJ2ZXIgbm90IGFsbG93aW5nIGNyb3NzLW9yaWdpbiByZXNvdXJjZSBzaGFyaW5nIChDT1JTKS5gLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHhtbGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgdHlwZSBPUEZJdGVtUGFyYW0gPSB7XG4gIHVybDogc3RyaW5nO1xuICBpbmRleDogbnVtYmVyO1xuICBzdGFydFBhZ2U6IG51bWJlciB8IG51bGw7XG4gIHNraXBQYWdlc0JlZm9yZTogbnVtYmVyIHwgbnVsbDtcbn07XG5cbmV4cG9ydCBjbGFzcyBPUEZJdGVtIHtcbiAgaWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBzcmM6IHN0cmluZyA9IFwiXCI7XG4gIG1lZGlhVHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHRpdGxlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgaXRlbVJlZkVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgc3BpbmVJbmRleDogbnVtYmVyID0gLTE7XG4gIGNvbXByZXNzZWRTaXplOiBudW1iZXIgPSAwO1xuICBjb21wcmVzc2VkOiBib29sZWFuIHwgbnVsbCA9IG51bGw7XG4gIGVwYWdlOiBudW1iZXIgPSAwO1xuICBlcGFnZUNvdW50OiBudW1iZXIgPSAwO1xuICBzdGFydFBhZ2U6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBza2lwUGFnZXNCZWZvcmU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICBpdGVtUHJvcGVydGllczogeyBba2V5OiBzdHJpbmddOiBib29sZWFuIH07XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pdGVtUHJvcGVydGllcyA9IEJhc2UuZW1wdHlPYmo7XG4gIH1cblxuICBpbml0V2l0aEVsZW1lbnQoaXRlbUVsZW06IEVsZW1lbnQsIG9wZlVSTDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5pZCA9IGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcImlkXCIpO1xuICAgIHRoaXMuc3JjID0gQmFzZS5yZXNvbHZlVVJMKGl0ZW1FbGVtLmdldEF0dHJpYnV0ZShcImhyZWZcIiksIG9wZlVSTCk7XG4gICAgdGhpcy5tZWRpYVR5cGUgPSBpdGVtRWxlbS5nZXRBdHRyaWJ1dGUoXCJtZWRpYS10eXBlXCIpO1xuICAgIGNvbnN0IHByb3BTdHIgPSBpdGVtRWxlbS5nZXRBdHRyaWJ1dGUoXCJwcm9wZXJ0aWVzXCIpO1xuICAgIGlmIChwcm9wU3RyKSB7XG4gICAgICB0aGlzLml0ZW1Qcm9wZXJ0aWVzID0gQmFzZS5hcnJheVRvU2V0KHByb3BTdHIuc3BsaXQoL1xccysvKSk7XG4gICAgfVxuICB9XG5cbiAgaW5pdFdpdGhQYXJhbShwYXJhbTogT1BGSXRlbVBhcmFtKSB7XG4gICAgdGhpcy5zcGluZUluZGV4ID0gcGFyYW0uaW5kZXg7XG4gICAgdGhpcy5pZCA9IGBpdGVtJHtwYXJhbS5pbmRleCArIDF9YDtcbiAgICB0aGlzLnNyYyA9IHBhcmFtLnVybDtcbiAgICB0aGlzLnN0YXJ0UGFnZSA9IHBhcmFtLnN0YXJ0UGFnZTtcbiAgICB0aGlzLnNraXBQYWdlc0JlZm9yZSA9IHBhcmFtLnNraXBQYWdlc0JlZm9yZTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0T1BGSXRlbUlkKGl0ZW06IE9QRkl0ZW0pOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIGl0ZW0uaWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlRGVvYmZ1c2NhdG9yKHVpZDogc3RyaW5nKTogKHAxOiBCbG9iKSA9PiBUYXNrLlJlc3VsdDxCbG9iPiB7XG4gIC8vIFRPRE86IHVzZSBVVEY4IG9mIHVpZFxuICBjb25zdCBzaGExU3VtID0gU0hBMS5ieXRlc1RvU0hBMUludDgodWlkKTtcbiAgcmV0dXJuIChibG9iKSA9PiB7XG4gICAgY29uc3QgZnJhbWUgPSBUYXNrLm5ld0ZyYW1lKFwiZGVvYmZ1c2NhdG9yXCIpIGFzIFRhc2suRnJhbWU8QmxvYj47XG4gICAgbGV0IGhlYWQ6IEJsb2I7XG4gICAgbGV0IHRhaWw6IEJsb2I7XG4gICAgaWYgKGJsb2Iuc2xpY2UpIHtcbiAgICAgIGhlYWQgPSBibG9iLnNsaWNlKDAsIDEwNDApO1xuICAgICAgdGFpbCA9IGJsb2Iuc2xpY2UoMTA0MCwgYmxvYi5zaXplKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZCA9IGJsb2JbXCJ3ZWJraXRTbGljZVwiXSgwLCAxMDQwKTtcbiAgICAgIHRhaWwgPSBibG9iW1wid2Via2l0U2xpY2VcIl0oMTA0MCwgYmxvYi5zaXplIC0gMTA0MCk7XG4gICAgfVxuICAgIE5ldC5yZWFkQmxvYihoZWFkKS50aGVuKChidWYpID0+IHtcbiAgICAgIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KGJ1Zik7XG4gICAgICBmb3IgKGxldCBrID0gMDsgayA8IGRhdGFWaWV3LmJ5dGVMZW5ndGg7IGsrKykge1xuICAgICAgICBsZXQgYiA9IGRhdGFWaWV3LmdldFVpbnQ4KGspO1xuICAgICAgICBiIF49IHNoYTFTdW1bayAlIDIwXTtcbiAgICAgICAgZGF0YVZpZXcuc2V0VWludDgoaywgYik7XG4gICAgICB9XG4gICAgICBmcmFtZS5maW5pc2goTmV0Lm1ha2VCbG9iKFtkYXRhVmlldywgdGFpbF0pKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYWtlT2JmdXNjYXRpb25LZXkodWlkOiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gYDEwNDA6JHtTSEExLmJ5dGVzVG9TSEExSGV4KHVpZCl9YDtcbn1cblxudHlwZSBSYXdNZXRhID0ge1xuICBba2V5OiBzdHJpbmddOiBSYXdNZXRhSXRlbVtdO1xufTtcblxudHlwZSBSYXdNZXRhSXRlbSA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xuICBpZDogc3RyaW5nIHwgbnVsbDtcbiAgcmVmaW5lczogc3RyaW5nIHwgbnVsbDtcbiAgc2NoZW1lOiBzdHJpbmcgfCBudWxsO1xuICBsYW5nOiBzdHJpbmcgfCBudWxsO1xuICBvcmRlcjogbnVtYmVyO1xuICByb2xlOiBzdHJpbmcgfCBudWxsO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBNZXRhIHtcbiAgW2tleTogc3RyaW5nXTogTWV0YUl0ZW1bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZXRhSXRlbSB7XG4gIHY6IHN0cmluZztcbiAgbz86IG51bWJlcjtcbiAgcz86IHN0cmluZztcbiAgcj86IE1ldGE7XG59XG5cbmV4cG9ydCBjb25zdCBwcmVkZWZpbmVkUHJlZml4ZXMgPSB7XG4gIGRjdGVybXM6IFwiaHR0cDovL3B1cmwub3JnL2RjL3Rlcm1zL1wiLFxuICBtYXJjOiBcImh0dHA6Ly9pZC5sb2MuZ292L3ZvY2FidWxhcnkvXCIsXG4gIG1lZGlhOiBcImh0dHA6Ly93d3cuaWRwZi5vcmcvZXB1Yi92b2NhYi9vdmVybGF5cy8jXCIsXG4gIHJlbmRpdGlvbjogXCJodHRwOi8vd3d3LmlkcGYub3JnL3ZvY2FiL3JlbmRpdGlvbi8jXCIsXG4gIG9uaXg6IFwiaHR0cDovL3d3dy5lZGl0ZXVyLm9yZy9PTklYL2Jvb2svY29kZWxpc3RzL2N1cnJlbnQuaHRtbCNcIixcbiAgeHNkOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI1wiLFxuICBvcGY6IFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA3L29wZlwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRJUkkgPSBcImh0dHA6Ly9pZHBmLm9yZy9lcHViL3ZvY2FiL3BhY2thZ2UvbWV0YS8jXCI7XG5cbmV4cG9ydCBjb25zdCBtZXRhVGVybXMgPSB7XG4gIGxhbmd1YWdlOiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdfWxhbmd1YWdlYCxcbiAgdGl0bGU6IGAke3ByZWRlZmluZWRQcmVmaXhlc1tcImRjdGVybXNcIl19dGl0bGVgLFxuICBjcmVhdG9yOiBgJHtwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdfWNyZWF0b3JgLFxuICBsYXlvdXQ6IGAke3ByZWRlZmluZWRQcmVmaXhlc1tcInJlbmRpdGlvblwiXX1sYXlvdXRgLFxuICB0aXRsZVR5cGU6IGAke2RlZmF1bHRJUkl9dGl0bGUtdHlwZWAsXG4gIGRpc3BsYXlTZXE6IGAke2RlZmF1bHRJUkl9ZGlzcGxheS1zZXFgLFxuICBhbHRlcm5hdGVTY3JpcHQ6IGAke2RlZmF1bHRJUkl9YWx0ZXJuYXRlLXNjcmlwdGAsXG4gIHJvbGU6IGAke2RlZmF1bHRJUkl9cm9sZWAsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWV0YWRhdGFDb21wYXJhdG9yKFxuICB0ZXJtOiBzdHJpbmcsXG4gIGxhbmc6IHN0cmluZyxcbik6IChwMTogTWV0YUl0ZW0sIHAyOiBNZXRhSXRlbSkgPT4gbnVtYmVyIHtcbiAgY29uc3QgZW1wdHkgPSB7fTtcbiAgcmV0dXJuIChpdGVtMSwgaXRlbTIpID0+IHtcbiAgICBsZXQgbTE6IGJvb2xlYW47XG4gICAgbGV0IG0yOiBib29sZWFuO1xuICAgIGNvbnN0IHIxID0gaXRlbTFbXCJyXCJdIHx8IGVtcHR5O1xuICAgIGNvbnN0IHIyID0gaXRlbTJbXCJyXCJdIHx8IGVtcHR5O1xuICAgIGlmICh0ZXJtID09IG1ldGFUZXJtcy50aXRsZSkge1xuICAgICAgbTEgPSByMVttZXRhVGVybXMudGl0bGVUeXBlXT8uWzBdLnYgPT0gXCJtYWluXCI7XG4gICAgICBtMiA9IHIyW21ldGFUZXJtcy50aXRsZVR5cGVdPy5bMF0udiA9PSBcIm1haW5cIjtcbiAgICAgIGlmIChtMSAhPSBtMikge1xuICAgICAgICByZXR1cm4gbTEgPyAtMSA6IDE7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpMSA9IHBhcnNlSW50KHIxW21ldGFUZXJtcy5kaXNwbGF5U2VxXT8uWzBdLnYsIDEwKTtcbiAgICBpZiAoaXNOYU4oaTEpKSB7XG4gICAgICBpMSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgfVxuICAgIGxldCBpMiA9IHBhcnNlSW50KHIyW21ldGFUZXJtcy5kaXNwbGF5U2VxXT8uWzBdLnYsIDEwKTtcbiAgICBpZiAoaXNOYU4oaTIpKSB7XG4gICAgICBpMiA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgfVxuICAgIGlmIChpMSAhPSBpMikge1xuICAgICAgcmV0dXJuIGkxIC0gaTI7XG4gICAgfVxuICAgIGlmICh0ZXJtICE9IG1ldGFUZXJtcy5sYW5ndWFnZSAmJiBsYW5nKSB7XG4gICAgICBtMSA9XG4gICAgICAgIChyMVttZXRhVGVybXMubGFuZ3VhZ2VdIHx8IHIxW21ldGFUZXJtcy5hbHRlcm5hdGVTY3JpcHRdKT8uWzBdLnYgPT1cbiAgICAgICAgbGFuZztcbiAgICAgIG0yID1cbiAgICAgICAgKHIyW21ldGFUZXJtcy5sYW5ndWFnZV0gfHwgcjJbbWV0YVRlcm1zLmFsdGVybmF0ZVNjcmlwdF0pPy5bMF0udiA9PVxuICAgICAgICBsYW5nO1xuICAgICAgaWYgKG0xICE9IG0yKSB7XG4gICAgICAgIHJldHVybiBtMSA/IC0xIDogMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZW0xW1wib1wiXSAtIGl0ZW0yW1wib1wiXTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRNZXRhZGF0YShcbiAgbXJvb3Q6IFhtbERvYy5Ob2RlTGlzdCxcbiAgcHJlZml4ZXM6IHN0cmluZyB8IG51bGwsXG4pOiBNZXRhIHtcbiAgLy8gUGFyc2UgcHJlZml4IG1hcCAoaWYgYW55KVxuICBsZXQgcHJlZml4TWFwO1xuICBpZiAoIXByZWZpeGVzKSB7XG4gICAgcHJlZml4TWFwID0gcHJlZGVmaW5lZFByZWZpeGVzO1xuICB9IGVsc2Uge1xuICAgIHByZWZpeE1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgcG4gaW4gcHJlZGVmaW5lZFByZWZpeGVzKSB7XG4gICAgICBwcmVmaXhNYXBbcG5dID0gcHJlZGVmaW5lZFByZWZpeGVzW3BuXTtcbiAgICB9XG4gICAgbGV0IHI6IFJlZ0V4cE1hdGNoQXJyYXk7XG5cbiAgICAvLyBUaGlzIGNvZGUgcGVybWl0cyBhbnkgbm9uLUFTQ0lJIGNoYXJhY3RlcnMgaW4gdGhlIG5hbWUgdG8gYXZvaWQgYmxvYXRpbmdcbiAgICAvLyB0aGUgcGF0dGVybi5cbiAgICB3aGlsZSAoXG4gICAgICAociA9IHByZWZpeGVzLm1hdGNoKFxuICAgICAgICAvXlxccyooW0EtWl9hLXpcXHUwMDdGLVxcdUZGRkZdWy0uQS1aX2EtejAtOVxcdTAwN0YtXFx1RkZGRl0qKTpcXHMqKFxcUyspLyxcbiAgICAgICkpICE9IG51bGxcbiAgICApIHtcbiAgICAgIHByZWZpeGVzID0gcHJlZml4ZXMuc3Vic3RyKHJbMF0ubGVuZ3RoKTtcbiAgICAgIHByZWZpeE1hcFtyWzFdXSA9IHJbMl07XG4gICAgfVxuICB9XG4gIGNvbnN0IHJlc29sdmVQcm9wZXJ0eSA9ICh2YWw6IHN0cmluZyB8IG51bGwpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBpZiAodmFsKSB7XG4gICAgICBjb25zdCByID0gdmFsLm1hdGNoKC9eXFxzKigoW146XSopOik/KFxcUyspXFxzKiQvKTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGNvbnN0IGlyaSA9IHJbMl0gPyBwcmVmaXhNYXBbclsyXV0gOiBkZWZhdWx0SVJJO1xuICAgICAgICBpZiAoaXJpKSB7XG4gICAgICAgICAgcmV0dXJuIGlyaSArIHJbM107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG4gIGxldCBvcmRlciA9IDE7XG5cbiAgLy8gTGlzdCBvZiBtZXRhZGF0YSBpdGVtcy5cbiAgY29uc3QgcmF3SXRlbXMgPSBtcm9vdC5jaGlsZEVsZW1lbnRzKCkuZm9yRWFjaE5vbk51bGwoKG5vZGU6IEVsZW1lbnQpID0+IHtcbiAgICBpZiAobm9kZS5sb2NhbE5hbWUgPT0gXCJtZXRhXCIpIHtcbiAgICAgIGNvbnN0IHAgPSByZXNvbHZlUHJvcGVydHkobm9kZS5nZXRBdHRyaWJ1dGUoXCJwcm9wZXJ0eVwiKSk7XG4gICAgICBpZiAocCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IHAsXG4gICAgICAgICAgdmFsdWU6IG5vZGUudGV4dENvbnRlbnQsXG4gICAgICAgICAgaWQ6IG5vZGUuZ2V0QXR0cmlidXRlKFwiaWRcIiksXG4gICAgICAgICAgb3JkZXI6IG9yZGVyKyssXG4gICAgICAgICAgcmVmaW5lczogbm9kZS5nZXRBdHRyaWJ1dGUoXCJyZWZpbmVzXCIpLFxuICAgICAgICAgIGxhbmc6IG51bGwsXG4gICAgICAgICAgc2NoZW1lOiByZXNvbHZlUHJvcGVydHkobm9kZS5nZXRBdHRyaWJ1dGUoXCJzY2hlbWVcIikpLFxuICAgICAgICAgIHJvbGU6IG51bGwsXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLkRDKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBwcmVkZWZpbmVkUHJlZml4ZXNbXCJkY3Rlcm1zXCJdICsgbm9kZS5sb2NhbE5hbWUsXG4gICAgICAgIG9yZGVyOiBvcmRlcisrLFxuICAgICAgICBsYW5nOiBub2RlLmdldEF0dHJpYnV0ZShcInhtbDpsYW5nXCIpLFxuICAgICAgICB2YWx1ZTogbm9kZS50ZXh0Q29udGVudCxcbiAgICAgICAgaWQ6IG5vZGUuZ2V0QXR0cmlidXRlKFwiaWRcIiksXG4gICAgICAgIHJlZmluZXM6IG51bGwsXG4gICAgICAgIHNjaGVtZTogbnVsbCxcbiAgICAgICAgcm9sZTogbm9kZS5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpIHx8IG5vZGUuZ2V0QXR0cmlidXRlKFwib3BmOnJvbGVcIiksXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSk7XG5cbiAgLy8gSXRlbXMgZ3JvdXBlZCBieSB0aGVpciB0YXJnZXQgaWQuXG4gIGNvbnN0IHJhd0l0ZW1zQnlUYXJnZXQgPSBCYXNlLm11bHRpSW5kZXhBcnJheShcbiAgICByYXdJdGVtcyxcbiAgICAocmF3SXRlbSkgPT4gcmF3SXRlbS5yZWZpbmVzLFxuICApO1xuICBjb25zdCBtYWtlTWV0YWRhdGEgPSAobWFwOiBSYXdNZXRhKTogTWV0YSA9PlxuICAgIEJhc2UubWFwT2JqKG1hcCwgKHJhd0l0ZW1BcnIsIF9pdGVtTmFtZSkgPT5cbiAgICAgIHJhd0l0ZW1BcnIubWFwKChyYXdJdGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0geyB2OiByYXdJdGVtLnZhbHVlLCBvOiByYXdJdGVtLm9yZGVyIH07XG4gICAgICAgIGlmIChyYXdJdGVtLnNjaGVtZSkge1xuICAgICAgICAgIGVudHJ5W1wic1wiXSA9IHJhd0l0ZW0uc2NoZW1lO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZWZzID0gcmF3SXRlbXNCeVRhcmdldFtgIyR7cmF3SXRlbS5pZH1gXSB8fCBbXTtcbiAgICAgICAgaWYgKHJlZnMubGVuZ3RoIHx8IHJhd0l0ZW0ubGFuZyB8fCByYXdJdGVtLnJvbGUpIHtcbiAgICAgICAgICBpZiAocmF3SXRlbS5sYW5nKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciB4bWw6bGFuZ1xuICAgICAgICAgICAgcmVmcy5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogbWV0YVRlcm1zLmxhbmd1YWdlLFxuICAgICAgICAgICAgICB2YWx1ZTogcmF3SXRlbS5sYW5nLFxuICAgICAgICAgICAgICBsYW5nOiBudWxsLFxuICAgICAgICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgICAgICAgcmVmaW5lczogcmF3SXRlbS5pZCxcbiAgICAgICAgICAgICAgc2NoZW1lOiBudWxsLFxuICAgICAgICAgICAgICBvcmRlcjogcmF3SXRlbS5vcmRlcixcbiAgICAgICAgICAgICAgcm9sZTogbnVsbCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmF3SXRlbS5yb2xlKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBvcGY6cm9sZVxuICAgICAgICAgICAgcmVmcy5wdXNoKHtcbiAgICAgICAgICAgICAgbmFtZTogbWV0YVRlcm1zLnJvbGUsXG4gICAgICAgICAgICAgIHZhbHVlOiByYXdJdGVtLnJvbGUsXG4gICAgICAgICAgICAgIGxhbmc6IG51bGwsXG4gICAgICAgICAgICAgIGlkOiBudWxsLFxuICAgICAgICAgICAgICByZWZpbmVzOiByYXdJdGVtLmlkLFxuICAgICAgICAgICAgICBzY2hlbWU6IG51bGwsXG4gICAgICAgICAgICAgIG9yZGVyOiByYXdJdGVtLm9yZGVyLFxuICAgICAgICAgICAgICByb2xlOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGVudHJ5TWFwID0gQmFzZS5tdWx0aUluZGV4QXJyYXkoXG4gICAgICAgICAgICByZWZzLFxuICAgICAgICAgICAgKHJhd0l0ZW0pID0+IHJhd0l0ZW0ubmFtZSxcbiAgICAgICAgICApO1xuICAgICAgICAgIGVudHJ5W1wiclwiXSA9IG1ha2VNZXRhZGF0YShlbnRyeU1hcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgfSksXG4gICAgKTtcbiAgY29uc3QgbWV0YWRhdGEgPSBtYWtlTWV0YWRhdGEoXG4gICAgQmFzZS5tdWx0aUluZGV4QXJyYXkocmF3SXRlbXMsIChyYXdJdGVtKSA9PlxuICAgICAgcmF3SXRlbS5yZWZpbmVzID8gbnVsbCA6IHJhd0l0ZW0ubmFtZSxcbiAgICApLFxuICApO1xuICBsZXQgbGFuZzogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIGlmIChtZXRhZGF0YVttZXRhVGVybXMubGFuZ3VhZ2VdKSB7XG4gICAgbGFuZyA9IG1ldGFkYXRhW21ldGFUZXJtcy5sYW5ndWFnZV1bMF1bXCJ2XCJdO1xuICB9XG4gIGNvbnN0IHNvcnRNZXRhZGF0YSA9IChtZXRhZGF0YTogTWV0YSkgPT4ge1xuICAgIGZvciAoY29uc3QgdGVybSBpbiBtZXRhZGF0YSkge1xuICAgICAgY29uc3QgYXJyID0gbWV0YWRhdGFbdGVybV07XG4gICAgICBhcnIuc29ydChnZXRNZXRhZGF0YUNvbXBhcmF0b3IodGVybSwgbGFuZykpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgciA9IGFycltpXVtcInJcIl07XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgc29ydE1ldGFkYXRhKHIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBzb3J0TWV0YWRhdGEobWV0YWRhdGEpO1xuICByZXR1cm4gbWV0YWRhdGE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYXRoSmF4SHViKCk6IG9iamVjdCB7XG4gIGNvbnN0IG1hdGggPSB3aW5kb3dbXCJNYXRoSmF4XCJdO1xuICBpZiAobWF0aCkge1xuICAgIHJldHVybiBtYXRoW1wiSHViXCJdO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tNYXRoSmF4KCk6IHZvaWQge1xuICBpZiAoZ2V0TWF0aEpheEh1YigpKSB7XG4gICAgQ3NzQ2FzY2FkZS5zdXBwb3J0ZWROYW1lc3BhY2VzW0Jhc2UuTlMuTUFUSE1MXSA9IHRydWU7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHN1cHBvcnRlZE1lZGlhVHlwZXMgPSB7XG4gIFwiYXBwbGljYXRpb24veGh0bWwreG1sXCI6IHRydWUsXG4gIFwiaW1hZ2UvanBlZ1wiOiB0cnVlLFxuICBcImltYWdlL3BuZ1wiOiB0cnVlLFxuICBcImltYWdlL3N2Zyt4bWxcIjogdHJ1ZSxcbiAgXCJpbWFnZS9naWZcIjogdHJ1ZSxcbiAgXCJhdWRpby9tcDNcIjogdHJ1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCB0cmFuc2Zvcm1lZElkUHJlZml4ID0gXCJ2aXYtaWQtXCI7XG5cbmV4cG9ydCBjbGFzcyBPUEZEb2Mge1xuICBvcGZYTUw6IFhtbERvYy5YTUxEb2NIb2xkZXIgPSBudWxsO1xuICBlbmNYTUw6IFhtbERvYy5YTUxEb2NIb2xkZXIgPSBudWxsO1xuICBpdGVtczogT1BGSXRlbVtdID0gbnVsbDtcbiAgc3BpbmU6IE9QRkl0ZW1bXSA9IG51bGw7XG4gIGl0ZW1NYXA6IHsgW2tleTogc3RyaW5nXTogT1BGSXRlbSB9ID0gbnVsbDtcbiAgaXRlbU1hcEJ5UGF0aDogeyBba2V5OiBzdHJpbmddOiBPUEZJdGVtIH0gPSBudWxsO1xuICB1aWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBiaW5kaW5nczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBsYW5nOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgZXBhZ2VDb3VudDogbnVtYmVyID0gMDtcbiAgcHJlUGFnaW5hdGVkOiBib29sZWFuID0gZmFsc2U7XG4gIGVwYWdlSXNSZW5kZXJlZFBhZ2U6IGJvb2xlYW4gPSB0cnVlO1xuICBlcGFnZUNvdW50Q2FsbGJhY2s6IChwMTogbnVtYmVyKSA9PiB2b2lkIHwgbnVsbCA9IG51bGw7XG4gIG1ldGFkYXRhOiBNZXRhID0ge307XG4gIG5jeFRvYzogT1BGSXRlbSA9IG51bGw7XG4gIHhodG1sVG9jOiBPUEZJdGVtID0gbnVsbDtcbiAgY292ZXI6IE9QRkl0ZW0gPSBudWxsO1xuICBmYWxsYmFja01hcDogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xuICBwYWdlUHJvZ3Jlc3Npb246IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsID0gbnVsbDtcbiAgZG9jdW1lbnRVUkxUcmFuc2Zvcm1lcjogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSBzdG9yZTogRVBVQkRvY1N0b3JlLFxuICAgIHB1YmxpYyByZWFkb25seSBwdWJVUkw6IHN0cmluZyxcbiAgKSB7XG4gICAgdGhpcy5kb2N1bWVudFVSTFRyYW5zZm9ybWVyID0gdGhpcy5jcmVhdGVEb2N1bWVudFVSTFRyYW5zZm9ybWVyKCk7XG4gICAgY2hlY2tNYXRoSmF4KCk7XG4gIH1cblxuICAvLyBGSVhNRTogVFM0MDU1XG4gIGNyZWF0ZURvY3VtZW50VVJMVHJhbnNmb3JtZXIoKTogQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjbGFzcyBPUEZEb2N1bWVudFVSTFRyYW5zZm9ybWVyIGltcGxlbWVudHMgQmFzZS5Eb2N1bWVudFVSTFRyYW5zZm9ybWVyIHtcbiAgICAgIC8qKlxuICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgKi9cbiAgICAgIHRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50OiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHVybCA9IGJhc2VVUkwgKyAoZnJhZ21lbnQgPyBgIyR7ZnJhZ21lbnR9YCA6IFwiXCIpO1xuICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRJZFByZWZpeCArIEJhc2UuZXNjYXBlTmFtZVN0clRvSGV4KHVybCwgXCI6XCIpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICovXG4gICAgICB0cmFuc2Zvcm1VUkwodXJsOiBzdHJpbmcsIGJhc2VVUkw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHIgPSB1cmwubWF0Y2goL14oW14jXSopIz8oLiopJC8pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIGNvbnN0IHBhdGggPSByWzFdIHx8IGJhc2VVUkw7XG4gICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSByWzJdO1xuICAgICAgICAgIGlmIChwYXRoKSB7XG4gICAgICAgICAgICBpZiAoc2VsZi5pdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtLnNyYyA9PT0gcGF0aCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGAjJHt0aGlzLnRyYW5zZm9ybUZyYWdtZW50KGZyYWdtZW50LCBwYXRoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICovXG4gICAgICByZXN0b3JlVVJMKGVuY29kZWQ6IHN0cmluZyk6IHN0cmluZ1tdIHtcbiAgICAgICAgaWYgKGVuY29kZWQuY2hhckF0KDApID09PSBcIiNcIikge1xuICAgICAgICAgIGVuY29kZWQgPSBlbmNvZGVkLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5jb2RlZC5pbmRleE9mKHRyYW5zZm9ybWVkSWRQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgZW5jb2RlZCA9IGVuY29kZWQuc3Vic3RyaW5nKHRyYW5zZm9ybWVkSWRQcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWNvZGVkID0gQmFzZS51bmVzY2FwZVN0ckZyb21IZXgoZW5jb2RlZCwgXCI6XCIpO1xuICAgICAgICBjb25zdCByID0gZGVjb2RlZC5tYXRjaCgvXihbXiNdKikjPyguKikkLyk7XG4gICAgICAgIHJldHVybiByID8gW3JbMV0sIHJbMl1dIDogW107XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgT1BGRG9jdW1lbnRVUkxUcmFuc2Zvcm1lcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGFkYXRhIGlzIG9yZ2FuaXplZCBpbiB0aGUgZm9sbG93aW5nIHdheTogZnVsbHktZXhwYW5kZWQgcHJvcGVydHkgbmFtZXNcbiAgICogKHdpdGggSVJJIHByZWZpeGVzIHByZXBlbmRlZCkgcG9pbnQgdG8gYW4gYXJyYXkgb2YgdmFsdWVzLiBBcnJheSBjb250YWluc1xuICAgKiBhdCBsZWFzdCBvbmUgZWxlbWVudC4gRmlyc3QgZWxlbWVudCBpcyBwcmltYXJ5IGFuZCBzaG91bGQgYmUgdXNlZCBieVxuICAgKiBkZWZhdWx0LiBFbGVtZW50IHZhbHVlcyBhcmUgb2JqZWN0cyBoYXZlIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICogLSBcInZcIiAtIGl0ZW0gdmFsdWUgYXMgc3RyaW5nLFxuICAgKiAtIFwic1wiIC0gc2NoZW1lLFxuICAgKiAtIFwib1wiIC0gaW5kZXggaW4gdGhlIG9yZGVyIG9mIGFwcGVhcmluZyBpbiB0aGUgc291cmNlLFxuICAgKiAtIFwiclwiIC0gcmVmaW5lbWVudCBzdWJtZXRhZGF0YSAob3JnYW5pemVkIGp1c3QgbGlrZSB0aGUgdG9wLWxldmVsXG4gICAqIG1ldGFkYXRhKS5cbiAgICovXG4gIGdldE1ldGFkYXRhKCk6IE1ldGEge1xuICAgIHJldHVybiB0aGlzLm1ldGFkYXRhO1xuICB9XG5cbiAgZ2V0UGF0aEZyb21VUkwodXJsOiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSkge1xuICAgICAgcmV0dXJuIHVybCA9PT0gdGhpcy5wdWJVUkwgPyBcIlwiIDogdXJsO1xuICAgIH1cbiAgICBpZiAodGhpcy5wdWJVUkwpIHtcbiAgICAgIGxldCBlcHViQmFzZVVSTCA9IEJhc2UucmVzb2x2ZVVSTChcIlwiLCB0aGlzLnB1YlVSTCk7XG4gICAgICBpZiAodXJsID09PSBlcHViQmFzZVVSTCB8fCB1cmwgKyBcIi9cIiA9PT0gZXB1YkJhc2VVUkwpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoZXB1YkJhc2VVUkwuY2hhckF0KGVwdWJCYXNlVVJMLmxlbmd0aCAtIDEpICE9IFwiL1wiKSB7XG4gICAgICAgIGVwdWJCYXNlVVJMICs9IFwiL1wiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybC5zdWJzdHIoMCwgZXB1YkJhc2VVUkwubGVuZ3RoKSA9PSBlcHViQmFzZVVSTFxuICAgICAgICA/IGRlY29kZVVSSSh1cmwuc3Vic3RyKGVwdWJCYXNlVVJMLmxlbmd0aCkpXG4gICAgICAgIDogbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gIH1cblxuICBpbml0V2l0aFhNTERvYyhcbiAgICBvcGZYTUw6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgZW5jWE1MOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHppcE1ldGFkYXRhOiBCYXNlLkpTT04sXG4gICAgbWFuaWZlc3RVUkw6IHN0cmluZyxcbiAgKTogVGFzay5SZXN1bHQ8YW55PiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5vcGZYTUwgPSBvcGZYTUw7XG4gICAgdGhpcy5lbmNYTUwgPSBlbmNYTUw7XG4gICAgY29uc3QgcGtnID0gb3BmWE1MLmRvYygpLmNoaWxkKFwicGFja2FnZVwiKTtcbiAgICBjb25zdCB1aWRyZWYgPSBwa2cuYXR0cmlidXRlKFwidW5pcXVlLWlkZW50aWZpZXJcIilbMF07XG4gICAgaWYgKHVpZHJlZikge1xuICAgICAgY29uc3QgdWlkRWxlbSA9IG9wZlhNTC5nZXRFbGVtZW50KGAke29wZlhNTC51cmx9IyR7dWlkcmVmfWApO1xuICAgICAgaWYgKHVpZEVsZW0pIHtcbiAgICAgICAgdGhpcy51aWQgPSB1aWRFbGVtLnRleHRDb250ZW50LnJlcGxhY2UoL1sgXFxuXFxyXFx0XS9nLCBcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3JjVG9GYWxsYmFja0lkID0ge307XG4gICAgdGhpcy5pdGVtcyA9IHBrZ1xuICAgICAgLmNoaWxkKFwibWFuaWZlc3RcIilcbiAgICAgIC5jaGlsZChcIml0ZW1cIilcbiAgICAgIC5hc0FycmF5KClcbiAgICAgIC5tYXAoKG5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBPUEZJdGVtKCk7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBub2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgIGl0ZW0uaW5pdFdpdGhFbGVtZW50KGVsZW0sIG9wZlhNTC51cmwpO1xuICAgICAgICBjb25zdCBmYWxsYmFjayA9IGVsZW0uZ2V0QXR0cmlidXRlKFwiZmFsbGJhY2tcIik7XG4gICAgICAgIGlmIChmYWxsYmFjayAmJiAhc3VwcG9ydGVkTWVkaWFUeXBlc1tpdGVtLm1lZGlhVHlwZV0pIHtcbiAgICAgICAgICBzcmNUb0ZhbGxiYWNrSWRbaXRlbS5zcmNdID0gZmFsbGJhY2s7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZWxmLnhodG1sVG9jICYmIGl0ZW0uaXRlbVByb3BlcnRpZXNbXCJuYXZcIl0pIHtcbiAgICAgICAgICBzZWxmLnhodG1sVG9jID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlbGYuY292ZXIgJiYgaXRlbS5pdGVtUHJvcGVydGllc1tcImNvdmVyLWltYWdlXCJdKSB7XG4gICAgICAgICAgc2VsZi5jb3ZlciA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICB0aGlzLml0ZW1NYXAgPSBCYXNlLmluZGV4QXJyYXkoXG4gICAgICB0aGlzLml0ZW1zLFxuICAgICAgZ2V0T1BGSXRlbUlkIGFzIChwMTogT1BGSXRlbSkgPT4gc3RyaW5nIHwgbnVsbCxcbiAgICApO1xuICAgIHRoaXMuaXRlbU1hcEJ5UGF0aCA9IEJhc2UuaW5kZXhBcnJheSh0aGlzLml0ZW1zLCAoaXRlbSkgPT5cbiAgICAgIHNlbGYuZ2V0UGF0aEZyb21VUkwoaXRlbS5zcmMpLFxuICAgICk7XG4gICAgZm9yIChjb25zdCBzcmMgaW4gc3JjVG9GYWxsYmFja0lkKSB7XG4gICAgICBsZXQgZmFsbGJhY2tTcmMgPSBzcmM7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtTWFwW3NyY1RvRmFsbGJhY2tJZFtmYWxsYmFja1NyY11dO1xuICAgICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3VwcG9ydGVkTWVkaWFUeXBlc1tpdGVtLm1lZGlhVHlwZV0pIHtcbiAgICAgICAgICB0aGlzLmZhbGxiYWNrTWFwW3NyY10gPSBpdGVtLnNyYztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBmYWxsYmFja1NyYyA9IGl0ZW0uc3JjO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNwaW5lID0gcGtnXG4gICAgICAuY2hpbGQoXCJzcGluZVwiKVxuICAgICAgLmNoaWxkKFwiaXRlbXJlZlwiKVxuICAgICAgLmFzQXJyYXkoKVxuICAgICAgLm1hcCgobm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbSA9IG5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgY29uc3QgaWQgPSBlbGVtLmdldEF0dHJpYnV0ZShcImlkcmVmXCIpO1xuICAgICAgICBjb25zdCBpdGVtID0gc2VsZi5pdGVtTWFwW2lkIGFzIHN0cmluZ107XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaXRlbS5pdGVtUmVmRWxlbWVudCA9IGVsZW07XG4gICAgICAgICAgaXRlbS5zcGluZUluZGV4ID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICB9KTtcbiAgICBjb25zdCB0b2NBdHRyID0gcGtnLmNoaWxkKFwic3BpbmVcIikuYXR0cmlidXRlKFwidG9jXCIpWzBdO1xuICAgIGlmICh0b2NBdHRyKSB7XG4gICAgICB0aGlzLm5jeFRvYyA9IHRoaXMuaXRlbU1hcFt0b2NBdHRyXTtcbiAgICB9XG4gICAgY29uc3QgcGFnZVByb2dyZXNzaW9uQXR0ciA9IHBrZ1xuICAgICAgLmNoaWxkKFwic3BpbmVcIilcbiAgICAgIC5hdHRyaWJ1dGUoXCJwYWdlLXByb2dyZXNzaW9uLWRpcmVjdGlvblwiKVswXTtcbiAgICBpZiAocGFnZVByb2dyZXNzaW9uQXR0cikge1xuICAgICAgdGhpcy5wYWdlUHJvZ3Jlc3Npb24gPSBDb25zdGFudHMucGFnZVByb2dyZXNzaW9uT2YocGFnZVByb2dyZXNzaW9uQXR0cik7XG4gICAgfVxuICAgIGNvbnN0IGlkcGZPYmZVUkxzID0gIWVuY1hNTFxuICAgICAgPyBbXVxuICAgICAgOiBlbmNYTUxcbiAgICAgICAgICAuZG9jKClcbiAgICAgICAgICAuY2hpbGQoXCJlbmNyeXB0aW9uXCIpXG4gICAgICAgICAgLmNoaWxkKFwiRW5jcnlwdGVkRGF0YVwiKVxuICAgICAgICAgIC5wcmVkaWNhdGUoXG4gICAgICAgICAgICBYbWxEb2MucHJlZGljYXRlLndpdGhDaGlsZChcbiAgICAgICAgICAgICAgXCJFbmNyeXB0aW9uTWV0aG9kXCIsXG4gICAgICAgICAgICAgIFhtbERvYy5wcmVkaWNhdGUud2l0aEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICBcIkFsZ29yaXRobVwiLFxuICAgICAgICAgICAgICAgIFwiaHR0cDovL3d3dy5pZHBmLm9yZy8yMDA4L2VtYmVkZGluZ1wiLFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApXG4gICAgICAgICAgLmNoaWxkKFwiQ2lwaGVyRGF0YVwiKVxuICAgICAgICAgIC5jaGlsZChcIkNpcGhlclJlZmVyZW5jZVwiKVxuICAgICAgICAgIC5hdHRyaWJ1dGUoXCJVUklcIik7XG4gICAgY29uc3QgbWVkaWFUeXBlRWxlbXMgPSBwa2dcbiAgICAgIC5jaGlsZChcImJpbmRpbmdzXCIpXG4gICAgICAuY2hpbGQoXCJtZWRpYVR5cGVcIilcbiAgICAgIC5hc0FycmF5KCkgYXMgRWxlbWVudFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVkaWFUeXBlRWxlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGhhbmRsZXJJZCA9IG1lZGlhVHlwZUVsZW1zW2ldLmdldEF0dHJpYnV0ZShcImhhbmRsZXJcIik7XG4gICAgICBjb25zdCBtZWRpYVR5cGUgPSBtZWRpYVR5cGVFbGVtc1tpXS5nZXRBdHRyaWJ1dGUoXCJtZWRpYS10eXBlXCIpO1xuICAgICAgaWYgKG1lZGlhVHlwZSAmJiBoYW5kbGVySWQgJiYgdGhpcy5pdGVtTWFwW2hhbmRsZXJJZF0pIHtcbiAgICAgICAgdGhpcy5iaW5kaW5nc1ttZWRpYVR5cGVdID0gdGhpcy5pdGVtTWFwW2hhbmRsZXJJZF0uc3JjO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1ldGFkYXRhID0gcmVhZE1ldGFkYXRhKFxuICAgICAgcGtnLmNoaWxkKFwibWV0YWRhdGFcIiksXG4gICAgICBwa2cuYXR0cmlidXRlKFwicHJlZml4XCIpWzBdLFxuICAgICk7XG4gICAgaWYgKHRoaXMubWV0YWRhdGFbbWV0YVRlcm1zLmxhbmd1YWdlXSkge1xuICAgICAgdGhpcy5sYW5nID0gdGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGFuZ3VhZ2VdWzBdW1widlwiXTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWV0YWRhdGFbbWV0YVRlcm1zLmxheW91dF0pIHtcbiAgICAgIHRoaXMucHJlUGFnaW5hdGVkID1cbiAgICAgICAgdGhpcy5tZXRhZGF0YVttZXRhVGVybXMubGF5b3V0XVswXVtcInZcIl0gPT09IFwicHJlLXBhZ2luYXRlZFwiO1xuICAgIH1cblxuICAgIGlmICghemlwTWV0YWRhdGEpIHtcbiAgICAgIGlmIChpZHBmT2JmVVJMcy5sZW5ndGggPiAwICYmIHRoaXMudWlkKSB7XG4gICAgICAgIC8vIEhhdmUgdG8gZGVvYmZ1c2NhdGUgaW4gSmF2YVNjcmlwdFxuICAgICAgICBjb25zdCBkZW9iZnVzY2F0b3IgPSBtYWtlRGVvYmZ1c2NhdG9yKHRoaXMudWlkKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHBmT2JmVVJMcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuc3RvcmUuZGVvYmZ1c2NhdG9yc1t0aGlzLnB1YlVSTCArIGlkcGZPYmZVUkxzW2ldXSA9IGRlb2JmdXNjYXRvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMucHJlUGFnaW5hdGVkKSB7XG4gICAgICAgIHRoaXMuYXNzaWduQXV0b1BhZ2VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0IG1hbmlmZXN0VGV4dCA9IG5ldyBCYXNlLlN0cmluZ0J1ZmZlcigpO1xuICAgIGNvbnN0IG9iZnVzY2F0aW9ucyA9IHt9O1xuICAgIGlmIChpZHBmT2JmVVJMcy5sZW5ndGggPiAwICYmIHRoaXMudWlkKSB7XG4gICAgICAvLyBEZW9iZnVzY2F0ZSBpbiB0aGUgc2VydmVyLlxuICAgICAgY29uc3Qgb2JmdXNjYXRpb25LZXkgPSBtYWtlT2JmdXNjYXRpb25LZXkodGhpcy51aWQpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHBmT2JmVVJMcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBvYmZ1c2NhdGlvbnNbaWRwZk9iZlVSTHNbaV1dID0gb2JmdXNjYXRpb25LZXk7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgemlwTWV0YWRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gemlwTWV0YWRhdGFbaV07XG4gICAgICBjb25zdCBlbmNvZGVkUGF0aCA9IGVudHJ5W1wiblwiXTtcbiAgICAgIGlmIChlbmNvZGVkUGF0aCkge1xuICAgICAgICBjb25zdCBwYXRoID0gZGVjb2RlVVJJKGVuY29kZWRQYXRoKTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuaXRlbU1hcEJ5UGF0aFtwYXRoXTtcbiAgICAgICAgbGV0IG1lZGlhVHlwZTogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgaXRlbS5jb21wcmVzc2VkID0gZW50cnlbXCJtXCJdICE9IDA7XG4gICAgICAgICAgaXRlbS5jb21wcmVzc2VkU2l6ZSA9IGVudHJ5W1wiY1wiXTtcbiAgICAgICAgICBpZiAoaXRlbS5tZWRpYVR5cGUpIHtcbiAgICAgICAgICAgIG1lZGlhVHlwZSA9IGl0ZW0ubWVkaWFUeXBlLnJlcGxhY2UoL1xccysvZywgXCJcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9iZnVzY2F0aW9uID0gb2JmdXNjYXRpb25zW3BhdGhdO1xuICAgICAgICBpZiAobWVkaWFUeXBlIHx8IG9iZnVzY2F0aW9uKSB7XG4gICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChlbmNvZGVkUGF0aCk7XG4gICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChcIiBcIik7XG4gICAgICAgICAgbWFuaWZlc3RUZXh0LmFwcGVuZChtZWRpYVR5cGUgfHwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIik7XG4gICAgICAgICAgaWYgKG9iZnVzY2F0aW9uKSB7XG4gICAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKFwiIFwiKTtcbiAgICAgICAgICAgIG1hbmlmZXN0VGV4dC5hcHBlbmQob2JmdXNjYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYW5pZmVzdFRleHQuYXBwZW5kKFwiXFxuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHNlbGYuYXNzaWduQXV0b1BhZ2VzKCk7XG4gICAgcmV0dXJuIE5ldC5hamF4KFxuICAgICAgbWFuaWZlc3RVUkwsXG4gICAgICBOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUuREVGQVVMVCxcbiAgICAgIFwiUE9TVFwiLFxuICAgICAgbWFuaWZlc3RUZXh0LnRvU3RyaW5nKCksXG4gICAgICBcInRleHQvcGxhaW5cIixcbiAgICApO1xuICB9XG5cbiAgYXNzaWduQXV0b1BhZ2VzKCk6IHZvaWQge1xuICAgIGxldCBlcGFnZSA9IDA7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIHRoaXMuc3BpbmUpIHtcbiAgICAgIGNvbnN0IGVwYWdlQ291bnQgPSB0aGlzLnByZVBhZ2luYXRlZFxuICAgICAgICA/IDFcbiAgICAgICAgOiBNYXRoLmNlaWwoaXRlbS5jb21wcmVzc2VkU2l6ZSAvIDEwMjQpO1xuICAgICAgaXRlbS5lcGFnZSA9IGVwYWdlO1xuICAgICAgaXRlbS5lcGFnZUNvdW50ID0gZXBhZ2VDb3VudDtcbiAgICAgIGVwYWdlICs9IGVwYWdlQ291bnQ7XG4gICAgfVxuICAgIHRoaXMuZXBhZ2VDb3VudCA9IGVwYWdlO1xuXG4gICAgaWYgKHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKSB7XG4gICAgICB0aGlzLmVwYWdlQ291bnRDYWxsYmFjayh0aGlzLmVwYWdlQ291bnQpO1xuICAgIH1cbiAgfVxuXG4gIHNldEVQYWdlQ291bnRNb2RlKGVwYWdlSXNSZW5kZXJlZFBhZ2U6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmVwYWdlSXNSZW5kZXJlZFBhZ2UgPSBlcGFnZUlzUmVuZGVyZWRQYWdlIHx8IHRoaXMucHJlUGFnaW5hdGVkO1xuICB9XG5cbiAgY291bnRFUGFnZXMoXG4gICAgZXBhZ2VDb3VudENhbGxiYWNrOiAoKHAxOiBudW1iZXIpID0+IHZvaWQpIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrID0gZXBhZ2VDb3VudENhbGxiYWNrO1xuXG4gICAgaWYgKHRoaXMuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgaWYgKHRoaXMucHJlUGFnaW5hdGVkICYmIHRoaXMuZXBhZ2VDb3VudCA9PSAwKSB7XG4gICAgICAgIHRoaXMuYXNzaWduQXV0b1BhZ2VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgbGV0IGVwYWdlID0gMDtcbiAgICBsZXQgaSA9IDA7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwiY291bnRFUGFnZXNcIik7XG4gICAgZnJhbWVcbiAgICAgIC5sb29wV2l0aEZyYW1lKChsb29wRnJhbWUpID0+IHtcbiAgICAgICAgaWYgKGkgPT09IHRoaXMuc3BpbmUubGVuZ3RoKSB7XG4gICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5zcGluZVtpKytdO1xuICAgICAgICBpdGVtLmVwYWdlID0gZXBhZ2U7XG4gICAgICAgIHRoaXMuc3RvcmUubG9hZChpdGVtLnNyYykudGhlbigoeG1sZG9jKSA9PiB7XG4gICAgICAgICAgLy8gQWNjb3JkaW5nIHRvIHRoZSBvbGQgY29tbWVudCxcbiAgICAgICAgICAvLyBcIkVzdGltYXRlIHRoYXQgb2Zmc2V0PTI3MDAgcm91Z2hseSBjb3JyZXNwb25kcyB0byAxMDI0IGJ5dGVzIG9mIGNvbXByZXNzZWQgc2l6ZS5cIlxuICAgICAgICAgIC8vIEhvd2V2ZXIsIGl0IHNob3VsZCBkZXBlbmQgb24gdGhlIGxhbmd1YWdlLlxuICAgICAgICAgIC8vIEZ1cnRoZXIgYWRqdXN0bWVudCBuZWVkZWQuXG5cbiAgICAgICAgICAvL2xldCBvZmZzZXRQZXJFUGFnZSA9IDI3MDA7XG4gICAgICAgICAgbGV0IG9mZnNldFBlckVQYWdlID0gMTgwMDtcbiAgICAgICAgICBjb25zdCBsYW5nID0geG1sZG9jLmxhbmcgfHwgdGhpcy5sYW5nO1xuICAgICAgICAgIGlmIChsYW5nICYmIGxhbmcubWF0Y2goL14oamF8a298emgpLykpIHtcbiAgICAgICAgICAgIG9mZnNldFBlckVQYWdlIC89IDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0uZXBhZ2VDb3VudCA9IE1hdGguY2VpbCh4bWxkb2MuZ2V0VG90YWxPZmZzZXQoKSAvIG9mZnNldFBlckVQYWdlKTtcbiAgICAgICAgICBlcGFnZSArPSBpdGVtLmVwYWdlQ291bnQ7XG4gICAgICAgICAgdGhpcy5lcGFnZUNvdW50ID0gZXBhZ2U7XG4gICAgICAgICAgaWYgKHRoaXMuZXBhZ2VDb3VudENhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmVwYWdlQ291bnRDYWxsYmFjayh0aGlzLmVwYWdlQ291bnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC50aGVuRmluaXNoKGZyYW1lKTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGZha2UgT1BGIFwiZG9jdW1lbnRcIiB0aGF0IGNvbnRhaW5zIE9QUyBjaGFwdGVycy5cbiAgICovXG4gIGluaXRXaXRoQ2hhcHRlcnMocGFyYW1zOiBPUEZJdGVtUGFyYW1bXSwgZG9jPzogRG9jdW1lbnQgfCBudWxsKSB7XG4gICAgdGhpcy5pdGVtTWFwID0ge307XG4gICAgdGhpcy5pdGVtTWFwQnlQYXRoID0ge307XG4gICAgdGhpcy5pdGVtcyA9IFtdO1xuICAgIHRoaXMuc3BpbmUgPSB0aGlzLml0ZW1zO1xuXG4gICAgLy8gY3JlYXRlIGEgbWluaW11bSBmYWtlIE9QRiBYTUwgZm9yIG5hdmlnYXRpb24gd2l0aCBFUFVCIENGSVxuICAgIGNvbnN0IG9wZlhNTCA9ICh0aGlzLm9wZlhNTCA9IG5ldyBYbWxEb2MuWE1MRG9jSG9sZGVyKFxuICAgICAgbnVsbCxcbiAgICAgIFwiXCIsXG4gICAgICBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKFwiPHNwaW5lPjwvc3BpbmU+XCIsIFwidGV4dC94bWxcIiksXG4gICAgKSk7XG4gICAgcGFyYW1zLmZvckVhY2goKHBhcmFtKSA9PiB7XG4gICAgICBjb25zdCBpdGVtID0gbmV3IE9QRkl0ZW0oKTtcbiAgICAgIGl0ZW0uaW5pdFdpdGhQYXJhbShwYXJhbSk7XG4gICAgICBBc3NlcnRzLmFzc2VydChpdGVtLmlkKTtcbiAgICAgIGNvbnN0IGl0ZW1yZWYgPSBvcGZYTUwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIml0ZW1yZWZcIik7XG4gICAgICBpdGVtcmVmLnNldEF0dHJpYnV0ZShcImlkcmVmXCIsIGl0ZW0uaWQpO1xuICAgICAgb3BmWE1MLnJvb3QuYXBwZW5kQ2hpbGQoaXRlbXJlZik7XG4gICAgICBpdGVtLml0ZW1SZWZFbGVtZW50ID0gaXRlbXJlZjtcbiAgICAgIHRoaXMuaXRlbU1hcFtpdGVtLmlkXSA9IGl0ZW07XG4gICAgICBsZXQgcGF0aCA9IHRoaXMuZ2V0UGF0aEZyb21VUkwocGFyYW0udXJsKTtcbiAgICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgICAgcGF0aCA9IHBhcmFtLnVybDtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXRlbU1hcEJ5UGF0aFtwYXRoXSA9IGl0ZW07XG4gICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgfSk7XG4gICAgaWYgKGRvYykge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmUuYWRkRG9jdW1lbnQocGFyYW1zWzBdLnVybCwgZG9jKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGluaXRXaXRoV2ViUHViTWFuaWZlc3QoXG4gICAgbWFuaWZlc3RPYmo6IEJhc2UuSlNPTixcbiAgICBkb2M/OiBEb2N1bWVudCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmIChtYW5pZmVzdE9ialtcInJlYWRpbmdQcm9ncmVzc2lvblwiXSkge1xuICAgICAgdGhpcy5wYWdlUHJvZ3Jlc3Npb24gPSBtYW5pZmVzdE9ialtcInJlYWRpbmdQcm9ncmVzc2lvblwiXTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWV0YWRhdGEgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5tZXRhZGF0YSA9IHt9O1xuICAgIH1cbiAgICBjb25zdCB0aXRsZSA9XG4gICAgICAoZG9jICYmIGRvYy50aXRsZSkgfHxcbiAgICAgIG1hbmlmZXN0T2JqW1wibmFtZVwiXSB8fFxuICAgICAgKG1hbmlmZXN0T2JqW1wibWV0YWRhdGFcIl0gJiYgbWFuaWZlc3RPYmpbXCJtZXRhZGF0YVwiXVtcInRpdGxlXCJdKTtcbiAgICBpZiAodGl0bGUpIHtcbiAgICAgIHRoaXMubWV0YWRhdGFbbWV0YVRlcm1zLnRpdGxlXSA9IFt7IHY6IHRpdGxlIH1dO1xuICAgIH1cbiAgICAvLyBUT0RPOiBvdGhlciBtZXRhZGF0YS4uLlxuXG4gICAgY29uc3QgcHJpbWFyeUVudHJ5UGF0aCA9IHRoaXMuZ2V0UGF0aEZyb21VUkwodGhpcy5wdWJVUkwpO1xuICAgIGlmICghbWFuaWZlc3RPYmpbXCJyZWFkaW5nT3JkZXJcIl0gJiYgZG9jICYmIHByaW1hcnlFbnRyeVBhdGggIT09IG51bGwpIHtcbiAgICAgIG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdID0gW2VuY29kZVVSSShwcmltYXJ5RW50cnlQYXRoKV07XG5cbiAgICAgIC8vIEZpbmQgVE9DIGluIHRoZSBwcmltYXJ5IGVudHJ5IChYKUhUTUxcbiAgICAgIGNvbnN0IHNlbGVjdG9yID1cbiAgICAgICAgXCJbcm9sZT1kb2MtdG9jXSBhW2hyZWZdLFwiICtcbiAgICAgICAgXCJbcm9sZT1kaXJlY3RvcnldIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIm5hdiBsaSBhW2hyZWZdLFwiICtcbiAgICAgICAgXCIudG9jIGFbaHJlZl0sXCIgK1xuICAgICAgICBcIiN0b2MgYVtocmVmXVwiO1xuICAgICAgQXJyYXkuZnJvbShkb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpLmZvckVhY2goKGFuY2hvckVsZW0pID0+IHtcbiAgICAgICAgY29uc3QgaHJlZk5vRnJhZ21lbnQgPSBCYXNlLnN0cmlwRnJhZ21lbnQoXG4gICAgICAgICAgQmFzZS5yZXNvbHZlVVJMKGFuY2hvckVsZW0uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSwgdGhpcy5wdWJVUkwpLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBwYXRoID0gdGhpcy5nZXRQYXRoRnJvbVVSTChocmVmTm9GcmFnbWVudCk7XG4gICAgICAgIGNvbnN0IHVybCA9IHBhdGggIT09IG51bGwgPyBlbmNvZGVVUkkocGF0aCkgOiBocmVmTm9GcmFnbWVudDtcbiAgICAgICAgaWYgKG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLmluZGV4T2YodXJsKSA9PSAtMSkge1xuICAgICAgICAgIG1hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLnB1c2godXJsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3QgcGFyYW1zID0gW107XG4gICAgbGV0IGl0ZW1Db3VudCA9IDA7XG4gICAgbGV0IHRvY0ZvdW5kID0gLTE7XG4gICAgW21hbmlmZXN0T2JqW1wicmVhZGluZ09yZGVyXCJdLCBtYW5pZmVzdE9ialtcInJlc291cmNlc1wiXV0uZm9yRWFjaChcbiAgICAgIChyZWFkaW5nT3JkZXJPclJlc291cmNlcykgPT4ge1xuICAgICAgICBpZiAocmVhZGluZ09yZGVyT3JSZXNvdXJjZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIHJlYWRpbmdPcmRlck9yUmVzb3VyY2VzLmZvckVhY2goKGl0ZW1PYmopID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzSW5SZWFkaW5nT3JkZXIgPSBtYW5pZmVzdE9ialtcInJlYWRpbmdPcmRlclwiXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgaXRlbU9iaixcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjb25zdCB1cmwgPVxuICAgICAgICAgICAgICB0eXBlb2YgaXRlbU9iaiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gaXRlbU9ialxuICAgICAgICAgICAgICAgIDogaXRlbU9iai51cmwgfHwgaXRlbU9iai5ocmVmO1xuICAgICAgICAgICAgY29uc3QgZW5jb2RpbmdGb3JtYXQgPVxuICAgICAgICAgICAgICB0eXBlb2YgaXRlbU9iaiA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgIDogaXRlbU9iai5lbmNvZGluZ0Zvcm1hdCB8fFxuICAgICAgICAgICAgICAgICAgKGl0ZW1PYmouaHJlZiAmJiBpdGVtT2JqLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICBcIlwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBpc0luUmVhZGluZ09yZGVyIHx8XG4gICAgICAgICAgICAgIGVuY29kaW5nRm9ybWF0ID09PSBcInRleHQvaHRtbFwiIHx8XG4gICAgICAgICAgICAgIGVuY29kaW5nRm9ybWF0ID09PSBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiIHx8XG4gICAgICAgICAgICAgIC8oXnxcXC8pKFteL10rXFwuKHg/aHRtbHxodG18eGh0KXxbXi8uXSopKFsjP118JCkvLnRlc3QodXJsKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0ge1xuICAgICAgICAgICAgICAgIHVybDogQmFzZS5yZXNvbHZlVVJMKEJhc2UuY29udmVydFNwZWNpYWxVUkwodXJsKSwgdGhpcy5wdWJVUkwpLFxuICAgICAgICAgICAgICAgIGluZGV4OiBpdGVtQ291bnQrKyxcbiAgICAgICAgICAgICAgICBzdGFydFBhZ2U6IG51bGwsXG4gICAgICAgICAgICAgICAgc2tpcFBhZ2VzQmVmb3JlOiBudWxsLFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAoaXRlbU9iai5yZWwgPT09IFwiY29udGVudHNcIiAmJiB0b2NGb3VuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0b2NGb3VuZCA9IHBhcmFtLmluZGV4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBhcmFtcy5wdXNoKHBhcmFtKTtcblxuICAgICAgICAgICAgICAvL1RPRE86IGl0ZW1zIG5vdCBpbiByZWFkaW5nT3JkZXIgc2hvdWxkIGJlIGV4Y2x1ZGVkIGZyb20gbGluZWFyIHJlYWRpbmcgYnV0IGF2YWlsYWJsZSB3aXRoIGludGVybmFsIGxpbmsgbmF2aWdhdGlvbi5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcImluaXRXaXRoV2ViUHViTWFuaWZlc3RcIik7XG4gICAgdGhpcy5pbml0V2l0aENoYXB0ZXJzKHBhcmFtcykudGhlbigoKSA9PiB7XG4gICAgICBpZiAodG9jRm91bmQgIT09IC0xKSB7XG4gICAgICAgIHRoaXMueGh0bWxUb2MgPSB0aGlzLml0ZW1zW3RvY0ZvdW5kXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLnhodG1sVG9jKSB7XG4gICAgICAgIHRoaXMueGh0bWxUb2MgPSB0aGlzLml0ZW1NYXBCeVBhdGhbcHJpbWFyeUVudHJ5UGF0aF07XG4gICAgICB9XG5cbiAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybiBjZmlcbiAgICovXG4gIGdldENGSShzcGluZUluZGV4OiBudW1iZXIsIG9mZnNldEluSXRlbTogbnVtYmVyKTogVGFzay5SZXN1bHQ8c3RyaW5nIHwgbnVsbD4ge1xuICAgIGNvbnN0IGl0ZW0gPSB0aGlzLnNwaW5lW3NwaW5lSW5kZXhdO1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPHN0cmluZyB8IG51bGw+ID0gVGFzay5uZXdGcmFtZShcImdldENGSVwiKTtcbiAgICB0aGlzLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9IHhtbGRvYy5nZXROb2RlQnlPZmZzZXQob2Zmc2V0SW5JdGVtKTtcbiAgICAgIGxldCBjZmk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB4bWxkb2MuZ2V0Tm9kZU9mZnNldChub2RlLCAwLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IG9mZnNldEluTm9kZSA9IG9mZnNldEluSXRlbSAtIHN0YXJ0T2Zmc2V0O1xuICAgICAgICBjb25zdCBmcmFnbWVudCA9IG5ldyBDRkkuRnJhZ21lbnQoKTtcbiAgICAgICAgZnJhZ21lbnQucHJlcGVuZFBhdGhGcm9tTm9kZShub2RlLCBvZmZzZXRJbk5vZGUsIGZhbHNlLCBudWxsKTtcbiAgICAgICAgaWYgKGl0ZW0uaXRlbVJlZkVsZW1lbnQpIHtcbiAgICAgICAgICBmcmFnbWVudC5wcmVwZW5kUGF0aEZyb21Ob2RlKGl0ZW0uaXRlbVJlZkVsZW1lbnQsIDAsIGZhbHNlLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBjZmkgPSBmcmFnbWVudC50b1N0cmluZygpO1xuICAgICAgfVxuICAgICAgZnJhbWUuZmluaXNoKGNmaSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcmVzb2x2ZUZyYWdtZW50KGZyYWdzdHI6IHN0cmluZyB8IG51bGwpOiBUYXNrLlJlc3VsdDxQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gVGFzay5oYW5kbGUoXG4gICAgICBcInJlc29sdmVGcmFnbWVudFwiLFxuICAgICAgKGZyYW1lOiBUYXNrLkZyYW1lPFBvc2l0aW9uIHwgbnVsbD4pOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKCFmcmFnc3RyKSB7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZnJhZ21lbnQgPSBuZXcgQ0ZJLkZyYWdtZW50KCk7XG4gICAgICAgIGZyYWdtZW50LmZyb21TdHJpbmcoZnJhZ3N0cik7XG4gICAgICAgIGxldCBpdGVtOiBPUEZJdGVtO1xuICAgICAgICBpZiAoc2VsZi5vcGZYTUwpIHtcbiAgICAgICAgICBjb25zdCBvcGZOYXYgPSBmcmFnbWVudC5uYXZpZ2F0ZShzZWxmLm9wZlhNTC5kb2N1bWVudCk7XG4gICAgICAgICAgaWYgKG9wZk5hdi5ub2RlLm5vZGVUeXBlICE9IDEgfHwgb3BmTmF2LmFmdGVyIHx8ICFvcGZOYXYucmVmKSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGVsZW0gPSBvcGZOYXYubm9kZSBhcyBFbGVtZW50O1xuICAgICAgICAgIGNvbnN0IGlkcmVmID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJpZHJlZlwiKTtcbiAgICAgICAgICBpZiAoZWxlbS5sb2NhbE5hbWUgIT0gXCJpdGVtcmVmXCIgfHwgIWlkcmVmIHx8ICFzZWxmLml0ZW1NYXBbaWRyZWZdKSB7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0gPSBzZWxmLml0ZW1NYXBbaWRyZWZdO1xuICAgICAgICAgIGZyYWdtZW50ID0gb3BmTmF2LnJlZjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtID0gc2VsZi5zcGluZVswXTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgICAgIGNvbnN0IG5vZGVOYXYgPSBmcmFnbWVudC5uYXZpZ2F0ZSh4bWxkb2MuZG9jdW1lbnQpO1xuICAgICAgICAgIGNvbnN0IG9mZnNldCA9IHhtbGRvYy5nZXROb2RlT2Zmc2V0KFxuICAgICAgICAgICAgbm9kZU5hdi5ub2RlLFxuICAgICAgICAgICAgbm9kZU5hdi5vZmZzZXQsXG4gICAgICAgICAgICBub2RlTmF2LmFmdGVyLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHtcbiAgICAgICAgICAgIHNwaW5lSW5kZXg6IGl0ZW0uc3BpbmVJbmRleCxcbiAgICAgICAgICAgIG9mZnNldEluSXRlbTogb2Zmc2V0LFxuICAgICAgICAgICAgcGFnZUluZGV4OiAtMSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgKGZyYW1lOiBUYXNrLkZyYW1lPFBvc2l0aW9uIHwgbnVsbD4sIGVycjogRXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwiQ2Fubm90IHJlc29sdmUgZnJhZ21lbnQ6XCIsIGZyYWdzdHIpO1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICByZXNvbHZlRVBhZ2UoZXBhZ2U6IG51bWJlcik6IFRhc2suUmVzdWx0PFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiBUYXNrLmhhbmRsZShcbiAgICAgIFwicmVzb2x2ZUVQYWdlXCIsXG4gICAgICAoZnJhbWU6IFRhc2suRnJhbWU8UG9zaXRpb24gfCBudWxsPik6IHZvaWQgPT4ge1xuICAgICAgICBpZiAoZXBhZ2UgPD0gMCkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaCh7IHNwaW5lSW5kZXg6IDAsIG9mZnNldEluSXRlbTogMCwgcGFnZUluZGV4OiAtMSB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGYuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgICAgIGxldCBzcGluZUluZGV4ID0gc2VsZi5zcGluZS5maW5kSW5kZXgoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpdGVtLmVwYWdlID09IDAgJiYgaXRlbS5lcGFnZUNvdW50ID09IDApIHx8XG4gICAgICAgICAgICAgIChpdGVtLmVwYWdlIDw9IGVwYWdlICYmIGl0ZW0uZXBhZ2UgKyBpdGVtLmVwYWdlQ291bnQgPiBlcGFnZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHNwaW5lSW5kZXggPT0gLTEpIHtcbiAgICAgICAgICAgIHNwaW5lSW5kZXggPSBzZWxmLnNwaW5lLmxlbmd0aCAtIDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBpdGVtID0gc2VsZi5zcGluZVtzcGluZUluZGV4XTtcbiAgICAgICAgICBpZiAoIWl0ZW0gfHwgaXRlbS5lcGFnZUNvdW50ID09IDApIHtcbiAgICAgICAgICAgIGl0ZW0gPSBzZWxmLnNwaW5lWy0tc3BpbmVJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IE1hdGguZmxvb3IoZXBhZ2UgLSBpdGVtLmVwYWdlKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2goeyBzcGluZUluZGV4LCBvZmZzZXRJbkl0ZW06IC0xLCBwYWdlSW5kZXg6IHBhZ2VJbmRleCB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNwaW5lSW5kZXggPSBCYXNlLmJpbmFyeVNlYXJjaChzZWxmLnNwaW5lLmxlbmd0aCwgKGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHNlbGYuc3BpbmVbaW5kZXhdO1xuICAgICAgICAgIHJldHVybiBpdGVtLmVwYWdlICsgaXRlbS5lcGFnZUNvdW50ID4gZXBhZ2U7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc3BpbmVJbmRleCA9PSBzZWxmLnNwaW5lLmxlbmd0aCkge1xuICAgICAgICAgIHNwaW5lSW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtID0gc2VsZi5zcGluZVtzcGluZUluZGV4XTtcbiAgICAgICAgc2VsZi5zdG9yZS5sb2FkKGl0ZW0uc3JjKS50aGVuKCh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpID0+IHtcbiAgICAgICAgICBlcGFnZSAtPSBpdGVtLmVwYWdlO1xuICAgICAgICAgIGlmIChlcGFnZSA+IGl0ZW0uZXBhZ2VDb3VudCkge1xuICAgICAgICAgICAgZXBhZ2UgPSBpdGVtLmVwYWdlQ291bnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICAgIGlmIChlcGFnZSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsT2Zmc2V0ID0geG1sZG9jLmdldFRvdGFsT2Zmc2V0KCk7XG4gICAgICAgICAgICBvZmZzZXQgPSBNYXRoLnJvdW5kKCh0b3RhbE9mZnNldCAqIGVwYWdlKSAvIGl0ZW0uZXBhZ2VDb3VudCk7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ID09IHRvdGFsT2Zmc2V0KSB7XG4gICAgICAgICAgICAgIG9mZnNldC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmcmFtZS5maW5pc2goeyBzcGluZUluZGV4LCBvZmZzZXRJbkl0ZW06IG9mZnNldCwgcGFnZUluZGV4OiAtMSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgKGZyYW1lOiBUYXNrLkZyYW1lPFBvc2l0aW9uIHwgbnVsbD4sIGVycjogRXJyb3IpOiB2b2lkID0+IHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIud2FybihlcnIsIFwiQ2Fubm90IHJlc29sdmUgZXBhZ2U6XCIsIGVwYWdlKTtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgZ2V0RVBhZ2VGcm9tUG9zaXRpb24ocG9zaXRpb246IFBvc2l0aW9uKTogVGFzay5SZXN1bHQ8bnVtYmVyPiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuc3BpbmVbcG9zaXRpb24uc3BpbmVJbmRleF07XG4gICAgaWYgKHRoaXMuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgY29uc3QgZXBhZ2UgPSBpdGVtLmVwYWdlICsgcG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KGVwYWdlKTtcbiAgICB9XG4gICAgaWYgKHBvc2l0aW9uLm9mZnNldEluSXRlbSA8PSAwKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoaXRlbS5lcGFnZSk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPG51bWJlcj4gPSBUYXNrLm5ld0ZyYW1lKFwiZ2V0RVBhZ2VcIik7XG4gICAgdGhpcy5zdG9yZS5sb2FkKGl0ZW0uc3JjKS50aGVuKCh4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIpID0+IHtcbiAgICAgIGNvbnN0IHRvdGFsT2Zmc2V0ID0geG1sZG9jLmdldFRvdGFsT2Zmc2V0KCk7XG4gICAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1pbih0b3RhbE9mZnNldCwgcG9zaXRpb24ub2Zmc2V0SW5JdGVtKTtcbiAgICAgIGZyYW1lLmZpbmlzaChpdGVtLmVwYWdlICsgKG9mZnNldCAqIGl0ZW0uZXBhZ2VDb3VudCkgLyB0b3RhbE9mZnNldCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFBhZ2VBbmRQb3NpdGlvbiA9IHtcbiAgcGFnZTogVnRyZWUuUGFnZTtcbiAgcG9zaXRpb246IFBvc2l0aW9uO1xufTtcblxuZXhwb3J0IGNvbnN0IG1ha2VQYWdlQW5kUG9zaXRpb24gPSAoXG4gIHBhZ2U6IFZ0cmVlLlBhZ2UsXG4gIHBhZ2VJbmRleDogbnVtYmVyLFxuKTogUGFnZUFuZFBvc2l0aW9uID0+ICh7XG4gIHBhZ2UsXG4gIHBvc2l0aW9uOiB7XG4gICAgc3BpbmVJbmRleDogcGFnZS5zcGluZUluZGV4LFxuICAgIHBhZ2VJbmRleCxcbiAgICBvZmZzZXRJbkl0ZW06IHBhZ2Uub2Zmc2V0LFxuICB9LFxufSk7XG5cbmV4cG9ydCB0eXBlIE9QRlZpZXdJdGVtID0ge1xuICBpdGVtOiBPUEZJdGVtO1xuICB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXI7XG4gIGluc3RhbmNlOiBPUFMuU3R5bGVJbnN0YW5jZTtcbiAgbGF5b3V0UG9zaXRpb25zOiBWdHJlZS5MYXlvdXRQb3NpdGlvbltdO1xuICBwYWdlczogVnRyZWUuUGFnZVtdO1xuICBjb21wbGV0ZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCBjbGFzcyBPUEZWaWV3IGltcGxlbWVudHMgVmdlbi5DdXN0b21SZW5kZXJlckZhY3Rvcnkge1xuICBzcGluZUl0ZW1zOiBPUEZWaWV3SXRlbVtdID0gW107XG4gIHNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zOiBUYXNrLkNvbnRpbnVhdGlvbjxhbnk+W11bXSA9IFtdO1xuICBwcmVmOiBFeHBycy5QcmVmZXJlbmNlcztcbiAgY2xpZW50TGF5b3V0OiBWZ2VuLkRlZmF1bHRDbGllbnRMYXlvdXQ7XG4gIGNvdW50ZXJTdG9yZTogQ291bnRlcnMuQ291bnRlclN0b3JlO1xuICB0b2NBdXRvaGlkZTogYm9vbGVhbiA9IGZhbHNlO1xuICB0b2NWaWV3PzogVG9jLlRPQ1ZpZXc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IG9wZjogT1BGRG9jLFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydDogVmdlbi5WaWV3cG9ydCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgZm9udE1hcHBlcjogRm9udC5NYXBwZXIsXG4gICAgcHJlZjogRXhwcnMuUHJlZmVyZW5jZXMsXG4gICAgcHVibGljIHJlYWRvbmx5IHBhZ2VTaGVldFNpemVSZXBvcnRlcjogKFxuICAgICAgcDE6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSxcbiAgICAgIHAyOiB7IFtrZXk6IHN0cmluZ106IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB9LFxuICAgICAgcDM6IG51bWJlcixcbiAgICAgIHA0OiBudW1iZXIsXG4gICAgKSA9PiBhbnksXG4gICkge1xuICAgIHRoaXMucHJlZiA9IEV4cHJzLmNsb25lUHJlZmVyZW5jZXMocHJlZik7XG4gICAgdGhpcy5jbGllbnRMYXlvdXQgPSBuZXcgVmdlbi5EZWZhdWx0Q2xpZW50TGF5b3V0KHZpZXdwb3J0KTtcbiAgICB0aGlzLmNvdW50ZXJTdG9yZSA9IG5ldyBDb3VudGVycy5Db3VudGVyU3RvcmUob3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQYWdlKHBvc2l0aW9uOiBQb3NpdGlvbik6IFZ0cmVlLlBhZ2Uge1xuICAgIGNvbnN0IHZpZXdJdGVtID0gdGhpcy5zcGluZUl0ZW1zW3Bvc2l0aW9uLnNwaW5lSW5kZXhdO1xuICAgIHJldHVybiB2aWV3SXRlbSA/IHZpZXdJdGVtLnBhZ2VzW3Bvc2l0aW9uLnBhZ2VJbmRleF0gOiBudWxsO1xuICB9XG5cbiAgZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbihcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICk6IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb24gfCBudWxsIHtcbiAgICBpZiAodGhpcy5vcGYucGFnZVByb2dyZXNzaW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGYucGFnZVByb2dyZXNzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB2aWV3SXRlbSA9IHRoaXMuc3BpbmVJdGVtc1twb3NpdGlvbiA/IHBvc2l0aW9uLnNwaW5lSW5kZXggOiAwXTtcbiAgICAgIHJldHVybiB2aWV3SXRlbSA/IHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VQcm9ncmVzc2lvbiA6IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBmaW5pc2hQYWdlQ29udGFpbmVyKFxuICAgIHZpZXdJdGVtOiBPUEZWaWV3SXRlbSxcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIHBhZ2VJbmRleDogbnVtYmVyLFxuICApIHtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgcGFnZS5jb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gXCJcIjtcbiAgICBwYWdlLmNvbnRhaW5lci5zdHlsZS50b3AgPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcbiAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS1wYWdlLXNpZGVcIixcbiAgICAgIHBhZ2Uuc2lkZSBhcyBzdHJpbmcsXG4gICAgKTtcbiAgICBjb25zdCBvbGRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICBwYWdlLmlzRmlyc3RQYWdlID0gdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ID09IDAgJiYgcGFnZUluZGV4ID09IDA7XG4gICAgdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XSA9IHBhZ2U7XG5cbiAgICBpZiAodGhpcy5vcGYuZXBhZ2VJc1JlbmRlcmVkUGFnZSkge1xuICAgICAgaWYgKHBhZ2VJbmRleCA9PSAwICYmIHZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleCA+IDApIHtcbiAgICAgICAgY29uc3QgcHJldkl0ZW0gPSB0aGlzLm9wZi5zcGluZVt2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXggLSAxXTtcbiAgICAgICAgdmlld0l0ZW0uaXRlbS5lcGFnZSA9IHByZXZJdGVtLmVwYWdlICsgcHJldkl0ZW0uZXBhZ2VDb3VudDtcbiAgICAgIH1cbiAgICAgIHZpZXdJdGVtLml0ZW0uZXBhZ2VDb3VudCA9IHZpZXdJdGVtLnBhZ2VzLmxlbmd0aDtcbiAgICAgIHRoaXMub3BmLmVwYWdlQ291bnQgPSB0aGlzLm9wZi5zcGluZS5yZWR1Y2UoXG4gICAgICAgIChjb3VudCwgaXRlbSkgPT4gY291bnQgKyBpdGVtLmVwYWdlQ291bnQsXG4gICAgICAgIDAsXG4gICAgICApO1xuXG4gICAgICBpZiAodGhpcy5vcGYuZXBhZ2VDb3VudENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMub3BmLmVwYWdlQ291bnRDYWxsYmFjayh0aGlzLm9wZi5lcGFnZUNvdW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob2xkUGFnZSkge1xuICAgICAgdmlld0l0ZW0uaW5zdGFuY2Uudmlld3BvcnQuY29udGVudENvbnRhaW5lci5yZXBsYWNlQ2hpbGQoXG4gICAgICAgIHBhZ2UuY29udGFpbmVyLFxuICAgICAgICBvbGRQYWdlLmNvbnRhaW5lcixcbiAgICAgICk7XG4gICAgICBvbGRQYWdlLmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiBcInJlcGxhY2VkXCIsXG4gICAgICAgIHRhcmdldDogbnVsbCxcbiAgICAgICAgY3VycmVudFRhcmdldDogbnVsbCxcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IG51bGwsXG4gICAgICAgIG5ld1BhZ2U6IHBhZ2UsXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmluZCBpbnNlcnQgcG9zaXRpb24gaW4gY29udGVudENvbnRhaW5lci5cbiAgICAgIGxldCBpbnNlcnRQb3M6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICAgIGlmIChwYWdlSW5kZXggPiAwKSB7XG4gICAgICAgIGluc2VydFBvcyA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleCAtIDFdLmNvbnRhaW5lci5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGxldCBpID0gdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4ICsgMTtcbiAgICAgICAgICBpIDwgdGhpcy5zcGluZUl0ZW1zLmxlbmd0aDtcbiAgICAgICAgICBpKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuc3BpbmVJdGVtc1tpXTtcbiAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnBhZ2VzWzBdKSB7XG4gICAgICAgICAgICBpbnNlcnRQb3MgPSBpdGVtLnBhZ2VzWzBdLmNvbnRhaW5lcjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmlld0l0ZW0uaW5zdGFuY2Uudmlld3BvcnQuY29udGVudENvbnRhaW5lci5pbnNlcnRCZWZvcmUoXG4gICAgICAgIHBhZ2UuY29udGFpbmVyLFxuICAgICAgICBpbnNlcnRQb3MsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnBhZ2VTaGVldFNpemVSZXBvcnRlcihcbiAgICAgIHtcbiAgICAgICAgd2lkdGg6IHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VTaGVldFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHZpZXdJdGVtLmluc3RhbmNlLnBhZ2VTaGVldEhlaWdodCxcbiAgICAgIH0sXG4gICAgICB2aWV3SXRlbS5pbnN0YW5jZS5wYWdlU2hlZXRTaXplLFxuICAgICAgdmlld0l0ZW0uaXRlbS5zcGluZUluZGV4LFxuICAgICAgdmlld0l0ZW0uaW5zdGFuY2UucGFnZU51bWJlck9mZnNldCArIHBhZ2VJbmRleCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciBhIHNpbmdsZSBwYWdlLiBJZiB0aGUgbmV3IHBhZ2UgY29udGFpbnMgZWxlbWVudHMgd2l0aCBpZHMgdGhhdCBhcmVcbiAgICogcmVmZXJlbmNlZCBmcm9tIG90aGVyIHBhZ2VzIGJ5ICd0YXJnZXQtY291bnRlcigpJywgdGhvc2UgcGFnZXMgYXJlIHJlbmRlcmVkXG4gICAqIHRvbyAoY2FsbGluZyBgcmVuZGVyU2luZ2xlUGFnZWAgcmVjdXJzaXZlbHkpLlxuICAgKi9cbiAgcHJpdmF0ZSByZW5kZXJTaW5nbGVQYWdlKFxuICAgIHZpZXdJdGVtOiBPUEZWaWV3SXRlbSxcbiAgICBwb3M6IFZ0cmVlLkxheW91dFBvc2l0aW9uLFxuICApOiBUYXNrLlJlc3VsdDxSZW5kZXJTaW5nbGVQYWdlUmVzdWx0PiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UmVuZGVyU2luZ2xlUGFnZVJlc3VsdD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJyZW5kZXJTaW5nbGVQYWdlXCIsXG4gICAgKTtcbiAgICBsZXQgcGFnZSA9IHRoaXMubWFrZVBhZ2Uodmlld0l0ZW0sIHBvcyk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgdmlld0l0ZW0uaW5zdGFuY2UubGF5b3V0TmV4dFBhZ2UocGFnZSwgcG9zKS50aGVuKChwb3NQYXJhbSkgPT4ge1xuICAgICAgcG9zID0gcG9zUGFyYW0gYXMgVnRyZWUuTGF5b3V0UG9zaXRpb247XG4gICAgICBjb25zdCBwYWdlSW5kZXggPSBwb3NcbiAgICAgICAgPyBwb3MucGFnZSAtIDFcbiAgICAgICAgOiB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgIHNlbGYuZmluaXNoUGFnZUNvbnRhaW5lcih2aWV3SXRlbSwgcGFnZSwgcGFnZUluZGV4KTtcbiAgICAgIHNlbGYuY291bnRlclN0b3JlLmZpbmlzaFBhZ2UocGFnZS5zcGluZUluZGV4LCBwYWdlSW5kZXgpO1xuXG4gICAgICAvLyBJZiB0aGUgcG9zaXRpb24gb2YgdGhlIHBhZ2UgYnJlYWsgY2hhbmdlLCB3ZSBzaG91bGQgcmUtbGF5b3V0IHRoZSBuZXh0XG4gICAgICAvLyBwYWdlIHRvby5cbiAgICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxhbnk+ID0gbnVsbDtcbiAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgY29uc3QgcHJldlBvcyA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twb3MucGFnZV07XG4gICAgICAgIHZpZXdJdGVtLmxheW91dFBvc2l0aW9uc1twb3MucGFnZV0gPSBwb3M7XG4gICAgICAgIGlmIChwcmV2UG9zICYmIHZpZXdJdGVtLnBhZ2VzW3Bvcy5wYWdlXSkge1xuICAgICAgICAgIGlmICghcG9zLmlzU2FtZVBvc2l0aW9uKHByZXZQb3MpKSB7XG4gICAgICAgICAgICBjb250ID0gc2VsZi5yZW5kZXJTaW5nbGVQYWdlKHZpZXdJdGVtLCBwb3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFjb250KSB7XG4gICAgICAgIGNvbnQgPSBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGNvbnQudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHVucmVzb2x2ZWRSZWZzID0gc2VsZi5jb3VudGVyU3RvcmUuZ2V0VW5yZXNvbHZlZFJlZnNUb1BhZ2UocGFnZSk7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZyYW1lXG4gICAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChpbmRleCA+IHVucmVzb2x2ZWRSZWZzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlZnMgPSB1bnJlc29sdmVkUmVmc1tpbmRleCAtIDFdO1xuICAgICAgICAgICAgcmVmcy5yZWZzID0gcmVmcy5yZWZzLmZpbHRlcigocmVmKSA9PiAhcmVmLmlzUmVzb2x2ZWQoKSk7XG4gICAgICAgICAgICBpZiAocmVmcy5yZWZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKHJlZnMuc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgICAgICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICAgICAgICAgIGxvb3BGcmFtZS5jb250aW51ZUxvb3AoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucHVzaFBhZ2VDb3VudGVycyhyZWZzLnBhZ2VDb3VudGVycyk7XG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLnB1c2hSZWZlcmVuY2VzVG9Tb2x2ZShyZWZzLnJlZnMpO1xuICAgICAgICAgICAgICBjb25zdCBwb3MgPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbcmVmcy5wYWdlSW5kZXhdO1xuICAgICAgICAgICAgICBzZWxmLnJlbmRlclNpbmdsZVBhZ2Uodmlld0l0ZW0sIHBvcykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucG9wUGFnZUNvdW50ZXJzKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5jb3VudGVyU3RvcmUucG9wUmVmZXJlbmNlc1RvU29sdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRQb3NpdGlvbiA9IHJlc3VsdC5wYWdlQW5kUG9zaXRpb24ucG9zaXRpb247XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgcmVzdWx0UG9zaXRpb24uc3BpbmVJbmRleCA9PT0gcGFnZS5zcGluZUluZGV4ICYmXG4gICAgICAgICAgICAgICAgICByZXN1bHRQb3NpdGlvbi5wYWdlSW5kZXggPT09IHBhZ2VJbmRleFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgcGFnZSA9IHJlc3VsdC5wYWdlQW5kUG9zaXRpb24ucGFnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFwYWdlLmNvbnRhaW5lci5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIC8vIHBhZ2UgaXMgcmVwbGFjZWRcbiAgICAgICAgICAgICAgcGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlLmlzTGFzdFBhZ2UgPVxuICAgICAgICAgICAgICAhcG9zICYmIHZpZXdJdGVtLml0ZW0uc3BpbmVJbmRleCA9PT0gc2VsZi5vcGYuc3BpbmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGlmIChwYWdlLmlzTGFzdFBhZ2UpIHtcbiAgICAgICAgICAgICAgQXNzZXJ0cy5hc3NlcnQoc2VsZi52aWV3cG9ydCk7XG4gICAgICAgICAgICAgIHNlbGYuY291bnRlclN0b3JlLmZpbmlzaExhc3RQYWdlKHNlbGYudmlld3BvcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHtcbiAgICAgICAgICAgICAgcGFnZUFuZFBvc2l0aW9uOiBtYWtlUGFnZUFuZFBvc2l0aW9uKHBhZ2UsIHBhZ2VJbmRleCksXG4gICAgICAgICAgICAgIG5leHRMYXlvdXRQb3NpdGlvbjogcG9zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBwcml2YXRlIG5vcm1hbGl6ZVNlZWtQb3NpdGlvbihcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgdmlld0l0ZW06IE9QRlZpZXdJdGVtLFxuICApOiBQb3NpdGlvbiB8IG51bGwge1xuICAgIGxldCBwYWdlSW5kZXggPSBwb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgbGV0IHNlZWtPZmZzZXQgPSAtMTtcbiAgICBpZiAocGFnZUluZGV4IDwgMCkge1xuICAgICAgc2Vla09mZnNldCA9IHBvc2l0aW9uLm9mZnNldEluSXRlbTtcblxuICAgICAgLy8gcGFnZSB3aXRoIG9mZnNldCBoaWdoZXIgdGhhbiBzZWVrT2Zmc2V0XG4gICAgICBjb25zdCBzZWVrT2Zmc2V0UGFnZUluZGV4ID0gQmFzZS5iaW5hcnlTZWFyY2goXG4gICAgICAgIHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGgsXG4gICAgICAgIChwYWdlSW5kZXgpID0+IHtcbiAgICAgICAgICAvLyAnbm9Mb29rQWhlYWQnIGFyZ3VtZW50IG9mIGdldFBvc2l0aW9uIG11c3QgYmUgdHJ1ZSwgc2luY2VcbiAgICAgICAgICAvLyBvdGhlcndpc2UgU3R5bGVJbnN0YW5jZS5jdXJyZW50TGF5b3V0UG9zaXRpb24gaXMgbW9kaWZpZWRcbiAgICAgICAgICAvLyB1bmludGVudGlvbmFsbHkuXG4gICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdmlld0l0ZW0uaW5zdGFuY2UuZ2V0UG9zaXRpb24oXG4gICAgICAgICAgICB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbcGFnZUluZGV4XSxcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gb2Zmc2V0ID4gc2Vla09mZnNldDtcbiAgICAgICAgfSxcbiAgICAgICk7XG4gICAgICBpZiAoc2Vla09mZnNldFBhZ2VJbmRleCA9PT0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCkge1xuICAgICAgICBpZiAodmlld0l0ZW0uY29tcGxldGUpIHtcbiAgICAgICAgICBwYWdlSW5kZXggPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBuZWVkIHRvIHNlYXJjaCB0aHJvdWdoIHBhZ2VzIHRoYXQgYXJlIG5vdCB5ZXQgcHJvZHVjZWRcbiAgICAgICAgICBwYWdlSW5kZXggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHBhZ2UgdGhhdCBjb250YWlucyBzZWVrT2Zmc2V0XG4gICAgICAgIHBhZ2VJbmRleCA9IHNlZWtPZmZzZXRQYWdlSW5kZXggLSAxO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBwYWdlSW5kZXggPT09IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSAmJlxuICAgICAgcG9zaXRpb24ub2Zmc2V0SW5JdGVtICE9PSAtMVxuICAgICkge1xuICAgICAgc2Vla09mZnNldCA9IHBvc2l0aW9uLm9mZnNldEluSXRlbTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwaW5lSW5kZXg6IHBvc2l0aW9uLnNwaW5lSW5kZXgsXG4gICAgICBwYWdlSW5kZXgsXG4gICAgICBvZmZzZXRJbkl0ZW06IHNlZWtPZmZzZXQsXG4gICAgfSBhcyBQb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIGEgcGFnZSBjb3JyZXNwb25kaW5nIHRvIGEgc3BlY2lmaWVkIHBvc2l0aW9uIGFtb25nIGFscmVhZHkgbGFpZCBvdXRcbiAgICogcGFnZXMuXG4gICAqIEBwYXJhbSBzeW5jIElmIHRydWUsIGZpbmQgdGhlIHBhZ2Ugc3luY2hyb25vdXNseSAobm90IHdhaXRpbmcgYW5vdGhlclxuICAgKiAgICAgcmVuZGVyaW5nIHRhc2spXG4gICAqL1xuICBwcml2YXRlIGZpbmRQYWdlKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFwiZmluZFBhZ2VcIik7XG4gICAgc2VsZi5nZXRQYWdlVmlld0l0ZW0ocG9zaXRpb24uc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgIGlmICghdmlld0l0ZW0pIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsZXQgcmVzdWx0UGFnZTogVnRyZWUuUGFnZSA9IG51bGw7XG4gICAgICBsZXQgcGFnZUluZGV4OiBudW1iZXI7XG4gICAgICBmcmFtZVxuICAgICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFBvc2l0aW9uID0gc2VsZi5ub3JtYWxpemVTZWVrUG9zaXRpb24oXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHZpZXdJdGVtLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcGFnZUluZGV4ID0gbm9ybWFsaXplZFBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICAgICAgICByZXN1bHRQYWdlID0gdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICBpZiAocmVzdWx0UGFnZSkge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodmlld0l0ZW0uY29tcGxldGUpIHtcbiAgICAgICAgICAgIHBhZ2VJbmRleCA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcmVzdWx0UGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleF07XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzeW5jKSB7XG4gICAgICAgICAgICBzZWxmLnJlbmRlclBhZ2Uobm9ybWFsaXplZFBvc2l0aW9uKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFBhZ2UgPSByZXN1bHQucGFnZTtcbiAgICAgICAgICAgICAgICBwYWdlSW5kZXggPSByZXN1bHQucG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGxvb3BGcmFtZS5icmVha0xvb3AoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgbGF5b3V0IHRhc2sgYW5kIHJldHJ5XG4gICAgICAgICAgICBmcmFtZS5zbGVlcCgxMDApLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydChyZXN1bHRQYWdlKTtcbiAgICAgICAgICBmcmFtZS5maW5pc2gobWFrZVBhZ2VBbmRQb3NpdGlvbihyZXN1bHRQYWdlLCBwYWdlSW5kZXgpKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgYSBwYWdlIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb24uXG4gICAqL1xuICByZW5kZXJQYWdlKHBvc2l0aW9uOiBQb3NpdGlvbik6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcInJlbmRlclBhZ2VcIixcbiAgICApO1xuICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKHBvc2l0aW9uLnNwaW5lSW5kZXgpLnRoZW4oKHZpZXdJdGVtKSA9PiB7XG4gICAgICBpZiAoIXZpZXdJdGVtKSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9ybWFsaXplZFBvc2l0aW9uID0gc2VsZi5ub3JtYWxpemVTZWVrUG9zaXRpb24ocG9zaXRpb24sIHZpZXdJdGVtKTtcbiAgICAgIGxldCBwYWdlSW5kZXggPSBub3JtYWxpemVkUG9zaXRpb24ucGFnZUluZGV4O1xuICAgICAgY29uc3Qgc2Vla09mZnNldCA9IG5vcm1hbGl6ZWRQb3NpdGlvbi5vZmZzZXRJbkl0ZW07XG4gICAgICBsZXQgcmVzdWx0UGFnZSA9IHZpZXdJdGVtLnBhZ2VzW3BhZ2VJbmRleF07XG4gICAgICBpZiAocmVzdWx0UGFnZSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobWFrZVBhZ2VBbmRQb3NpdGlvbihyZXN1bHRQYWdlLCBwYWdlSW5kZXgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIGlmIChwYWdlSW5kZXggPCB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh2aWV3SXRlbS5jb21wbGV0ZSkge1xuICAgICAgICAgICAgcGFnZUluZGV4ID0gdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBsb29wRnJhbWUuYnJlYWtMb29wKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBwb3MgPVxuICAgICAgICAgICAgdmlld0l0ZW0ubGF5b3V0UG9zaXRpb25zW3ZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgICBzZWxmLnJlbmRlclNpbmdsZVBhZ2Uodmlld0l0ZW0sIHBvcykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYWdlID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wYWdlO1xuICAgICAgICAgICAgcG9zID0gcmVzdWx0Lm5leHRMYXlvdXRQb3NpdGlvbjtcbiAgICAgICAgICAgIGlmIChwb3MpIHtcbiAgICAgICAgICAgICAgaWYgKHNlZWtPZmZzZXQgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFNlYXJjaGluZyBmb3Igb2Zmc2V0LCBkb24ndCBrbm93IHRoZSBwYWdlIG51bWJlci5cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPSB2aWV3SXRlbS5pbnN0YW5jZS5nZXRQb3NpdGlvbihwb3MpO1xuICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPiBzZWVrT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHRQYWdlID0gcGFnZTtcbiAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleCA9IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAyO1xuICAgICAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXN1bHRQYWdlID0gcGFnZTtcbiAgICAgICAgICAgICAgcGFnZUluZGV4ID0gcmVzdWx0LnBhZ2VBbmRQb3NpdGlvbi5wb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgICAgICAgICAgIHZpZXdJdGVtLmNvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgcmVzdWx0UGFnZSA9IHJlc3VsdFBhZ2UgfHwgdmlld0l0ZW0ucGFnZXNbcGFnZUluZGV4XTtcbiAgICAgICAgICBjb25zdCBwb3MgPSB2aWV3SXRlbS5sYXlvdXRQb3NpdGlvbnNbcGFnZUluZGV4XTtcbiAgICAgICAgICBpZiAocmVzdWx0UGFnZSkge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKG1ha2VQYWdlQW5kUG9zaXRpb24ocmVzdWx0UGFnZSwgcGFnZUluZGV4KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYucmVuZGVyU2luZ2xlUGFnZSh2aWV3SXRlbSwgcG9zKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0Lm5leHRMYXlvdXRQb3NpdGlvbikge1xuICAgICAgICAgICAgICB2aWV3SXRlbS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFtZS5maW5pc2gocmVzdWx0LnBhZ2VBbmRQb3NpdGlvbik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHJlbmRlckFsbFBhZ2VzKCk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJQYWdlc1VwdG8oXG4gICAgICB7XG4gICAgICAgIHNwaW5lSW5kZXg6IHRoaXMub3BmLnNwaW5lLmxlbmd0aCAtIDEsXG4gICAgICAgIHBhZ2VJbmRleDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICAgICAgICBvZmZzZXRJbkl0ZW06IC0xLFxuICAgICAgfSxcbiAgICAgIGZhbHNlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHBhZ2VzIGZyb20gKHNwaW5lSW5kZXg9MCwgcGFnZUluZGV4PTApIHRvIHRoZSBzcGVjaWZpZWQgKHNwaW5lSW5kZXgsXG4gICAqIHBhZ2VJbmRleCkuXG4gICAqIEBwYXJhbSBub3RBbGxQYWdlcyBJZiB0cnVlLCByZW5kZXIgZnJvbSBiaWdpbm5pbmcgb2Ygc3BlY2lmaWVkIHNwaW5lIGl0ZW0uXG4gICAqL1xuICByZW5kZXJQYWdlc1VwdG8oXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIG5vdEFsbFBhZ2VzOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJyZW5kZXJQYWdlc1VwdG9cIixcbiAgICApO1xuICAgIGlmICghcG9zaXRpb24pIHtcbiAgICAgIHBvc2l0aW9uID0geyBzcGluZUluZGV4OiAwLCBwYWdlSW5kZXg6IDAsIG9mZnNldEluSXRlbTogMCB9O1xuICAgIH1cbiAgICBjb25zdCBzcGluZUluZGV4ID0gcG9zaXRpb24uc3BpbmVJbmRleDtcbiAgICBjb25zdCBwYWdlSW5kZXggPSBwb3NpdGlvbi5wYWdlSW5kZXg7XG4gICAgbGV0IHMgPSAwO1xuXG4gICAgaWYgKG5vdEFsbFBhZ2VzKSB7XG4gICAgICAvLyBSZW5kZXIgcGFnZXMgZnJvbSBiaWdpbm5pbmcgb2Ygc3BlY2lmaWVkIHNwaW5lIGl0ZW0uXG4gICAgICBzID0gc3BpbmVJbmRleDtcbiAgICB9XG5cbiAgICBsZXQgbGFzdFJlc3VsdDogUGFnZUFuZFBvc2l0aW9uO1xuICAgIGZyYW1lXG4gICAgICAubG9vcFdpdGhGcmFtZSgobG9vcEZyYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHtcbiAgICAgICAgICBzcGluZUluZGV4OiBzLFxuICAgICAgICAgIHBhZ2VJbmRleDogcyA9PT0gc3BpbmVJbmRleCA/IHBhZ2VJbmRleCA6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgICBvZmZzZXRJbkl0ZW06IHMgPT09IHNwaW5lSW5kZXggPyBwb3NpdGlvbi5vZmZzZXRJbkl0ZW0gOiAtMSxcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5yZW5kZXJQYWdlKHBvcykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgbGFzdFJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgICBpZiAoKytzID4gc3BpbmVJbmRleCkge1xuICAgICAgICAgICAgbG9vcEZyYW1lLmJyZWFrTG9vcCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChsYXN0UmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBmaXJzdCBwYWdlIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBmaXJzdFBhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICByZXR1cm4gdGhpcy5maW5kUGFnZShcbiAgICAgIHsgc3BpbmVJbmRleDogMCwgcGFnZUluZGV4OiAwLCBvZmZzZXRJbkl0ZW06IC0xIH0sXG4gICAgICBzeW5jLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgbGFzdCBwYWdlIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBsYXN0UGFnZShcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIHJldHVybiB0aGlzLmZpbmRQYWdlKFxuICAgICAge1xuICAgICAgICBzcGluZUluZGV4OiB0aGlzLm9wZi5zcGluZS5sZW5ndGggLSAxLFxuICAgICAgICBwYWdlSW5kZXg6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgICAgICAgb2Zmc2V0SW5JdGVtOiAtMSxcbiAgICAgIH0sXG4gICAgICBzeW5jLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgbmV4dCBwYWdlIHBvc2l0aW9uIGFuZCByZW5kZXIgcGFnZS5cbiAgICogQHBhcmFtIHN5bmMgSWYgdHJ1ZSwgZ2V0IHRoZSBwYWdlIHN5bmNocm9ub3VzbHkgKG5vdCB3YWl0aW5nIGFub3RoZXJcbiAgICogICAgIHJlbmRlcmluZyB0YXNrKVxuICAgKi9cbiAgbmV4dFBhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgc3BpbmVJbmRleCA9IHBvc2l0aW9uLnNwaW5lSW5kZXg7XG4gICAgbGV0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXCJuZXh0UGFnZVwiKTtcbiAgICBzZWxmLmdldFBhZ2VWaWV3SXRlbShzcGluZUluZGV4KS50aGVuKCh2aWV3SXRlbSkgPT4ge1xuICAgICAgaWYgKCF2aWV3SXRlbSkge1xuICAgICAgICBmcmFtZS5maW5pc2gobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdmlld0l0ZW0uY29tcGxldGUgJiZcbiAgICAgICAgcGFnZUluZGV4ID09IHZpZXdJdGVtLmxheW91dFBvc2l0aW9ucy5sZW5ndGggLSAxXG4gICAgICApIHtcbiAgICAgICAgaWYgKHNwaW5lSW5kZXggPj0gc2VsZi5vcGYuc3BpbmUubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3BpbmVJbmRleCsrO1xuICAgICAgICBwYWdlSW5kZXggPSAwO1xuXG4gICAgICAgIC8vIFJlbW92ZSBuZXh0IHZpZXdJdGVtIGlmIGl0cyBmaXJzdCBwYWdlIGhhcyBzYW1lIHNpZGUgYXMgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAvLyB0byBhdm9pZCB1bnBhaXJlZCBwYWdlLlxuICAgICAgICBjb25zdCBuZXh0Vmlld0l0ZW0gPSB0aGlzLnNwaW5lSXRlbXNbc3BpbmVJbmRleF07XG4gICAgICAgIGNvbnN0IG5leHRQYWdlID0gbmV4dFZpZXdJdGVtICYmIG5leHRWaWV3SXRlbS5wYWdlc1swXTtcbiAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSB2aWV3SXRlbS5wYWdlc1t2aWV3SXRlbS5wYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKG5leHRQYWdlICYmIGN1cnJlbnRQYWdlICYmIG5leHRQYWdlLnNpZGUgPT0gY3VycmVudFBhZ2Uuc2lkZSkge1xuICAgICAgICAgIG5leHRWaWV3SXRlbS5wYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICAgICAgICBpZiAocGFnZS5jb250YWluZXIpIHBhZ2UuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMuc3BpbmVJdGVtc1tzcGluZUluZGV4XSA9IG51bGw7XG4gICAgICAgICAgdGhpcy5zcGluZUl0ZW1Mb2FkaW5nQ29udGludWF0aW9uc1tzcGluZUluZGV4XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhZ2VJbmRleCsrO1xuICAgICAgfVxuICAgICAgc2VsZlxuICAgICAgICAuZmluZFBhZ2UoeyBzcGluZUluZGV4LCBwYWdlSW5kZXgsIG9mZnNldEluSXRlbTogLTEgfSwgc3luYylcbiAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBwcmV2aW91cyBwYWdlIGFuZCByZW5kZXIgaXQuXG4gICAqL1xuICBwcmV2aW91c1BhZ2UoXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBsZXQgc3BpbmVJbmRleCA9IHBvc2l0aW9uLnNwaW5lSW5kZXg7XG4gICAgbGV0IHBhZ2VJbmRleCA9IHBvc2l0aW9uLnBhZ2VJbmRleDtcbiAgICBpZiAocGFnZUluZGV4ID09IDApIHtcbiAgICAgIGlmIChzcGluZUluZGV4ID09IDApIHtcbiAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgICB9XG4gICAgICBzcGluZUluZGV4LS07XG4gICAgICBwYWdlSW5kZXggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2VJbmRleC0tO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5maW5kUGFnZSh7IHNwaW5lSW5kZXgsIHBhZ2VJbmRleCwgb2Zmc2V0SW5JdGVtOiAtMSB9LCBzeW5jKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0gcGFnZSBUaGlzIHBhZ2Ugc2hvdWxkIGJlIGEgY3VycmVudGx5IGRpc3BsYXllZCBwYWdlLlxuICAgKi9cbiAgcHJpdmF0ZSBpc1JlY3RvUGFnZShwYWdlOiBWdHJlZS5QYWdlLCBwb3NpdGlvbjogUG9zaXRpb24pOiBib29sZWFuIHtcbiAgICBjb25zdCBpc0xlZnQgPSBwYWdlLnNpZGUgPT09IENvbnN0YW50cy5QYWdlU2lkZS5MRUZUO1xuICAgIGNvbnN0IGlzTFRSID1cbiAgICAgIHRoaXMuZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbihwb3NpdGlvbikgPT09XG4gICAgICBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uLkxUUjtcbiAgICByZXR1cm4gKCFpc0xlZnQgJiYgaXNMVFIpIHx8IChpc0xlZnQgJiYgIWlzTFRSKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBzcHJlYWQgY29udGFpbmluZyB0aGUgY3VycmVudGx5IGRpc3BsYXllZCBwYWdlLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIHNwcmVhZCBzeW5jaHJvbm91c2x5IChub3Qgd2FpdGluZyBhbm90aGVyXG4gICAqICAgICByZW5kZXJpbmcgdGFzaylcbiAgICovXG4gIGdldFNwcmVhZChwb3NpdGlvbjogUG9zaXRpb24sIHN5bmM6IGJvb2xlYW4pOiBUYXNrLlJlc3VsdDxWdHJlZS5TcHJlYWQ+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxWdHJlZS5TcHJlYWQ+ID0gVGFzay5uZXdGcmFtZShcImdldEN1cnJlbnRTcHJlYWRcIik7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQoXG4gICAgICAgIC8qKiBAdHlwZSBWdHJlZS5TcHJlYWQgKi9cbiAgICAgICAgeyBsZWZ0OiBudWxsLCByaWdodDogbnVsbCB9IGFzIFZ0cmVlLlNwcmVhZCxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGlzTGVmdCA9IHBhZ2Uuc2lkZSA9PT0gQ29uc3RhbnRzLlBhZ2VTaWRlLkxFRlQ7XG4gICAgbGV0IG90aGVyOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24+O1xuICAgIGlmICh0aGlzLmlzUmVjdG9QYWdlKHBhZ2UsIHBvc2l0aW9uKSkge1xuICAgICAgb3RoZXIgPSB0aGlzLnByZXZpb3VzUGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG90aGVyID0gdGhpcy5uZXh0UGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgfVxuICAgIG90aGVyLnRoZW4oKG90aGVyUGFnZUFuZFBvc2l0aW9uKSA9PiB7XG4gICAgICAvLyB0aGlzIHBhZ2UgbWF5IGJlIHJlcGxhY2VkIGR1cmluZyBuZXh0UGFnZSgpLCBzbyBnZXQgdGhpc1BhZ2UgYWdhaW4uXG4gICAgICBjb25zdCB0aGlzUGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG5cbiAgICAgIGxldCBvdGhlclBhZ2UgPSBvdGhlclBhZ2VBbmRQb3NpdGlvbiAmJiBvdGhlclBhZ2VBbmRQb3NpdGlvbi5wYWdlO1xuICAgICAgaWYgKG90aGVyUGFnZSAmJiBvdGhlclBhZ2Uuc2lkZSA9PT0gdGhpc1BhZ2Uuc2lkZSkge1xuICAgICAgICAvLyBvdGhlclBhZ2UgbXVzdCBub3QgYmUgc2FtZSBzaWRlXG4gICAgICAgIG90aGVyUGFnZSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0xlZnQpIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKHsgbGVmdDogdGhpc1BhZ2UsIHJpZ2h0OiBvdGhlclBhZ2UgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmFtZS5maW5pc2goeyBsZWZ0OiBvdGhlclBhZ2UsIHJpZ2h0OiB0aGlzUGFnZSB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgbmV4dCBzcHJlYWQgYW5kIHJlbmRlciBwYWdlcy5cbiAgICogQHBhcmFtIHN5bmMgSWYgdHJ1ZSwgZ2V0IHRoZSBzcHJlYWQgc3luY2hyb25vdXNseSAobm90IHdhaXRpbmcgYW5vdGhlclxuICAgKiAgICAgcmVuZGVyaW5nIHRhc2spXG4gICAqIEByZXR1cm5zIFRoZSAndmVyc28nIHBhZ2Ugb2YgdGhlIG5leHQgc3ByZWFkLlxuICAgKi9cbiAgbmV4dFNwcmVhZChcbiAgICBwb3NpdGlvbjogUG9zaXRpb24sXG4gICAgc3luYzogYm9vbGVhbixcbiAgKTogVGFzay5SZXN1bHQ8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4ge1xuICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmdldFBhZ2UocG9zaXRpb24pO1xuICAgIGlmICghcGFnZSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgUGFnZUFuZFBvc2l0aW9uIHwgbnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IGlzUmVjdG8gPSB0aGlzLmlzUmVjdG9QYWdlKHBhZ2UsIHBvc2l0aW9uKTtcbiAgICBjb25zdCBuZXh0ID0gdGhpcy5uZXh0UGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgaWYgKGlzUmVjdG8pIHtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBuZXh0LnRoZW5Bc3luYygocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0LnBhZ2Uuc2lkZSA9PT0gcGFnZS5zaWRlKSB7XG4gICAgICAgICAgICAvLyBJZiBzYW1lIHNpZGUsIHRoaXMgaXMgdGhlIG5leHQgc3ByZWFkLlxuICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG5leHQyID0gc2VsZi5uZXh0UGFnZShyZXN1bHQucG9zaXRpb24sIHN5bmMpO1xuICAgICAgICAgIHJldHVybiBuZXh0Mi50aGVuQXN5bmMoKHJlc3VsdDIpID0+IHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0MjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhhIGxhc3Qgc3ByZWFkLCBtb3ZlIHRvIG5leHQgcGFnZSBpbiB0aGUgc2FtZSBzcHJlYWQuXG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgcHJldmlvdXMgc3ByZWFkIGFuZCByZW5kZXIgcGFnZXMuXG4gICAqIEByZXR1cm5zIFRoZSAncmVjdG8nIHBhZ2Ugb2YgdGhlIHByZXZpb3VzIHNwcmVhZC5cbiAgICovXG4gIHByZXZpb3VzU3ByZWFkKFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3QgcGFnZSA9IHRoaXMuZ2V0UGFnZShwb3NpdGlvbik7XG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICB9XG4gICAgY29uc3QgaXNSZWN0byA9IHRoaXMuaXNSZWN0b1BhZ2UocGFnZSwgcG9zaXRpb24pO1xuICAgIGNvbnN0IHByZXYgPSB0aGlzLnByZXZpb3VzUGFnZShwb3NpdGlvbiwgc3luYyk7XG4gICAgY29uc3Qgb2xkUHJldlBhZ2VDb250ID0gcGFnZS5jb250YWluZXIucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICBpZiAoaXNSZWN0bykge1xuICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICByZXR1cm4gcHJldi50aGVuQXN5bmMoKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5wYWdlLnNpZGUgPT09IHBhZ2Uuc2lkZSkge1xuICAgICAgICAgICAgLy8gSWYgc2FtZSBzaWRlLCB0aGlzIGlzIHRoZSBwcmV2aW91cyBzcHJlYWQuXG4gICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdC5wYWdlLmNvbnRhaW5lciAhPT0gb2xkUHJldlBhZ2VDb250KSB7XG4gICAgICAgICAgICAvLyBJZiBwcmV2aW91cyBwYWdlIGlzIGNoYW5nZWQsIHJldHVybiBpdC5cbiAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gc2VsZi5wcmV2aW91c1BhZ2UocmVzdWx0LnBvc2l0aW9uLCBzeW5jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBwcmV2O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRvIHRoZSBlcGFnZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIG51bWJlciAoemVyby1iYXNlZCkgYW5kIHJlbmRlciBpdC5cbiAgICovXG4gIG5hdmlnYXRlVG9FUGFnZShcbiAgICBlcGFnZTogbnVtYmVyLFxuICAgIHBvc2l0aW9uOiBQb3NpdGlvbixcbiAgICBzeW5jOiBib29sZWFuLFxuICApOiBUYXNrLlJlc3VsdDxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8UGFnZUFuZFBvc2l0aW9uIHwgbnVsbD4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgXCJuYXZpZ2F0ZVRvRVBhZ2VcIixcbiAgICApO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMub3BmLnJlc29sdmVFUGFnZShlcGFnZSkudGhlbigocG9zaXRpb24pID0+IHtcbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBzZWxmLmZpbmRQYWdlKHBvc2l0aW9uLCBzeW5jKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgcGFnZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIENGSSBhbmQgcmVuZGVyIGl0LlxuICAgKi9cbiAgbmF2aWdhdGVUb0ZyYWdtZW50KFxuICAgIGZyYWdtZW50OiBzdHJpbmcsXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIm5hdmlnYXRlVG9DRklcIixcbiAgICApO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHNlbGYub3BmLnJlc29sdmVGcmFnbWVudChmcmFnbWVudCkudGhlbigocG9zaXRpb24pID0+IHtcbiAgICAgIGlmIChwb3NpdGlvbikge1xuICAgICAgICBzZWxmLmZpbmRQYWdlKHBvc2l0aW9uLCBzeW5jKS50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0byB0aGUgcGFnZSBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIFVSTCBhbmQgcmVuZGVyIGl0LlxuICAgKi9cbiAgbmF2aWdhdGVUbyhcbiAgICBocmVmOiBzdHJpbmcsXG4gICAgcG9zaXRpb246IFBvc2l0aW9uLFxuICAgIHN5bmM6IGJvb2xlYW4sXG4gICk6IFRhc2suUmVzdWx0PFBhZ2VBbmRQb3NpdGlvbiB8IG51bGw+IHtcbiAgICBMb2dnaW5nLmxvZ2dlci5kZWJ1ZyhcIk5hdmlnYXRlIHRvXCIsIGhyZWYpO1xuICAgIGxldCBwYXRoID0gdGhpcy5vcGYuZ2V0UGF0aEZyb21VUkwoQmFzZS5zdHJpcEZyYWdtZW50KGhyZWYpKTtcbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgIGlmICh0aGlzLm9wZi5vcGZYTUwgJiYgaHJlZi5tYXRjaCgvXiNlcHViY2ZpXFwoLykpIHtcbiAgICAgICAgLy8gQ0ZJIGZyYWdtZW50IGlzIFwicmVsYXRpdmVcIiB0byBPUEYuXG4gICAgICAgIHBhdGggPSB0aGlzLm9wZi5nZXRQYXRoRnJvbVVSTCh0aGlzLm9wZi5vcGZYTUwudXJsKTtcbiAgICAgIH0gZWxzZSBpZiAoaHJlZi5jaGFyQXQoMCkgPT09IFwiI1wiKSB7XG4gICAgICAgIGNvbnN0IHJlc3RvcmVkID0gdGhpcy5vcGYuZG9jdW1lbnRVUkxUcmFuc2Zvcm1lci5yZXN0b3JlVVJMKGhyZWYpO1xuICAgICAgICBpZiAodGhpcy5vcGYub3BmWE1MKSB7XG4gICAgICAgICAgcGF0aCA9IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKHJlc3RvcmVkWzBdKTtcbiAgICAgICAgICBpZiAocGF0aCA9PSBudWxsKSB7XG4gICAgICAgICAgICBwYXRoID0gcmVzdG9yZWRbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBhdGggPSByZXN0b3JlZFswXTtcbiAgICAgICAgfVxuICAgICAgICBocmVmID0gcmVzdG9yZWRbMF0gKyAocmVzdG9yZWRbMV0gPyBgIyR7cmVzdG9yZWRbMV19YCA6IFwiXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHBhdGggPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCBhcyBQYWdlQW5kUG9zaXRpb24gfCBudWxsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXRlbSA9IHRoaXMub3BmLml0ZW1NYXBCeVBhdGhbcGF0aF07XG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMub3BmLm9wZlhNTCAmJlxuICAgICAgICBwYXRoID09IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKHRoaXMub3BmLm9wZlhNTC51cmwpXG4gICAgICApIHtcbiAgICAgICAgLy8gQ0ZJIGxpbms/XG4gICAgICAgIGNvbnN0IGZyYWdtZW50SW5kZXggPSBocmVmLmluZGV4T2YoXCIjXCIpO1xuICAgICAgICBpZiAoZnJhZ21lbnRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGVUb0ZyYWdtZW50KFxuICAgICAgICAgICAgaHJlZi5zdWJzdHIoZnJhZ21lbnRJbmRleCArIDEpLFxuICAgICAgICAgICAgcG9zaXRpb24sXG4gICAgICAgICAgICBzeW5jLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIFBhZ2VBbmRQb3NpdGlvbiB8IG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxQYWdlQW5kUG9zaXRpb24gfCBudWxsPiA9IFRhc2submV3RnJhbWUoXG4gICAgICBcIm5hdmlnYXRlVG9cIixcbiAgICApO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuZ2V0UGFnZVZpZXdJdGVtKGl0ZW0uc3BpbmVJbmRleCkudGhlbigodmlld0l0ZW0pID0+IHtcbiAgICAgIGlmICghdmlld0l0ZW0pIHtcbiAgICAgICAgZnJhbWUuZmluaXNoKG51bGwpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0YXJnZXQgPSB2aWV3SXRlbS54bWxkb2MuZ2V0RWxlbWVudChocmVmKTtcbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgc2VsZlxuICAgICAgICAgIC5maW5kUGFnZShcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3BpbmVJbmRleDogaXRlbS5zcGluZUluZGV4LFxuICAgICAgICAgICAgICBwYWdlSW5kZXg6IC0xLFxuICAgICAgICAgICAgICBvZmZzZXRJbkl0ZW06IHZpZXdJdGVtLnhtbGRvYy5nZXRFbGVtZW50T2Zmc2V0KHRhcmdldCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3luYyxcbiAgICAgICAgICApXG4gICAgICAgICAgLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbi5zcGluZUluZGV4ICE9PSBpdGVtLnNwaW5lSW5kZXgpIHtcbiAgICAgICAgLy8gbm8gZnJhZ21lbnQsIGRpZmZlcmVudCBzcGluZSBpdGVtXG4gICAgICAgIHNlbGZcbiAgICAgICAgICAuZmluZFBhZ2UoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHNwaW5lSW5kZXg6IGl0ZW0uc3BpbmVJbmRleCxcbiAgICAgICAgICAgICAgcGFnZUluZGV4OiAwLFxuICAgICAgICAgICAgICBvZmZzZXRJbkl0ZW06IC0xLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN5bmMsXG4gICAgICAgICAgKVxuICAgICAgICAgIC50aGVuRmluaXNoKGZyYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYW1lLmZpbmlzaChudWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBtYWtlUGFnZSh2aWV3SXRlbTogT1BGVmlld0l0ZW0sIHBvczogVnRyZWUuTGF5b3V0UG9zaXRpb24pOiBWdHJlZS5QYWdlIHtcbiAgICBjb25zdCB2aWV3cG9ydCA9IHZpZXdJdGVtLmluc3RhbmNlLnZpZXdwb3J0O1xuICAgIGNvbnN0IHBhZ2VDb250ID0gdmlld3BvcnQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSBhcyBIVE1MRWxlbWVudDtcbiAgICBwYWdlQ29udC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXBhZ2UtY29udGFpbmVyXCIsIFwidHJ1ZVwiKTtcbiAgICBwYWdlQ29udC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwicmVnaW9uXCIpO1xuICAgIHBhZ2VDb250LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHBhZ2VDb250LnN0eWxlLnRvcCA9IFwiMFwiO1xuICAgIHBhZ2VDb250LnN0eWxlLmxlZnQgPSBcIjBcIjtcbiAgICBpZiAoIUNvbnN0YW50cy5pc0RlYnVnKSB7XG4gICAgICBwYWdlQ29udC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG4gICAgdmlld3BvcnQubGF5b3V0Qm94LmFwcGVuZENoaWxkKHBhZ2VDb250KTtcbiAgICBjb25zdCBibGVlZEJveCA9IHZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgYmxlZWRCb3guc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1ibGVlZC1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgIHBhZ2VDb250LmFwcGVuZENoaWxkKGJsZWVkQm94KTtcbiAgICBjb25zdCBwYWdlID0gbmV3IFZ0cmVlLlBhZ2UocGFnZUNvbnQsIGJsZWVkQm94KTtcbiAgICBwYWdlLnNwaW5lSW5kZXggPSB2aWV3SXRlbS5pdGVtLnNwaW5lSW5kZXg7XG4gICAgcGFnZS5wb3NpdGlvbiA9IHBvcztcbiAgICBwYWdlLm9mZnNldCA9IHZpZXdJdGVtLmluc3RhbmNlLmdldFBvc2l0aW9uKHBvcyk7XG4gICAgaWYgKHBhZ2Uub2Zmc2V0ID09PSAwKSB7XG4gICAgICBjb25zdCBpZCA9IHRoaXMub3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIudHJhbnNmb3JtRnJhZ21lbnQoXG4gICAgICAgIFwiXCIsXG4gICAgICAgIHZpZXdJdGVtLml0ZW0uc3JjLFxuICAgICAgKTtcbiAgICAgIGJsZWVkQm94LnNldEF0dHJpYnV0ZShcImlkXCIsIGlkKTtcbiAgICAgIHBhZ2UucmVnaXN0ZXJFbGVtZW50V2l0aElkKGJsZWVkQm94LCBpZCk7XG4gICAgfVxuICAgIGlmICh2aWV3cG9ydCAhPT0gdGhpcy52aWV3cG9ydCkge1xuICAgICAgY29uc3QgbWF0cml4ID0gRXhwcnMubGV0dGVyYm94KFxuICAgICAgICB0aGlzLnZpZXdwb3J0LndpZHRoLFxuICAgICAgICB0aGlzLnZpZXdwb3J0LmhlaWdodCxcbiAgICAgICAgdmlld3BvcnQud2lkdGgsXG4gICAgICAgIHZpZXdwb3J0LmhlaWdodCxcbiAgICAgICk7XG4gICAgICBjb25zdCBjc3NNYXRyaXggPSBDc3NQYXJzZXIucGFyc2VWYWx1ZShcbiAgICAgICAgbnVsbCxcbiAgICAgICAgbmV3IENzc1Rva2VuaXplci5Ub2tlbml6ZXIobWF0cml4LCBudWxsKSxcbiAgICAgICAgXCJcIixcbiAgICAgICk7XG4gICAgICBwYWdlLmRlbGF5ZWRJdGVtcy5wdXNoKFxuICAgICAgICBuZXcgVnRyZWUuRGVsYXllZEl0ZW0ocGFnZUNvbnQsIFwidHJhbnNmb3JtXCIsIGNzc01hdHJpeCksXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcGFnZTtcbiAgfVxuXG4gIG1ha2VPYmplY3RWaWV3KFxuICAgIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcixcbiAgICBzcmNFbGVtOiBFbGVtZW50LFxuICAgIHZpZXdQYXJlbnQ6IEVsZW1lbnQsXG4gICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICk6IFRhc2suUmVzdWx0PEVsZW1lbnQ+IHtcbiAgICBsZXQgZGF0YSA9IHNyY0VsZW0uZ2V0QXR0cmlidXRlKFwiZGF0YVwiKTtcbiAgICBsZXQgcmVzdWx0OiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGRhdGEgPSBCYXNlLnJlc29sdmVVUkwoZGF0YSwgeG1sZG9jLnVybCk7XG4gICAgICBsZXQgbWVkaWFUeXBlID0gc3JjRWxlbS5nZXRBdHRyaWJ1dGUoXCJtZWRpYS10eXBlXCIpO1xuICAgICAgaWYgKCFtZWRpYVR5cGUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHRoaXMub3BmLmdldFBhdGhGcm9tVVJMKGRhdGEpO1xuICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLm9wZi5pdGVtTWFwQnlQYXRoW3BhdGhdO1xuICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICBtZWRpYVR5cGUgPSBpdGVtLm1lZGlhVHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYVR5cGUpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlclNyYyA9IHRoaXMub3BmLmJpbmRpbmdzW21lZGlhVHlwZV07XG4gICAgICAgIGlmIChoYW5kbGVyU3JjKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy52aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuICAgICAgICAgIChyZXN1bHQgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmJvcmRlciA9IFwibm9uZVwiO1xuICAgICAgICAgIGNvbnN0IHNyY1BhcmFtID0gQmFzZS5saWdodFVSTEVuY29kZShkYXRhKTtcbiAgICAgICAgICBjb25zdCB0eXBlUGFyYW0gPSBCYXNlLmxpZ2h0VVJMRW5jb2RlKG1lZGlhVHlwZSk7XG4gICAgICAgICAgY29uc3Qgc2IgPSBuZXcgQmFzZS5TdHJpbmdCdWZmZXIoKTtcbiAgICAgICAgICBzYi5hcHBlbmQoaGFuZGxlclNyYyk7XG4gICAgICAgICAgc2IuYXBwZW5kKFwiP3NyYz1cIik7XG4gICAgICAgICAgc2IuYXBwZW5kKHNyY1BhcmFtKTtcbiAgICAgICAgICBzYi5hcHBlbmQoXCImdHlwZT1cIik7XG4gICAgICAgICAgc2IuYXBwZW5kKHR5cGVQYXJhbSk7XG4gICAgICAgICAgZm9yIChsZXQgYzogTm9kZSA9IHNyY0VsZW0uZmlyc3RDaGlsZDsgYzsgYyA9IGMubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGlmIChjLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2UgPSBjIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICAgIGlmIChjZS5sb2NhbE5hbWUgPT0gXCJwYXJhbVwiICYmIGNlLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLlhIVE1MKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG5hbWUgPSBjZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHB2YWx1ZSA9IGNlLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xuICAgICAgICAgICAgICAgIGlmIChwbmFtZSAmJiBwdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZChcIiZcIik7XG4gICAgICAgICAgICAgICAgICBzYi5hcHBlbmQoZW5jb2RlVVJJQ29tcG9uZW50KHBuYW1lKSk7XG4gICAgICAgICAgICAgICAgICBzYi5hcHBlbmQoXCI9XCIpO1xuICAgICAgICAgICAgICAgICAgc2IuYXBwZW5kKGVuY29kZVVSSUNvbXBvbmVudChwdmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShcInNyY1wiLCBzYi50b1N0cmluZygpKTtcbiAgICAgICAgICBjb25zdCB3aWR0aCA9IHNyY0VsZW0uZ2V0QXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICAgICAgaWYgKHdpZHRoKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgd2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBoZWlnaHQgPSBzcmNFbGVtLmdldEF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICAgICAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGhlaWdodCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSB0aGlzLnZpZXdwb3J0LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZShcImRhdGEtYWRhcHQtcHJvY2Vzcy1jaGlsZHJlblwiLCBcInRydWVcIik7XG4gICAgfVxuXG4gICAgLy8gTmVlZCB0byBjYXN0IGJlY2F1c2Ugd2UgbmVlZCB7RWxlbWVudH0sIG5vdCB7IUVsZW1lbnR9XG4gICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHJlc3VsdCBhcyBFbGVtZW50KTtcbiAgfVxuXG4gIG1ha2VNYXRoSmF4VmlldyhcbiAgICB4bWxkb2M6IFhtbERvYy5YTUxEb2NIb2xkZXIsXG4gICAgc3JjRWxlbTogRWxlbWVudCxcbiAgICB2aWV3UGFyZW50OiBFbGVtZW50LFxuICAgIGNvbXB1dGVkU3R5bGU6IHsgW2tleTogc3RyaW5nXTogQ3NzLlZhbCB9LFxuICApOiBUYXNrLlJlc3VsdDxFbGVtZW50PiB7XG4gICAgLy8gU2VlIGlmIE1hdGhKYXggaW5zdGFsbGVkLCB1c2UgaXQgaWYgaXQgaXMuXG4gICAgY29uc3QgaHViID0gZ2V0TWF0aEpheEh1YigpO1xuICAgIGlmIChodWIpIHtcbiAgICAgIGNvbnN0IGRvYyA9IHZpZXdQYXJlbnQub3duZXJEb2N1bWVudDtcbiAgICAgIGNvbnN0IHNwYW4gPSBkb2MuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICB2aWV3UGFyZW50LmFwcGVuZENoaWxkKHNwYW4pO1xuICAgICAgY29uc3QgY2xvbmVkTWF0aCA9IGRvYy5pbXBvcnROb2RlKHNyY0VsZW0sIHRydWUpO1xuICAgICAgdGhpcy5yZXNvbHZlVVJMc0luTWF0aE1MKGNsb25lZE1hdGgsIHhtbGRvYyk7XG4gICAgICBzcGFuLmFwcGVuZENoaWxkKGNsb25lZE1hdGgpO1xuICAgICAgY29uc3QgcXVldWUgPSBodWJbXCJxdWV1ZVwiXTtcbiAgICAgIHF1ZXVlW1wiUHVzaFwiXShbXCJUeXBlc2V0XCIsIGh1Yiwgc3Bhbl0pO1xuICAgICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8RWxlbWVudD4gPSBUYXNrLm5ld0ZyYW1lKFwibWFrZU1hdGhKYXhWaWV3XCIpO1xuICAgICAgY29uc3QgY29udGludWF0aW9uID0gZnJhbWUuc3VzcGVuZCgpO1xuICAgICAgcXVldWVbXCJQdXNoXCJdKCgpID0+IHtcbiAgICAgICAgY29udGludWF0aW9uLnNjaGVkdWxlKHNwYW4pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIEVsZW1lbnQpO1xuICB9XG5cbiAgcHJpdmF0ZSByZXNvbHZlVVJMc0luTWF0aE1MKG5vZGU6IE5vZGUsIHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikge1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEgJiYgKG5vZGUgYXMgRWxlbWVudCkudGFnTmFtZSA9PT0gXCJtZ2x5cGhcIikge1xuICAgICAgY29uc3QgYXR0cnMgPSBBcnJheS5mcm9tKChub2RlIGFzIEVsZW1lbnQpLmF0dHJpYnV0ZXMpO1xuICAgICAgZm9yIChjb25zdCBhdHRyIG9mIGF0dHJzKSB7XG4gICAgICAgIGlmIChhdHRyLm5hbWUgIT09IFwic3JjXCIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdVcmwgPSBCYXNlLnJlc29sdmVVUkwoYXR0ci5ub2RlVmFsdWUsIHhtbGRvYy51cmwpO1xuICAgICAgICBpZiAoYXR0ci5uYW1lc3BhY2VVUkkpIHtcbiAgICAgICAgICAobm9kZSBhcyBFbGVtZW50KS5zZXRBdHRyaWJ1dGVOUyhcbiAgICAgICAgICAgIGF0dHIubmFtZXNwYWNlVVJJLFxuICAgICAgICAgICAgYXR0ci5uYW1lLFxuICAgICAgICAgICAgbmV3VXJsLFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKG5vZGUgYXMgRWxlbWVudCkuc2V0QXR0cmlidXRlKGF0dHIubmFtZSwgbmV3VXJsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICB0aGlzLnJlc29sdmVVUkxzSW5NYXRoTUwobm9kZS5maXJzdENoaWxkLCB4bWxkb2MpO1xuICAgIH1cbiAgICBpZiAobm9kZS5uZXh0U2libGluZykge1xuICAgICAgdGhpcy5yZXNvbHZlVVJMc0luTWF0aE1MKG5vZGUubmV4dFNpYmxpbmcsIHhtbGRvYyk7XG4gICAgfVxuICB9XG5cbiAgLy8gVE9ETyBtb3ZlIG1ha2VTU0VWaWV3IHRvIGEgbW9yZSBhcHByb3ByaWF0ZSBjbGFzcyAoU1NFIFhNTCBjb250ZW50IGlzIG5vdFxuICAvLyBhbGxvd2VkIGluIEVQVUIpXG4gIC8qKlxuICAgKiBAcGFyYW0gY29tcHV0ZWRTdHlsZVxuICAgKi9cbiAgbWFrZVNTRVZpZXcoXG4gICAgeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyLFxuICAgIHNyY0VsZW06IEVsZW1lbnQsXG4gICAgdmlld1BhcmVudDogRWxlbWVudCxcbiAgICBjb21wdXRlZFN0eWxlOiB7IFtrZXk6IHN0cmluZ106IENzcy5WYWwgfSxcbiAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4ge1xuICAgIGNvbnN0IGRvYyA9IHZpZXdQYXJlbnQgPyB2aWV3UGFyZW50Lm93bmVyRG9jdW1lbnQgOiB0aGlzLnZpZXdwb3J0LmRvY3VtZW50O1xuICAgIGNvbnN0IHNyY1RhZ05hbWUgPSBzcmNFbGVtLmxvY2FsTmFtZTtcbiAgICBsZXQgdGFnTmFtZTogc3RyaW5nO1xuICAgIHN3aXRjaCAoc3JjVGFnTmFtZSkge1xuICAgICAgY2FzZSBcInRcIjpcbiAgICAgIGNhc2UgXCJ0YWJcIjpcbiAgICAgIGNhc2UgXCJlY1wiOlxuICAgICAgY2FzZSBcIm50XCI6XG4gICAgICBjYXNlIFwiZnJhY3Rpb25cIjpcbiAgICAgIGNhc2UgXCJjb21tZW50XCI6XG4gICAgICBjYXNlIFwibWFya1wiOlxuICAgICAgICB0YWdOYW1lID0gXCJzcGFuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInJ1YnlcIjpcbiAgICAgIGNhc2UgXCJycFwiOlxuICAgICAgY2FzZSBcInJ0XCI6XG4gICAgICAgIHRhZ05hbWUgPSBzcmNUYWdOYW1lO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRhZ05hbWUgPSBcImRpdlwiO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBkb2MuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICByZXN1bHQuc2V0QXR0cmlidXRlKFwiZGF0YS1hZGFwdC1wcm9jZXNzLWNoaWxkcmVuXCIsIFwidHJ1ZVwiKTtcblxuICAgIC8vIE5lZWQgdG8gY2FzdCBiZWNhdXNlIHdlIG5lZWQge0VsZW1lbnR9LCBub3QgeyFFbGVtZW50fVxuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChyZXN1bHQgYXMgRWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBtYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jOiBYbWxEb2MuWE1MRG9jSG9sZGVyKTogVmdlbi5DdXN0b21SZW5kZXJlciB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIChcbiAgICAgIHNyY0VsZW06IEVsZW1lbnQsXG4gICAgICB2aWV3UGFyZW50OiBFbGVtZW50LFxuICAgICAgY29tcHV0ZWRTdHlsZTogeyBba2V5OiBzdHJpbmddOiBDc3MuVmFsIH0sXG4gICAgKTogVGFzay5SZXN1bHQ8RWxlbWVudD4gPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBzcmNFbGVtLmxvY2FsTmFtZSA9PSBcIm9iamVjdFwiICYmXG4gICAgICAgIHNyY0VsZW0ubmFtZXNwYWNlVVJJID09IEJhc2UuTlMuWEhUTUxcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlT2JqZWN0Vmlldyh4bWxkb2MsIHNyY0VsZW0sIHZpZXdQYXJlbnQsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgfSBlbHNlIGlmIChzcmNFbGVtLm5hbWVzcGFjZVVSSSA9PSBCYXNlLk5TLk1BVEhNTCkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlTWF0aEpheFZpZXcoeG1sZG9jLCBzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH0gZWxzZSBpZiAoc3JjRWxlbS5uYW1lc3BhY2VVUkkgPT0gQmFzZS5OUy5TU0UpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYubWFrZVNTRVZpZXcoeG1sZG9jLCBzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIChzcmNFbGVtIGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0ICYmXG4gICAgICAgIChzcmNFbGVtIGFzIEhUTUxFbGVtZW50KS5kYXRhc2V0W1wibWF0aFR5cGVzZXRcIl0gPT0gXCJ0cnVlXCJcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gc2VsZi5tYWtlTWF0aEpheFZpZXcoeG1sZG9jLCBzcmNFbGVtLCB2aWV3UGFyZW50LCBjb21wdXRlZFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIEVsZW1lbnQpO1xuICAgIH07XG4gIH1cblxuICBnZXRQYWdlVmlld0l0ZW0oc3BpbmVJbmRleDogbnVtYmVyKTogVGFzay5SZXN1bHQ8T1BGVmlld0l0ZW0+IHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoc3BpbmVJbmRleCA9PT0gLTEgfHwgc3BpbmVJbmRleCA+PSBzZWxmLm9wZi5zcGluZS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsIGFzIE9QRlZpZXdJdGVtKTtcbiAgICB9XG4gICAgbGV0IHZpZXdJdGVtID0gc2VsZi5zcGluZUl0ZW1zW3NwaW5lSW5kZXhdO1xuICAgIGlmICh2aWV3SXRlbSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHZpZXdJdGVtKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8T1BGVmlld0l0ZW0+ID0gVGFzay5uZXdGcmFtZShcImdldFBhZ2VWaWV3SXRlbVwiKTtcblxuICAgIC8vIElmIGxvYWRpbmcgZm9yIHRoZSBpdGVtIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCwgc3VzcGVuZCBhbmQgd2FpdCBmb3JcbiAgICAvLyB0aGUgcmVzdWx0LlxuICAgIGxldCBsb2FkaW5nQ29udGludWF0aW9ucyA9IHRoaXMuc3BpbmVJdGVtTG9hZGluZ0NvbnRpbnVhdGlvbnNbc3BpbmVJbmRleF07XG4gICAgaWYgKGxvYWRpbmdDb250aW51YXRpb25zKSB7XG4gICAgICBjb25zdCBjb250ID0gZnJhbWUuc3VzcGVuZCgpO1xuICAgICAgbG9hZGluZ0NvbnRpbnVhdGlvbnMucHVzaChjb250KTtcbiAgICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9hZGluZ0NvbnRpbnVhdGlvbnMgPSB0aGlzLnNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zW1xuICAgICAgICBzcGluZUluZGV4XG4gICAgICBdID0gW107XG4gICAgfVxuICAgIGNvbnN0IGl0ZW0gPSBzZWxmLm9wZi5zcGluZVtzcGluZUluZGV4XTtcbiAgICBjb25zdCBzdG9yZSA9IHNlbGYub3BmLnN0b3JlO1xuICAgIHN0b3JlLmxvYWQoaXRlbS5zcmMpLnRoZW4oKHhtbGRvYzogWG1sRG9jLlhNTERvY0hvbGRlcikgPT4ge1xuICAgICAgaXRlbS50aXRsZSA9IHhtbGRvYy5kb2N1bWVudC50aXRsZTtcbiAgICAgIGNvbnN0IHN0eWxlID0gc3RvcmUuZ2V0U3R5bGVGb3JEb2MoeG1sZG9jKTtcbiAgICAgIGNvbnN0IGN1c3RvbVJlbmRlcmVyID0gc2VsZi5tYWtlQ3VzdG9tUmVuZGVyZXIoeG1sZG9jKTtcbiAgICAgIGxldCB2aWV3cG9ydCA9IHNlbGYudmlld3BvcnQ7XG4gICAgICBjb25zdCB2aWV3cG9ydFNpemUgPSBzdHlsZS5zaXplVmlld3BvcnQoXG4gICAgICAgIHZpZXdwb3J0LndpZHRoLFxuICAgICAgICB2aWV3cG9ydC5oZWlnaHQsXG4gICAgICAgIHZpZXdwb3J0LmZvbnRTaXplLFxuICAgICAgICBzZWxmLnByZWYsXG4gICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICB2aWV3cG9ydFNpemUud2lkdGggIT0gdmlld3BvcnQud2lkdGggfHxcbiAgICAgICAgdmlld3BvcnRTaXplLmhlaWdodCAhPSB2aWV3cG9ydC5oZWlnaHQgfHxcbiAgICAgICAgdmlld3BvcnRTaXplLmZvbnRTaXplICE9IHZpZXdwb3J0LmZvbnRTaXplXG4gICAgICApIHtcbiAgICAgICAgdmlld3BvcnQgPSBuZXcgVmdlbi5WaWV3cG9ydChcbiAgICAgICAgICB2aWV3cG9ydC53aW5kb3csXG4gICAgICAgICAgdmlld3BvcnRTaXplLmZvbnRTaXplLFxuICAgICAgICAgIHZpZXdwb3J0LnJvb3QsXG4gICAgICAgICAgdmlld3BvcnRTaXplLndpZHRoLFxuICAgICAgICAgIHZpZXdwb3J0U2l6ZS5oZWlnaHQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBwcmV2aW91c1ZpZXdJdGVtID0gc2VsZi5zcGluZUl0ZW1zW3NwaW5lSW5kZXggLSAxXTtcbiAgICAgIGxldCBwYWdlTnVtYmVyT2Zmc2V0OiBudW1iZXI7XG4gICAgICBpZiAoaXRlbS5zdGFydFBhZ2UgIT09IG51bGwpIHtcbiAgICAgICAgcGFnZU51bWJlck9mZnNldCA9IGl0ZW0uc3RhcnRQYWdlIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBzcGluZUluZGV4ID4gMCAmJlxuICAgICAgICAgICghcHJldmlvdXNWaWV3SXRlbSB8fCAhcHJldmlvdXNWaWV3SXRlbS5jb21wbGV0ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gV2hlbiBuYXZpZ2F0ZSB0byBhIG5ldyBzcGluZSBpdGVtIHNraXBwaW5nIHRoZSBwcmV2aW91cyBpdGVtcyxcbiAgICAgICAgICAvLyBnaXZlIHVwIGNhbGN1bGF0ZSBwYWdlTnVtYmVyT2Zmc2V0IGFuZCB1c2UgZXBhZ2UgKG9yIHNwaW5lSW5kZXggaWYgZXBhZ2UgaXMgdW5zZXQpLlxuICAgICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQgPSBpdGVtLmVwYWdlIHx8IHNwaW5lSW5kZXg7XG4gICAgICAgICAgaWYgKCFzZWxmLm9wZi5wcmVQYWdpbmF0ZWQgJiYgcGFnZU51bWJlck9mZnNldCAlIDIgPT0gMCkge1xuICAgICAgICAgICAgLy8gRm9yY2UgdG8gb2RkIG51bWJlciB0byBhdm9pZCB1bnBhaXJlZCBwYWdlLiAoVGhpcyBpcyAwIGJhc2VkIGFuZCBldmVuIG51bWJlciBpcyByZWN0bylcbiAgICAgICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcGFnZU51bWJlck9mZnNldCA9IHByZXZpb3VzVmlld0l0ZW1cbiAgICAgICAgICAgID8gcHJldmlvdXNWaWV3SXRlbS5pbnN0YW5jZS5wYWdlTnVtYmVyT2Zmc2V0ICtcbiAgICAgICAgICAgICAgcHJldmlvdXNWaWV3SXRlbS5wYWdlcy5sZW5ndGhcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXRlbS5za2lwUGFnZXNCZWZvcmUgIT09IG51bGwpIHtcbiAgICAgICAgICBwYWdlTnVtYmVyT2Zmc2V0ICs9IGl0ZW0uc2tpcFBhZ2VzQmVmb3JlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZWxmLmNvdW50ZXJTdG9yZS5mb3JjZVNldFBhZ2VDb3VudGVyKHBhZ2VOdW1iZXJPZmZzZXQpO1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgT1BTLlN0eWxlSW5zdGFuY2UoXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB4bWxkb2MsXG4gICAgICAgIHNlbGYub3BmLmxhbmcsXG4gICAgICAgIHZpZXdwb3J0LFxuICAgICAgICBzZWxmLmNsaWVudExheW91dCxcbiAgICAgICAgc2VsZi5mb250TWFwcGVyLFxuICAgICAgICBjdXN0b21SZW5kZXJlcixcbiAgICAgICAgc2VsZi5vcGYuZmFsbGJhY2tNYXAsXG4gICAgICAgIHBhZ2VOdW1iZXJPZmZzZXQsXG4gICAgICAgIHNlbGYub3BmLmRvY3VtZW50VVJMVHJhbnNmb3JtZXIsXG4gICAgICAgIHNlbGYuY291bnRlclN0b3JlLFxuICAgICAgICBzZWxmLm9wZi5wYWdlUHJvZ3Jlc3Npb24sXG4gICAgICApO1xuICAgICAgaW5zdGFuY2UucHJlZiA9IHNlbGYucHJlZjtcblxuICAgICAgLy8gRm9yIGVudihwdWItdGl0bGUpIGFuZCBlbnYoZG9jLXRpdGxlKVxuICAgICAgY29uc3QgcHViVGl0bGVzID0gc2VsZi5vcGYubWV0YWRhdGEgJiYgc2VsZi5vcGYubWV0YWRhdGFbbWV0YVRlcm1zLnRpdGxlXTtcbiAgICAgIGluc3RhbmNlLnB1YlRpdGxlID1cbiAgICAgICAgKHB1YlRpdGxlcyAmJiBwdWJUaXRsZXNbMF0gJiYgcHViVGl0bGVzWzBdW1widlwiXSkgfHwgXCJcIjtcbiAgICAgIGluc3RhbmNlLmRvY1RpdGxlID0gaXRlbS50aXRsZSB8fCBcIlwiO1xuXG4gICAgICBpbnN0YW5jZS5pbml0KCkudGhlbigoKSA9PiB7XG4gICAgICAgIHZpZXdJdGVtID0ge1xuICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgeG1sZG9jLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIGxheW91dFBvc2l0aW9uczogW251bGxdLFxuICAgICAgICAgIHBhZ2VzOiBbXSxcbiAgICAgICAgICBjb21wbGV0ZTogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuc3BpbmVJdGVtc1tzcGluZUluZGV4XSA9IHZpZXdJdGVtO1xuICAgICAgICBmcmFtZS5maW5pc2godmlld0l0ZW0pO1xuICAgICAgICBsb2FkaW5nQ29udGludWF0aW9ucy5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgICAgYy5zY2hlZHVsZSh2aWV3SXRlbSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgcmVtb3ZlUmVuZGVyZWRQYWdlcygpIHtcbiAgICBjb25zdCBpdGVtcyA9IHRoaXMuc3BpbmVJdGVtcztcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIGl0ZW0ucGFnZXMuc3BsaWNlKDApO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnZpZXdwb3J0LmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBpZiBhdCBsZWFzdCBvbmUgcGFnZSBoYXMgJ2F1dG8nIHNpemVcbiAgICovXG4gIGhhc0F1dG9TaXplZFBhZ2VzKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5zcGluZUl0ZW1zO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgY29uc3QgcGFnZXMgPSBpdGVtLnBhZ2VzO1xuICAgICAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZXMpIHtcbiAgICAgICAgICBpZiAocGFnZS5pc0F1dG9QYWdlV2lkdGggJiYgcGFnZS5pc0F1dG9QYWdlSGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaGFzUGFnZXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc3BpbmVJdGVtcy5zb21lKChpdGVtKSA9PiBpdGVtICYmIGl0ZW0ucGFnZXMubGVuZ3RoID4gMCk7XG4gIH1cblxuICBzaG93VE9DKGF1dG9oaWRlOiBib29sZWFuKTogVGFzay5SZXN1bHQ8VnRyZWUuUGFnZT4ge1xuICAgIGNvbnN0IG9wZiA9IHRoaXMub3BmO1xuICAgIGNvbnN0IHRvYyA9IG9wZi54aHRtbFRvYyB8fCBvcGYubmN4VG9jO1xuICAgIHRoaXMudG9jQXV0b2hpZGUgPSBhdXRvaGlkZTtcbiAgICBpZiAoIXRvYykge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KG51bGwgYXMgVnRyZWUuUGFnZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnRvY1ZpZXcgJiYgdGhpcy50b2NWaWV3LnBhZ2UpIHtcbiAgICAgIHRoaXMudG9jVmlldy5wYWdlLmNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICB0aGlzLnRvY1ZpZXcucGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJmYWxzZVwiKTtcbiAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0aGlzLnRvY1ZpZXcucGFnZSk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPFZ0cmVlLlBhZ2U+ID0gVGFzay5uZXdGcmFtZShcInNob3dUT0NcIik7XG4gICAgaWYgKCF0aGlzLnRvY1ZpZXcpIHtcbiAgICAgIHRoaXMudG9jVmlldyA9IG5ldyBUb2MuVE9DVmlldyhcbiAgICAgICAgb3BmLnN0b3JlLFxuICAgICAgICB0b2Muc3JjLFxuICAgICAgICBvcGYubGFuZyxcbiAgICAgICAgdGhpcy5jbGllbnRMYXlvdXQsXG4gICAgICAgIHRoaXMuZm9udE1hcHBlcixcbiAgICAgICAgdGhpcy5wcmVmLFxuICAgICAgICB0aGlzLFxuICAgICAgICBvcGYuZmFsbGJhY2tNYXAsXG4gICAgICAgIG9wZi5kb2N1bWVudFVSTFRyYW5zZm9ybWVyLFxuICAgICAgICB0aGlzLmNvdW50ZXJTdG9yZSxcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy52aWV3cG9ydDtcbiAgICBjb25zdCB0b2NXaWR0aCA9IE1hdGgubWluKDM1MCwgTWF0aC5yb3VuZCgwLjY3ICogdmlld3BvcnQud2lkdGgpIC0gMTYpO1xuICAgIGNvbnN0IHRvY0hlaWdodCA9IHZpZXdwb3J0LmhlaWdodCAtIDY7XG4gICAgY29uc3QgcGFnZUNvbnQgPSB2aWV3cG9ydC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpIGFzIEhUTUxFbGVtZW50O1xuICAgIHZpZXdwb3J0LnJvb3QuYXBwZW5kQ2hpbGQocGFnZUNvbnQpO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgIHBhZ2VDb250LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLmxlZnQgPSBcIjNweFwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLnRvcCA9IFwiM3B4XCI7XG4gICAgcGFnZUNvbnQuc3R5bGUud2lkdGggPSBgJHt0b2NXaWR0aCArIDEwfXB4YDtcbiAgICBwYWdlQ29udC5zdHlsZS5tYXhIZWlnaHQgPSBgJHt0b2NIZWlnaHR9cHhgO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIjtcbiAgICAvLyBwYWdlQ29udC5zdHlsZS5vdmVyZmxvd1ggPSBcImhpZGRlblwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlLmJhY2tncm91bmQgPSBcInJnYmEoMjQ4LDI0OCwyNDgsMC45KVwiO1xuICAgIC8vIHBhZ2VDb250LnN0eWxlW1wiYm9yZGVyUmFkaXVzXCJdID0gXCIycHhcIjtcbiAgICAvLyBwYWdlQ29udC5zdHlsZVtcImJveFNoYWRvd1wiXSA9IFwiMXB4IDFweCAycHggcmdiYSgwLDAsMCwwLjQpXCI7XG5cbiAgICBwYWdlQ29udC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hcIiwgXCJ0cnVlXCIpO1xuICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJuYXZpZ2F0aW9uXCIpO1xuXG4gICAgdGhpcy50b2NWaWV3XG4gICAgICAuc2hvd1RPQyhwYWdlQ29udCwgdmlld3BvcnQsIHRvY1dpZHRoLCB0b2NIZWlnaHQsIHRoaXMudmlld3BvcnQuZm9udFNpemUpXG4gICAgICAudGhlbigocGFnZSkgPT4ge1xuICAgICAgICBwYWdlQ29udC5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgIHBhZ2VDb250LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGZyYW1lLmZpbmlzaChwYWdlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGhpZGVUT0MoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudG9jVmlldykge1xuICAgICAgdGhpcy50b2NWaWV3LmhpZGVUT0MoKTtcbiAgICB9XG4gIH1cblxuICBpc1RPQ1Zpc2libGUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhdGhpcy50b2NWaWV3ICYmIHRoaXMudG9jVmlldy5pc1RPQ1Zpc2libGUoKTtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclNpbmdsZVBhZ2VSZXN1bHQge1xuICBwYWdlQW5kUG9zaXRpb246IFBhZ2VBbmRQb3NpdGlvbjtcbiAgbmV4dExheW91dFBvc2l0aW9uOiBWdHJlZS5MYXlvdXRQb3NpdGlvbjtcbn1cbiIsIi8qKlxuICogQ29weXJpZ2h0IDIwMTMgR29vZ2xlLCBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBWaXZsaW9zdHlsZS5qcyBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlLmpzLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICpcbiAqIEBmaWxlb3ZlcnZpZXcgQWRhcHRpdmVWaWV3ZXIgLSBWaWV3ZXIgaW1wbGVtZW50YXRpb24uXG4gKi9cbmltcG9ydCAqIGFzIEFzc2VydHMgZnJvbSBcIi4vYXNzZXJ0c1wiO1xuaW1wb3J0ICogYXMgQmFzZSBmcm9tIFwiLi9iYXNlXCI7XG5pbXBvcnQgKiBhcyBDb25zdGFudHMgZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgKiBhcyBFcHViIGZyb20gXCIuL2VwdWJcIjtcbmltcG9ydCAqIGFzIEV4cHJzIGZyb20gXCIuL2V4cHJzXCI7XG5pbXBvcnQgKiBhcyBGb250IGZyb20gXCIuL2ZvbnRcIjtcbmltcG9ydCAqIGFzIExvZ2dpbmcgZnJvbSBcIi4vbG9nZ2luZ1wiO1xuaW1wb3J0ICogYXMgUGx1Z2luIGZyb20gXCIuL3BsdWdpblwiO1xuaW1wb3J0ICogYXMgUHJvZmlsZSBmcm9tIFwiLi9wcm9maWxlXCI7XG5pbXBvcnQgKiBhcyBUYXNrIGZyb20gXCIuL3Rhc2tcIjtcbmltcG9ydCAqIGFzIFRhc2tVdGlsIGZyb20gXCIuL3Rhc2stdXRpbFwiO1xuaW1wb3J0ICogYXMgVmdlbiBmcm9tIFwiLi92Z2VuXCI7XG5pbXBvcnQgKiBhcyBWdHJlZSBmcm9tIFwiLi92dHJlZVwiO1xuXG5leHBvcnQgdHlwZSBBY3Rpb24gPSAocDE6IEJhc2UuSlNPTikgPT4gVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG5cbmV4cG9ydCB0eXBlIFZpZXdwb3J0U2l6ZSA9IHtcbiAgbWFyZ2luTGVmdDogbnVtYmVyO1xuICBtYXJnaW5SaWdodDogbnVtYmVyO1xuICBtYXJnaW5Ub3A6IG51bWJlcjtcbiAgbWFyZ2luQm90dG9tOiBudW1iZXI7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xufTtcblxuZXhwb3J0IGNvbnN0IFZJRVdQT1JUX1NUQVRVU19BVFRSSUJVVEUgPSBcImRhdGEtdml2bGlvc3R5bGUtdmlld2VyLXN0YXR1c1wiO1xuXG5leHBvcnQgY29uc3QgVklFV1BPUlRfU1BSRUFEX1ZJRVdfQVRUUklCVVRFID0gXCJkYXRhLXZpdmxpb3N0eWxlLXNwcmVhZC12aWV3XCI7XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gUGFnZVZpZXdNb2RlIHtcbiAgU0lOR0xFX1BBR0UgPSBcInNpbmdsZVBhZ2VcIixcbiAgU1BSRUFEID0gXCJzcHJlYWRcIixcbiAgQVVUT19TUFJFQUQgPSBcImF1dG9TcHJlYWRcIixcbn1cblxuZXhwb3J0IHR5cGUgU2luZ2xlRG9jdW1lbnRQYXJhbSA9IHtcbiAgdXJsOiBzdHJpbmc7XG4gIHN0YXJ0UGFnZTogbnVtYmVyIHwgbnVsbDtcbiAgc2tpcFBhZ2VzQmVmb3JlOiBudW1iZXIgfCBudWxsO1xufTtcblxuZXhwb3J0IGNsYXNzIEFkYXB0aXZlVmlld2VyIHtcbiAgZm9udE1hcHBlcjogRm9udC5NYXBwZXI7XG4gIGtpY2s6ICgpID0+IHZvaWQ7XG4gIHNlbmRDb21tYW5kOiAocDE6IEJhc2UuSlNPTiB8IHN0cmluZykgPT4gdm9pZDtcbiAgcmVzaXplTGlzdGVuZXI6ICgpID0+IHZvaWQ7XG4gIGh5cGVybGlua0xpc3RlbmVyOiBCYXNlLkV2ZW50TGlzdGVuZXI7XG4gIHBhZ2VSdWxlU3R5bGVFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgcGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcmVuZGVyVGFzazogVGFzay5UYXNrIHwgbnVsbCA9IG51bGw7XG4gIGFjdGlvbnM6IHsgW2tleTogc3RyaW5nXTogQWN0aW9uIH07XG4gIHJlYWR5U3RhdGU6IENvbnN0YW50cy5SZWFkeVN0YXRlO1xuICBwYWNrYWdlVVJMOiBzdHJpbmdbXTtcbiAgb3BmOiBFcHViLk9QRkRvYztcbiAgaGF2ZVppcE1ldGFkYXRhOiBib29sZWFuO1xuICB0b3VjaEFjdGl2ZTogYm9vbGVhbjtcbiAgdG91Y2hYOiBudW1iZXI7XG4gIHRvdWNoWTogbnVtYmVyO1xuICBuZWVkUmVzaXplOiBib29sZWFuO1xuICBuZWVkUmVmcmVzaDogYm9vbGVhbjtcbiAgdmlld3BvcnRTaXplOiBWaWV3cG9ydFNpemUgfCBudWxsO1xuICBjdXJyZW50UGFnZTogVnRyZWUuUGFnZTtcbiAgY3VycmVudFNwcmVhZDogVnRyZWUuU3ByZWFkIHwgbnVsbDtcbiAgcGFnZVBvc2l0aW9uOiBFcHViLlBvc2l0aW9uIHwgbnVsbDtcbiAgZm9udFNpemU6IG51bWJlcjtcbiAgem9vbTogbnVtYmVyO1xuICBmaXRUb1NjcmVlbjogYm9vbGVhbjtcbiAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGU7XG4gIHdhaXRGb3JMb2FkaW5nOiBib29sZWFuO1xuICByZW5kZXJBbGxQYWdlczogYm9vbGVhbjtcbiAgcHJlZjogRXhwcnMuUHJlZmVyZW5jZXM7XG4gIHBhZ2VTaXplczogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9W107XG5cbiAgLy8gZm9yY2UgcmVsYXlvdXRcbiAgdmlld3BvcnQ6IFZnZW4uVmlld3BvcnQgfCBudWxsO1xuICBvcGZWaWV3OiBFcHViLk9QRlZpZXc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IHdpbmRvdzogV2luZG93LFxuICAgIHB1YmxpYyByZWFkb25seSB2aWV3cG9ydEVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIHB1YmxpYyByZWFkb25seSBpbnN0YW5jZUlkOiBzdHJpbmcsXG4gICAgcHVibGljIHJlYWRvbmx5IGNhbGxiYWNrRm46IChwMTogQmFzZS5KU09OKSA9PiB2b2lkLFxuICApIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB2aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIiwgdHJ1ZSk7XG4gICAgaWYgKENvbnN0YW50cy5pc0RlYnVnKSB7XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS1kZWJ1Z1wiLCB0cnVlKTtcbiAgICB9XG4gICAgdmlld3BvcnRFbGVtZW50LnNldEF0dHJpYnV0ZShWSUVXUE9SVF9TVEFUVVNfQVRUUklCVVRFLCBcImxvYWRpbmdcIik7XG4gICAgY29uc3QgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgdGhpcy5mb250TWFwcGVyID0gbmV3IEZvbnQuTWFwcGVyKGRvY3VtZW50LmhlYWQsIHZpZXdwb3J0RWxlbWVudCk7XG4gICAgdGhpcy5pbml0KCk7XG4gICAgdGhpcy5raWNrID0gKCkgPT4ge307XG4gICAgdGhpcy5zZW5kQ29tbWFuZCA9ICgpID0+IHt9O1xuICAgIHRoaXMucmVzaXplTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICBzZWxmLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgc2VsZi5raWNrKCk7XG4gICAgfTtcbiAgICB0aGlzLnBhZ2VSZXBsYWNlZExpc3RlbmVyID0gdGhpcy5wYWdlUmVwbGFjZWRMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaHlwZXJsaW5rTGlzdGVuZXIgPSAoZXZ0KSA9PiB7fTtcbiAgICB0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICBcInZpdmxpb3N0eWxlLXBhZ2UtcnVsZXNcIixcbiAgICApO1xuICAgIHRoaXMuYWN0aW9ucyA9IHtcbiAgICAgIGxvYWRQdWJsaWNhdGlvbjogdGhpcy5sb2FkUHVibGljYXRpb24sXG4gICAgICBsb2FkWE1MOiB0aGlzLmxvYWRYTUwsXG4gICAgICBjb25maWd1cmU6IHRoaXMuY29uZmlndXJlLFxuICAgICAgbW92ZVRvOiB0aGlzLm1vdmVUbyxcbiAgICAgIHRvYzogdGhpcy5zaG93VE9DLFxuICAgIH07XG4gICAgdGhpcy5hZGRMb2dMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHByaXZhdGUgaW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLnJlYWR5U3RhdGUgPSBDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HO1xuICAgIHRoaXMucGFja2FnZVVSTCA9IFtdO1xuICAgIHRoaXMub3BmID0gbnVsbDtcbiAgICB0aGlzLmhhdmVaaXBNZXRhZGF0YSA9IGZhbHNlO1xuICAgIHRoaXMudG91Y2hBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLnRvdWNoWCA9IDA7XG4gICAgdGhpcy50b3VjaFkgPSAwO1xuICAgIHRoaXMubmVlZFJlc2l6ZSA9IGZhbHNlO1xuICAgIHRoaXMubmVlZFJlZnJlc2ggPSBmYWxzZTtcbiAgICB0aGlzLnZpZXdwb3J0U2l6ZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IG51bGw7XG4gICAgdGhpcy5jdXJyZW50U3ByZWFkID0gbnVsbDtcbiAgICB0aGlzLnBhZ2VQb3NpdGlvbiA9IG51bGw7XG4gICAgdGhpcy5mb250U2l6ZSA9IDE2O1xuICAgIHRoaXMuem9vbSA9IDE7XG4gICAgdGhpcy5maXRUb1NjcmVlbiA9IGZhbHNlO1xuICAgIHRoaXMucGFnZVZpZXdNb2RlID0gUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFO1xuICAgIHRoaXMud2FpdEZvckxvYWRpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlckFsbFBhZ2VzID0gdHJ1ZTtcbiAgICB0aGlzLnByZWYgPSBFeHBycy5kZWZhdWx0UHJlZmVyZW5jZXMoKTtcbiAgICB0aGlzLnBhZ2VTaXplcyA9IFtdO1xuICB9XG5cbiAgYWRkTG9nTGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGxvZ0xldmVsID0gTG9nZ2luZy5Mb2dMZXZlbDtcbiAgICBMb2dnaW5nLmxvZ2dlci5hZGRMaXN0ZW5lcihsb2dMZXZlbC5ERUJVRywgKGluZm8pID0+IHtcbiAgICAgIHRoaXMuY2FsbGJhY2soeyB0OiBcImRlYnVnXCIsIGNvbnRlbnQ6IGluZm8gfSk7XG4gICAgfSk7XG4gICAgTG9nZ2luZy5sb2dnZXIuYWRkTGlzdGVuZXIobG9nTGV2ZWwuSU5GTywgKGluZm8pID0+IHtcbiAgICAgIHRoaXMuY2FsbGJhY2soeyB0OiBcImluZm9cIiwgY29udGVudDogaW5mbyB9KTtcbiAgICB9KTtcbiAgICBMb2dnaW5nLmxvZ2dlci5hZGRMaXN0ZW5lcihsb2dMZXZlbC5XQVJOLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwid2FyblwiLCBjb250ZW50OiBpbmZvIH0pO1xuICAgIH0pO1xuICAgIExvZ2dpbmcubG9nZ2VyLmFkZExpc3RlbmVyKGxvZ0xldmVsLkVSUk9SLCAoaW5mbykgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh7IHQ6IFwiZXJyb3JcIiwgY29udGVudDogaW5mbyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY2FsbGJhY2sobWVzc2FnZTogQmFzZS5KU09OKTogdm9pZCB7XG4gICAgbWVzc2FnZVtcImlcIl0gPSB0aGlzLmluc3RhbmNlSWQ7XG4gICAgdGhpcy5jYWxsYmFja0ZuKG1lc3NhZ2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCByZWFkeVN0YXRlIGFuZCBub3RpZnkgdG8gbGlzdGVuZXJzXG4gICAqL1xuICBzZXRSZWFkeVN0YXRlKHJlYWR5U3RhdGU6IENvbnN0YW50cy5SZWFkeVN0YXRlKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gcmVhZHlTdGF0ZSkge1xuICAgICAgdGhpcy5yZWFkeVN0YXRlID0gcmVhZHlTdGF0ZTtcbiAgICAgIHRoaXMudmlld3BvcnRFbGVtZW50LnNldEF0dHJpYnV0ZShWSUVXUE9SVF9TVEFUVVNfQVRUUklCVVRFLCByZWFkeVN0YXRlKTtcbiAgICAgIHRoaXMuY2FsbGJhY2soeyB0OiBcInJlYWR5c3RhdGVjaGFuZ2VcIiB9KTtcbiAgICB9XG4gIH1cblxuICBsb2FkUHVibGljYXRpb24oY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJTdGFydFRpbWluZyhcImJlZm9yZVJlbmRlclwiKTtcbiAgICB0aGlzLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORyk7XG4gICAgY29uc3QgdXJsID0gY29tbWFuZFtcInVybFwiXSBhcyBzdHJpbmc7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBjb21tYW5kW1wiZnJhZ21lbnRcIl0gYXMgc3RyaW5nIHwgbnVsbDtcbiAgICBjb25zdCBoYXZlWmlwTWV0YWRhdGEgPSAhIWNvbW1hbmRbXCJ6aXBtZXRhXCJdO1xuICAgIGNvbnN0IGF1dGhvclN0eWxlU2hlZXQgPSBjb21tYW5kW1wiYXV0aG9yU3R5bGVTaGVldFwiXSBhcyB7XG4gICAgICB1cmw6IHN0cmluZyB8IG51bGw7XG4gICAgICB0ZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIH1bXTtcbiAgICBjb25zdCB1c2VyU3R5bGVTaGVldCA9IGNvbW1hbmRbXCJ1c2VyU3R5bGVTaGVldFwiXSBhcyB7XG4gICAgICB1cmw6IHN0cmluZyB8IG51bGw7XG4gICAgICB0ZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgIH1bXTtcbiAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJsb2FkUHVibGljYXRpb25cIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5jb25maWd1cmUoY29tbWFuZCkudGhlbigoKSA9PiB7XG4gICAgICBjb25zdCBzdG9yZSA9IG5ldyBFcHViLkVQVUJEb2NTdG9yZSgpO1xuICAgICAgc3RvcmUuaW5pdChhdXRob3JTdHlsZVNoZWV0LCB1c2VyU3R5bGVTaGVldCkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IHB1YlVSTCA9IEJhc2UucmVzb2x2ZVVSTChcbiAgICAgICAgICBCYXNlLmNvbnZlcnRTcGVjaWFsVVJMKHVybCksXG4gICAgICAgICAgc2VsZi53aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgICAgKTtcbiAgICAgICAgc2VsZi5wYWNrYWdlVVJMID0gW3B1YlVSTF07XG4gICAgICAgIHN0b3JlLmxvYWRQdWJEb2MocHViVVJMLCBoYXZlWmlwTWV0YWRhdGEpLnRoZW4oKG9wZikgPT4ge1xuICAgICAgICAgIGlmIChvcGYpIHtcbiAgICAgICAgICAgIHNlbGYub3BmID0gb3BmO1xuICAgICAgICAgICAgc2VsZi5yZW5kZXIoZnJhZ21lbnQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZyYW1lLnJlc3VsdCgpO1xuICB9XG5cbiAgbG9hZFhNTChjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlclN0YXJ0VGltaW5nKFwiYmVmb3JlUmVuZGVyXCIpO1xuICAgIHRoaXMuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICBjb25zdCBwYXJhbXM6IFNpbmdsZURvY3VtZW50UGFyYW1bXSA9IGNvbW1hbmRbXCJ1cmxcIl07XG4gICAgY29uc3QgZG9jID0gY29tbWFuZFtcImRvY3VtZW50XCJdIGFzIERvY3VtZW50O1xuICAgIGNvbnN0IGZyYWdtZW50ID0gY29tbWFuZFtcImZyYWdtZW50XCJdIGFzIHN0cmluZyB8IG51bGw7XG4gICAgY29uc3QgYXV0aG9yU3R5bGVTaGVldCA9IGNvbW1hbmRbXCJhdXRob3JTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gY29tbWFuZFtcInVzZXJTdHlsZVNoZWV0XCJdIGFzIHtcbiAgICAgIHVybDogc3RyaW5nIHwgbnVsbDtcbiAgICAgIHRleHQ6IHN0cmluZyB8IG51bGw7XG4gICAgfVtdO1xuXG4gICAgLy8gZm9yY2UgcmVsYXlvdXRcbiAgICB0aGlzLnZpZXdwb3J0ID0gbnVsbDtcbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJsb2FkWE1MXCIpO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHNlbGYuY29uZmlndXJlKGNvbW1hbmQpLnRoZW4oKCkgPT4ge1xuICAgICAgY29uc3Qgc3RvcmUgPSBuZXcgRXB1Yi5FUFVCRG9jU3RvcmUoKTtcbiAgICAgIHN0b3JlLmluaXQoYXV0aG9yU3R5bGVTaGVldCwgdXNlclN0eWxlU2hlZXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZFBhcmFtczogRXB1Yi5PUEZJdGVtUGFyYW1bXSA9IHBhcmFtcy5tYXAoKHAsIGluZGV4KSA9PiAoe1xuICAgICAgICAgIHVybDogQmFzZS5yZXNvbHZlVVJMKFxuICAgICAgICAgICAgQmFzZS5jb252ZXJ0U3BlY2lhbFVSTChwLnVybCksXG4gICAgICAgICAgICBzZWxmLndpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgICAgICksXG4gICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgc3RhcnRQYWdlOiBwLnN0YXJ0UGFnZSxcbiAgICAgICAgICBza2lwUGFnZXNCZWZvcmU6IHAuc2tpcFBhZ2VzQmVmb3JlLFxuICAgICAgICB9KSk7XG4gICAgICAgIHNlbGYucGFja2FnZVVSTCA9IHJlc29sdmVkUGFyYW1zLm1hcCgocCkgPT4gcC51cmwpO1xuICAgICAgICBzZWxmLm9wZiA9IG5ldyBFcHViLk9QRkRvYyhzdG9yZSwgXCJcIik7XG4gICAgICAgIHNlbGYub3BmLmluaXRXaXRoQ2hhcHRlcnMocmVzb2x2ZWRQYXJhbXMsIGRvYykudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2VsZi5yZW5kZXIoZnJhZ21lbnQpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVuZGVyKGZyYWdtZW50Pzogc3RyaW5nIHwgbnVsbCk6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICB0aGlzLmNhbmNlbFJlbmRlcmluZ1Rhc2soKTtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBsZXQgY29udDogVGFzay5SZXN1bHQ8Ym9vbGVhbj47XG4gICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICBjb250ID0gdGhpcy5vcGYucmVzb2x2ZUZyYWdtZW50KGZyYWdtZW50KS50aGVuQXN5bmMoKHBvc2l0aW9uKSA9PiB7XG4gICAgICAgIHNlbGYucGFnZVBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250ID0gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiBjb250LnRoZW5Bc3luYygoKSA9PiB7XG4gICAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyRW5kVGltaW5nKFwiYmVmb3JlUmVuZGVyXCIpO1xuICAgICAgcmV0dXJuIHNlbGYucmVzaXplKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIHJlc29sdmVMZW5ndGgoc3BlY2lmaWVkOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChzcGVjaWZpZWQpO1xuICAgIGNvbnN0IHVuaXRQYXR0ZXJuID0gL1thLXpdKyQvO1xuICAgIGxldCBtYXRjaGVkOiBSZWdFeHBNYXRjaEFycmF5O1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBzcGVjaWZpZWQgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgIChtYXRjaGVkID0gc3BlY2lmaWVkLm1hdGNoKHVuaXRQYXR0ZXJuKSlcbiAgICApIHtcbiAgICAgIGNvbnN0IHVuaXQgPSBtYXRjaGVkWzBdO1xuICAgICAgaWYgKHVuaXQgPT09IFwiZW1cIiB8fCB1bml0ID09PSBcInJlbVwiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAqIHRoaXMuZm9udFNpemU7XG4gICAgICB9XG4gICAgICBpZiAodW5pdCA9PT0gXCJleFwiKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKHZhbHVlICogRXhwcnMuZGVmYXVsdFVuaXRTaXplc1tcImV4XCJdICogdGhpcy5mb250U2l6ZSkgL1xuICAgICAgICAgIEV4cHJzLmRlZmF1bHRVbml0U2l6ZXNbXCJlbVwiXVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgY29uc3QgdW5pdFNpemUgPSBFeHBycy5kZWZhdWx0VW5pdFNpemVzW3VuaXRdO1xuICAgICAgaWYgKHVuaXRTaXplKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAqIHVuaXRTaXplO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBjb25maWd1cmUoY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImF1dG9yZXNpemVcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIGlmIChjb21tYW5kW1wiYXV0b3Jlc2l6ZVwiXSkge1xuICAgICAgICB0aGlzLnZpZXdwb3J0U2l6ZSA9IG51bGw7XG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVMaXN0ZW5lciwgZmFsc2UpO1xuICAgICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZUxpc3RlbmVyLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImZvbnRTaXplXCJdID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IGZvbnRTaXplID0gY29tbWFuZFtcImZvbnRTaXplXCJdIGFzIG51bWJlcjtcbiAgICAgIGlmIChmb250U2l6ZSA+PSA1ICYmIGZvbnRTaXplIDw9IDcyICYmIHRoaXMuZm9udFNpemUgIT0gZm9udFNpemUpIHtcbiAgICAgICAgdGhpcy5mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJ2aWV3cG9ydFwiXSA9PSBcIm9iamVjdFwiICYmIGNvbW1hbmRbXCJ2aWV3cG9ydFwiXSkge1xuICAgICAgY29uc3QgdnAgPSBjb21tYW5kW1widmlld3BvcnRcIl07XG4gICAgICBjb25zdCB2aWV3cG9ydFNpemUgPSB7XG4gICAgICAgIG1hcmdpbkxlZnQ6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcIm1hcmdpbi1sZWZ0XCJdKSB8fCAwLFxuICAgICAgICBtYXJnaW5SaWdodDogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLXJpZ2h0XCJdKSB8fCAwLFxuICAgICAgICBtYXJnaW5Ub3A6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcIm1hcmdpbi10b3BcIl0pIHx8IDAsXG4gICAgICAgIG1hcmdpbkJvdHRvbTogdGhpcy5yZXNvbHZlTGVuZ3RoKHZwW1wibWFyZ2luLWJvdHRvbVwiXSkgfHwgMCxcbiAgICAgICAgd2lkdGg6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcIndpZHRoXCJdKSB8fCAwLFxuICAgICAgICBoZWlnaHQ6IHRoaXMucmVzb2x2ZUxlbmd0aCh2cFtcImhlaWdodFwiXSkgfHwgMCxcbiAgICAgIH07XG4gICAgICBpZiAodmlld3BvcnRTaXplLndpZHRoID49IDIwMCB8fCB2aWV3cG9ydFNpemUuaGVpZ2h0ID49IDIwMCkge1xuICAgICAgICB0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHRoaXMucmVzaXplTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgICAgdGhpcy52aWV3cG9ydFNpemUgPSB2aWV3cG9ydFNpemU7XG4gICAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImh5cGhlbmF0ZVwiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5wcmVmLmh5cGhlbmF0ZSA9IGNvbW1hbmRbXCJoeXBoZW5hdGVcIl07XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJob3Jpem9udGFsXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnByZWYuaG9yaXpvbnRhbCA9IGNvbW1hbmRbXCJob3Jpem9udGFsXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wibmlnaHRNb2RlXCJdID09IFwiYm9vbGVhblwiKSB7XG4gICAgICB0aGlzLnByZWYubmlnaHRNb2RlID0gY29tbWFuZFtcIm5pZ2h0TW9kZVwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImxpbmVIZWlnaHRcIl0gPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5wcmVmLmxpbmVIZWlnaHQgPSBjb21tYW5kW1wibGluZUhlaWdodFwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImNvbHVtbldpZHRoXCJdID09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRoaXMucHJlZi5jb2x1bW5XaWR0aCA9IGNvbW1hbmRbXCJjb2x1bW5XaWR0aFwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImZvbnRGYW1pbHlcIl0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5wcmVmLmZvbnRGYW1pbHkgPSBjb21tYW5kW1wiZm9udEZhbWlseVwiXTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcImxvYWRcIl0gPT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHRoaXMud2FpdEZvckxvYWRpbmcgPSBjb21tYW5kW1wibG9hZFwiXTsgLy8gTG9hZCBpbWFnZXMgKGFuZCBvdGhlciByZXNvdXJjZXMpIG9uIHRoZSBwYWdlLlxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJyZW5kZXJBbGxQYWdlc1wiXSA9PSBcImJvb2xlYW5cIikge1xuICAgICAgdGhpcy5yZW5kZXJBbGxQYWdlcyA9IGNvbW1hbmRbXCJyZW5kZXJBbGxQYWdlc1wiXTtcbiAgICB9XG4gICAgLy8gZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICBpZiAodHlwZW9mIGNvbW1hbmRbXCJ1c2VyQWdlbnRSb290VVJMXCJdID09IFwic3RyaW5nXCIpIHtcbiAgICAgIEJhc2Uuc2V0QmFzZVVSTChjb21tYW5kW1widXNlckFnZW50Um9vdFVSTFwiXS5yZXBsYWNlKC9yZXNvdXJjZXNcXC8/JC8sIFwiXCIpKTtcbiAgICAgIEJhc2Uuc2V0UmVzb3VyY2VCYXNlVVJMKGNvbW1hbmRbXCJ1c2VyQWdlbnRSb290VVJMXCJdKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wicm9vdFVSTFwiXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBCYXNlLnNldEJhc2VVUkwoY29tbWFuZFtcInJvb3RVUkxcIl0pO1xuICAgICAgQmFzZS5zZXRSZXNvdXJjZUJhc2VVUkwoYCR7QmFzZS5iYXNlVVJMfXJlc291cmNlcy9gKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJwYWdlVmlld01vZGVcIl0gPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgY29tbWFuZFtcInBhZ2VWaWV3TW9kZVwiXSAhPT0gdGhpcy5wYWdlVmlld01vZGVcbiAgICApIHtcbiAgICAgIHRoaXMucGFnZVZpZXdNb2RlID0gY29tbWFuZFtcInBhZ2VWaWV3TW9kZVwiXSBhcyBQYWdlVmlld01vZGU7XG4gICAgICB0aGlzLm5lZWRSZXNpemUgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY29tbWFuZFtcInBhZ2VCb3JkZXJcIl0gPT0gXCJudW1iZXJcIiAmJlxuICAgICAgY29tbWFuZFtcInBhZ2VCb3JkZXJcIl0gIT09IHRoaXMucHJlZi5wYWdlQm9yZGVyXG4gICAgKSB7XG4gICAgICAvLyBGb3JjZSByZWxheW91dFxuICAgICAgdGhpcy52aWV3cG9ydCA9IG51bGw7XG4gICAgICB0aGlzLnByZWYucGFnZUJvcmRlciA9IGNvbW1hbmRbXCJwYWdlQm9yZGVyXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBjb21tYW5kW1wiem9vbVwiXSA9PSBcIm51bWJlclwiICYmIGNvbW1hbmRbXCJ6b29tXCJdICE9PSB0aGlzLnpvb20pIHtcbiAgICAgIHRoaXMuem9vbSA9IGNvbW1hbmRbXCJ6b29tXCJdO1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wiZml0VG9TY3JlZW5cIl0gPT0gXCJib29sZWFuXCIgJiZcbiAgICAgIGNvbW1hbmRbXCJmaXRUb1NjcmVlblwiXSAhPT0gdGhpcy5maXRUb1NjcmVlblxuICAgICkge1xuICAgICAgdGhpcy5maXRUb1NjcmVlbiA9IGNvbW1hbmRbXCJmaXRUb1NjcmVlblwiXTtcbiAgICAgIHRoaXMubmVlZFJlZnJlc2ggPSB0cnVlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgY29tbWFuZFtcImRlZmF1bHRQYXBlclNpemVcIl0gPT0gXCJvYmplY3RcIiAmJlxuICAgICAgdHlwZW9mIGNvbW1hbmRbXCJkZWZhdWx0UGFwZXJTaXplXCJdLndpZHRoID09IFwibnVtYmVyXCIgJiZcbiAgICAgIHR5cGVvZiBjb21tYW5kW1wiZGVmYXVsdFBhcGVyU2l6ZVwiXS5oZWlnaHQgPT0gXCJudW1iZXJcIlxuICAgICkge1xuICAgICAgdGhpcy52aWV3cG9ydCA9IG51bGw7XG4gICAgICB0aGlzLnByZWYuZGVmYXVsdFBhcGVyU2l6ZSA9IGNvbW1hbmRbXCJkZWZhdWx0UGFwZXJTaXplXCJdO1xuICAgICAgdGhpcy5uZWVkUmVzaXplID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5jb25maWd1cmVQbHVnaW5zKGNvbW1hbmQpO1xuICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZVBsdWdpbnMoY29tbWFuZDogQmFzZS5KU09OKSB7XG4gICAgY29uc3QgaG9va3M6IFBsdWdpbi5Db25maWd1cmF0aW9uSG9va1tdID0gUGx1Z2luLmdldEhvb2tzRm9yTmFtZShcbiAgICAgIFBsdWdpbi5IT09LUy5DT05GSUdVUkFUSU9OLFxuICAgICk7XG4gICAgaG9va3MuZm9yRWFjaCgoaG9vaykgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gaG9vayhjb21tYW5kKTtcbiAgICAgIHRoaXMubmVlZFJlc2l6ZSA9IHJlc3VsdC5uZWVkUmVzaXplIHx8IHRoaXMubmVlZFJlc2l6ZTtcbiAgICAgIHRoaXMubmVlZFJlZnJlc2ggPSByZXN1bHQubmVlZFJlZnJlc2ggfHwgdGhpcy5uZWVkUmVmcmVzaDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHZpZXcgd2hlbiBhIGN1cnJlbnRseSBkaXNwbGF5ZWQgcGFnZSBpcyByZXBsYWNlZCAoYnkgcmUtbGF5b3V0XG4gICAqIGNhdXNlZCBieSBjcm9zcyByZWZlcmVuY2UgcmVzb2x1dGlvbnMpXG4gICAqL1xuICBwYWdlUmVwbGFjZWRMaXN0ZW5lcihldnQ6IEJhc2UuRXZlbnQpIHtcbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IHRoaXMuY3VycmVudFBhZ2U7XG4gICAgY29uc3Qgc3ByZWFkID0gdGhpcy5jdXJyZW50U3ByZWFkO1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQ7XG4gICAgaWYgKHNwcmVhZCkge1xuICAgICAgaWYgKHNwcmVhZC5sZWZ0ID09PSB0YXJnZXQgfHwgc3ByZWFkLnJpZ2h0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5zaG93Q3VycmVudChldnQubmV3UGFnZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PT0gZXZ0LnRhcmdldCkge1xuICAgICAgdGhpcy5zaG93Q3VycmVudChldnQubmV3UGFnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgdGhyb3VnaCBjdXJyZW50bHkgZGlzcGxheWVkIHBhZ2VzIGFuZCBkbyBzb21ldGhpbmdcbiAgICovXG4gIHByaXZhdGUgZm9yQ3VycmVudFBhZ2VzKGZuOiAocDE6IFZ0cmVlLlBhZ2UpID0+IGFueSkge1xuICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgaWYgKHRoaXMuY3VycmVudFBhZ2UpIHtcbiAgICAgIHBhZ2VzLnB1c2godGhpcy5jdXJyZW50UGFnZSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnJlbnRTcHJlYWQpIHtcbiAgICAgIHBhZ2VzLnB1c2godGhpcy5jdXJyZW50U3ByZWFkLmxlZnQpO1xuICAgICAgcGFnZXMucHVzaCh0aGlzLmN1cnJlbnRTcHJlYWQucmlnaHQpO1xuICAgIH1cbiAgICBwYWdlcy5mb3JFYWNoKChwYWdlKSA9PiB7XG4gICAgICBpZiAocGFnZSkge1xuICAgICAgICBmbihwYWdlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlUGFnZUxpc3RlbmVycygpIHtcbiAgICB0aGlzLmZvckN1cnJlbnRQYWdlcygocGFnZSkgPT4ge1xuICAgICAgcGFnZS5yZW1vdmVFdmVudExpc3RlbmVyKFwiaHlwZXJsaW5rXCIsIHRoaXMuaHlwZXJsaW5rTGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIHBhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlcGxhY2VkXCIsIHRoaXMucGFnZVJlcGxhY2VkTGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIGN1cnJlbnQgcGFnZXMgKHRoaXMuY3VycmVudFBhZ2UsIHRoaXMuY3VycmVudFNwcmVhZClcbiAgICovXG4gIHByaXZhdGUgaGlkZVBhZ2VzKCkge1xuICAgIHRoaXMucmVtb3ZlUGFnZUxpc3RlbmVycygpO1xuICAgIHRoaXMuZm9yQ3VycmVudFBhZ2VzKChwYWdlKSA9PiB7XG4gICAgICBCYXNlLnNldENTU1Byb3BlcnR5KHBhZ2UuY29udGFpbmVyLCBcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuICAgICAgcGFnZS5jb250YWluZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgIH0pO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBudWxsO1xuICAgIHRoaXMuY3VycmVudFNwcmVhZCA9IG51bGw7XG4gIH1cblxuICBwcml2YXRlIHNob3dTaW5nbGVQYWdlKHBhZ2U6IFZ0cmVlLlBhZ2UpIHtcbiAgICBwYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJoeXBlcmxpbmtcIiwgdGhpcy5oeXBlcmxpbmtMaXN0ZW5lciwgZmFsc2UpO1xuICAgIHBhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJlcGxhY2VkXCIsIHRoaXMucGFnZVJlcGxhY2VkTGlzdGVuZXIsIGZhbHNlKTtcbiAgICBCYXNlLnNldENTU1Byb3BlcnR5KHBhZ2UuY29udGFpbmVyLCBcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgIEJhc2Uuc2V0Q1NTUHJvcGVydHkocGFnZS5jb250YWluZXIsIFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgIHBhZ2UuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIik7XG4gIH1cblxuICBwcml2YXRlIHNob3dQYWdlKHBhZ2U6IFZ0cmVlLlBhZ2UpOiB2b2lkIHtcbiAgICB0aGlzLmhpZGVQYWdlcygpO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLm1hcmdpbkxlZnQgPSBcIlwiO1xuICAgIHBhZ2UuY29udGFpbmVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gXCJcIjtcbiAgICB0aGlzLnNob3dTaW5nbGVQYWdlKHBhZ2UpO1xuICB9XG5cbiAgcHJpdmF0ZSBzaG93U3ByZWFkKHNwcmVhZDogVnRyZWUuU3ByZWFkKSB7XG4gICAgdGhpcy5oaWRlUGFnZXMoKTtcbiAgICB0aGlzLmN1cnJlbnRTcHJlYWQgPSBzcHJlYWQ7XG4gICAgaWYgKHNwcmVhZC5sZWZ0ICYmIHNwcmVhZC5yaWdodCkge1xuICAgICAgLy8gQWRqdXN0IHNwcmVhZCBob3Jpem9udGFsIGFsaWdubWVudCB3aGVuIGxlZnQvcmlnaHQgcGFnZSB3aWR0aHMgZGlmZmVyXG4gICAgICBsZXQgbGVmdFdpZHRoID0gcGFyc2VGbG9hdChzcHJlYWQubGVmdC5jb250YWluZXIuc3R5bGUud2lkdGgpO1xuICAgICAgbGV0IHJpZ2h0V2lkdGggPSBwYXJzZUZsb2F0KHNwcmVhZC5yaWdodC5jb250YWluZXIuc3R5bGUud2lkdGgpO1xuICAgICAgaWYgKGxlZnRXaWR0aCAmJiByaWdodFdpZHRoICYmIGxlZnRXaWR0aCAhPT0gcmlnaHRXaWR0aCkge1xuICAgICAgICBpZiAobGVmdFdpZHRoIDwgcmlnaHRXaWR0aCkge1xuICAgICAgICAgIHNwcmVhZC5sZWZ0LmNvbnRhaW5lci5zdHlsZS5tYXJnaW5MZWZ0ID0gYCR7XG4gICAgICAgICAgICByaWdodFdpZHRoIC0gbGVmdFdpZHRoXG4gICAgICAgICAgfXB4YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzcHJlYWQucmlnaHQuY29udGFpbmVyLnN0eWxlLm1hcmdpblJpZ2h0ID0gYCR7XG4gICAgICAgICAgICBsZWZ0V2lkdGggLSByaWdodFdpZHRoXG4gICAgICAgICAgfXB4YDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3ByZWFkLmxlZnQpIHtcbiAgICAgIHRoaXMuc2hvd1NpbmdsZVBhZ2Uoc3ByZWFkLmxlZnQpO1xuICAgICAgaWYgKCFzcHJlYWQucmlnaHQpIHtcbiAgICAgICAgc3ByZWFkLmxlZnQuY29udGFpbmVyLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICBcImRhdGEtdml2bGlvc3R5bGUtdW5wYWlyZWQtcGFnZVwiLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcHJlYWQubGVmdC5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS12aXZsaW9zdHlsZS11bnBhaXJlZC1wYWdlXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3ByZWFkLnJpZ2h0KSB7XG4gICAgICB0aGlzLnNob3dTaW5nbGVQYWdlKHNwcmVhZC5yaWdodCk7XG4gICAgICBpZiAoIXNwcmVhZC5sZWZ0KSB7XG4gICAgICAgIHNwcmVhZC5yaWdodC5jb250YWluZXIuc2V0QXR0cmlidXRlKFxuICAgICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS11bnBhaXJlZC1wYWdlXCIsXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwcmVhZC5yaWdodC5jb250YWluZXIucmVtb3ZlQXR0cmlidXRlKFxuICAgICAgICAgIFwiZGF0YS12aXZsaW9zdHlsZS11bnBhaXJlZC1wYWdlXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXBvcnRQb3NpdGlvbigpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwicmVwb3J0UG9zaXRpb25cIik7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgQXNzZXJ0cy5hc3NlcnQoc2VsZi5wYWdlUG9zaXRpb24pO1xuICAgIHNlbGYub3BmXG4gICAgICAuZ2V0Q0ZJKHRoaXMucGFnZVBvc2l0aW9uLnNwaW5lSW5kZXgsIHRoaXMucGFnZVBvc2l0aW9uLm9mZnNldEluSXRlbSlcbiAgICAgIC50aGVuKChjZmkpID0+IHtcbiAgICAgICAgY29uc3QgcGFnZSA9IHNlbGYuY3VycmVudFBhZ2U7XG4gICAgICAgIGNvbnN0IHIgPVxuICAgICAgICAgIHNlbGYud2FpdEZvckxvYWRpbmcgJiYgcGFnZS5mZXRjaGVycy5sZW5ndGggPiAwXG4gICAgICAgICAgICA/IFRhc2tVdGlsLndhaXRGb3JGZXRjaGVycyhwYWdlLmZldGNoZXJzKVxuICAgICAgICAgICAgOiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgci50aGVuKCgpID0+IHtcbiAgICAgICAgICBzZWxmLnNlbmRMb2NhdGlvbk5vdGlmaWNhdGlvbihwYWdlLCBjZmkpLnRoZW5GaW5pc2goZnJhbWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlVmlld3BvcnQoKTogVmdlbi5WaWV3cG9ydCB7XG4gICAgY29uc3Qgdmlld3BvcnRFbGVtZW50ID0gdGhpcy52aWV3cG9ydEVsZW1lbnQ7XG4gICAgaWYgKHRoaXMudmlld3BvcnRTaXplKSB7XG4gICAgICBjb25zdCB2cyA9IHRoaXMudmlld3BvcnRTaXplO1xuICAgICAgdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpbkxlZnQgPSBgJHt2cy5tYXJnaW5MZWZ0fXB4YDtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5tYXJnaW5SaWdodCA9IGAke3ZzLm1hcmdpblJpZ2h0fXB4YDtcbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zdHlsZS5tYXJnaW5Ub3AgPSBgJHt2cy5tYXJnaW5Ub3B9cHhgO1xuICAgICAgdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpbkJvdHRvbSA9IGAke3ZzLm1hcmdpbkJvdHRvbX1weGA7XG4gICAgICByZXR1cm4gbmV3IFZnZW4uVmlld3BvcnQoXG4gICAgICAgIHRoaXMud2luZG93LFxuICAgICAgICB0aGlzLmZvbnRTaXplLFxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQsXG4gICAgICAgIHZzLndpZHRoLFxuICAgICAgICB2cy5oZWlnaHQsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFZnZW4uVmlld3BvcnQodGhpcy53aW5kb3csIHRoaXMuZm9udFNpemUsIHZpZXdwb3J0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNvbHZlU3ByZWFkVmlldyh2aWV3cG9ydDogVmdlbi5WaWV3cG9ydCk6IGJvb2xlYW4ge1xuICAgIHN3aXRjaCAodGhpcy5wYWdlVmlld01vZGUpIHtcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFOlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TUFJFQUQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBQYWdlVmlld01vZGUuQVVUT19TUFJFQUQ6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyB3aWRlIGVub3VnaCBmb3IgYSBwYWlyIG9mIHBhZ2VzIG9mIEEvQiBwYXBlciBzaXplcywgYnV0IG5vdCB0b29cbiAgICAgICAgLy8gbmFycm93XG4gICAgICAgIHJldHVybiB2aWV3cG9ydC53aWR0aCAvIHZpZXdwb3J0LmhlaWdodCA+PSAxLjQ1ICYmIHZpZXdwb3J0LndpZHRoID4gODAwO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU3ByZWFkVmlldyhzcHJlYWRWaWV3OiBib29sZWFuKSB7XG4gICAgdGhpcy5wcmVmLnNwcmVhZFZpZXcgPSBzcHJlYWRWaWV3O1xuICAgIHRoaXMudmlld3BvcnRFbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgIFZJRVdQT1JUX1NQUkVBRF9WSUVXX0FUVFJJQlVURSxcbiAgICAgIHNwcmVhZFZpZXcudG9TdHJpbmcoKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzaXplSXNHb29kKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHZpZXdwb3J0ID0gdGhpcy5jcmVhdGVWaWV3cG9ydCgpO1xuICAgIGNvbnN0IHNwcmVhZFZpZXcgPSB0aGlzLnJlc29sdmVTcHJlYWRWaWV3KHZpZXdwb3J0KTtcbiAgICBjb25zdCBzcHJlYWRWaWV3Q2hhbmdlZCA9IHRoaXMucHJlZi5zcHJlYWRWaWV3ICE9PSBzcHJlYWRWaWV3O1xuICAgIHRoaXMudXBkYXRlU3ByZWFkVmlldyhzcHJlYWRWaWV3KTtcbiAgICBpZiAoXG4gICAgICB0aGlzLnZpZXdwb3J0U2l6ZSB8fFxuICAgICAgIXRoaXMudmlld3BvcnQgfHxcbiAgICAgIHRoaXMudmlld3BvcnQuZm9udFNpemUgIT0gdGhpcy5mb250U2l6ZVxuICAgICkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhc3ByZWFkVmlld0NoYW5nZWQgJiZcbiAgICAgIHZpZXdwb3J0LndpZHRoID09IHRoaXMudmlld3BvcnQud2lkdGggJiZcbiAgICAgIHZpZXdwb3J0LmhlaWdodCA9PSB0aGlzLnZpZXdwb3J0LmhlaWdodFxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXNwcmVhZFZpZXdDaGFuZ2VkICYmXG4gICAgICB2aWV3cG9ydC53aWR0aCA9PSB0aGlzLnZpZXdwb3J0LndpZHRoICYmXG4gICAgICB2aWV3cG9ydC5oZWlnaHQgIT0gdGhpcy52aWV3cG9ydC5oZWlnaHQgJiZcbiAgICAgIC9BbmRyb2lkfGlQaG9uZXxpUGFkfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICApIHtcbiAgICAgIC8vIE9uIG1vYmlsZSBicm93c2VycywgdGhlIHZpZXdwb3J0IGhlaWdodCBtYXkgY2hhbmdlIHVuZXhwZWN0ZWRseVxuICAgICAgLy8gd2hlbiBzb2Z0IGtleWJvYXJkIGFwcGVhcnMgb3IgdGFiL2FkZHJlc3MgYmFyIGF1dG8taGlkZSBvY2N1cnMsXG4gICAgICAvLyBzbyBpZ25vcmUgcmVzaXppbmcgaW4gdGhpcyBjb25kaXRpb24uXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLm9wZlZpZXcgJiZcbiAgICAgIHRoaXMub3BmVmlldy5oYXNQYWdlcygpICYmXG4gICAgICAhdGhpcy5vcGZWaWV3Lmhhc0F1dG9TaXplZFBhZ2VzKClcbiAgICApIHtcbiAgICAgIHRoaXMudmlld3BvcnQud2lkdGggPSB2aWV3cG9ydC53aWR0aDtcbiAgICAgIHRoaXMudmlld3BvcnQuaGVpZ2h0ID0gdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgdGhpcy5uZWVkUmVmcmVzaCA9IHRydWU7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRQYWdlU2l6ZShcbiAgICBwYWdlU2l6ZTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9LFxuICAgIHBhZ2VTaGVldFNpemU6IHsgW2tleTogc3RyaW5nXTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9IH0sXG4gICAgc3BpbmVJbmRleDogbnVtYmVyLFxuICAgIHBhZ2VJbmRleDogbnVtYmVyLFxuICApIHtcbiAgICB0aGlzLnBhZ2VTaXplc1twYWdlSW5kZXhdID0gcGFnZVNpemU7XG4gICAgdGhpcy5zZXRQYWdlU2l6ZVBhZ2VSdWxlcyhwYWdlU2hlZXRTaXplLCBzcGluZUluZGV4LCBwYWdlSW5kZXgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRQYWdlU2l6ZVBhZ2VSdWxlcyhcbiAgICBwYWdlU2hlZXRTaXplOiB7IFtrZXk6IHN0cmluZ106IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB9LFxuICAgIHNwaW5lSW5kZXg6IG51bWJlcixcbiAgICBwYWdlSW5kZXg6IG51bWJlcixcbiAgKSB7XG4gICAgaWYgKCF0aGlzLnBhZ2VTaGVldFNpemVBbHJlYWR5U2V0ICYmIHRoaXMucGFnZVJ1bGVTdHlsZUVsZW1lbnQpIHtcbiAgICAgIGxldCBzdHlsZVRleHQgPSBcIlwiO1xuICAgICAgT2JqZWN0LmtleXMocGFnZVNoZWV0U2l6ZSkuZm9yRWFjaCgoc2VsZWN0b3IpID0+IHtcbiAgICAgICAgc3R5bGVUZXh0ICs9IGBAcGFnZSAke3NlbGVjdG9yfXttYXJnaW46MDtzaXplOmA7XG4gICAgICAgIGNvbnN0IHNpemUgPSBwYWdlU2hlZXRTaXplW3NlbGVjdG9yXTtcbiAgICAgICAgc3R5bGVUZXh0ICs9IGAke3NpemUud2lkdGh9cHggJHtzaXplLmhlaWdodH1weDt9YDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wYWdlUnVsZVN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlVGV4dDtcbiAgICAgIHRoaXMucGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZVBhZ2VTaXplUGFnZVJ1bGVzKCkge1xuICAgIGlmICh0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50KSB7XG4gICAgICB0aGlzLnBhZ2VSdWxlU3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgIHRoaXMucGFnZVNoZWV0U2l6ZUFscmVhZHlTZXQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc2V0KCk6IHZvaWQge1xuICAgIGxldCB0b2NWaXNpYmxlID0gZmFsc2U7XG4gICAgbGV0IHRvY0F1dG9oaWRlID0gZmFsc2U7XG4gICAgaWYgKHRoaXMub3BmVmlldykge1xuICAgICAgdG9jVmlzaWJsZSA9IHRoaXMub3BmVmlldy5pc1RPQ1Zpc2libGUoKTtcbiAgICAgIHRvY0F1dG9oaWRlID0gdGhpcy5vcGZWaWV3LnRvY0F1dG9oaWRlO1xuICAgICAgdGhpcy5vcGZWaWV3LmhpZGVUT0MoKTtcbiAgICAgIHRoaXMub3BmVmlldy5yZW1vdmVSZW5kZXJlZFBhZ2VzKCk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlUGFnZVNpemVQYWdlUnVsZXMoKTtcbiAgICB0aGlzLnZpZXdwb3J0ID0gdGhpcy5jcmVhdGVWaWV3cG9ydCgpO1xuICAgIHRoaXMudmlld3BvcnQucmVzZXRab29tKCk7XG4gICAgdGhpcy5vcGZWaWV3ID0gbmV3IEVwdWIuT1BGVmlldyhcbiAgICAgIHRoaXMub3BmLFxuICAgICAgdGhpcy52aWV3cG9ydCxcbiAgICAgIHRoaXMuZm9udE1hcHBlcixcbiAgICAgIHRoaXMucHJlZixcbiAgICAgIHRoaXMuc2V0UGFnZVNpemUuYmluZCh0aGlzKSxcbiAgICApO1xuICAgIGlmICh0b2NWaXNpYmxlKSB7XG4gICAgICB0aGlzLnNlbmRDb21tYW5kKHsgYTogXCJ0b2NcIiwgdjogXCJzaG93XCIsIGF1dG9oaWRlOiB0b2NBdXRvaGlkZSB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBjdXJyZW50IHBhZ2Ugb3Igc3ByZWFkIGRlcGVuZGluZyBvbiB0aGUgc2V0dGluZ1xuICAgKiAodGhpcy5wcmVmLnNwcmVhZFZpZXcpLlxuICAgKiBAcGFyYW0gc3luYyBJZiB0cnVlLCBnZXQgdGhlIG5lY2Vzc2FyeSBwYWdlIHN5bmNocm9ub3VzbHkgKG5vdCB3YWl0aW5nXG4gICAqICAgICBhbm90aGVyIHJlbmRlcmluZyB0YXNrKVxuICAgKi9cbiAgcHJpdmF0ZSBzaG93Q3VycmVudChwYWdlOiBWdHJlZS5QYWdlLCBzeW5jPzogYm9vbGVhbik6IFRhc2suUmVzdWx0PG51bGw+IHtcbiAgICB0aGlzLm5lZWRSZWZyZXNoID0gZmFsc2U7XG4gICAgdGhpcy5yZW1vdmVQYWdlTGlzdGVuZXJzKCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHRoaXMucHJlZi5zcHJlYWRWaWV3KSB7XG4gICAgICByZXR1cm4gdGhpcy5vcGZWaWV3XG4gICAgICAgIC5nZXRTcHJlYWQodGhpcy5wYWdlUG9zaXRpb24sIHN5bmMpXG4gICAgICAgIC50aGVuQXN5bmMoKHNwcmVhZCkgPT4ge1xuICAgICAgICAgIHNlbGYuc2hvd1NwcmVhZChzcHJlYWQpO1xuICAgICAgICAgIHNlbGYuc2V0U3ByZWFkWm9vbShzcHJlYWQpO1xuICAgICAgICAgIHNlbGYuY3VycmVudFBhZ2UgPSBwYWdlO1xuICAgICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdChudWxsKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd1BhZ2UocGFnZSk7XG4gICAgICB0aGlzLnNldFBhZ2Vab29tKHBhZ2UpO1xuICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgc2V0UGFnZVpvb20ocGFnZTogVnRyZWUuUGFnZSkge1xuICAgIGNvbnN0IHpvb20gPSB0aGlzLmdldEFkanVzdGVkWm9vbUZhY3RvcihwYWdlLmRpbWVuc2lvbnMpO1xuICAgIHRoaXMudmlld3BvcnQuem9vbShwYWdlLmRpbWVuc2lvbnMud2lkdGgsIHBhZ2UuZGltZW5zaW9ucy5oZWlnaHQsIHpvb20pO1xuICB9XG5cbiAgc2V0U3ByZWFkWm9vbShzcHJlYWQ6IFZ0cmVlLlNwcmVhZCkge1xuICAgIGNvbnN0IGRpbSA9IHRoaXMuZ2V0U3ByZWFkRGltZW5zaW9ucyhzcHJlYWQpO1xuICAgIHRoaXMudmlld3BvcnQuem9vbShkaW0ud2lkdGgsIGRpbS5oZWlnaHQsIHRoaXMuZ2V0QWRqdXN0ZWRab29tRmFjdG9yKGRpbSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIGFkanVzdGVkIHpvb20gZmFjdG9yXG4gICAqL1xuICBnZXRBZGp1c3RlZFpvb21GYWN0b3IocGFnZURpbWVuc2lvbjoge1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gIH0pOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmZpdFRvU2NyZWVuXG4gICAgICA/IHRoaXMuY2FsY3VsYXRlWm9vbUZhY3RvclRvRml0SW5zaWRlVmlld1BvcnQocGFnZURpbWVuc2lvbilcbiAgICAgIDogdGhpcy56b29tO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgc3ByZWFkLCBpbmNsdWRpbmcgdGhlIG1hcmdpbiBiZXR3ZWVuIHBhZ2VzLlxuICAgKi9cbiAgZ2V0U3ByZWFkRGltZW5zaW9ucyhzcHJlYWQ6IFZ0cmVlLlNwcmVhZCk6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfSB7XG4gICAgbGV0IHdpZHRoID0gMDtcbiAgICBsZXQgaGVpZ2h0ID0gMDtcbiAgICBpZiAoc3ByZWFkLmxlZnQpIHtcbiAgICAgIHdpZHRoICs9IHNwcmVhZC5sZWZ0LmRpbWVuc2lvbnMud2lkdGg7XG4gICAgICBoZWlnaHQgPSBzcHJlYWQubGVmdC5kaW1lbnNpb25zLmhlaWdodDtcbiAgICB9XG4gICAgaWYgKHNwcmVhZC5yaWdodCkge1xuICAgICAgd2lkdGggKz0gc3ByZWFkLnJpZ2h0LmRpbWVuc2lvbnMud2lkdGg7XG4gICAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIHNwcmVhZC5yaWdodC5kaW1lbnNpb25zLmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChzcHJlYWQubGVmdCAmJiBzcHJlYWQucmlnaHQpIHtcbiAgICAgIHdpZHRoICs9IHRoaXMucHJlZi5wYWdlQm9yZGVyICogMjtcbiAgICAgIC8vIEFkanVzdCBzcHJlYWQgaG9yaXpvbnRhbCBhbGlnbm1lbnQgd2hlbiBsZWZ0L3JpZ2h0IHBhZ2Ugd2lkdGhzIGRpZmZlclxuICAgICAgd2lkdGggKz0gTWF0aC5hYnMoXG4gICAgICAgIHNwcmVhZC5sZWZ0LmRpbWVuc2lvbnMud2lkdGggLSBzcHJlYWQucmlnaHQuZGltZW5zaW9ucy53aWR0aCxcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7IHdpZHRoLCBoZWlnaHQgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHpvb20gZmFjdG9yIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHNwZWNpZmllZCB6b29tIHR5cGUuXG4gICAqL1xuICBxdWVyeVpvb21GYWN0b3IodHlwZTogWm9vbVR5cGUpOiBudW1iZXIge1xuICAgIGlmICghdGhpcy5jdXJyZW50UGFnZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gcGFnZSBleGlzdHMuXCIpO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgWm9vbVR5cGUuRklUX0lOU0lERV9WSUVXUE9SVDoge1xuICAgICAgICBsZXQgcGFnZURpbTogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9O1xuICAgICAgICBpZiAodGhpcy5wcmVmLnNwcmVhZFZpZXcpIHtcbiAgICAgICAgICBBc3NlcnRzLmFzc2VydCh0aGlzLmN1cnJlbnRTcHJlYWQpO1xuICAgICAgICAgIHBhZ2VEaW0gPSB0aGlzLmdldFNwcmVhZERpbWVuc2lvbnModGhpcy5jdXJyZW50U3ByZWFkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYWdlRGltID0gdGhpcy5jdXJyZW50UGFnZS5kaW1lbnNpb25zO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGN1bGF0ZVpvb21GYWN0b3JUb0ZpdEluc2lkZVZpZXdQb3J0KHBhZ2VEaW0pO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIHpvb20gdHlwZTogJHt0eXBlfWApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB6b29tIGZhY3RvciB0byBmaXQgaW5zaWRlIHZpZXdwb3J0XG4gICAqL1xuICBjYWxjdWxhdGVab29tRmFjdG9yVG9GaXRJbnNpZGVWaWV3UG9ydChwYWdlRGltZW5zaW9uOiB7XG4gICAgd2lkdGg6IG51bWJlcjtcbiAgICBoZWlnaHQ6IG51bWJlcjtcbiAgfSk6IG51bWJlciB7XG4gICAgY29uc3Qgd2lkdGhab29tID0gdGhpcy52aWV3cG9ydC53aWR0aCAvIHBhZ2VEaW1lbnNpb24ud2lkdGg7XG4gICAgY29uc3QgaGVpZ2h0Wm9vbSA9IHRoaXMudmlld3BvcnQuaGVpZ2h0IC8gcGFnZURpbWVuc2lvbi5oZWlnaHQ7XG4gICAgcmV0dXJuIE1hdGgubWluKHdpZHRoWm9vbSwgaGVpZ2h0Wm9vbSk7XG4gIH1cblxuICBwcml2YXRlIGNhbmNlbFJlbmRlcmluZ1Rhc2soKSB7XG4gICAgaWYgKHRoaXMucmVuZGVyVGFzaykge1xuICAgICAgdGhpcy5yZW5kZXJUYXNrLmludGVycnVwdChuZXcgUmVuZGVyaW5nQ2FuY2VsZWRFcnJvcigpKTtcbiAgICB9XG4gICAgdGhpcy5yZW5kZXJUYXNrID0gbnVsbDtcbiAgfVxuXG4gIHJlc2l6ZSgpOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgdGhpcy5uZWVkUmVzaXplID0gZmFsc2U7XG4gICAgdGhpcy5uZWVkUmVmcmVzaCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLnNpemVJc0dvb2QoKSkge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICB0aGlzLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORyk7XG4gICAgdGhpcy5jYW5jZWxSZW5kZXJpbmdUYXNrKCk7XG4gICAgY29uc3QgcmVzaXplVGFzayA9IFRhc2suY3VycmVudFRhc2soKVxuICAgICAgLmdldFNjaGVkdWxlcigpXG4gICAgICAucnVuKCgpID0+XG4gICAgICAgIFRhc2suaGFuZGxlKFxuICAgICAgICAgIFwicmVzaXplXCIsXG4gICAgICAgICAgKGZyYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXNlbGYub3BmKSB7XG4gICAgICAgICAgICAgIGZyYW1lLmZpbmlzaChmYWxzZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYucmVuZGVyVGFzayA9IHJlc2l6ZVRhc2s7XG4gICAgICAgICAgICBQcm9maWxlLnByb2ZpbGVyLnJlZ2lzdGVyU3RhcnRUaW1pbmcoXCJyZW5kZXIgKHJlc2l6ZSlcIik7XG4gICAgICAgICAgICBzZWxmLnJlc2V0KCk7XG4gICAgICAgICAgICBpZiAoc2VsZi5wYWdlUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgLy8gV2hlbiByZXNpemluZywgZG8gbm90IHVzZSB0aGUgY3VycmVudCBwYWdlIGluZGV4LCBmb3IgYSBwYWdlXG4gICAgICAgICAgICAgIC8vIGluZGV4IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50XG4gICAgICAgICAgICAgIC8vIChvZmZzZXRJbkl0ZW0pIGNhbiBjaGFuZ2UgZHVlIHRvIGRpZmZlcmVudCBsYXlvdXQgY2F1c2VkIGJ5XG4gICAgICAgICAgICAgIC8vIGRpZmZlcmVudCB2aWV3cG9ydCBzaXplLlxuXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSgyMDE5LTAzKTogdG8gYXZvaWQgdW5leHBlY3RlZCBwYWdlIG1vdmUgKGZpcnN0IHBhZ2UgdG8gbmV4dCksXG4gICAgICAgICAgICAgIC8vIGtlZXAgcGFnZUluZGV4ID09IDAgd2hlbiBvZmZzZXRJbkl0ZW0gPT0gMFxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgIHNlbGYucGFnZVBvc2l0aW9uLnBhZ2VJbmRleCA9PSAwICYmXG4gICAgICAgICAgICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbi5vZmZzZXRJbkl0ZW0gPT0gMFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24ucGFnZUluZGV4ID0gLTE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZXBhZ2VDb3VudCBjb3VudGluZyBkZXBlbmRzIHJlbmRlckFsbFBhZ2VzIG1vZGVcbiAgICAgICAgICAgIHNlbGYub3BmLnNldEVQYWdlQ291bnRNb2RlKHNlbGYucmVuZGVyQWxsUGFnZXMpO1xuXG4gICAgICAgICAgICAvLyBXaXRoIHJlbmRlckFsbFBhZ2VzIG9wdGlvbiBzcGVjaWZpZWQsIHRoZSByZW5kZXJpbmcgaXNcbiAgICAgICAgICAgIC8vIHBlcmZvcm1lZCBhZnRlciB0aGUgaW5pdGlhbCBwYWdlIGRpc3BsYXksIG90aGVyd2lzZSB1c2VycyBhcmVcbiAgICAgICAgICAgIC8vIGZvcmNlZCB0byB3YWl0IHRoZSByZW5kZXJpbmcgZmluaXNoIGluIGZyb250IG9mIGEgYmxhbmsgcGFnZS5cbiAgICAgICAgICAgIHNlbGYub3BmVmlld1xuICAgICAgICAgICAgICAucmVuZGVyUGFnZXNVcHRvKHNlbGYucGFnZVBvc2l0aW9uLCAhc2VsZi5yZW5kZXJBbGxQYWdlcylcbiAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2goZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLnBhZ2VQb3NpdGlvbiA9IHJlc3VsdC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dDdXJyZW50KHJlc3VsdC5wYWdlLCB0cnVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5JTlRFUkFDVElWRSk7XG5cbiAgICAgICAgICAgICAgICAgIHNlbGYub3BmXG4gICAgICAgICAgICAgICAgICAgIC5jb3VudEVQYWdlcygoZXBhZ2VDb3VudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQ6IFwibmF2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcGFnZUNvdW50OiBlcGFnZUNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3Q6IHNlbGYuY3VycmVudFBhZ2UuaXNGaXJzdFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0OiBzZWxmLmN1cnJlbnRQYWdlLmlzTGFzdFBhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogc2VsZi5vcGYubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2NUaXRsZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGYuc3BpbmVbc2VsZi5wYWdlUG9zaXRpb24uc3BpbmVJbmRleF0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRQYWdlLmlzRmlyc3RQYWdlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAoc2VsZi5wYWdlUG9zaXRpb24ucGFnZUluZGV4ID09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vcGYuc3BpbmVbc2VsZi5wYWdlUG9zaXRpb24uc3BpbmVJbmRleF0uZXBhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25bXCJlcGFnZVwiXSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3BmLnNwaW5lW3NlbGYucGFnZVBvc2l0aW9uLnNwaW5lSW5kZXhdLmVwYWdlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrKG5vdGlmaWNhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBzZWxmLnJlcG9ydFBvc2l0aW9uKCkudGhlbigocCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IHNlbGYucmVuZGVyQWxsUGFnZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxmLm9wZlZpZXcucmVuZGVyQWxsUGFnZXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFRhc2submV3UmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgci50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmVuZGVyVGFzayA9PT0gcmVzaXplVGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVuZGVyVGFzayA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvZmlsZS5wcm9maWxlci5yZWdpc3RlckVuZFRpbWluZyhcInJlbmRlciAocmVzaXplKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucmVuZGVyQWxsUGFnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuQ09NUExFVEUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY2FsbGJhY2soeyB0OiBcImxvYWRlZFwiIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFtZS5maW5pc2gocCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgKGZyYW1lLCBlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBSZW5kZXJpbmdDYW5jZWxlZEVycm9yKSB7XG4gICAgICAgICAgICAgIFByb2ZpbGUucHJvZmlsZXIucmVnaXN0ZXJFbmRUaW1pbmcoXCJyZW5kZXIgKHJlc2l6ZSlcIik7XG4gICAgICAgICAgICAgIExvZ2dpbmcubG9nZ2VyLmRlYnVnKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gIH1cblxuICBwcml2YXRlIHNlbmRMb2NhdGlvbk5vdGlmaWNhdGlvbihcbiAgICBwYWdlOiBWdHJlZS5QYWdlLFxuICAgIGNmaTogc3RyaW5nIHwgbnVsbCxcbiAgKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IGZyYW1lOiBUYXNrLkZyYW1lPGJvb2xlYW4+ID0gVGFzay5uZXdGcmFtZShcbiAgICAgIFwic2VuZExvY2F0aW9uTm90aWZpY2F0aW9uXCIsXG4gICAgKTtcbiAgICBjb25zdCBub3RpZmljYXRpb24gPSB7XG4gICAgICB0OiBcIm5hdlwiLFxuICAgICAgZmlyc3Q6IHBhZ2UuaXNGaXJzdFBhZ2UsXG4gICAgICBsYXN0OiBwYWdlLmlzTGFzdFBhZ2UsXG4gICAgICBtZXRhZGF0YTogdGhpcy5vcGYubWV0YWRhdGEsXG4gICAgICBkb2NUaXRsZTogdGhpcy5vcGYuc3BpbmVbcGFnZS5zcGluZUluZGV4XS50aXRsZSxcbiAgICB9O1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMub3BmXG4gICAgICAuZ2V0RVBhZ2VGcm9tUG9zaXRpb24oc2VsZi5wYWdlUG9zaXRpb24gYXMgRXB1Yi5Qb3NpdGlvbilcbiAgICAgIC50aGVuKChlcGFnZSkgPT4ge1xuICAgICAgICBub3RpZmljYXRpb25bXCJlcGFnZVwiXSA9IGVwYWdlO1xuICAgICAgICBub3RpZmljYXRpb25bXCJlcGFnZUNvdW50XCJdID0gc2VsZi5vcGYuZXBhZ2VDb3VudDtcbiAgICAgICAgaWYgKGNmaSkge1xuICAgICAgICAgIG5vdGlmaWNhdGlvbltcImNmaVwiXSA9IGNmaTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmNhbGxiYWNrKG5vdGlmaWNhdGlvbik7XG4gICAgICAgIGZyYW1lLmZpbmlzaCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIHJldHVybiBmcmFtZS5yZXN1bHQoKTtcbiAgfVxuXG4gIGdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKTogQ29uc3RhbnRzLlBhZ2VQcm9ncmVzc2lvbiB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLm9wZlZpZXdcbiAgICAgID8gdGhpcy5vcGZWaWV3LmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24odGhpcy5wYWdlUG9zaXRpb24pXG4gICAgICA6IG51bGw7XG4gIH1cblxuICBtb3ZlVG8oY29tbWFuZDogQmFzZS5KU09OKTogVGFzay5SZXN1bHQ8Ym9vbGVhbj4ge1xuICAgIGxldCBtZXRob2Q6ICgpID0+IFRhc2suUmVzdWx0PEVwdWIuUGFnZUFuZFBvc2l0aW9uPjtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICBpZiAoXG4gICAgICB0aGlzLnJlYWR5U3RhdGUgIT09IENvbnN0YW50cy5SZWFkeVN0YXRlLkNPTVBMRVRFICYmXG4gICAgICBjb21tYW5kW1wid2hlcmVcIl0gIT09IFwibmV4dFwiXG4gICAgKSB7XG4gICAgICB0aGlzLnNldFJlYWR5U3RhdGUoQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29tbWFuZFtcIndoZXJlXCJdID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGxldCBtOiAoXG4gICAgICAgIHBvc2l0aW9uOiBFcHViLlBvc2l0aW9uLFxuICAgICAgICBzeW5jOiBib29sZWFuLFxuICAgICAgKSA9PiBUYXNrLlJlc3VsdDxFcHViLlBhZ2VBbmRQb3NpdGlvbj47XG4gICAgICBzd2l0Y2ggKGNvbW1hbmRbXCJ3aGVyZVwiXSkge1xuICAgICAgICBjYXNlIFwibmV4dFwiOlxuICAgICAgICAgIG0gPSB0aGlzLnByZWYuc3ByZWFkVmlld1xuICAgICAgICAgICAgPyB0aGlzLm9wZlZpZXcubmV4dFNwcmVhZFxuICAgICAgICAgICAgOiB0aGlzLm9wZlZpZXcubmV4dFBhZ2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwcmV2aW91c1wiOlxuICAgICAgICAgIG0gPSB0aGlzLnByZWYuc3ByZWFkVmlld1xuICAgICAgICAgICAgPyB0aGlzLm9wZlZpZXcucHJldmlvdXNTcHJlYWRcbiAgICAgICAgICAgIDogdGhpcy5vcGZWaWV3LnByZXZpb3VzUGFnZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxhc3RcIjpcbiAgICAgICAgICBtID0gdGhpcy5vcGZWaWV3Lmxhc3RQYWdlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmlyc3RcIjpcbiAgICAgICAgICBtID0gdGhpcy5vcGZWaWV3LmZpcnN0UGFnZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9XG4gICAgICBpZiAobSkge1xuICAgICAgICBtZXRob2QgPSAoKSA9PlxuICAgICAgICAgIG0uY2FsbChzZWxmLm9wZlZpZXcsIHNlbGYucGFnZVBvc2l0aW9uLCAhc2VsZi5yZW5kZXJBbGxQYWdlcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29tbWFuZFtcImVwYWdlXCJdID09IFwibnVtYmVyXCIpIHtcbiAgICAgIGNvbnN0IGVwYWdlID0gY29tbWFuZFtcImVwYWdlXCJdIGFzIG51bWJlcjtcbiAgICAgIG1ldGhvZCA9ICgpID0+XG4gICAgICAgIHNlbGYub3BmVmlldy5uYXZpZ2F0ZVRvRVBhZ2UoXG4gICAgICAgICAgZXBhZ2UsXG4gICAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24sXG4gICAgICAgICAgIXNlbGYucmVuZGVyQWxsUGFnZXMsXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgY29tbWFuZFtcInVybFwiXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBjb25zdCB1cmwgPSBjb21tYW5kW1widXJsXCJdIGFzIHN0cmluZztcbiAgICAgIG1ldGhvZCA9ICgpID0+XG4gICAgICAgIHNlbGYub3BmVmlldy5uYXZpZ2F0ZVRvKHVybCwgc2VsZi5wYWdlUG9zaXRpb24sICFzZWxmLnJlbmRlckFsbFBhZ2VzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJtb3ZlVG9cIik7XG4gICAgbWV0aG9kLmNhbGwoc2VsZi5vcGZWaWV3KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGxldCBjb250OiBUYXNrLlJlc3VsdDxib29sZWFuPjtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgc2VsZi5wYWdlUG9zaXRpb24gPSByZXN1bHQucG9zaXRpb247XG4gICAgICAgIGNvbnN0IGlubmVyRnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgICAgIFwibW92ZVRvLnNob3dDdXJyZW50XCIsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnQgPSBpbm5lckZyYW1lLnJlc3VsdCgpO1xuICAgICAgICBzZWxmLnNob3dDdXJyZW50KHJlc3VsdC5wYWdlLCAhc2VsZi5yZW5kZXJBbGxQYWdlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgc2VsZi5yZXBvcnRQb3NpdGlvbigpLnRoZW5GaW5pc2goaW5uZXJGcmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udCA9IFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgfVxuICAgICAgY29udC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgaWYgKHNlbGYucmVhZHlTdGF0ZSA9PT0gQ29uc3RhbnRzLlJlYWR5U3RhdGUuTE9BRElORykge1xuICAgICAgICAgIHNlbGYuc2V0UmVhZHlTdGF0ZShDb25zdGFudHMuUmVhZHlTdGF0ZS5JTlRFUkFDVElWRSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gIH1cblxuICBzaG93VE9DKGNvbW1hbmQ6IEJhc2UuSlNPTik6IFRhc2suUmVzdWx0PGJvb2xlYW4+IHtcbiAgICBjb25zdCBhdXRvaGlkZSA9ICEhY29tbWFuZFtcImF1dG9oaWRlXCJdO1xuICAgIGNvbnN0IHZpc2liaWxpdHkgPSBjb21tYW5kW1widlwiXTtcbiAgICBjb25zdCBjdXJyZW50VmlzaWJpbGl0eSA9IHRoaXMub3BmVmlldy5pc1RPQ1Zpc2libGUoKTtcbiAgICBjb25zdCBjaGFuZ2VBdXRvaGlkZSA9XG4gICAgICBhdXRvaGlkZSAhPSB0aGlzLm9wZlZpZXcudG9jQXV0b2hpZGUgJiYgdmlzaWJpbGl0eSAhPSBcImhpZGVcIjtcbiAgICBpZiAoY3VycmVudFZpc2liaWxpdHkpIHtcbiAgICAgIGlmICh2aXNpYmlsaXR5ID09IFwic2hvd1wiICYmICFjaGFuZ2VBdXRvaGlkZSkge1xuICAgICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh2aXNpYmlsaXR5ID09IFwiaGlkZVwiKSB7XG4gICAgICAgIHJldHVybiBUYXNrLm5ld1Jlc3VsdCh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGN1cnJlbnRWaXNpYmlsaXR5ICYmIHZpc2liaWxpdHkgIT0gXCJzaG93XCIpIHtcbiAgICAgIHRoaXMub3BmVmlldy5oaWRlVE9DKCk7XG4gICAgICByZXR1cm4gVGFzay5uZXdSZXN1bHQodHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgY29uc3QgZnJhbWU6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFwic2hvd1RPQ1wiKTtcbiAgICAgIHRoaXMub3BmVmlldy5zaG93VE9DKGF1dG9oaWRlKS50aGVuKChwYWdlKSA9PiB7XG4gICAgICAgIGlmIChwYWdlKSB7XG4gICAgICAgICAgaWYgKGNoYW5nZUF1dG9oaWRlKSB7XG4gICAgICAgICAgICBwYWdlLmxpc3RlbmVycyA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXV0b2hpZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGhpZGVUT0MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgIHNlbGYub3BmVmlldy5oaWRlVE9DKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFnZS5hZGRFdmVudExpc3RlbmVyKFwiaHlwZXJsaW5rXCIsIGhpZGVUT0MsIGZhbHNlKTtcbiAgICAgICAgICAgIC8vIHBhZ2UuY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoaWRlVE9DLCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImh5cGVybGlua1wiLCBzZWxmLmh5cGVybGlua0xpc3RlbmVyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgcnVuQ29tbWFuZChjb21tYW5kOiBCYXNlLkpTT04pOiBUYXNrLlJlc3VsdDxib29sZWFuPiB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgYWN0aW9uTmFtZSA9IGNvbW1hbmRbXCJhXCJdIHx8IFwiXCI7XG4gICAgcmV0dXJuIFRhc2suaGFuZGxlKFxuICAgICAgXCJydW5Db21tYW5kXCIsXG4gICAgICAoZnJhbWUpID0+IHtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gc2VsZi5hY3Rpb25zW2FjdGlvbk5hbWVdO1xuICAgICAgICBpZiAoYWN0aW9uKSB7XG4gICAgICAgICAgYWN0aW9uLmNhbGwoc2VsZiwgY29tbWFuZCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBzZWxmLmNhbGxiYWNrKHsgdDogXCJkb25lXCIsIGE6IGFjdGlvbk5hbWUgfSk7XG4gICAgICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoXCJObyBzdWNoIGFjdGlvbjpcIiwgYWN0aW9uTmFtZSk7XG4gICAgICAgICAgZnJhbWUuZmluaXNoKHRydWUpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKGZyYW1lLCBlcnIpID0+IHtcbiAgICAgICAgTG9nZ2luZy5sb2dnZXIuZXJyb3IoZXJyLCBcIkVycm9yIGR1cmluZyBhY3Rpb246XCIsIGFjdGlvbk5hbWUpO1xuICAgICAgICBmcmFtZS5maW5pc2godHJ1ZSk7XG4gICAgICB9LFxuICAgICk7XG4gIH1cblxuICBpbml0RW1iZWQoY21kOiBCYXNlLkpTT04gfCBzdHJpbmcpOiB2b2lkIHtcbiAgICBsZXQgY29tbWFuZCA9IG1heWJlUGFyc2UoY21kKTtcbiAgICBsZXQgY29udGludWF0aW9uOiBUYXNrLkNvbnRpbnVhdGlvbjxib29sZWFuPiB8IG51bGwgPSBudWxsO1xuICAgIGNvbnN0IHZpZXdlciA9IHRoaXM7XG4gICAgVGFzay5zdGFydCgoKSA9PiB7XG4gICAgICBjb25zdCBmcmFtZTogVGFzay5GcmFtZTxib29sZWFuPiA9IFRhc2submV3RnJhbWUoXCJjb21tYW5kTG9vcFwiKTtcbiAgICAgIGNvbnN0IHNjaGVkdWxlciA9IFRhc2suY3VycmVudFRhc2soKS5nZXRTY2hlZHVsZXIoKTtcbiAgICAgIHZpZXdlci5oeXBlcmxpbmtMaXN0ZW5lciA9IChldnQpID0+IHtcbiAgICAgICAgY29uc3QgaHJlZkV2ZW50ID0gZXZ0IGFzIFZ0cmVlLlBhZ2VIeXBlcmxpbmtFdmVudDtcbiAgICAgICAgY29uc3QgaW50ZXJuYWwgPVxuICAgICAgICAgIGhyZWZFdmVudC5ocmVmLmNoYXJBdCgwKSA9PT0gXCIjXCIgfHxcbiAgICAgICAgICB2aWV3ZXIucGFja2FnZVVSTC5zb21lKFxuICAgICAgICAgICAgKHVybCkgPT4gaHJlZkV2ZW50LmhyZWYuc3Vic3RyKDAsIHVybC5sZW5ndGgpID09IHVybCxcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoaW50ZXJuYWwpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBjb25zdCBtc2cgPSB7XG4gICAgICAgICAgICB0OiBcImh5cGVybGlua1wiLFxuICAgICAgICAgICAgaHJlZjogaHJlZkV2ZW50LmhyZWYsXG4gICAgICAgICAgICBpbnRlcm5hbDogaW50ZXJuYWwsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzY2hlZHVsZXIucnVuKCgpID0+IHtcbiAgICAgICAgICAgIHZpZXdlci5jYWxsYmFjayhtc2cpO1xuICAgICAgICAgICAgcmV0dXJuIFRhc2submV3UmVzdWx0KHRydWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZnJhbWVcbiAgICAgICAgLmxvb3BXaXRoRnJhbWUoKGxvb3BGcmFtZSkgPT4ge1xuICAgICAgICAgIGlmICh2aWV3ZXIubmVlZFJlc2l6ZSkge1xuICAgICAgICAgICAgdmlld2VyLnJlc2l6ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZpZXdlci5uZWVkUmVmcmVzaCkge1xuICAgICAgICAgICAgaWYgKHZpZXdlci5jdXJyZW50UGFnZSkge1xuICAgICAgICAgICAgICB2aWV3ZXIuc2hvd0N1cnJlbnQodmlld2VyLmN1cnJlbnRQYWdlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBsb29wRnJhbWUuY29udGludWVMb29wKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCkge1xuICAgICAgICAgICAgY29uc3QgY21kID0gY29tbWFuZDtcbiAgICAgICAgICAgIGNvbW1hbmQgPSBudWxsO1xuICAgICAgICAgICAgdmlld2VyLnJ1bkNvbW1hbmQoY21kKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lSW50ZXJuYWw6IFRhc2suRnJhbWU8Ym9vbGVhbj4gPSBUYXNrLm5ld0ZyYW1lKFxuICAgICAgICAgICAgICBcIndhaXRGb3JDb21tYW5kXCIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY29udGludWF0aW9uID0gZnJhbWVJbnRlcm5hbC5zdXNwZW5kKHNlbGYpO1xuICAgICAgICAgICAgZnJhbWVJbnRlcm5hbC5yZXN1bHQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgbG9vcEZyYW1lLmNvbnRpbnVlTG9vcCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICAudGhlbkZpbmlzaChmcmFtZSk7XG4gICAgICByZXR1cm4gZnJhbWUucmVzdWx0KCk7XG4gICAgfSk7XG4gICAgdmlld2VyLmtpY2sgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb250ID0gY29udGludWF0aW9uO1xuICAgICAgaWYgKGNvbnQpIHtcbiAgICAgICAgY29udGludWF0aW9uID0gbnVsbDtcbiAgICAgICAgY29udC5zY2hlZHVsZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZpZXdlci5zZW5kQ29tbWFuZCA9IChjbWQpID0+IHtcbiAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbW1hbmQgPSBtYXliZVBhcnNlKGNtZCk7XG4gICAgICB2aWV3ZXIua2ljaygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICB0aGlzLndpbmRvd1tcImFkYXB0X2NvbW1hbmRcIl0gPSB2aWV3ZXIuc2VuZENvbW1hbmQ7XG4gIH1cbn1cblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnQgZW51bSBab29tVHlwZSB7XG4gIEZJVF9JTlNJREVfVklFV1BPUlQgPSBcImZpdCBpbnNpZGUgdmlld3BvcnRcIixcbn1cblxuLyoqXG4gKiBFcnJvciByZXByZXNlbnRpbmcgdGhhdCB0aGUgcmVuZGVyaW5nIGhhcyBiZWVuIGNhbmNlbGVkLlxuICovXG5jbGFzcyBSZW5kZXJpbmdDYW5jZWxlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBuYW1lOiBzdHJpbmcgPSBcIlJlbmRlcmluZ0NhbmNlbGVkRXJyb3JcIjtcbiAgbWVzc2FnZTogc3RyaW5nID0gXCJQYWdlIHJlbmRlcmluZyBoYXMgYmVlbiBjYW5jZWxlZFwiO1xuICBzdGFjazogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgLy8gU2V0IHRoZSBwcm90b3R5cGUgZXhwbGljaXRseS5cbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvd2lraS9CcmVha2luZy1DaGFuZ2VzI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBSZW5kZXJpbmdDYW5jZWxlZEVycm9yLnByb3RvdHlwZSk7XG4gICAgdGhpcy5zdGFjayA9IG5ldyBFcnJvcigpLnN0YWNrO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtYXliZVBhcnNlKGNtZDogYW55KTogQmFzZS5KU09OIHtcbiAgaWYgKHR5cGVvZiBjbWQgPT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBCYXNlLnN0cmluZ1RvSlNPTihjbWQpO1xuICB9XG4gIHJldHVybiBjbWQ7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFZpdmxpb3N0eWxlLmpzIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUuanMgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUuanMuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKlxuICogQGZpbGVvdmVydmlldyBDb3JlVmlld2VyIC0gVml2bGlvc3R5bGUgQ29yZVZpZXdlciBjbGFzc1xuICovXG5pbXBvcnQgKiBhcyBBZGFwdGl2ZVZpZXdlciBmcm9tIFwiLi9hZGFwdGl2ZS12aWV3ZXJcIjtcbmltcG9ydCAqIGFzIEJhc2UgZnJvbSBcIi4vYmFzZVwiO1xuaW1wb3J0ICogYXMgQ29uc3RhbnRzIGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0ICogYXMgRXB1YiBmcm9tIFwiLi9lcHViXCI7XG5pbXBvcnQgKiBhcyBQcm9maWxlIGZyb20gXCIuL3Byb2ZpbGVcIjtcbmltcG9ydCAqIGFzIFRvYyBmcm9tIFwiLi90b2NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQYXlsb2FkIHtcbiAgdHlwZTogc3RyaW5nO1xuICBpbnRlcm5hbDogYm9vbGVhbjtcbiAgaHJlZjogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGNmaTogc3RyaW5nO1xuICBmaXJzdDogYm9vbGVhbjtcbiAgbGFzdDogYm9vbGVhbjtcbiAgZXBhZ2U6IHVua25vd247XG4gIGVwYWdlQ291bnQ6IG51bWJlcjtcbiAgbWV0YWRhdGE6IHVua25vd247XG4gIGRvY1RpdGxlOiBzdHJpbmc7XG59XG5cbmNvbnN0IFBhZ2VQcm9ncmVzc2lvbiA9IENvbnN0YW50cy5QYWdlUHJvZ3Jlc3Npb247XG5cbi8qKlxuICogVmlld2VyIHNldHRpbmdzIHRoYXQgbXVzdCBiZSBwYXNzZWQgdG8gVmlld2VyJ3MgY29uc3RydWN0b3IuXG4gKiAtIHVzZXJBZ2VudFJvb3RVUkw6IFVSTCBvZiBhIGRpcmVjdG9yeSBmcm9tIHdoaWNoIHZpZXdlciByZXNvdXJjZSBmaWxlc1xuICogICAodW5kZXIgcmVzb3VyY2VzLyBkaXJlY3RvcnkgaW4gdGhlIHNvdXJjZSByZXBvc2l0b3J5KSBhcmUgc2VydmVkLlxuICogLSB2aWV3cG9ydEVsZW1lbnQ6IEFuIGVsZW1lbnQgdXNlZCBhcyB0aGUgdmlld3BvcnQgb2YgdGhlIGRpc3BsYXllZCBjb250ZW50cy5cbiAqIC0gd2luZG93OiBXaW5kb3cgb2JqZWN0LiBJZiBvbWl0dGVkLCBjdXJyZW50IGB3aW5kb3dgIGlzIHVzZWQuXG4gKiAtIGRlYnVnOiBEZWJ1ZyBmbGFnLlxuICovXG5leHBvcnQgdHlwZSBDb3JlVmlld2VyU2V0dGluZ3MgPSB7XG4gIHVzZXJBZ2VudFJvb3RVUkw/OiBzdHJpbmc7XG4gIHZpZXdwb3J0RWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIHdpbmRvdz86IFdpbmRvdztcbiAgZGVidWc/OiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBWaWV3ZXIgb3B0aW9ucyB0aGF0IGNhbiBiZSBzZXQgYWZ0ZXIgdGhlIFZpZXdlciBvYmplY3QgaXMgY29uc3RydWN0ZWQuXG4gKiAtIGF1dG9SZXNpemU6IFJ1biBsYXlvdXQgYWdhaW4gd2hlbiB0aGUgd2luZG93IGlzIHJlc2l6ZWQuIGRlZmF1bHQ6IHRydWVcbiAqIC0gZm9udFNpemU6IERlZmF1bHQgZm9udCBzaXplIChweCkuIGRlZmF1bHQ6IDE2XG4gKiAtIHBhZ2VCb3JkZXJXaWR0aDogV2lkdGggb2YgYSBib3JkZXIgYmV0d2VlbiB0d28gcGFnZXMgaW4gYSBzaW5nbGVcbiAqICAgc3ByZWFkIChweCkuIEVmZmVjdGl2ZSBvbmx5IGluIHNwcmVhZCB2aWV3IG1vZGUuIGRlZmF1bHQ6IDFcbiAqIC0gcmVuZGVyQWxsUGFnZXM6IFJlbmRlciBhbGwgcGFnZXMgYXQgdGhlIGRvY3VtZW50IGxvYWQgdGltZS4gZGVmYXVsdDogdHJ1ZVxuICogLSBwYWdlVmlld01vZGU6IFBhZ2UgdmlldyBtb2RlIChzaW5nbGVQYWdlIC8gc3ByZWFkIC8gYXV0b1NwcmVhZCkuXG4gKiAgIGRlZmF1bHQ6IHNpbmdsZVBhZ2VcbiAqIC0gem9vbTogWm9vbSBmYWN0b3Igd2l0aCB3aGljaCBwYWdlcyBhcmUgZGlzcGxheWVkLiBkZWZhdWx0OiAxXG4gKiAtIGZpdFRvU2NyZWVuOiBBdXRvIGFkanVzdCB6b29tIGZhY3RvciB0byBmaXQgdGhlIHNjcmVlbi4gZGVmYXVsdDogZmFsc2VcbiAqIC0gZGVmYXVsdFBhcGVyU2l6ZTogRGVmYXVsdCBwYXBlciBzaXplIGluIHB4LiBFZmZlY3RpdmUgd2hlbiBgQHBhZ2VgIHNpemVcbiAqICAgaXMgc2V0IHRvIGF1dG8uIGRlZmF1bHQ6IHVuZGVmaW5lZCAobWVhbnMgdGhlIHdpbmRvd3Mgc2l6ZSBpcyB1c2VkIGFzXG4gKiAgIHBhcGVyIHNpemUpLlxuICovXG5leHBvcnQgdHlwZSBDb3JlVmlld2VyT3B0aW9ucyA9IHtcbiAgYXV0b1Jlc2l6ZT86IGJvb2xlYW47XG4gIGZvbnRTaXplPzogbnVtYmVyO1xuICBwYWdlQm9yZGVyV2lkdGg/OiBudW1iZXI7XG4gIHJlbmRlckFsbFBhZ2VzPzogYm9vbGVhbjtcbiAgcGFnZVZpZXdNb2RlPzogQWRhcHRpdmVWaWV3ZXIuUGFnZVZpZXdNb2RlO1xuICB6b29tPzogbnVtYmVyO1xuICBmaXRUb1NjcmVlbj86IGJvb2xlYW47XG4gIGRlZmF1bHRQYXBlclNpemU/OiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH07XG59O1xuXG5mdW5jdGlvbiBnZXREZWZhdWx0Vmlld2VyT3B0aW9ucygpOiBDb3JlVmlld2VyT3B0aW9ucyB7XG4gIHJldHVybiB7XG4gICAgYXV0b1Jlc2l6ZTogdHJ1ZSxcbiAgICBmb250U2l6ZTogMTYsXG4gICAgcGFnZUJvcmRlcldpZHRoOiAxLFxuICAgIHJlbmRlckFsbFBhZ2VzOiB0cnVlLFxuICAgIHBhZ2VWaWV3TW9kZTogQWRhcHRpdmVWaWV3ZXIuUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFELFxuICAgIHpvb206IDEsXG4gICAgZml0VG9TY3JlZW46IGZhbHNlLFxuICAgIGRlZmF1bHRQYXBlclNpemU6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZnVuY3Rpb24gY29udmVydFZpZXdlck9wdGlvbnMob3B0aW9uczogQ29yZVZpZXdlck9wdGlvbnMpOiBvYmplY3Qge1xuICBjb25zdCBjb252ZXJ0ZWQgPSB7fTtcbiAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdiA9IG9wdGlvbnNba2V5XTtcbiAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgY2FzZSBcImF1dG9SZXNpemVcIjpcbiAgICAgICAgY29udmVydGVkW1wiYXV0b3Jlc2l6ZVwiXSA9IHY7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcInBhZ2VCb3JkZXJXaWR0aFwiOlxuICAgICAgICBjb252ZXJ0ZWRbXCJwYWdlQm9yZGVyXCJdID0gdjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb252ZXJ0ZWRba2V5XSA9IHY7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNvbnZlcnRlZDtcbn1cblxuLyoqXG4gKiBPcHRpb25zIGZvciB0aGUgZGlzcGxheWVkIGRvY3VtZW50LlxuICogLSBkb2N1bWVudE9iamVjdDogRG9jdW1lbnQgb2JqZWN0IGZvciB0aGUgZG9jdW1lbnQuIElmIHByb3ZpZGVkLCBpdCBpcyB1c2VkXG4gKiAgIGRpcmVjdGx5IHdpdGhvdXQgcGFyc2luZyB0aGUgc291cmNlIGFnYWluLlxuICogLSBmcmFnbWVudDogRnJhZ21lbnRhdGlvbiBpZGVudGlmaWVyIChFUFVCIENGSSkgb2YgdGhlIGxvY2F0aW9uIGluIHRoZVxuICogICBkb2N1bWVudCB3aGljaCBpcyB0byBiZSBkaXNwbGF5ZWQuXG4gKiAtIGF1dGhvclN0eWxlU2hlZXQ6IEFuIGFycmF5IG9mIGF1dGhvciBzdHlsZSBzaGVldHMgdG8gYmUgaW5qZWN0ZWQgYWZ0ZXIgYWxsXG4gKiAgIGF1dGhvciBzdHlsZSBzaGVldHMgcmVmZXJlbmNlZCBmcm9tIHRoZSBkb2N1bWVudC4gQSBzaW5nbGUgc3R5bGVzaGVldCBtYXlcbiAqICAgYmUgYSBVUkwgb2YgdGhlIHN0eWxlIHNoZWV0IG9yIGEgdGV4dCBjb250ZW50IG9mIHRoZSBzdHlsZSBzaGVldC5cbiAqIC0gdXNlclN0eWxlU2hlZXQ6IEFuIGFycmF5IG9mIHVzZXIgc3R5bGUgc2hlZXRzIHRvIGJlIGluamVjdGVkLlxuICogICBBIHNpbmdsZSBzdHlsZXNoZWV0IG1heSBiZSBhIFVSTCBvZiB0aGUgc3R5bGUgc2hlZXQgb3IgYSB0ZXh0IGNvbnRlbnQgb2ZcbiAqICAgdGhlIHN0eWxlIHNoZWV0LlxuICovXG5leHBvcnQgdHlwZSBEb2N1bWVudE9wdGlvbnMgPSB7XG4gIGRvY3VtZW50T2JqZWN0PzogRG9jdW1lbnQ7XG4gIGZyYWdtZW50Pzogc3RyaW5nO1xuICBhdXRob3JTdHlsZVNoZWV0PzogeyB1cmw/OiBzdHJpbmc7IHRleHQ/OiBzdHJpbmcgfVtdO1xuICB1c2VyU3R5bGVTaGVldD86IHsgdXJsPzogc3RyaW5nOyB0ZXh0Pzogc3RyaW5nIH1bXTtcbn07XG5cbi8qKlxuICogT3B0aW9ucyBmb3IgYSBzaW5nbGUgc291cmNlIGRvY3VtZW50LlxuICogLSB1cmw6IFVSTCBvZiB0aGUgZG9jdW1lbnQuXG4gKiAtIHN0YXJ0UGFnZTogSWYgc3BlY2lmaWVkLCB0aGUgYHBhZ2VgIHBhZ2UtYmFzZWQgY291bnRlciBpcyBzZXQgdG8gdGhlXG4gKiAgIHNwZWNpZmllZCB2YWx1ZSBvbiB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgZG9jdW1lbnQuIEl0IGlzIGVxdWl2YWxlbnQgdG9cbiAqICAgc3BlY2lmeWluZyBgY291bnRlci1yZXNldDogcGFnZSBbc3BlY2lmaWVkIHZhbHVlIC0gMV1gIG9uIHRoYXQgcGFnZS5cbiAqIC0gc2tpcFBhZ2VzQmVmb3JlOiBJZiBzcGVjaWZpZWQsIHRoZSBgcGFnZWAgcGFnZS1iYXNlZCBjb3VudGVyIGlzXG4gKiAgIGluY3JlbWVudGVkIGJ5IHRoZSBzcGVjaWZpZWQgdmFsdWUgKmJlZm9yZSogdXBkYXRpbmcgcGFnZS1iYXNlZCBjb3VudGVyc1xuICogICBvbiB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgZG9jdW1lbnQuXG4gKiAgIFRoaXMgb3B0aW9uIGlzIGlnbm9yZWQgaWYgYHN0YXJ0UGFnZU51bWJlcmAgb3B0aW9uIGlzIGFsc28gc3BlY2lmaWVkLlxuICovXG5leHBvcnQgdHlwZSBTaW5nbGVEb2N1bWVudE9wdGlvbnMgPVxuICB8IHN0cmluZ1xuICB8IHtcbiAgICAgIHVybDogc3RyaW5nO1xuICAgICAgc3RhcnRQYWdlPzogbnVtYmVyO1xuICAgICAgc2tpcFBhZ2VzQmVmb3JlPzogbnVtYmVyO1xuICAgIH07XG5cbi8qKlxuICogVml2bGlvc3R5bGUgVmlld2VyIGNsYXNzLlxuICovXG5leHBvcnQgY2xhc3MgQ29yZVZpZXdlciB7XG4gIHByaXZhdGUgaW5pdGlhbGl6ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBhZGFwdFZpZXdlcl86IEFkYXB0aXZlVmlld2VyLkFkYXB0aXZlVmlld2VyO1xuICBwcml2YXRlIG9wdGlvbnM6IENvcmVWaWV3ZXJPcHRpb25zO1xuICBwcml2YXRlIGV2ZW50VGFyZ2V0OiBCYXNlLlNpbXBsZUV2ZW50VGFyZ2V0O1xuICByZWFkeVN0YXRlOiBDb25zdGFudHMuUmVhZHlTdGF0ZTtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNldHRpbmdzOiBDb3JlVmlld2VyU2V0dGluZ3MsXG4gICAgb3B0X29wdGlvbnM/OiBDb3JlVmlld2VyT3B0aW9ucyxcbiAgKSB7XG4gICAgQ29uc3RhbnRzLnNldERlYnVnKHNldHRpbmdzLmRlYnVnKTtcbiAgICB0aGlzLmFkYXB0Vmlld2VyXyA9IG5ldyBBZGFwdGl2ZVZpZXdlci5BZGFwdGl2ZVZpZXdlcihcbiAgICAgIHNldHRpbmdzW1wid2luZG93XCJdIHx8IHdpbmRvdyxcbiAgICAgIHNldHRpbmdzW1widmlld3BvcnRFbGVtZW50XCJdLFxuICAgICAgXCJtYWluXCIsXG4gICAgICB0aGlzLmRpc3BhdGNoZXIuYmluZCh0aGlzKSxcbiAgICApO1xuICAgIHRoaXMub3B0aW9ucyA9IGdldERlZmF1bHRWaWV3ZXJPcHRpb25zKCk7XG4gICAgaWYgKG9wdF9vcHRpb25zKSB7XG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0X29wdGlvbnMpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50VGFyZ2V0ID0gbmV3IEJhc2UuU2ltcGxlRXZlbnRUYXJnZXQoKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJyZWFkeVN0YXRlXCIsIHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLnJlYWR5U3RhdGU7XG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBWaWV3ZXJPcHRpb25zIHRvIHRoZSB2aWV3ZXIuXG4gICAqL1xuICBzZXRPcHRpb25zKG9wdGlvbnM6IENvcmVWaWV3ZXJPcHRpb25zKSB7XG4gICAgY29uc3QgY29tbWFuZCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7IGE6IFwiY29uZmlndXJlXCIgfSxcbiAgICAgIGNvbnZlcnRWaWV3ZXJPcHRpb25zKG9wdGlvbnMpLFxuICAgICk7XG4gICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoY29tbWFuZCk7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdGlvbnMpO1xuICB9XG5cbiAgcHJpdmF0ZSBkaXNwYXRjaGVyKG1zZzogQmFzZS5KU09OKSB7XG4gICAgLyoqIEBkaWN0ICovXG4gICAgY29uc3QgZXZlbnQgPSB7IHR5cGU6IG1zZ1tcInRcIl0gfTtcbiAgICBjb25zdCBvID0gbXNnIGFzIG9iamVjdDtcbiAgICBPYmplY3Qua2V5cyhvKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChrZXkgIT09IFwidFwiKSB7XG4gICAgICAgIGV2ZW50W2tleV0gPSBvW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5ldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBsaXN0ZW5lciBmdW5jdGlvbiwgd2hpY2ggaXMgaW52b2tlZCB3aGVuIHRoZSBzcGVjaWZpZWQgdHlwZSBvZiBldmVudFxuICAgKiBpcyBkaXNwYXRjaGVkLlxuICAgKiBAcGFyYW0gdHlwZSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0gbGlzdGVuZXIgTGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRMaXN0ZW5lcih0eXBlOiBzdHJpbmcsIGxpc3RlbmVyOiAocGF5bG9hZDogUGF5bG9hZCkgPT4gdm9pZCkge1xuICAgIHRoaXMuZXZlbnRUYXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHR5cGUsXG4gICAgICBsaXN0ZW5lciBhcyBCYXNlLkV2ZW50TGlzdGVuZXIsXG4gICAgICBmYWxzZSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lci5cbiAgICogQHBhcmFtIHR5cGUgRXZlbnQgdHlwZS5cbiAgICogQHBhcmFtIGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXIodHlwZTogc3RyaW5nLCBsaXN0ZW5lcjogKHBheWxvYWQ6IFBheWxvYWQpID0+IHZvaWQpIHtcbiAgICB0aGlzLmV2ZW50VGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICB0eXBlLFxuICAgICAgbGlzdGVuZXIgYXMgQmFzZS5FdmVudExpc3RlbmVyLFxuICAgICAgZmFsc2UsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGFuIEhUTUwgb3IgWE1MIGRvY3VtZW50KHMpLlxuICAgKi9cbiAgbG9hZERvY3VtZW50KFxuICAgIHNpbmdsZURvY3VtZW50T3B0aW9uczogU2luZ2xlRG9jdW1lbnRPcHRpb25zIHwgU2luZ2xlRG9jdW1lbnRPcHRpb25zW10sXG4gICAgb3B0X2RvY3VtZW50T3B0aW9ucz86IERvY3VtZW50T3B0aW9ucyxcbiAgICBvcHRfdmlld2VyT3B0aW9ucz86IENvcmVWaWV3ZXJPcHRpb25zLFxuICApIHtcbiAgICBpZiAoIXNpbmdsZURvY3VtZW50T3B0aW9ucykge1xuICAgICAgdGhpcy5ldmVudFRhcmdldC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICBjb250ZW50OiBcIk5vIFVSTCBzcGVjaWZpZWRcIixcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmxvYWREb2N1bWVudE9yUHVibGljYXRpb24oXG4gICAgICBzaW5nbGVEb2N1bWVudE9wdGlvbnMsXG4gICAgICBudWxsLFxuICAgICAgb3B0X2RvY3VtZW50T3B0aW9ucyxcbiAgICAgIG9wdF92aWV3ZXJPcHRpb25zLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhbiBFUFVCL1dlYlB1YiBwdWJsaWNhdGlvbi5cbiAgICovXG4gIGxvYWRQdWJsaWNhdGlvbihcbiAgICBwdWJVcmw6IHN0cmluZyxcbiAgICBvcHRfZG9jdW1lbnRPcHRpb25zPzogRG9jdW1lbnRPcHRpb25zLFxuICAgIG9wdF92aWV3ZXJPcHRpb25zPzogQ29yZVZpZXdlck9wdGlvbnMsXG4gICkge1xuICAgIGlmICghcHViVXJsKSB7XG4gICAgICB0aGlzLmV2ZW50VGFyZ2V0LmRpc3BhdGNoRXZlbnQoe1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiTm8gVVJMIHNwZWNpZmllZFwiLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMubG9hZERvY3VtZW50T3JQdWJsaWNhdGlvbihcbiAgICAgIG51bGwsXG4gICAgICBwdWJVcmwsXG4gICAgICBvcHRfZG9jdW1lbnRPcHRpb25zLFxuICAgICAgb3B0X3ZpZXdlck9wdGlvbnMsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGFuIEhUTUwgb3IgWE1MIGRvY3VtZW50LCBvciBhbiBFUFVCL1dlYlB1YiBwdWJsaWNhdGlvbi5cbiAgICovXG4gIHByaXZhdGUgbG9hZERvY3VtZW50T3JQdWJsaWNhdGlvbihcbiAgICBzaW5nbGVEb2N1bWVudE9wdGlvbnM6XG4gICAgICB8IFNpbmdsZURvY3VtZW50T3B0aW9uc1xuICAgICAgfCBTaW5nbGVEb2N1bWVudE9wdGlvbnNbXVxuICAgICAgfCBudWxsLFxuICAgIHB1YlVybDogc3RyaW5nIHwgbnVsbCxcbiAgICBvcHRfZG9jdW1lbnRPcHRpb25zPzogRG9jdW1lbnRPcHRpb25zLFxuICAgIG9wdF92aWV3ZXJPcHRpb25zPzogQ29yZVZpZXdlck9wdGlvbnMsXG4gICkge1xuICAgIGNvbnN0IGRvY3VtZW50T3B0aW9ucyA9IG9wdF9kb2N1bWVudE9wdGlvbnMgfHwge307XG5cbiAgICBmdW5jdGlvbiBjb252ZXJ0U3R5bGVTaGVldEFycmF5KGFycikge1xuICAgICAgaWYgKGFycikge1xuICAgICAgICByZXR1cm4gYXJyLm1hcCgocykgPT4gKHsgdXJsOiBzLnVybCB8fCBudWxsLCB0ZXh0OiBzLnRleHQgfHwgbnVsbCB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhdXRob3JTdHlsZVNoZWV0ID0gY29udmVydFN0eWxlU2hlZXRBcnJheShcbiAgICAgIGRvY3VtZW50T3B0aW9uc1tcImF1dGhvclN0eWxlU2hlZXRcIl0sXG4gICAgKTtcbiAgICBjb25zdCB1c2VyU3R5bGVTaGVldCA9IGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkoXG4gICAgICBkb2N1bWVudE9wdGlvbnNbXCJ1c2VyU3R5bGVTaGVldFwiXSxcbiAgICApO1xuICAgIGlmIChvcHRfdmlld2VyT3B0aW9ucykge1xuICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIG9wdF92aWV3ZXJPcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgY29tbWFuZCA9IE9iamVjdC5hc3NpZ24oXG4gICAgICB7XG4gICAgICAgIGE6IHNpbmdsZURvY3VtZW50T3B0aW9ucyA/IFwibG9hZFhNTFwiIDogXCJsb2FkUHVibGljYXRpb25cIixcbiAgICAgICAgdXNlckFnZW50Um9vdFVSTDogdGhpcy5zZXR0aW5nc1tcInVzZXJBZ2VudFJvb3RVUkxcIl0sXG4gICAgICAgIHVybDogY29udmVydFNpbmdsZURvY3VtZW50T3B0aW9ucyhzaW5nbGVEb2N1bWVudE9wdGlvbnMpIHx8IHB1YlVybCxcbiAgICAgICAgZG9jdW1lbnQ6IGRvY3VtZW50T3B0aW9uc1tcImRvY3VtZW50T2JqZWN0XCJdLFxuICAgICAgICBmcmFnbWVudDogZG9jdW1lbnRPcHRpb25zW1wiZnJhZ21lbnRcIl0sXG4gICAgICAgIGF1dGhvclN0eWxlU2hlZXQ6IGF1dGhvclN0eWxlU2hlZXQsXG4gICAgICAgIHVzZXJTdHlsZVNoZWV0OiB1c2VyU3R5bGVTaGVldCxcbiAgICAgIH0sXG4gICAgICBjb252ZXJ0Vmlld2VyT3B0aW9ucyh0aGlzLm9wdGlvbnMpLFxuICAgICk7XG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKGNvbW1hbmQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLmluaXRFbWJlZChjb21tYW5kKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBwYWdlIHByb2dyZXNzaW9uIG9mIHRoZSB2aWV3ZXIuIElmIG5vIGRvY3VtZW50IGlzXG4gICAqIGxvYWRlZCwgcmV0dXJucyBudWxsLlxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpOiBDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVzb2x2ZU5hdmlnYXRpb24obmF2OiBOYXZpZ2F0aW9uKTogTmF2aWdhdGlvbiB7XG4gICAgc3dpdGNoIChuYXYpIHtcbiAgICAgIGNhc2UgTmF2aWdhdGlvbi5MRUZUOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uKCkgPT09IFBhZ2VQcm9ncmVzc2lvbi5MVFJcbiAgICAgICAgICA/IE5hdmlnYXRpb24uUFJFVklPVVNcbiAgICAgICAgICA6IE5hdmlnYXRpb24uTkVYVDtcbiAgICAgIGNhc2UgTmF2aWdhdGlvbi5SSUdIVDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFBhZ2VQcm9ncmVzc2lvbigpID09PSBQYWdlUHJvZ3Jlc3Npb24uTFRSXG4gICAgICAgICAgPyBOYXZpZ2F0aW9uLk5FWFRcbiAgICAgICAgICA6IE5hdmlnYXRpb24uUFJFVklPVVM7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gbmF2O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZSB0byB0aGUgc3BlY2lmaWVkIHBhZ2UuXG4gICAqL1xuICBuYXZpZ2F0ZVRvUGFnZShuYXY6IE5hdmlnYXRpb24sIG9wdF9lcGFnZT86IG51bWJlcikge1xuICAgIGlmIChuYXYgPT09IE5hdmlnYXRpb24uRVBBR0UpIHtcbiAgICAgIHRoaXMuYWRhcHRWaWV3ZXJfLnNlbmRDb21tYW5kKHtcbiAgICAgICAgYTogXCJtb3ZlVG9cIixcbiAgICAgICAgZXBhZ2U6IG9wdF9lcGFnZSxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZCh7XG4gICAgICAgIGE6IFwibW92ZVRvXCIsXG4gICAgICAgIHdoZXJlOiB0aGlzLnJlc29sdmVOYXZpZ2F0aW9uKG5hdiksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTmF2aWdhdGUgdG8gdGhlIHNwZWNpZmllZCBpbnRlcm5hbCBVUkwuXG4gICAqL1xuICBuYXZpZ2F0ZVRvSW50ZXJuYWxVcmwodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmFkYXB0Vmlld2VyXy5zZW5kQ29tbWFuZCh7IGE6IFwibW92ZVRvXCIsIHVybDogdXJsIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRydWUgaWYgVE9DIGlzIHZpc2libGUsIGZhbHNlIGlmIGhpZGRlbiwgbnVsbCBpZiBUT0MgaXMgdW5hdmFpbGFibGVcbiAgICovXG4gIGlzVE9DVmlzaWJsZSgpOiBib29sZWFuIHwgbnVsbCB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8ub3BmVmlldyAmJlxuICAgICAgdGhpcy5hZGFwdFZpZXdlcl8ub3BmVmlldy5vcGYgJiZcbiAgICAgICh0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3Lm9wZi54aHRtbFRvYyB8fFxuICAgICAgICB0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3Lm9wZi5uY3hUb2MpXG4gICAgKSB7XG4gICAgICByZXR1cm4gISF0aGlzLmFkYXB0Vmlld2VyXy5vcGZWaWV3LmlzVE9DVmlzaWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBvciBoaWRlIFRPQyBib3hcbiAgICogQHBhcmFtIG9wdF9hdXRvaGlkZSBJZiB0cnVlLCBhdXRvbWF0aWNhbGx5IGhpZGUgd2hlbiBjbGljayBUT0MgaXRlbVxuICAgKiBAcGFyYW0gb3B0X3Nob3cgSWYgdHJ1ZSBzaG93IFRPQywgZmFsc2UgaGlkZSBUT0MuIElmIG51bGwgb3IgdW5kZWZpbmVkIHRvZ2dsZSBUT0MuXG4gICAqL1xuICBzaG93VE9DKG9wdF9zaG93PzogYm9vbGVhbiB8IG51bGwsIG9wdF9hdXRvaGlkZT86IGJvb2xlYW4pIHtcbiAgICBjb25zdCB2aXNpYmlsaXR5ID0gb3B0X3Nob3cgPT0gbnVsbCA/IFwidG9nZ2xlXCIgOiBvcHRfc2hvdyA/IFwic2hvd1wiIDogXCJoaWRlXCI7XG4gICAgdGhpcy5hZGFwdFZpZXdlcl8uc2VuZENvbW1hbmQoe1xuICAgICAgYTogXCJ0b2NcIixcbiAgICAgIHY6IHZpc2liaWxpdHksXG4gICAgICBhdXRvaGlkZTogb3B0X2F1dG9oaWRlLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgem9vbSBmYWN0b3IgY29ycmVzcG9uZGluZyB0byB0aGUgc3BlY2lmaWVkIHpvb20gdHlwZS5cbiAgICovXG4gIHF1ZXJ5Wm9vbUZhY3Rvcih0eXBlOiBBZGFwdGl2ZVZpZXdlci5ab29tVHlwZSk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLnF1ZXJ5Wm9vbUZhY3Rvcih0eXBlKTtcbiAgfVxuXG4gIGdldFBhZ2VTaXplcygpOiB7IHdpZHRoOiBudW1iZXI7IGhlaWdodDogbnVtYmVyIH1bXSB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLnBhZ2VTaXplcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHN0cnVjdHVyZSBvZiB0aGUgVE9DIG9uY2UgaXQgaGFzXG4gICAqIGJlZW4gc2hvd24sIG9yIHRoZSBlbXB0eSBhcnJheSBpZiB0aGVyZSBpcyBubyBUT0MuXG4gICAqL1xuICBnZXRUT0MoKTogVG9jLlRPQ0l0ZW1bXSB7XG4gICAgcmV0dXJuIHRoaXMuYWRhcHRWaWV3ZXJfLm9wZlZpZXc/LnRvY1ZpZXc/LmdldFRPQygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgbWV0YWRhdGEgZm9yIHRoZSBwdWJsaWNhdGlvbi4gTWV0YWRhdGEgaXNcbiAgICogb3JnYW5pemVkIGFzIGFuIG9iamVjdCBvZiBmdWxseS1xdWFsaWZpZWQgSVJJIHByb3BlcnRpZXNcbiAgICogY29udGFpbmluZyBhcnJheXMgb2YgbWV0YWRhdGEgZW50cmllcy4gVGhlIGZpcnN0IGVsZW1lbnRcbiAgICogaW4gdGhlIGFycmF5IGlzIHByaW1hcnkgYW5kIHNob3VsZCBiZSB1c2VkIGJ5IGRlZmF1bHQuIE90aGVyXG4gICAqIGVudHJpZXMgbWF5IG92ZXJsb2FkIG9yIHJlZmluZSB0aGF0IG1ldGFkYXRhLlxuICAgKi9cbiAgZ2V0TWV0YWRhdGEoKTogRXB1Yi5NZXRhIHtcbiAgICByZXR1cm4gdGhpcy5hZGFwdFZpZXdlcl8ub3BmLmdldE1ldGFkYXRhKCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY292ZXIgZm9yIGFuIEVQVUIgcHVibGljYXRpb24sIGlmIHNwZWNpZmllZC5cbiAgICovXG4gIGdldENvdmVyKCk6IEVwdWIuT1BGSXRlbSB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmFkYXB0Vmlld2VyXy5vcGYuY292ZXI7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29udmVydFNpbmdsZURvY3VtZW50T3B0aW9ucyhcbiAgc2luZ2xlRG9jdW1lbnRPcHRpb25zOiBTaW5nbGVEb2N1bWVudE9wdGlvbnMgfCBTaW5nbGVEb2N1bWVudE9wdGlvbnNbXSxcbik6IEFkYXB0aXZlVmlld2VyLlNpbmdsZURvY3VtZW50UGFyYW1bXSB8IG51bGwge1xuICBmdW5jdGlvbiB0b051bWJlck9yTnVsbChudW06IGFueSk6IG51bWJlciB8IG51bGwge1xuICAgIHJldHVybiB0eXBlb2YgbnVtID09PSBcIm51bWJlclwiID8gbnVtIDogbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnQob3B0KSB7XG4gICAgaWYgKHR5cGVvZiBvcHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVybDogb3B0LFxuICAgICAgICBzdGFydFBhZ2U6IG51bGwsXG4gICAgICAgIHNraXBQYWdlc0JlZm9yZTogbnVsbCxcbiAgICAgIH0gYXMgQWRhcHRpdmVWaWV3ZXIuU2luZ2xlRG9jdW1lbnRQYXJhbTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXJsOiBvcHRbXCJ1cmxcIl0sXG4gICAgICAgIHN0YXJ0UGFnZTogdG9OdW1iZXJPck51bGwob3B0W1wic3RhcnRQYWdlXCJdKSxcbiAgICAgICAgc2tpcFBhZ2VzQmVmb3JlOiB0b051bWJlck9yTnVsbChvcHRbXCJza2lwUGFnZXNCZWZvcmVcIl0pLFxuICAgICAgfSBhcyBBZGFwdGl2ZVZpZXdlci5TaW5nbGVEb2N1bWVudFBhcmFtO1xuICAgIH1cbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShzaW5nbGVEb2N1bWVudE9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIHNpbmdsZURvY3VtZW50T3B0aW9ucy5tYXAoY29udmVydCk7XG4gIH0gZWxzZSBpZiAoc2luZ2xlRG9jdW1lbnRPcHRpb25zKSB7XG4gICAgcmV0dXJuIFtjb252ZXJ0KHNpbmdsZURvY3VtZW50T3B0aW9ucyldO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGVudW0gTmF2aWdhdGlvbiB7XG4gIFBSRVZJT1VTID0gXCJwcmV2aW91c1wiLFxuICBORVhUID0gXCJuZXh0XCIsXG4gIExFRlQgPSBcImxlZnRcIixcbiAgUklHSFQgPSBcInJpZ2h0XCIsXG4gIEZJUlNUID0gXCJmaXJzdFwiLFxuICBMQVNUID0gXCJsYXN0XCIsXG4gIEVQQUdFID0gXCJlcGFnZVwiLFxufVxuXG5leHBvcnQgdHlwZSBab29tVHlwZSA9IEFkYXB0aXZlVmlld2VyLlpvb21UeXBlO1xuZXhwb3J0IGNvbnN0IFpvb21UeXBlID0gQWRhcHRpdmVWaWV3ZXIuWm9vbVR5cGU7XG5cbmV4cG9ydCB0eXBlIFBhZ2VWaWV3TW9kZSA9IEFkYXB0aXZlVmlld2VyLlBhZ2VWaWV3TW9kZTtcbmV4cG9ydCBjb25zdCBQYWdlVmlld01vZGUgPSBBZGFwdGl2ZVZpZXdlci5QYWdlVmlld01vZGU7XG5cbmV4cG9ydCBjb25zdCB2aWV3ZXIgPSB7XG4gIENvcmVWaWV3ZXIsXG4gIFBhZ2VWaWV3TW9kZSxcbiAgWm9vbVR5cGUsXG59O1xuXG5Qcm9maWxlLnByb2ZpbGVyLmZvcmNlUmVnaXN0ZXJFbmRUaW1pbmcoXCJsb2FkX3Zpdmxpb3N0eWxlXCIpO1xuIiwiLy8gSm9oYW5uZXMgV2lsbVxuLy8gVml2bGlvc3R5bGUgRm91bmRhdGlvblxuXG5pbXBvcnQgeyBDb3JlVmlld2VyIH0gZnJvbSBcIi4vY29yZS12aWV3ZXJcIjtcbmltcG9ydCB2aWV3cG9ydENzcyBmcm9tIFwiLi4vLi4vcmVzb3VyY2VzL3Zpdmxpb3N0eWxlLXZpZXdwb3J0LmNzc1wiO1xuaW1wb3J0IHZpZXdwb3J0U2NyZWVuQ3NzIGZyb20gXCIuLi8uLi9yZXNvdXJjZXMvdml2bGlvc3R5bGUtdmlld3BvcnQtc2NyZWVuLmNzc1wiO1xuXG5pbnRlcmZhY2UgSUZyYW1lV2luZG93Rm9yUHJpbnQge1xuICBwcmludEluc3RhbmNlPzogVml2bGlvc3R5bGVQcmludDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcmludENvbmZpZyB7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHByaW50Q2FsbGJhY2s6IChpZnJhbWVXaW46IFdpbmRvdykgPT4gdm9pZDtcbiAgaGlkZUlmcmFtZTogYm9vbGVhbjtcbiAgcmVtb3ZlSWZyYW1lOiBib29sZWFuO1xufVxuXG5jbGFzcyBWaXZsaW9zdHlsZVByaW50IHtcbiAgaHRtbERvYzogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBwcmludENhbGxiYWNrOiAoaWZyYW1lV2luOiBXaW5kb3cpID0+IHZvaWQ7XG4gIGhpZGVJZnJhbWU6IGJvb2xlYW47XG4gIHJlbW92ZUlmcmFtZTogYm9vbGVhbjtcbiAgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudDtcbiAgaWZyYW1lV2luOiBXaW5kb3c7XG4gIHdpbmRvdzogV2luZG93ICYgdHlwZW9mIGdsb2JhbFRoaXMgJiBJRnJhbWVXaW5kb3dGb3JQcmludDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBodG1sRG9jOiBzdHJpbmcsXG4gICAge1xuICAgICAgdGl0bGUgPSBcIlwiLFxuICAgICAgcHJpbnRDYWxsYmFjayA9IChpZnJhbWVXaW46IFdpbmRvdykgPT4gaWZyYW1lV2luLnByaW50KCksXG4gICAgICBoaWRlSWZyYW1lID0gdHJ1ZSxcbiAgICAgIHJlbW92ZUlmcmFtZSA9IHRydWUsXG4gICAgfTogUHJpbnRDb25maWcsXG4gICkge1xuICAgIHRoaXMuaHRtbERvYyA9IGh0bWxEb2M7XG4gICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIHRoaXMucHJpbnRDYWxsYmFjayA9IHByaW50Q2FsbGJhY2s7XG4gICAgdGhpcy5oaWRlSWZyYW1lID0gaGlkZUlmcmFtZTtcbiAgICB0aGlzLnJlbW92ZUlmcmFtZSA9IHJlbW92ZUlmcmFtZTtcbiAgfVxuXG4gIGluaXQoKSB7XG4gICAgdGhpcy5pZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuXG4gICAgaWYgKHRoaXMuaGlkZUlmcmFtZSkge1xuICAgICAgdGhpcy5pZnJhbWUuc3R5bGUud2lkdGggPSBcIjBcIjsgLy8gV2UgZG9uJ3Qgd2FudCB0aGUgaWZyYW1lIHRvIGJlIHNlZW4sIHNvIHdlIG1ha2UgaXQgemVybyBzaXplIHdpdGggemVybyBib3JkZXIuXG4gICAgICB0aGlzLmlmcmFtZS5zdHlsZS5oZWlnaHQgPSBcIjBcIjtcbiAgICAgIHRoaXMuaWZyYW1lLnN0eWxlLmJvcmRlcldpZHRoID0gXCIwXCI7XG4gICAgfVxuXG4gICAgdGhpcy53aW5kb3cgPSB3aW5kb3c7XG4gICAgdGhpcy53aW5kb3cucHJpbnRJbnN0YW5jZSA9IHRoaXM7XG4gICAgdGhpcy5pZnJhbWUuc3JjZG9jID0gYFxuICAgICAgPCFET0NUWVBFIGh0bWw+XG4gICAgICA8aHRtbCBkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZD1cInRydWVcIj5cbiAgICAgICAgPGhlYWQ+XG4gICAgICAgICAgPG1ldGEgY2hhcnNldD0ndXRmLTgnLz5cbiAgICAgICAgICA8bWV0YSBuYW1lPSd2aWV3cG9ydCcgY29udGVudD0nd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCcvPlxuICAgICAgICAgIDx0aXRsZT4ke3RoaXMudGl0bGV9PC90aXRsZT5cbiAgICAgICAgICA8c3R5bGU+JHt2aWV3cG9ydENzc308L3N0eWxlPlxuICAgICAgICAgIDxzdHlsZT4ke3ZpZXdwb3J0U2NyZWVuQ3NzfTwvc3R5bGU+XG4gICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0ge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0gYm9keSxcbiAgICAgICAgICAgIGh0bWxbZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWRdIFtkYXRhLXZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydF0ge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGh0bWxbZGF0YS12aXZsaW9zdHlsZS1wYWdpbmF0ZWRdLFxuICAgICAgICAgICAgaHRtbFtkYXRhLXZpdmxpb3N0eWxlLXBhZ2luYXRlZF0gYm9keSB7XG4gICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgIDxzdHlsZSBpZD0ndml2bGlvc3R5bGUtcGFnZS1ydWxlcyc+PC9zdHlsZT5cbiAgICAgICAgPC9oZWFkPlxuICAgICAgICA8Ym9keSBvbmxvYWQ9J3BhcmVudC5wcmludEluc3RhbmNlLnJ1bkluSWZyYW1lKHdpbmRvdyknPlxuICAgICAgICAgIDxkaXYgaWQ9XCJ2aXZsaW9zdHlsZS12aWV3ZXItdmlld3BvcnRcIj48L2Rpdj5cbiAgICAgICAgPC9ib2R5PlxuICAgICAgPC9odG1sPmA7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuaWZyYW1lKTtcbiAgfVxuXG4gIHJ1bkluSWZyYW1lKGlmcmFtZVdpbjogV2luZG93KSB7XG4gICAgdGhpcy5pZnJhbWVXaW4gPSBpZnJhbWVXaW47XG4gICAgcmV0dXJuIHRoaXMucHJlcGFyZVByaW50KClcbiAgICAgIC50aGVuKCgpID0+IHRoaXMuYnJvd3NlclByaW50KCkpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLmNsZWFuVXAoKSk7XG4gIH1cblxuICBwcmVwYXJlUHJpbnQoKSB7XG4gICAgdGhpcy5pZnJhbWVXaW4uZG9jdW1lbnQudGl0bGUgPSB0aGlzLnRpdGxlO1xuICAgIGNvbnN0IGRvY0Jsb2IgPSBuZXcgQmxvYihbdGhpcy5odG1sRG9jXSwge1xuICAgICAgICB0eXBlOiBcInRleHQvaHRtbFwiLFxuICAgICAgfSksXG4gICAgICBkb2NVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGRvY0Jsb2IpLFxuICAgICAgVmlld2VyID0gbmV3IENvcmVWaWV3ZXIoXG4gICAgICAgIHtcbiAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQ6IHRoaXMuaWZyYW1lV2luLmRvY3VtZW50LmJvZHlcbiAgICAgICAgICAgIC5maXJzdEVsZW1lbnRDaGlsZCBhcyBIVE1MRWxlbWVudCxcbiAgICAgICAgICB3aW5kb3c6IHRoaXMuaWZyYW1lV2luLFxuICAgICAgICAgIGRlYnVnOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgZGVmYXVsdFBhcGVyU2l6ZToge1xuICAgICAgICAgICAgd2lkdGg6IDc5NCwgLy8gVGhlc2UgbnVtYmVycyBnaXZlIHdlaXJkIG91dHB1dCwgYnV0IG5vdCBzZXR0aW5nIHRoZW0gY3Jhc2hlcyB0aGUgYnJvd3NlciB3aGVuIHRoZXJlIGlzIG5vIENTUy5cbiAgICAgICAgICAgIGhlaWdodDogMTEyMixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIFZpZXdlci5hZGRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoVmlld2VyLnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIikge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIFZpZXdlci5sb2FkRG9jdW1lbnQoe1xuICAgICAgICB1cmw6IGRvY1VSTCxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgYnJvd3NlclByaW50KCkge1xuICAgIHRoaXMucHJpbnRDYWxsYmFjayh0aGlzLmlmcmFtZVdpbik7XG4gIH1cblxuICBjbGVhblVwKCkge1xuICAgIGRlbGV0ZSB0aGlzLndpbmRvdy5wcmludEluc3RhbmNlO1xuICAgIGlmICh0aGlzLnJlbW92ZUlmcmFtZSkge1xuICAgICAgdGhpcy5pZnJhbWUucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmlmcmFtZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludEhUTUwoaHRtbERvYzogc3RyaW5nLCBjb25maWc6IFByaW50Q29uZmlnKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gbmV3IFZpdmxpb3N0eWxlUHJpbnQoaHRtbERvYywgY29uZmlnKTtcbiAgaW5zdGFuY2UuaW5pdCgpO1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBlc2NhcGVVbmljb2RlQ2hhcihjaCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGBcXFxcdSR7KDB4MTAwMDAgfCBjaC5jaGFyQ29kZUF0KDApKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpfWA7XG4gIH0sXG4gIGVzY2FwZVVuaWNvZGVTdHJpbmcoc3RyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1teLWEtekEtWjAtOV9dL2csIHRoaXMuZXNjYXBlVW5pY29kZUNoYXIpO1xuICB9LFxuICBwZXJjZW50RW5jb2RlQW1wZXJzYW5kQW5kVW5lbmNvZGVkUGVyY2VudChzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJSg/IVswLTlBLUZhLWZdezJ9KS9nLCBcIiUyNVwiKS5yZXBsYWNlKC8mL2csIFwiJTI2XCIpO1xuICB9LFxuICBwZXJjZW50RW5jb2RlQW1wZXJzYW5kQW5kUGVyY2VudChzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJS9nLCBcIiUyNVwiKS5yZXBsYWNlKC8mL2csIFwiJTI2XCIpO1xuICB9LFxuICBwZXJjZW50RGVjb2RlQW1wZXJzYW5kQW5kUGVyY2VudChzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvJTI2L2csIFwiJlwiKS5yZXBsYWNlKC8lMjUvZywgXCIlXCIpO1xuICB9LFxuICBwZXJjZW50RW5jb2RlRm9yRGF0YVVSSShzdHIpOiBzdHJpbmcge1xuICAgIHJldHVybiBlbmNvZGVVUkkoc3RyKVxuICAgICAgLnJlcGxhY2UoLyMvZywgXCIlMjNcIilcbiAgICAgIC5yZXBsYWNlKC8mL2csIFwiJTI2XCIpO1xuICB9LFxufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBzdHJpbmdVdGlsIGZyb20gXCIuLi91dGlscy9zdHJpbmctdXRpbFwiO1xuXG5mdW5jdGlvbiBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZTogc3RyaW5nKTogUmVnRXhwIHtcbiAgcmV0dXJuIG5ldyBSZWdFeHAoYFsjJl0ke3N0cmluZ1V0aWwuZXNjYXBlVW5pY29kZVN0cmluZyhuYW1lKX09KFteJl0qKWAsIFwiZ1wiKTtcbn1cblxuY2xhc3MgVVJMUGFyYW1ldGVyU3RvcmUge1xuICBoaXN0b3J5OiBIaXN0b3J5IHwgbnVsbDtcbiAgbG9jYXRpb246IExvY2F0aW9uIHwgeyBocmVmOiBcIlwiIH07XG4gIHN0b3JlZFVybDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGlzdG9yeSA9IHdpbmRvdyA/IHdpbmRvdy5oaXN0b3J5IDogbnVsbDtcbiAgICB0aGlzLmxvY2F0aW9uID0gd2luZG93ID8gd2luZG93LmxvY2F0aW9uIDogeyBocmVmOiBcIlwiIH07XG4gICAgdGhpcy5zdG9yZWRVcmwgPSB0aGlzLmxvY2F0aW9uLmhyZWY7XG4gIH1cblxuICBnZXRCYXNlVVJMKCk6IHN0cmluZyB7XG4gICAgbGV0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICB1cmwgPSB1cmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpO1xuICAgIHJldHVybiB1cmwucmVwbGFjZSgvXFwvW14vXSokLywgXCIvXCIpO1xuICB9XG5cbiAgaGFzUGFyYW1ldGVyKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICBjb25zdCByZWdleHAgPSBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZSk7XG4gICAgcmV0dXJuIHJlZ2V4cC50ZXN0KHVybCk7XG4gIH1cblxuICBnZXRQYXJhbWV0ZXIobmFtZTogc3RyaW5nKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgY29uc3QgdXJsID0gdGhpcy5sb2NhdGlvbi5ocmVmO1xuICAgIGNvbnN0IHJlZ2V4cCA9IGdldFJlZ0V4cEZvclBhcmFtZXRlcihuYW1lKTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgbGV0IHI7XG4gICAgd2hpbGUgKChyID0gcmVnZXhwLmV4ZWModXJsKSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaChyWzFdKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gaW5kZXggc3BlY2lmaWVzIGluZGV4IGluIG11bHRpcGxlIHBhcmFtZXRlcnMgd2l0aCBzYW1lIG5hbWUuXG4gICAqL1xuICBzZXRQYXJhbWV0ZXIobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nLCBpbmRleD86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgdXBkYXRlZDtcbiAgICBjb25zdCByZWdleHAgPSBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZSk7XG4gICAgbGV0IHIgPSByZWdleHAuZXhlYyh1cmwpO1xuICAgIGlmIChyICYmIGluZGV4KSB7XG4gICAgICB3aGlsZSAoaW5kZXgtLSA+PSAxKSB7XG4gICAgICAgIHIgPSByZWdleHAuZXhlYyh1cmwpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocikge1xuICAgICAgY29uc3QgbCA9IHJbMV0ubGVuZ3RoO1xuICAgICAgY29uc3Qgc3RhcnQgPSByLmluZGV4ICsgclswXS5sZW5ndGggLSBsO1xuICAgICAgdXBkYXRlZCA9IHVybC5zdWJzdHJpbmcoMCwgc3RhcnQpICsgdmFsdWUgKyB1cmwuc3Vic3RyaW5nKHN0YXJ0ICsgbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZWQgPSBgJHt1cmwgK1xuICAgICAgICAodXJsLm1hdGNoKC9bIyZdJC8pID8gXCJcIiA6IHVybC5tYXRjaCgvIy8pID8gXCImXCIgOiBcIiNcIikgK1xuICAgICAgICBuYW1lfT0ke3ZhbHVlfWA7XG4gICAgICBpZiAobmFtZSA9PT0gXCJzcmNcIikge1xuICAgICAgICAvLyBcInNyY1wiIHNob3VsZCBiZSB0aGUgZmlyc3QgcGFyYW1ldGVyXG4gICAgICAgIHVwZGF0ZWQgPSB1cGRhdGVkLnJlcGxhY2UoLyMoPyFzcmMpKC4qPykmKHNyYz1bXiZdKikvLCBcIiMkMiYkMVwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaGlzdG9yeSAhPT0gbnVsbCAmJiB0aGlzLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICB0aGlzLmhpc3RvcnkucmVwbGFjZVN0YXRlKG51bGwsIFwiXCIsIHVwZGF0ZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvY2F0aW9uLmhyZWYgPSB1cGRhdGVkO1xuICAgIH1cbiAgICB0aGlzLnN0b3JlZFVybCA9IHVwZGF0ZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtib29sZWFuPX0ga2VlcEZpcnN0IElmIHRydWUsIG5vdCByZW1vdmUgdGhlIGZpcnN0IG9uZSBpbiBtdWx0aXBsZSBwYXJhbWV0ZXJzIHdpdGggc2FtZSBuYW1lLlxuICAgKi9cbiAgcmVtb3ZlUGFyYW1ldGVyKG5hbWU6IHN0cmluZywga2VlcEZpcnN0PzogYm9vbGVhbik6IHZvaWQge1xuICAgIGNvbnN0IHVybCA9IHRoaXMubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgdXBkYXRlZDtcbiAgICBjb25zdCByZWdleHAgPSBnZXRSZWdFeHBGb3JQYXJhbWV0ZXIobmFtZSk7XG4gICAgbGV0IHIgPSByZWdleHAuZXhlYyh1cmwpO1xuICAgIGlmIChyICYmIGtlZXBGaXJzdCkge1xuICAgICAgciA9IHJlZ2V4cC5leGVjKHVybCk7XG4gICAgfVxuICAgIGlmIChyKSB7XG4gICAgICB1cGRhdGVkID0gdXJsO1xuICAgICAgZm9yICg7IHI7IHIgPSByZWdleHAuZXhlYyh1cGRhdGVkKSkge1xuICAgICAgICBjb25zdCBlbmQgPSByLmluZGV4ICsgclswXS5sZW5ndGg7XG4gICAgICAgIGlmIChyWzBdLmNoYXJBdCgwKSA9PSBcIiNcIikge1xuICAgICAgICAgIHVwZGF0ZWQgPVxuICAgICAgICAgICAgdXBkYXRlZC5zdWJzdHJpbmcoMCwgci5pbmRleCArIDEpICsgdXBkYXRlZC5zdWJzdHJpbmcoZW5kICsgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQuc3Vic3RyaW5nKDAsIHIuaW5kZXgpICsgdXBkYXRlZC5zdWJzdHJpbmcoZW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZWdleHAubGFzdEluZGV4IC09IHJbMF0ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucmVwbGFjZSgvXiguKj8pWyMmXSQvLCBcIiQxXCIpO1xuICAgICAgaWYgKHRoaXMuaGlzdG9yeSAhPT0gbnVsbCAmJiB0aGlzLmhpc3RvcnkucmVwbGFjZVN0YXRlKSB7XG4gICAgICAgIHRoaXMuaGlzdG9yeS5yZXBsYWNlU3RhdGUobnVsbCwgXCJcIiwgdXBkYXRlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmxvY2F0aW9uLmhyZWYgPSB1cGRhdGVkO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnN0b3JlZFVybCA9IHVwZGF0ZWQ7XG4gIH1cbn1cblxuY29uc3QgaW5zdGFuY2UgPSBuZXcgVVJMUGFyYW1ldGVyU3RvcmUoKTtcbmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvLCB7IE9ic2VydmFibGUgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IFBhZ2VTdHlsZSBmcm9tIFwiLi9wYWdlLXN0eWxlXCI7XG5pbXBvcnQgdXJsUGFyYW1ldGVycyBmcm9tIFwiLi4vc3RvcmVzL3VybC1wYXJhbWV0ZXJzXCI7XG5pbXBvcnQgc3RyaW5nVXRpbCBmcm9tIFwiLi4vdXRpbHMvc3RyaW5nLXV0aWxcIjtcblxuZnVuY3Rpb24gZ2V0RG9jdW1lbnRPcHRpb25zRnJvbVVSTCgpOiBEb2N1bWVudE9wdGlvbnNUeXBlIHtcbiAgY29uc3Qgc3JjVXJscyA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwic3JjXCIpO1xuICBjb25zdCBiVXJscyA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiYlwiKTsgLy8gKGRlcHJlY2F0ZWQpID0+IHNyYyAmIGJvb2tNb2RlPXRydWVcbiAgY29uc3QgeFVybHMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInhcIik7IC8vIChkZXByZWNhdGVkKSA9PiBzcmNcbiAgY29uc3QgYm9va01vZGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcImJvb2tNb2RlXCIpWzBdO1xuICBjb25zdCBmcmFnbWVudCA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiZlwiKVswXTtcbiAgY29uc3Qgc3R5bGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInN0eWxlXCIpO1xuICBjb25zdCB1c2VyU3R5bGUgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInVzZXJTdHlsZVwiKTtcbiAgcmV0dXJuIHtcbiAgICBzcmNVcmxzOiBzcmNVcmxzLmxlbmd0aFxuICAgICAgPyBzcmNVcmxzXG4gICAgICA6IGJVcmxzLmxlbmd0aFxuICAgICAgPyBiVXJsc1xuICAgICAgOiB4VXJscy5sZW5ndGhcbiAgICAgID8geFVybHNcbiAgICAgIDogbnVsbCxcbiAgICBib29rTW9kZTpcbiAgICAgIGJvb2tNb2RlID09PSBcInRydWVcIlxuICAgICAgICA/IHRydWVcbiAgICAgICAgOiBib29rTW9kZSA9PT0gXCJmYWxzZVwiXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiBiVXJscy5sZW5ndGhcbiAgICAgICAgPyB0cnVlXG4gICAgICAgIDogZmFsc2UsXG4gICAgZnJhZ21lbnQ6IGZyYWdtZW50IHx8IG51bGwsXG4gICAgYXV0aG9yU3R5bGVTaGVldDogc3R5bGUubGVuZ3RoID8gc3R5bGUgOiBbXSxcbiAgICB1c2VyU3R5bGVTaGVldDogdXNlclN0eWxlLmxlbmd0aCA/IHVzZXJTdHlsZSA6IFtdLFxuICB9O1xufVxuXG5pbnRlcmZhY2UgRG9jdW1lbnRPcHRpb25zVHlwZSB7XG4gIHBhZ2VTdHlsZT86IFBhZ2VTdHlsZTtcbiAgZGF0YVVzZXJTdHlsZUluZGV4PzogbnVtYmVyO1xuICBzcmNVcmxzPzogQXJyYXk8c3RyaW5nPjtcbiAgYm9va01vZGU/OiBib29sZWFuO1xuICBmcmFnbWVudD86IHN0cmluZztcbiAgYXV0aG9yU3R5bGVTaGVldD86IEFycmF5PHVua25vd24+O1xuICB1c2VyU3R5bGVTaGVldD86IEFycmF5PHVua25vd24+O1xufVxuXG5jbGFzcyBEb2N1bWVudE9wdGlvbnMge1xuICBwYWdlU3R5bGU6IFBhZ2VTdHlsZTtcbiAgZGF0YVVzZXJTdHlsZUluZGV4OiBudW1iZXI7XG4gIHNyY1VybHM/OiBPYnNlcnZhYmxlPEFycmF5PHN0cmluZz4gfCBudWxsPjtcbiAgYm9va01vZGU6IE9ic2VydmFibGU8Ym9vbGVhbj47XG4gIGZyYWdtZW50PzogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBhdXRob3JTdHlsZVNoZWV0PzogT2JzZXJ2YWJsZTxBcnJheTx1bmtub3duPj47XG4gIHVzZXJTdHlsZVNoZWV0PzogT2JzZXJ2YWJsZTxBcnJheTx1bmtub3duPj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgY29uc3QgdXJsT3B0aW9ucyA9IGdldERvY3VtZW50T3B0aW9uc0Zyb21VUkwoKTtcbiAgICB0aGlzLnNyY1VybHMgPSBrby5vYnNlcnZhYmxlKHVybE9wdGlvbnMuc3JjVXJscyB8fCBudWxsKTtcbiAgICB0aGlzLmJvb2tNb2RlID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLmJvb2tNb2RlKTtcbiAgICB0aGlzLmZyYWdtZW50ID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLmZyYWdtZW50IHx8IFwiXCIpO1xuICAgIHRoaXMuYXV0aG9yU3R5bGVTaGVldCA9IGtvLm9ic2VydmFibGUodXJsT3B0aW9ucy5hdXRob3JTdHlsZVNoZWV0KTtcbiAgICB0aGlzLnVzZXJTdHlsZVNoZWV0ID0ga28ub2JzZXJ2YWJsZSh1cmxPcHRpb25zLnVzZXJTdHlsZVNoZWV0KTtcbiAgICB0aGlzLnBhZ2VTdHlsZSA9IG5ldyBQYWdlU3R5bGUoKTtcbiAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IC0xO1xuXG4gICAgdGhpcy5ib29rTW9kZS5zdWJzY3JpYmUoKGJvb2tNb2RlKSA9PiB7XG4gICAgICBpZiAoIWJvb2tNb2RlKSB7XG4gICAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiYm9va01vZGVcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImJvb2tNb2RlXCIsIGJvb2tNb2RlLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gd3JpdGUgZnJhZ21lbnQgYmFjayB0byBVUkwgd2hlbiB1cGRhdGVkXG4gICAgdGhpcy5mcmFnbWVudC5zdWJzY3JpYmUoKGZyYWdtZW50KSA9PiB7XG4gICAgICBpZiAoL15lcHViY2ZpXFwoXFwvKFsyNDZdXFwvKT8yIVxcKS8udGVzdChmcmFnbWVudCkpIHtcbiAgICAgICAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJmXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZW5jb2RlZCA9IGZyYWdtZW50LnJlcGxhY2UoXG4gICAgICAgICAgL1tcXHMrJj89I1xcdTAwN0YtXFx1RkZGRl0rL2csXG4gICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50LFxuICAgICAgICApO1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImZcIiwgZW5jb2RlZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyByZWFkIHVzZXJTdHlsZT1kYXRhOi48Y3NzVGV4dD4gVVJMIHBhcmFtZXRlclxuICAgIHVybE9wdGlvbnMudXNlclN0eWxlU2hlZXQuZmluZCgodXNlclN0eWxlOiBzdHJpbmcsIGluZGV4KSA9PiB7XG4gICAgICAvLyBGaW5kIHVzZXJTdHlsZSBwYXJhbWV0ZXIgdGhhdCBzdGFydHMgd2l0aCBcImRhdGE6XCIgYW5kIGNvbnRhaW5zIFwiLyo8dmlld2VyPiovXCIuXG4gICAgICBpZiAoL15kYXRhOiwuKj9cXC9cXCooPzo8fCUzQyl2aWV3ZXIoPzo+fCUzRSlcXCpcXC8vLnRlc3QodXNlclN0eWxlKSkge1xuICAgICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IGluZGV4O1xuICAgICAgICBjb25zdCBkYXRhID0gdXNlclN0eWxlXG4gICAgICAgICAgLnJlcGxhY2UoL15kYXRhOiwvLCBcIlwiKVxuICAgICAgICAgIC8vIEVzY2FwZSB1bmVzY2FwZWQgXCIlXCIgdGhhdCBjYXVzZXMgZXJyb3IgaW4gZGVjb2RlVVJJQ29tcG9uZW50KClcbiAgICAgICAgICAucmVwbGFjZSgvJSg/IVswLTlBLUZhLWZdezJ9KS9nLCBcIiUyNVwiKTtcbiAgICAgICAgY29uc3QgY3NzVGV4dCA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhKTtcbiAgICAgICAgdGhpcy5wYWdlU3R5bGUuY3NzVGV4dChjc3NUZXh0KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyB3cml0ZSBjc3NUZXh0IGJhY2sgdG8gVVJMIHBhcmFtZXRlciB1c2VyU3R5bGU9IHdoZW4gdXBkYXRlZFxuICAgIHRoaXMucGFnZVN0eWxlLmNzc1RleHQuc3Vic2NyaWJlKChjc3NUZXh0KSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZVVzZXJTdHlsZVNoZWV0RnJvbUNTU1RleHQoY3NzVGV4dCk7XG4gICAgfSk7XG4gIH1cblxuICB0b09iamVjdCgpOiBEb2N1bWVudE9wdGlvbnNUeXBlIHtcbiAgICBmdW5jdGlvbiBjb252ZXJ0U3R5bGVTaGVldEFycmF5KGFycik6IHsgdXJsPzogc3RyaW5nOyB0ZXh0OiBzdHJpbmcgfVtdIHtcbiAgICAgIHJldHVybiBhcnIubWFwKCh1cmwpID0+ICh7XG4gICAgICAgIHVybCxcbiAgICAgIH0pKTtcbiAgICB9XG4gICAgY29uc3QgdXNlclN0eWxlU2hlZXRBcnJheSA9IGNvbnZlcnRTdHlsZVNoZWV0QXJyYXkodGhpcy51c2VyU3R5bGVTaGVldCgpKTtcbiAgICBpZiAodGhpcy5wYWdlU3R5bGUucGFnZVNpemVNb2RlKCkgPT0gUGFnZVN0eWxlLk1vZGUuRGVmYXVsdCkge1xuICAgICAgLy8gUHV0IGRlZmF1bHQgcGFnZSBzaXplIGF1dG8uIFRoaXMgaXMgbmVlZGVkIHRvIG91dHB1dCBhdXRvIHNpemUgUERGLlxuICAgICAgdXNlclN0eWxlU2hlZXRBcnJheS51bnNoaWZ0KHsgdGV4dDogXCJAcGFnZXtzaXplOmF1dG99XCIgfSk7XG4gICAgfVxuICAgIC8vIERvIG5vdCBpbmNsdWRlIHVybFxuICAgIC8vICh1cmwgaXMgYSByZXF1aXJlZCBhcmd1bWVudCB0byBWaWV3ZXIubG9hZERvY3VtZW50LCBzZXBhcmF0ZWQgZnJvbSBvdGhlciBvcHRpb25zKVxuICAgIHJldHVybiB7XG4gICAgICBmcmFnbWVudDogdGhpcy5mcmFnbWVudCgpLFxuICAgICAgYXV0aG9yU3R5bGVTaGVldDogY29udmVydFN0eWxlU2hlZXRBcnJheSh0aGlzLmF1dGhvclN0eWxlU2hlZXQoKSksXG4gICAgICB1c2VyU3R5bGVTaGVldDogdXNlclN0eWxlU2hlZXRBcnJheSxcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlVXNlclN0eWxlU2hlZXRGcm9tQ1NTVGV4dChjc3NUZXh0Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGNzc1RleHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjc3NUZXh0ID0gdGhpcy5wYWdlU3R5bGUudG9DU1NUZXh0KCk7XG4gICAgfVxuICAgIGNvbnN0IHVzZXJTdHlsZVNoZWV0ID0gdGhpcy51c2VyU3R5bGVTaGVldCgpO1xuICAgIGlmICghY3NzVGV4dCB8fCAvXlxccyooXFwvXFwqLio/XFwqXFwvXFxzKikqJC8udGVzdChjc3NUZXh0KSkge1xuICAgICAgaWYgKHVzZXJTdHlsZVNoZWV0Lmxlbmd0aCA8PSAodGhpcy5kYXRhVXNlclN0eWxlSW5kZXggPT0gLTEgPyAwIDogMSkpIHtcbiAgICAgICAgdXNlclN0eWxlU2hlZXQucG9wKCk7XG4gICAgICAgIHRoaXMuZGF0YVVzZXJTdHlsZUluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMudXNlclN0eWxlU2hlZXQodXNlclN0eWxlU2hlZXQpO1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInVzZXJTdHlsZVwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBkYXRhVXNlclN0eWxlID1cbiAgICAgIFwiZGF0YTosXCIgKyBzdHJpbmdVdGlsLnBlcmNlbnRFbmNvZGVGb3JEYXRhVVJJKGNzc1RleHQudHJpbSgpKTtcbiAgICBpZiAodGhpcy5kYXRhVXNlclN0eWxlSW5kZXggPT0gLTEpIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0LnB1c2goZGF0YVVzZXJTdHlsZSk7XG4gICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCA9IHVzZXJTdHlsZVNoZWV0Lmxlbmd0aCAtIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVzZXJTdHlsZVNoZWV0W3RoaXMuZGF0YVVzZXJTdHlsZUluZGV4XSA9IGRhdGFVc2VyU3R5bGU7XG4gICAgfVxuICAgIHRoaXMudXNlclN0eWxlU2hlZXQodXNlclN0eWxlU2hlZXQpO1xuICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgXCJ1c2VyU3R5bGVcIixcbiAgICAgIGRhdGFVc2VyU3R5bGUsXG4gICAgICB0aGlzLmRhdGFVc2VyU3R5bGVJbmRleCxcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERvY3VtZW50T3B0aW9ucztcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNiBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7IFBhZ2VWaWV3TW9kZSBhcyBDb3JlUGFnZVZpZXdNb2RlIH0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5cbmV4cG9ydCBjbGFzcyBQYWdlVmlld01vZGVJbnN0YW5jZSB7XG4gIHRvU3ByZWFkVmlld1N0cmluZygpOiBzdHJpbmcge1xuICAgIHN3aXRjaCAodGhpcykge1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJ0cnVlXCI7XG4gICAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICBjYXNlIFBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTpcbiAgICAgICAgcmV0dXJuIFwiZmFsc2VcIjtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJhdXRvXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhZ2VWaWV3TW9kZVwiKTtcbiAgICB9XG4gIH1cbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcbiAgICBzd2l0Y2ggKHRoaXMpIHtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLlNQUkVBRDpcbiAgICAgICAgcmV0dXJuIFwic3ByZWFkXCI7IC8vIHZpdmxpb3N0eWxlLnZpZXdlci5QYWdlVmlld01vZGUuU1BSRUFEO1xuICAgICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgY2FzZSBQYWdlVmlld01vZGUuU0lOR0xFX1BBR0U6XG4gICAgICAgIHJldHVybiBcInNpbmdsZVBhZ2VcIjsgLy8gdml2bGlvc3R5bGUudmlld2VyLlBhZ2VWaWV3TW9kZS5TSU5HTEVfUEFHRTtcbiAgICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgIGNhc2UgUGFnZVZpZXdNb2RlLkFVVE9fU1BSRUFEOlxuICAgICAgICByZXR1cm4gXCJhdXRvU3ByZWFkXCI7IC8vIHZpdmxpb3N0eWxlLnZpZXdlci5QYWdlVmlld01vZGUuQVVUT19TUFJFQUQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFBhZ2VWaWV3TW9kZVwiKTtcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgUGFnZVZpZXdNb2RlID0ge1xuICBBVVRPX1NQUkVBRDogbmV3IFBhZ2VWaWV3TW9kZUluc3RhbmNlKCksXG4gIFNJTkdMRV9QQUdFOiBuZXcgUGFnZVZpZXdNb2RlSW5zdGFuY2UoKSxcbiAgU1BSRUFEOiBuZXcgUGFnZVZpZXdNb2RlSW5zdGFuY2UoKSxcbiAgZGVmYXVsdE1vZGUoKTogQ29yZVBhZ2VWaWV3TW9kZSB7XG4gICAgcmV0dXJuIHRoaXMuQVVUT19TUFJFQUQ7XG4gIH0sXG4gIGZyb21TcHJlYWRWaWV3U3RyaW5nKHN0cjogc3RyaW5nKTogQ29yZVBhZ2VWaWV3TW9kZSB7XG4gICAgc3dpdGNoIChzdHIpIHtcbiAgICAgIGNhc2UgXCJ0cnVlXCI6XG4gICAgICAgIHJldHVybiB0aGlzLlNQUkVBRDtcbiAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICByZXR1cm4gdGhpcy5TSU5HTEVfUEFHRTtcbiAgICAgIGNhc2UgXCJhdXRvXCI6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5BVVRPX1NQUkVBRDtcbiAgICB9XG4gIH0sXG4gIG9mKG5hbWU6IHN0cmluZyk6IENvcmVQYWdlVmlld01vZGUge1xuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBDb3JlUGFnZVZpZXdNb2RlLlNQUkVBRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuU1BSRUFEO1xuICAgICAgY2FzZSBDb3JlUGFnZVZpZXdNb2RlLlNJTkdMRV9QQUdFOlxuICAgICAgICByZXR1cm4gdGhpcy5TSU5HTEVfUEFHRTtcbiAgICAgIGNhc2UgQ29yZVBhZ2VWaWV3TW9kZS5BVVRPX1NQUkVBRDpcbiAgICAgICAgcmV0dXJuIHRoaXMuQVVUT19TUFJFQUQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgUGFnZVZpZXdNb2RlIG5hbWU6ICR7bmFtZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQYWdlVmlld01vZGU7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTYgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgeyBDb3JlVmlld2VyLCBab29tVHlwZSB9IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuXG5jbGFzcyBab29tT3B0aW9ucyB7XG4gIHpvb206IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcih6b29tKSB7XG4gICAgdGhpcy56b29tID0gem9vbTtcbiAgfVxuICBnZXQgZml0VG9TY3JlZW4oKTogbnVsbCB8IGJvb2xlYW4ge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgZ2V0Q3VycmVudFpvb21GYWN0b3IoX3ZpZXdlcj86IENvcmVWaWV3ZXIpOiBudW1iZXIge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHRvZ2dsZUZpdFRvU2NyZWVuKCk6IFpvb21PcHRpb25zIHtcbiAgICByZXR1cm4gbmV3IFpvb21PcHRpb25zKDEpO1xuICB9XG4gIHpvb21Jbih2aWV3ZXI6IENvcmVWaWV3ZXIpOiBGaXhlZFpvb21GYWN0b3Ige1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXhlZFpvb21GYWN0b3IodGhpcy5nZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXIpICogMS4yNSk7XG4gIH1cbiAgem9vbU91dCh2aWV3ZXI6IENvcmVWaWV3ZXIpOiBGaXhlZFpvb21GYWN0b3Ige1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXhlZFpvb21GYWN0b3IodGhpcy5nZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXIpICogMC44KTtcbiAgfVxuICB6b29tVG9BY3R1YWxTaXplKCk6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3RvcigxKTtcbiAgfVxuICBzdGF0aWMgY3JlYXRlRGVmYXVsdE9wdGlvbnMoKTogRml0VG9TY3JlZW4ge1xuICAgIC8vIEZJWE1FOiBXZSB3YW50IHRvIHN0b3AgZGlzYWJsaW5nIHRoaXMgcnVsZSB0byBmdXR1cmVcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgcmV0dXJuIG5ldyBGaXRUb1NjcmVlbigpO1xuICB9XG4gIHN0YXRpYyBjcmVhdGVGcm9tWm9vbUZhY3Rvcih6b29tKTogRml4ZWRab29tRmFjdG9yIHtcbiAgICAvLyBGSVhNRTogV2Ugd2FudCB0byBzdG9wIGRpc2FibGluZyB0aGlzIHJ1bGUgdG8gZnV0dXJlXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHJldHVybiBuZXcgRml4ZWRab29tRmFjdG9yKHpvb20pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaXRUb1NjcmVlbiBleHRlbmRzIFpvb21PcHRpb25zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoMSk7XG4gIH1cbiAgZ2V0IGZpdFRvU2NyZWVuKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRvZ2dsZUZpdFRvU2NyZWVuKCk6IEZpeGVkWm9vbUZhY3RvciB7XG4gICAgLy8gRklYTUU6IFdlIHdhbnQgdG8gc3RvcCBkaXNhYmxpbmcgdGhpcyBydWxlIHRvIGZ1dHVyZVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICByZXR1cm4gbmV3IEZpeGVkWm9vbUZhY3RvcigxKTtcbiAgfVxuICBnZXRDdXJyZW50Wm9vbUZhY3Rvcih2aWV3ZXI6IENvcmVWaWV3ZXIpOiBudW1iZXIge1xuICAgIHJldHVybiB2aWV3ZXIucXVlcnlab29tRmFjdG9yKFpvb21UeXBlLkZJVF9JTlNJREVfVklFV1BPUlQpO1xuICB9XG59XG5jbGFzcyBGaXhlZFpvb21GYWN0b3IgZXh0ZW5kcyBab29tT3B0aW9ucyB7XG4gIGdldCBmaXRUb1NjcmVlbigpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdG9nZ2xlRml0VG9TY3JlZW4oKTogRml0VG9TY3JlZW4ge1xuICAgIHJldHVybiBuZXcgRml0VG9TY3JlZW4oKTtcbiAgfVxuICBnZXRDdXJyZW50Wm9vbUZhY3RvcigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnpvb207XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgWm9vbU9wdGlvbnM7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQge1xuICBDb3JlVmlld2VyT3B0aW9ucyxcbiAgUGFnZVZpZXdNb2RlIGFzIENvcmVQYWdlVmlld01vZGUsXG59IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuaW1wb3J0IGtvLCB7IE9ic2VydmFibGUgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IHVybFBhcmFtZXRlcnMgZnJvbSBcIi4uL3N0b3Jlcy91cmwtcGFyYW1ldGVyc1wiO1xuaW1wb3J0IFBhZ2VWaWV3TW9kZSwgeyBQYWdlVmlld01vZGVJbnN0YW5jZSB9IGZyb20gXCIuL3BhZ2Utdmlldy1tb2RlXCI7XG5pbXBvcnQgWm9vbU9wdGlvbnMsIHsgRml0VG9TY3JlZW4gfSBmcm9tIFwiLi96b29tLW9wdGlvbnNcIjtcblxudHlwZSBPcHRpb25zID0ge1xuICByZW5kZXJBbGxQYWdlczogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgZm9udFNpemU6IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgcHJvZmlsZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZVZpZXdNb2RlOiBPYnNlcnZhYmxlPFBhZ2VWaWV3TW9kZUluc3RhbmNlPjtcbiAgem9vbTogT2JzZXJ2YWJsZTxab29tT3B0aW9ucz47XG59O1xuXG5pbnRlcmZhY2UgVmlld2VyT3B0aW9uc1R5cGUge1xuICByZW5kZXJBbGxQYWdlczogYm9vbGVhbjtcbiAgZm9udFNpemU6IG51bWJlcjtcbiAgcHJvZmlsZTogYm9vbGVhbjtcbiAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGVJbnN0YW5jZTtcbiAgem9vbTogRml0VG9TY3JlZW4gfCB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGdldFZpZXdlck9wdGlvbnNGcm9tVVJMKCk6IFZpZXdlck9wdGlvbnNUeXBlIHtcbiAgY29uc3QgcmVuZGVyQWxsUGFnZXMgPSB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIpWzBdO1xuICBjb25zdCBmb250U2l6ZVN0ciA9IHVybFBhcmFtZXRlcnMuZ2V0UGFyYW1ldGVyKFwiZm9udFNpemVcIilbMF07XG4gIGNvbnN0IHIgPSAvXihbXFxkLl0rKSg/OiglMjV8JSl8XFwvKFtcXGQuXSspKT8kLy5leGVjKGZvbnRTaXplU3RyKTtcbiAgbGV0IGZvbnRTaXplOiBudWxsIHwgbnVtYmVyID0gbnVsbDtcbiAgaWYgKHIpIHtcbiAgICBjb25zdCBbLCBudW0sIHBlcmNlbnQsIGRlbm9tXSA9IHI7XG4gICAgZm9udFNpemUgPSBwYXJzZUZsb2F0KG51bSk7XG4gICAgaWYgKHBlcmNlbnQgfHwgZGVub20pIHtcbiAgICAgIGZvbnRTaXplID0gKDE2ICogZm9udFNpemUpIC8gKHBlcmNlbnQgPyAxMDAgOiBwYXJzZUZsb2F0KGRlbm9tKSk7XG4gICAgfVxuICAgIGlmIChmb250U2l6ZSA8IDUpIGZvbnRTaXplID0gNTtcbiAgICBpZiAoZm9udFNpemUgPiA3MikgZm9udFNpemUgPSA3MjtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOlxuICAgICAgcmVuZGVyQWxsUGFnZXMgPT09IFwidHJ1ZVwiXG4gICAgICAgID8gdHJ1ZVxuICAgICAgICA6IHJlbmRlckFsbFBhZ2VzID09PSBcImZhbHNlXCJcbiAgICAgICAgPyBmYWxzZVxuICAgICAgICA6IHVybFBhcmFtZXRlcnMuaGFzUGFyYW1ldGVyKFwiYlwiKVxuICAgICAgICA/IGZhbHNlXG4gICAgICAgIDogbnVsbCxcbiAgICBmb250U2l6ZSxcbiAgICBwcm9maWxlOiB1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInByb2ZpbGVcIilbMF0gPT09IFwidHJ1ZVwiLFxuICAgIHBhZ2VWaWV3TW9kZTogUGFnZVZpZXdNb2RlLmZyb21TcHJlYWRWaWV3U3RyaW5nKFxuICAgICAgdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJzcHJlYWRcIilbMF0sXG4gICAgKSxcbiAgICB6b29tOiB1bmRlZmluZWQsXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRWYWx1ZXMoKTogVmlld2VyT3B0aW9uc1R5cGUge1xuICByZXR1cm4ge1xuICAgIHJlbmRlckFsbFBhZ2VzOiB0cnVlLFxuICAgIGZvbnRTaXplOiAxNixcbiAgICBwcm9maWxlOiBmYWxzZSxcbiAgICBwYWdlVmlld01vZGU6IFBhZ2VWaWV3TW9kZS5kZWZhdWx0TW9kZSgpLFxuICAgIHpvb206IFpvb21PcHRpb25zLmNyZWF0ZURlZmF1bHRPcHRpb25zKCksXG4gIH07XG59XG5cbmNsYXNzIFZpZXdlck9wdGlvbnMge1xuICByZW5kZXJBbGxQYWdlczogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgZm9udFNpemU6IE9ic2VydmFibGU8bnVtYmVyIHwgc3RyaW5nPjtcbiAgcHJvZmlsZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGFnZVZpZXdNb2RlOiBPYnNlcnZhYmxlPFBhZ2VWaWV3TW9kZUluc3RhbmNlPjtcbiAgem9vbTogT2JzZXJ2YWJsZTxab29tT3B0aW9ucz47XG5cbiAgc3RhdGljIGdldERlZmF1bHRWYWx1ZXM6ICgpID0+IHtcbiAgICByZW5kZXJBbGxQYWdlczogYm9vbGVhbjtcbiAgICBmb250U2l6ZTogbnVtYmVyO1xuICAgIHByb2ZpbGU6IGJvb2xlYW47XG4gICAgcGFnZVZpZXdNb2RlOiBQYWdlVmlld01vZGVJbnN0YW5jZTtcbiAgICB6b29tOiBGaXRUb1NjcmVlbjtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zPzogT3B0aW9ucykge1xuICAgIHRoaXMucmVuZGVyQWxsUGFnZXMgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5mb250U2l6ZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnByb2ZpbGUgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5wYWdlVmlld01vZGUgPSBrby5vYnNlcnZhYmxlKCk7XG4gICAgdGhpcy56b29tID0ga28ub2JzZXJ2YWJsZSgpO1xuXG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuY29weUZyb20ob3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZXMgPSBnZXREZWZhdWx0VmFsdWVzKCk7XG4gICAgICBjb25zdCB1cmxPcHRpb25zID0gZ2V0Vmlld2VyT3B0aW9uc0Zyb21VUkwoKTtcbiAgICAgIHRoaXMucmVuZGVyQWxsUGFnZXMoXG4gICAgICAgIHVybE9wdGlvbnMucmVuZGVyQWxsUGFnZXMgIT09IG51bGxcbiAgICAgICAgICA/IHVybE9wdGlvbnMucmVuZGVyQWxsUGFnZXNcbiAgICAgICAgICA6IGRlZmF1bHRWYWx1ZXMucmVuZGVyQWxsUGFnZXMsXG4gICAgICApO1xuICAgICAgdGhpcy5mb250U2l6ZSh1cmxPcHRpb25zLmZvbnRTaXplIHx8IGRlZmF1bHRWYWx1ZXMuZm9udFNpemUpO1xuICAgICAgdGhpcy5wcm9maWxlKHVybE9wdGlvbnMucHJvZmlsZSB8fCBkZWZhdWx0VmFsdWVzLnByb2ZpbGUpO1xuICAgICAgdGhpcy5wYWdlVmlld01vZGUodXJsT3B0aW9ucy5wYWdlVmlld01vZGUgfHwgZGVmYXVsdFZhbHVlcy5wYWdlVmlld01vZGUpO1xuICAgICAgdGhpcy56b29tKGRlZmF1bHRWYWx1ZXMuem9vbSk7XG5cbiAgICAgIC8vIHdyaXRlIHNwcmVhZCBwYXJhbWV0ZXIgYmFjayB0byBVUkwgd2hlbiB1cGRhdGVkXG4gICAgICB0aGlzLnBhZ2VWaWV3TW9kZS5zdWJzY3JpYmUoKHBhZ2VWaWV3TW9kZSkgPT4ge1xuICAgICAgICBpZiAocGFnZVZpZXdNb2RlID09PSBkZWZhdWx0VmFsdWVzLnBhZ2VWaWV3TW9kZSkge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwic3ByZWFkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgICAgICAgXCJzcHJlYWRcIixcbiAgICAgICAgICAgIHBhZ2VWaWV3TW9kZS50b1NwcmVhZFZpZXdTdHJpbmcoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMucmVuZGVyQWxsUGFnZXMuc3Vic2NyaWJlKChyZW5kZXJBbGxQYWdlcykgPT4ge1xuICAgICAgICBpZiAocmVuZGVyQWxsUGFnZXMgPT09IGRlZmF1bHRWYWx1ZXMucmVuZGVyQWxsUGFnZXMpIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgICAgICAgXCJyZW5kZXJBbGxQYWdlc1wiLFxuICAgICAgICAgICAgcmVuZGVyQWxsUGFnZXMudG9TdHJpbmcoKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuZm9udFNpemUuc3Vic2NyaWJlKChmb250U2l6ZSkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGZvbnRTaXplID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBmb250U2l6ZSA9IGZvbnRTaXplXG4gICAgICAgICAgICAudG9QcmVjaXNpb24oMTApXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86XFwuMCp8KFxcLlxcZCo/KTArKSQvLCBcIiQxXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIoZm9udFNpemUpID09IGRlZmF1bHRWYWx1ZXMuZm9udFNpemUpIHtcbiAgICAgICAgICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImZvbnRTaXplXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVybFBhcmFtZXRlcnMuc2V0UGFyYW1ldGVyKFxuICAgICAgICAgICAgXCJmb250U2l6ZVwiLFxuICAgICAgICAgICAgYCR7Zm9udFNpemV9LyR7ZGVmYXVsdFZhbHVlcy5mb250U2l6ZX1gLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvcHlGcm9tKG90aGVyOiBPcHRpb25zKTogdm9pZCB7XG4gICAgdGhpcy5yZW5kZXJBbGxQYWdlcyhvdGhlci5yZW5kZXJBbGxQYWdlcygpKTtcbiAgICB0aGlzLmZvbnRTaXplKG90aGVyLmZvbnRTaXplKCkpO1xuICAgIHRoaXMucHJvZmlsZShvdGhlci5wcm9maWxlKCkpO1xuICAgIHRoaXMucGFnZVZpZXdNb2RlKG90aGVyLnBhZ2VWaWV3TW9kZSgpKTtcbiAgICB0aGlzLnpvb20ob3RoZXIuem9vbSgpKTtcbiAgfVxuXG4gIHRvT2JqZWN0KCk6IENvcmVWaWV3ZXJPcHRpb25zIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVuZGVyQWxsUGFnZXM6IHRoaXMucmVuZGVyQWxsUGFnZXMoKSBhcyBib29sZWFuLFxuICAgICAgZm9udFNpemU6IE51bWJlcih0aGlzLmZvbnRTaXplKCkpLFxuICAgICAgcGFnZVZpZXdNb2RlOiB0aGlzLnBhZ2VWaWV3TW9kZSgpLnRvU3RyaW5nKCkgYXMgQ29yZVBhZ2VWaWV3TW9kZSxcbiAgICAgIGZpdFRvU2NyZWVuOiB0aGlzLnpvb20oKS5maXRUb1NjcmVlbixcbiAgICAgIHpvb206IHRoaXMuem9vbSgpLnpvb20sXG4gICAgfTtcbiAgfVxufVxuXG5WaWV3ZXJPcHRpb25zLmdldERlZmF1bHRWYWx1ZXMgPSBnZXREZWZhdWx0VmFsdWVzO1xuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXJPcHRpb25zO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IG1lc3NhZ2VRdWV1ZSBmcm9tIFwiLi4vbW9kZWxzL21lc3NhZ2UtcXVldWVcIjtcblxuZW51bSBMb2dMZXZlbCB7XG4gIERlYnVnID0gXCJkZWJ1Z1wiLFxuICBJbmZvID0gXCJpbmZvXCIsXG4gIFdhcm4gPSBcIndhcm5cIixcbiAgRXJyb3IgPSBcImVycm9yXCIsXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2dlciB7XG4gIGxvZ0xldmVsOiBMb2dMZXZlbDtcblxuICBzdGF0aWMgZ2V0TG9nZ2VyKCk6IExvZ2dlciB7XG4gICAgcmV0dXJuIG5ldyBMb2dnZXIoKTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubG9nTGV2ZWwgPSBMb2dMZXZlbC5FcnJvcjtcbiAgfVxuXG4gIHNldExvZ0xldmVsKGxvZ0xldmVsKTogdm9pZCB7XG4gICAgdGhpcy5sb2dMZXZlbCA9IGxvZ0xldmVsO1xuICB9XG5cbiAgZGVidWcoY29udGVudCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5EZWJ1Zykge1xuICAgICAgbWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImRlYnVnXCIsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpbmZvKGNvbnRlbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuRGVidWcgfHwgdGhpcy5sb2dMZXZlbCA9PT0gTG9nTGV2ZWwuSW5mbykge1xuICAgICAgbWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImluZm9cIixcbiAgICAgICAgY29udGVudCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHdhcm4oY29udGVudCk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkRlYnVnIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5JbmZvIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5XYXJuXG4gICAgKSB7XG4gICAgICBtZXNzYWdlUXVldWUucHVzaCh7XG4gICAgICAgIHR5cGU6IFwid2FyblwiLFxuICAgICAgICBjb250ZW50LFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZXJyb3IoY29udGVudCk6IHZvaWQge1xuICAgIGlmIChcbiAgICAgIHRoaXMubG9nTGV2ZWwgPT09IExvZ0xldmVsLkRlYnVnIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5JbmZvIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5XYXJuIHx8XG4gICAgICB0aGlzLmxvZ0xldmVsID09PSBMb2dMZXZlbC5FcnJvclxuICAgICkge1xuICAgICAgbWVzc2FnZVF1ZXVlLnB1c2goe1xuICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlQXJyYXkgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuZXhwb3J0IHR5cGUgTWVzc2FnZVF1ZXVlID0gT2JzZXJ2YWJsZUFycmF5PHVua25vd24+O1xuXG5mdW5jdGlvbiBtZXNzYWdlUXVldWUoKTogTWVzc2FnZVF1ZXVlIHtcbiAgcmV0dXJuIGtvLm9ic2VydmFibGVBcnJheSgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZXNzYWdlUXVldWUoKTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBQdXJlQ29tcHV0ZWQsIE9ic2VydmFibGUgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuZXhwb3J0IHR5cGUgUmVhZG9ubHlPYnNlcnZhYmxlPFQ+ID0ge1xuICBnZXR0ZXI6IFB1cmVDb21wdXRlZDxUPjtcbiAgdmFsdWU6IE9ic2VydmFibGU8VD47XG59O1xuXG5jb25zdCB1dGlsID0ge1xuICByZWFkb25seU9ic2VydmFibGU8VD4odmFsdWU6IFQpOiBSZWFkb25seU9ic2VydmFibGU8VD4ge1xuICAgIGNvbnN0IG9icyA9IGtvLm9ic2VydmFibGUodmFsdWUpO1xuICAgIHJldHVybiB7XG4gICAgICBnZXR0ZXI6IGtvLnB1cmVDb21wdXRlZCgoKSA9PiBvYnMoKSksXG4gICAgICB2YWx1ZTogb2JzLFxuICAgIH07XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB1dGlsO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IHtcbiAgQ29yZVZpZXdlcixcbiAgTmF2aWdhdGlvbixcbiAgUmVhZHlTdGF0ZSxcbiAgUGFnZVByb2dyZXNzaW9uLFxuICBwcm9maWxlcixcbn0gZnJvbSBcIkB2aXZsaW9zdHlsZS9jb3JlXCI7XG5pbXBvcnQga28sIHsgT2JzZXJ2YWJsZSwgUHVyZUNvbXB1dGVkIH0gZnJvbSBcImtub2Nrb3V0XCI7XG5cbmltcG9ydCBEb2N1bWVudE9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy9kb2N1bWVudC1vcHRpb25zXCI7XG5pbXBvcnQgVmlld2VyT3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zXCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuLi9sb2dnaW5nL2xvZ2dlclwiO1xuaW1wb3J0IG9icywgeyBSZWFkb25seU9ic2VydmFibGUgfSBmcm9tIFwiLi4vdXRpbHMvb2JzZXJ2YWJsZS11dGlsXCI7XG5cbnR5cGUgU3RhdGUgPSB7XG4gIHN0YXR1czogUHVyZUNvbXB1dGVkPHVua25vd24+O1xuICBwYWdlUHJvZ3Jlc3Npb246IFB1cmVDb21wdXRlZDx1bmtub3duPjtcbiAgbmF2aWdhdGFibGU/OiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG59O1xuXG50eXBlIFByaXZhdGVTdGF0ZSA9IHtcbiAgc3RhdHVzOiBSZWFkb25seU9ic2VydmFibGU8dW5rbm93bj47XG4gIHBhZ2VQcm9ncmVzc2lvbjogUmVhZG9ubHlPYnNlcnZhYmxlPHVua25vd24+O1xufTtcblxuZXhwb3J0IHR5cGUgVmlld2VyU2V0dGluZ3MgPSB7XG4gIHVzZXJBZ2VudFJvb3RVUkw6IHN0cmluZztcbiAgdmlld3BvcnRFbGVtZW50OiBIVE1MRWxlbWVudDtcbiAgZGVidWc6IGJvb2xlYW47XG59O1xuXG5jbGFzcyBWaWV3ZXIge1xuICBwcml2YXRlIHZpZXdlck9wdGlvbnNfOiBWaWV3ZXJPcHRpb25zO1xuICBwcml2YXRlIGNvcmVWaWV3ZXJfOiBDb3JlVmlld2VyO1xuICBwcml2YXRlIHN0YXRlXzogUHJpdmF0ZVN0YXRlO1xuXG4gIC8vIEZJWE1FOiBJbiB1c2VkIGluIHZpZXdtb2RlbHMvbmF2aWdhdGlvbi4gVGhpcyBwcm9wZXJ0eSBpcyBkZXNpcmFibGUgcHJpdmF0ZSBhY2Nlc3MuXG4gIGRvY3VtZW50T3B0aW9uc186IG51bGwgfCBEb2N1bWVudE9wdGlvbnM7XG5cbiAgZXBhZ2U6IE9ic2VydmFibGU8dW5rbm93bj47XG4gIGVwYWdlQ291bnQ6IE9ic2VydmFibGU8bnVtYmVyPjtcbiAgZmlyc3RQYWdlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBpbnB1dFVybDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuICBzdGF0ZTogU3RhdGU7XG4gIGxhc3RQYWdlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICB0b2NWaXNpYmxlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICB0b2NQaW5uZWQ6IE9ic2VydmFibGU8dW5rbm93bj47XG5cbiAgY29uc3RydWN0b3Iodmlld2VyU2V0dGluZ3M/OiBWaWV3ZXJTZXR0aW5ncywgdmlld2VyT3B0aW9ucz86IFZpZXdlck9wdGlvbnMpIHtcbiAgICB0aGlzLnZpZXdlck9wdGlvbnNfID0gdmlld2VyT3B0aW9ucztcbiAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18gPSBudWxsO1xuICAgIHRoaXMuY29yZVZpZXdlcl8gPSBuZXcgQ29yZVZpZXdlcih2aWV3ZXJTZXR0aW5ncywgdmlld2VyT3B0aW9ucy50b09iamVjdCgpKTtcbiAgICBjb25zdCBzdGF0ZV8gPSAodGhpcy5zdGF0ZV8gPSB7XG4gICAgICBzdGF0dXM6IG9icy5yZWFkb25seU9ic2VydmFibGUoUmVhZHlTdGF0ZS5MT0FESU5HKSxcbiAgICAgIHBhZ2VQcm9ncmVzc2lvbjogb2JzLnJlYWRvbmx5T2JzZXJ2YWJsZShQYWdlUHJvZ3Jlc3Npb24uTFRSKSxcbiAgICB9KTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc3RhdHVzOiBzdGF0ZV8uc3RhdHVzLmdldHRlci5leHRlbmQoe1xuICAgICAgICByYXRlTGltaXQ6IHsgdGltZW91dDogMTAwLCBtZXRob2Q6IFwibm90aWZ5V2hlbkNoYW5nZXNTdG9wXCIgfSxcbiAgICAgICAgbm90aWZ5OiBcImFsd2F5c1wiLFxuICAgICAgfSksXG4gICAgICBuYXZpZ2F0YWJsZToga28ucHVyZUNvbXB1dGVkKFxuICAgICAgICAoKSA9PlxuICAgICAgICAgIHN0YXRlXy5zdGF0dXMudmFsdWUoKSAmJiBzdGF0ZV8uc3RhdHVzLnZhbHVlKCkgIT09IFJlYWR5U3RhdGUuTE9BRElORyxcbiAgICAgICksXG4gICAgICBwYWdlUHJvZ3Jlc3Npb246IHN0YXRlXy5wYWdlUHJvZ3Jlc3Npb24uZ2V0dGVyLFxuICAgIH07XG5cbiAgICB0aGlzLmVwYWdlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZXBhZ2VDb3VudCA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmZpcnN0UGFnZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLmxhc3RQYWdlID0ga28ub2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMudG9jVmlzaWJsZSA9IGtvLm9ic2VydmFibGUoKTtcbiAgICB0aGlzLnRvY1Bpbm5lZCA9IGtvLm9ic2VydmFibGUoKTtcblxuICAgIHRoaXMuaW5wdXRVcmwgPSBrby5vYnNlcnZhYmxlKFwiXCIpO1xuXG4gICAgdGhpcy5zZXR1cFZpZXdlckV2ZW50SGFuZGxlcigpO1xuICAgIHRoaXMuc2V0dXBWaWV3ZXJPcHRpb25TdWJzY3JpcHRpb25zKCk7XG4gIH1cblxuICBzZXR1cFZpZXdlckV2ZW50SGFuZGxlcigpOiB2b2lkIHtcbiAgICBjb25zdCBsb2dnZXIgPSBMb2dnZXIuZ2V0TG9nZ2VyKCk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5hZGRMaXN0ZW5lcihcImRlYnVnXCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBsb2dnZXIuZGVidWcocGF5bG9hZC5jb250ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwiaW5mb1wiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgbG9nZ2VyLmluZm8ocGF5bG9hZC5jb250ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwid2FyblwiLCAocGF5bG9hZCkgPT4ge1xuICAgICAgbG9nZ2VyLndhcm4ocGF5bG9hZC5jb250ZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwiZXJyb3JcIiwgKHBheWxvYWQpID0+IHtcbiAgICAgIGxvZ2dlci5lcnJvcihwYXlsb2FkLmNvbnRlbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuY29yZVZpZXdlcl8uYWRkTGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlYWR5U3RhdGUgPSB0aGlzLmNvcmVWaWV3ZXJfLnJlYWR5U3RhdGU7XG4gICAgICBpZiAoXG4gICAgICAgIHJlYWR5U3RhdGUgPT09IFJlYWR5U3RhdGUuSU5URVJBQ1RJVkUgfHxcbiAgICAgICAgcmVhZHlTdGF0ZSA9PT0gUmVhZHlTdGF0ZS5DT01QTEVURVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuc3RhdGVfLnBhZ2VQcm9ncmVzc2lvbi52YWx1ZShcbiAgICAgICAgICB0aGlzLmNvcmVWaWV3ZXJfLmdldEN1cnJlbnRQYWdlUHJvZ3Jlc3Npb24oKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhdGVfLnN0YXR1cy52YWx1ZShyZWFkeVN0YXRlKTtcbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwibG9hZGVkXCIsICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnZpZXdlck9wdGlvbnNfLnByb2ZpbGUoKSkge1xuICAgICAgICBwcm9maWxlci5wcmludFRpbWluZ3MoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwibmF2XCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIGNmaSxcbiAgICAgICAgZmlyc3QsXG4gICAgICAgIGxhc3QsXG4gICAgICAgIGVwYWdlLFxuICAgICAgICBlcGFnZUNvdW50LFxuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgZG9jVGl0bGUsXG4gICAgICB9ID0gcGF5bG9hZDtcblxuICAgICAgaWYgKGNmaSkge1xuICAgICAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18uZnJhZ21lbnQoY2ZpKTtcbiAgICAgIH1cbiAgICAgIGlmIChmaXJzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZmlyc3RQYWdlKGZpcnN0KTtcbiAgICAgIH1cbiAgICAgIGlmIChsYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5sYXN0UGFnZShsYXN0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlcGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZXBhZ2UoZXBhZ2UpO1xuICAgICAgfVxuICAgICAgaWYgKGVwYWdlQ291bnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmVwYWdlQ291bnQoZXBhZ2VDb3VudCk7XG4gICAgICB9XG4gICAgICBpZiAobWV0YWRhdGEgfHwgZG9jVGl0bGUpIHtcbiAgICAgICAgY29uc3QgcHViVGl0bGVzID1cbiAgICAgICAgICBtZXRhZGF0YSAmJiBtZXRhZGF0YVtcImh0dHA6Ly9wdXJsLm9yZy9kYy90ZXJtcy90aXRsZVwiXTtcbiAgICAgICAgY29uc3QgcHViVGl0bGUgPSBwdWJUaXRsZXMgJiYgcHViVGl0bGVzWzBdICYmIHB1YlRpdGxlc1swXVtcInZcIl07XG4gICAgICAgIGlmICghcHViVGl0bGUpIHtcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGRvY1RpdGxlID8gZG9jVGl0bGUgOiBcIlZpdmxpb3N0eWxlIFZpZXdlclwiO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICFkb2NUaXRsZSB8fFxuICAgICAgICAgIGRvY1RpdGxlID09PSBwdWJUaXRsZSB8fFxuICAgICAgICAgIHRoaXMuZmlyc3RQYWdlKCkgfHxcbiAgICAgICAgICAvXFwueGh0bWwkLy50ZXN0KGRvY1RpdGxlKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBpZ25vcmUgdWdseSB0aXRsZXMgY29waWVkIGZyb20gKi54aHRtbCBmaWxlIG5hbWVcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHB1YlRpdGxlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gYCR7ZG9jVGl0bGV9IHwgJHtwdWJUaXRsZX1gO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRvY1Zpc2libGVPbGQgPSB0aGlzLnRvY1Zpc2libGUoKTtcbiAgICAgIGNvbnN0IHRvY1Zpc2libGVOZXcgPSB0aGlzLmNvcmVWaWV3ZXJfLmlzVE9DVmlzaWJsZSgpO1xuICAgICAgaWYgKHRvY1Zpc2libGVPbGQgJiYgIXRvY1Zpc2libGVOZXcpIHtcbiAgICAgICAgLy8gV2hlbiByZXNpemUsIFRPQyBib3ggd2lsbCBiZSByZWdlbmVyYXRlZCBhbmQgaGlkZGVuIHRlbXBvcmFyaWx5LlxuICAgICAgICAvLyBTbyBrZWVwIFRPQyB0b2dnbGUgYnV0dG9uIHN0YXR1cyBvbi5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudG9jVmlzaWJsZSh0b2NWaXNpYmxlTmV3KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLmFkZExpc3RlbmVyKFwiaHlwZXJsaW5rXCIsIChwYXlsb2FkKSA9PiB7XG4gICAgICBpZiAocGF5bG9hZC5pbnRlcm5hbCkge1xuICAgICAgICB0aGlzLm5hdmlnYXRlVG9JbnRlcm5hbFVybChwYXlsb2FkLmhyZWYpO1xuXG4gICAgICAgIC8vIFdoZW4gbmF2aWdhdGUgZnJvbSBUT0MsIFRPQyBib3ggbWF5IG9yIG1heSBub3QgYmVjb21lIGhpZGRlbiBieSBhdXRvaGlkZS5cbiAgICAgICAgLy8gSGVyZSBzZXQgdG9jVmlzaWJsZSBmYWxzZSBhbmQgaXQgbWF5IGJlY29tZSB0cnVlIGFnYWluIGluIFwibmF2XCIgZXZlbnQuXG4gICAgICAgIGlmICh0aGlzLnRvY1Zpc2libGUoKSkge1xuICAgICAgICAgIHRoaXMudG9jVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKS5mb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBwYXlsb2FkLmhyZWY7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzZXR1cFZpZXdlck9wdGlvblN1YnNjcmlwdGlvbnMoKTogdm9pZCB7XG4gICAga28uY29tcHV0ZWQoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCB2aWV3ZXJPcHRpb25zID0gdGhpcy52aWV3ZXJPcHRpb25zXy50b09iamVjdCgpO1xuICAgICAgdGhpcy5jb3JlVmlld2VyXy5zZXRPcHRpb25zKHZpZXdlck9wdGlvbnMpO1xuICAgIH0sIHRoaXMpLmV4dGVuZCh7IHJhdGVMaW1pdDogMCB9KTtcbiAgfVxuXG4gIGxvYWREb2N1bWVudChcbiAgICBkb2N1bWVudE9wdGlvbnM6IERvY3VtZW50T3B0aW9ucyxcbiAgICB2aWV3ZXJPcHRpb25zOiBWaWV3ZXJPcHRpb25zLFxuICApOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlXy5zdGF0dXMudmFsdWUoUmVhZHlTdGF0ZS5MT0FESU5HKTtcbiAgICBpZiAodmlld2VyT3B0aW9ucykge1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5jb3B5RnJvbSh2aWV3ZXJPcHRpb25zKTtcbiAgICB9XG4gICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfID0gZG9jdW1lbnRPcHRpb25zO1xuXG4gICAgaWYgKGRvY3VtZW50T3B0aW9ucy5zcmNVcmxzKCkpIHtcbiAgICAgIGlmICghZG9jdW1lbnRPcHRpb25zLmJvb2tNb2RlKCkpIHtcbiAgICAgICAgdGhpcy5jb3JlVmlld2VyXy5sb2FkRG9jdW1lbnQoXG4gICAgICAgICAgZG9jdW1lbnRPcHRpb25zLnNyY1VybHMoKSxcbiAgICAgICAgICBkb2N1bWVudE9wdGlvbnMudG9PYmplY3QoKSxcbiAgICAgICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnRvT2JqZWN0KCksXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvcmVWaWV3ZXJfLmxvYWRQdWJsaWNhdGlvbihcbiAgICAgICAgICBkb2N1bWVudE9wdGlvbnMuc3JjVXJscygpWzBdLFxuICAgICAgICAgIGRvY3VtZW50T3B0aW9ucy50b09iamVjdCgpLFxuICAgICAgICAgIHRoaXMudmlld2VyT3B0aW9uc18udG9PYmplY3QoKSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gZG9jdW1lbnQgc3BlY2lmaWVkLCBzaG93IHdlbGNvbWUgcGFnZVxuICAgICAgdGhpcy5zdGF0ZV8uc3RhdHVzLnZhbHVlKFwiXCIpO1xuICAgIH1cbiAgfVxuXG4gIG5hdmlnYXRlVG9QcmV2aW91cygpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9QYWdlKE5hdmlnYXRpb24uUFJFVklPVVMpO1xuICB9XG5cbiAgbmF2aWdhdGVUb05leHQoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLk5FWFQpO1xuICB9XG5cbiAgbmF2aWdhdGVUb0xlZnQoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLkxFRlQpO1xuICB9XG5cbiAgbmF2aWdhdGVUb1JpZ2h0KCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5SSUdIVCk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvRmlyc3QoKTogdm9pZCB7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5uYXZpZ2F0ZVRvUGFnZShOYXZpZ2F0aW9uLkZJUlNUKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9MYXN0KCk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5MQVNUKTtcbiAgfVxuXG4gIG5hdmlnYXRlVG9FUGFnZShlcGFnZSk6IHZvaWQge1xuICAgIHRoaXMuY29yZVZpZXdlcl8ubmF2aWdhdGVUb1BhZ2UoTmF2aWdhdGlvbi5FUEFHRSwgZXBhZ2UpO1xuICB9XG5cbiAgbmF2aWdhdGVUb0ludGVybmFsVXJsKGhyZWYpOiB2b2lkIHtcbiAgICB0aGlzLmNvcmVWaWV3ZXJfLm5hdmlnYXRlVG9JbnRlcm5hbFVybChocmVmKTtcbiAgfVxuXG4gIHF1ZXJ5Wm9vbUZhY3Rvcih0eXBlKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb3JlVmlld2VyXy5xdWVyeVpvb21GYWN0b3IodHlwZSk7XG4gIH1cblxuICBlcGFnZVRvUGFnZU51bWJlcihlcGFnZSk6IG51bWJlciB7XG4gICAgaWYgKCFlcGFnZSAmJiBlcGFnZSAhPSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBwYWdlTnVtYmVyID0gTWF0aC5yb3VuZChlcGFnZSArIDEpO1xuICAgIHJldHVybiBwYWdlTnVtYmVyO1xuICB9XG4gIGVwYWdlRnJvbVBhZ2VOdW1iZXIocGFnZU51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKCFwYWdlTnVtYmVyICYmIHBhZ2VOdW1iZXIgIT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgZXBhZ2UgPSBwYWdlTnVtYmVyIC0gMTtcbiAgICByZXR1cm4gZXBhZ2U7XG4gIH1cblxuICBzaG93VE9DKHNob3duPzogYm9vbGVhbiwgYXV0b0hpZGU/OiBib29sZWFuKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuY29yZVZpZXdlcl8uaXNUT0NWaXNpYmxlKCkgPT0gbnVsbCkge1xuICAgICAgLy8gVE9DIGlzIHVuYXZhaWxhYmxlXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNob3cgPSBzaG93biA9PSBudWxsID8gIXRoaXMudG9jVmlzaWJsZSgpIDogc2hvd247XG4gICAgdGhpcy50b2NWaXNpYmxlKHNob3cpO1xuICAgIHRoaXMudG9jUGlubmVkKHNob3cgPyAhYXV0b0hpZGUgOiBmYWxzZSk7XG4gICAgdGhpcy5jb3JlVmlld2VyXy5zaG93VE9DKHNob3csIGF1dG9IaWRlKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3ZXI7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG4vLyBjZi4gaHR0cDovL3d3dy53My5vcmcvVFIvRE9NLUxldmVsLTMtRXZlbnRzLWtleS9cbmNvbnN0IEtleXMgPSB7XG4gIFVuaWRlbnRpZmllZDogXCJVbmlkZW50aWZpZWRcIixcbiAgQXJyb3dEb3duOiBcIkFycm93RG93blwiLFxuICBBcnJvd0xlZnQ6IFwiQXJyb3dMZWZ0XCIsXG4gIEFycm93UmlnaHQ6IFwiQXJyb3dSaWdodFwiLFxuICBBcnJvd1VwOiBcIkFycm93VXBcIixcbiAgSG9tZTogXCJIb21lXCIsXG4gIEVuZDogXCJFbmRcIixcbiAgUGFnZURvd246IFwiUGFnZURvd25cIixcbiAgUGFnZVVwOiBcIlBhZ2VVcFwiLFxuICBFc2NhcGU6IFwiRXNjYXBlXCIsXG4gIEVudGVyOiBcIkVudGVyXCIsXG4gIFNwYWNlOiBcIiBcIixcbn07XG5cbi8vIENBVVRJT046IFRoaXMgZnVuY3Rpb24gY292ZXJzIG9ubHkgcGFydCBvZiBjb21tb24ga2V5cyBvbiBhIGtleWJvYXJkLiBLZXlzIG5vdCBjb3ZlcmVkIGJ5IHRoZSBpbXBsZW1lbnRhdGlvbiBhcmUgaWRlbnRpZmllZCBhcyBLZXlib2FyZEV2ZW50LmtleSwgS2V5Ym9hcmRFdmVudC5rZXlJZGVudGlmaWVyLCBvciBcIlVuaWRlbnRpZmllZFwiLlxuZnVuY3Rpb24gaWRlbnRpZnlLZXlGcm9tRXZlbnQoZXZlbnQpOiB0eXBlb2YgS2V5c1trZXlvZiB0eXBlb2YgS2V5c10ge1xuICBjb25zdCBrZXkgPSBldmVudC5rZXk7XG4gIGNvbnN0IGtleUlkZW50aWZpZXIgPSBldmVudC5rZXlJZGVudGlmaWVyO1xuICBjb25zdCBsb2NhdGlvbiA9IGV2ZW50LmxvY2F0aW9uO1xuICBpZiAoa2V5ID09PSBLZXlzLkFycm93RG93biB8fCBrZXkgPT09IFwiRG93blwiIHx8IGtleUlkZW50aWZpZXIgPT09IFwiRG93blwiKSB7XG4gICAgaWYgKGV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgIC8vIE1hYyBDbWQrRG93biAtPiBFbmRcbiAgICAgIHJldHVybiBLZXlzLkVuZDtcbiAgICB9XG4gICAgcmV0dXJuIEtleXMuQXJyb3dEb3duO1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gS2V5cy5BcnJvd0xlZnQgfHxcbiAgICBrZXkgPT09IFwiTGVmdFwiIHx8XG4gICAga2V5SWRlbnRpZmllciA9PT0gXCJMZWZ0XCJcbiAgKSB7XG4gICAgcmV0dXJuIEtleXMuQXJyb3dMZWZ0O1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gS2V5cy5BcnJvd1JpZ2h0IHx8XG4gICAga2V5ID09PSBcIlJpZ2h0XCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlJpZ2h0XCJcbiAgKSB7XG4gICAgcmV0dXJuIEtleXMuQXJyb3dSaWdodDtcbiAgfSBlbHNlIGlmIChrZXkgPT09IEtleXMuQXJyb3dVcCB8fCBrZXkgPT09IFwiVXBcIiB8fCBrZXlJZGVudGlmaWVyID09PSBcIlVwXCIpIHtcbiAgICBpZiAoZXZlbnQubWV0YUtleSkge1xuICAgICAgLy8gTWFjIENtZCtVcCAtPiBIb21lXG4gICAgICByZXR1cm4gS2V5cy5Ib21lO1xuICAgIH1cbiAgICByZXR1cm4gS2V5cy5BcnJvd1VwO1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gS2V5cy5Fc2NhcGUgfHxcbiAgICBrZXkgPT09IFwiRXNjXCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDAxQlwiXG4gICkge1xuICAgIHJldHVybiBLZXlzLkVzY2FwZTtcbiAgfSBlbHNlIGlmIChrZXkgPT09IEtleXMuRW50ZXIgfHwga2V5SWRlbnRpZmllciA9PT0gXCJFbnRlclwiKSB7XG4gICAgcmV0dXJuIEtleXMuRW50ZXI7XG4gIH0gZWxzZSBpZiAoa2V5ID09PSBLZXlzLlNwYWNlIHx8IGtleUlkZW50aWZpZXIgPT09IFwiVSswMDIwXCIpIHtcbiAgICByZXR1cm4gS2V5cy5TcGFjZTtcbiAgfSBlbHNlIGlmIChrZXkgPT09IFwiMFwiIHx8IGtleUlkZW50aWZpZXIgPT09IFwiVSswMDMwXCIpIHtcbiAgICByZXR1cm4gXCIwXCI7XG4gIH0gZWxzZSBpZiAoXG4gICAga2V5ID09PSBcIitcIiB8fFxuICAgIGtleSA9PT0gXCJBZGRcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiVSswMDJCXCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDBCQlwiIHx8XG4gICAgKGtleUlkZW50aWZpZXIgPT09IFwiVSswMDRCXCIgJiZcbiAgICAgIGxvY2F0aW9uID09PVxuICAgICAgICBLZXlib2FyZEV2ZW50LkRPTV9LRVlfTE9DQVRJT05fTlVNUEFEKSAvKiB3b3JrYXJvdW5kIGZvciBDaHJvbWUgZm9yIFdpbmRvd3MgKi9cbiAgKSB7XG4gICAgcmV0dXJuIFwiK1wiO1xuICB9IGVsc2UgaWYgKFxuICAgIGtleSA9PT0gXCItXCIgfHxcbiAgICBrZXkgPT09IFwiU3VidHJhY3RcIiB8fFxuICAgIGtleUlkZW50aWZpZXIgPT09IFwiVSswMDJEXCIgfHxcbiAgICBrZXlJZGVudGlmaWVyID09PSBcIlUrMDBCRFwiIHx8XG4gICAgKGtleUlkZW50aWZpZXIgPT09IFwiVSswMDREXCIgJiZcbiAgICAgIGxvY2F0aW9uID09PVxuICAgICAgICBLZXlib2FyZEV2ZW50LkRPTV9LRVlfTE9DQVRJT05fTlVNUEFEKSAvKiB3b3JrYXJvdW5kIGZvciBDaHJvbWUgZm9yIFdpbmRvd3MgKi9cbiAgKSB7XG4gICAgcmV0dXJuIFwiLVwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBrZXkgfHwga2V5SWRlbnRpZmllciB8fCBLZXlzLlVuaWRlbnRpZmllZDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIEtleXMsXG4gIGlkZW50aWZ5S2V5RnJvbUV2ZW50LFxufTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycyAqL1xuLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTggVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgdW5rbm93biBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCB7IENvcmVWaWV3ZXIsIFJlYWR5U3RhdGUsIFBhZ2VQcm9ncmVzc2lvbiB9IGZyb20gXCJAdml2bGlvc3R5bGUvY29yZVwiO1xuaW1wb3J0IGtvLCB7IFB1cmVDb21wdXRlZCB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgVmlld2VyT3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zXCI7XG5pbXBvcnQga2V5VXRpbCBmcm9tIFwiLi4vdXRpbHMva2V5LXV0aWxcIjtcbmltcG9ydCBTZXR0aW5nc1BhbmVsIGZyb20gXCIuL3NldHRpbmdzLXBhbmVsXCI7XG5pbXBvcnQgVmlld2VyIGZyb20gXCIuL3ZpZXdlclwiO1xuXG5jb25zdCB7IEtleXMgfSA9IGtleVV0aWw7XG5cbmV4cG9ydCB0eXBlIE5hdmlnYXRpb25PcHRpb25zID0ge1xuICBkaXNhYmxlVE9DTmF2aWdhdGlvbjogYm9vbGVhbjtcbiAgZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uOiBib29sZWFuO1xuICBkaXNhYmxlWm9vbTogYm9vbGVhbjtcbiAgZGlzYWJsZUZvbnRTaXplQ2hhbmdlOiBib29sZWFuO1xufTtcblxuY2xhc3MgTmF2aWdhdGlvbiB7XG4gIHN0YXRpYyBQUkVWSU9VUyhQUkVWSU9VUzogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBORVhUKE5FWFQ6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBzdGF0aWMgTEVGVChMRUZUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIFJJR0hUKFJJR0hUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIEZJUlNUKEZJUlNUOiB1bmtub3duKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gIH1cbiAgc3RhdGljIExBU1QoTEFTVDogdW5rbm93bik6IHZvaWQge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICB9XG4gIHN0YXRpYyBFUEFHRShFUEFHRTogdW5rbm93biwgZXBhZ2U6IHVua25vd24pOiB2b2lkIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgfVxuICBwcml2YXRlIHZpZXdlck9wdGlvbnNfOiBWaWV3ZXJPcHRpb25zO1xuICBwcml2YXRlIHZpZXdlcl86IFZpZXdlcjtcbiAgcHJpdmF0ZSBzZXR0aW5nc1BhbmVsXzogU2V0dGluZ3NQYW5lbDtcblxuICBmaXRUb1NjcmVlbjogUHVyZUNvbXB1dGVkPHVua25vd24+O1xuICBpc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc0RlZmF1bHRGb250U2l6ZURpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNJbmNyZWFzZUZvbnRTaXplRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkOiBQdXJlQ29tcHV0ZWQ8Ym9vbGVhbj47XG4gIGlzTmF2aWdhdGVUb1JpZ2h0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNOYXZpZ2F0ZVRvRmlyc3REaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc05hdmlnYXRlVG9MYXN0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNQYWdlTnVtYmVyRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNUT0NUb2dnbGVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1RvZ2dsZUZpdFRvU2NyZWVuRGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNab29tT3V0RGlzYWJsZWQ6IFB1cmVDb21wdXRlZDxib29sZWFuPjtcbiAgaXNab29tSW5EaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBpc1pvb21Ub0FjdHVhbFNpemVEaXNhYmxlZDogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuICBwYWdlTnVtYmVyOiBQdXJlQ29tcHV0ZWQ8bnVtYmVyIHwgc3RyaW5nPjtcbiAgdG90YWxQYWdlczogUHVyZUNvbXB1dGVkPHVua25vd24+O1xuICBoaWRlRm9udFNpemVDaGFuZ2U6IGJvb2xlYW47XG4gIGhpZGVQYWdlTmF2aWdhdGlvbjogYm9vbGVhbjtcbiAgaGlkZVRPQ05hdmlnYXRpb246IGJvb2xlYW47XG4gIGhpZGVab29tOiBib29sZWFuO1xuICBqdXN0Q2xpY2tlZDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICB2aWV3ZXJPcHRpb25zOiBWaWV3ZXJPcHRpb25zLFxuICAgIHZpZXdlcjogVmlld2VyLFxuICAgIHNldHRpbmdzUGFuZWw6IFNldHRpbmdzUGFuZWwsXG4gICAgbmF2aWdhdGlvbk9wdGlvbnM6IE5hdmlnYXRpb25PcHRpb25zLFxuICApIHtcbiAgICB0aGlzLnZpZXdlck9wdGlvbnNfID0gdmlld2VyT3B0aW9ucztcbiAgICB0aGlzLnZpZXdlcl8gPSB2aWV3ZXI7XG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsXyA9IHNldHRpbmdzUGFuZWw7XG4gICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlOyAvLyBkb3VibGUgY2xpY2sgY2hlY2tcblxuICAgIHRoaXMuaXNEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAodGhpcy5zZXR0aW5nc1BhbmVsXy5vcGVuZWQoKSAmJiAhdGhpcy5zZXR0aW5nc1BhbmVsXy5waW5uZWQoKSkgfHxcbiAgICAgICAgIXRoaXMudmlld2VyXy5zdGF0ZS5uYXZpZ2F0YWJsZSgpXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgY29uc3QgbmF2aWdhdGlvbkRpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlUGFnZU5hdmlnYXRpb24gfHwgdGhpcy5pc0Rpc2FibGVkKCk7XG4gICAgfSk7XG5cbiAgICBuYXZpZ2F0aW9uRGlzYWJsZWQuc3Vic2NyaWJlKChkaXNhYmxlZCkgPT4ge1xuICAgICAgY29uc3QgcGFnZU51bWJlckVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW51bWJlclwiLFxuICAgICAgKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgaWYgKHBhZ2VOdW1iZXJFbGVtKSB7XG4gICAgICAgIHBhZ2VOdW1iZXJFbGVtLmRpc2FibGVkID0gZGlzYWJsZWQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzUGFnZU51bWJlckRpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiBuYXZpZ2F0aW9uRGlzYWJsZWQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbmVlZGVkIGZvciB0ZXN0L3NwZWMvdmlld21vZGVscy9uYXZpZ2F0aW9uLXNwZWMuanNcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZpZXdlcl8uZmlyc3RQYWdlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLmlzTmF2aWdhdGVUb05leHREaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbkRpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gbmVlZGVkIGZvciB0ZXN0L3NwZWMvdmlld21vZGVscy9uYXZpZ2F0aW9uLXNwZWMuanNcbiAgICAgIH1cbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5yZW5kZXJBbGxQYWdlcygpICYmXG4gICAgICAgIHRoaXMudmlld2VyXy5zdGF0ZS5zdGF0dXMoKSAhPSBSZWFkeVN0YXRlLkNPTVBMRVRFXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudmlld2VyXy5sYXN0UGFnZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9MZWZ0RGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgaWYgKG5hdmlnYXRpb25EaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5wYWdlUHJvZ3Jlc3Npb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG5lZWRlZCBmb3IgdGVzdC9zcGVjL3ZpZXdtb2RlbHMvbmF2aWdhdGlvbi1zcGVjLmpzXG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLnN0YXRlLnBhZ2VQcm9ncmVzc2lvbigpID09PSBQYWdlUHJvZ3Jlc3Npb24uTFRSKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTmF2aWdhdGVUb05leHREaXNhYmxlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5pc05hdmlnYXRlVG9SaWdodERpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUucGFnZVByb2dyZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBuZWVkZWQgZm9yIHRlc3Qvc3BlYy92aWV3bW9kZWxzL25hdmlnYXRpb24tc3BlYy5qc1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyXy5zdGF0ZS5wYWdlUHJvZ3Jlc3Npb24oKSA9PT0gUGFnZVByb2dyZXNzaW9uLkxUUikge1xuICAgICAgICByZXR1cm4gdGhpcy5pc05hdmlnYXRlVG9OZXh0RGlzYWJsZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvRmlyc3REaXNhYmxlZCA9IHRoaXMuaXNOYXZpZ2F0ZVRvUHJldmlvdXNEaXNhYmxlZDtcblxuICAgIHRoaXMuaXNOYXZpZ2F0ZVRvTGFzdERpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBuZWVkZWQgZm9yIHRlc3Qvc3BlYy92aWV3bW9kZWxzL25hdmlnYXRpb24tc3BlYy5qc1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnJlbmRlckFsbFBhZ2VzKCkgJiZcbiAgICAgICAgdGhpcy52aWV3ZXJfLnN0YXRlLnN0YXR1cygpICE9IFJlYWR5U3RhdGUuQ09NUExFVEVcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnZpZXdlcl8ubGFzdFBhZ2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuaGlkZVBhZ2VOYXZpZ2F0aW9uID0gISFuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlUGFnZU5hdmlnYXRpb247XG5cbiAgICBjb25zdCB6b29tRGlzYWJsZWQgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgcmV0dXJuIG5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVab29tIHx8IHRoaXMuaXNEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5pc1pvb21PdXREaXNhYmxlZCA9IHpvb21EaXNhYmxlZDtcbiAgICB0aGlzLmlzWm9vbUluRGlzYWJsZWQgPSB6b29tRGlzYWJsZWQ7XG4gICAgdGhpcy5pc1pvb21Ub0FjdHVhbFNpemVEaXNhYmxlZCA9IHpvb21EaXNhYmxlZDtcbiAgICB0aGlzLmlzVG9nZ2xlRml0VG9TY3JlZW5EaXNhYmxlZCA9IHpvb21EaXNhYmxlZDtcbiAgICB0aGlzLmhpZGVab29tID0gISFuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlWm9vbTtcblxuICAgIHRoaXMuZml0VG9TY3JlZW4gPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4gdmlld2VyT3B0aW9ucy56b29tKCkuZml0VG9TY3JlZW4pO1xuXG4gICAgY29uc3QgZm9udFNpemVDaGFuZ2VEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICByZXR1cm4gbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZUZvbnRTaXplQ2hhbmdlIHx8IHRoaXMuaXNEaXNhYmxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gRm9udCBzaXplIGxpbWl0IChtYXg6NzIsIG1pbjo1KSBpcyBoYXJkIGNvZGVkIGluIHZpdmxpb3N0eWxlLmpzL3NyYy9hZGFwdC92aWV3ZXIuanMuXG4gICAgdGhpcy5pc0luY3JlYXNlRm9udFNpemVEaXNhYmxlZCA9IGtvLnB1cmVDb21wdXRlZCgoKSA9PiB7XG4gICAgICBpZiAoZm9udFNpemVDaGFuZ2VEaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoKSA+PSA3Mikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9KTtcbiAgICB0aGlzLmlzRGVjcmVhc2VGb250U2l6ZURpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIGlmIChmb250U2l6ZUNoYW5nZURpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpIDw9IDUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gICAgdGhpcy5pc0RlZmF1bHRGb250U2l6ZURpc2FibGVkID0gZm9udFNpemVDaGFuZ2VEaXNhYmxlZDtcbiAgICB0aGlzLmhpZGVGb250U2l6ZUNoYW5nZSA9ICEhbmF2aWdhdGlvbk9wdGlvbnMuZGlzYWJsZUZvbnRTaXplQ2hhbmdlO1xuXG4gICAgdGhpcy5pc1RPQ1RvZ2dsZURpc2FibGVkID0ga28ucHVyZUNvbXB1dGVkKCgpID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5hdmlnYXRpb25PcHRpb25zLmRpc2FibGVUT0NOYXZpZ2F0aW9uIHx8XG4gICAgICAgIHRoaXMuaXNEaXNhYmxlZCgpIHx8XG4gICAgICAgIHRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkgPT0gbnVsbFxuICAgICAgKTtcbiAgICB9KTtcbiAgICB0aGlzLmhpZGVUT0NOYXZpZ2F0aW9uID0gISFuYXZpZ2F0aW9uT3B0aW9ucy5kaXNhYmxlVE9DTmF2aWdhdGlvbjtcblxuICAgIHRoaXMucGFnZU51bWJlciA9IGtvLnB1cmVDb21wdXRlZCh7XG4gICAgICByZWFkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJfLmVwYWdlVG9QYWdlTnVtYmVyKHRoaXMudmlld2VyXy5lcGFnZSgpKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZShwYWdlTnVtYmVyVGV4dDogbnVtYmVyIHwgc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGVwYWdlT2xkID0gdGhpcy52aWV3ZXJfLmVwYWdlKCk7XG4gICAgICAgIGNvbnN0IHBhZ2VOdW1iZXJPbGQgPSB0aGlzLnZpZXdlcl8uZXBhZ2VUb1BhZ2VOdW1iZXIoZXBhZ2VPbGQpO1xuXG4gICAgICAgIC8vIEFjY2VwdCBub24taW50ZWdlciwgY29udmVydCBmdWxsd2lkdGggdG8gYXNjaWlcbiAgICAgICAgbGV0IHBhZ2VOdW1iZXIgPVxuICAgICAgICAgIHBhcnNlRmxvYXQoXG4gICAgICAgICAgICBwYWdlTnVtYmVyVGV4dFxuICAgICAgICAgICAgICAudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAucmVwbGFjZSgvW++8kC3vvJldL2csIChzKSA9PlxuICAgICAgICAgICAgICAgIFN0cmluZy5mcm9tQ2hhckNvZGUocy5jaGFyQ29kZUF0KDApIC0gMHhmZWUwKSxcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICApIHx8IDA7XG4gICAgICAgIGlmICgvXlstK10vLnRlc3QocGFnZU51bWJlclRleHQudG9TdHJpbmcoKSkpIHtcbiAgICAgICAgICAvLyBcIitudW1iZXJcIiBhbmQgXCItbnVtYmVyXCIgdG8gcmVsYXRpdmUgbW92ZS5cbiAgICAgICAgICBwYWdlTnVtYmVyID0gcGFnZU51bWJlck9sZCArIHBhZ2VOdW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPCAxKSB7XG4gICAgICAgICAgcGFnZU51bWJlciA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZXBhZ2VDb3VudCA9IHRoaXMudmlld2VyXy5lcGFnZUNvdW50KCk7XG4gICAgICAgICAgaWYgKHRoaXMudmlld2VyT3B0aW9uc18ucmVuZGVyQWxsUGFnZXMoKSkge1xuICAgICAgICAgICAgaWYgKHBhZ2VOdW1iZXIgPiBlcGFnZUNvdW50KSB7XG4gICAgICAgICAgICAgIHBhZ2VOdW1iZXIgPSBlcGFnZUNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAocGFnZU51bWJlciA+IGVwYWdlQ291bnQgKyAxKSB7XG4gICAgICAgICAgICAvLyBBY2NlcHQgXCJlcGFnZUNvdW50ICsgMVwiIGJlY2F1c2UgdGhlIGxhc3QgZXBhZ2UgbWF5IGVxdWFsIGVwYWdlQ291bnQuXG4gICAgICAgICAgICBwYWdlTnVtYmVyID0gZXBhZ2VDb3VudCArIDE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVwYWdlTmF2ID0gdGhpcy52aWV3ZXJfLmVwYWdlRnJvbVBhZ2VOdW1iZXIocGFnZU51bWJlcik7XG4gICAgICAgIGNvbnN0IHBhZ2VOdW1iZXJFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW51bWJlclwiLFxuICAgICAgICApIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIHBhZ2VOdW1iZXJFbGVtLnZhbHVlID0gcGFnZU51bWJlci50b1N0cmluZygpO1xuICAgICAgICB0aGlzLnZpZXdlcl8ubmF2aWdhdGVUb0VQYWdlKGVwYWdlTmF2KTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnZpZXdlcl8uc3RhdGUuc3RhdHVzKCkgIT0gUmVhZHlTdGF0ZS5MT0FESU5HICYmXG4gICAgICAgICAgICB0aGlzLnZpZXdlcl8uZXBhZ2UoKSA9PT0gZXBhZ2VPbGRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHBhZ2VOdW1iZXJFbGVtLnZhbHVlID0gcGFnZU51bWJlck9sZC50b1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKS5mb2N1cygpO1xuICAgICAgICB9LCAxMCk7XG4gICAgICB9LFxuICAgICAgb3duZXI6IHRoaXMsXG4gICAgfSk7XG5cbiAgICB0aGlzLnRvdGFsUGFnZXMgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4ge1xuICAgICAgbGV0IHRvdGFsUGFnZXMgPSB0aGlzLnZpZXdlcl8uZXBhZ2VDb3VudCgpO1xuICAgICAgaWYgKCF0b3RhbFBhZ2VzKSB7XG4gICAgICAgIHJldHVybiB0b3RhbFBhZ2VzO1xuICAgICAgfVxuICAgICAgY29uc3QgcGFnZU51bWJlciA9IE51bWJlcih0aGlzLnBhZ2VOdW1iZXIoKSk7XG4gICAgICBpZiAodGhpcy52aWV3ZXJfLmxhc3RQYWdlKCkpIHtcbiAgICAgICAgdG90YWxQYWdlcyA9IHBhZ2VOdW1iZXI7XG4gICAgICB9IGVsc2UgaWYgKHBhZ2VOdW1iZXIgPj0gdG90YWxQYWdlcykge1xuICAgICAgICB0b3RhbFBhZ2VzKys7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG90YWxQYWdlcztcbiAgICB9KTtcblxuICAgIFtcbiAgICAgIFwibmF2aWdhdGVUb1ByZXZpb3VzXCIsXG4gICAgICBcIm5hdmlnYXRlVG9OZXh0XCIsXG4gICAgICBcIm5hdmlnYXRlVG9MZWZ0XCIsXG4gICAgICBcIm5hdmlnYXRlVG9SaWdodFwiLFxuICAgICAgXCJuYXZpZ2F0ZVRvRmlyc3RcIixcbiAgICAgIFwibmF2aWdhdGVUb0xhc3RcIixcbiAgICAgIFwiem9vbUluXCIsXG4gICAgICBcInpvb21PdXRcIixcbiAgICAgIFwiem9vbVRvQWN0dWFsU2l6ZVwiLFxuICAgICAgXCJ0b2dnbGVGaXRUb1NjcmVlblwiLFxuICAgICAgXCJpbmNyZWFzZUZvbnRTaXplXCIsXG4gICAgICBcImRlY3JlYXNlRm9udFNpemVcIixcbiAgICAgIFwiZGVmYXVsdEZvbnRTaXplXCIsXG4gICAgICBcIm9uY2xpY2tWaWV3cG9ydFwiLFxuICAgICAgXCJ0b2dnbGVUT0NcIixcbiAgICBdLmZvckVhY2goKG1ldGhvZE5hbWUpID0+IHtcbiAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSB0aGlzW21ldGhvZE5hbWVdLmJpbmQodGhpcyk7XG4gICAgfSk7XG4gIH1cblxuICBuYXZpZ2F0ZVRvUHJldmlvdXMoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9QcmV2aW91cygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvTmV4dCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvTmV4dERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvTmV4dCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvTGVmdCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvTGVmdERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvTGVmdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvUmlnaHQoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb1JpZ2h0RGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9SaWdodCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvRmlyc3QoKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzTmF2aWdhdGVUb0ZpcnN0RGlzYWJsZWQoKSkge1xuICAgICAgdGhpcy52aWV3ZXJfLm5hdmlnYXRlVG9GaXJzdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuYXZpZ2F0ZVRvTGFzdCgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNOYXZpZ2F0ZVRvTGFzdERpc2FibGVkKCkpIHtcbiAgICAgIHRoaXMudmlld2VyXy5uYXZpZ2F0ZVRvTGFzdCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB6b29tSW4oKTogYm9vbGVhbiB7XG4gICAgaWYgKCF0aGlzLmlzWm9vbUluRGlzYWJsZWQoKSkge1xuICAgICAgY29uc3Qgem9vbSA9IHRoaXMudmlld2VyT3B0aW9uc18uem9vbSgpO1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKFxuICAgICAgICB6b29tLnpvb21JbigodGhpcy52aWV3ZXJfIGFzIHVua25vd24pIGFzIENvcmVWaWV3ZXIpLFxuICAgICAgKTsgLy8gVE9ETzogdGVzdCBpZiBpdCdzIG9rIHRvIHRyZWF0IHZpZXdlcl8gYXMgQ29yZVZpZXdlclxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB6b29tT3V0KCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1pvb21PdXREaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCB6b29tID0gdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKCk7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oXG4gICAgICAgIHpvb20uem9vbU91dCgodGhpcy52aWV3ZXJfIGFzIHVua25vd24pIGFzIENvcmVWaWV3ZXIpLFxuICAgICAgKTsgLy8gVE9ETzogdGVzdCBpZiBpdCdzIG9rIHRvIHRyZWF0IHZpZXdlcl8gYXMgQ29yZVZpZXdlclxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB6b29tVG9BY3R1YWxTaXplKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1pvb21Ub0FjdHVhbFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCB6b29tID0gdGhpcy52aWV3ZXJPcHRpb25zXy56b29tKCk7XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oem9vbS56b29tVG9BY3R1YWxTaXplKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0b2dnbGVGaXRUb1NjcmVlbigpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNUb2dnbGVGaXRUb1NjcmVlbkRpc2FibGVkKCkpIHtcbiAgICAgIGNvbnN0IHpvb20gPSB0aGlzLnZpZXdlck9wdGlvbnNfLnpvb20oKTtcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uem9vbSh6b29tLnRvZ2dsZUZpdFRvU2NyZWVuKCkpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBpbmNyZWFzZUZvbnRTaXplKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc0luY3JlYXNlRm9udFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBsZXQgZm9udFNpemUgPSBOdW1iZXIodGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpKTtcbiAgICAgIC8vIGZvbnRTaXplICo9IDEuMjU7XG4gICAgICBpZiAoZm9udFNpemUgPCAxMCkge1xuICAgICAgICBmb250U2l6ZSA9IE1hdGguZmxvb3IoZm9udFNpemUpICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoZm9udFNpemUgPCAyMCkge1xuICAgICAgICBmb250U2l6ZSA9IChNYXRoLmZsb29yKGZvbnRTaXplIC8gMikgKyAxKSAqIDI7XG4gICAgICB9IGVsc2UgaWYgKGZvbnRTaXplIDwgNDApIHtcbiAgICAgICAgZm9udFNpemUgPSAoTWF0aC5mbG9vcihmb250U2l6ZSAvIDQpICsgMSkgKiA0O1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA8IDcyKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguZmxvb3IoZm9udFNpemUgLyA4KSArIDEpICogODtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvbnRTaXplID0gNzI7XG4gICAgICB9XG4gICAgICB0aGlzLnZpZXdlck9wdGlvbnNfLmZvbnRTaXplKGZvbnRTaXplKTtcbiAgICAgIHRoaXMudXBkYXRlRm9udFNpemVTZXR0aW5ncygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBkZWNyZWFzZUZvbnRTaXplKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc0RlY3JlYXNlRm9udFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBsZXQgZm9udFNpemUgPSBOdW1iZXIodGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZSgpKTtcbiAgICAgIC8vIGZvbnRTaXplICo9IDAuODtcbiAgICAgIGlmIChmb250U2l6ZSA+IDQwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguY2VpbChmb250U2l6ZSAvIDgpIC0gMSkgKiA4O1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA+IDIwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguY2VpbChmb250U2l6ZSAvIDQpIC0gMSkgKiA0O1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA+IDEwKSB7XG4gICAgICAgIGZvbnRTaXplID0gKE1hdGguY2VpbChmb250U2l6ZSAvIDIpIC0gMSkgKiAyO1xuICAgICAgfSBlbHNlIGlmIChmb250U2l6ZSA+IDUpIHtcbiAgICAgICAgZm9udFNpemUgPSBNYXRoLmNlaWwoZm9udFNpemUpIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvbnRTaXplID0gNTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoZm9udFNpemUpO1xuICAgICAgdGhpcy51cGRhdGVGb250U2l6ZVNldHRpbmdzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGRlZmF1bHRGb250U2l6ZSgpOiBib29sZWFuIHtcbiAgICBpZiAoIXRoaXMuaXNEZWZhdWx0Rm9udFNpemVEaXNhYmxlZCgpKSB7XG4gICAgICBjb25zdCBmb250U2l6ZSA9IFZpZXdlck9wdGlvbnMuZ2V0RGVmYXVsdFZhbHVlcygpLmZvbnRTaXplO1xuICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXy5mb250U2l6ZShmb250U2l6ZSk7XG4gICAgICB0aGlzLnVwZGF0ZUZvbnRTaXplU2V0dGluZ3MoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlRm9udFNpemVTZXR0aW5ncygpOiB2b2lkIHtcbiAgICAvLyBVcGRhdGUgc2V0dGluZyBwYW5lbCBcIkZvbnQgU2l6ZVwiLlxuICAgIHRoaXMuc2V0dGluZ3NQYW5lbF8uc3RhdGUudmlld2VyT3B0aW9ucy5mb250U2l6ZShcbiAgICAgIHRoaXMudmlld2VyT3B0aW9uc18uZm9udFNpemUoKSxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMudmlld2VyXy5kb2N1bWVudE9wdGlvbnNfLnBhZ2VTdHlsZS5iYXNlRm9udFNpemVTcGVjaWZpZWQoKSkge1xuICAgICAgLy8gVXBkYXRlIHVzZXJTdHlsZXNoZWV0IHdoZW4gYmFzZSBmb250LXNpemUgaXMgc3BlY2lmaWVkXG4gICAgICB0aGlzLnZpZXdlcl8uZG9jdW1lbnRPcHRpb25zXy51cGRhdGVVc2VyU3R5bGVTaGVldEZyb21DU1NUZXh0KCk7XG4gICAgICB0aGlzLnZpZXdlcl8ubG9hZERvY3VtZW50KFxuICAgICAgICB0aGlzLnZpZXdlcl8uZG9jdW1lbnRPcHRpb25zXyxcbiAgICAgICAgdGhpcy52aWV3ZXJPcHRpb25zXyxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgb25jbGlja1ZpZXdwb3J0KCk6IGJvb2xlYW4ge1xuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWxfLmp1c3RDbGlja2VkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkgJiYgIXRoaXMudmlld2VyXy50b2NQaW5uZWQoKSkge1xuICAgICAgY29uc3QgdG9jQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hdXCIpO1xuICAgICAgaWYgKHRvY0JveCAmJiAhdG9jQm94LmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgIHRoaXMudG9nZ2xlVE9DKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnNldHRpbmdzUGFuZWxfLm9wZW5lZCgpICYmICF0aGlzLnNldHRpbmdzUGFuZWxfLnBpbm5lZCgpKSB7XG4gICAgICB0aGlzLnNldHRpbmdzUGFuZWxfLmNsb3NlKCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgdG9nZ2xlVE9DKCk6IGJvb2xlYW4ge1xuICAgIGlmICghdGhpcy5pc1RPQ1RvZ2dsZURpc2FibGVkKCkpIHtcbiAgICAgIGxldCBpbnRlcnZhbElEOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IG51bGwgPSBudWxsO1xuXG4gICAgICBpZiAoIXRoaXMudmlld2VyXy50b2NWaXNpYmxlKCkpIHtcbiAgICAgICAgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgICB0aGlzLnZpZXdlcl8uc2hvd1RPQyh0cnVlLCBmYWxzZSk7IC8vIGF1dG9oaWRlPWZhbHNlXG4gICAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKHRydWUsIHRydWUpOyAvLyBhdXRvaGlkZT10cnVlXG4gICAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGVyZSB1c2UgdGltZXIgZm9yIHR3byBwdXJwb3NlczpcbiAgICAgICAgLy8gLSBDaGVjayBkb3VibGUgY2xpY2sgdG8gbWFrZSBUT0MgYm94IHBpbm5lZC5cbiAgICAgICAgLy8gLSBNb3ZlIGZvY3VzIHRvIFRPQyBib3ggd2hlbiBUT0MgYm94IGJlY29tZXMgdmlzaWJsZS5cbiAgICAgICAgaW50ZXJ2YWxJRCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICBjb25zdCB0b2NCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XVwiLFxuICAgICAgICAgICkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgaWYgKHRvY0JveCAmJiB0b2NCb3guc3R5bGUudmlzaWJpbGl0eSA9PT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgICAgIHRvY0JveC50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICB0b2NCb3guZm9jdXMoKTtcblxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElEKTtcbiAgICAgICAgICAgIGludGVydmFsSUQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgLy8gRG91YmxlIGNsaWNrIHRvIGtlZXAgVE9DIGJveCB2aXNpYmxlIGR1cmluZyBUT0MgbmF2aWdhdGlvblxuICAgICAgICB0aGlzLnZpZXdlcl8uc2hvd1RPQyh0cnVlLCBmYWxzZSk7IC8vIGF1dG9oaWRlPWZhbHNlXG4gICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpbnRlcnZhbElEICE9PSBudWxsKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElEKTtcbiAgICAgICAgICBpbnRlcnZhbElEID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZpZXdlcl8uc2hvd1RPQyhmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmp1c3RDbGlja2VkKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKS5mb2N1cygpO1xuICAgICAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgbmF2aWdhdGVUT0Moa2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc2VsZWN0ZXIgPVxuICAgICAgXCJbZGF0YS12aXZsaW9zdHlsZS10b2MtYm94XT4qPio+Kj4qPio6bm90KFtoaWRkZW5dKSBbdGFiaW5kZXg9JzAnXSxcIiArXG4gICAgICBcIltkYXRhLXZpdmxpb3N0eWxlLXRvYy1ib3hdPio+Kj4qPio+Kjpub3QoW2hpZGRlbl0pIGFbaHJlZl06bm90KFt0YWJpbmRleD0nLTEnXSlcIjtcbiAgICBjb25zdCBub2RlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RlcikpO1xuICAgIGxldCBpbmRleCA9IG5vZGVzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICBjb25zdCBpc0J1dHRvbiA9IChpbmRleCk6IGJvb2xlYW4gPT4ge1xuICAgICAgcmV0dXJuIG5vZGVzW2luZGV4XSAmJiBub2Rlc1tpbmRleF0uZ2V0QXR0cmlidXRlKFwicm9sZVwiKSA9PT0gXCJidXR0b25cIjtcbiAgICB9O1xuICAgIGNvbnN0IGlzRXhwYW5kZWQgPSAoaW5kZXgpOiBib29sZWFuID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5vZGVzW2luZGV4XSAmJiBub2Rlc1tpbmRleF0uZ2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiKSA9PT0gXCJ0cnVlXCJcbiAgICAgICk7XG4gICAgfTtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIEtleXMuQXJyb3dMZWZ0OlxuICAgICAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgICBpbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0J1dHRvbihpbmRleCkgJiYgaXNCdXR0b24oaW5kZXggLSAxKSkge1xuICAgICAgICAgIGluZGV4LS07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQnV0dG9uKGluZGV4KSAmJiBpc0V4cGFuZGVkKGluZGV4KSkge1xuICAgICAgICAgIChub2Rlc1tpbmRleF0gYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGlmIChpc0J1dHRvbihpKSAmJiBub2Rlc1tpXS5wYXJlbnRFbGVtZW50LmNvbnRhaW5zKG5vZGVzW2luZGV4XSkpIHtcbiAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuQXJyb3dSaWdodDpcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNCdXR0b24oaW5kZXgpICYmIGlzQnV0dG9uKGluZGV4IC0gMSkpIHtcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0J1dHRvbihpbmRleCkpIHtcbiAgICAgICAgICBpZiAoaXNFeHBhbmRlZChpbmRleCkpIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIChub2Rlc1tpbmRleF0gYXMgSFRNTEVsZW1lbnQpLmNsaWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLkFycm93RG93bjpcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuQXJyb3dVcDpcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XG4gICAgICAgICAgaW5kZXggPSBub2Rlcy5sZW5ndGggLSAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICBpZiAoaXNCdXR0b24oLS1pbmRleCkpIHtcbiAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLkhvbWU6XG4gICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtleXMuRW5kOlxuICAgICAgICBpbmRleCA9IG5vZGVzLmxlbmd0aCAtIDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBLZXlzLlNwYWNlOlxuICAgICAgICBpZiAoIWlzQnV0dG9uKGluZGV4KSAmJiBpc0J1dHRvbihpbmRleCAtIDEpKSB7XG4gICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNCdXR0b24oaW5kZXgpKSB7XG4gICAgICAgICAgKG5vZGVzW2luZGV4XSBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoaXNCdXR0b24oaW5kZXgpKSB7XG4gICAgICBpbmRleCsrO1xuICAgIH1cblxuICAgIGlmIChub2Rlc1tpbmRleF0pIHtcbiAgICAgIChub2Rlc1tpbmRleF0gYXMgSFRNTEVsZW1lbnQpLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYW5kbGVLZXkoa2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXNTZXR0aW5nc0FjdGl2ZSA9XG4gICAgICB0aGlzLnNldHRpbmdzUGFuZWxfLm9wZW5lZCgpICYmXG4gICAgICB0aGlzLnNldHRpbmdzUGFuZWxfLnNldHRpbmdzVG9nZ2xlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuXG4gICAgaWYgKGlzU2V0dGluZ3NBY3RpdmUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHBhZ2VOdW1iZXJFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1wYWdlLW51bWJlclwiKTtcbiAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIsXG4gICAgKTtcbiAgICBjb25zdCBob3Jpem9udGFsU2Nyb2xsYWJsZSA9XG4gICAgICB2aWV3cG9ydEVsZW1lbnQuc2Nyb2xsV2lkdGggPiB2aWV3cG9ydEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gICAgY29uc3QgdmVydGljYWxTY3JvbGxhYmxlID1cbiAgICAgIHZpZXdwb3J0RWxlbWVudC5zY3JvbGxIZWlnaHQgPiB2aWV3cG9ydEVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuICAgIGNvbnN0IGlzUGFnZU51bWJlcklucHV0ID0gcGFnZU51bWJlckVsZW0gPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgY29uc3QgaXNUT0NBY3RpdmUgPVxuICAgICAgdGhpcy52aWV3ZXJfLnRvY1Zpc2libGUoKSAmJlxuICAgICAgIWlzUGFnZU51bWJlcklucHV0ICYmXG4gICAgICB2aWV3cG9ydEVsZW1lbnQgIT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIFwiK1wiOlxuICAgICAgICByZXR1cm4gaXNQYWdlTnVtYmVySW5wdXQgfHwgIXRoaXMuaW5jcmVhc2VGb250U2l6ZSgpO1xuICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgcmV0dXJuIGlzUGFnZU51bWJlcklucHV0IHx8ICF0aGlzLmRlY3JlYXNlRm9udFNpemUoKTtcbiAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgIHJldHVybiBpc1BhZ2VOdW1iZXJJbnB1dCB8fCAhdGhpcy5kZWZhdWx0Rm9udFNpemUoKTtcbiAgICAgIGNhc2UgXCIxXCI6XG4gICAgICAgIHJldHVybiBpc1BhZ2VOdW1iZXJJbnB1dCB8fCAhdGhpcy56b29tVG9BY3R1YWxTaXplKCk7XG4gICAgICBjYXNlIEtleXMuQXJyb3dMZWZ0OlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzUGFnZU51bWJlcklucHV0IHx8IGhvcml6b250YWxTY3JvbGxhYmxlIHx8ICF0aGlzLm5hdmlnYXRlVG9MZWZ0KClcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgS2V5cy5BcnJvd1JpZ2h0OlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzUGFnZU51bWJlcklucHV0IHx8IGhvcml6b250YWxTY3JvbGxhYmxlIHx8ICF0aGlzLm5hdmlnYXRlVG9SaWdodCgpXG4gICAgICAgICk7XG4gICAgICBjYXNlIEtleXMuQXJyb3dEb3duOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIHZlcnRpY2FsU2Nyb2xsYWJsZSB8fCAhdGhpcy5uYXZpZ2F0ZVRvTmV4dCgpO1xuICAgICAgY2FzZSBLZXlzLkFycm93VXA6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gdmVydGljYWxTY3JvbGxhYmxlIHx8ICF0aGlzLm5hdmlnYXRlVG9QcmV2aW91cygpO1xuICAgICAgY2FzZSBLZXlzLlBhZ2VEb3duOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiB0cnVlO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLm5hdmlnYXRlVG9OZXh0KCk7XG4gICAgICBjYXNlIEtleXMuUGFnZVVwOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiB0cnVlO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLm5hdmlnYXRlVG9QcmV2aW91cygpO1xuICAgICAgY2FzZSBLZXlzLkhvbWU6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMubmF2aWdhdGVUb0ZpcnN0KCk7XG4gICAgICBjYXNlIEtleXMuRW5kOlxuICAgICAgICBpZiAoaXNUT0NBY3RpdmUpIHJldHVybiAhdGhpcy5uYXZpZ2F0ZVRPQyhrZXkpO1xuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLm5hdmlnYXRlVG9MYXN0KCk7XG4gICAgICBjYXNlIFwib1wiOlxuICAgICAgY2FzZSBcIk9cIjpcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy56b29tT3V0KCk7XG4gICAgICBjYXNlIFwiaVwiOlxuICAgICAgY2FzZSBcIklcIjpcbiAgICAgICAgdmlld3BvcnRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiAhdGhpcy56b29tSW4oKTtcbiAgICAgIGNhc2UgXCJmXCI6XG4gICAgICBjYXNlIFwiRlwiOlxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRvZ2dsZUZpdFRvU2NyZWVuKCk7XG4gICAgICBjYXNlIFwiZ1wiOlxuICAgICAgY2FzZSBcIkdcIjpcbiAgICAgICAgcGFnZU51bWJlckVsZW0uZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgY2FzZSBcInRcIjpcbiAgICAgIGNhc2UgXCJUXCI6XG4gICAgICAgIHZpZXdwb3J0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gIXRoaXMudG9nZ2xlVE9DKCk7XG4gICAgICBjYXNlIEtleXMuRXNjYXBlOlxuICAgICAgICBpZiAodGhpcy52aWV3ZXJfLnRvY1Zpc2libGUoKSkge1xuICAgICAgICAgIHJldHVybiAhdGhpcy50b2dnbGVUT0MoKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIEtleXMuU3BhY2U6XG4gICAgICAgIGlmIChpc1RPQ0FjdGl2ZSkgcmV0dXJuICF0aGlzLm5hdmlnYXRlVE9DKGtleSk7XG4gICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZShcInJvbGVcIikgPT09IFwiYnV0dG9uXCIpIHtcbiAgICAgICAgICAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF2aWdhdGlvbjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgMjAxNSBUcmltLW1hcmtzIEluYy5cbiAqIENvcHlyaWdodCAyMDE5IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbywgeyBPYnNlcnZhYmxlLCBQdXJlQ29tcHV0ZWQgfSBmcm9tIFwia25vY2tvdXRcIjtcblxuaW1wb3J0IFZpZXdlciBmcm9tIFwiLi92aWV3ZXJcIjtcbmltcG9ydCBQYWdlU3R5bGUgZnJvbSBcIi4uL21vZGVscy9wYWdlLXN0eWxlXCI7XG5pbXBvcnQgUGFnZVZpZXdNb2RlIGZyb20gXCIuLi9tb2RlbHMvcGFnZS12aWV3LW1vZGVcIjtcbmltcG9ydCBWaWV3ZXJPcHRpb25zIGZyb20gXCIuLi9tb2RlbHMvdmlld2VyLW9wdGlvbnNcIjtcbmltcG9ydCBEb2N1bWVudE9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy9kb2N1bWVudC1vcHRpb25zXCI7XG5pbXBvcnQga2V5VXRpbCBmcm9tIFwiLi4vdXRpbHMva2V5LXV0aWxcIjtcblxudHlwZSBTdGF0ZSA9IHtcbiAgdmlld2VyT3B0aW9uczogVmlld2VyT3B0aW9ucztcbiAgcGFnZVN0eWxlOiBQYWdlU3R5bGU7XG4gIHBhZ2VWaWV3TW9kZTogUHVyZUNvbXB1dGVkPHN0cmluZz47XG4gIGJvb2tNb2RlOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICByZW5kZXJBbGxQYWdlczogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xufTtcblxuY29uc3QgeyBLZXlzIH0gPSBrZXlVdGlsO1xuXG5jbGFzcyBTZXR0aW5nc1BhbmVsIHtcbiAgcHJpdmF0ZSB2aWV3ZXJPcHRpb25zXzogVmlld2VyT3B0aW9ucztcbiAgcHJpdmF0ZSBkb2N1bWVudE9wdGlvbnNfOiBEb2N1bWVudE9wdGlvbnM7XG4gIHByaXZhdGUgdmlld2VyXzogVmlld2VyO1xuXG4gIGlzUGFnZVN0eWxlQ2hhbmdlRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGlzT3ZlcnJpZGVEb2N1bWVudFN0eWxlU2hlZXREaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNQYWdlVmlld01vZGVDaGFuZ2VEaXNhYmxlZDogYm9vbGVhbjtcbiAgaXNCb29rTW9kZUNoYW5nZURpc2FibGVkOiBib29sZWFuO1xuICBpc1JlbmRlckFsbFBhZ2VzQ2hhbmdlRGlzYWJsZWQ6IGJvb2xlYW47XG4gIGp1c3RDbGlja2VkOiBib29sZWFuOyAvLyBkb3VibGUgY2xpY2sgY2hlY2tcbiAgc2V0dGluZ3NUb2dnbGU6IEhUTUxFbGVtZW50O1xuICBzdGF0ZTogU3RhdGU7XG4gIG9wZW5lZDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgcGlubmVkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuICBkZWZhdWx0UGFnZVN0eWxlOiBQYWdlU3R5bGU7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgdmlld2VyT3B0aW9uczogVmlld2VyT3B0aW9ucyxcbiAgICBkb2N1bWVudE9wdGlvbnM6IERvY3VtZW50T3B0aW9ucyxcbiAgICB2aWV3ZXI6IFZpZXdlcixcbiAgICBtZXNzYWdlRGlhbG9nLFxuICAgIHNldHRpbmdzUGFuZWxPcHRpb25zLFxuICApIHtcbiAgICB0aGlzLnZpZXdlck9wdGlvbnNfID0gdmlld2VyT3B0aW9ucztcbiAgICB0aGlzLmRvY3VtZW50T3B0aW9uc18gPSBkb2N1bWVudE9wdGlvbnM7XG4gICAgdGhpcy52aWV3ZXJfID0gdmlld2VyO1xuXG4gICAgdGhpcy5pc1BhZ2VTdHlsZUNoYW5nZURpc2FibGVkID0gISFzZXR0aW5nc1BhbmVsT3B0aW9ucy5kaXNhYmxlUGFnZVN0eWxlQ2hhbmdlO1xuICAgIHRoaXMuaXNPdmVycmlkZURvY3VtZW50U3R5bGVTaGVldERpc2FibGVkID0gdGhpcy5pc1BhZ2VTdHlsZUNoYW5nZURpc2FibGVkO1xuICAgIHRoaXMuaXNQYWdlVmlld01vZGVDaGFuZ2VEaXNhYmxlZCA9ICEhc2V0dGluZ3NQYW5lbE9wdGlvbnMuZGlzYWJsZVBhZ2VWaWV3TW9kZUNoYW5nZTtcbiAgICB0aGlzLmlzQm9va01vZGVDaGFuZ2VEaXNhYmxlZCA9ICEhc2V0dGluZ3NQYW5lbE9wdGlvbnMuZGlzYWJsZUJvb2tNb2RlQ2hhbmdlO1xuICAgIHRoaXMuaXNSZW5kZXJBbGxQYWdlc0NoYW5nZURpc2FibGVkID0gISFzZXR0aW5nc1BhbmVsT3B0aW9ucy5kaXNhYmxlUmVuZGVyQWxsUGFnZXNDaGFuZ2U7XG5cbiAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgdGhpcy5zZXR0aW5nc1RvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgXCJ2aXZsaW9zdHlsZS1tZW51LWl0ZW1fc2V0dGluZ3MtdG9nZ2xlXCIsXG4gICAgKTtcblxuICAgIHRoaXMub3BlbmVkID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XG4gICAgdGhpcy5waW5uZWQgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2aWV3ZXJPcHRpb25zOiBuZXcgVmlld2VyT3B0aW9ucyh2aWV3ZXJPcHRpb25zKSxcbiAgICAgIHBhZ2VTdHlsZTogbmV3IFBhZ2VTdHlsZShkb2N1bWVudE9wdGlvbnMucGFnZVN0eWxlKSxcbiAgICAgIHBhZ2VWaWV3TW9kZToga28ucHVyZUNvbXB1dGVkKHtcbiAgICAgICAgcmVhZDogKCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMucGFnZVZpZXdNb2RlKCkudG9TdHJpbmcoKTtcbiAgICAgICAgfSxcbiAgICAgICAgd3JpdGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5wYWdlVmlld01vZGUoUGFnZVZpZXdNb2RlLm9mKHZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIGJvb2tNb2RlOiBrby5vYnNlcnZhYmxlKGRvY3VtZW50T3B0aW9ucy5ib29rTW9kZSgpKSxcbiAgICAgIHJlbmRlckFsbFBhZ2VzOiBrby5wdXJlQ29tcHV0ZWQoe1xuICAgICAgICByZWFkOiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5yZW5kZXJBbGxQYWdlcygpO1xuICAgICAgICB9LFxuICAgICAgICB3cml0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS52aWV3ZXJPcHRpb25zLnJlbmRlckFsbFBhZ2VzKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgIH07XG5cbiAgICB0aGlzLnN0YXRlLnBhZ2VTdHlsZS5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUoXG4gICAgICB0aGlzLnN0YXRlLnZpZXdlck9wdGlvbnMuZm9udFNpemUsXG4gICAgKTtcblxuICAgIHRoaXMuZGVmYXVsdFBhZ2VTdHlsZSA9IG5ldyBQYWdlU3R5bGUoKTtcblxuICAgIFtcImNsb3NlXCIsIFwidG9nZ2xlXCIsIFwiYXBwbHlcIiwgXCJjYW5jZWxcIiwgXCJyZXNldFVzZXJTdHlsZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKFxuICAgICAgbWV0aG9kTmFtZSxcbiAgICApIHtcbiAgICAgIHRoaXNbbWV0aG9kTmFtZV0gPSB0aGlzW21ldGhvZE5hbWVdLmJpbmQodGhpcyk7XG4gICAgfSxcbiAgICB0aGlzKTtcblxuICAgIG1lc3NhZ2VEaWFsb2cudmlzaWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24odmlzaWJsZSkge1xuICAgICAgaWYgKHZpc2libGUpIHRoaXMuY2xvc2UoKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuc3RhdGUuYm9va01vZGUuc3Vic2NyaWJlKChib29rTW9kZSkgPT4ge1xuICAgICAgZG9jdW1lbnRPcHRpb25zLmJvb2tNb2RlKGJvb2tNb2RlKTtcbiAgICB9KTtcbiAgICB0aGlzLnN0YXRlLnJlbmRlckFsbFBhZ2VzLnN1YnNjcmliZSgocmVuZGVyQWxsUGFnZXMpID0+IHtcbiAgICAgIHZpZXdlck9wdGlvbnMucmVuZGVyQWxsUGFnZXMocmVuZGVyQWxsUGFnZXMpO1xuICAgIH0pO1xuICB9XG5cbiAgY2xvc2UoKTogYm9vbGVhbiB7XG4gICAgdGhpcy5vcGVuZWQoZmFsc2UpO1xuICAgIHRoaXMucGlubmVkKGZhbHNlKTtcbiAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgIFwidml2bGlvc3R5bGUtdmlld2VyLXZpZXdwb3J0XCIsXG4gICAgKTtcbiAgICBpZiAodmlld3BvcnRFbGVtZW50KSB2aWV3cG9ydEVsZW1lbnQuZm9jdXMoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHRvZ2dsZSgpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMub3BlbmVkKCkpIHtcbiAgICAgIGlmICghdGhpcy52aWV3ZXJfLnRvY1Bpbm5lZCgpKSB7XG4gICAgICAgIHRoaXMudmlld2VyXy5zaG93VE9DKGZhbHNlKTsgLy8gSGlkZSBUT0MgYm94XG4gICAgICB9XG4gICAgICB0aGlzLm9wZW5lZCh0cnVlKTtcblxuICAgICAgaWYgKHRoaXMuanVzdENsaWNrZWQpIHtcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBpbm5lZCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGlubmVkKGZhbHNlKTtcbiAgICAgICAgdGhpcy5qdXN0Q2xpY2tlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmp1c3RDbGlja2VkID0gZmFsc2U7XG4gICAgICAgIH0sIDMwMCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmp1c3RDbGlja2VkKSB7XG4gICAgICAvLyBEb3VibGUgY2xpY2sgdG8ga2VlcCBTZXR0aW5ncyBwYW5lbCBvcGVuIHdoZW4gQXBwbHkgaXMgY2xpY2tlZC5cbiAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIHRoaXMucGlubmVkKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgIHRoaXMuanVzdENsaWNrZWQgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuanVzdENsaWNrZWQgPSBmYWxzZTtcbiAgICAgIH0sIDMwMCk7XG4gICAgfVxuICB9XG5cbiAgYXBwbHkoKTogdm9pZCB7XG4gICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfLnBhZ2VTdHlsZS5jb3B5RnJvbSh0aGlzLnN0YXRlLnBhZ2VTdHlsZSk7XG4gICAgaWYgKHRoaXMuZG9jdW1lbnRPcHRpb25zXy5wYWdlU3R5bGUuYmFzZUZvbnRTaXplU3BlY2lmaWVkKCkpIHtcbiAgICAgIC8vIFVwZGF0ZSB1c2VyU3R5bGVzaGVldCB3aGVuIGJhc2UgZm9udC1zaXplIGlzIHNwZWNpZmllZFxuICAgICAgdGhpcy5kb2N1bWVudE9wdGlvbnNfLnVwZGF0ZVVzZXJTdHlsZVNoZWV0RnJvbUNTU1RleHQoKTtcbiAgICB9XG4gICAgdGhpcy52aWV3ZXJfLmxvYWREb2N1bWVudCh0aGlzLmRvY3VtZW50T3B0aW9uc18sIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucyk7XG4gICAgaWYgKHRoaXMucGlubmVkKCkpIHtcbiAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgY2FuY2VsKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5jb3B5RnJvbSh0aGlzLnZpZXdlck9wdGlvbnNfKTtcbiAgICB0aGlzLnN0YXRlLnBhZ2VTdHlsZS5jb3B5RnJvbSh0aGlzLmRvY3VtZW50T3B0aW9uc18ucGFnZVN0eWxlKTtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICByZXNldFVzZXJTdHlsZSgpOiBib29sZWFuIHtcbiAgICB0aGlzLnN0YXRlLnBhZ2VTdHlsZS5jb3B5RnJvbSh0aGlzLmRlZmF1bHRQYWdlU3R5bGUpO1xuICAgIHRoaXMuc3RhdGUudmlld2VyT3B0aW9ucy5mb250U2l6ZShcbiAgICAgIFZpZXdlck9wdGlvbnMuZ2V0RGVmYXVsdFZhbHVlcygpLmZvbnRTaXplLFxuICAgICk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXG4gICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcmVzZXQtdXNlci1zdHlsZVwiLFxuICAgICAgKVswXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgZWxlbS5jaGVja2VkID0gZmFsc2U7XG4gICAgfSwgMjAwKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZvY3VzVG9GaXJzdEl0ZW0ob3V0ZXJFbGVtUGFyYW0/OiBFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3Qgb3V0ZXJFbGVtID0gb3V0ZXJFbGVtUGFyYW0gfHwgdGhpcy5zZXR0aW5nc1RvZ2dsZTtcbiAgICBjb25zdCBpbnB1dEVsZW0gPSBbXCJpbnB1dFwiLCBcInRleHRhcmVhXCIsIFwic3VtbWFyeVwiXS5pbmNsdWRlcyhcbiAgICAgIG91dGVyRWxlbS5sb2NhbE5hbWUsXG4gICAgKVxuICAgICAgPyBvdXRlckVsZW1cbiAgICAgIDogQXJyYXkuZnJvbShvdXRlckVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSkuZmluZChcbiAgICAgICAgICAoZTogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICFlLmRpc2FibGVkICYmIChlLnR5cGUgIT0gXCJyYWRpb1wiIHx8IGUuY2hlY2tlZCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICBpZiAoaW5wdXRFbGVtKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBsZXQgZSA9IGlucHV0RWxlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgICBlICYmIGUgIT0gdGhpcy5zZXR0aW5nc1RvZ2dsZTtcbiAgICAgICAgZSA9IGUucGFyZW50RWxlbWVudFxuICAgICAgKSB7XG4gICAgICAgIGlmIChlLmxvY2FsTmFtZSA9PSBcImRldGFpbHNcIikge1xuICAgICAgICAgIC8vIEZJWE1FOiBSZW1vdmUgdHMtaWdub3JlIGNvbW1lbnRcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1pZ25vcmVcbiAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlucHV0RWxlbSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgSFRNTFRleHRBcmVhRWxlbWVudCkuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVLZXkoa2V5KTogYm9vbGVhbiB7XG4gICAgY29uc3QgaXNTZXR0aW5nc0FjdGl2ZSA9XG4gICAgICB0aGlzLm9wZW5lZCgpICYmIHRoaXMuc2V0dGluZ3NUb2dnbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgY29uc3QgaXNJbklucHV0ID1cbiAgICAgIGlzU2V0dGluZ3NBY3RpdmUgJiZcbiAgICAgICgoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS50eXBlID09IFwidGV4dFwiIHx8XG4gICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubG9jYWxOYW1lID09IFwic2VsZWN0XCIpO1xuICAgIGNvbnN0IGlzSW5UZXh0QXJlYSA9XG4gICAgICBpc1NldHRpbmdzQWN0aXZlICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQubG9jYWxOYW1lID09IFwidGV4dGFyZWFcIjtcbiAgICBjb25zdCBpc0hvdEtleUVuYWJsZWQgPSBpc1NldHRpbmdzQWN0aXZlICYmICFpc0luSW5wdXQgJiYgIWlzSW5UZXh0QXJlYTtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIEtleXMuRXNjYXBlOlxuICAgICAgICBpZiAodGhpcy5vcGVuZWQoKSkge1xuICAgICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInNcIjpcbiAgICAgIGNhc2UgXCJTXCI6XG4gICAgICAgIGlmICghdGhpcy5vcGVuZWQoKSB8fCBpc0hvdEtleUVuYWJsZWQgfHwgIWlzU2V0dGluZ3NBY3RpdmUpIHtcbiAgICAgICAgICB0aGlzLnRvZ2dsZSgpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJwXCI6XG4gICAgICBjYXNlIFwiUFwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcGFnZS12aWV3LWFuZC1yZW5kZXJpbmdcIixcbiAgICAgICAgICAgICkuZmlyc3RFbGVtZW50Q2hpbGQsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwidlwiOlxuICAgICAgY2FzZSBcIlZcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfcGFnZS12aWV3LW1vZGVcIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiYlwiOlxuICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfYm9vay1tb2RlXCIpWzBdLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcImFcIjpcbiAgICAgIGNhc2UgXCJBXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShcbiAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19yZW5kZXItYWxsLXBhZ2VzXCIsXG4gICAgICAgICAgICApWzBdLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInVcIjpcbiAgICAgIGNhc2UgXCJVXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX3VzZXItc3R5bGVcIilcbiAgICAgICAgICAgICAgLmZpcnN0RWxlbWVudENoaWxkLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSBcInpcIjpcbiAgICAgIGNhc2UgXCJaXCI6XG4gICAgICAgIGlmIChpc0hvdEtleUVuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmZvY3VzVG9GaXJzdEl0ZW0oXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXNldHRpbmdzX3BhZ2Utc2l6ZVwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJtXCI6XG4gICAgICBjYXNlIFwiTVwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLW1hcmdpblwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJrXCI6XG4gICAgICBjYXNlIFwiS1wiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19wYWdlLWJyZWFrc1wiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJpXCI6XG4gICAgICBjYXNlIFwiSVwiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1zZXR0aW5nc19pbWFnZXNcIiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwidFwiOlxuICAgICAgY2FzZSBcIlRcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfdGV4dFwiKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgXCJvXCI6XG4gICAgICBjYXNlIFwiT1wiOlxuICAgICAgICBpZiAoaXNIb3RLZXlFbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5mb2N1c1RvRmlyc3RJdGVtKFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoXG4gICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtc2V0dGluZ3Nfb3ZlcnJpZGUtZG9jdW1lbnQtc3R5bGVzaGVldHNcIixcbiAgICAgICAgICAgIClbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiY1wiOlxuICAgICAgY2FzZSBcIkNcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFwidml2bGlvc3R5bGUtc2V0dGluZ3NfY3NzLWRldGFpbHNcIilbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIFwiclwiOlxuICAgICAgY2FzZSBcIlJcIjpcbiAgICAgICAgaWYgKGlzSG90S2V5RW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuZm9jdXNUb0ZpcnN0SXRlbShcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKFxuICAgICAgICAgICAgICBcInZpdmxpb3N0eWxlLXNldHRpbmdzX3Jlc2V0LXVzZXItc3R5bGVcIixcbiAgICAgICAgICAgIClbMF0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlIEtleXMuRW50ZXI6XG4gICAgICAgIGlmIChcbiAgICAgICAgICBpc0luSW5wdXQgfHxcbiAgICAgICAgICAoaXNIb3RLZXlFbmFibGVkICYmXG4gICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmlkICE9PSBcInZpdmxpb3N0eWxlLW1lbnUtYnV0dG9uX2FwcGx5XCIgJiZcbiAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgIT09IFwidml2bGlvc3R5bGUtbWVudS1idXR0b25fcmVzZXRcIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aXZsaW9zdHlsZS1tZW51LWJ1dHRvbl9hcHBseVwiKS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZXR0aW5nc1BhbmVsO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvLCB7IFB1cmVDb21wdXRlZCB9IGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgeyBNZXNzYWdlUXVldWUgfSBmcm9tIFwiLi4vbW9kZWxzL21lc3NhZ2UtcXVldWVcIjtcblxudHlwZSBFcnJvckluZm8gPSB7XG4gIGVycm9yOiB7XG4gICAgZnJhbWVUcmFjZTogc3RyaW5nO1xuICAgIHN0YWNrOiBzdHJpbmc7XG4gIH07XG4gIG1lc3NhZ2VzOiBBcnJheTxzdHJpbmc+O1xufTtcblxuY2xhc3MgTWVzc2FnZURpYWxvZyB7XG4gIGxpc3Q6IE1lc3NhZ2VRdWV1ZTtcbiAgdmlzaWJsZTogUHVyZUNvbXB1dGVkPGJvb2xlYW4+O1xuXG4gIGNvbnN0cnVjdG9yKHF1ZXVlOiBNZXNzYWdlUXVldWUpIHtcbiAgICB0aGlzLmxpc3QgPSBxdWV1ZTtcbiAgICB0aGlzLnZpc2libGUgPSBrby5wdXJlQ29tcHV0ZWQoKCkgPT4gcXVldWUoKS5sZW5ndGggPiAwKTtcbiAgfVxuXG4gIGdldERpc3BsYXlNZXNzYWdlKGVycm9ySW5mbzogRXJyb3JJbmZvKTogc3RyaW5nIHtcbiAgICBjb25zdCBlID0gZXJyb3JJbmZvLmVycm9yO1xuICAgIGxldCBtc2cgPSBlICYmIChlLnRvU3RyaW5nKCkgfHwgZS5mcmFtZVRyYWNlIHx8IGUuc3RhY2spO1xuICAgIGlmIChtc2cpIHtcbiAgICAgIG1zZyA9IG1zZy5zcGxpdChcIlxcblwiLCAxKVswXTtcbiAgICB9XG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIG1zZyA9IGVycm9ySW5mby5tZXNzYWdlcy5qb2luKFwiXFxuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbXNnO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE1lc3NhZ2VEaWFsb2c7XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKiBDb3B5cmlnaHQgMjAxOSBWaXZsaW9zdHlsZSBGb3VuZGF0aW9uXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgVml2bGlvc3R5bGUgZnJvbSBcIi4uL3Zpdmxpb3N0eWxlXCI7XG5cbmltcG9ydCBEb2N1bWVudE9wdGlvbnMgZnJvbSBcIi4uL21vZGVscy9kb2N1bWVudC1vcHRpb25zXCI7XG5pbXBvcnQgVmlld2VyT3B0aW9ucyBmcm9tIFwiLi4vbW9kZWxzL3ZpZXdlci1vcHRpb25zXCI7XG5pbXBvcnQgbWVzc2FnZVF1ZXVlIGZyb20gXCIuLi9tb2RlbHMvbWVzc2FnZS1xdWV1ZVwiO1xuaW1wb3J0IFZpZXdlclVJIGZyb20gXCIuL3ZpZXdlclwiO1xuaW1wb3J0IE5hdmlnYXRpb24gZnJvbSBcIi4vbmF2aWdhdGlvblwiO1xuaW1wb3J0IFNldHRpbmdzUGFuZWwgZnJvbSBcIi4vc2V0dGluZ3MtcGFuZWxcIjtcbmltcG9ydCBNZXNzYWdlRGlhbG9nIGZyb20gXCIuL21lc3NhZ2UtZGlhbG9nXCI7XG5pbXBvcnQgdXJsUGFyYW1ldGVycyBmcm9tIFwiLi4vc3RvcmVzL3VybC1wYXJhbWV0ZXJzXCI7XG5pbXBvcnQga2V5VXRpbCBmcm9tIFwiLi4vdXRpbHMva2V5LXV0aWxcIjtcbmltcG9ydCBzdHJpbmdVdGlsIGZyb20gXCIuLi91dGlscy9zdHJpbmctdXRpbFwiO1xuXG5mdW5jdGlvbiBWaWV3ZXJBcHAoKTogdm9pZCB7XG4gIHRoaXMuZG9jdW1lbnRPcHRpb25zID0gbmV3IERvY3VtZW50T3B0aW9ucygpO1xuICB0aGlzLnZpZXdlck9wdGlvbnMgPSBuZXcgVmlld2VyT3B0aW9ucygpO1xuXG4gIHRoaXMuZG9jdW1lbnRPcHRpb25zLnBhZ2VTdHlsZS5zZXRWaWV3ZXJGb250U2l6ZU9ic2VydmFibGUoXG4gICAgdGhpcy52aWV3ZXJPcHRpb25zLmZvbnRTaXplLFxuICApO1xuXG4gIGlmICh0aGlzLnZpZXdlck9wdGlvbnMucHJvZmlsZSgpKSB7XG4gICAgVml2bGlvc3R5bGUucHJvZmlsZXIuZW5hYmxlKCk7XG4gIH1cbiAgdGhpcy5pc0RlYnVnID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJkZWJ1Z1wiKVswXSA9PT0gXCJ0cnVlXCI7XG4gIHRoaXMudmlld2VyU2V0dGluZ3MgPSB7XG4gICAgdXNlckFnZW50Um9vdFVSTDogYCR7dXJsUGFyYW1ldGVycy5nZXRCYXNlVVJMKCl9cmVzb3VyY2VzL2AsXG4gICAgdmlld3BvcnRFbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiKSxcbiAgICBkZWJ1ZzogdGhpcy5pc0RlYnVnLFxuICB9O1xuXG4gIC8vIFJlcGxhY2UgZGVwcmVjYXRlZCBcImJcIiBhbmQgXCJ4XCIgdG8gXCJzcmNcIiAmIFwiYm9va01vZGVcIlxuICBjb25zdCBzcmNVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJzcmNcIik7XG4gIGNvbnN0IGJVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJiXCIpOyAvLyAoZGVwcmVjYXRlZCkgPT4gc3JjICYgYm9va01vZGU9dHJ1ZSAmIHJlbmRlckFsbFBhZ2VzPWZhbHNlXG4gIGNvbnN0IHhVcmxzID0gdXJsUGFyYW1ldGVycy5nZXRQYXJhbWV0ZXIoXCJ4XCIpOyAvLyAoZGVwcmVjYXRlZCkgPT4gc3JjXG4gIGlmICghc3JjVXJscy5sZW5ndGgpIHtcbiAgICBpZiAoYlVybHMubGVuZ3RoKSB7XG4gICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcInNyY1wiLCBiVXJsc1swXSk7XG4gICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcImJvb2tNb2RlXCIsIFwidHJ1ZVwiKTtcbiAgICAgIGlmICghdXJsUGFyYW1ldGVycy5oYXNQYXJhbWV0ZXIoXCJyZW5kZXJBbGxQYWdlc1wiKSkge1xuICAgICAgICB1cmxQYXJhbWV0ZXJzLnNldFBhcmFtZXRlcihcInJlbmRlckFsbFBhZ2VzXCIsIFwiZmFsc2VcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh4VXJscy5sZW5ndGgpIHtcbiAgICAgIHhVcmxzLmZvckVhY2goKHgsIGkpID0+IHtcbiAgICAgICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXCJzcmNcIiwgeCwgaSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLy8gUmVtb3ZlIHJlZHVuZGFudCBvciBpbmVmZmVjdGl2ZSBVUkwgcGFyYW1ldGVyc1xuICB1cmxQYXJhbWV0ZXJzLnJlbW92ZVBhcmFtZXRlcihcImJcIik7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwieFwiKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJmXCIsIHRydWUpOyAvLyBvbmx5IGZpcnN0IG9uZSBpcyBlZmZlY3RpdmVcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJzcHJlYWRcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiYm9va01vZGVcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwicmVuZGVyQWxsUGFnZXNcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwiZm9udFNpemVcIiwgdHJ1ZSk7XG4gIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwicHJvZmlsZVwiLCB0cnVlKTtcbiAgdXJsUGFyYW1ldGVycy5yZW1vdmVQYXJhbWV0ZXIoXCJkZWJ1Z1wiLCB0cnVlKTtcblxuICB0aGlzLnZpZXdlciA9IG5ldyBWaWV3ZXJVSSh0aGlzLnZpZXdlclNldHRpbmdzLCB0aGlzLnZpZXdlck9wdGlvbnMpO1xuXG4gIHRoaXMudmlld2VyLmlucHV0VXJsLnN1YnNjcmliZSgoaW5wdXRVcmw6IHN0cmluZykgPT4ge1xuICAgIGlmIChpbnB1dFVybCAhPSBcIlwiKSB7XG4gICAgICBpZiAoIXVybFBhcmFtZXRlcnMuaGFzUGFyYW1ldGVyKFwic3JjXCIpKSB7XG4gICAgICAgIC8vIFB1c2ggY3VycmVudCBVUkwgdG8gYnJvd3NlciBoaXN0b3J5IHRvIGVuYWJsZSB0byBnbyBiYWNrIGhlcmUgd2hlbiBicm93c2VyIEJhY2sgYnV0dG9uIGlzIGNsaWNrZWQuXG4gICAgICAgIGlmICh1cmxQYXJhbWV0ZXJzLmhpc3RvcnkucHVzaFN0YXRlKVxuICAgICAgICAgIHVybFBhcmFtZXRlcnMuaGlzdG9yeS5wdXNoU3RhdGUobnVsbCwgXCJcIik7XG4gICAgICB9XG4gICAgICBpZiAoaW5wdXRVcmwuc3RhcnRzV2l0aChcIjxcIikpIHtcbiAgICAgICAgLy8gc2VlbXMgc3RhcnQgdGFnLCBzbyBjb252ZXJ0IHRvIGRhdGEgdXJsXG4gICAgICAgIGlucHV0VXJsID0gXCJkYXRhOixcIiArIHN0cmluZ1V0aWwucGVyY2VudEVuY29kZUZvckRhdGFVUkkoaW5wdXRVcmwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXRVcmwgPSBzdHJpbmdVdGlsLnBlcmNlbnRFbmNvZGVBbXBlcnNhbmRBbmRVbmVuY29kZWRQZXJjZW50KFxuICAgICAgICAgIGlucHV0VXJsLFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdXJsUGFyYW1ldGVycy5zZXRQYXJhbWV0ZXIoXCJzcmNcIiwgaW5wdXRVcmwpO1xuICAgICAgdGhpcy5kb2N1bWVudE9wdGlvbnMuc3JjVXJscyh1cmxQYXJhbWV0ZXJzLmdldFBhcmFtZXRlcihcInNyY1wiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybFBhcmFtZXRlcnMucmVtb3ZlUGFyYW1ldGVyKFwic3JjXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5tZXNzYWdlRGlhbG9nID0gbmV3IE1lc3NhZ2VEaWFsb2cobWVzc2FnZVF1ZXVlKTtcblxuICBjb25zdCBzZXR0aW5nc1BhbmVsT3B0aW9ucyA9IHtcbiAgICBkaXNhYmxlUGFnZVN0eWxlQ2hhbmdlOiBmYWxzZSxcbiAgICBkaXNhYmxlUGFnZVZpZXdNb2RlQ2hhbmdlOiBmYWxzZSxcbiAgICBkaXNhYmxlQm9va01vZGVDaGFuZ2U6IGZhbHNlLFxuICAgIGRpc2FibGVSZW5kZXJBbGxQYWdlc0NoYW5nZTogZmFsc2UsXG4gIH07XG5cbiAgdGhpcy5zZXR0aW5nc1BhbmVsID0gbmV3IFNldHRpbmdzUGFuZWwoXG4gICAgdGhpcy52aWV3ZXJPcHRpb25zLFxuICAgIHRoaXMuZG9jdW1lbnRPcHRpb25zLFxuICAgIHRoaXMudmlld2VyLFxuICAgIHRoaXMubWVzc2FnZURpYWxvZyxcbiAgICBzZXR0aW5nc1BhbmVsT3B0aW9ucyxcbiAgKTtcblxuICBjb25zdCBuYXZpZ2F0aW9uT3B0aW9ucyA9IHtcbiAgICBkaXNhYmxlVE9DTmF2aWdhdGlvbjogZmFsc2UsXG4gICAgZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICBkaXNhYmxlWm9vbTogZmFsc2UsXG4gICAgZGlzYWJsZUZvbnRTaXplQ2hhbmdlOiBmYWxzZSxcbiAgfTtcblxuICB0aGlzLm5hdmlnYXRpb24gPSBuZXcgTmF2aWdhdGlvbihcbiAgICB0aGlzLnZpZXdlck9wdGlvbnMsXG4gICAgdGhpcy52aWV3ZXIsXG4gICAgdGhpcy5zZXR0aW5nc1BhbmVsLFxuICAgIG5hdmlnYXRpb25PcHRpb25zLFxuICApO1xuXG4gIHRoaXMuaGFuZGxlS2V5ID0gKGRhdGEsIGV2ZW50KTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3Qga2V5ID0ga2V5VXRpbC5pZGVudGlmeUtleUZyb21FdmVudChldmVudCk7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQgPT09IFwidml2bGlvc3R5bGUtaW5wdXQtdXJsXCIpIHtcbiAgICAgIGlmIChrZXkgPT09IFwiRW50ZXJcIiAmJiBldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgICB0aGlzLnZpZXdlci5sb2FkRG9jdW1lbnQodGhpcy5kb2N1bWVudE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgKCEoa2V5ID09PSBcIkhvbWVcIiB8fCBrZXkgPT09IFwiRW5kXCIpICYmXG4gICAgICAgIChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpKSB8fFxuICAgICAgZXZlbnQuYWx0S2V5IHx8XG4gICAgICBldmVudC5zaGlmdEtleVxuICAgICkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCByZXQgPSB0aGlzLnNldHRpbmdzUGFuZWwuaGFuZGxlS2V5KGtleSk7XG4gICAgaWYgKHJldCkge1xuICAgICAgcmV0ID0gdGhpcy5uYXZpZ2F0aW9uLmhhbmRsZUtleShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIHRoaXMudmlld2VyLmxvYWREb2N1bWVudCh0aGlzLmRvY3VtZW50T3B0aW9ucyk7XG5cbiAgd2luZG93Lm9uaGFzaGNoYW5nZSA9ICgpOiB2b2lkID0+IHtcbiAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYgIT0gdXJsUGFyYW1ldGVycy5zdG9yZWRVcmwpIHtcbiAgICAgIC8vIFJlbG9hZCB3aGVuIGFkZHJlc3MgYmFyIGNoYW5nZSBpcyBkZXRlY3RlZFxuICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlld2VyQXBwO1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICogQ29weXJpZ2h0IDIwMTkgVml2bGlvc3R5bGUgRm91bmRhdGlvblxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvIGZyb20gXCJrbm9ja291dFwiO1xuXG5jb25zdCBzdXBwb3J0VG91Y2hFdmVudHMgPSBcIm9udG91Y2hzdGFydFwiIGluIHdpbmRvdztcblxua28uYmluZGluZ0hhbmRsZXJzLm1lbnVCdXR0b24gPSB7XG4gIGluaXQoZWxlbWVudCwgdmFsdWVBY2Nlc3Nvcik6IHZvaWQge1xuICAgIGlmIChrby51bndyYXAodmFsdWVBY2Nlc3NvcigpKSkge1xuICAgICAgaWYgKHN1cHBvcnRUb3VjaEV2ZW50cykge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJob3ZlciBhY3RpdmVcIiwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAoKSA9PiB7XG4gICAgICAgICAga28udXRpbHMudG9nZ2xlRG9tTm9kZUNzc0NsYXNzKGVsZW1lbnQsIFwiaG92ZXIgYWN0aXZlXCIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImhvdmVyXCIsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJhY3RpdmVcIiwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsICgpID0+IHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwgKCkgPT4ge1xuICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhlbGVtZW50LCBcImhvdmVyXCIsIGZhbHNlKTtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoZWxlbWVudCwgXCJhY3RpdmVcIiwgZmFsc2UpO1xuICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsgLy8gcHJldmVudCB1bndhbnRlZCB0ZXh0IHNlbGVjdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE4IFZpdmxpb3N0eWxlIEZvdW5kYXRpb25cbiAqXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBWaXZsaW9zdHlsZSBVSS5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBmcmVlIHNvZnR3YXJlOiB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IgbW9kaWZ5XG4gKiBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnlcbiAqIHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRpb24sIGVpdGhlciB2ZXJzaW9uIDMgb2YgdGhlIExpY2Vuc2UsIG9yXG4gKiAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGRpc3RyaWJ1dGVkIGluIHRoZSBob3BlIHRoYXQgaXQgd2lsbCBiZSB1c2VmdWwsXG4gKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZlxuICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAgU2VlIHRoZVxuICogR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlXG4gKiBhbG9uZyB3aXRoIFZpdmxpb3N0eWxlIFVJLiAgSWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LlxuICovXG5cbmltcG9ydCBrbyBmcm9tIFwia25vY2tvdXRcIjtcblxuY29uc3Qgc3VwcG9ydFRvdWNoRXZlbnRzID0gXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3c7XG5cbmxldCB4U3RhcnQgPSBudWxsO1xubGV0IHlTdGFydCA9IG51bGw7XG5sZXQgYXJyb3dCdXR0b24gPSBudWxsO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIHZpc3VhbFZpZXdwb3J0Pzoge1xuICAgICAgb2Zmc2V0TGVmdDogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICAgIG9mZnNldFRvcDogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICAgIHBhZ2VMZWZ0OiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgcGFnZVRvcDogUmVhZG9ubHk8bnVtYmVyPjtcbiAgICAgIHdpZHRoOiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgaGVpZ2h0OiBSZWFkb25seTxudW1iZXI+O1xuICAgICAgc2NhbGU6IFJlYWRvbmx5PG51bWJlcj47XG4gICAgfTtcbiAgfVxufVxuXG5rby5iaW5kaW5nSGFuZGxlcnMuc3dpcGVQYWdlcyA9IHtcbiAgaW5pdChlbGVtZW50LCB2YWx1ZUFjY2Vzc29yKTogdm9pZCB7XG4gICAgaWYgKHN1cHBvcnRUb3VjaEV2ZW50cyAmJiBrby51bndyYXAodmFsdWVBY2Nlc3NvcigpKSkge1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybjsgLy8gbXVsdGktdG91Y2ggaXMgbm90IGZvciBwYWdlIHN3aXBlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQuc2NhbGUgPiAxKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBkaXNhYmxlIHBhZ2Ugc3dpcGUgd2hlbiBwaW5jaC16b29tZWRcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBcInZpdmxpb3N0eWxlLXZpZXdlci12aWV3cG9ydFwiLFxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdmlld3BvcnRFbGVtZW50ICYmXG4gICAgICAgICAgdmlld3BvcnRFbGVtZW50LnNjcm9sbFdpZHRoID4gdmlld3BvcnRFbGVtZW50LmNsaWVudFdpZHRoXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjsgLy8gZGlzYWJsZSBwYWdlIHN3aXBlIHdoZW4gaG9yaXpvbnRhbCBzY3JvbGxhYmxlXG4gICAgICAgIH1cbiAgICAgICAgeFN0YXJ0ID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICB5U3RhcnQgPSBldmVudC50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgICB9KTtcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeFN0YXJ0ICE9PSBudWxsICYmIHlTdGFydCAhPT0gbnVsbCkge1xuICAgICAgICAgIGNvbnN0IHhEaWZmID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC0geFN0YXJ0O1xuICAgICAgICAgIGNvbnN0IHlEaWZmID0gZXZlbnQudG91Y2hlc1swXS5jbGllbnRZIC0geVN0YXJ0O1xuICAgICAgICAgIGlmIChNYXRoLmFicyh4RGlmZikgPiBNYXRoLmFicyh5RGlmZikpIHtcbiAgICAgICAgICAgIGlmICh4RGlmZiA8IDApIHtcbiAgICAgICAgICAgICAgLy8gc3dpcGUgdG8gbGVmdCA9IGdvIHRvIHJpZ2h0XG4gICAgICAgICAgICAgIGFycm93QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgICAgICAgXCJ2aXZsaW9zdHlsZS1wYWdlLW5hdmlnYXRpb24tcmlnaHRcIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHN3aXBlIHRvIHJpZ2h0ID0gZ28gdG8gbGVmdFxuICAgICAgICAgICAgICBhcnJvd0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgICAgICAgIFwidml2bGlvc3R5bGUtcGFnZS1uYXZpZ2F0aW9uLWxlZnRcIixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKE1hdGguYWJzKHhEaWZmKSArIE1hdGguYWJzKHlEaWZmKSA+PSAxNikge1xuICAgICAgICAgICAgaWYgKGFycm93QnV0dG9uKSB7XG4gICAgICAgICAgICAgIGFycm93QnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICAgIGtvLnV0aWxzLnRvZ2dsZURvbU5vZGVDc3NDbGFzcyhhcnJvd0J1dHRvbiwgXCJhY3RpdmVcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4U3RhcnQgPSBudWxsO1xuICAgICAgICAgICAgeVN0YXJ0ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoYXJyb3dCdXR0b24pIHtcbiAgICAgICAgICBrby51dGlscy50b2dnbGVEb21Ob2RlQ3NzQ2xhc3MoYXJyb3dCdXR0b24sIFwiYWN0aXZlXCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBhcnJvd0J1dHRvbiA9IG51bGw7XG4gICAgICAgIHhTdGFydCA9IG51bGw7XG4gICAgICAgIHlTdGFydCA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG59O1xuIiwiLypcbiAqIENvcHlyaWdodCAyMDE1IFRyaW0tbWFya3MgSW5jLlxuICpcbiAqIFRoaXMgZmlsZSBpcyBwYXJ0IG9mIFZpdmxpb3N0eWxlIFVJLlxuICpcbiAqIFZpdmxpb3N0eWxlIFVJIGlzIGZyZWUgc29mdHdhcmU6IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnlcbiAqIGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIEFmZmVybyBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieVxuICogdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgZWl0aGVyIHZlcnNpb24gMyBvZiB0aGUgTGljZW5zZSwgb3JcbiAqIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24uXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCxcbiAqIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mXG4gKiBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlXG4gKiBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2VcbiAqIGFsb25nIHdpdGggVml2bGlvc3R5bGUgVUkuICBJZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uXG4gKi9cblxuaW1wb3J0IGtvIGZyb20gXCJrbm9ja291dFwiO1xuXG5pbXBvcnQgVmlld2VyQXBwIGZyb20gXCIuL3ZpZXdtb2RlbHMvdmlld2VyLWFwcFwiO1xuXG5pbXBvcnQgXCIuL2JpbmRpbmdzL21lbnVCdXR0b25cIjtcbmltcG9ydCBcIi4vYmluZGluZ3Mvc3dpcGVQYWdlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN0YXJ0KCk6IHZvaWQge1xuICAgIGZ1bmN0aW9uIHN0YXJ0Vmlld2VyKCk6IHZvaWQge1xuICAgICAga28uYXBwbHlCaW5kaW5ncyhuZXcgVmlld2VyQXBwKCkpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3dbXCJfX2xvYWRlZFwiXSkgc3RhcnRWaWV3ZXIoKTtcbiAgICBlbHNlIHdpbmRvdy5vbmxvYWQgPSBzdGFydFZpZXdlcjtcbiAgfSxcbn07XG4iLCIvKlxuICogQ29weXJpZ2h0IDIwMTUgVHJpbS1tYXJrcyBJbmMuXG4gKlxuICogVGhpcyBmaWxlIGlzIHBhcnQgb2YgVml2bGlvc3R5bGUgVUkuXG4gKlxuICogVml2bGlvc3R5bGUgVUkgaXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeVxuICogaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgQWZmZXJvIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5XG4gKiB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBlaXRoZXIgdmVyc2lvbiAzIG9mIHRoZSBMaWNlbnNlLCBvclxuICogKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi5cbiAqXG4gKiBWaXZsaW9zdHlsZSBVSSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLFxuICogYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2ZcbiAqIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGVcbiAqIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLlxuICpcbiAqIFlvdSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBBZmZlcm8gR2VuZXJhbCBQdWJsaWMgTGljZW5zZVxuICogYWxvbmcgd2l0aCBWaXZsaW9zdHlsZSBVSS4gIElmIG5vdCwgc2VlIDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi5cbiAqL1xuXG5pbXBvcnQgdml2bGlvc3R5bGVWaWV3ZXIgZnJvbSBcIi4vdml2bGlvc3R5bGUtdmlld2VyXCI7XG5cbnZpdmxpb3N0eWxlVmlld2VyLnN0YXJ0KCk7XG4iXSwibmFtZXMiOlsiTW9kZSIsIm4iLCJBIiwidGhpcyIsImV2YWwiLCJ3IiwiZG9jdW1lbnQiLCJSIiwibmF2aWdhdG9yIiwidiIsImpRdWVyeSIsIkgiLCJKU09OIiwibW9kdWxlIiwiZXhwb3J0cyIsIlMiLCJUIiwiSyIsImEiLCJjIiwiVyIsIlgiLCJiIiwiZCIsInNldFRpbWVvdXQiLCJZIiwiY2xlYXJUaW1lb3V0IiwiWiIsInBjIiwiZ2IiLCJxYyIsImFhIiwicyIsImJhIiwicWQiLCJlIiwiciIsInJhIiwiUWIiLCJtYiIsInVjIiwiSSIsIkoiLCJkYSIsIiRjIiwiSmEiLCJnZCIsImYiLCJnIiwic3BsaXQiLCJsZW5ndGgiLCJMIiwidmVyc2lvbiIsIm9wdGlvbnMiLCJkZWZlclVwZGF0ZXMiLCJ1c2VPbmx5TmF0aXZlRXZlbnRzIiwiZm9yZWFjaEhpZGVzRGVzdHJveWVkIiwiY2FsbCIsIl9fcHJvdG9fXyIsImwiLCJtYXRjaCIsInEiLCJEIiwiTmEiLCJqb2luIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJBcnJheSIsImgiLCJTeW1ib2wiLCJtIiwiayIsInRlc3QiLCJ1c2VyQWdlbnQiLCJNb3VzZUV2ZW50cyIsInQiLCJwcm9wZXJ0eWNoYW5nZSIsInAiLCJjcmVhdGVFbGVtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbm5lckhUTUwiLCJKYyIsImluZGV4T2YiLCJMYiIsIlBhIiwic3BsaWNlIiwic2hpZnQiLCJ3YyIsInB1c2giLCJNYiIsImpiIiwiTmIiLCJhcHBseSIsImJjIiwiQmEiLCJleHRlbmQiLCJzZXRQcm90b3R5cGVPZiIsIkFiIiwiUCIsIkdhIiwiVGIiLCJmaXJzdENoaWxkIiwicmVtb3ZlTm9kZSIsIlliIiwibGEiLCJvd25lckRvY3VtZW50IiwiYXBwZW5kQ2hpbGQiLCJvYSIsIkNhIiwiY2xvbmVOb2RlIiwidmEiLCJYYyIsIm5vZGVUeXBlIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIlVhIiwibmV4dFNpYmxpbmciLCJaYyIsInNldEF0dHJpYnV0ZSIsInNlbGVjdGVkIiwiRGIiLCJ0cmltIiwidG9TdHJpbmciLCJyZXBsYWNlIiwiVWQiLCJzdWJzdHJpbmciLCJ2ZCIsImNvbnRhaW5zIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJTYiIsImRvY3VtZW50RWxlbWVudCIsImtkIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwiQWMiLCJvbkVycm9yIiwiYXJndW1lbnRzIiwiR2MiLCJCIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiRXJyb3IiLCJ6YSIsImRldGFjaEV2ZW50Iiwib24iLCJGYiIsInR5cGUiLCJjcmVhdGVFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJpbml0RXZlbnQiLCJjbGljayIsImZpcmVFdmVudCIsInRyaWdnZXIiLCJPIiwiRWIiLCJjbGFzc0xpc3QiLCJjbGFzc05hbWUiLCJiYXNlVmFsIiwiQmIiLCJjcmVhdGVUZXh0Tm9kZSIsImRhdGEiLCJBZCIsIlljIiwibmFtZSIsImNoYXJDb2RlQXQiLCJtZXJnZUF0dHJpYnV0ZXMiLCJzdHlsZSIsInpvb20iLCJ3ZCIsIndpZHRoIiwiUGQiLCJEYSIsIlpkIiwiJGQiLCJMYyIsImNvbmNhdCIsIk5kIiwicGFyc2UiLCJGdW5jdGlvbiIsImhjIiwic3RyaW5naWZ5IiwiT2QiLCJwYXJhbXMiLCJpbmNsdWRlRmllbGRzIiwiYWN0aW9uIiwidmFsdWUiLCJkaXNwbGF5IiwibWV0aG9kIiwiYm9keSIsInN1Ym1pdHRlciIsInN1Ym1pdCIsInJlbW92ZUNoaWxkIiwiYmluZCIsInNsaWNlIiwiRGF0ZSIsImdldFRpbWUiLCJnZXQiLCJzZXQiLCJVYiIsImNsZWFyIiwiY2xlYW5FeHRlcm5hbERhdGEiLCJjaGlsZE5vZGVzIiwieWIiLCJ1IiwiRyIsImNsZWFuRGF0YSIsInRoZWFkIiwidGJvZHkiLCJ0Zm9vdCIsInRyIiwidGQiLCJ0aCIsIm9wdGlvbiIsIm9wdGdyb3VwIiwidWEiLCJwYXJzZUhUTUwiLCJjbGVhbiIsInBhcmVudFdpbmRvdyIsImRlZmF1bHRWaWV3IiwiaW5uZXJTaGl2IiwibGFzdENoaWxkIiwiTWQiLCJwYXJlbnRFbGVtZW50IiwiZmMiLCJodG1sIiwiWGIiLCJNYXRoIiwicmFuZG9tIiwiYmQiLCJjZCIsIlVjIiwibm9kZVZhbHVlIiwidWQiLCJLZCIsIm5hIiwic2NoZWR1bGVyIiwiTXV0YXRpb25PYnNlcnZlciIsIm9ic2VydmUiLCJhdHRyaWJ1dGVzIiwidG9nZ2xlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiemIiLCJjYW5jZWwiLCJyZXNldEZvclRlc3RpbmciLCJTZCIsIlRhIiwidGhyb3R0bGUiLCJ0aHJvdHRsZUV2YWx1YXRpb24iLCIkIiwicmVhZCIsIndyaXRlIiwicmF0ZUxpbWl0IiwidGltZW91dCIsIkhiIiwidWIiLCJkZWZlcnJlZCIsIm5vdGlmeVN1YnNjcmliZXJzIiwibm90aWZ5IiwiZXF1YWxpdHlDb21wYXJlciIsInVuZGVmaW5lZCIsIm51bWJlciIsInN0cmluZyIsImljIiwibGMiLCJtYyIsIkliIiwiZmIiLCJKYiIsInFiIiwiVSIsImNoYW5nZSIsInNjIiwic3Vic2NyaWJlIiwiaGIiLCJRYSIsIkdiIiwiV2EiLCJlZCIsInhjIiwiZW5kIiwib2IiLCJEZCIsIm5jIiwic2IiLCJyYyIsIkJkIiwiZm4iLCJRYyIsInBvcCIsImNjIiwib2QiLCJwZCIsImZkIiwicWEiLCJvIiwiVmEiLCJZYSIsIllkIiwidGEiLCJ5YSIsInhhIiwiRiIsIk1hIiwiWmEiLCJOYyIsIkhhIiwidHJhY2tBcnJheUNoYW5nZXMiLCJyZW1vdmUiLCJyZW1vdmVBbGwiLCJkZXN0cm95IiwiX2Rlc3Ryb3kiLCJkZXN0cm95QWxsIiwic29ydGVkIiwic29ydCIsInJldmVyc2VkIiwicmV2ZXJzZSIsInpjIiwiUGMiLCJQYiIsIk9iIiwic3BhcnNlIiwic3RhdHVzIiwiaW5kZXgiLCJtaW4iLCJtYXgiLCJLYyIsIm5iIiwia2EiLCJYYSIsImhhIiwic2EiLCJyYiIsImpjIiwid2IiLCJXYyIsIm93bmVyIiwiZGlzcG9zZVdoZW5Ob2RlSXNSZW1vdmVkIiwiU2EiLCJkaXNwb3NlV2hlbiIsIlJiIiwiViIsIkljIiwiQyIsInB1cmUiLCJkZWZlckV2YWx1YXRpb24iLCJlYSIsImphIiwiS2EiLCJWYiIsIkxhIiwiSWEiLCJKZCIsIlJkIiwiSGMiLCJ6ZCIsInlkIiwiTiIsIk9jIiwiRmQiLCJ4YiIsIlJlZ0V4cCIsIlN0cmluZyIsIk51bWJlciIsIkJvb2xlYW4iLCJzYXZlIiwidG9KU09OIiwia2V5cyIsInZhbHVlcyIsImFkIiwiY29uc3RydWN0b3IiLCJXZCIsIm1hIiwiUHJvbWlzZSIsIk0iLCJfX2tvX19oYXNEb21EYXRhT3B0aW9uVmFsdWVfXyIsIiRiIiwiZ2V0QXR0cmlidXRlTm9kZSIsInNwZWNpZmllZCIsInRleHQiLCJzZWxlY3RlZEluZGV4IiwiY2IiLCJzaXplIiwieCIsImtleSIsInVua25vd24iLCJzdWJzdHIiLCJSYSIsIndhIiwiYWMiLCJ2YiIsImdldEJpbmRpbmdIYW5kbGVyIiwicHJlcHJvY2VzcyIsInZhbHVlQWNjZXNzb3JzIiwiYmluZGluZ1BhcmFtcyIsIklkIiwiZWIiLCJjcmVhdGVDb21tZW50IiwidWwiLCJvbCIsIkVhIiwiVmMiLCJXYiIsIkNkIiwiVmQiLCJTYyIsImdhIiwibmQiLCJub2RlSGFzQmluZGluZ3MiLCJnZXRBdHRyaWJ1dGUiLCJqIiwiZ2V0Q29tcG9uZW50TmFtZUZvck5vZGUiLCJnZXRCaW5kaW5ncyIsImdldEJpbmRpbmdzU3RyaW5nIiwicGFyc2VCaW5kaW5nc1N0cmluZyIsInRjIiwiZ2V0QmluZGluZ0FjY2Vzc29ycyIsIm1lc3NhZ2UiLCJpbnN0YW5jZSIsInoiLCJUYyIsIm5vZGUiLCJ5YyIsImtiIiwiS2IiLCJwcmVwcm9jZXNzTm9kZSIsImkiLCJiaW5kaW5nQ29udGV4dEZvckRlc2NlbmRhbnRzIiwiaGQiLCJjb250ZXh0IiwiWmIiLCJoYXMiLCJFYyIsInBhIiwiQ2IiLCJjYSIsImFmdGVyIiwiTWMiLCJpbml0IiwidXBkYXRlIiwiJGRhdGEiLCJjb250cm9sc0Rlc2NlbmRhbnRCaW5kaW5ncyIsInNob3VsZEJpbmREZXNjZW5kYW50cyIsImZhIiwic2NyaXB0IiwidGV4dGFyZWEiLCJ0ZW1wbGF0ZSIsIiRwYXJlbnRzIiwiJHJvb3QiLCJrbyIsIiRyYXdEYXRhIiwiZGF0YURlcGVuZGVuY3kiLCJleHBvcnREZXBlbmRlbmNpZXMiLCJjcmVhdGVDaGlsZENvbnRleHQiLCJhcyIsIm5vQ2hpbGRDb250ZXh0IiwiJHBhcmVudENvbnRleHQiLCIkcGFyZW50IiwidW5zaGlmdCIsInNkIiwiQ2MiLCJGYSIsIm5vdGlmeUltbWVkaWF0ZWx5IiwiVGQiLCJpYiIsImxkIiwiT2EiLCJ2YyIsIkRjIiwic3luY2hyb25vdXMiLCJkZWZpbml0aW9uIiwiR2QiLCJsb2FkZXJzIiwic3VwcHJlc3NMb2FkZXJFeGNlcHRpb25zIiwiQmMiLCJvYyIsInZpZXdNb2RlbCIsImNvbnRlbnQiLCJEb2N1bWVudEZyYWdtZW50IiwicmVxdWlyZSIsIlhkIiwicmVnaXN0ZXIiLCJ0YiIsInVucmVnaXN0ZXIiLCJGYyIsImdldENvbmZpZyIsImxvYWRDb21wb25lbnQiLCJsb2FkVGVtcGxhdGUiLCJlbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImxvYWRWaWV3TW9kZWwiLCJkZCIsIiRyYXciLCJjb21wb25lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZGlzcG9zZSIsImNyZWF0ZVZpZXdNb2RlbCIsInRlbXBsYXRlTm9kZXMiLCIkY29tcG9uZW50IiwiJGNvbXBvbmVudFRlbXBsYXRlTm9kZXMiLCJrb0Rlc2NlbmRhbnRzQ29tcGxldGUiLCJhdHRyIiwibG9va3VwTmFtZXNwYWNlVVJJIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGVOUyIsImNoZWNrZWQiLCJ1bmlxdWVOYW1lIiwiY2hlY2tlZFZhbHVlIiwiX19rb19fY3NzVmFsdWUiLCJjc3MiLCJlbmFibGUiLCJkaXNhYmxlZCIsImRpc2FibGUiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJjYW5jZWxCdWJibGUiLCJzdG9wUHJvcGFnYXRpb24iLCJmb3JlYWNoIiwiUmMiLCJpbmNsdWRlRGVzdHJveWVkIiwiYWZ0ZXJBZGQiLCJiZWZvcmVSZW1vdmUiLCJhZnRlclJlbmRlciIsImJlZm9yZU1vdmUiLCJhZnRlck1vdmUiLCJ0ZW1wbGF0ZUVuZ2luZSIsImhhc2ZvY3VzIiwiX19rb19oYXNmb2N1c1VwZGF0aW5nIiwiYWN0aXZlRWxlbWVudCIsIl9fa29faGFzZm9jdXNMYXN0VmFsdWUiLCJmb2N1cyIsImJsdXIiLCJoYXNGb2N1cyIsImxldCIsIlEiLCJtdWx0aXBsZSIsInNjcm9sbFRvcCIsImVjIiwiYWJzIiwic2VsZWN0ZWRPcHRpb25zIiwic2V0UHJvcGVydHkiLCJ0b1VwcGVyQ2FzZSIsImlzTmFOIiwicGFyc2VGbG9hdCIsIm9wZXJhIiwicGFyc2VJbnQiLCJ0ZXh0SW5wdXQiLCJ5IiwicHJvcGVydHlOYW1lIiwidGV4dGlucHV0IiwicmQiLCJ1c2luZyIsImF1dG9jb21wbGV0ZSIsImZvcm0iLCJ2aXNpYmxlIiwiaGlkZGVuIiwicmVuZGVyVGVtcGxhdGVTb3VyY2UiLCJjcmVhdGVKYXZhU2NyaXB0RXZhbHVhdG9yQmxvY2siLCJtYWtlVGVtcGxhdGVTb3VyY2UiLCJpYSIsInJlbmRlclRlbXBsYXRlIiwiaXNUZW1wbGF0ZVJld3JpdHRlbiIsImFsbG93VGVtcGxhdGVSZXdyaXRpbmciLCJyZXdyaXRlVGVtcGxhdGUiLCJrYyIsInhkIiwiTGQiLCJtZCIsIm5vZGVOYW1lIiwiYWIiLCJub2RlcyIsImxiIiwiamQiLCJiYiIsInByZXZpb3VzU2libGluZyIsImdjIiwiZGMiLCJRZCIsIiRpbmRleCIsImlmbm90IiwibW92ZWQiLCJkb250TGltaXRNb3ZlcyIsIkFhIiwicGIiLCJfY291bnRXYWl0aW5nRm9yUmVtb3ZlIiwiRSIsIkVkIiwiJGEiLCJIZCIsInRtcGwiLCJ0YWciLCJvcGVuIiwia29CaW5kaW5nQ29udGV4dCIsInRlbXBsYXRlT3B0aW9ucyIsImFwcGVuZFRvIiwiZnJhZ21lbnRzIiwiYWRkVGVtcGxhdGUiLCJrb19jb2RlIiwia29fd2l0aCIsImNsb3NlIiwic2V0RGVidWciLCJpc0RlYnVnIiwicGFnZVByb2dyZXNzaW9uT2YiLCJzdHIiLCJQYWdlUHJvZ3Jlc3Npb24iLCJMVFIiLCJSVEwiLCJQYWdlU2lkZSIsIlJlYWR5U3RhdGUiLCJjb25zdGFudHMiLCJMb2dMZXZlbCIsImFyZ3VtZW50c1RvRXJyb3JJbmZvIiwiYXJncyIsImZyb20iLCJlcnJvciIsIm1lc3NhZ2VzIiwiYnVpbGRNZXNzYWdlQW5kU3RhY2tUcmFjZSIsInN0YWNrIiwiZnJhbWVUcmFjZSIsImxvZ2dlciIsIltvYmplY3QgT2JqZWN0XSIsIm9wdF9jb25zb2xlIiwibXNnIiwiZGVidWciLCJsb2ciLCJjb25zb2xlIiwiaW5mbyIsIndhcm4iLCJsZXZlbCIsImxpc3RlbmVycyIsImZvckVhY2giLCJsaXN0ZW5lciIsInZhcl9hcmdzIiwiY29uc29sZURlYnVnIiwidHJpZ2dlckxpc3RlbmVycyIsIkRFQlVHIiwiY29uc29sZUluZm8iLCJJTkZPIiwiY29uc29sZVdhcm4iLCJXQVJOIiwiY29uc29sZUVycm9yIiwiRVJST1IiLCJIT09LUyIsImhvb2tzIiwicmVnaXN0ZXJIb29rIiwiaG9va3NGb3JOYW1lIiwiTG9nZ2luZy5sb2dnZXIiLCJyZW1vdmVIb29rIiwiZ2V0SG9va3NGb3JOYW1lIiwicGx1Z2luIiwiUHJvZmlsZXIiLCJwZXJmb3JtYW5jZUluc3RhbmNlIiwicmVnaXN0ZXJUaW1pbmciLCJub29wIiwicmVnaXN0ZXJTdGFydFRpbWluZyIsInJlZ2lzdGVyRW5kVGltaW5nIiwidGltZXN0YW1wIiwidGltZXN0YW1wcyIsInN0Iiwic3RhbXBzIiwic3RhcnQiLCJzdGFydEVuZCIsIm5vdyIsImZhbGxiYWNrUGVyZm9ybWFuY2VJbnN0YW5jZSIsInByb2ZpbGVyIiwid2luZG93IiwicGVyZm9ybWFuY2UiLCJmb3JjZVJlZ2lzdGVyU3RhcnRUaW1pbmciLCJwcm9maWxlIiwicHJpbnRUaW1pbmdzIiwiZW1wdHlPYmoiLCJzdHJpbmdUb0pTT04iLCJzdHJpcEZyYWdtZW50IiwidXJsIiwiYmFzZVVSTCIsImxvY2F0aW9uIiwiaHJlZiIsInNldEJhc2VVUkwiLCJyZXNvdXJjZUJhc2VVUkwiLCJzZXRSZXNvdXJjZUJhc2VVUkwiLCJyZXNvbHZlVVJMIiwicmVsVVJMIiwibGFzdEluZGV4T2YiLCJ1cmxPcHRpb24iLCJjb252ZXJ0U3BlY2lhbFVSTCIsImV4ZWMiLCJOUyIsImFzU3RyaW5nIiwiUHJpb3JpdHlRdWV1ZSIsInF1ZXVlIiwiaXRlbSIsInBhcmVudEluZGV4IiwiZmxvb3IiLCJwYXJlbnQiLCJjb21wYXJlIiwicmVzdWx0IiwiY3VyciIsImNoaWxkSW5kZXgiLCJrbm93blByZWZpeGVzIiwicHJvcE5hbWVNYXAiLCJjaGVja0lmUHJvcGVydHlTdXBwb3J0ZWQiLCJwcmVmaXgiLCJwcm9wIiwicHJvYmUiLCJjc3NQcm9wTmFtZSIsInR4dCIsImdldFByZWZpeGVkUHJvcGVydHlOYW1lcyIsInByZWZpeGVkIiwic2V0Q1NTUHJvcGVydHkiLCJlbGVtIiwicHJlZml4ZWRQcm9wZXJ0eU5hbWVzIiwiZXJyIiwiZ2V0Q1NTUHJvcGVydHkiLCJvcHRfdmFsdWUiLCJwcm9wZXJ0eU5hbWVzIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImdldExhbmdBdHRyaWJ1dGUiLCJsYW5nIiwiZ2V0QXR0cmlidXRlTlMiLCJYTUwiLCJuYW1lc3BhY2VVUkkiLCJYSFRNTCIsIlN0cmluZ0J1ZmZlciIsImxpc3QiLCJlc2NhcGVDaGFyIiwiZXNjYXBlQ1NTSWRlbnQiLCJlc2NhcGVDU1NTdHIiLCJsaWdodFVSTEVuY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImlzTGV0dGVyIiwiY2giLCJlc2NhcGVOYW1lU3RyVG9IZXgiLCJlc2NhcGVSZWdFeHAiLCJiaW5hcnlTZWFyY2giLCJoaWdoIiwiZ29vZCIsIm51bWJlckNvbXBhcmUiLCJpbmRleEFycmF5IiwiYXJyIiwibWFwIiwibXVsdGlJbmRleEFycmF5IiwiU2ltcGxlRXZlbnRUYXJnZXQiLCJldnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2FwdHVyZSIsImhhc1ZlcnRpY2FsQkJveEJ1ZyIsImhhc0lubGluZUJsb2NrSnVzdGlmaWNhdGlvbkJ1ZyIsImhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlBZnRlckh5cGhlbkJ1ZyIsImhhc1NvZnRXcmFwT3Bwb3J0dW5pdHlCeVdickJ1ZyIsImdldElkIiwiaWR0eHQiLCJlc2NhcGUiLCJ1bmVzY2FwZUNoYXIiLCJ1bmVzY2FwZSIsInBhcnNlRXh0VmFsIiwiZXh0c3RyIiwicGFyc2VFeHQiLCJleHQiLCJSZWZTdGVwIiwiYXBwZW5kIiwicG9zIiwiQ2hpbGRTdGVwIiwiaWQiLCJzaWRlQmlhcyIsImNoaWxkRWxlbWVudHMiLCJjaGlsZHJlbiIsImNoaWxkRWxlbWVudENvdW50IiwiY2hpbGQiLCJuZXh0IiwiT2Zmc2V0U3RlcCIsIm9mZnNldCIsInRleHRCZWZvcmUiLCJ0ZXh0QWZ0ZXIiLCJ0ZXh0TGVuZ3RoIiwidGV4dENvbnRlbnQiLCJGcmFnbWVudCIsImZyYWdzdHIiLCJzdGVwcyIsImNoYXJBdCIsIkJhc2UuYXNTdHJpbmciLCJkb2MiLCJyZWYiLCJhcHBseVRvIiwiQmFzZS5TdHJpbmdCdWZmZXIiLCJjbG9uZVByZWZlcmVuY2VzIiwicHJlZiIsImZvbnRGYW1pbHkiLCJsaW5lSGVpZ2h0IiwibWFyZ2luIiwiaHlwaGVuYXRlIiwiY29sdW1uV2lkdGgiLCJob3Jpem9udGFsIiwibmlnaHRNb2RlIiwic3ByZWFkVmlldyIsInBhZ2VCb3JkZXIiLCJlbmFibGVkTWVkaWFUeXBlcyIsImFzc2lnbiIsImRlZmF1bHRQYXBlclNpemUiLCJkZWZhdWx0UHJlZmVyZW5jZXNJbnN0YW5jZSIsInZpdmxpb3N0eWxlIiwicHJpbnQiLCJTcGVjaWFsIiwibGV0dGVyYm94Iiwidmlld1ciLCJ2aWV3SCIsIm9ialciLCJvYmpIIiwic2NhbGUiLCJjc3NTdHJpbmciLCJCYXNlLmVzY2FwZUNTU1N0ciIsImNzc0lkZW50IiwiQmFzZS5lc2NhcGVDU1NJZGVudCIsIm1ha2VRdWFsaWZpZWROYW1lIiwib2JqTmFtZSIsIm1lbWJlck5hbWUiLCJuZXh0S2V5SW5kZXgiLCJMZXhpY2FsU2NvcGUiLCJyZXNvbHZlciIsInNjb3BlS2V5IiwiemVybyIsIkNvbnN0Iiwib25lIiwiX3RydWUiLCJfZmFsc2UiLCJidWlsdElucyIsImNlaWwiLCJyb3VuZCIsInNxcnQiLCJ0eXBlb2YiLCJkZWZpbmVCdWlsdEluTmFtZSIsInBhZ2VXaWR0aCIsInBhZ2VIZWlnaHQiLCJmb250U2l6ZSIsInB1YlRpdGxlIiwiZG9jVGl0bGUiLCJOYXRpdmUiLCJxdWFsaWZpZWROYW1lIiwidmFsIiwiZnVuY3MiLCJpc1ZpZXdwb3J0UmVsYXRpdmVMZW5ndGhVbml0IiwidW5pdCIsImRlZmF1bHRVbml0U2l6ZXMiLCJweCIsImluIiwicHQiLCJjbSIsIm1tIiwiZW0iLCJyZW0iLCJleCIsImRwcHgiLCJkcGkiLCJkcGNtIiwibmVlZFVuaXRDb252ZXJzaW9uIiwiQ29udGV4dCIsInJvb3RTY29wZSIsInZpZXdwb3J0V2lkdGgiLCJ2aWV3cG9ydEhlaWdodCIsImFjdHVhbFBhZ2VXaWR0aCIsImFjdHVhbFBhZ2VIZWlnaHQiLCJpbml0aWFsRm9udFNpemUiLCJyb290Rm9udFNpemUiLCJzY29wZSIsInNjb3BlcyIsImNsZWFyU2NvcGUiLCJpc1Jvb3QiLCJwdnciLCJwdmgiLCJ2dyIsInBhZ2VBcmVhV2lkdGgiLCJ2aCIsInBhZ2VBcmVhSGVpZ2h0IiwicGFnZVZlcnRpY2FsIiwibm9CdWlsdEluRXZhbCIsImV2YWx1YXRlIiwibm90IiwiZW5hYmxlZCIsImZlYXR1cmUiLCJyZXEiLCJhY3R1YWwiLCJzY3JlZW4iLCJhdmFpbFdpZHRoIiwiYXZhaWxIZWlnaHQiLCJwaXhlbERlcHRoIiwiZ2V0U2NvcGVDb250ZXh0IiwiVmFsIiwiYnVmIiwicHJpb3JpdHkiLCJvdGhlciIsImRlcGVuZGVuY3lDYWNoZSIsImNhY2hlZCIsImRlcGVuZENvcmUiLCJkZXBlbmRPdXRlciIsInF1ZXJ5VmFsIiwiZXZhbHVhdGVDb3JlIiwic3RvcmVWYWwiLCJQcmVmaXgiLCJzdXBlciIsImV2YWxQcmVmaXgiLCJnZXRPcCIsImV4cGFuZCIsIkluZml4IiwibGhzIiwicmhzIiwiZXZhbEluZml4IiwidGhpc1ByaW9yaXR5IiwiZ2V0UHJpb3JpdHkiLCJMb2dpY2FsIiwiQ29tcGFyaXNvbiIsIkFkZGl0aXZlIiwiTXVsdGlwbGljYXRpdmUiLCJOb3QiLCJOZWdhdGUiLCJBbmQiLCJBbmRNZWRpYSIsIk9yIiwiT3JNZWRpYSIsIkx0IiwiTGUiLCJHdCIsIkdlIiwiRXEiLCJOZSIsIkFkZCIsIlN1YnRyYWN0IiwiTXVsdGlwbHkiLCJEaXZpZGUiLCJNb2R1bG8iLCJOdW1lcmljIiwibnVtIiwicXVlcnlVbml0U2l6ZSIsIk5hbWVkIiwiZXZhbE5hbWUiLCJNZWRpYU5hbWUiLCJldmFsTWVkaWFOYW1lIiwiQ2FsbCIsImV2YWxDYWxsIiwiZXhwYW5kZWRQYXJhbXMiLCJleHBhbmRlZCIsIkNvbmQiLCJjb25kIiwiaWZUcnVlIiwiaWZGYWxzZSIsIk1lZGlhVGVzdCIsImV2YWxNZWRpYVRlc3QiLCJQYXJhbSIsImFuZCIsInYxIiwidjIiLCJhZGQiLCJzdWIiLCJtdWwiLCJkaXYiLCJWaXNpdG9yIiwidmlzaXQiLCJlbXB0eSIsInNsYXNoIiwiaWRlbnQiLCJudW1lcmljIiwidmlzaXROdW0iLCJjb2xvciIsImZ1bmMiLCJleHByIiwiRmlsdGVyVmlzaXRvciIsImJlZm9yZSIsInZpc2l0VmFsdWVzIiwiU3BhY2VMaXN0IiwiQ29tbWFMaXN0IiwiRnVuYyIsInZpc2l0b3IiLCJFbXB0eSIsIkV4cHJzLkNvbnN0IiwidmlzaXRFbXB0eSIsIlNsYXNoIiwidmlzaXRTbGFzaCIsIlN0ciIsInZpc2l0U3RyIiwibmFtZVRhYmxlIiwiSWRlbnQiLCJ2aXNpdElkZW50IiwiZ2V0TmFtZSIsIkV4cHJzLk11bHRpcGx5IiwiRXhwcnMuTnVtZXJpYyIsInZpc2l0TnVtZXJpYyIsIk51bSIsIkludCIsInZpc2l0SW50IiwiQ29sb3IiLCJyZ2IiLCJ2aXNpdENvbG9yIiwiVVJMIiwidmlzaXRVUkwiLCJhcHBlbmRMaXN0Iiwic2VwYXJhdG9yIiwidmlzaXRTcGFjZUxpc3QiLCJ2aXNpdENvbW1hTGlzdCIsInZpc2l0RnVuYyIsIkV4cHIiLCJ2aXNpdEV4cHIiLCJ0b051bWJlciIsImlzTnVtZXJpYyIsImlzTnVtIiwiY29udmVydE51bWVyaWNUb1B4IiwiYWJzb2x1dGUiLCJhbGwiLCJhbHdheXMiLCJhdXRvIiwiYXZvaWQiLCJiYWxhbmNlIiwiYmFsYW5jZV9hbGwiLCJibG9jayIsImJsb2NrX2VuZCIsImJsb2NrX3N0YXJ0IiwiYm90aCIsImJvdHRvbSIsImJvcmRlcl9ib3giLCJicmVha19hbGwiLCJicmVha193b3JkIiwiY3JvcCIsImNyb3NzIiwiY29sdW1uIiwiZXhjbHVzaXZlIiwiZml4ZWQiLCJmbGV4IiwiZm9vdG5vdGUiLCJmb290ZXIiLCJoZWFkZXIiLCJob3Jpem9udGFsX3RiIiwiaW5oZXJpdCIsImlubGluZSIsImlubGluZV9ibG9jayIsImlubGluZV9lbmQiLCJpbmxpbmVfc3RhcnQiLCJsYW5kc2NhcGUiLCJsZWZ0IiwibGluZSIsImxpc3RfaXRlbSIsImx0ciIsIm1hbnVhbCIsIm5vbmUiLCJub3JtYWwiLCJvZWJfcGFnZV9mb290Iiwib2ViX3BhZ2VfaGVhZCIsInBhZ2UiLCJyZWxhdGl2ZSIsInJpZ2h0Iiwic2FtZSIsInNuYXBfYmxvY2siLCJzcHJlYWQiLCJfc3RhdGljIiwicnRsIiwidGFibGUiLCJ0YWJsZV9jYXB0aW9uIiwidGFibGVfY2VsbCIsInRhYmxlX2Zvb3Rlcl9ncm91cCIsInRhYmxlX2hlYWRlcl9ncm91cCIsInRhYmxlX3JvdyIsInRvcCIsInRyYW5zcGFyZW50IiwidmVydGljYWxfbHIiLCJ2ZXJ0aWNhbF9ybCIsImh1bmRyZWRQZXJjZW50IiwiZnVsbFdpZHRoIiwiZnVsbEhlaWdodCIsIm51bWVyaWNaZXJvIiwicHJvY2Vzc2luZ09yZGVyIiwiZm9udC1zaXplIiwicHJvY2Vzc2luZ09yZGVyRm4iLCJuYW1lMSIsIm5hbWUyIiwiTUFYX1ZBTFVFIiwiUmVjdCIsIngxIiwieTEiLCJ4MiIsInkyIiwiUG9pbnQiLCJJbnNldHMiLCJTZWdtZW50IiwibG93Iiwid2luZGluZyIsInNoYXBlSWQiLCJCYW5kIiwic2VnbWVudENvbXBhcmUiLCJzMSIsInMyIiwiU2hhcGUiLCJwb2ludHMiLCJwcmV2Iiwib2Zmc2V0WCIsIm9mZnNldFkiLCJzaGFwZUZvckVsbGlwc2UiLCJjeCIsImN5IiwicngiLCJyeSIsIlBJIiwic2luIiwiY29zIiwic2hhcGVGb3JSZWN0IiwiQmFuZEludGVyc2VjdGlvbiIsImxvd09ySGlnaCIsImludGVyc2VjdFkiLCJhZGRCYW5kSW50ZXJzZWN0aW9ucyIsImludGVyc2VjdGlvbnMiLCJ3MSIsIncyIiwibWVyZ2VJbnRlcnNlY3Rpb25zIiwiaW5jbHVkZUNvdW50IiwiZXhjbHVkZUNvdW50Iiwic2hhcGVDb3VudCIsIndpbmRpbmdzMSIsIndpbmRpbmdzMiIsInhyYW5nZXMiLCJpbnNpZGUiLCJpbnRlcnNlY3Rpb25Db3VudCIsImludGVyc2VjdGlvbiIsInN0aWxsSW5zaWRlIiwicm90YXRlQm94IiwiYm94IiwidW5yb3RhdGVCb3giLCJyb3RhdGVTaGFwZSIsInNoYXBlIiwicG9pbnQiLCJub3JtYWxpemUiLCJiYW5kcyIsImN1cnJCYW5kIiwicHJldkJhbmQiLCJmaW5kQmFuZCIsIm1pZCIsImZpbmRVcHBlcm1vc3RGdWxseU9wZW5SZWN0IiwicmVjdCIsImJhbmQiLCJ0b3BFZGdlIiwiYm90dG9tRWRnZSIsImZpbmRCb3R0b21tb3N0RnVsbHlPcGVuUmVjdCIsIlNldFZpc2l0b3IiLCJDc3MuVmlzaXRvciIsInByb3BTZXQiLCJJbnRWaXNpdG9yIiwidG9JbnQiLCJkZWYiLCJTaGFwZVZpc2l0b3IiLCJjb2xsZWN0IiwiY29vcmRzIiwiQ3NzLk51bWVyaWMiLCJoZWlnaHQiLCJudW1iZXJzIiwiY29vcmQiLCJHZW9tZXRyeVV0aWwuUG9pbnQiLCJHZW9tZXRyeVV0aWwuU2hhcGUiLCJHZW9tZXRyeVV0aWwuc2hhcGVGb3JSZWN0IiwiR2VvbWV0cnlVdGlsLnNoYXBlRm9yRWxsaXBzZSIsInRvU2hhcGUiLCJnZXRTaGFwZSIsIkNvdW50ZXJzVmlzaXRvciIsInJlc2V0IiwiY291bnRlcnMiLCJ0b0NvdW50ZXJzIiwiVXJsVHJhbnNmb3JtVmlzaXRvciIsIkNzcy5GaWx0ZXJWaXNpdG9yIiwiYmFzZVVybCIsInRyYW5zZm9ybWVyIiwiQ3NzLlVSTCIsInRyYW5zZm9ybVVSTCIsImNsb25lQ291bnRlclZhbHVlcyIsIlRhcmdldENvdW50ZXJSZWZlcmVuY2UiLCJ0YXJnZXRJZCIsInJlc29sdmVkIiwic3BpbmVJbmRleCIsInBhZ2VJbmRleCIsIkNvdW50ZXJMaXN0ZW5lciIsImNvdW50ZXJTdG9yZSIsImRvY3VtZW50VVJMVHJhbnNmb3JtZXIiLCJ0cmFuc2Zvcm1GcmFnbWVudCIsImNvdW50ZXJzQnlJZCIsImdldEV4cHJDb250ZW50TGlzdGVuZXIiLCJDb3VudGVyUmVzb2x2ZXIiLCJwYWdlU2NvcGUiLCJzdHlsZXIiLCJ0cmFuc2Zvcm1lZElkIiwiQmFzZS5yZXNvbHZlVVJMIiwiZm9ybWF0Iiwic2VsZiIsIkV4cHJzLk5hdGl2ZSIsImN1cnJlbnRQYWdlQ291bnRlcnMiLCJyZWdpc3RlclBhZ2VDb3VudGVyRXhwciIsImxvb2tGb3JFbGVtZW50IiwidGFyZ2V0Q291bnRlcnMiLCJzdHlsZVVudGlsSWRJc1JlYWNoZWQiLCJjdXJyZW50UGFnZSIsImVsZW1lbnRzQnlJZCIsInBhZ2VDb3VudGVyc0J5SWQiLCJnZXRGcmFnbWVudCIsImdldFRyYW5zZm9ybWVkSWQiLCJnZXRUYXJnZXRDb3VudGVycyIsImNvdW50ZXJzT2ZOYW1lIiwicGFnZUNvdW50ZXJzIiwiZ2V0VGFyZ2V0UGFnZUNvdW50ZXJzIiwicmVzb2x2ZVJlZmVyZW5jZSIsInBhZ2VDb3VudGVyc09mTmFtZSIsInNhdmVSZWZlcmVuY2VPZkN1cnJlbnRQYWdlIiwiZWxlbWVudENvdW50ZXJzT2ZOYW1lIiwiQ291bnRlclN0b3JlIiwiY291bnRlck5hbWUiLCJwYWdlTnVtYmVyIiwiY2FzY2FkZWRQYWdlU3R5bGUiLCJyZXNldE1hcCIsInByZXZpb3VzUGFnZUNvdW50ZXJzIiwicmVzZXRWYWwiLCJDc3NQcm9wLnRvQ291bnRlcnMiLCJyZXNldENvdW50ZXJOYW1lIiwiZGVmaW5lUGFnZUNvdW50ZXIiLCJpbmNyZW1lbnRNYXAiLCJpbmNyZW1lbnQiLCJpbmNyZW1lbnRWYWwiLCJpbmNyZW1lbnRDb3VudGVyTmFtZSIsImNvdW50ZXJWYWx1ZXMiLCJjdXJyZW50UGFnZUNvdW50ZXJzU3RhY2siLCJ1bnJlc29sdmVkUmVmcyIsInVucmVzb2x2ZWRSZWZlcmVuY2VzIiwicmVzb2x2ZWRSZWZzIiwicmVzb2x2ZWRSZWZlcmVuY2VzIiwicHVzaGVkIiwicmVmZXJlbmNlc1RvU29sdmUiLCJyZXNvbHZlIiwibmV3UmVmZXJlbmNlc09mQ3VycmVudFBhZ2UiLCJzb21lIiwiaWRzIiwib2xkUGFnZUluZGV4IiwicGFnZUluZGljZXNCeUlkIiwidW5yZXNvbHZlIiwicHJldlBhZ2VDb3VudGVycyIsImlzUmVzb2x2ZWQiLCJldmVyeSIsImVxdWFscyIsInJlZnMiLCJpZFJlZnMiLCJyMSIsInIyIiwicmVmZXJlbmNlc1RvU29sdmVTdGFjayIsInBhZ2VzQ291bnRlckV4cHJzIiwiZXhwckNvbnRlbnRMaXN0ZW5lciIsImZpbmRJbmRleCIsIlBBR0VTX0NPVU5URVJfQVRUUiIsInZpZXdwb3J0Iiwicm9vdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwYWdlcyIsIkxheW91dENvbnN0cmFpbnQiLCJub2RlQ29udGV4dCIsInZpZXdOb2RlIiwiZXNjYXBlUGFyc2VTaW5nbGUiLCJjb2RlIiwiZnJvbUNoYXJDb2RlIiwiZXNjYXBlUGFyc2UiLCJUb2tlblR5cGUiLCJBY3Rpb24iLCJUb2tlbiIsIkVPRiIsIm1ha2VBY3Rpb25zIiwic3BlYyIsIk5hTiIsIkVORCIsIklOVkFMSUQiLCJhY3Rpb25zTm9ybWFsIiwiU1BBQ0UiLCJCQU5HIiwiU1RSMiIsIkhBU0giLCJET0xMQVIiLCJQRVJDRU5UIiwiQU1QIiwiU1RSMSIsIk9fUEFSIiwiQ19QQVIiLCJTVEFSIiwiUExVUyIsIkNPTU1BIiwiTUlOVVMiLCJET1QiLCJTTEFTSCIsIklOVCIsIkNPTE9OIiwiU0VNSUNPTCIsIkxUIiwiRVEiLCJHVCIsIlFNQVJLIiwiQVQiLCJJREVOVCIsIk9fQlJLIiwiQlNMQVNIIiwiQ19CUksiLCJIQVQiLCJPX0JSQyIsIkJBUiIsIkNfQlJDIiwiVElMREUiLCJhY3Rpb25zSWRlbnQiLCJFTkRJRE5UIiwiRlVOQyIsIkNPTlQiLCJJRE5URVNDIiwiYWN0aW9uc051bU9yQ2xhc3MiLCJUT0NMQVNTIiwiVE9OVU0iLCJUT0lERVMiLCJhY3Rpb25zTWludXMiLCJNSU5NSU4iLCJUT0lOVCIsIlRPSURFTlQiLCJhY3Rpb25zSWRlbnRFc2MiLCJFTkRJREVTIiwiQ0hLUE9TUyIsIkZVTkNFUyIsImFjdGlvbnNJbnQiLCJFTkRJTlQiLCJQQ1VOSVQiLCJOVU1CRVIiLCJVTklUIiwiYWN0aW9uc051bWJlciIsIkVORE5VTSIsImFjdGlvbnNDaGVja0VxIiwiRVFUQUlMIiwiYWN0aW9uc0NvbG9uIiwiQ09MX0NPTCIsImFjdGlvbnNCYXIiLCJCQVJfQkFSIiwiYWN0aW9uc0FtcCIsIkFNUF9BTVAiLCJhY3Rpb25zU2xhc2giLCJDT01NRU5UIiwiYWN0aW9uc0NvbW1lbnQiLCJDT01NU1QiLCJhY3Rpb25zQ29tbWVudFN0YXIiLCJFTkROT1RLIiwiYWN0aW9uc01pbnVzTWludXMiLCJLSUxMMSIsImFjdGlvbnNMdCIsIkxUX0JHIiwiYWN0aW9uc0x0QmFuZyIsIkxUX0JHX00iLCJhY3Rpb25zTHRCYW5nTWludXMiLCJLSUxMMiIsImFjdGlvbnNJZGVudEVzY0NociIsIklERVNDSCIsImFjdGlvbnNTdHIxIiwiRU5EU1RSIiwiU1RSMUVTQyIsImFjdGlvbnNTdHIyIiwiU1RSMkVTQyIsImFjdGlvbnNTdHIxRXNjIiwiRU5ERVNUUiIsIkNIS1BPU04iLCJhY3Rpb25zU3RyMkVzYyIsImFjdGlvbnNVUkwiLCJVUkwyIiwiVVJMMSIsImFjdGlvbnNVUkxJbnNpZGUiLCJFTkRVUkwiLCJDSEtTUCIsIlVSTEVTQyIsImFjdGlvbnNVUkxJbnNpZGUxIiwiVEVSTVVSTCIsImFjdGlvbnNVUkxJbnNpZGUyIiwiYWN0aW9uc1VSTFRhaWwiLCJGSU5VUkwiLCJUb2tlbml6ZXIiLCJpbnB1dCIsImhhbmRsZXIiLCJpbmRleE1hc2siLCJidWZmZXIiLCJ0YWlsIiwiZmlsbEJ1ZmZlciIsImhlYWQiLCJuZXdJbmRleE1hc2siLCJuZXdCdWZmZXIiLCJvbGRJbmRleCIsIm5ld0luZGV4IiwicG9zaXRpb24iLCJ0b2tlbiIsIm1uZW1vbmljcyIsInJlYWxsb2NhdGUiLCJhY3Rpb25zIiwidG9rZW5UeXBlIiwidG9rZW5Qb3NpdGlvbiIsInRva2VuVGV4dCIsInRva2VuTnVtIiwic2VlblNwYWNlIiwiYmFja3NsYXNoUG9zIiwiY2hhckNvZGUiLCJTVFIiLCJDTEFTUyIsIkJBTkdfRVEiLCJOVU0iLCJOVU1FUklDIiwicHJlY2VkZWRCeVNwYWNlIiwicHJpdmF0ZUN1cnJlbnRUYXNrIiwicHJpbWFyeVNjaGVkdWxlciIsImN1cnJlbnRUYXNrIiwibmV3RnJhbWUiLCJ0YXNrIiwiZnJhbWUiLCJGcmFtZSIsInN0YXRlIiwiRnJhbWVTdGF0ZSIsIkFDVElWRSIsIm5ld1Jlc3VsdCIsIlN5bmNSZXN1bHRJbXBsIiwiaGFuZGxlIiwib25FcnIiLCJyYWlzZSIsIlRpbWVySW1wbCIsInZhbHVlT2YiLCJkZWxheSIsIlNjaGVkdWxlciIsInRpbWVyIiwiQmFzZS5Qcmlvcml0eVF1ZXVlIiwiY3VycmVudFRpbWUiLCJzbGljZU92ZXJUaW1lIiwiaW5UaW1lU2xpY2UiLCJuZXdUaW1lIiwicGVlayIsInNjaGVkdWxlZFRpbWUiLCJ0aW1lb3V0VG9rZW4iLCJ3YWtldXBUaW1lIiwiZG9UaW1lU2xpY2UiLCJjb250aW51YXRpb24iLCJvcHRfZGVsYXkiLCJvcmRlciIsImFybSIsImNhbmNlbGVkIiwicmVzdW1lSW50ZXJuYWwiLCJvcHRfbmFtZSIsIlRhc2siLCJ0aGVuIiwiZG9uZSIsInJ1bm5pbmciLCJjYWxsYmFjayIsImNhbGxiYWNrcyIsInNhdmVkVGFzayIsInNjaGVkdWxlIiwic3VzcGVuZCIsIkNvbnRpbnVhdGlvbiIsIm90aGVyQ29tcCIsImZpbmlzaCIsIndhaXRUYXJnZXQiLCJ3aGVuRG9uZSIsImV4Y2VwdGlvbiIsIm9wdF9mcmFtZSIsImZpbGxTdGFjayIsInVud2luZCIsIm91dCIsIlJlc3VsdEltcGwiLCJpc1BlbmRpbmciLCJyZXMxIiwicmVzMiIsInJlcyIsInRoZW5Bc3luYyIsIklOSVQiLCJjaGVja0Vudmlyb25tZW50IiwiRklOSVNIRUQiLCJERUFEIiwiZ2V0U2NoZWR1bGVyIiwiaXNUaW1lU2xpY2VPdmVyIiwic3RlcCIsIm1vcmUiLCJsb29wIiwiTG9vcEJvZHlGcmFtZSIsIm9wdF93YWl0VGFyZ2V0IiwiRmV0Y2hlciIsImZldGNoIiwiVGFzay5jdXJyZW50VGFzayIsInJ1biIsIlRhc2submV3RnJhbWUiLCJyZXNvdXJjZSIsInBpZ2dpYmFja3MiLCJwaWdneWJhY2tzIiwiYXJyaXZlZCIsIlRhc2submV3UmVzdWx0Iiwid2FpdEZvckZldGNoZXJzIiwiZmV0Y2hlcnMiLCJ0aGVuUmV0dXJuIiwiZmV0Y2hlciIsImhhc0Fycml2ZWQiLCJsb2FkRWxlbWVudCIsInNyYyIsImxvY2FsTmFtZSIsIkJhc2UuTlMiLCJTVkciLCJYTElOSyIsIlhNTEh0dHBSZXF1ZXN0UmVzcG9uc2VUeXBlIiwiU3R5bGVzaGVldEZsYXZvciIsImFqYXgiLCJvcHRfdHlwZSIsIm9wdF9tZXRob2QiLCJvcHRfZGF0YSIsIm9wdF9jb250ZW50VHlwZSIsInJlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsImNvbnRlbnRUeXBlIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VYTUwiLCJyZXNwb25zZUJsb2IiLCJyZXNwb25zZVR5cGUiLCJyZWFkeVN0YXRlIiwiRE9DVU1FTlQiLCJIVE1MRG9jdW1lbnQiLCJURVhUIiwibWFrZUJsb2IiLCJjb250ZW50VHlwZUhlYWRlciIsImdldFJlc3BvbnNlSGVhZGVyIiwic2V0UmVxdWVzdEhlYWRlciIsInNlbmQiLCJvdmVycmlkZU1pbWVUeXBlIiwicGFydHMiLCJidWlsZGVyQ3RyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiYnVpbGRlciIsImdldEJsb2IiLCJCbG9iIiwiUmVzb3VyY2VTdG9yZSIsInBhcnNlciIsIm9wdF9yZXF1aXJlZCIsIm9wdF9tZXNzYWdlIiwiQmFzZS5zdHJpcEZyYWdtZW50IiwicmVzb3VyY2VzIiwiaXNUb2NCb3giLCJlbmRzV2l0aCIsInVzZXJBZ2VudFhtbFVybCIsIkJhc2UucmVzb3VyY2VCYXNlVVJMIiwiaXNVc2VyQWdlbnRYbWwiLCJUYXNrVXRpbC5GZXRjaGVyIiwiZmV0Y2hJbm5lciIsInBhcnNlSlNPTlJlc291cmNlIiwic3RvcmUiLCJCYXNlLnN0cmluZ1RvSlNPTiIsImNvbG9yRnJvbUhhc2giLCJDc3MuQ29sb3IiLCJQYXJzZXJIYW5kbGVyIiwiZmxhdm9yIiwiQVVUSE9SIiwibnMiLCJvcCIsInBzZXVkb2VsZW0iLCJzdGFydFdoZW5SdWxlIiwiZmxvd05hbWUiLCJwc2V1ZG9OYW1lIiwiY2xhc3NlcyIsImltcG9ydGFudCIsImZ1bmNOYW1lIiwiVVNFUl9BR0VOVCIsIlVTRVIiLCJEaXNwYXRjaFBhcnNlckhhbmRsZXIiLCJzbGF2ZSIsInRva2VuaXplciIsImdldFNjb3BlIiwic3RhcnRTdHlsZXNoZWV0IiwidGFnU2VsZWN0b3IiLCJjbGFzc1NlbGVjdG9yIiwicHNldWRvY2xhc3NTZWxlY3RvciIsInBzZXVkb2VsZW1lbnRTZWxlY3RvciIsImlkU2VsZWN0b3IiLCJhdHRyaWJ1dGVTZWxlY3RvciIsImRlc2NlbmRhbnRTZWxlY3RvciIsImNoaWxkU2VsZWN0b3IiLCJhZGphY2VudFNpYmxpbmdTZWxlY3RvciIsImZvbGxvd2luZ1NpYmxpbmdTZWxlY3RvciIsIm5leHRTZWxlY3RvciIsInN0YXJ0U2VsZWN0b3JSdWxlIiwic3RhcnRGb250RmFjZVJ1bGUiLCJzdGFydEZvb3Rub3RlUnVsZSIsInN0YXJ0Vmlld3BvcnRSdWxlIiwic3RhcnREZWZpbmVSdWxlIiwic3RhcnRSZWdpb25SdWxlIiwic3RhcnRQYWdlUnVsZSIsInN0YXJ0UGFnZU1hcmdpbkJveFJ1bGUiLCJzdGFydEZsb3dSdWxlIiwic3RhcnRQYWdlVGVtcGxhdGVSdWxlIiwic3RhcnRQYWdlTWFzdGVyUnVsZSIsInN0YXJ0UGFydGl0aW9uUnVsZSIsInN0YXJ0UGFydGl0aW9uR3JvdXBSdWxlIiwic3RhcnRSdWxlQm9keSIsInByb3BlcnR5IiwiZW5kUnVsZSIsInN0YXJ0RnVuY1dpdGhTZWxlY3RvciIsImVuZEZ1bmNXaXRoU2VsZWN0b3IiLCJTa2lwcGluZ1BhcnNlckhhbmRsZXIiLCJ0b3BMZXZlbCIsImdldEN1cnJlbnRUb2tlbiIsImVycm9yTXNnIiwiZGVwdGgiLCJwb3BIYW5kbGVyIiwiU2xhdmVQYXJzZXJIYW5kbGVyIiwicmVwb3J0IiwicHVzaEhhbmRsZXIiLCJyZXBvcnRBbmRTa2lwIiwiYWN0aW9uc0Jhc2UiLCJhY3Rpb25zU3R5bGVBdHRyaWJ1dGUiLCJhY3Rpb25zU2VsZWN0b3IiLCJhY3Rpb25zU2VsZWN0b3JJbkZ1bmMiLCJhY3Rpb25zU2VsZWN0b3JDb250IiwiYWN0aW9uc1NlbGVjdG9yU3RhcnQiLCJhY3Rpb25zUHJvcFZhbCIsImFjdGlvbnNFeHByVmFsIiwiYWN0aW9uc0V4cHJPcCIsImFjdGlvbnNFcnJvciIsImFjdGlvbnNFcnJvckRlY2wiLCJhY3Rpb25zRXJyb3JTZWxlY3RvciIsIk9QX01FRElBX0FORCIsIkNzc1Rva2VuaXplci5Ub2tlblR5cGUiLCJMQVNUIiwiRXhwckNvbnRleHQiLCJTRUxFQ1RPUl9TVEFSVCIsIlJVTEVfRU5EIiwiRE9ORSIsIlBST1AiLCJTRUxFQ1RPUl9OQU1FIiwiU0VMRUNUT1JfQU5ZIiwiU0VMRUNUT1JfSUQiLCJTRUxFQ1RPUl9DTEFTUyIsIlNFTEVDVE9SX0FUVFIiLCJTRUxFQ1RPUl9QU0VVRE9DTEFTUyIsIlNFTEVDVE9SX0NISUxEIiwiU0VMRUNUT1JfU0lCTElORyIsIlNFTEVDVE9SX0ZPTExPV0lOR19TSUJMSU5HIiwiU0VMRUNUT1JfTkFNRV8xIiwiU0VMRUNUT1JfQU5ZXzEiLCJTRUxFQ1RPUl9JRF8xIiwiU0VMRUNUT1JfQ0xBU1NfMSIsIlNFTEVDVE9SX0FUVFJfMSIsIlNFTEVDVE9SX0JPRFkiLCJTRUxFQ1RPUl9QU0VVRE9DTEFTU18xIiwiU0VMRUNUT1JfUFNFVURPRUxFTSIsIlNFTEVDVE9SX05FWFQiLCJWQUxfSURFTlQiLCJWQUxfSEFTSCIsIlZBTF9OVU0iLCJWQUxfSU5UIiwiVkFMX05VTUVSSUMiLCJWQUxfU1RSIiwiVkFMX1VSTCIsIlZBTF9DT01NQSIsIlZBTF9TTEFTSCIsIlZBTF9GVU5DIiwiVkFMX0NfUEFSIiwiVkFMX0VORCIsIlZBTF9CUkMiLCJWQUxfQkFORyIsIlZBTF9QTFVTIiwiVkFMX0ZJTklTSCIsIkVYUFJfSURFTlQiLCJFWFBSX05VTSIsIkVYUFJfTlVNRVJJQyIsIkVYUFJfU1RSIiwiRVhQUl9PX1BBUiIsIkVYUFJfRlVOQyIsIkVYUFJfUFJFRklYIiwiRVhQUl9QQVJBTSIsIkVYUFJfSU5GSVhfTkFNRSIsIkVYUFJfSU5GSVgiLCJHVF9FUSIsIkxUX0VRIiwiRVFfRVEiLCJFWFBSX0NfUEFSIiwiRVhQUl9PX0JSQyIsIkVYUFJfU0VNSUNPTCIsIkVSUk9SX1BVU0giLCJFUlJPUl9QT1AiLCJFUlJPUl9TRU1JQ09MIiwiRVJST1JfUE9QX0RFQ0wiLCJQYXJzZXIiLCJleHByQ29udGV4dCIsIk1FRElBIiwic2VwIiwidmFsU3RhY2siLCJjb3VudCIsIkNzcy5TcGFjZUxpc3QiLCJDc3MuRnVuYyIsImV4dHJhY3RWYWxzIiwiQ3NzLkNvbW1hTGlzdCIsInByb3BOYW1lIiwidmFsMiIsInRvayIsImUxIiwiZTIiLCJlciIsIkV4cHJzLk9yTWVkaWEiLCJDc3MuRXhwciIsIkV4cHJzLkNhbGwiLCJFeHBycy5tYWtlUXVhbGlmaWVkTmFtZSIsImlzTWVkaWFOYW1lIiwiRXhwcnMuTWVkaWFUZXN0IiwiRXhwcnMuTm90IiwiZXhwckVycm9yIiwiRXhwcnMuTmVnYXRlIiwiRXhwcnMuQW5kIiwiRXhwcnMuQW5kTWVkaWEiLCJFeHBycy5PciIsIkV4cHJzLkx0IiwiRXhwcnMuR3QiLCJFeHBycy5MZSIsIkV4cHJzLkdlIiwiRXhwcnMuRXEiLCJFeHBycy5OZSIsIkV4cHJzLkFkZCIsIkV4cHJzLlN1YnRyYWN0IiwiRXhwcnMuRGl2aWRlIiwiRXhwcnMuTW9kdWxvIiwiRXhwcnMuQ29uZCIsImNvbnN1bWUiLCJoYXNMZWFkaW5nUGx1cyIsImhhc01pbnVzU2lnbiIsImhhc1NpZ24iLCJjb25kaXRpb24iLCJFeHBycy5hbmQiLCJFeHBycy5OYW1lZCIsInJ1bGVTdGFjayIsInBhcnNpbmdWYWx1ZSIsInBhcnNpbmdTdHlsZUF0dHIiLCJwYXJzaW5nTWVkaWFRdWVyeSIsInBhcnNpbmdGdW5jdGlvblBhcmFtIiwidG9rZW4xIiwicGFyc2VyTG9vcCIsIm50aFRva2VuIiwiaXNJbnNpZGVQcm9wZXJ0eU9ubHlSdWxlIiwibWFyayIsInByb3BJbXBvcnRhbnQiLCJuYW1lc3BhY2VQcmVmaXhUb1VSSSIsImRlZmF1bHROYW1lc3BhY2VVUkkiLCJwc2V1ZG9jbGFzc1R5cGUiLCJydW5QYXJzZXIiLCJQT1NJVElWRV9JTkZJTklUWSIsInJlYWROdGhQc2V1ZG9QYXJhbXMiLCJyZWFkUHNldWRvUGFyYW1zIiwiVElMREVfRVEiLCJCQVJfRVEiLCJIQVRfRVEiLCJET0xMQVJfRVEiLCJTVEFSX0VRIiwicmVnaW9uUnVsZSIsInBhZ2VSdWxlIiwiQ3NzLmdldE5hbWUiLCJDc3MuTnVtIiwiQ3NzLkludCIsIkV4cHJzLmlzVmlld3BvcnRSZWxhdGl2ZUxlbmd0aFVuaXQiLCJDc3MuU3RyIiwidmFsU3RhY2tSZWR1Y2UiLCJDc3Muc2xhc2giLCJoYXNNYXJrIiwidW5tYXJrIiwiSU1QT1JUIiwiRXhwcnMuTWVkaWFOYW1lIiwiRXhwcnMuUGFyYW0iLCJleHByU3RhY2tSZWR1Y2UiLCJXSEVOIiwic3RhcnRNZWRpYVJ1bGUiLCJpbXBvcnRDb25kaXRpb24iLCJpbXBvcnRSZWFkeSIsImltcG9ydFVSTCIsInJ1bGVOYW1lIiwicnVsZVBzZXVkb05hbWUiLCJlcnJvckJyYWNrZXRzIiwiRXJyb3JIYW5kbGVyIiwicGFyc2VTdHlsZXNoZWV0RnJvbVRleHQiLCJtZWRpYSIsIlRhc2suaGFuZGxlIiwiQ3NzVG9rZW5pemVyLlRva2VuaXplciIsIm1ha2VDb25kaXRpb24iLCJ0b0V4cHIiLCJyZXNvbHZlZFVSTCIsImlubmVyRnJhbWUiLCJwYXJzZVN0eWxlc2hlZXRGcm9tVVJMIiwidGltZVNsaWNlIiwicGFyc2VTdHlsZXNoZWV0IiwidGhlbkZpbmlzaCIsIk5ldC5hamF4IiwieGhyIiwicGFyc2VWYWx1ZSIsIm51bVByb3AiLCJ6LWluZGV4IiwiY29sdW1uLWNvdW50IiwiZmxvdy1saW5nZXIiLCJvcGFjaXR5IiwiZmxvdy1wcmlvcml0eSIsInV0aWxpemF0aW9uIiwiZXZhbHVhdGVDU1NUb0NTUyIsImlzRXhwciIsIkNzcy5lbXB0eSIsIkNzcy5pZGVudCIsImV2YWx1YXRlRXhwclRvQ1NTIiwibWF0Y2hBTlBsdXNCIiwiQW55TWF0Y2hlciIsIm1hdGNoZXJzIiwibWF0Y2hlciIsIm1hdGNoZXMiLCJBbGxNYXRjaGVyIiwiTnRoRnJhZ21lbnRNYXRjaGVyIiwiZWxlbWVudE9mZnNldCIsImZyYWdtZW50SW5kZXgiLCJpbmRpY2VzIiwiZnJhZ21lbnRJbmRpY2VzIiwiZW50cnkiLCJNYXRjaGVyQnVpbGRlciIsInZpZXdDb25kaXRpb24iLCJzdHJzIiwiaW5oZXJpdGVkUHJvcHMiLCJhemltdXRoIiwiYm9yZGVyLWNvbGxhcHNlIiwiYm9yZGVyLXNwYWNpbmciLCJjYXB0aW9uLXNpZGUiLCJjbGlwLXJ1bGUiLCJjb2xvci1pbnRlcnBvbGF0aW9uIiwiY29sb3ItcmVuZGVyaW5nIiwiY3Vyc29yIiwiZGlyZWN0aW9uIiwiZWxldmF0aW9uIiwiZW1wdHktY2VsbHMiLCJmaWxsIiwiZmlsbC1vcGFjaXR5IiwiZmlsbC1ydWxlIiwiZm9udC1rZXJuaW5nIiwiZm9udC1zaXplLWFkanVzdCIsImZvbnQtZmFtaWx5IiwiZm9udC1mZWF0dXJlLXNldHRpbmdzIiwiZm9udC1zdHlsZSIsImZvbnQtc3RyZXRjaCIsImZvbnQtdmFyaWFudCIsImZvbnQtd2VpZ2h0IiwiZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWwiLCJoeXBoZW5zIiwiaHlwaGVuYXRlLWNoYXJhY3RlciIsImh5cGhlbmF0ZS1saW1pdC1jaGFycyIsImh5cGhlbmF0ZS1saW1pdC1sYXN0IiwiaW1hZ2UtcmVuZGVyaW5nIiwiaW1hZ2UtcmVzb2x1dGlvbiIsImxldHRlci1zcGFjaW5nIiwibGluZS1icmVhayIsImxpbmUtaGVpZ2h0IiwibGlzdC1zdHlsZS1pbWFnZSIsImxpc3Qtc3R5bGUtcG9zaXRpb24iLCJsaXN0LXN0eWxlLXR5cGUiLCJtYXJrZXIiLCJtYXJrZXItZW5kIiwibWFya2VyLW1pZCIsIm1hcmtlci1zdGFydCIsIm9ycGhhbnMiLCJvdmVyZmxvdy13cmFwIiwicGFpbnQtb3JkZXIiLCJwb2ludGVyLWV2ZW50cyIsInBpdGNoLXJhbmdlIiwicXVvdGVzIiwicmljaG5lc3MiLCJydWJ5LWFsaWduIiwicnVieS1wb3NpdGlvbiIsInNwZWFrLWhlYWRlciIsInNwZWFrLW51bWVyYWwiLCJzcGVhay1wdW5jdHVhdGlvbiIsInNwZWVjaC1yYXRlIiwic2hhcGUtcmVuZGVyaW5nIiwic3RyZXNzIiwic3Ryb2tlIiwic3Ryb2tlLWRhc2hhcnJheSIsInN0cm9rZS1kYXNob2Zmc2V0Iiwic3Ryb2tlLWxpbmVjYXAiLCJzdHJva2UtbGluZWpvaW4iLCJzdHJva2UtbWl0ZXJsaW1pdCIsInN0cm9rZS1vcGFjaXR5Iiwic3Ryb2tlLXdpZHRoIiwidGFiLXNpemUiLCJ0ZXh0LWFsaWduIiwidGV4dC1hbGlnbi1sYXN0IiwidGV4dC1hbmNob3IiLCJ0ZXh0LWRlY29yYXRpb24tc2tpcCIsInRleHQtZW1waGFzaXMtY29sb3IiLCJ0ZXh0LWVtcGhhc2lzLXBvc2l0aW9uIiwidGV4dC1lbXBoYXNpcy1zdHlsZSIsInRleHQtY29tYmluZS11cHJpZ2h0IiwidGV4dC1pbmRlbnQiLCJ0ZXh0LWp1c3RpZnkiLCJ0ZXh0LXJlbmRlcmluZyIsInRleHQtc2l6ZS1hZGp1c3QiLCJ0ZXh0LXRyYW5zZm9ybSIsInRleHQtdW5kZXJsaW5lLXBvc2l0aW9uIiwidmlzaWJpbGl0eSIsInZvaWNlLWZhbWlseSIsInZvbHVtZSIsIndoaXRlLXNwYWNlIiwid2lkb3dzIiwid29yZC1icmVhayIsIndvcmQtc3BhY2luZyIsIndvcmQtd3JhcCIsIndyaXRpbmctbW9kZSIsInBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyIsInN1cHBvcnRlZE5hbWVzcGFjZXMiLCJodHRwOi8vd3d3LmlkcGYub3JnLzIwMDcvb3BzIiwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIsImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwiY291cGxlZFBhdHRlcm5zIiwiY291cGxlZEV4dGVudFBhdHRlcm5zIiwiZ2VvbU5hbWVzIiwic2lkZXMiLCJuYW1lcyIsIm1heC13aWR0aCIsIm1heC1oZWlnaHQiLCJtaW4td2lkdGgiLCJtaW4taGVpZ2h0IiwiYnVpbGRDb3VwbGluZ01hcCIsInNpZGVNYXAiLCJleHRlbnRNYXAiLCJwYXR0ZXJuIiwic2lkZSIsImV4dGVudFBhdHRlcm4iLCJleHRlbnQiLCJjb3VwbGluZ01hcFZlcnQiLCJibG9jay1zdGFydCIsImJsb2NrLWVuZCIsImlubGluZS1zdGFydCIsImlubGluZS1lbmQiLCJibG9jay1zaXplIiwiaW5saW5lLXNpemUiLCJjb3VwbGluZ01hcEhvciIsImNvdXBsaW5nTWFwVmVydFJ0bCIsImNvdXBsaW5nTWFwSG9yUnRsIiwiQ2FzY2FkZVZhbHVlIiwic3BlY2lmaWNpdHkiLCJDc3NQYXJzZXIuZXZhbHVhdGVDU1NUb0NTUyIsIkNvbmRpdGlvbmFsQ2FzY2FkZVZhbHVlIiwiY2FzY2FkZVZhbHVlcyIsInR2IiwiYXYiLCJpc0VuYWJsZWQiLCJnZXRCYXNlVmFsdWUiLCJTUEVDSUFMUyIsInJlZ2lvbi1pZCIsImZyYWdtZW50LXNlbGVjdG9yLWlkIiwiaXNTcGVjaWFsTmFtZSIsImlzUHJvcE5hbWUiLCJpc0luaGVyaXRlZCIsImdldFByb3AiLCJzZXRQcm9wIiwiZ2V0U3R5bGVNYXAiLCJnZXRNdXRhYmxlU3R5bGVNYXAiLCJnZXRWaWV3Q29uZGl0aW9uYWxTdHlsZU1hcCIsIl92aWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJnZXRTcGVjaWFsIiwiZ2V0TXV0YWJsZVNwZWNpYWwiLCJtZXJnZUluIiwicHNldWRvZWxlbWVudCIsInJlZ2lvbklkIiwidmlld0NvbmRpdGlvbk1hdGNoZXIiLCJzdHlsZUtleSIsInN0eWxlTWFwIiwic3R5bGVzIiwidHMiLCJpbmNyZWFzZVNwZWNpZmljaXR5IiwiY2hhaW5BY3Rpb25zIiwiY2hhaW4iLCJjaGFpbmVkIiwiSW5oZXJpdGFuY2VWaXNpdG9yIiwicHJvcHMiLCJFeHBycy5kZWZhdWx0VW5pdFNpemVzIiwicGFyZW50Rm9udFNpemUiLCJjb252ZXJ0Rm9udFJlbGF0aXZlTGVuZ3RoVG9QeCIsImdldEZvbnRTaXplIiwiYmFzZUZvbnRTaXplIiwiQ2FzY2FkZUFjdGlvbiIsImNhc2NhZGVJbnN0YW5jZSIsIkNvbXBvdW5kQWN0aW9uIiwiQ29uZGl0aW9uSXRlbUFjdGlvbiIsImNvbmRpdGlvbkl0ZW0iLCJwdXNoQ29uZGl0aW9uSXRlbSIsImZyZXNoIiwiQXBwbHlSdWxlQWN0aW9uIiwidmlld0NvbmRpdGlvbklkIiwiY3VycmVudFN0eWxlIiwiYnVpbGRWaWV3Q29uZGl0aW9uTWF0Y2hlciIsIkNoYWluZWRBY3Rpb24iLCJjYXNjYWRlIiwiQ2hlY2tDbGFzc0FjdGlvbiIsImN1cnJlbnRDbGFzc05hbWVzIiwiaW5jbHVkZXMiLCJpbnNlcnRJblRhYmxlIiwiQ2hlY2tJZEFjdGlvbiIsImN1cnJlbnRJZCIsImN1cnJlbnRYbWxJZCIsIkNoZWNrTG9jYWxOYW1lQWN0aW9uIiwiY3VycmVudExvY2FsTmFtZSIsInRhZ3MiLCJDaGVja05TVGFnQWN0aW9uIiwiY3VycmVudE5hbWVzcGFjZSIsIm5zUHJlZml4IiwibnNDb3VudCIsIm5zVGFnIiwibnN0YWdzIiwiQ2hlY2tUYXJnZXRFcHViVHlwZUFjdGlvbiIsImVwdWJUeXBlUGF0dCIsImN1cnJlbnRFbGVtZW50IiwiZXB1YlR5cGUiLCJlcHViIiwiQ2hlY2tOYW1lc3BhY2VBY3Rpb24iLCJDaGVja0F0dHJpYnV0ZVByZXNlbnRBY3Rpb24iLCJoYXNBdHRyaWJ1dGVOUyIsIkNoZWNrQXR0cmlidXRlRXFBY3Rpb24iLCJlcHVidHlwZXMiLCJDaGVja05hbWVzcGFjZVN1cHBvcnRlZEFjdGlvbiIsIkNoZWNrQXR0cmlidXRlUmVnRXhwQWN0aW9uIiwicmVnZXhwIiwiQ2hlY2tMYW5nQWN0aW9uIiwibGFuZ1JlZ0V4cCIsIklzRmlyc3RBY3Rpb24iLCJpc0ZpcnN0IiwiSXNSb290QWN0aW9uIiwiSXNOdGhBY3Rpb24iLCJNYXRjaGVycy5tYXRjaEFOUGx1c0IiLCJJc050aFNpYmxpbmdPZlR5cGVBY3Rpb24iLCJjdXJyZW50U2libGluZ1R5cGVDb3VudHMiLCJJc050aExhc3RTaWJsaW5nQWN0aW9uIiwiY3VycmVudEZvbGxvd2luZ1NpYmxpbmdPcmRlciIsImN1cnJlbnRTaWJsaW5nT3JkZXIiLCJJc050aExhc3RTaWJsaW5nT2ZUeXBlQWN0aW9uIiwiY291bnRzIiwiY3VycmVudEZvbGxvd2luZ1NpYmxpbmdUeXBlQ291bnRzIiwibnNDb3VudHMiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJJc0VtcHR5QWN0aW9uIiwiTm9kZSIsIkVMRU1FTlRfTk9ERSIsIlRFWFRfTk9ERSIsIklzRW5hYmxlZEFjdGlvbiIsIklzRGlzYWJsZWRBY3Rpb24iLCJJc0NoZWNrZWRBY3Rpb24iLCJDaGVja0NvbmRpdGlvbkFjdGlvbiIsImNvbmRpdGlvbnMiLCJkZXBlbmRlbnRDb25kaXRpb25zIiwiQ2hlY2tBcHBsaWVkQWN0aW9uIiwiYXBwbGllZCIsImNsb25lZCIsIk5lZ2F0ZUFjdGlvbnNTZXQiLCJjaGVja0FwcGxpZWRBY3Rpb24iLCJmaXJzdEFjdGlvbiIsIkFic3RyYWN0Q29uZGl0aW9uSXRlbSIsImRlY3JlbWVudCIsIkRlc2NlbmRhbnRDb25kaXRpb25JdGVtIiwiQ2hpbGRDb25kaXRpb25JdGVtIiwiQWRqYWNlbnRTaWJsaW5nQ29uZGl0aW9uSXRlbSIsImZpcmVkIiwiRm9sbG93aW5nU2libGluZ0NvbmRpdGlvbkl0ZW0iLCJBZnRlclBzZXVkb2VsZW1lbnRJdGVtIiwiYWZ0ZXJwcm9wIiwicHJvY2Vzc1BzZXVkb2VsZW1lbnRQcm9wcyIsIlJlc3RvcmVMYW5nSXRlbSIsIlF1b3Rlc1Njb3BlSXRlbSIsIm9sZFF1b3RlcyIsIkF0dHJWYWx1ZUZpbHRlclZpc2l0b3IiLCJhdHRyaWJ1dGVOYW1lIiwiZGVmYXVsdFZhbHVlIiwic3RyaW5nVmFsdWUiLCJjcmVhdGVWYWx1ZUZyb21TdHJpbmciLCJoYXNBdHRyaWJ1dGUiLCJDb250ZW50UHJvcFZpc2l0b3IiLCJjb3VudGVyUmVzb2x2ZXIiLCJtYXhEZXB0aCIsInF1b3RlRGVwdGgiLCJ1cHBlciIsImxvd2VyIiwiYWRkaXRpdmVOdW1iZXJpbmciLCJlbnRyaWVzIiwiYWxwaGFiZXRpY051bWJlcmluZyIsImFscGhhYmV0U3RyIiwiYWxwaGFiZXQiLCJmaXJzdCIsImxhc3QiLCJkaWdpdCIsIm51bWJlcmluZyIsImRpZ2l0cyIsIm5lZ2F0aXZlIiwiZm9ybWFsIiwibWFya2VycyIsInRob3VzYW5kcyIsImh1bmRyZWRzIiwidGVucyIsIm9uZXMiLCJjaGluZXNlVHJhZEluZm9ybWFsIiwibnVtdmFsIiwiZ2V0UGFnZUNvdW50ZXJWYWwiLCJnZXRQYWdlQ291bnRlcnNWYWwiLCJudW12YWxzIiwiZWxlbWVudENvdW50ZXJzIiwidGFyZ2V0VXJsIiwidGFyZ2V0VXJsU3RyIiwiZ2V0VGFyZ2V0Q291bnRlclZhbCIsImdldFRhcmdldENvdW50ZXJzVmFsIiwidmlzaXRGdW5jQ291bnRlciIsInZpc2l0RnVuY0NvdW50ZXJzIiwidmlzaXRGdW5jVGFyZ2V0Q291bnRlciIsInZpc2l0RnVuY1RhcmdldENvdW50ZXJzIiwicm9tYW4iLCJhcm1lbmlhbiIsImdlb3JnaWFuIiwiaGVicmV3IiwibGF0aW4iLCJhbHBoYSIsImdyZWVrIiwicnVzc2lhbiIsInNxdWFyZSIsImRpc2MiLCJjaXJjbGUiLCJjb3B5VGFibGUiLCJkc3QiLCJjbG9uZSIsIkNhc2NhZGUiLCJwYWdldHlwZXMiLCJtZXJnZVdpdGgiLCJjb3VudGVyTGlzdGVuZXIiLCJDYXNjYWRlSW5zdGFuY2UiLCJzaWJsaW5nVHlwZUNvdW50c1N0YWNrIiwiZm9sbG93aW5nU2libGluZ09yZGVyU3RhY2siLCJ2aWV3Q29uZGl0aW9ucyIsImZpbHRlciIsImN1cnJlbnRFbGVtZW50T2Zmc2V0IiwiTWF0Y2hlcnMuTWF0Y2hlckJ1aWxkZXIiLCJkZXBlbmRlbnRDb25kaXRpb25NYXRjaGVycyIsImNvbmRpdGlvbklkIiwiYnVpbGRBbnlNYXRjaGVyIiwiYnVpbGRBbGxNYXRjaGVyIiwicGFnZVR5cGUiLCJiYXNlU3R5bGUiLCJjdXJyZW50TlNUYWciLCJjdXJyZW50RXB1YlR5cGVzIiwiRU1QVFkiLCJjdXJyZW50UGFnZVR5cGUiLCJhcHBseUFjdGlvbnMiLCJzY29waW5nIiwiY291bnRlclNjb3BpbmciLCJkaXNwbGF5VmFsIiwic2V0TWFwIiwic2V0VmFsIiwiZGVmaW5lQ291bnRlciIsInNldENvdW50ZXJOYW1lIiwibGlzdEl0ZW1Db3VudHMiLCJsaXN0SXRlbUNvdW50IiwicHNldWRvcHJvcHMiLCJwdXNoQ291bnRlcnMiLCJmaWx0ZXJWYWx1ZSIsInBvcENvdW50ZXJzIiwidHlwZXMiLCJGQjIiLCJCYXNlLmdldExhbmdBdHRyaWJ1dGUiLCJzaWJsaW5nT3JkZXJTdGFjayIsImN1cnJlbnROYW1lc3BhY2VUeXBlQ291bnRzIiwiZm9sbG93aW5nU2libGluZ1R5cGVDb3VudHNTdGFjayIsImFwcGx5QXR0ckZpbHRlciIsInF1b3Rlc0Nhc2MiLCJpdGVtVG9QdXNoTGFzdCIsInF1b3Rlc1ZhbCIsImNvdW50ZXJzT2ZJZCIsInBzZXVkb3MiLCJwc2V1ZG9OYW1lcyIsInBzZXVkb1Byb3BzIiwiZWxlbWVudFN0eWxlIiwicHNldWRvTWFwIiwiYXBwbHlBdHRyRmlsdGVySW5uZXIiLCJhcHBseUFjdGlvbiIsImN1cnJlbnREb2MiLCJQYXJzZVN0YXRlIiwidWFCYXNlQ2FzY2FkZSIsIkNhc2NhZGVQYXJzZXJIYW5kbGVyIiwiQ3NzUGFyc2VyLlNsYXZlUGFyc2VySGFuZGxlciIsInZhbGlkYXRvclNldCIsIlRPUCIsIm1ha2VQcmltYXJ5IiwiaW5zZXJ0Tm9uUHJpbWFyeSIsInBhdHQiLCJCYXNlLmVzY2FwZVJlZ0V4cCIsImZvb3Rub3RlQ29udGVudCIsImxhbmdWYWx1ZSIsIkFjdGlvbkNsYXNzIiwibnRoU2VsZWN0b3JBY3Rpb25DbGFzc2VzIiwiY29uZGl0aW9uQ291bnQiLCJwcm9jZXNzQ2hhaW4iLCJmaW5pc2hDaGFpbiIsImlzSW5zaWRlU2VsZWN0b3JSdWxlIiwiU0VMRUNUT1IiLCJpbnNpZGVTZWxlY3RvclJ1bGUiLCJuZXh0T3JkZXIiLCJtYWtlQXBwbHlSdWxlQWN0aW9uIiwidmFsaWRhdGVQcm9wZXJ0eUFuZEhhbmRsZVNob3J0aGFuZCIsInNpbXBsZVByb3BlcnR5IiwiUGx1Z2luLmdldEhvb2tzRm9yTmFtZSIsImhvb2siLCJjb252ZXJ0ZWQiLCJnZXRJbXBvcnRhbnRTcGVjaWZpY2l0eSIsImdldEJhc2VTcGVjaWZpY2l0eSIsImNhc2N2YWwiLCJub3RQYXJzZXJIYW5kbGVyIiwiTm90UGFyYW1ldGVyUGFyc2VySGFuZGxlciIsIm50aC1jaGlsZCIsIm50aC1vZi10eXBlIiwibnRoLWxhc3QtY2hpbGQiLCJudGgtbGFzdC1vZi10eXBlIiwicGFyZW50Q2hhaW4iLCJEZWZpbmVQYXJzZXJIYW5kbGVyIiwiZGltIiwiZGVmaW5lTmFtZSIsIlByb3BTZXRQYXJzZXJIYW5kbGVyIiwiUHJvcGVydHlQYXJzZXJIYW5kbGVyIiwiQ3NzUGFyc2VyLkVycm9ySGFuZGxlciIsImZvckVhY2hWaWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJ2aWV3Q29uZGl0aW9uYWxTdHlsZXMiLCJtZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyIsImNhc2NNYXAiLCJtZXJnZVN0eWxlIiwiaXNWZXJ0aWNhbCIsImNhc2NhZGVkIiwidmVydGljYWwiLCJ3cml0aW5nTW9kZUNhc2MiLCJ3cml0aW5nTW9kZSIsImlzUnRsIiwiZGlyZWN0aW9uQ2FzYyIsImZsYXR0ZW5DYXNjYWRlZFN0eWxlIiwicmVnaW9uSWRzIiwiaXNGb290bm90ZSIsImZvckVhY2hTdHlsZXNJblJlZ2lvbiIsInJlZ2lvblN0eWxlIiwicmVnaW9ucyIsImZvb3Rub3RlUmVnaW9uIiwidG8iLCJuZXdWYWwiLCJvbGRWYWwiLCJjb252ZXJ0VG9QaHlzaWNhbCIsImRlc3QiLCJ0cmFuc2Zvcm0iLCJjb3VwbGluZ01hcCIsImNhc2NWYWwiLCJjb3VwbGVkTmFtZSIsInRhcmdldE5hbWUiLCJjb3VwbGVkQ2FzY1ZhbCIsImNyZWF0ZVJlZ0V4cE1hcCIsInZhbHVlTWFwcyIsInRvUGh5c2ljYWwiLCJsb2dpY2FsIiwicGh5c2ljYWwiLCJjb252ZXJ0IiwibWFwcyIsIm1hcHMyIiwicmVwbGFjZWQiLCJob3Jpem9udGFsLXRiIiwidmVydGljYWwtcmwiLCJ2ZXJ0aWNhbC1sciIsInRvUGh5c2ljYWxNYXBzIiwidG9Mb2dpY2FsTWFwcyIsIlNpemUiLCJnZXRTaXplIiwiY2xpZW50TGF5b3V0Iiwic2l6ZXMiLCJvcmlnaW5hbCIsIm1heFdpZHRoIiwibWluV2lkdGgiLCJtYXhIZWlnaHQiLCJtaW5IZWlnaHQiLCJjb250YWluZXIiLCJnZXRDb21wdXRlZFZhbHVlIiwiZ2V0RWxlbWVudENvbXB1dGVkU3R5bGUiLCJCYXNlLnNldENTU1Byb3BlcnR5Iiwid3JpdGluZ01vZGVQcm9wZXJ0eSIsIkJhc2UuZ2V0UHJlZml4ZWRQcm9wZXJ0eU5hbWVzIiwid3JpdGluZ01vZGVWYWx1ZSIsImlubGluZVNpemVOYW1lIiwiYmxvY2tTaXplTmFtZSIsImdldEZpbGxBdmFpbGFibGVJbmxpbmUiLCJnZXRNYXhDb250ZW50SW5saW5lIiwiZ2V0TWluQ29udGVudElubGluZSIsImdldEZpdENvbnRlbnRJbmxpbmUiLCJmaWxsQXZhaWxhYmxlSW5saW5lIiwibWluQ29udGVudElubGluZSIsInBhcnNlZEZpbGxBdmFpbGFibGUiLCJtYXhDb250ZW50SW5saW5lIiwiZ2V0SWRlYWxCbG9jayIsImdldEZpbGxBdmFpbGFibGVCbG9jayIsIkZJTExfQVZBSUxBQkxFX0lOTElORV9TSVpFIiwiTUFYX0NPTlRFTlRfSU5MSU5FX1NJWkUiLCJNSU5fQ09OVEVOVF9JTkxJTkVfU0laRSIsIkZJVF9DT05URU5UX0lOTElORV9TSVpFIiwiRklMTF9BVkFJTEFCTEVfQkxPQ0tfU0laRSIsIk1BWF9DT05URU5UX0JMT0NLX1NJWkUiLCJNSU5fQ09OVEVOVF9CTE9DS19TSVpFIiwiRklUX0NPTlRFTlRfQkxPQ0tfU0laRSIsIkZJTExfQVZBSUxBQkxFX1dJRFRIIiwiRklMTF9BVkFJTEFCTEVfSEVJR0hUIiwiTUFYX0NPTlRFTlRfV0lEVEgiLCJNQVhfQ09OVEVOVF9IRUlHSFQiLCJNSU5fQ09OVEVOVF9XSURUSCIsIk1JTl9DT05URU5UX0hFSUdIVCIsIkZJVF9DT05URU5UX1dJRFRIIiwiRklUX0NPTlRFTlRfSEVJR0hUIiwiZGlmZl9tYWluIiwidGV4dDEiLCJ0ZXh0MiIsImN1cnNvcl9wb3MiLCJfZml4X3VuaWNvZGUiLCJlZGl0ZGlmZiIsIm9sZFRleHQiLCJuZXdUZXh0Iiwib2xkUmFuZ2UiLCJuZXdSYW5nZSIsIm9sZExlbmd0aCIsIm5ld0xlbmd0aCIsIm9sZEN1cnNvciIsIm9sZEJlZm9yZSIsIm9sZEFmdGVyIiwibWF5YmVOZXdDdXJzb3IiLCJuZXdDdXJzb3IiLCJuZXdCZWZvcmUiLCJuZXdBZnRlciIsInByZWZpeExlbmd0aCIsIm9sZFByZWZpeCIsIm5ld1ByZWZpeCIsIm9sZE1pZGRsZSIsIm5ld01pZGRsZSIsIm1ha2VfZWRpdF9zcGxpY2UiLCJzdWZmaXhMZW5ndGgiLCJvbGRTdWZmaXgiLCJuZXdTdWZmaXgiLCJjb21tb25sZW5ndGgiLCJkaWZmX2NvbW1vblByZWZpeCIsImNvbW1vbnByZWZpeCIsImRpZmZfY29tbW9uU3VmZml4IiwiY29tbW9uc3VmZml4IiwiZGlmZnMiLCJsb25ndGV4dCIsInNob3J0dGV4dCIsImhtIiwiZGlmZl9oYWxmTWF0Y2hJXyIsImJlc3RfbG9uZ3RleHRfYSIsImJlc3RfbG9uZ3RleHRfYiIsImJlc3Rfc2hvcnR0ZXh0X2EiLCJiZXN0X3Nob3J0dGV4dF9iIiwic2VlZCIsImJlc3RfY29tbW9uIiwidGV4dDFfYSIsInRleHQxX2IiLCJ0ZXh0Ml9hIiwidGV4dDJfYiIsImhtMSIsImhtMiIsIm1pZF9jb21tb24iLCJkaWZmc19hIiwiZGlmZnNfYiIsInRleHQxX2xlbmd0aCIsInRleHQyX2xlbmd0aCIsIm1heF9kIiwidl9vZmZzZXQiLCJ2X2xlbmd0aCIsImRlbHRhIiwiZnJvbnQiLCJrMXN0YXJ0IiwiazFlbmQiLCJrMnN0YXJ0IiwiazJlbmQiLCJrMSIsImsxX29mZnNldCIsImsyX29mZnNldCIsImRpZmZfYmlzZWN0U3BsaXRfIiwiazIiLCJkaWZmX2NsZWFudXBNZXJnZSIsImZpeF91bmljb2RlIiwicG9pbnRlciIsImNvdW50X2RlbGV0ZSIsImNvdW50X2luc2VydCIsInRleHRfZGVsZXRlIiwidGV4dF9pbnNlcnQiLCJwcmV2aW91c19lcXVhbGl0eSIsImVuZHNfd2l0aF9wYWlyX3N0YXJ0Iiwic3RyYXkiLCJzdGFydHNfd2l0aF9wYWlyX2VuZCIsImNoYW5nZXMiLCJ0ZXh0MWEiLCJ0ZXh0MmEiLCJ0ZXh0MWIiLCJ0ZXh0MmIiLCJkaWZmc2IiLCJwb2ludGVybWluIiwicG9pbnRlcm1heCIsInBvaW50ZXJtaWQiLCJwb2ludGVyc3RhcnQiLCJpc19zdXJyb2dhdGVfcGFpcl9zdGFydCIsInBvaW50ZXJlbmQiLCJpc19zdXJyb2dhdGVfcGFpcl9lbmQiLCJ0dXBsZXMiLCJyZXQiLCJkaWZmIiwiSU5TRVJUIiwiREVMRVRFIiwiRVFVQUwiLCJMYXlvdXRQcm9jZXNzb3IiLCJQYWdlRmxvYXRzIiwiU2VsZWN0b3JzIiwiUmVwZXRpdGl2ZUVsZW1lbnQiLCJUYWJsZSIsIlZ0cmVlIiwicmVzdG9yZU5ld1RleHQiLCJyZWR1Y2UiLCJmYXN0ZGlmZiIsInJlc29sdmVJbmRleCIsImNvZWYiLCJjdXJyZW50Iiwib2JqZWN0IiwiZm9ybWF0dGluZ0NvbnRleHRUeXBlIiwiRmxvYXRSZWZlcmVuY2UiLCJmbGFnbWVudExheW91dENvbnN0cmFpbnRUeXBlIiwiaXNJbnN0YW5jZU9mVGFibGVGb3JtYXR0aW5nQ29udGV4dCIsImlzSW5zdGFuY2VPZlRhYmxlUm93TGF5b3V0Q29uc3RyYWludCIsIldoaXRlc3BhY2UiLCJTaGFkb3dUeXBlIiwiZGVsYXllZFByb3BzIiwidHJhbnNmb3JtLW9yaWdpbiIsImRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkIiwiRGVsYXllZEl0ZW0iLCJzaG93Iiwib2JqIiwiaGlkZSIsInBsYXkiLCJwYXVzZSIsInJlc3VtZSIsIm11dGUiLCJtdXRlZCIsInVubXV0ZSIsIm1ha2VMaXN0ZW5lciIsImFjdGlvbkZuIiwiUGFnZSIsIkJhc2UuU2ltcGxlRXZlbnRUYXJnZXQiLCJibGVlZEJveCIsImhyZWZIYW5kbGVyIiwiYW5jaG9yRWxlbWVudCIsImlzQXV0byIsImlzQXV0b1BhZ2VXaWR0aCIsIkFVVE9fUEFHRV9XSURUSF9BVFRSSUJVVEUiLCJpc0F1dG9QYWdlSGVpZ2h0IiwiQVVUT19QQUdFX0hFSUdIVF9BVFRSSUJVVEUiLCJ0cmlnZ2VycyIsImVsZW1zIiwiZGVsYXllZEl0ZW1zIiwiZ2V0RWxlbWVudENsaWVudFJlY3QiLCJkaW1lbnNpb25zIiwib2JzZXJ2ZXJzIiwib2JzZXJ2ZXIiLCJwYWdlQXJlYUVsZW1lbnQiLCJ3aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUiLCJ3aGl0ZXNwYWNlIiwiSUdOT1JFIiwiTkVXTElORSIsIlBSRVNFUlZFIiwiY2FuSWdub3JlIiwiRmxvdyIsInBhcmVudEZsb3dOYW1lIiwiRmxvd0NodW5rIiwic3RhcnRPZmZzZXQiLCJsaW5nZXIiLCJyZXBlYXRlZCIsImJyZWFrQmVmb3JlIiwiY2xpZW50cmVjdEluY3JlYXNpbmdUb3AiLCJjbGllbnRyZWN0RGVjcmVhc2luZ1JpZ2h0IiwiaXNTYW1lTm9kZVBvc2l0aW9uU3RlcCIsIm5wczEiLCJucHMyIiwic2hhZG93VHlwZSIsImlzU2FtZVNoYWRvd0NvbnRleHQiLCJzaGFkb3dDb250ZXh0Iiwibm9kZVNoYWRvdyIsInNoYWRvd1NpYmxpbmciLCJpc1NhbWVOb2RlUG9zaXRpb24iLCJucDEiLCJucDIiLCJvZmZzZXRJbk5vZGUiLCJuZXdOb2RlUG9zaXRpb25Gcm9tTm9kZUNvbnRleHQiLCJpbml0aWFsRnJhZ21lbnRJbmRleCIsInNvdXJjZU5vZGUiLCJOT05FIiwiZm9ybWF0dGluZ0NvbnRleHQiLCJwcmVwcm9jZXNzZWRUZXh0Q29udGVudCIsIm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwIiwiTm9kZUNvbnRleHQiLCJjb3B5IiwiU2hhZG93Q29udGV4dCIsInhtbGRvYyIsInBhcmVudFNoYWRvdyIsInN1cGVyU2hhZG93Iiwic3ViU2hhZG93Iiwic2MxIiwic2MyIiwiRmlyc3RQc2V1ZG8iLCJvdXRlciIsImJveE9mZnNldCIsImJyZWFrUGVuYWx0eSIsImZsb2F0UmVmZXJlbmNlIiwiSU5MSU5FIiwiaHlwaGVuYXRlQ2hhcmFjdGVyIiwiYnJlYWtXb3JkIiwiZmlyc3RQc2V1ZG8iLCJjbGVhclNwYWNlciIsImZsb2F0U2lkZSIsImNsZWFyU2lkZSIsImZsb2F0TWluV3JhcEJsb2NrIiwiY29sdW1uU3BhbiIsInZlcnRpY2FsQWxpZ24iLCJmbGV4Q29udGFpbmVyIiwiYnJlYWtBZnRlciIsImVzdGFibGlzaGVzQkZDIiwiY29udGFpbmluZ0Jsb2NrRm9yQWJzb2x1dGUiLCJyZXBlYXRPbkJyZWFrIiwicGx1Z2luUHJvcHMiLCJhZnRlcklmQ29udGludWVzIiwiZm9vdG5vdGVQb2xpY3kiLCJucCIsImNhcHRpb25TaWRlIiwiaW5saW5lQm9yZGVyU3BhY2luZyIsImJsb2NrQm9yZGVyU3BhY2luZyIsIm92ZXJmbG93IiwiY3JlYXRlIiwic2hhcmVkIiwiY2xvbmVJdGVtIiwibnBwIiwibnBjIiwidG9Ob2RlUG9zaXRpb25TdGVwIiwiQ2h1bmtQb3NpdGlvbiIsInByaW1hcnkiLCJmbG9hdHMiLCJGbG93Q2h1bmtQb3NpdGlvbiIsImNodW5rUG9zaXRpb24iLCJmbG93Q2h1bmsiLCJpc1NhbWVQb3NpdGlvbiIsIkZsb3dQb3NpdGlvbiIsIm5ld2ZwIiwicG9zaXRpb25zIiwibmV3YXJyIiwic3RhcnRTaWRlIiwiTGF5b3V0UG9zaXRpb24iLCJuZXdjcCIsImhpZ2hlc3RTZWVuTm9kZSIsImhpZ2hlc3RTZWVuT2Zmc2V0IiwibG9va3VwUG9zaXRpb25PZmZzZXQiLCJmbG93cyIsImZsb3dQb3NpdGlvbnMiLCJ0aGlzRmxvd05hbWVzIiwib3RoZXJGbG93TmFtZXMiLCJmbG93UG9zIiwiaGFzQ29udGVudCIsImZsb3dDaHVua1Bvc2l0aW9uIiwiQ29udGFpbmVyIiwibWFyZ2luVG9wIiwiYm9yZGVyVG9wIiwicGFkZGluZ1RvcCIsIm1hcmdpbkJvdHRvbSIsImJvcmRlckJvdHRvbSIsInBhZGRpbmdCb3R0b20iLCJtYXJnaW5MZWZ0IiwiYm9yZGVyTGVmdCIsInBhZGRpbmdMZWZ0IiwibWFyZ2luUmlnaHQiLCJib3JkZXJSaWdodCIsInBhZGRpbmdSaWdodCIsImdldEluc2V0UmlnaHQiLCJnZXRJbnNldFRvcCIsImdldEluc2V0TGVmdCIsImdldEluc2V0Qm90dG9tIiwib3JpZ2luWCIsIm9yaWdpblkiLCJpbm5lclNoYXBlIiwiZXhjbHVzaW9ucyIsImNvbXB1dGVkQmxvY2tTaXplIiwic25hcFdpZHRoIiwic25hcEhlaWdodCIsInNldEhvcml6b250YWxQb3NpdGlvbiIsImdldEJveERpciIsInNldFZlcnRpY2FsUG9zaXRpb24iLCJnZXRJbm5lclJlY3QiLCJ3aXRoT2Zmc2V0IiwiR2VvbWV0cnlVdGlsLlJlY3QiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwicGFkZGluZ1dpZHRoIiwicGFkZGluZ0hlaWdodCIsIm91dGVyU2hhcGVQcm9wIiwiZ2V0T3V0ZXJSZWN0IiwiQ3NzUHJvcC50b1NoYXBlIiwib3V0ZXJYIiwib3V0ZXJZIiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0IiwiQ29udGVudFByb3BlcnR5SGFuZGxlciIsInJvb3RDb250ZW50VmFsdWUiLCJ2aXNpdFN0cklubmVyIiwiaW1nIiwiY3JlYXRlRWxlbWVudE5TIiwiQ3NzUGFyc2VyLnBhcnNlVmFsdWUiLCJub25Ucml2aWFsQ29udGVudCIsImlzUGFnZUZsb2F0IiwiQ09MVU1OIiwiUkVHSU9OIiwiUEFHRSIsIlBhZ2VGbG9hdCIsIm5vZGVQb3NpdGlvbiIsInBhZ2VGbG9hdExheW91dENvbnRleHQiLCJpc0FuY2hvckFscmVhZHlBcHBlYXJlZCIsIlBhZ2VGbG9hdFN0b3JlIiwibmV4dFBhZ2VGbG9hdEluZGV4IiwiZmxvYXQiLCJWdHJlZUltcGwuaXNTYW1lTm9kZVBvc2l0aW9uIiwiY3JlYXRlUGFnZUZsb2F0SWQiLCJQYWdlRmxvYXRGcmFnbWVudCIsImNvbnRpbnVhdGlvbnMiLCJhcmVhIiwiY29udGludWVzIiwiaXNBbGxvd2VkT25Db250ZXh0IiwiZ2V0T3V0ZXJTaGFwZSIsImdldE9yZGVyIiwiUGFnZUZsb2F0Q29udGludWF0aW9uIiwiUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImdlbmVyYXRpbmdOb2RlUG9zaXRpb24iLCJmbG9hdFN0b3JlIiwiZ2V0UHJldmlvdXNTaWJsaW5nIiwiZmxvYXRzRGVmZXJyZWRGcm9tUHJldmlvdXMiLCJmbG9hdHNEZWZlcnJlZFRvTmV4dCIsImdldFByZXZpb3VzU2libGluZ09mIiwiZ2V0UGFyZW50IiwiZ2V0Q29udGFpbmVyIiwicmVhdHRhY2hGbG9hdEZyYWdtZW50cyIsImFkZFBhZ2VGbG9hdCIsImdldFBhZ2VGbG9hdExheW91dENvbnRleHQiLCJmaW5kUGFnZUZsb2F0QnlOb2RlUG9zaXRpb24iLCJmb3JiaWRkZW5GbG9hdHMiLCJQYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyIiwiZmluZEJ5RmxvYXQiLCJmb3JiaWQiLCJpc0ZvcmJpZGRlbiIsImZsb2F0RnJhZ21lbnQiLCJkb250SW52YWxpZGF0ZSIsImFkZFBhZ2VGbG9hdEZyYWdtZW50IiwiZmxvYXRGcmFnbWVudHMiLCJmcjEiLCJmcjIiLCJpbnZhbGlkYXRlIiwicmVtb3ZlUGFnZUZsb2F0RnJhZ21lbnQiLCJmcmFnbWVudCIsImZpbmRQYWdlRmxvYXRGcmFnbWVudCIsImhhc0Zsb2F0IiwiaGFzRmxvYXRGcmFnbWVudHMiLCJnZXRGbG93TmFtZSIsImFuY2hvclZpZXdOb2RlIiwiZmxvYXRBbmNob3JzIiwiYW5jaG9ycyIsImNvbGxlY3RQYWdlRmxvYXRBbmNob3JzIiwiZmxvYXRJZCIsImdldERlZmVycmVkUGFnZUZsb2F0Q29udGludWF0aW9ucyIsImNvbnQiLCJkZWZlclBhZ2VGbG9hdCIsImlnbm9yZVJlZmVyZW5jZSIsImhhc1ByZWNlZGluZ0Zsb2F0c0RlZmVycmVkVG9OZXh0IiwiaXNBbGxvd2VkVG9QcmVjZWRlIiwibGFzdEZvbGxvd2luZyIsImxhc3RGb2xsb3dpbmdPZlBhcmVudCIsImdldExhc3RGb2xsb3dpbmdGbG9hdEluRnJhZ21lbnRzIiwiYzEiLCJjMiIsImdldFBhZ2VGbG9hdENvbnRpbnVhdGlvbnNEZWZlcnJlZFRvTmV4dCIsImdldEZsb2F0c0RlZmVycmVkVG9OZXh0SW5DaGlsZENvbnRleHRzIiwiY2hlY2tBbmRGb3JiaWRGbG9hdEZvbGxvd2luZ0RlZmVycmVkRmxvYXQiLCJub3RBbGxvd2VkRmxvYXQiLCJmaW5kTm90QWxsb3dlZEZsb2F0IiwibG9ja2VkIiwicmVtb3ZlRW5kRmxvYXRGcmFnbWVudHMiLCJjaGVja0FuZEZvcmJpZE5vdEFsbG93ZWRGbG9hdCIsImRlZmVycmVkRmxvYXRzIiwiZmxvYXRzSW5GcmFnbWVudHMiLCJmciIsImYxIiwiZjIiLCJpbnZhbGlkYXRlZCIsImhhc1NhbWVDb250YWluZXJBcyIsImxheW91dENvbnN0cmFpbnRzIiwiaXNJbnZhbGlkYXRlZCIsImxvZ2ljYWxGbG9hdFNpZGUiLCJ0b0xvZ2ljYWwiLCJzdGFzaEVuZEZsb2F0RnJhZ21lbnRzIiwiZnJhZ21lbnRGbG9hdFNpZGUiLCJzaG91bGRCZVN0YXNoZWRCZWZvcmUiLCJzdGFzaGVkRmxvYXRGcmFnbWVudHMiLCJzdGFzaGVkIiwicmVzdG9yZVN0YXNoZWRGcmFnbWVudHMiLCJkaXNjYXJkU3Rhc2hlZEZyYWdtZW50cyIsImdldFN0YXNoZWRGbG9hdEZyYWdtZW50cyIsImxheW91dENvbnRleHQiLCJsb2dpY2FsU2lkZSIsInBoeXNpY2FsU2lkZSIsImxpbWl0IiwiZ2V0TGltaXRWYWx1ZUlubmVyIiwicGFyZW50TGltaXQiLCJnZXRMaW1pdFZhbHVlIiwibGltaXRzIiwiZ2V0TGltaXRWYWx1ZXNJbm5lciIsInBhZGRpbmdSZWN0IiwiZ2V0UGFkZGluZ1JlY3QiLCJmbG9hdE1pbldyYXBCbG9ja1N0YXJ0IiwiZmxvYXRNaW5XcmFwQmxvY2tFbmQiLCJyZXNvbHZlTGVuZ3RoUGVyY2VudGFnZSIsImNvbnRhaW5lckxlbmd0aCIsImNvbnZlcnRMZW5ndGhUb1B4Iiwicm9vdFZpZXdOb2RlcyIsImFuY2hvckVkZ2UiLCJmb3JjZSIsInNldEZsb2F0QXJlYURpbWVuc2lvbnMiLCJibG9ja1N0YXJ0IiwiYmxvY2tFbmQiLCJpbmxpbmVTdGFydCIsImlubGluZUVuZCIsImJsb2NrT2Zmc2V0IiwiaW5saW5lT2Zmc2V0IiwibGltaXRCbG9ja1N0YXJ0RW5kVmFsdWVXaXRoT3BlblJlY3QiLCJnZXRSZWN0Iiwib3BlblJlY3QiLCJHZW9tZXRyeVV0aWwudW5yb3RhdGVCb3giLCJibG9ja1NpemUiLCJpbmxpbmVTaXplIiwib3V0ZXJCbG9ja1NpemUiLCJvdXRlcklubGluZVNpemUiLCJHZW9tZXRyeVV0aWwucm90YXRlQm94IiwiR2VvbWV0cnlVdGlsLmZpbmRVcHBlcm1vc3RGdWxseU9wZW5SZWN0IiwiR2VvbWV0cnlVdGlsLmZpbmRCb3R0b21tb3N0RnVsbHlPcGVuUmVjdCIsImdldEluc2V0QmVmb3JlIiwiZ2V0SW5zZXRBZnRlciIsImdldEluc2V0U3RhcnQiLCJnZXRJbnNldEVuZCIsImF2YWlsYWJsZUJsb2NrU2l6ZSIsImNvbnRhaW5lclJlY3QiLCJTaXppbmcuZ2V0U2l6ZSIsIlNpemluZy5TaXplIiwiYWRqdXN0Q29udGVudFJlbGF0aXZlU2l6ZSIsImdldENvbnRlbnRJbmxpbmVTaXplIiwiYXZhaWxhYmxlSW5saW5lU2l6ZSIsInNldElubGluZVBvc2l0aW9uIiwic2V0QmxvY2tQb3NpdGlvbiIsImdldEZsb2F0RnJhZ21lbnRFeGNsdXNpb25zIiwiZWRnZSIsIkluZmluaXR5IiwiaXNDb250aW51YXRpb25PZkFscmVhZHlBcHBlYXJlZEZsb2F0IiwiaXNGcmFnbWVudFdpdGhBbHJlYWR5QXBwZWFyZWRGbG9hdCIsImNvbHVtblJlY3QiLCJjb2x1bW5CbG9ja0VuZCIsImJsb2NrU3RhcnRMaW1pdCIsImdldFBhZ2VGbG9hdFBsYWNlbWVudENvbmRpdGlvbiIsImxvZ2ljYWxDbGVhclNpZGUiLCJsb2dpY2FsU2lkZXMiLCJmbG9hdE9yZGVyIiwiaXNQcmVjZWRpbmdGcmFnbWVudCIsImhhc1ByZWNlZGluZ0ZyYWdtZW50SW5DaGlsZHJlbiIsImhhc1ByZWNlZGluZ0ZyYWdtZW50SW5QYXJlbnRzIiwiZ2V0TGF5b3V0Q29uc3RyYWludHMiLCJsYXlvdXRDb25zdHJhaW50IiwiYWRkTGF5b3V0Q29uc3RyYWludCIsInBhZ2VGbG9hdExheW91dFN0cmF0ZWdpZXMiLCJzdHJhdGVneSIsImFwcGxpZXNUb05vZGVDb250ZXh0IiwiYXBwbGllc1RvRmxvYXQiLCJ0b05vZGVQb3NpdGlvbiIsInJlc29sdmVGbG9hdFJlZmVyZW5jZUZyb21Db2x1bW5TcGFuIiwiZmxvYXRBcmVhIiwiZmxvYXRDb250YWluZXIiLCJQYWdlRmxvYXRzLlBhZ2VGbG9hdEZyYWdtZW50IiwiRm9vdG5vdGUiLCJQYWdlRmxvYXRzLlBhZ2VGbG9hdCIsIkZvb3Rub3RlRnJhZ21lbnQiLCJMaW5lRm9vdG5vdGVQb2xpY3lMYXlvdXRDb25zdHJhaW50IiwiVnRyZWUuaXNTYW1lTm9kZVBvc2l0aW9uIiwiUGFnZUZsb2F0cy5QYWdlRmxvYXRMYXlvdXRTdHJhdGVneVJlc29sdmVyIiwiUGFnZUZsb2F0cy5GbG9hdFJlZmVyZW5jZSIsInJlZ2lvbkNvbnRleHQiLCJhcHBseUZvb3Rub3RlU3R5bGUiLCJjb252ZXJ0UGVyY2VudGFnZVNpemVzVG9QeCIsInNldENvbXB1dGVkSW5zZXRzIiwic2V0Q29tcHV0ZWRXaWR0aEFuZEhlaWdodCIsImNvbnN0cmFpbnQiLCJmb3JjZWRCcmVha1ZhbHVlcyIsInJlY3RvIiwidmVyc28iLCJyZWdpb24iLCJpc0ZvcmNlZEJyZWFrVmFsdWUiLCJhdm9pZEJyZWFrVmFsdWVzIiwiYXZvaWQtcGFnZSIsImF2b2lkLWNvbHVtbiIsImF2b2lkLXJlZ2lvbiIsImlzQXZvaWRCcmVha1ZhbHVlIiwicmVzb2x2ZUVmZmVjdGl2ZUJyZWFrVmFsdWUiLCJzZWNvbmQiLCJmaXJzdElzRm9yY2VkQnJlYWtWYWx1ZSIsInNlY29uZElzRm9yY2VkQnJlYWtWYWx1ZSIsImJyZWFrVmFsdWVUb1N0YXJ0U2lkZVZhbHVlIiwiYnJlYWtWYWx1ZSIsInN0YXJ0U2lkZVZhbHVlVG9CcmVha1ZhbHVlIiwic3RhcnRTaWRlVmFsdWUiLCJjYWxjdWxhdGVFZGdlIiwiZXh0cmFPZmZzZXQiLCJjYm94IiwicmFuZ2UiLCJjcmVhdGVSYW5nZSIsInNldFN0YXJ0Iiwic2V0RW5kIiwiYm94ZXMiLCJnZXRSYW5nZUNsaWVudFJlY3RzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZnVsbFJhbmdlIiwiZnVsbEJveGVzIiwiZnVsbEJveCIsIm1heFNpemUiLCJib3hTaXplIiwiZ2V0RWxlbWVudEhlaWdodCIsImdldENvbXB1dGVkTWFyZ2luIiwiaXNPcnBoYW4iLCJyZW1vdmVGb2xsb3dpbmdTaWJsaW5ncyIsImlzU3BlY2lhbCIsImlzU3BlY2lhbE5vZGVDb250ZXh0IiwiUGx1Z2luLnJlZ2lzdGVySG9vayIsIkFic3RyYWN0QnJlYWtQb3NpdGlvbiIsImNhbGN1bGF0ZU9mZnNldCIsImdldE5vZGVDb250ZXh0IiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0IiwiZWxlbWVudHNPZmZzZXRzIiwicmVwZXRpdGl2ZUVsZW1lbnQiLCJtaW5pbXVtIiwiY2FsY3VsYXRlTWluaW11bU9mZnNldCIsIkVkZ2VCcmVha1Bvc2l0aW9uIiwiYnJlYWtPbkVkZ2UiLCJvdmVyZmxvd3MiLCJvdmVyZmxvd0lmUmVwZXRpdGl2ZUVsZW1lbnRzRHJvcHBlZCIsInBlbmFsdHkiLCJ1cGRhdGVPdmVyZmxvd3MiLCJnZXRNaW5CcmVha1BlbmFsdHkiLCJmaW5kRWRnZUJyZWFrUG9zaXRpb24iLCJpc0VkZ2VVcGRhdGVkIiwicHJlZmVyRHJvcHBpbmciLCJpc0ZpcnN0Q29udGVudE9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXIiLCJCcmVhay5pc0F2b2lkQnJlYWtWYWx1ZSIsImNsb25lZFBhZGRpbmdCb3JkZXIiLCJjYWxjdWxhdGVDbG9uZWRQYWRkaW5nQm9yZGVyIiwiTGF5b3V0SGVscGVyLmNhbGN1bGF0ZUVkZ2UiLCJ1cGRhdGVFZGdlIiwib2Zmc2V0cyIsImlzT3ZlcmZsb3duIiwiaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCIsInJlcGV0aXRpdmVFbGVtZW50cyIsImdldFJlcGV0aXRpdmVFbGVtZW50cyIsImlzRmlyc3RDb250ZW50Tm9kZSIsImJsb2NraWZ5IiwiZGlzcGxheVN0ciIsImJsb2NraWZpZWRTdHIiLCJpc0Fic29sdXRlbHlQb3NpdGlvbmVkIiwiZ2V0Q29tcHV0ZWREaXNsYXlWYWx1ZSIsImlzQmxvY2siLCJpc0lubGluZUxldmVsIiwiTGF5b3V0UHJvY2Vzc29yUmVzb2x2ZXIiLCJQbHVnaW4uSE9PS1MiLCJSRVNPTFZFX0xBWU9VVF9QUk9DRVNTT1IiLCJwcm9jZXNzb3IiLCJCbG9ja0xheW91dFByb2Nlc3NvciIsImxlYWRpbmdFZGdlIiwiaXNGbG9hdE5vZGVDb250ZXh0IiwibGF5b3V0RmxvYXRPckZvb3Rub3RlIiwiaXNCcmVha2FibGUiLCJsYXlvdXRCcmVha2FibGVCbG9jayIsImxheW91dFVuYnJlYWthYmxlIiwiY29sdW1uQmxvY2tTaXplIiwiQnJlYWtQb3NpdGlvbi5FZGdlQnJlYWtQb3NpdGlvbiIsInN0b3BBdE92ZXJmbG93IiwicGFyZW50Tm9kZUNvbnRleHQiLCJyZW1vdmVTZWxmIiwiTGF5b3V0SGVscGVyLnJlbW92ZUZvbGxvd2luZ1NpYmxpbmdzIiwiZm9yY2VSZW1vdmVTZWxmIiwiZW5kT2ZDb2x1bW4iLCJjbGVhck92ZXJmbG93blZpZXdOb2RlcyIsImZpeEp1c3RpZmljYXRpb25JZk5lZWRlZCIsInByb2Nlc3NGcmFnbWVudGVkQmxvY2tFZGdlIiwiQmxvY2tGb3JtYXR0aW5nQ29udGV4dCIsImZpcnN0VGltZSIsImJsb2NrTGF5b3V0UHJvY2Vzc29yIiwiaXNJbnN0YW5jZU9mQmxvY2tGb3JtYXR0aW5nQ29udGV4dCIsIlJFU09MVkVfRk9STUFUVElOR19DT05URVhUIiwiRGlzcGxheS5pc0Jsb2NrIiwiQWJzdHJhY3RMYXlvdXRSZXRyeWVyIiwicHJlcGFyZUxheW91dCIsInRyeUxheW91dCIsInNhdmVTdGF0ZSIsIm1vZGUiLCJyZXNvbHZlTGF5b3V0TW9kZSIsImRvTGF5b3V0IiwicG9zaXRpb25BZnRlciIsImFjY2VwdGVkIiwiYWNjZXB0IiwicG9zdExheW91dCIsImluaXRpYWxQb3NpdGlvbiIsImNsZWFyTm9kZXMiLCJyZXN0b3JlU3RhdGUiLCJzaWJsaW5nIiwiaW5pdGlhbEJyZWFrUG9zaXRpb25zIiwiYnJlYWtQb3NpdGlvbnMiLCJpbml0aWFsRnJhZ21lbnRMYXlvdXRDb25zdHJhaW50cyIsImZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMiLCJpbml0aWFsU3RhdGVPZkZvcm1hdHRpbmdDb250ZXh0IiwiTGF5b3V0SXRlcmF0b3IiLCJpbml0aWFsTm9kZUNvbnRleHQiLCJpbml0aWFsU3RhdGUiLCJsb29wV2l0aEZyYW1lIiwibG9vcEZyYW1lIiwiVnRyZWVJbXBsLmNhbklnbm9yZSIsImFmdGVySWdub3JlZFRleHROb2RlIiwic3RhcnRJZ25vcmVkVGV4dE5vZGUiLCJhZnRlck5vbkVsZW1lbnROb2RlIiwic3RhcnROb25FbGVtZW50Tm9kZSIsImFmdGVySW5saW5lRWxlbWVudE5vZGUiLCJzdGFydElubGluZUVsZW1lbnROb2RlIiwiYWZ0ZXJOb25JbmxpbmVFbGVtZW50Tm9kZSIsInN0YXJ0Tm9uSW5saW5lRWxlbWVudE5vZGUiLCJhZnRlck5vbkRpc3BsYXlhYmxlTm9kZSIsInN0YXJ0Tm9uRGlzcGxheWFibGVOb2RlIiwibmV4dFJlc3VsdCIsImJyZWFrIiwibmV4dEluVHJlZSIsImF0VW5mb3JjZWRCcmVhayIsIm5leHROb2RlQ29udGV4dCIsImJyZWFrTG9vcCIsImNvbnRpbnVlTG9vcCIsIkVkZ2VTa2lwcGVyIiwiYnJlYWtBdFRoZUVkZ2UiLCJvblN0YXJ0RWRnZXMiLCJsZWFkaW5nRWRnZUNvbnRleHRzIiwibGFzdEFmdGVyTm9kZUNvbnRleHQiLCJuZWVkRm9yY2VkQnJlYWsiLCJCcmVhay5pc0ZvcmNlZEJyZWFrVmFsdWUiLCJwYWdlQnJlYWtUeXBlIiwiY2hlY2tPdmVyZmxvd0FuZFNhdmVFZGdlQW5kQnJlYWtQb3NpdGlvbiIsIm1vZGlmeSIsInZpb2xhdGVDb25zdHJhaW50IiwiYWxsb3dMYXlvdXQiLCJCcmVhay5yZXNvbHZlRWZmZWN0aXZlQnJlYWtWYWx1ZSIsInN0YXJ0Tm9uSW5saW5lQm94IiwiZW5kRW1wdHlOb25JbmxpbmVCb3giLCJlbmROb25JbmxpbmVCb3giLCJyZXBldGl0aXZlRWxlbWVudHNDYWNoZSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsIlNIQURPVyIsImdldFBzZXVkb05hbWUiLCJzZXRQc2V1ZG9OYW1lIiwiUHNldWRvZWxlbWVudFN0eWxlciIsImRlZXAiLCJnZXRTdHlsZSIsIkNzc0Nhc2NhZGUuZ2V0U3R5bGVNYXAiLCJuZXN0IiwiQ3NzQ2FzY2FkZS5DYXNjYWRlVmFsdWUiLCJjb250ZW50UHJvY2Vzc2VkIiwiY29udGVudFZhbCIsIlZ0cmVlLm5vblRyaXZpYWxDb250ZW50IiwiVnRyZWUuQ29udGVudFByb3BlcnR5SGFuZGxlciIsImlzSW5zdGFuY2VPZkFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50IiwicmVnaXN0ZXJGcmFnbWVudEluZGV4IiwiTWF0Y2hlcnMuTnRoRnJhZ21lbnRNYXRjaGVyIiwiQWZ0ZXJJZkNvbnRpbnVlcyIsInZpZXdSb290IiwicHNldWRvQ29sdW1uIiwiUHNldWRvQ29sdW1uIiwiaW5pdGlhbFBhZ2VCcmVha1R5cGUiLCJnZXRDb2x1bW4iLCJsYXlvdXQiLCJjcmVhdGVOb2RlUG9zaXRpb25Gb3JQc2V1ZG9FbGVtZW50IiwicHNldWRvRWxlbWVudCIsIlBzZXVkb0VsZW1lbnQuZG9jdW1lbnQiLCJQc2V1ZG9FbGVtZW50LnNldFBzZXVkb05hbWUiLCJjcmVhdGVTaGFkb3dDb250ZXh0IiwiVnRyZWVJbXBsLkNodW5rUG9zaXRpb24iLCJWdHJlZUltcGwuU2hhZG93Q29udGV4dCIsIlJPT1RFRCIsIkFmdGVySWZDb250aW51ZXNMYXlvdXRDb25zdHJhaW50IiwicHNldWRvRWxlbWVudEhlaWdodCIsIm92ZXJmbG93bk5vZGVDb250ZXh0IiwiYWxsb3dlZCIsImFmZmVjdFRvIiwiQWZ0ZXJJZkNvbnRpbnVlc0VsZW1lbnRzT2Zmc2V0IiwicHJvY2Vzc0FmdGVySWZDb250aW51ZXNPZk5vZGVDb250ZXh0IiwiTGF5b3V0SGVscGVyLmdldEVsZW1lbnRIZWlnaHQiLCJwcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlcyIsIm1lZGlhVGFncyIsInN2ZyIsImF1ZGlvIiwidmlkZW8iLCJBbGxMYXlvdXRDb25zdHJhaW50IiwiY29uc3RyYWludHMiLCJCb3hCcmVha1Bvc2l0aW9uIiwiQnJlYWtQb3NpdGlvbi5BYnN0cmFjdEJyZWFrUG9zaXRpb24iLCJjaGVja1BvaW50cyIsImFscmVhZHlFdmFsdWF0ZWQiLCJicmVha05vZGVDb250ZXh0IiwiZmluZEJveEJyZWFrUG9zaXRpb24iLCJpc1NwZWNpYWxJbmxpbmVEaXNwbGF5IiwiQ29sdW1uIiwiVnRyZWVJbXBsLkNvbnRhaW5lciIsInZpZXdEb2N1bWVudCIsInNldENvbnRhaW5lciIsInN0YXJ0RWRnZSIsImJlZm9yZUVkZ2UiLCJlbmRFZGdlIiwiYWZ0ZXJFZGdlIiwiaXNGbG9hdCIsImZvb3Rub3RlRWRnZSIsInBhZ2VGbG9hdEV4Y2x1c2lvbnMiLCJzZXRWaWV3Um9vdCIsInN0ZXBJbmRleCIsInByZXZDb250ZXh0IiwiVnRyZWVJbXBsLm1ha2VOb2RlQ29udGV4dEZyb21Ob2RlUG9zaXRpb25TdGVwIiwiZmxvd1Jvb3RGb3JtYXR0aW5nQ29udGV4dCIsImNhbGN1bGF0ZU9mZnNldEluTm9kZUZvck5vZGVDb250ZXh0Iiwic2V0Q3VycmVudCIsImZpcnN0Q2hhclBhdHRlcm4iLCJwZWVsT2ZmIiwiYm9keUZyYW1lIiwiTGF5b3V0SGVscGVyLmlzU3BlY2lhbE5vZGVDb250ZXh0IiwibWF5YmVQZWVsT2ZmIiwicG9zaXRpb24xUGFyYW0iLCJwb3NpdGlvblBhcmFtIiwicG9zdExheW91dEJsb2NrIiwicG9zaXRpb24xIiwiY3NzRmxvYXQiLCJnZXRUb3BFZGdlIiwiZ2V0TGVmdEVkZ2UiLCJnZXRCb3R0b21FZGdlIiwiZ2V0UmlnaHRFZGdlIiwiY3JlYXRlRmxvYXQiLCJMYXlvdXRIZWxwZXIuaXNPcnBoYW4iLCJpbnNldHMiLCJHZW9tZXRyeVV0aWwuSW5zZXRzIiwicGFyc2VDb21wdXRlZExlbmd0aCIsImJvcmRlckxlZnRXaWR0aCIsImJvcmRlclRvcFdpZHRoIiwiYm9yZGVyUmlnaHRXaWR0aCIsImJvcmRlckJvdHRvbVdpZHRoIiwiYm94U2l6aW5nIiwibm9kZUNvbnRleHRJbiIsImJ1aWxkRGVlcEVsZW1lbnRWaWV3Iiwibm9kZUNvbnRleHRBZnRlciIsImZsb2F0QkJveCIsImZsb2F0Qm94IiwicGFyZW50Qm94IiwiZ2V0U3RhcnRFZGdlIiwiZ2V0RW5kRWRnZSIsImZsb2F0Qm94TWVhc3VyZSIsImZsb2F0SG9yQm94IiwiZGlyIiwiYm90dG9tbW9zdEZsb2F0VG9wIiwiYm94RXh0ZW50IiwiZmxvYXRXaWR0aCIsImZsb2F0SGVpZ2h0IiwiZmxvYXRCb3R0b20iLCJnZXRDb21wdXRlZEluc2V0cyIsImdldENvbnRhaW5pbmdCbG9ja0ZvckFic29sdXRlIiwiZmxvYXRCb3hFZGdlIiwiZmxvYXRCb3hUb3AiLCJraWxsRmxvYXRzIiwiZmxvYXRCYW5kcyIsImxhc3RZIiwiZmxvYXRCYW5kIiwiY3JlYXRlRmxvYXRzIiwibGVmdEZsb2F0RWRnZSIsInJpZ2h0RmxvYXRFZGdlIiwidXBkYXRlTWF4UmVhY2hlZEFmdGVyRWRnZSIsImZsb2F0TGF5b3V0Q29udGV4dCIsImZvcmNlTm9uZml0dGluZyIsImNvbnRhaW5pbmdCbG9ja1JlY3QiLCJhZGp1c3RQYWdlRmxvYXRBcmVhIiwiZml0V2l0aGluQ29udGFpbmVyIiwiZmxvYXRBcmVhRWxlbWVudCIsInBhcmVudFBhZ2VGbG9hdExheW91dENvbnRleHQiLCJQYWdlRmxvYXRzLlBhZ2VGbG9hdExheW91dENvbnRleHQiLCJwYXJlbnRDb250YWluZXIiLCJQYWdlRmxvYXRBcmVhIiwic2V0dXBGbG9hdEFyZWEiLCJhbGxvd0ZyYWdtZW50ZWQiLCJwYWdlRmxvYXRGcmFnbWVudCIsIm9yaWdpbmFsQ29udGludWF0aW9ucyIsImZpcnN0RmxvYXQiLCJjcmVhdGVQYWdlRmxvYXRBcmVhIiwibmV3UG9zaXRpb24iLCJmYWlsZWQiLCJmbG9hdENodW5rUG9zaXRpb24iLCJuZXdGcmFnbWVudCIsImNyZWF0ZVBhZ2VGbG9hdEZyYWdtZW50IiwiY2FuY2VsTGF5b3V0IiwibGF5b3V0U2luZ2xlUGFnZUZsb2F0RnJhZ21lbnQiLCJsYXlvdXRTdGFzaGVkUGFnZUZsb2F0cyIsInN1Y2Nlc3MiLCJQYWdlRmxvYXRzLlBhZ2VGbG9hdENvbnRpbnVhdGlvbiIsImV4Y2x1ZGVkIiwibmV3RmxvYXRBcmVhcyIsIm5ld0ZyYWdtZW50cyIsInN0YXNoZWRGcmFnbWVudCIsImFuY2hvciIsImFwcGx5UHNldWRvZWxlbWVudFN0eWxlIiwiY29sdW1uQ29udGV4dCIsImZpbmRCeU5vZGVDb250ZXh0IiwiY3JlYXRlUGFnZUZsb2F0IiwiVnRyZWVJbXBsLm5ld05vZGVQb3NpdGlvbkZyb21Ob2RlQ29udGV4dCIsInNldEZsb2F0QW5jaG9yVmlld05vZGUiLCJyZWdpc3RlclBhZ2VGbG9hdEFuY2hvciIsIm5vZGVDb250ZXh0T3ZlcmZsb3dpbmdEdWVUb1JlcGV0aXRpdmVFbGVtZW50cyIsImxheW91dFBhZ2VGbG9hdElubmVyIiwiaW5zZXJ0aW9uUG9pbnQiLCJzcGFuIiwiaW5uZXIiLCJ0ZXh0SW5kZW50IiwidGV4dEFsaWduIiwibGVmdFBvcyIsInJpZ2h0UG9zIiwiaW5saW5lQmxvY2siLCJwYWRkaW5nIiwicGFkZGluZ1N0ciIsImluc2VydEFmdGVyIiwiaHlwaGVuQ2hhciIsInJlc29sdmVIeXBoZW5hdGVDaGFyYWN0ZXIiLCJwcmV2U2libGluZyIsInByZXZUZXh0IiwiY3JlYXRlSnVzdGlmaWNhdGlvbkFkanVzdG1lbnRFbGVtZW50IiwiYnIiLCJzcGFuUmVjdCIsImJyUmVjdCIsImFkZEFuZEFkanVzdEp1c3RpZmljYXRpb25FbGVtZW50IiwiY29tcGVuc2F0ZUp1c3RpZmljYXRpb25MaW5lSGVpZ2h0IiwicmVzTm9kZUNvbnRleHQiLCJsYXN0Q2hlY2tQb2ludHMiLCJ0b3RhbExpbmVDb3VudCIsImxpbmVQb3NpdGlvbnMiLCJmaW5kTGluZVBvc2l0aW9ucyIsImxpbmVCcmVhayIsImZpbmRBY2NlcHRhYmxlQnJlYWtJbnNpZGUiLCJmaW5pc2hCcmVhayIsInJlc05vZGVDb250ZXh0UGFyYW0iLCJidWlsZFZpZXdUb05leHRCbG9ja0VkZ2UiLCJ0cmFpbGluZ0VkZ2VDb250ZXh0cyIsIm1heFBvcyIsIm1pbk5lZyIsImNoZWNrUG9pbnRJbmRleCIsImxpbmVDb250Iiwib3ZlcmZsb3duIiwiQnJlYWtQb3NpdGlvbi5jYWxjdWxhdGVPZmZzZXQiLCJnZXRUcmFpbGluZ01hcmdpbkVkZ2VBZGp1c3RtZW50IiwicHJvY2Vzc0xpbmVTdHlsaW5nIiwic2F2ZUJveEJyZWFrUG9zaXRpb24iLCJpc0xvbmVJbWFnZSIsIlBPU1RfTEFZT1VUX0JMT0NLIiwibGluZVBvc2l0aW9uIiwiaXNVcGRhdGVNYXhSZWFjaGVkQWZ0ZXJFZGdlIiwiZWZmZWN0aXZlTGluZVBvc2l0aW9uIiwibG93Q1AiLCJsb3cxIiwiaGlnaENQIiwiaGlnaDEiLCJtaWQxIiwiZWRnZVBvc2l0aW9uIiwiZmluZEVuZE9mTGluZSIsInRleHROb2RlIiwicmVzb2x2ZVRleHROb2RlQnJlYWtlciIsImJyZWFrVGV4dE5vZGUiLCJSRVNPTFZFX1RFWFRfTk9ERV9CUkVBS0VSIiwiVGV4dE5vZGVCcmVha2VyIiwid2VudFVwIiwibGFzdEdvb2QiLCJoYXZlU3RhcnQiLCJlbmROb3RSZWFjaGVkIiwic2Vla1JhbmdlIiwic2V0U3RhcnRCZWZvcmUiLCJMYXlvdXRIZWxwZXIuaXNTcGVjaWFsIiwic2V0RW5kQWZ0ZXIiLCJib3hMaXN0IiwiZ2V0UmFuZ2VCb3hlcyIsIlZ0cmVlSW1wbC5jbGllbnRyZWN0RGVjcmVhc2luZ1JpZ2h0IiwiVnRyZWVJbXBsLmNsaWVudHJlY3RJbmNyZWFzaW5nVG9wIiwibGluZUJlZm9yZSIsImxpbmVBZnRlciIsImxpbmVFbmQiLCJsaW5lTGVuZ3RoIiwib3ZlcmxhcCIsImdldEJveFNpemUiLCJnZXRCZWZvcmVFZGdlIiwiZ2V0QWZ0ZXJFZGdlIiwiQmFzZS5udW1iZXJDb21wYXJlIiwid2Fsa1VwQmxvY2tzIiwiRWxlbWVudCIsInBhZGRpbmdCb3JkZXJzIiwiZ2V0Q29tcHV0ZWRQYWRkaW5nQm9yZGVyIiwiYnAiLCJyZXBldGl0aXZlRWxlbWVudHNPZmZzZXQiLCJnZXRPZmZzZXRCeVJlcGV0aXRpdmVFbGVtZW50cyIsImZpcnN0T3ZlcmZsb3dpbmciLCJmaW5kRmlyc3RPdmVyZmxvd2luZ0VkZ2VBbmRDaGVja1BvaW50IiwibGluZUluZGV4IiwiQmFzZS5iaW5hcnlTZWFyY2giLCJmb3JjZUN1dEJlZm9yZU92ZXJmbG93aW5nIiwiY2hlY2tQb2ludCIsImJsb2NrRWRnZSIsImdldEFmdGVyRWRnZU9mQmxvY2tDb250YWluZXIiLCJibG9ja1BhcmVudCIsImNwIiwiTGF5b3V0UHJvY2Vzc29yLkxheW91dFByb2Nlc3NvclJlc29sdmVyIiwiZmluZCIsIkxheW91dFByb2Nlc3Nvci5ibG9ja0xheW91dFByb2Nlc3NvciIsIm5leHRQZW5hbHR5IiwiZmluZEFjY2VwdGFibGVCcmVhayIsIm1pblBlbmFsdHkiLCJicmVha1Bvc2l0aW9uIiwiaW5pdGlhbENvbXB1dGVkQmxvY2tTaXplIiwic2tpcFRhaWxFZGdlcyIsImZsb3dQb3NpdGlvbiIsIm1hcmdpbkVkZ2UiLCJzYXZlRXZlbk92ZXJmbG93biIsImNoZWNrT3ZlcmZsb3dBbmRTYXZlRWRnZSIsInNhdmVFZGdlQnJlYWtQb3NpdGlvbiIsInNwYWNlciIsInNwYWNlckJveCIsImNsZWFyRWRnZSIsImdldFBhZ2VGbG9hdENsZWFyRWRnZSIsIndBZGoiLCJoQWRqIiwiTGF5b3V0UHJvY2Vzc29yLmlzSW5zdGFuY2VPZkJsb2NrRm9ybWF0dGluZ0NvbnRleHQiLCJmb3JjZWRCcmVha1ZhbHVlIiwiaXNCRkMiLCJwcm9jZXNzRm9yY2VkQnJlYWsiLCJsYXlvdXRQcm9jZXNzb3IiLCJhcHBseUNsZWFyYW5jZSIsInplcm9JbmRlbnQiLCJ2aWV3VGFnIiwibm9kZUNvbnRleHRQYXJhbSIsImxhc3RBZnRlclBvc2l0aW9uIiwicmVzdWx0Tm9kZUNvbnRleHQiLCJQYWdlRmxvYXRzLmlzUGFnZUZsb2F0IiwibGF5b3V0UGFnZUZsb2F0IiwibGF5b3V0RmxvYXQiLCJza2lwRWRnZXMiLCJzdG9wQnlPdmVyZmxvdyIsImNvbHVtbkJCb3giLCJpbmNsdWRlIiwiZXhjbHVkZSIsImdyYW51bGFyaXR5Iiwic2VnbWVudHMiLCJzZWdtZW50IiwiYWRkU2VnbWVudHMiLCJzZWdtZW50Q291bnQiLCJsb3dlc3RJbmNsdWRlSW5kZXgiLCJzZWdtZW50SW5kZXgiLCJhY3RpdmVTZWdtZW50cyIsInkybWluIiwieW4iLCJiYW5kSW50ZXJzZWN0aW9ucyIsImJpMSIsImJpMiIsInJ3IiwiZ2V0SW5uZXJTaGFwZSIsImdldEV4Y2x1c2lvbnMiLCJjaHVua1Bvc2l0aW9ucyIsImluaXRHZW9tIiwiYnJlYWtBdEVkZ2UiLCJjcmVhdGVFZGdlQnJlYWtQb3NpdGlvbiIsImlzRnVsbFdpdGhQYWdlRmxvYXRzIiwib3BlbkFsbFZpZXdzIiwibmV4dEluVHJlZUxpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJldHJ5ZXIiLCJDb2x1bW5MYXlvdXRSZXRyeWVyIiwiZG9GaW5pc2hCcmVhayIsInBzZXVkb1BhcmVudCIsImRvRmluaXNoQnJlYWtPZkZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMiLCJpc0NvbHVtbkZ1bGxXaXRoUGFnZUZsb2F0cyIsImdldE1heEJsb2NrU2l6ZU9mUGFnZUZsb2F0cyIsInNvcnRlZEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMiLCJnZXRQcmlvcml0eU9mRmluaXNoQnJlYWsiLCJwZW5kaW5nIiwibGF5b3V0TmV4dCIsImZpbmRBY2NlcHRhYmxlQnJlYWtQb3NpdGlvbiIsImJyZWFrUG9zaXRpb25DaG9zZW4iLCJpc1BzZXVkb2VsZW1lbnQiLCJibG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMiLCJnZXRCbG9ja1N0YXJ0RWRnZU9mQmxvY2tFbmRGbG9hdHMiLCJpc0Zpbml0ZSIsImJsb2NrRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzIiwiaXNJbnN0YW5jZU9mUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50IiwiZ2V0RWxlbWVudHNPZmZzZXRzRm9yVGFibGVDZWxsIiwicGFyZW50Q2xvbmVkUGFkZGluZ0JvcmRlciIsInN0YXJ0Tm9kZUNvbnRleHRzIiwiYWxsb3dCcmVha0F0U3RhcnRQb3NpdGlvbiIsInN0YXJ0Tm9kZUNvbnRleHQiLCJjaGVja3BvaW50SW5kZXgiLCJ2aWV3SW5kZXgiLCJicmVha0FmdGVyU29mdEh5cGhlbiIsImJyZWFrQWZ0ZXJPdGhlckNoYXJhY3RlciIsInVwZGF0ZU5vZGVDb250ZXh0IiwicmVwbGFjZURhdGEiLCJjaDAiLCJjaDEiLCJCYXNlLmlzTGV0dGVyIiwiTGF5b3V0UmV0cnllcnMuQWJzdHJhY3RMYXlvdXRSZXRyeWVyIiwiRGVmYXVsdExheW91dE1vZGUiLCJpbml0aWFsT3ZlcmZsb3duIiwiaGFzTmV4dENhbmRpZGF0ZSIsIm5leHRDYW5kaWRhdGUiLCJmaXhGbG9hdFNpemVBbmRQb3NpdGlvbiIsInJlZldpZHRoIiwicmVmSGVpZ2h0IiwiY29udmVydFBlcmNlbnRhZ2VUb1B4IiwicmVmVmFsdWUiLCJ2YWx1ZVN0cmluZyIsIkJhc2UuZ2V0Q1NTUHJvcGVydHkiLCJwZXJjZW50YWdlVmFsdWUiLCJyb290Vmlld05vZGUiLCJmbG9hdE1hcmdpbnMiLCJSZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0Iiwicm9vdFNvdXJjZU5vZGUiLCJnZXRSb290Tm9kZUNvbnRleHQiLCJiZWxvbmdzVG8iLCJTaGFyZWQucmVwZXRpdGl2ZUVsZW1lbnRzQ2FjaGUiLCJlbGVtZW50cyIsIlJlcGV0aXRpdmVFbGVtZW50cyIsIm93bmVyU291cmNlTm9kZSIsImhlYWRlck5vZGVQb3NpdGlvbiIsImhlYWRlclNvdXJjZU5vZGUiLCJoZWFkZXJWaWV3Tm9kZSIsImZvb3Rlck5vZGVQb3NpdGlvbiIsImZvb3RlclNvdXJjZU5vZGUiLCJmb290ZXJWaWV3Tm9kZSIsImhlYWRlckhlaWdodCIsImZvb3RlckhlaWdodCIsImlzU2tpcEhlYWRlciIsImlzU2tpcEZvb3RlciIsImVuYWJsZVNraXBwaW5nRm9vdGVyIiwiZW5hYmxlU2tpcHBpbmdIZWFkZXIiLCJyb290Tm9kZUNvbnRleHQiLCJhcHBlbmRFbGVtZW50VG9GcmFnbWVudCIsIkxheW91dC5Qc2V1ZG9Db2x1bW4iLCJhbGxvd0luc2VydFJlcGVhdGl0aXZlRWxlbWVudHMiLCJtb3ZlQ2hpbGRyZW4iLCJpc0FmdGVyTGFzdENvbnRlbnQiLCJmaW5kUmVzdWx0RnJvbUNhY2hlIiwiYWZ0ZXJMYXN0Q29udGVudE5vZGVDYWNoZSIsImlzQWZ0ZXJOb2RlQ29udGV4dE9mIiwibGFzdENvbnRlbnRTb3VyY2VOb2RlIiwiYWZmZWN0ZWROb2RlQ2FjaGUiLCJjYWNoZSIsImNhbGN1bGF0b3IiLCJjYWNoZUVudHJ5IiwiaW5jbHVkZUNoaWxkcmVuIiwicGFyZW50c09mTm9kZSIsImN1cnJlbnRQYXJlbnQiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZmlyc3RDb250ZW50U291cmNlTm9kZSIsIkxheW91dEVudGlyZUJsb2NrIiwiZG9uZUluaXRpYWxMYXlvdXQiLCJ1cGRhdGVIZWlnaHQiLCJMYXlvdXRGcmFnbWVudGVkQmxvY2siLCJMYXlvdXRFbnRpcmVPd25lckJsb2NrIiwiZG9Jbml0aWFsTGF5b3V0IiwiTGF5b3V0RnJhZ21lbnRlZE93bmVyQmxvY2siLCJSZXBldGl0aXZlRWxlbWVudHNPd25lckxheW91dENvbnN0cmFpbnQiLCJpc0VuYWJsZVRvVXBkYXRlU3RhdGUiLCJ1cGRhdGVTdGF0ZSIsInByZXZlbnRTa2lwcGluZ0Zvb3RlciIsImFwcGVuZEhlYWRlclRvRnJhZ21lbnQiLCJhcHBlbmRGb290ZXJUb0ZyYWdtZW50IiwicHJlcGFyZUxheW91dEZyYWdtZW50IiwiUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRSZXRyeWVyIiwicHJldmVudFNraXBwaW5nSGVhZGVyIiwiRW50aXJlQmxvY2tMYXlvdXRTdHJhdGVneSIsIkxheW91dFV0aWwuRWRnZVNraXBwZXIiLCJpc0hlYWRlclJlZ2lzdGVyZWQiLCJzZXRIZWFkZXJOb2RlQ29udGV4dCIsImlzRm9vdGVyUmVnaXN0ZXJlZCIsInNldEZvb3Rlck5vZGVDb250ZXh0IiwiYXBwZW5kSGVhZGVyVG9BbmNlc3RvcnMiLCJyZXBldGl0aXZlTGF5b3V0UHJvY2Vzc29yIiwiTGF5b3V0UHJvY2Vzc29yLkJsb2NrTGF5b3V0UHJvY2Vzc29yIiwiZ2V0Um9vdFZpZXdOb2RlIiwiaXNIZWFkZXJTb3VyY2VOb2RlIiwiaXNGb290ZXJTb3VyY2VOb2RlIiwibGF5b3V0RW50aXJlQmxvY2siLCJMYXlvdXRVdGlsLkxheW91dEl0ZXJhdG9yIiwiaXRlcmF0ZSIsIkxheW91dC5wcm9jZXNzQWZ0ZXJJZkNvbnRpbnVlcyIsIlRhYmxlUm93Iiwicm93SW5kZXgiLCJjZWxsIiwiY2VsbHMiLCJUYWJsZUNlbGwiLCJjb2x1bW5JbmRleCIsInZpZXdFbGVtZW50IiwiY29sU3BhbiIsInJvd1NwYW4iLCJzbG90IiwiYW5jaG9yU2xvdCIsIlRhYmxlU2xvdCIsIlRhYmxlQ2VsbEZyYWdtZW50IiwicHNldWRvQ29sdW1uQ29udGFpbmVyIiwiY2VsbE5vZGVDb250ZXh0IiwiVGFibGVDYXB0aW9uVmlldyIsIkJldHdlZW5UYWJsZVJvd0JyZWFrUG9zaXRpb24iLCJnZXRBY2NlcHRhYmxlQ2VsbEJyZWFrUG9zaXRpb25zIiwiYWNjZXB0YWJsZUNlbGxCcmVha1Bvc2l0aW9ucyIsImNlbGxGcmFnbWVudHMiLCJnZXRDZWxsRnJhZ21lbnRzIiwiY2VsbEZyYWdtZW50IiwiZmluZFJvd0luZGV4QnlTb3VyY2VOb2RlIiwiZ2V0Um93U3Bhbm5pbmdDZWxsc092ZXJmbG93aW5nVGhlUm93IiwiZ2V0Um93SW5kZXgiLCJnZXRDZWxsRnJhZ21lbnRPZkNlbGwiLCJJbnNpZGVUYWJsZVJvd0JyZWFrUG9zaXRpb24iLCJiZWZvcmVOb2RlQ29udGV4dCIsImFsbENlbGxzQnJlYWthYmxlIiwiaXNTdGFydE5vZGVDb250ZXh0IiwiaXNMYXN0QWZ0ZXJOb2RlQ29udGV4dCIsInJvdyIsImdldFJvd0J5SW5kZXgiLCJpc0ZyZWVseUZyYWdtZW50YWJsZVJvdyIsImdldENlbGxzRmFsbGluZ09uUm93IiwiVGFibGVGb3JtYXR0aW5nQ29udGV4dCIsIlJlcGV0aXRpdmVFbGVtZW50SW1wbC5SZXBldGl0aXZlRWxlbWVudHNPd25lckZvcm1hdHRpbmdDb250ZXh0IiwidGFibGVTb3VyY2VOb2RlIiwiY2VsbEJyZWFrUG9zaXRpb25zIiwiY2VsbE5vZGVQb3NpdGlvbiIsInJvd3MiLCJyb3dTbG90cyIsInNsb3RzIiwiYWRkUm93IiwiYWRkQ2VsbCIsInJvd1VwcGVyIiwiZ2V0Um93U2xvdHMiLCJzdGFydENvbEluZGV4Iiwic2V0QW5jaG9yU2xvdCIsInVuaXF1ZUNlbGxzIiwiZ2V0TWluaW11bUhlaWdodCIsInRhYmxlV2lkdGgiLCJjb2x1bW5Db3VudCIsInN1bSIsInNldEhlaWdodCIsInRhYmxlQ2VsbCIsImNvbCIsImNvbGxlY3RlZCIsImNvbGxlY3RFbGVtZW50c09mZnNldEZyb21Db2x1bW4iLCJlbGVtZW50c0luQ29sdW1uIiwiRWxlbWVudHNPZmZzZXRPZlRhYmxlQ2VsbCIsInJlcGVhdGl0aXZlRWxlbWVudHNJbkNvbHVtbnMiLCJjYWxjdWxhdGVNYXhPZmZzZXRPZkNvbHVtbiIsIm1heE9mZnNldCIsImlzVmFsaWRQYXJlbnRPZlRhYmxlUm93Iiwic2tpcE5lc3RlZFRhYmxlIiwicGFyZW50RGlzcGxheSIsImlzTmVzdGVkSW5saW5lVGFibGUiLCJFbnRpcmVUYWJsZUxheW91dFN0cmF0ZWd5IiwicG9zdExheW91dEJsb2NrQ29udGVudHMiLCJjYXB0aW9uVmlldyIsImNhcHRpb25zIiwiaW5IZWFkZXJPckZvb3RlciIsImluUm93IiwiY29tcHV0ZWRTdHlsZSIsImxhc3RSb3dWaWV3Tm9kZSIsInJlZ2lzdGVyQ2hlY2tQb2ludCIsIlRhYmxlTGF5b3V0U3RyYXRlZ3kiLCJvcmlnaW5hbFN0b3BBdE92ZXJmbG93IiwiY29sV2lkdGhzIiwic3RhcnRDaHVua1Bvc2l0aW9uIiwiY2VsbFZpZXdOb2RlIiwiZ2V0Q29sU3Bhbm5pbmdDZWxsV2lkdGgiLCJhZGRDZWxsRnJhZ21lbnQiLCJzbG90SW5kZXgiLCJjZWxsQnJlYWtQb3NpdGlvbiIsInJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zIiwiY3VycmVudFJvd0luZGV4IiwiZXh0cmFjdFJvd1NwYW5uaW5nQ2VsbEJyZWFrUG9zaXRpb25zIiwicm93Q291bnQiLCJjdXJyZW50Um93Iiwic3Bhbm5pbmdDZWxsUm93SW5kZXgiLCJvY2N1cGllZFNsb3RJbmRpY2VzIiwicm93Q2VsbEJyZWFrUG9zaXRpb25zIiwicm93Tm9kZUNvbnRleHQiLCJjb250MSIsImFkZER1bW15Q2VsbFVudGlsIiwidXBwZXJDb2x1bW5JbmRleCIsImR1bW15IiwiYnJlYWtDaHVua1Bvc2l0aW9uIiwibGF5b3V0Q2VsbCIsImdldENvbHVtbkNvdW50IiwiaW5IZWFkZXIiLCJpbkZvb3RlciIsImN1cnJlbnRDb2x1bW5JbmRleCIsImxheW91dFJvd1NwYW5uaW5nQ2VsbHNGcm9tUHJldmlvdXNGcmFnbWVudCIsInJlZ2lzdGVyQ2VsbEZyYWdtZW50SW5kZXgiLCJyZXNldENvbHVtbiIsInRkTm9kZVN0ZXAiLCJnZXRFbGVtZW50T2Zmc2V0IiwiTGF5b3V0LnJlZ2lzdGVyRnJhZ21lbnRJbmRleCIsImFmdGVyTm9kZUNvbnRleHQiLCJoYXNCcm9rZW5DZWxsQXRTbG90Iiwic3RhcnROb2RlUG9zaXRpb24iLCJzdGFydFRhYmxlUm93Iiwic3RhcnRUYWJsZUNlbGwiLCJpZ25vcmVMaXN0IiwidGFibGUtY2FwdGlvbiIsInRhYmxlLWNvbHVtbi1ncm91cCIsInRhYmxlLWNvbHVtbiIsInRhYmxlTGF5b3V0T3B0aW9uQ2FjaGUiLCJUYWJsZUxheW91dFByb2Nlc3NvciIsImxhc3RSb3ciLCJkdW1teVJvdyIsImR1bW15Q2VsbHMiLCJ0YWJsZUVsZW1lbnQiLCJjb2xHcm91cHMiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNvbHMiLCJjb2xHcm91cCIsImdldENvbHVtbldpZHRocyIsImdldENvbEdyb3VwRWxlbWVudHMiLCJub3JtYWxpemVBbmRHZXRDb2xFbGVtZW50cyIsImFkZE1pc3NpbmdDb2xFbGVtZW50cyIsImluaXRpYWxpemVSZXBldGl0aXZlRWxlbWVudHMiLCJ0YWJsZUxheW91dE9wdGlvbiIsInRhYmxlUm9vdFNvdXJjZU5vZGUiLCJwYWlyIiwibGF5b3V0RW50aXJlVGFibGUiLCJ0YWJsZUJCb3giLCJjYWxjdWxhdGVCcmVha1Bvc2l0aW9uc0luc2lkZSIsIkVudGlyZVRhYmxlQnJlYWtQb3NpdGlvbiIsIm5vcm1hbGl6ZUNvbEdyb3VwcyIsInVwZGF0ZUNlbGxTaXplcyIsImNhcHRpb24iLCJhZGRDYXB0aW9ucyIsImFkZENvbEdyb3VwcyIsIml0ZXJhdG9yIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLmFwcGVuZEhlYWRlclRvQW5jZXN0b3JzIiwiTGF5b3V0UmV0cnllciIsImNlbGxDb250ZW50RWxlbWVudCIsImdldENvbHVtbkVsZW1lbnQiLCJjZWxsRWxlbWVudCIsImNlbGxFbGVtZW50UmVjdCIsImZpbmlzaEZyYWdtZW50IiwidGFibGVGb3JtYXR0aW5nQ29udGV4dCIsIkxheW91dEZyYWdtZW50ZWRUYWJsZSIsIkxheW91dEVudGlyZVRhYmxlIiwicmVtb3ZlQ29sR3JvdXBzIiwiUmVwZXRpdGl2ZUVsZW1lbnRJbXBsLkxheW91dEVudGlyZUJsb2NrIiwidGFibGVOb2RlQ29udGV4dCIsIkVudGlyZVRhYmxlTGF5b3V0Q29uc3RyYWludCIsInRhYmxlUm9vdE5vZGUiLCJSZXBldGl0aXZlRWxlbWVudEltcGwuTGF5b3V0RnJhZ21lbnRlZEJsb2NrIiwiVGFibGVSb3dMYXlvdXRDb25zdHJhaW50IiwiZXF1YWxzVG8iLCJSZXBldGl0aXZlRWxlbWVudEltcGwuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJMYXlvdXRDb25zdHJhaW50IiwiY29sbGVjdENlbGxGcmFnbWVudExheW91dENvbnN0cmFpbnRzIiwiY2VsbEZyYWdtZW50TGF5b3V0Q29uc3RyYWludHMiLCJyZW1vdmVEdW1teVJvd05vZGVzIiwiYXJyYXkiLCJkdW1teU5vZGUiLCJnZXRDZWxsRnJhZ2VtbnRzIiwiZmluZENlbGxGcm9tQ29sdW1uIiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZVcHBlckNlbGxzIiwiY29sbGVjdEVsZW1lbnRzT2Zmc2V0T2ZIaWdoZXN0Q29sdW1uIiwidGFibGVMYXlvdXRQcm9jZXNzb3IiLCJtZWFuIiwiQ29sdW1uQmFsYW5jaW5nVHJpYWxSZXN1bHQiLCJsYXlvdXRSZXN1bHQiLCJnZXRCbG9ja1NpemUiLCJzZXRCbG9ja1NpemUiLCJDb2x1bW5CYWxhbmNlciIsImxheW91dENvbnRhaW5lciIsImNvbHVtbkdlbmVyYXRvciIsInJlZ2lvblBhZ2VGbG9hdExheW91dENvbnRleHQiLCJvcmlnaW5hbENvbnRhaW5lckJsb2NrU2l6ZSIsInByZUJhbGFuY2UiLCJzYXZlUGFnZUZsb2F0TGF5b3V0Q29udGV4dHMiLCJjYW5kaWRhdGVzIiwiY3JlYXRlVHJpYWxSZXN1bHQiLCJ1cGRhdGVDb25kaXRpb24iLCJyZXN0b3JlQ29udGVudHMiLCJwb3N0QmFsYW5jZSIsImNhbGN1bGF0ZVBlbmFsdHkiLCJkZXRhY2hDaGlsZHJlbiIsImNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHRzIiwibmV3TGF5b3V0UmVzdWx0IiwiY29sdW1ucyIsImF0dGFjaENoaWxkcmVuIiwiY2FuUmVkdWNlQ29udGFpbmVyU2l6ZSIsImxhc3RDYW5kaWRhdGUiLCJzZWNvbmRMYXN0Q2FuZGlkYXRlIiwicmVkdWNlQ29udGFpbmVyU2l6ZSIsIm5ld0VkZ2UiLCJCYWxhbmNlTGFzdENvbHVtbkJhbGFuY2VyIiwidG90YWxCbG9ja1NpemUiLCJvcmlnaW5hbFBvc2l0aW9uIiwiY2hlY2tQb3NpdGlvbiIsImlzTGFzdENvbHVtbkxvbmdlclRoYW5BbnlPdGhlckNvbHVtbiIsImZvdW5kVXBwZXJCb3VuZCIsImxhc3RDb2x1bW5CbG9ja1NpemUiLCJCYWxhbmNlTm9uTGFzdENvbHVtbkJhbGFuY2VyIiwibWVhblZhbHVlIiwiU2xpcFJhbmdlIiwiZW5kU3R1Y2tGaXhlZCIsImVuZEZpeGVkIiwiZW5kU2xpcHBlZCIsIlNsaXBNYXAiLCJzbGlwcGVkIiwiQm94IiwiYXRCbG9ja1N0YXJ0IiwiYXRGbG93U3RhcnQiLCJpc1BhcmVudEJveERpc3BsYXllZCIsImhhc0JveCIsIl9wc2V1ZG9zIiwiYmVmb3JlQm94Iiwic3R5bGVWYWx1ZSIsImdldEJyZWFrVmFsdWUiLCJhZnRlckJveCIsInN0eWxlVmFsdWVzIiwiY3YiLCJpc0Jsb2NrVmFsdWUiLCJkaXNwbGF5VmFsdWUiLCJoYXNCb3hWYWx1ZSIsIkJveFN0YWNrIiwibGFzdEJveCIsIm5ld0Zsb3dDaHVuayIsImF0U3RhcnRTdGFjayIsImlzQXRGbG93U3RhcnQiLCJpc0N1cnJlbnRCb3hEaXNwbGF5ZWQiLCJWdHJlZS5jYW5JZ25vcmUiLCJWdHJlZS53aGl0ZXNwYWNlRnJvbVByb3BlcnR5VmFsdWUiLCJidWlsZEFmdGVyUHNldWRvRWxlbWVudEJveCIsImF0U3RhcnQiLCJTdHlsZXIiLCJwcmltYXJ5Rmxvd3MiLCJjYXNjYWRlSG9sZGVyIiwiY3JlYXRlSW5zdGFuY2UiLCJvZmZzZXRNYXAiLCJyb290T2Zmc2V0IiwibGFzdE9mZnNldCIsImJveFN0YWNrIiwiYWRkU3R1Y2tSYW5nZSIsImdldEF0dHJTdHlsZSIsInB1c2hFbGVtZW50IiwicG9zdHByb2Nlc3NUb3BTdHlsZSIsImJvZHlSZWFjaGVkIiwicHJpbWFyeVN0YWNrIiwicmVwbGF5Rmxvd0VsZW1lbnRzRnJvbU9mZnNldCIsInNyY1N0eWxlIiwicG5hbWUiLCJyb290U3R5bGUiLCJlbGVtU3R5bGUiLCJpc0JvZHkiLCJyb290QmFja2dyb3VuZEFzc2lnbmVkIiwiYmFja2dyb3VuZENvbG9yIiwiaGFzUHJvcCIsImJhY2tncm91bmRQcm9wcyIsImJhY2tncm91bmRJbWFnZSIsInRyYW5zZmVyUHJvcHNUb1Jvb3QiLCJyb290TGF5b3V0QXNzaWduZWQiLCJjb2x1bW5Qcm9wcyIsImxheW91dFByb3BzIiwidW5pdFNpemUiLCJzdHlsZVVudGlsIiwiQ1NTU3R5bGVEZWNsYXJhdGlvbiIsInN0eWxlQXR0clZhbHVlIiwiQ3NzQ2FzY2FkZS5wYXJzZVN0eWxlQXR0cmlidXRlIiwiQ3NzQ2FzY2FkZS5nZXRQcm9wIiwiZmxvd05hbWVTdHIiLCJlbmNvdW50ZXJlZEZsb3dFbGVtZW50IiwiZ2V0Tm9kZUJ5T2Zmc2V0Iiwibm9kZU9mZnNldCIsImdldE5vZGVPZmZzZXQiLCJmbG93TGlzdGVuZXIiLCJmbG93Q2h1bmtzIiwiZW5jb3VudGVyZWRGbG93Q2h1bmsiLCJmbG93VG9SZWFjaCIsImlkVG9SZWFjaCIsIm9wdGlvbnNDViIsInN0YXRpYyIsImxpbmdlckNWIiwiQ3NzUHJvcC50b0ludCIsInByaW9yaXR5Q1YiLCJicmVha0JlZm9yZVZhbHVlcyIsImZsb3ciLCJsYXN0Rmxvd05hbWUiLCJWdHJlZS5GbG93IiwiVnRyZWUuRmxvd0NodW5rIiwiZm9yY2VkQnJlYWtPZmZzZXRzIiwicHJldmlvdXNWYWx1ZSIsImxvb2t1cCIsInNsaXBwZWRPZmZzZXQiLCJ0YXJnZXRTbGlwcGVkT2Zmc2V0Iiwic2xpcHBlZEJ5Rml4ZWQiLCJnZXRNYXhTbGlwcGVkIiwiZml4ZWRCeVNsaXBwZWQiLCJwb3BFbGVtZW50IiwiYWZ0ZXJQc2V1ZG9CcmVha0JlZm9yZSIsInJlZ2lzdGVyRm9yY2VkQnJlYWtPZmZzZXQiLCJuZWFyZXN0QmxvY2tTdGFydE9mZnNldCIsImVuY291bnRlcmVkVGV4dE5vZGUiLCJhZGRTbGlwcGVkUmFuZ2UiLCJibG9ja1N0YXJ0T2Zmc2V0IiwiYmVmb3JlUHNldWRvQnJlYWtBZnRlciIsInZhbGlkYXRvciIsIkNvbm5lY3Rpb24iLCJ3aGVyZSIsIlZhbGlkYXRpbmdHcm91cCIsIm5vZGVJbmRleCIsImNvbm5lY3Rpb25zIiwid2hhdCIsImdyb3VwIiwiY2xvbmVkTm9kZSIsImNvbm5lY3Rpb24iLCJncm91cENvbm5lY3Rpb24iLCJub21hdGNoIiwiY2xhdXNlIiwiQUxXQVlTX0ZBSUwiLCJtYXJrQXNTdGFydEFsdGVybmF0ZSIsIm1hcmtBc0VuZEFsdGVybmF0ZSIsIm1hcmtBc1N0YXJ0R3JvdXAiLCJtYXJrQXNFbmRHcm91cCIsImNvbm5lY3QiLCJmYWlsdXJlIiwiYXJycyIsImFkZFNwZWNpYWxUb0FyciIsImVtcHR5SGVhZCIsImlzU2ltcGxlIiwiUHJpbWl0aXZlVmFsaWRhdG9yIiwiaG93IiwiQUxURVJOQVRFIiwiaXNQcmltaXRpdmUiLCJjb21iaW5lIiwiY29ubmVjdGlvbkluZGV4IiwiUkVQRUFURUQiLCJPUFRJT05BTCIsInN1Y2Nlc3NUZXJtaW5hbCIsImZhaWxUZXJtaW5hbCIsIlByb3BlcnR5VmFsaWRhdG9yIiwicnZhbCIsImlkZW50cyIsInVuaXRzIiwiTk9fSURFTlRTIiwiTGlzdFZhbGlkYXRvciIsImZhaWx1cmVUZXJtaW5hbCIsInN0YXJ0SW5kZXgiLCJhbHRlcm5hdGl2ZVN0YWNrIiwiYWx0ZXJuYXRpdmVzIiwiaW52YWwiLCJvdXR2YWwiLCJpc1N0YXJ0R3JvdXAiLCJpc0VuZEdyb3VwIiwiaXNFbmRBbHRlcm5hdGUiLCJnZXRBbHRlcm5hdGUiLCJTcGFjZUxpc3RWYWxpZGF0b3IiLCJDb21tYUxpc3RWYWxpZGF0b3IiLCJ2YWxpZGF0ZVNpbmdsZSIsInZhbGlkYXRlTGlzdCIsImhhc0NvbW1hTGlzdFZhbGlkYXRvciIsInZhbGlkYXRlRm9yU2hvcnRoYW5kIiwiRnVuY1ZhbGlkYXRvciIsIlNob3J0aGFuZFN5bnRheE5vZGUiLCJzaG9ydGhhbmRWYWxpZGF0b3IiLCJTaG9ydGhhbmRTeW50YXhQcm9wZXJ0eSIsInZhbGlkYXRvcnMiLCJydmFscyIsImxlbiIsIlNob3J0aGFuZFN5bnRheFByb3BlcnR5TiIsIlNob3J0aGFuZFN5bnRheENvbXBvdW5kIiwiaW5kZXgwIiwidHJ5UGFyc2UiLCJTaG9ydGhhbmRWYWxpZGF0b3IiLCJzeW50YXgiLCJwcm9wTGlzdCIsInJlY2VpdmVyIiwiZGVmYXVsdFZhbHVlcyIsIlNpbXBsZVNob3J0aGFuZFZhbGlkYXRvciIsIkluc2V0c1Nob3J0aGFuZFZhbGlkYXRvciIsInNob3J0aGFuZFZhbGlkYXRvcnMiLCJTSU1QTEUiLCJJTlNFVFMiLCJJTlNFVFNfU0xBU0giLCJzbGFzaEluZGV4IiwiaW5kZXgxIiwidmFscyIsImFjYyIsIkZPTlQiLCJmYW1pbHlMaXN0IiwiZmFtaWx5Iiwic3lzdGVtRm9udHMiLCJWYWxpZGF0b3JTZXQiLCJjc3N2YWwiLCJDc3NQYXJzZXIuY29sb3JGcm9tSGFzaCIsInN1Ymdyb3VwIiwic3RhcnRDbGF1c2UiLCJhZGRHcm91cCIsIkZPTExPVyIsImVuZENsYXVzZSIsInN0YXJ0U3BlY2lhbEdyb3VwIiwiZW5kU3BlY2lhbEdyb3VwIiwiYWRkUHJpbWl0aXZlIiwicHJpbWl0aXZlIiwibmFtZWRWYWxpZGF0b3JzIiwiSEFTSENPTE9SIiwiUE9TX0lOVCIsIlBPU19OVU0iLCJQT1NfUEVSQ0VOVEFHRSIsIiUiLCJORUdBVElWRSIsIlpFUk8iLCJaRVJPX1BFUkNFTlRBR0UiLCJQT1NfTEVOR1RIIiwidmkiLCJ2bWluIiwidm1heCIsInB2aSIsInB2YiIsInB2bWluIiwicHZtYXgiLCJQT1NfQU5HTEUiLCJkZWciLCJncmFkIiwicmFkIiwidHVybiIsIlBPU19USU1FIiwibXMiLCJGUkVRVUVOQ1kiLCJIeiIsImtIeiIsIlJFU09MVVRJT04iLCJVUkkiLCJTVFJJTkciLCJzdGRmb250IiwiaWNvbiIsIm1lbnUiLCJzZWN0aW9uIiwicnVsZVByZWZpeGVzIiwiaXNCdWlsdEluIiwicHJlZml4ZXMiLCJyZWFkTmFtZUFuZFByZWZpeGVzIiwiZXhwZWN0dmFsIiwibmV3R3JvdXAiLCJzZXRvcCIsImN1cnJvcCIsImJ1aWx0SW4iLCJuZXdGdW5jIiwiYWRkUmVwbGFjZW1lbnQiLCJhZGRDb3VudHMiLCJzZXRPd25lciIsInN5bnRheE5vZGVGb3JQcm9wZXJ0eSIsInNob3J0aGFuZHMiLCJpbnNldFNob3J0aGFuZCIsImNyZWF0ZVN5bnRheE5vZGUiLCJjb21wb3VuZCIsInBhcnNlVmFsaWRhdG9ycyIsInBhcnNlRGVmYXVsdHMiLCJwYXJzZVNob3J0aGFuZHMiLCJtYWtlUHJvcFNldCIsInNob3J0aGFuZCIsInB2YWwiLCJvcmlnTmFtZSIsInVua25vd25Qcm9wZXJ0eSIsInJ2YWx1ZSIsImludmFsaWRQcm9wZXJ0eVZhbHVlIiwicHJvcGFnYXRlSW5oZXJpdCIsImJhc2VWYWxpZGF0b3JTZXQiLCJpbml0QnVpbHRJblZhbGlkYXRvcnMiLCJ0cmFpdFByb3BzIiwiYm9ndXNGb250RGF0YSIsImJvZ3VzRm9udENvdW50ZXIiLCJwcmVwYXJlUHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJGYWNlIiwiZm9udFRyYWl0S2V5IiwiZm9udEJ5dGVzIiwiYmxvYlVSTCIsImJsb2IiLCJ3ZWJraXRVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJibG9iVVJMcyIsImJsb2JzIiwiRG9jdW1lbnRGYWNlcyIsImRlb2JmdXNjYXRvciIsInNyY0ZhY2UiLCJ2aWV3RmFjZSIsInNyY0ZhbWlseSIsInZpZXdGYW1pbHlGcm9tU3JjIiwiZmFtaWx5TWFwIiwidmlld0ZhbWlseUZyb21WaWV3IiwibmV3VmFsdWVzIiwicmYiLCJNYXBwZXIiLCJvcHRfZmFtaWx5UHJlZml4IiwiZmFtaWx5UHJlZml4IiwiZG9jdW1lbnRGYWNlcyIsInZpZXdGYW1pbHkiLCJmYW1pbHlDb3VudGVyIiwiZ2V0Vmlld0ZvbnRGYW1pbHkiLCJ2aWV3Rm9udEZhY2UiLCJraWxsVGltZSIsImJvZ3VzRGF0YSIsIm1ha2VBdFJ1bGUiLCJOZXQubWFrZUJsb2IiLCJpbml0V2lkdGgiLCJpbml0SGVpZ2h0IiwibG9hZGVkIiwiY3VycldpZHRoIiwiY3VyckhlaWdodCIsInNsZWVwIiwic3JjVVJMTWFwIiwicGlnZ3liYWNrIiwidmlld0ZhY2VQYXJhbSIsInRyYWl0c0VxdWFsIiwicmVnaXN0ZXJGYW1pbHkiLCJOZXQuWE1MSHR0cFJlcXVlc3RSZXNwb25zZVR5cGUiLCJCTE9CIiwiaW5pdEZvbnQiLCJzcmNGYWNlcyIsImxvYWRGb250IiwiVGFza1V0aWwud2FpdEZvckZldGNoZXJzIiwia2V5Q291bnQiLCJQYWdlQm94IiwiX3Njb3BlIiwicGFyZW50SW5zdGFuY2UiLCJwYXJhbSIsImRlc3RTcGVjaWZpZWQiLCJSb290UGFnZUJveCIsIkNzcy5mdWxsV2lkdGgiLCJDc3MuZnVsbEhlaWdodCIsIlBhZ2VNYXN0ZXJTY29wZSIsIkV4cHJzLkxleGljYWxTY29wZSIsInBhZ2VNYXN0ZXIiLCJpc0Z1bmMiLCJrZXlNYXAiLCJib3hJbnN0YW5jZSIsImxvb2t1cEluc3RhbmNlIiwicmVzb2x2ZUZ1bmMiLCJyZXNvbHZlTmFtZSIsIlBhZ2VNYXN0ZXIiLCJQYWdlTWFzdGVySW5zdGFuY2UiLCJjb3B5U3BlY2lmaWVkIiwiY2xvbmVDaGlsZHJlbiIsIlBhcnRpdGlvbkdyb3VwIiwiUGFydGl0aW9uR3JvdXBJbnN0YW5jZSIsIlBhcnRpdGlvbiIsIlBhcnRpdGlvbkluc3RhbmNlIiwidG9FeHByQXV0byIsInRvRXhwclplcm8iLCJ0b0V4cHJaZXJvQXV0byIsInRvRXhwclplcm9Cb3JkZXIiLCJzdHlsZVZhbCIsInRvRXhwckJvb2wiLCJQYWdlQm94SW5zdGFuY2UiLCJwYWdlQm94IiwiY2FsY3VsYXRlZFdpZHRoIiwiY2FsY3VsYXRlZEhlaWdodCIsIkV4cHJzLmFkZCIsIm5hbWVkVmFsdWVzIiwiYWRkTmFtZWRWYWx1ZXMiLCJhbHROYW1lIiwiQ3NzQ2FzY2FkZS5jb3VwbGluZ01hcFZlcnQiLCJDc3NDYXNjYWRlLmNvdXBsaW5nTWFwSG9yIiwibmFtZWRGdW5jcyIsImNvbHVtbkdhcCIsIkV4cHJzLnN1YiIsIkV4cHJzLm11bCIsIm1pblBhZ2VXaWR0aCIsIm1pblBhZ2VIZWlnaHQiLCJib3hTcGVjaWZpY0VuYWJsZWQiLCJwYXJlbnRXaWR0aCIsImxlZnRCUCIsInJpZ2h0QlAiLCJleHRyYSIsImF1dG9XaWR0aCIsImlzQXV0b1dpZHRoIiwicmVtYWlucyIsInBhcmVudEhlaWdodCIsInRvcEJQIiwiYm90dG9tQlAiLCJhdXRvSGVpZ2h0IiwiaXNBdXRvSGVpZ2h0IiwiRXhwcnMuZGl2IiwiZGVwZW5kIiwicmVnaXN0ZXJJbnN0YW5jZSIsImdldEFjdGl2ZVJlZ2lvbnMiLCJDc3NDYXNjYWRlLmZsYXR0ZW5DYXNjYWRlZFN0eWxlIiwiQ3NzQ2FzY2FkZS5pc1ZlcnRpY2FsIiwiQ3NzQ2FzY2FkZS5pc1J0bCIsIkNzc0Nhc2NhZGUuY29udmVydFRvUGh5c2ljYWwiLCJpbml0SG9yaXpvbnRhbCIsImluaXRWZXJ0aWNhbCIsImluaXRDb2x1bW5zIiwiaW5pdEVuYWJsZWQiLCJDc3MudG9OdW1iZXIiLCJDc3NDYXNjYWRlLmdldFNwZWNpYWwiLCJkb2NGYWNlcyIsInByb3BhZ2F0ZVByb3BlcnR5VG9FbGVtZW50IiwiRXhwcnMubmVlZFVuaXRDb252ZXJzaW9uIiwiQ3NzLmNvbnZlcnROdW1lcmljVG9QeCIsImZpbHRlckZvbnRGYW1pbHkiLCJWdHJlZS5EZWxheWVkSXRlbSIsImdldFByb3BBc051bWJlciIsInhwb3MiLCJzbmFwT2Zmc2V0WCIsInlwb3MiLCJzbmFwT2Zmc2V0WSIsImFzc2lnblJpZ2h0UG9zaXRpb24iLCJhc3NpZ25Ub3BQb3NpdGlvbiIsImFzc2lnbkxlZnRQb3NpdGlvbiIsImFzc2lnbkJvdHRvbVBvc2l0aW9uIiwiaXNUb3BEZXBlbmRlbnRPbkF1dG9IZWlnaHQiLCJpc1JpZ2h0RGVwZW5kZW50T25BdXRvV2lkdGgiLCJzaXplV2l0aE1heFdpZHRoIiwic2l6ZVdpdGhNYXhIZWlnaHQiLCJhc3NpZ25CZWZvcmVQb3NpdGlvbiIsImFzc2lnbkFmdGVyUG9zaXRpb24iLCJhc3NpZ25TdGFydEVuZFBvc2l0aW9uIiwicGFzc1ByZVByb3BlcnRpZXMiLCJwcm9wYWdhdGVQcm9wZXJ0eSIsInBhc3NDb250ZW50UHJvcGVydGllcyIsInBhc3NTaW5nbGVVcmlDb250ZW50UHJvcGVydGllcyIsInJlYWRIZWlnaHQiLCJyZWFkV2lkdGgiLCJiYm94IiwicnVsZVdpZHRoIiwicnVsZVN0eWxlIiwicnVsZUNvbG9yIiwiY29udGFpbmVyU2l6ZSIsImJvcmRlciIsInJ1bGUiLCJwYXNzUG9zdFByb3BlcnRpZXMiLCJkZWxheWVkUHJvcGVydGllcyIsInByb3BhZ2F0ZURlbGF5ZWRQcm9wZXJ0eSIsImRvY0VsZW1lbnRTdHlsZSIsIkNzc0Nhc2NhZGUuaXNQcm9wTmFtZSIsIkNzc0Nhc2NhZGUuc2V0UHJvcCIsInVzZXJBZ2VudFBhZ2VNYXN0ZXJQc2V1ZG8iLCJwdXNoUnVsZSIsIkNzc0Nhc2NhZGUuQ29udGVudFByb3BWaXNpdG9yIiwiYXBwbHlDYXNjYWRlQW5kSW5pdCIsInBvcFJ1bGUiLCJkZXBlbmRzIiwiY2hpbGRJbnN0YW5jZSIsInJlc29sdmVBdXRvU2l6aW5nIiwiUm9vdFBhZ2VCb3hJbnN0YW5jZSIsInBhZ2VNYXN0ZXJJbnN0YW5jZSIsImxpc3RWYWwiLCJjb25mbGljdGluZyIsIkNzcy5JZGVudCIsInFuYW1lIiwidGVybSIsInJlcXVpcmVkIiwicHJvY2Vzc1BhcnRpdGlvbkxpc3QiLCJwbUVuYWJsZWRWYWwiLCJwbUVuYWJsZWQiLCJwcmVwYXJlQ29udGFpbmVyIiwiUGFnZUJveFBhcnNlckhhbmRsZXIiLCJQYXJ0aXRpb25QYXJzZXJIYW5kbGVyIiwiUGFydGl0aW9uR3JvdXBQYXJzZXJIYW5kbGVyIiwiQ3NzLmh1bmRyZWRQZXJjZW50IiwicGFydGl0aW9uIiwicGFydGl0aW9uR3JvdXAiLCJQYWdlTWFzdGVyUGFyc2VySGFuZGxlciIsInJlc29sdmVQYWdlUHJvZ3Jlc3Npb24iLCJDb25zdGFudHMuUGFnZVByb2dyZXNzaW9uIiwicGFnZVNpemVzIiwiYTUiLCJhNCIsImEzIiwiYjUiLCJiNCIsImppcy1iNSIsImppcy1iNCIsImxldHRlciIsImxlZ2FsIiwibGVkZ2VyIiwiZGVmYXVsdFByaW50ZXJNYXJrTGluZVdpZHRoIiwiZGVmYXVsdFByaW50ZXJNYXJrT2Zmc2V0IiwiZGVmYXVsdFByaW50ZXJNYXJrTGluZUxlbmd0aCIsImRlZmF1bHRCbGVlZE9mZnNldCIsInJlc29sdmVQYWdlU2l6ZUFuZEJsZWVkIiwicGFnZVNpemVBbmRCbGVlZCIsImJsZWVkIiwiQ3NzLm51bWVyaWNaZXJvIiwiYmxlZWRPZmZzZXQiLCJ2YWwxIiwiaXNTcGFjZUxpc3QiLCJtYXJrcyIsImhhc0Nyb3AiLCJldmFsdWF0ZVBhZ2VTaXplQW5kQmxlZWQiLCJldmFsdWF0ZWQiLCJjcm9wT2Zmc2V0IiwiY3JlYXRlUHJpbnRlck1hcmtTdmciLCJjcmVhdGVQcmludGVyTWFya0VsZW1lbnQiLCJsaW5lV2lkdGgiLCJlbGVtZW50VHlwZSIsIkNvcm5lck1hcmtQb3NpdGlvbiIsIkNyb3NzTWFya1Bvc2l0aW9uIiwicHJvcGVydGllc0FwcGxpZWRUb1BhcnRpdGlvbiIsIm91dGxpbmUiLCJvdXRsaW5lLXdpZHRoIiwib3V0bGluZS1zdHlsZSIsIm91dGxpbmUtY29sb3IiLCJNYXJnaW5Cb3hQb3NpdGlvbkFsb25nVmFyaWFibGVEaW1lbnNpb24iLCJwYWdlTWFyZ2luQm94ZXMiLCJ0b3AtbGVmdC1jb3JuZXIiLCJpc0luVG9wUm93IiwiaXNJbkJvdHRvbVJvdyIsImlzSW5MZWZ0Q29sdW1uIiwiaXNJblJpZ2h0Q29sdW1uIiwicG9zaXRpb25BbG9uZ1ZhcmlhYmxlRGltZW5zaW9uIiwidG9wLWxlZnQiLCJTVEFSVCIsInRvcC1jZW50ZXIiLCJDRU5URVIiLCJ0b3AtcmlnaHQiLCJ0b3AtcmlnaHQtY29ybmVyIiwicmlnaHQtdG9wIiwicmlnaHQtbWlkZGxlIiwicmlnaHQtYm90dG9tIiwiYm90dG9tLXJpZ2h0LWNvcm5lciIsImJvdHRvbS1yaWdodCIsImJvdHRvbS1jZW50ZXIiLCJib3R0b20tbGVmdCIsImJvdHRvbS1sZWZ0LWNvcm5lciIsImxlZnQtYm90dG9tIiwibGVmdC1taWRkbGUiLCJsZWZ0LXRvcCIsInBhZ2VNYXJnaW5Cb3hOYW1lcyIsIlBhZ2VSdWxlTWFzdGVyIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVyIiwicGFnZVNpemUiLCJQYWdlUnVsZVBhcnRpdGlvbiIsImJvZHlQYXJ0aXRpb25LZXkiLCJjcmVhdGVQYWdlTWFyZ2luQm94ZXMiLCJhcHBseVNwZWNpZmllZCIsIm1hcmdpbkJveGVzTWFwIiwiX21hcmdpbkJveGVzIiwiUGFnZU1hcmdpbkJveFBhcnRpdGlvbiIsIlBhZ2VSdWxlTWFzdGVySW5zdGFuY2UiLCJQYWdlTWFzdGVyLlBhcnRpdGlvbiIsIlBhZ2VSdWxlUGFydGl0aW9uSW5zdGFuY2UiLCJtYXJnaW5Cb3hOYW1lIiwib3duU3R5bGUiLCJvd25WYWwiLCJDc3NDYXNjYWRlLmluaGVyaXRlZFByb3BzIiwiUGFnZU1hcmdpbkJveFBhcnRpdGlvbkluc3RhbmNlIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVySW5zdGFuY2UiLCJwYWdlUnVsZU1hc3RlciIsInBhZ2VBcmVhRGltZW5zaW9uIiwiYm9yZGVyQm94V2lkdGgiLCJib3JkZXJCb3hIZWlnaHQiLCJtYXJnaW5Cb3hDb250YWluZXJzIiwibWFyZ2luQm94ZXMiLCJob3Jpem9udGFsRGltZW5zaW9ucyIsInZlcnRpY2FsRGltZW5zaW9ucyIsInNpemVNYXJnaW5Cb3hlc0Fsb25nVmFyaWFibGVEaW1lbnNpb24iLCJpc0hvcml6b250YWwiLCJjb250YWluZXJzIiwiYm94SW5zdGFuY2VzIiwiYm94UGFyYW1zIiwiYm94SW5mbyIsInBhZ2VNYXJnaW5Cb3hJbnN0YW5jZXMiLCJib3hQYXJhbSIsIlNpbmdsZUJveE1hcmdpbkJveFNpemluZ1BhcmFtIiwiZXZhbHVhdGVkRGltIiwiZ2V0U2l6ZXNPZk1hcmdpbkJveGVzQWxvbmdWYXJpYWJsZURpbWVuc2lvbiIsIm5lZWRSZWNhbGN1bGF0ZSIsIm1heE91dGVyU2l6ZXMiLCJQYWdlTWFzdGVyLnRvRXhwckF1dG8iLCJldmFsdWF0ZWRNYXhTaXplIiwiRml4ZWRTaXplTWFyZ2luQm94U2l6aW5nUGFyYW0iLCJnZXRPdXRlclNpemUiLCJtaW5PdXRlclNpemVzIiwibWluU2l6ZSIsImV2YWx1YXRlZE1pblNpemUiLCJzdGFydEVuZFN1bSIsIm91dGVyU2l6ZSIsImF2YWlsYWJsZVNpemUiLCJzdGFydEJveFBhcmFtIiwiY2VudGVyQm94UGFyYW0iLCJlbmRCb3hQYXJhbSIsInN0YXJ0RW5kQm94UGFyYW0iLCJNdWx0aXBsZUJveGVzTWFyZ2luQm94U2l6aW5nUGFyYW0iLCJjZW50ZXJTaXplcyIsImRpc3RyaWJ1dGVBdXRvTWFyZ2luQm94U2l6ZXMiLCJ4U2l6ZSIsInN0YXJ0RW5kQXV0b1NpemUiLCJoYXNBdXRvU2l6ZSIsInN0YXJ0RW5kU2l6ZXMiLCJ5U2l6ZSIsInhPdXRlck1heENvbnRlbnRTaXplIiwiZ2V0T3V0ZXJNYXhDb250ZW50U2l6ZSIsInlPdXRlck1heENvbnRlbnRTaXplIiwibWF4Q29udGVudFNpemVTdW0iLCJ4T3V0ZXJNaW5Db250ZW50U2l6ZSIsImdldE91dGVyTWluQ29udGVudFNpemUiLCJtaW5Db250ZW50U2l6ZVN1bSIsImhhc0F1dG9TaXplXyIsImZpeGVkU2l6ZSIsIlBhZ2VNYXN0ZXIuUGFydGl0aW9uSW5zdGFuY2UiLCJwYWdlUnVsZVBhcnRpdGlvbiIsInNldFBhZ2VBcmVhRGltZW5zaW9uIiwicmVzb2x2ZVBhZ2VCb3hEaW1lbnNpb25zIiwiYm9yZGVyQm94RXh0ZW50IiwibWFyZ2luU3RhcnQiLCJtYXJnaW5FbmQiLCJlbmRTaWRlIiwiZXh0ZW50TmFtZSIsInBhZ2VFeHRlbnQiLCJwYWRkaW5nU3RhcnQiLCJQYWdlTWFzdGVyLnRvRXhwclplcm8iLCJwYWRkaW5nRW5kIiwiYm9yZGVyU3RhcnRXaWR0aCIsIlBhZ2VNYXN0ZXIudG9FeHByWmVyb0JvcmRlciIsImJvcmRlckVuZFdpZHRoIiwicGFnZU1hcmdpbkJveFBhcnRpdGlvbiIsImFwcGx5VmVydGljYWxBbGlnbiIsImZsZXhBbGlnbiIsImF2YWlsYWJsZUV4dGVudCIsIm91dGVyRXh0ZW50IiwiaW5zaWRlTmFtZSIsIm91dHNpZGVOYW1lIiwib3V0c2lkZSIsInBhZ2VNYXJnaW4iLCJtYXJnaW5JbnNpZGUiLCJQYWdlTWFzdGVyLnRvRXhwclplcm9BdXRvIiwibWFyZ2luT3V0c2lkZSIsInBhZGRpbmdJbnNpZGUiLCJwYWRkaW5nT3V0c2lkZSIsImJvcmRlckluc2lkZVdpZHRoIiwiYm9yZGVyT3V0c2lkZVdpZHRoIiwiZ2V0Q29tcHV0ZWRWYWx1ZXMiLCJwYWdlTWFyZ2luVmFsdWUiLCJib3JkZXJBbmRQYWRkaW5nIiwicG9zaXRpb25BbmRTaXplQWxvbmdGaXhlZERpbWVuc2lvbiIsImZpbmlzaENvbnRhaW5lciIsIlBhZ2VNYW5hZ2VyIiwicm9vdFBhZ2VCb3hJbnN0YW5jZSIsImRlZmluZVBhZ2VQcm9ncmVzc2lvbiIsImlzRXZlblBhZ2UiLCJwYWdlUHJvZ3Jlc3Npb24iLCJyZXNldFNjb3BlIiwibWFrZUNhY2hlS2V5IiwicGFnZU1hc3RlckNhY2hlIiwiUGFnZU1hc3Rlci51c2VyQWdlbnRQYWdlTWFzdGVyUHNldWRvIiwiZ2VuZXJhdGVQYWdlUnVsZU1hc3RlciIsImdlbmVyYXRlQ2FzY2FkZWRQYWdlTWFzdGVyIiwicHJvcHNTdHIiLCJtYWtlQ2FzY2FkZVZhbHVlT2JqZWN0S2V5IiwibmV3UGFnZU1hc3RlciIsInBhZ2VNYXN0ZXJTdHlsZSIsIkNzc0Nhc2NhZGUuY2FzY2FkZVZhbHVlcyIsIkNoZWNrUGFnZVR5cGVBY3Rpb24iLCJDc3NDYXNjYWRlLkNoYWluZWRBY3Rpb24iLCJJc0ZpcnN0UGFnZUFjdGlvbiIsIklzTGVmdFBhZ2VBY3Rpb24iLCJJc1JpZ2h0UGFnZUFjdGlvbiIsIklzUmVjdG9QYWdlQWN0aW9uIiwiSXNWZXJzb1BhZ2VBY3Rpb24iLCJBcHBseVBhZ2VSdWxlQWN0aW9uIiwiQ3NzQ2FzY2FkZS5BcHBseVJ1bGVBY3Rpb24iLCJDc3NDYXNjYWRlLm1lcmdlSW4iLCJ0YXJnZXRNYXAiLCJDc3NDYXNjYWRlLmdldE11dGFibGVTdHlsZU1hcCIsImJveE5hbWUiLCJ0YXJnZXRCb3giLCJQYWdlUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuQ2FzY2FkZVBhcnNlckhhbmRsZXIiLCJwYWdlUHJvcHMiLCJjdXJyZW50TmFtZWRQYWdlU2VsZWN0b3IiLCJjdXJyZW50UHNldWRvUGFnZUNsYXNzU2VsZWN0b3JzIiwic2VsZWN0b3JzIiwiY3VycmVudFBhZ2VTZWxlY3RvcnMiLCJmaW5pc2hTZWxlY3RvciIsInNlbGVjdG9yIiwibm9QYWdlU2VsZWN0b3JQcm9wcyIsInByZXZDYXNjVmFsIiwibWFyZ2luQm94TWFwIiwiYm94U3R5bGUiLCJQYWdlTWFyZ2luQm94UGFyc2VySGFuZGxlciIsInRyYW5zZm9ybVVSSXMiLCJhdHRyaWJ1dGVWYWx1ZSIsIm0xIiwibmFtZXNwYWNlUHJlZml4TWFwIiwiZnJvbnRFZGdlQmxhY2tMaXN0SG9yIiwibWFyZ2luLXRvcCIsInBhZGRpbmctdG9wIiwiYm9yZGVyLXRvcC13aWR0aCIsImJvcmRlci10b3Atc3R5bGUiLCJib3JkZXItdG9wLWNvbG9yIiwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1cyIsImJvcmRlci10b3AtcmlnaHQtcmFkaXVzIiwiZnJvbnRFZGdlQmxhY2tMaXN0VmVydCIsIm1hcmdpbi1yaWdodCIsInBhZGRpbmctcmlnaHQiLCJib3JkZXItcmlnaHQtd2lkdGgiLCJib3JkZXItcmlnaHQtc3R5bGUiLCJib3JkZXItcmlnaHQtY29sb3IiLCJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1cyIsImZyb250RWRnZVVuZm9yY2VkQnJlYWtCbGFja0xpc3RIb3IiLCJmcm9udEVkZ2VVbmZvcmNlZEJyZWFrQmxhY2tMaXN0VmVydCIsIlZpZXdGYWN0b3J5IiwiZm9vdG5vdGVTdHlsZSIsInN0eWxlclByb2R1Y2VyIiwiY3VzdG9tUmVuZGVyZXIiLCJmYWxsYmFja01hcCIsImNhc2NTdHlsZSIsImdldFBzZXVkb01hcCIsImFkZGVkTmFtZXMiLCJhdHQiLCJQc2V1ZG9FbGVtZW50LnBzZXVkb05hbWVzIiwic2hhZG93U3R5bGVyIiwiUHNldWRvRWxlbWVudC5Qc2V1ZG9lbGVtZW50U3R5bGVyIiwiVnRyZWUuU2hhZG93Q29udGV4dCIsIlZ0cmVlLlNoYWRvd1R5cGUiLCJST09UTEVTUyIsImNvbXB1dGVkUHNldWRvU3R5bGVNYXAiLCJjb21wdXRlZFBzZXVkb1N0eWxlIiwiQ3NzQ2FzY2FkZS5tZXJnZVN0eWxlIiwiQ3NzQ2FzY2FkZS5tZXJnZVZpZXdDb25kaXRpb25hbFN0eWxlcyIsIkNzc0Nhc2NhZGUuZm9yRWFjaFN0eWxlc0luUmVnaW9uIiwiQ3NzQ2FzY2FkZS5mb3JFYWNoVmlld0NvbmRpdGlvbmFsU3R5bGVzIiwibG9hZCIsInJlZkRvY1BhcmFtIiwicmVmRG9jIiwicmVmRWxlbWVudCIsImdldEVsZW1lbnQiLCJyZWZTdHlsZXIiLCJnZXRTdHlsZXJGb3JEb2MiLCJ0ZW1wbGF0ZVVSTFZhbCIsImNyZWF0ZVJlZlNoYWRvdyIsInNoYWRvdyIsImNvbnQyIiwiY3JlYXRlUHNldWRvZWxlbWVudFNoYWRvdyIsImRpc3BsYXlWYWx1ZXMiLCJEaXNwbGF5LmdldENvbXB1dGVkRGlzbGF5VmFsdWUiLCJzaGFkb3dSb290Iiwibm9kZVN0eWxlIiwiaW5oZXJpdGFuY2VWaXNpdG9yIiwiQ3NzQ2FzY2FkZS5Jbmhlcml0YW5jZVZpc2l0b3IiLCJDc3NDYXNjYWRlLmlzSW5oZXJpdGVkIiwiQ3NzLnByb2Nlc3NpbmdPcmRlckZuIiwic2V0UHJvcE5hbWUiLCJzbmFtZSIsIlBPTFlGSUxMRURfSU5IRVJJVEVEX1BST1BTIiwibnVtZXJpY1ZhbCIsIm5lZWRUb1Byb2Nlc3NDaGlsZHJlbiIsImluaGVyaXRlZFZhbHVlcyIsImluaGVyaXRGcm9tU291cmNlUGFyZW50IiwiY29tcHV0ZVN0eWxlIiwicHJvY2Vzc0NvbnRlbnQiLCJ0cmFuc2ZlclBvbHlmaWxsZWRJbmhlcml0ZWRQcm9wcyIsImluaGVyaXRMYW5nQXR0cmlidXRlIiwiY3JlYXRlU2hhZG93cyIsInNoYWRvd1BhcmFtIiwicGFyZW50V3JpdGluZ01vZGUiLCJpc0Zsb3dSb290IiwiaXNJbnNpZGVCRkMiLCJmbG9hdGluZyIsImxpc3RJdGVtIiwiRGlzcGxheS5pc0lubGluZUxldmVsIiwiYm9yZGVyQ29sbGFwc2UiLCJib3JkZXJTcGFjaW5nIiwib3V0ZXJQc2V1ZG8iLCJWdHJlZS5GaXJzdFBzZXVkbyIsInByb2Nlc3NBZnRlcklmY29udGludWVzIiwid2hpdGVzcGFjZVZhbHVlIiwid29yZEJyZWFrIiwib3ZlcmZsb3dXcmFwIiwicmVzb2x2ZUZvcm1hdHRpbmdDb250ZXh0IiwiaXNGaXJzdFRpbWUiLCJwcm9jZXNzUmVwZWF0T25CcmVhayIsImZpbmRBbmRQcm9jZXNzUmVwZWF0aW5nRWxlbWVudHMiLCJjdXN0b20iLCJlbGVtUmVzdWx0IiwiaW1hZ2VSZWYiLCJpbWFnZUJpbmFyeSIsImlubmVyU3JjIiwiVGFza1V0aWwubG9hZEVsZW1lbnQiLCJmYjJSZW1hcCIsIk5DWCIsIm5hdlBhcmVudCIsImNoaWxkRWxlbWVudCIsImhwIiwiYmVoYXZpb3IiLCJkYXRhc2V0IiwiaWZyYW1lIiwiY29udGVudFdpbmRvdyIsImVwdWJSZWFkaW5nU3lzdGVtIiwibGF5b3V0U3R5bGUiLCJoYXNGZWF0dXJlIiwiaW1hZ2VSZXNvbHV0aW9uIiwiaW1hZ2VzIiwiY3NzV2lkdGgiLCJjc3NIZWlnaHQiLCJhdHRyV2lkdGgiLCJhdHRySGVpZ2h0IiwiaGFzQXV0b1dpZHRoIiwiaGFzQXV0b0hlaWdodCIsImF0dHJpYnV0ZUNvdW50IiwiZGVsYXllZFNyYyIsImF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5TIiwicmVnaXN0ZXJFbGVtZW50V2l0aElkIiwiaW1hZ2UiLCJJbWFnZSIsImlzU1ZHVXJsQXR0cmlidXRlIiwiVXJscy50cmFuc2Zvcm1VUklzIiwiYXR0cmlidXRlUHJlZml4IiwiaW1hZ2VGZXRjaGVyIiwibGlzdFN0eWxlSW1hZ2UiLCJsaXN0U3R5bGVVUkwiLCJwcmVwcm9jZXNzRWxlbWVudFN0eWxlIiwiYXBwbHlDb21wdXRlZFN0eWxlcyIsImJsYWNrTGlzdCIsIm1vZGlmeUVsZW1EaW1lbnNpb25XaXRoSW1hZ2VSZXNvbHV0aW9uIiwiTGF5b3V0LkFmdGVySWZDb250aW51ZXMiLCJTVkdfVVJMX0FUVFJJQlVURVMiLCJzY2FsZWRXaWR0aCIsInNjYWxlZEhlaWdodCIsIm51bWVyaWNNYXhXaWR0aCIsIm51bWVyaWNNYXhIZWlnaHQiLCJudW1lcmljTWluV2lkdGgiLCJudW1lcmljTWluSGVpZ2h0IiwiUFJFUFJPQ0VTU19FTEVNRU5UX1NUWUxFIiwiUmVwZXRpdGl2ZUVsZW1lbnQuUmVwZXRpdGl2ZUVsZW1lbnRzT3duZXJGb3JtYXR0aW5nQ29udGV4dCIsInBhcmVudEZvcm1hdHRpbmdDb250ZXh0IiwicHJlcHJvY2Vzc1RleHRDb250ZW50IiwiRGlmZi5yZXN0b3JlTmV3VGV4dCIsIm9yaWdpbmwiLCJQUkVQUk9DRVNTX1RFWFRfQ09OVEVOVCIsInByb2Nlc3NlZFRleHQiLCJjcmVhdGVFbGVtZW50VmlldyIsImNyZWF0ZVRleHROb2RlVmlldyIsInByb2Nlc3NDaGlsZHJlbiIsImNyZWF0ZU5vZGVWaWV3IiwiY29udGVudE5vZGUiLCJjb250ZW50U2hhZG93VHlwZSIsImNvbnRlbnRTaGFkb3ciLCJyZXNldFZpZXciLCJWdHJlZS5Ob2RlQ29udGV4dCIsInByb2Nlc3NTaGFkb3dDb250ZW50Iiwic2hhZG93Tm9kZSIsInNyIiwidHJhbnNjbHVzaW9uVHlwZSIsInByb2MiLCJuZXh0UG9zaXRpb25JblRyZWUiLCJiZyIsImFkZEltYWdlRmV0Y2hlcnMiLCJpc1JlbGF0aXZlUG9zaXRpb25lZCIsInByb3BlcnRpZXNOb3RQYXNzZWRUb0RPTSIsIkNzc1Byb3AuVXJsVHJhbnNmb3JtVmlzaXRvciIsIlZ0cmVlLmRlbGF5ZWRQcm9wcyIsIlZ0cmVlLmRlbGF5ZWRQcm9wc0lmUmVsYXRpdmVQb3NpdGlvbmVkIiwicG4iLCJjaGlsZENvbXB1dGVkU3R5bGUiLCJib3hEZWNvcmF0aW9uQnJlYWsiLCJDc3NDYXNjYWRlLmNvbnZlcnRGb250UmVsYXRpdmVMZW5ndGhUb1B4Iiwic3RlcDEiLCJzdGVwMiIsImVsZW0xIiwiZWxlbTIiLCJQc2V1ZG9FbGVtZW50LmdldFBzZXVkb05hbWUiLCJub2RlUG9zaXRpb24xIiwibm9kZVBvc2l0aW9uMiIsInN1cCIsImRhdGUiLCJlbXBoYXNpcyIsInN0cm9uZyIsInN0cmlrZXRocm91Z2giLCJib3gtZGVjb3JhdGlvbi1icmVhayIsImZsb2F0LW1pbi13cmFwLWJsb2NrIiwiZmxvYXQtcmVmZXJlbmNlIiwiZmxvdy1pbnRvIiwiZmxvdy1vcHRpb25zIiwiZm9vdG5vdGUtcG9saWN5IiwiRGVmYXVsdENsaWVudExheW91dCIsImxheW91dEJveCIsIm9yaWdpblJlY3QiLCJ2aWV3cG9ydExlZnQiLCJ2aWV3cG9ydFRvcCIsInJlY3RzIiwiZ2V0Q2xpZW50UmVjdHMiLCJsYXlvdXRCb3hSZWN0Iiwic3VidHJhY3RPZmZzZXRzIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsIlZpZXdwb3J0Iiwib3B0X3Jvb3QiLCJvcHRfd2lkdGgiLCJvcHRfaGVpZ2h0Iiwib3V0ZXJab29tQm94IiwiY29udGVudENvbnRhaW5lciIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIlhNTERvY0hvbGRlciIsImxhbmdzIiwiU1NFIiwiTm9kZUxpc3QiLCJvZmZzZXRTdHIiLCJzcmNOb2RlIiwidG90YWxPZmZzZXQiLCJpZE1hcCIsInhtbGlkIiwiYnVpbGRJZE1hcCIsImdldEVsZW1lbnRzQnlOYW1lIiwiRE9NUGFyc2VyU3VwcG9ydGVkVHlwZSIsInBhcnNlQW5kUmV0dXJuTnVsbElmRXJyb3IiLCJvcHRfcGFyc2VyIiwiZG9jRWxlbWVudCIsImVycm9yVGFnTmFtZSIsInBhcnNlWE1MUmVzb3VyY2UiLCJzdXBwb3J0ZWRLZXlzIiwiQVBQTElDQVRJT05fWE1MIiwiVEVYVF9IVE1MIiwiQVBQTElDQVRJT05fWEhUTUxfWE1MIiwiSU1BR0VfU1ZHX1hNTCIsIlByZWRpY2F0ZSIsImNoZWNrIiwib3B0X2NoaWxkUHJlZGljYXRlIiwicHJlZGljYXRlIiwicHIiLCJmb3JFYWNoTm9kZSIsImZvckVhY2hOb25OdWxsIiwidWFTdHlsZXNoZWV0QmFzZUZldGNoZXIiLCJDc3NWYWxpZGF0b3IuYmFzZVZhbGlkYXRvclNldCIsIkNzc1BhcnNlci5TdHlsZXNoZWV0Rmxhdm9yIiwiQ3NzUGFyc2VyLnBhcnNlU3R5bGVzaGVldEZyb21UZXh0IiwiU3R5bGUiLCJyb290Qm94IiwiZm9udEZhY2VzIiwiZm9vdG5vdGVQcm9wcyIsImZsb3dQcm9wcyIsInZpZXdwb3J0UHJvcHMiLCJmb250RGVvYmZ1c2NhdG9yIiwiZGVmaW5lQnVpbHRJbiIsImN1cnJlbnRMYXlvdXRQb3NpdGlvbiIsImZpcnN0Rmxvd0NodW5rT2ZGbG93IiwibWF0Y2hQYWdlU2lkZSIsInN0YXJ0U2lkZU9mRmxvdyIsImxvb2t1cE9mZnNldCIsImZsb3dDaHVua0lzQWZ0ZXJQYXJlbnRGbG93Rm9yY2VkQnJlYWsiLCJwYWdlTnVtYmVyT2Zmc2V0IiwiRXhwcnMuQ29udGV4dCIsInRleHRab29tIiwic2NhbGVGYWN0b3IiLCJkZWZhdWx0Rm9udFNpemUiLCJ3aWR0aFZhbCIsImhlaWdodFZhbCIsIlN0eWxlSW5zdGFuY2UiLCJkZWZhdWx0TGFuZyIsImZvbnRNYXBwZXIiLCJmYWNlcyIsIkZvbnQuRG9jdW1lbnRGYWNlcyIsInJvb3RQYWdlRmxvYXRMYXlvdXRDb250ZXh0IiwiY3JlYXRlQ291bnRlckxpc3RlbmVyIiwiY3JlYXRlQ291bnRlclJlc29sdmVyIiwiQ3NzU3R5bGVyLlN0eWxlciIsInNldFN0eWxlciIsInJlc2V0Rmxvd0NodW5rU3RyZWFtIiwic3R5bGVyTWFwIiwiZ2V0VG9wQ29udGFpbmVyU3R5bGUiLCJDc3NQYWdlLnJlc29sdmVQYWdlUHJvZ3Jlc3Npb24iLCJQYWdlTWFzdGVyLlJvb3RQYWdlQm94SW5zdGFuY2UiLCJwYWdlTWFuYWdlciIsIkNzc1BhZ2UuUGFnZU1hbmFnZXIiLCJmb250RmFjZSIsIkZvbnQucHJlcGFyZVByb3BlcnRpZXMiLCJGb250LkZhY2UiLCJmaW5kT3JMb2FkRm9udHMiLCJDc3NQYWdlLmV2YWx1YXRlUGFnZVNpemVBbmRCbGVlZCIsIkNzc1BhZ2UucmVzb2x2ZVBhZ2VTaXplQW5kQmxlZWQiLCJwYWdlU2hlZXRTaXplIiwiZ2V0U3R5bGVGb3JEb2MiLCJwYWdlQm94SW5zdGFuY2VzIiwiVnRyZWUuRmxvd1Bvc2l0aW9uIiwiVnRyZWUuQ2h1bmtQb3NpdGlvbiIsIlZ0cmVlLkZsb3dDaHVua1Bvc2l0aW9uIiwiY2h1bmtPZmZzZXQiLCJsYXlvdXRQb3NpdGlvbiIsIm5vTG9va0FoZWFkIiwiY3VycmVudFBvc2l0aW9uIiwic3R5bGVVbnRpbEZsb3dJc1JlYWNoZWQiLCJjb25zdW1lZE9mZnNldCIsImdldENvbnN1bWVkT2Zmc2V0IiwiZmxvd0NodW5rQnJlYWtCZWZvcmUiLCJmbG93QnJlYWtBZnRlciIsIkJyZWFrLnN0YXJ0U2lkZVZhbHVlVG9CcmVha1ZhbHVlIiwiQnJlYWsuYnJlYWtWYWx1ZVRvU3RhcnRTaWRlVmFsdWUiLCJnZXRQb3NpdGlvbiIsInBhZ2VNYXN0ZXJzIiwiY29lZmYiLCJwYWdlQXJlYSIsInVwZGF0ZVN0YXJ0U2lkZSIsImxheW91dFBvc2l0aW9uQXRQYWdlU3RhcnQiLCJpbml0TGluZ2VyaW5nIiwiZ2V0UGFnZVJ1bGVQYWdlTWFzdGVyIiwiYnJlYWtPZmZzZXRCZWZvcmVTdGFydEluZGV4IiwiYnJlYWtPZmZzZXRCZWZvcmVTdGFydCIsInBhcmVudEZsb3dQb3NpdGlvbiIsInBhcmVudFN0YXJ0T2Zmc2V0IiwiTGF5b3V0UHJvY2Vzc29yLkJsb2NrRm9ybWF0dGluZ0NvbnRleHQiLCJwYXJlbnRJbnZhbGlkYXRlZCIsInZhbGlkYXRlIiwic2V0Rm9ybWF0dGluZ0NvbnRleHRUb0NvbHVtbiIsImxheW91dERlZmVycmVkUGFnZUZsb2F0cyIsInJlcGVhdGVkSW5kaWNlcyIsInJlbW92ZWRJbmRpY2VzIiwiaGFzQ29udGludWluZ0Zsb2F0RnJhZ21lbnRzSW5GbG93IiwiYWx0IiwiaXNCZXR0ZXIiLCJnZXRMYXN0QWZ0ZXJQb3NpdGlvbklmRGVmZXJyZWRGbG9hdHNFeGlzdHMiLCJzYXZlRGlzdGFuY2VUb0Jsb2NrRW5kRmxvYXRzIiwiZ2V0TWF4UmVhY2hlZEFmdGVyRWRnZSIsImNvdW50ZXJDb25zdHJhaW50IiwiY3JlYXRlTGF5b3V0Q29uc3RyYWludCIsIkxheW91dC5BbGxMYXlvdXRDb25zdHJhaW50IiwiZm9yY2VOb25GaXR0aW5nIiwiZG9udEFwcGx5RXhjbHVzaW9ucyIsImJveENvbnRhaW5lciIsImNvbHVtblBhZ2VGbG9hdExheW91dENvbnRleHQiLCJwb3NpdGlvbkF0Q29sdW1uU3RhcnQiLCJjb2x1bW5Db250YWluZXIiLCJMYXlvdXQuQ29sdW1uIiwiY29sdW1uWSIsImNvbHVtblgiLCJjb3B5RnJvbSIsImxheW91dENvbHVtbiIsInBhZ2VQYWdlRmxvYXRMYXlvdXRDb250ZXh0IiwiQ3NzUGFnZS5QYWdlUnVsZVBhcnRpdGlvbkluc3RhbmNlIiwiQ3NzUGFnZS5QYWdlUnVsZU1hc3Rlckluc3RhbmNlIiwicG9zaXRpb25BdENvbnRhaW5lclN0YXJ0IiwiZ2V0UmVnaW9uUGFnZUZsb2F0TGF5b3V0Q29udGV4dCIsImxheW91dENvbHVtbnMiLCJsYXlvdXRGbG93Q29sdW1ucyIsImdlbmVyYXRvclJlc3VsdCIsImNvbHVtbkZpbGwiLCJjb2x1bW5CYWxhbmNlciIsIm5vTW9yZUNvbnRlbnQiLCJsYXN0Q29sdW1uIiwiaXNMYXN0Q29sdW1uRm9yY2VCcm9rZW4iLCJsb2NrIiwiYmFsYW5jZUNvbHVtbnMiLCJ1bmxvY2siLCJWZ2VuLlZpZXdGYWN0b3J5IiwiY3JlYXRlQW5kTGF5b3V0Q29sdW1uIiwiaXNMb2NrZWQiLCJwYWdlQnJlYWtzIiwiZG9udEV4Y2x1ZGUiLCJWdHJlZS5Db250YWluZXIiLCJzZXRQYWdlUGFnZUZsb2F0TGF5b3V0Q29udGV4dENvbnRhaW5lciIsInJlbW92ZWQiLCJpc0lkZW50IiwibGF5b3V0Rmxvd0NvbHVtbnNXaXRoQmFsYW5jaW5nIiwiaW5uZXJDb250YWluZXJUYWciLCJpbm5lckNvbnRhaW5lciIsInRyYW5zZmVyU2luZ2xVcmlDb250ZW50UHJvcHMiLCJ0cmFuc2ZlckNvbnRlbnRQcm9wcyIsInN1cHByZXNzRW1wdHlCb3hHZW5lcmF0aW9uIiwib3V0ZXJTaGFwZSIsInN0YXJ0UGFnZSIsIlZ0cmVlLkxheW91dFBvc2l0aW9uIiwiZ2V0Q2FzY2FkZWRQYWdlU3R5bGUiLCJzZWxlY3RQYWdlTWFzdGVyIiwiYmxlZWRCb3hQYWRkaW5nRWRnZSIsInNldEF1dG9QYWdlV2lkdGgiLCJzZXRBdXRvUGFnZUhlaWdodCIsInNldEN1cnJlbnRQYWdlIiwidXBkYXRlUGFnZUNvdW50ZXJzIiwiZXZhbHVhdGVkUGFnZVNpemVBbmRCbGVlZCIsInNldFBhZ2VTaXplQW5kQmxlZWQiLCJwcmludGVyTWFya09mZnNldCIsImJnY29sb3IiLCJjcm9wTWFya0xpbmVMZW5ndGgiLCJibGVlZE1hcmtMaW5lTGVuZ3RoIiwibWF4TGluZUxlbmd0aCIsInN2Z1dpZHRoIiwicG9pbnRzMSIsInBvaW50czIiLCJUT1BfUklHSFQiLCJCT1RUT01fUklHSFQiLCJCT1RUT01fTEVGVCIsImxpbmUxIiwibGluZTIiLCJsb25nTGluZUxlbmd0aCIsIkJPVFRPTSIsImhvcml6b250YWxMaW5lIiwidmVydGljYWxMaW5lIiwib3Bwb3NpdGUiLCJMRUZUIiwiUklHSFQiLCJDc3NQYWdlLmFkZFByaW50ZXJNYXJrcyIsImFkanVzdFBhZ2VMYXlvdXQiLCJpc0xlZnRQYWdlIiwiQ29uc3RhbnRzLlBhZ2VTaWRlIiwicHJvY2Vzc0xpbmdlciIsImdldFJlYWNoZWRPZmZzZXQiLCJnZXRUcmlnZ2Vyc0ZvckRvYyIsIm5vTW9yZVByaW1hcnlGbG93cyIsInBhZ2VTaGVldFdpZHRoIiwicGFnZVNoZWV0SGVpZ2h0IiwiQmFzZVBhcnNlckhhbmRsZXIiLCJtYXN0ZXJIYW5kbGVyIiwiUGFnZU1hc3Rlci5QYWdlTWFzdGVyUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuRGVmaW5lUGFyc2VySGFuZGxlciIsIkNzc0Nhc2NhZGUuUHJvcFNldFBhcnNlckhhbmRsZXIiLCJpbnNpZGVSZWdpb24iLCJwYWdlSGFuZGxlciIsIkNzc1BhZ2UuUGFnZVBhcnNlckhhbmRsZXIiLCJyZWdpb25Db3VudCIsInNwZWNpYWwiLCJyZWdpb25IYW5kbGVyIiwicHJvY2Vzc1ZpZXdwb3J0TWV0YSIsIm1ldGEiLCJTdHlsZVBhcnNlckhhbmRsZXIiLCJDc3NQYXJzZXIuRGlzcGF0Y2hQYXJzZXJIYW5kbGVyIiwiUGFnZU1hc3Rlci5Sb290UGFnZUJveCIsImNhc2NhZGVQYXJzZXJIYW5kbGVyIiwicGFyc2VPUFNSZXNvdXJjZSIsIk9QU0RvY1N0b3JlIiwiTmV0LlJlc291cmNlU3RvcmUiLCJhdXRob3JTdHlsZVNoZWV0cyIsInVzZXJTdHlsZVNoZWV0cyIsInNldFN0eWxlU2hlZXRzIiwidXNlckFnZW50WE1MIiwidHJpZ2dlclNpbmdsZURvY3VtZW50UHJlcHJvY2Vzc2luZyIsInN0eWxlQnlEb2NVUkwiLCJ0cmlnZ2Vyc0J5RG9jVVJMIiwiY2xlYXJTdHlsZVNoZWV0cyIsImFkZEF1dGhvclN0eWxlU2hlZXQiLCJhZGRVc2VyU3R5bGVTaGVldCIsInN0eWxlU2hlZXRzIiwic3R5bGVzaGVldCIsIkJhc2UuY29udmVydFNwZWNpYWxVUkwiLCJCYXNlLmJhc2VVUkwiLCJYbWxEb2MucGFyc2VYTUxSZXNvdXJjZSIsIlBSRVBST0NFU1NfU0lOR0xFX0RPQ1VNRU5UIiwidHJpZ2dlckxpc3QiLCJnZXRFbGVtZW50c0J5VGFnTmFtZU5TIiwidHJpZ2dlckVsZW0iLCJFViIsInNvdXJjZXMiLCJ1c2VyQWdlbnRVUkwiLCJ0aXRsZSIsInJlbCIsInN0eWxlQnlLZXkiLCJzdHlsZUZldGNoZXJCeUtleSIsInNwaCIsInNvdXJjZSIsIkNzc1BhcnNlci5wYXJzZVN0eWxlc2hlZXRGcm9tVVJMIiwiZW5jb2RlMzIiLCJkZWNvZGUzMiIsImJ5dGVzIiwiYnl0ZXNUb1NIQTFJbnQzMiIsImFwcGVuZENvdW50IiwiYmkiLCJUT0NWaWV3IiwicmVuZGVyZXJGYWN0b3J5IiwiRXhwcnMuY2xvbmVQcmVmZXJlbmNlcyIsInNldEF1dG9IZWlnaHQiLCJyZW5kZXJlciIsIm1ha2VDdXN0b21SZW5kZXJlciIsInNyY0VsZW0iLCJ2aWV3UGFyZW50IiwicXVlcnlTZWxlY3RvciIsInJlcGxhY2VDaGlsZCIsImFkYXB0UGFyZW50Q2xhc3MiLCJidXR0b24iLCJ0b2dnbGVOb2RlRXhwYW5zaW9uIiwidGFiSW5kZXgiLCJhbmNob3JFbGVtIiwiVnRyZWUuUGFnZSIsInRvY0JveFVybCIsIm5vblRvY0JveERvYyIsInZpZXdwb3J0U2l6ZSIsInNpemVWaWV3cG9ydCIsIlZnZW4uVmlld3BvcnQiLCJPUFMuU3R5bGVJbnN0YW5jZSIsImxheW91dE5leHRQYWdlIiwiYm9keUNoaWxkRWxlbSIsImV4cG9ydFRyZWUiLCJsaW5rcyIsImV4cG9ydExpbmsiLCJoYXNoIiwiaW5uZXJUZXh0IiwidG9jTm9kZUVsZW0iLCJjZSIsImFkYXB0Q2xhc3MiLCJFUFVCRG9jU3RvcmUiLCJPUFMuT1BTRG9jU3RvcmUiLCJtYWtlRGVvYmZ1c2NhdG9yRmFjdG9yeSIsInBsYWluWE1MU3RvcmUiLCJqc29uU3RvcmUiLCJkZW9iZnVzY2F0b3JzIiwiaGF2ZVppcE1ldGFkYXRhIiwibG9hZEVQVUJEb2MiLCJvcGYiLCJwdWJVUkwiLCJsb2FkT1BGIiwibG9hZEFzSlNPTiIsIm1hbmlmZXN0T2JqIiwiT1BGRG9jIiwiaW5pdFdpdGhXZWJQdWJNYW5pZmVzdCIsImxvYWRXZWJQdWIiLCJzdGFydExvYWRpbmdBc0pTT04iLCJzdGFydExvYWRpbmdBc1BsYWluWE1MIiwiY29udGFpbmVyVVJMIiwibG9hZEFzUGxhaW5YTUwiLCJjb250YWluZXJYTUwiLCJyb290cyIsIm9wZkJ5VVJMIiwib3BmWE1MIiwiZW5jWE1MIiwiemlwTWV0YWRhdGEiLCJpbml0V2l0aFhNTERvYyIsInByaW1hcnlPUEZCeUVQdWJVUkwiLCJtYW5pZmVzdExpbmsiLCJ4aHRtbFRvYyIsImRvY1VSTCIsImRvY3VtZW50cyIsInN0YXJ0c1dpdGgiLCJPUEZJdGVtIiwiaXRlbVByb3BlcnRpZXMiLCJCYXNlLmVtcHR5T2JqIiwiaXRlbUVsZW0iLCJvcGZVUkwiLCJtZWRpYVR5cGUiLCJwcm9wU3RyIiwic2tpcFBhZ2VzQmVmb3JlIiwiZ2V0T1BGSXRlbUlkIiwicHJlZGVmaW5lZFByZWZpeGVzIiwiZGN0ZXJtcyIsIm1hcmMiLCJyZW5kaXRpb24iLCJvbml4IiwieHNkIiwiZGVmYXVsdElSSSIsIm1ldGFUZXJtcyIsImxhbmd1YWdlIiwiY3JlYXRvciIsInRpdGxlVHlwZSIsImRpc3BsYXlTZXEiLCJhbHRlcm5hdGVTY3JpcHQiLCJyb2xlIiwiZ2V0TWV0YWRhdGFDb21wYXJhdG9yIiwiaXRlbTEiLCJpdGVtMiIsIm0yIiwiaTEiLCJpMiIsImdldE1hdGhKYXhIdWIiLCJtYXRoIiwiTWF0aEpheCIsIkh1YiIsInN1cHBvcnRlZE1lZGlhVHlwZXMiLCJhcHBsaWNhdGlvbi94aHRtbCt4bWwiLCJpbWFnZS9qcGVnIiwiaW1hZ2UvcG5nIiwiaW1hZ2Uvc3ZnK3htbCIsImltYWdlL2dpZiIsImF1ZGlvL21wMyIsImNyZWF0ZURvY3VtZW50VVJMVHJhbnNmb3JtZXIiLCJDc3NDYXNjYWRlLnN1cHBvcnRlZE5hbWVzcGFjZXMiLCJNQVRITUwiLCJCYXNlLmVzY2FwZU5hbWVTdHJUb0hleCIsInBhdGgiLCJpdGVtcyIsImVuY29kZWQiLCJCYXNlLnVuZXNjYXBlU3RyRnJvbUhleCIsIm1ldGFkYXRhIiwiZXB1YkJhc2VVUkwiLCJkZWNvZGVVUkkiLCJtYW5pZmVzdFVSTCIsInBrZyIsInVpZHJlZiIsInVpZEVsZW0iLCJ1aWQiLCJzcmNUb0ZhbGxiYWNrSWQiLCJhc0FycmF5IiwiaW5pdFdpdGhFbGVtZW50IiwiZmFsbGJhY2siLCJuYXYiLCJjb3ZlciIsIml0ZW1NYXAiLCJCYXNlLmluZGV4QXJyYXkiLCJpdGVtTWFwQnlQYXRoIiwiZ2V0UGF0aEZyb21VUkwiLCJmYWxsYmFja1NyYyIsInNwaW5lIiwiaXRlbVJlZkVsZW1lbnQiLCJ0b2NBdHRyIiwibmN4VG9jIiwicGFnZVByb2dyZXNzaW9uQXR0ciIsIkNvbnN0YW50cy5wYWdlUHJvZ3Jlc3Npb25PZiIsImlkcGZPYmZVUkxzIiwiWG1sRG9jLnByZWRpY2F0ZSIsIndpdGhDaGlsZCIsIndpdGhBdHRyaWJ1dGUiLCJtZWRpYVR5cGVFbGVtcyIsImhhbmRsZXJJZCIsImJpbmRpbmdzIiwibXJvb3QiLCJwcmVmaXhNYXAiLCJyZXNvbHZlUHJvcGVydHkiLCJpcmkiLCJyYXdJdGVtcyIsInJlZmluZXMiLCJzY2hlbWUiLCJEQyIsInJhd0l0ZW1zQnlUYXJnZXQiLCJCYXNlLm11bHRpSW5kZXhBcnJheSIsInJhd0l0ZW0iLCJtYWtlTWV0YWRhdGEiLCJyYXdJdGVtQXJyIiwiX2l0ZW1OYW1lIiwiZW50cnlNYXAiLCJzb3J0TWV0YWRhdGEiLCJwcmVQYWdpbmF0ZWQiLCJzaGExU3VtIiwid2Via2l0U2xpY2UiLCJmaWxlUmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0FycmF5QnVmZmVyIiwiZGF0YVZpZXciLCJEYXRhVmlldyIsImJ5dGVMZW5ndGgiLCJnZXRVaW50OCIsInNldFVpbnQ4IiwibWFrZURlb2JmdXNjYXRvciIsImFzc2lnbkF1dG9QYWdlcyIsIm1hbmlmZXN0VGV4dCIsIm9iZnVzY2F0aW9ucyIsIm9iZnVzY2F0aW9uS2V5Iiwic2hhMSIsIlNIQTEuYnl0ZXNUb1NIQTFIZXgiLCJlbmNvZGVkUGF0aCIsImNvbXByZXNzZWQiLCJjb21wcmVzc2VkU2l6ZSIsIm9iZnVzY2F0aW9uIiwiREVGQVVMVCIsImVwYWdlIiwiZXBhZ2VDb3VudCIsImVwYWdlQ291bnRDYWxsYmFjayIsImVwYWdlSXNSZW5kZXJlZFBhZ2UiLCJvZmZzZXRQZXJFUGFnZSIsImdldFRvdGFsT2Zmc2V0IiwiWG1sRG9jLlhNTERvY0hvbGRlciIsImluaXRXaXRoUGFyYW0iLCJpdGVtcmVmIiwiYWRkRG9jdW1lbnQiLCJyZWFkaW5nUHJvZ3Jlc3Npb24iLCJwcmltYXJ5RW50cnlQYXRoIiwicmVhZGluZ09yZGVyIiwiZW5jb2RlVVJJIiwiaHJlZk5vRnJhZ21lbnQiLCJpdGVtQ291bnQiLCJ0b2NGb3VuZCIsInJlYWRpbmdPcmRlck9yUmVzb3VyY2VzIiwiaXRlbU9iaiIsImlzSW5SZWFkaW5nT3JkZXIiLCJlbmNvZGluZ0Zvcm1hdCIsImluaXRXaXRoQ2hhcHRlcnMiLCJvZmZzZXRJbkl0ZW0iLCJjZmkiLCJDRkkuRnJhZ21lbnQiLCJwcmVwZW5kUGF0aEZyb21Ob2RlIiwiZnJvbVN0cmluZyIsIm9wZk5hdiIsIm5hdmlnYXRlIiwiaWRyZWYiLCJub2RlTmF2IiwibWFrZVBhZ2VBbmRQb3NpdGlvbiIsIk9QRlZpZXciLCJwYWdlU2hlZXRTaXplUmVwb3J0ZXIiLCJWZ2VuLkRlZmF1bHRDbGllbnRMYXlvdXQiLCJDb3VudGVycy5Db3VudGVyU3RvcmUiLCJ2aWV3SXRlbSIsInNwaW5lSXRlbXMiLCJvbGRQYWdlIiwiaXNGaXJzdFBhZ2UiLCJwcmV2SXRlbSIsIm5ld1BhZ2UiLCJpbnNlcnRQb3MiLCJtYWtlUGFnZSIsInBvc1BhcmFtIiwibGF5b3V0UG9zaXRpb25zIiwiZmluaXNoUGFnZUNvbnRhaW5lciIsImZpbmlzaFBhZ2UiLCJwcmV2UG9zIiwicmVuZGVyU2luZ2xlUGFnZSIsImdldFVucmVzb2x2ZWRSZWZzVG9QYWdlIiwiZ2V0UGFnZVZpZXdJdGVtIiwicHVzaFBhZ2VDb3VudGVycyIsInB1c2hSZWZlcmVuY2VzVG9Tb2x2ZSIsInBvcFBhZ2VDb3VudGVycyIsInBvcFJlZmVyZW5jZXNUb1NvbHZlIiwicmVzdWx0UG9zaXRpb24iLCJwYWdlQW5kUG9zaXRpb24iLCJpc0xhc3RQYWdlIiwiZmluaXNoTGFzdFBhZ2UiLCJuZXh0TGF5b3V0UG9zaXRpb24iLCJzZWVrT2Zmc2V0Iiwic2Vla09mZnNldFBhZ2VJbmRleCIsImNvbXBsZXRlIiwic3luYyIsInJlc3VsdFBhZ2UiLCJub3JtYWxpemVkUG9zaXRpb24iLCJub3JtYWxpemVTZWVrUG9zaXRpb24iLCJyZW5kZXJQYWdlIiwicmVuZGVyUGFnZXNVcHRvIiwibm90QWxsUGFnZXMiLCJsYXN0UmVzdWx0IiwiZmluZFBhZ2UiLCJuZXh0Vmlld0l0ZW0iLCJuZXh0UGFnZSIsInNwaW5lSXRlbUxvYWRpbmdDb250aW51YXRpb25zIiwiaXNMZWZ0IiwiaXNMVFIiLCJnZXRDdXJyZW50UGFnZVByb2dyZXNzaW9uIiwiZ2V0UGFnZSIsImlzUmVjdG9QYWdlIiwicHJldmlvdXNQYWdlIiwib3RoZXJQYWdlQW5kUG9zaXRpb24iLCJ0aGlzUGFnZSIsIm90aGVyUGFnZSIsImlzUmVjdG8iLCJuZXh0MiIsInJlc3VsdDIiLCJvbGRQcmV2UGFnZUNvbnQiLCJyZXNvbHZlRVBhZ2UiLCJyZXNvbHZlRnJhZ21lbnQiLCJyZXN0b3JlZCIsInJlc3RvcmVVUkwiLCJuYXZpZ2F0ZVRvRnJhZ21lbnQiLCJwYWdlQ29udCIsIkNvbnN0YW50cy5pc0RlYnVnIiwibWF0cml4IiwiRXhwcnMubGV0dGVyYm94IiwiY3NzTWF0cml4IiwiaGFuZGxlclNyYyIsInNyY1BhcmFtIiwiQmFzZS5saWdodFVSTEVuY29kZSIsInR5cGVQYXJhbSIsInB2YWx1ZSIsImh1YiIsImNsb25lZE1hdGgiLCJpbXBvcnROb2RlIiwicmVzb2x2ZVVSTHNJbk1hdGhNTCIsIlB1c2giLCJhdHRycyIsIm5ld1VybCIsInNyY1RhZ05hbWUiLCJtYWtlT2JqZWN0VmlldyIsIm1ha2VNYXRoSmF4VmlldyIsIm1ha2VTU0VWaWV3IiwibWF0aFR5cGVzZXQiLCJsb2FkaW5nQ29udGludWF0aW9ucyIsInByZXZpb3VzVmlld0l0ZW0iLCJmb3JjZVNldFBhZ2VDb3VudGVyIiwicHViVGl0bGVzIiwiYXV0b2hpZGUiLCJ0b2MiLCJ0b2NBdXRvaGlkZSIsInRvY1ZpZXciLCJUb2MuVE9DVmlldyIsInRvY1dpZHRoIiwidG9jSGVpZ2h0Iiwic2hvd1RPQyIsImhpZGVUT0MiLCJpc1RPQ1Zpc2libGUiLCJQYWdlVmlld01vZGUiLCJab29tVHlwZSIsIkFkYXB0aXZlVmlld2VyIiwidmlld3BvcnRFbGVtZW50IiwiaW5zdGFuY2VJZCIsImNhbGxiYWNrRm4iLCJGb250Lk1hcHBlciIsImtpY2siLCJzZW5kQ29tbWFuZCIsInJlc2l6ZUxpc3RlbmVyIiwibmVlZFJlc2l6ZSIsInBhZ2VSZXBsYWNlZExpc3RlbmVyIiwiaHlwZXJsaW5rTGlzdGVuZXIiLCJwYWdlUnVsZVN0eWxlRWxlbWVudCIsImxvYWRQdWJsaWNhdGlvbiIsImxvYWRYTUwiLCJjb25maWd1cmUiLCJtb3ZlVG8iLCJhZGRMb2dMaXN0ZW5lcnMiLCJDb25zdGFudHMuUmVhZHlTdGF0ZSIsIkxPQURJTkciLCJwYWNrYWdlVVJMIiwidG91Y2hBY3RpdmUiLCJ0b3VjaFgiLCJ0b3VjaFkiLCJuZWVkUmVmcmVzaCIsImN1cnJlbnRTcHJlYWQiLCJwYWdlUG9zaXRpb24iLCJmaXRUb1NjcmVlbiIsInBhZ2VWaWV3TW9kZSIsIlNJTkdMRV9QQUdFIiwid2FpdEZvckxvYWRpbmciLCJyZW5kZXJBbGxQYWdlcyIsImxvZ0xldmVsIiwiTG9nZ2luZy5Mb2dMZXZlbCIsImFkZExpc3RlbmVyIiwiY29tbWFuZCIsIlByb2ZpbGUucHJvZmlsZXIiLCJzZXRSZWFkeVN0YXRlIiwiemlwbWV0YSIsImF1dGhvclN0eWxlU2hlZXQiLCJ1c2VyU3R5bGVTaGVldCIsIkVwdWIuRVBVQkRvY1N0b3JlIiwibG9hZFB1YkRvYyIsInJlbmRlciIsInJlc29sdmVkUGFyYW1zIiwiRXB1Yi5PUEZEb2MiLCJjYW5jZWxSZW5kZXJpbmdUYXNrIiwicmVzaXplIiwibWF0Y2hlZCIsImF1dG9yZXNpemUiLCJ2cCIsInJlc29sdmVMZW5ndGgiLCJ1c2VyQWdlbnRSb290VVJMIiwiQmFzZS5zZXRCYXNlVVJMIiwiQmFzZS5zZXRSZXNvdXJjZUJhc2VVUkwiLCJyb290VVJMIiwiY29uZmlndXJlUGx1Z2lucyIsIkNPTkZJR1VSQVRJT04iLCJzaG93Q3VycmVudCIsImZvckN1cnJlbnRQYWdlcyIsInJlbW92ZVBhZ2VMaXN0ZW5lcnMiLCJoaWRlUGFnZXMiLCJzaG93U2luZ2xlUGFnZSIsImxlZnRXaWR0aCIsInJpZ2h0V2lkdGgiLCJnZXRDRkkiLCJzZW5kTG9jYXRpb25Ob3RpZmljYXRpb24iLCJ2cyIsIlNQUkVBRCIsIkFVVE9fU1BSRUFEIiwiY3JlYXRlVmlld3BvcnQiLCJyZXNvbHZlU3ByZWFkVmlldyIsInNwcmVhZFZpZXdDaGFuZ2VkIiwidXBkYXRlU3ByZWFkVmlldyIsIm9wZlZpZXciLCJoYXNQYWdlcyIsImhhc0F1dG9TaXplZFBhZ2VzIiwic2V0UGFnZVNpemVQYWdlUnVsZXMiLCJwYWdlU2hlZXRTaXplQWxyZWFkeVNldCIsInN0eWxlVGV4dCIsInRvY1Zpc2libGUiLCJyZW1vdmVSZW5kZXJlZFBhZ2VzIiwicmVtb3ZlUGFnZVNpemVQYWdlUnVsZXMiLCJyZXNldFpvb20iLCJFcHViLk9QRlZpZXciLCJzZXRQYWdlU2l6ZSIsImdldFNwcmVhZCIsInNob3dTcHJlYWQiLCJzZXRTcHJlYWRab29tIiwic2hvd1BhZ2UiLCJzZXRQYWdlWm9vbSIsImdldEFkanVzdGVkWm9vbUZhY3RvciIsImdldFNwcmVhZERpbWVuc2lvbnMiLCJwYWdlRGltZW5zaW9uIiwiY2FsY3VsYXRlWm9vbUZhY3RvclRvRml0SW5zaWRlVmlld1BvcnQiLCJGSVRfSU5TSURFX1ZJRVdQT1JUIiwicGFnZURpbSIsIndpZHRoWm9vbSIsImhlaWdodFpvb20iLCJyZW5kZXJUYXNrIiwiaW50ZXJydXB0IiwiUmVuZGVyaW5nQ2FuY2VsZWRFcnJvciIsInNpemVJc0dvb2QiLCJyZXNpemVUYXNrIiwic2V0RVBhZ2VDb3VudE1vZGUiLCJJTlRFUkFDVElWRSIsImNvdW50RVBhZ2VzIiwibm90aWZpY2F0aW9uIiwicmVwb3J0UG9zaXRpb24iLCJDT01QTEVURSIsImdldEVQYWdlRnJvbVBvc2l0aW9uIiwibmV4dFNwcmVhZCIsInByZXZpb3VzU3ByZWFkIiwibGFzdFBhZ2UiLCJmaXJzdFBhZ2UiLCJuYXZpZ2F0ZVRvRVBhZ2UiLCJuYXZpZ2F0ZVRvIiwiY3VycmVudFZpc2liaWxpdHkiLCJjaGFuZ2VBdXRvaGlkZSIsImFjdGlvbk5hbWUiLCJjbWQiLCJtYXliZVBhcnNlIiwidmlld2VyIiwiVGFzay5zdGFydCIsImhyZWZFdmVudCIsImludGVybmFsIiwicnVuQ29tbWFuZCIsImZyYW1lSW50ZXJuYWwiLCJhZGFwdF9jb21tYW5kIiwiY29udmVydFZpZXdlck9wdGlvbnMiLCJDb3JlVmlld2VyIiwic2V0dGluZ3MiLCJvcHRfb3B0aW9ucyIsIkNvbnN0YW50cy5zZXREZWJ1ZyIsImFkYXB0Vmlld2VyXyIsIkFkYXB0aXZlVmlld2VyLkFkYXB0aXZlVmlld2VyIiwiZGlzcGF0Y2hlciIsImF1dG9SZXNpemUiLCJwYWdlQm9yZGVyV2lkdGgiLCJBZGFwdGl2ZVZpZXdlci5QYWdlVmlld01vZGUiLCJzZXRPcHRpb25zIiwiZXZlbnRUYXJnZXQiLCJkZWZpbmVQcm9wZXJ0eSIsInNpbmdsZURvY3VtZW50T3B0aW9ucyIsIm9wdF9kb2N1bWVudE9wdGlvbnMiLCJvcHRfdmlld2VyT3B0aW9ucyIsImxvYWREb2N1bWVudE9yUHVibGljYXRpb24iLCJwdWJVcmwiLCJkb2N1bWVudE9wdGlvbnMiLCJjb252ZXJ0U3R5bGVTaGVldEFycmF5IiwiY29udmVydFNpbmdsZURvY3VtZW50T3B0aW9ucyIsImRvY3VtZW50T2JqZWN0IiwiaW5pdGlhbGl6ZWQiLCJpbml0RW1iZWQiLCJOYXZpZ2F0aW9uIiwiUFJFVklPVVMiLCJORVhUIiwib3B0X2VwYWdlIiwiRVBBR0UiLCJyZXNvbHZlTmF2aWdhdGlvbiIsIm9wdF9zaG93Iiwib3B0X2F1dG9oaWRlIiwicXVlcnlab29tRmFjdG9yIiwiZ2V0VE9DIiwiZ2V0TWV0YWRhdGEiLCJ0b051bWJlck9yTnVsbCIsIm9wdCIsImlzQXJyYXkiLCJBZGFwdGl2ZVZpZXdlci5ab29tVHlwZSIsImZvcmNlUmVnaXN0ZXJFbmRUaW1pbmciLCJWaXZsaW9zdHlsZVByaW50IiwiaHRtbERvYyIsInByaW50Q2FsbGJhY2siLCJpZnJhbWVXaW4iLCJoaWRlSWZyYW1lIiwicmVtb3ZlSWZyYW1lIiwiYm9yZGVyV2lkdGgiLCJwcmludEluc3RhbmNlIiwic3JjZG9jIiwicHJlcGFyZVByaW50IiwiYnJvd3NlclByaW50IiwiY2xlYW5VcCIsImRvY0Jsb2IiLCJWaWV3ZXIiLCJsb2FkRG9jdW1lbnQiLCJjb25maWciLCJQUkVTRVRfU0laRSIsImRlc2NyaXB0aW9uIiwiQ09OU1RBTlRTIiwiY3VzdG9tV2lkdGgiLCJjdXN0b21IZWlnaHQiLCJjdXN0b21NYXJnaW4iLCJiYXNlTGluZUhlaWdodCIsImJhc2VGb250RmFtaWx5Iiwidmlld2VyRm9udFNpemUiLCJQYWdlU3R5bGUiLCJwYWdlU3R5bGUiLCJQcmVzZXRTaXplIiwicGFnZVNpemVNb2RlIiwib2JzZXJ2YWJsZSIsIkRlZmF1bHQiLCJwcmVzZXRTaXplIiwiaXNMYW5kc2NhcGUiLCJwYWdlU2l6ZUltcG9ydGFudCIsInBhZ2VNYXJnaW5Nb2RlIiwicGFnZU1hcmdpbkltcG9ydGFudCIsImZpcnN0UGFnZU1hcmdpblplcm8iLCJmaXJzdFBhZ2VNYXJnaW5aZXJvSW1wb3J0YW50IiwiZm9yY2VIdG1sQm9keU1hcmdpblplcm8iLCJ3aWRvd3NPcnBoYW5zIiwid2lkb3dzT3JwaGFuc0ltcG9ydGFudCIsImltYWdlTWF4U2l6ZVRvRml0UGFnZSIsImltYWdlTWF4U2l6ZVRvRml0UGFnZUltcG9ydGFudCIsImltYWdlS2VlcEFzcGVjdFJhdGlvIiwiaW1hZ2VLZWVwQXNwZWN0UmF0aW9JbXBvcnRhbnQiLCJiYXNlRm9udFNpemVTcGVjaWZpZWQiLCJiYXNlRm9udFNpemVJbXBvcnRhbnQiLCJiYXNlTGluZUhlaWdodFNwZWNpZmllZCIsImJhc2VMaW5lSGVpZ2h0SW1wb3J0YW50IiwiYmFzZUZvbnRGYW1pbHlTcGVjaWZpZWQiLCJiYXNlRm9udEZhbWlseUltcG9ydGFudCIsImFsbEltcG9ydGFudCIsInBhZ2VPdGhlclN0eWxlIiwiZmlyc3RQYWdlT3RoZXJTdHlsZSIsInJvb3RPdGhlclN0eWxlIiwiYmVmb3JlT3RoZXJTdHlsZSIsImFmdGVyT3RoZXJTdHlsZSIsInNldFZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSIsInZpZXdlckZvbnRTaXplT2JzZXJ2YWJsZSIsImZvbnRTaXplUHhUb1BlcmNlbnQiLCJ2aWV3ZXJGb250U2l6ZVBlcmNlbnQiLCJwdXJlQ29tcHV0ZWQiLCJwZXJjZW50IiwiZm9udFNpemVQZXJjZW50VG9QeCIsImNzc1RleHQiLCJ0b0NTU1RleHQiLCJmcm9tQ1NTVGV4dCIsInBhZ2VTdHlsZVJlZ0V4cCIsImNlbnQiLCJwcmVjaXNpb24iLCJ0b1ByZWNpc2lvbiIsInNpemVXXyIsInNpemVIXyIsInNpemVJbXBvcnRhbnQiLCJwYWdlT3RoZXJTdHlsZV8iLCJmaXJzdFBhZ2VPdGhlclN0eWxlXyIsImJhc2VGb250U2l6ZV8iLCJiYXNlRm9udEZhbWlseV8iLCJyb290T3RoZXJTdHlsZV8iLCJhZnRlck90aGVyU3R5bGVfIiwic2l6ZVciLCJzaXplSCIsImNvdW50SW1wb3J0YW50IiwiY291bnROb3RJbXBvcnRhbnQiLCJBdXRvIiwiUHJlc2V0IiwiQ3VzdG9tIiwiWmVybyIsImltcCIsImVzY2FwZVVuaWNvZGVDaGFyIiwicGVyY2VudEVuY29kZUFtcGVyc2FuZEFuZFVuZW5jb2RlZFBlcmNlbnQiLCJwZXJjZW50RW5jb2RlQW1wZXJzYW5kQW5kUGVyY2VudCIsInBlcmNlbnREZWNvZGVBbXBlcnNhbmRBbmRQZXJjZW50IiwicGVyY2VudEVuY29kZUZvckRhdGFVUkkiLCJnZXRSZWdFeHBGb3JQYXJhbWV0ZXIiLCJzdHJpbmdVdGlsIiwiZXNjYXBlVW5pY29kZVN0cmluZyIsImhpc3RvcnkiLCJzdG9yZWRVcmwiLCJyZXN1bHRzIiwidXBkYXRlZCIsInJlcGxhY2VTdGF0ZSIsImtlZXBGaXJzdCIsImxhc3RJbmRleCIsIkRvY3VtZW50T3B0aW9ucyIsInVybE9wdGlvbnMiLCJzcmNVcmxzIiwidXJsUGFyYW1ldGVycyIsImdldFBhcmFtZXRlciIsImJVcmxzIiwieFVybHMiLCJib29rTW9kZSIsInVzZXJTdHlsZSIsImdldERvY3VtZW50T3B0aW9uc0Zyb21VUkwiLCJkYXRhVXNlclN0eWxlSW5kZXgiLCJzZXRQYXJhbWV0ZXIiLCJyZW1vdmVQYXJhbWV0ZXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ1cGRhdGVVc2VyU3R5bGVTaGVldEZyb21DU1NUZXh0IiwidXNlclN0eWxlU2hlZXRBcnJheSIsImRhdGFVc2VyU3R5bGUiLCJQYWdlVmlld01vZGVJbnN0YW5jZSIsIkNvcmVQYWdlVmlld01vZGUiLCJab29tT3B0aW9ucyIsIl92aWV3ZXIiLCJGaXhlZFpvb21GYWN0b3IiLCJnZXRDdXJyZW50Wm9vbUZhY3RvciIsIkZpdFRvU2NyZWVuIiwiZ2V0RGVmYXVsdFZhbHVlcyIsImRlZmF1bHRNb2RlIiwiY3JlYXRlRGVmYXVsdE9wdGlvbnMiLCJWaWV3ZXJPcHRpb25zIiwiZm9udFNpemVTdHIiLCJkZW5vbSIsImhhc1BhcmFtZXRlciIsImZyb21TcHJlYWRWaWV3U3RyaW5nIiwiZ2V0Vmlld2VyT3B0aW9uc0Zyb21VUkwiLCJ0b1NwcmVhZFZpZXdTdHJpbmciLCJvYnNlcnZhYmxlQXJyYXkiLCJMb2dnZXIiLCJEZWJ1ZyIsIm1lc3NhZ2VRdWV1ZSIsIkluZm8iLCJXYXJuIiwidXRpbCIsIm9icyIsImdldHRlciIsInZpZXdlclNldHRpbmdzIiwidmlld2VyT3B0aW9ucyIsInZpZXdlck9wdGlvbnNfIiwiZG9jdW1lbnRPcHRpb25zXyIsImNvcmVWaWV3ZXJfIiwidG9PYmplY3QiLCJzdGF0ZV8iLCJyZWFkb25seU9ic2VydmFibGUiLCJuYXZpZ2F0YWJsZSIsInRvY1Bpbm5lZCIsImlucHV0VXJsIiwic2V0dXBWaWV3ZXJFdmVudEhhbmRsZXIiLCJzZXR1cFZpZXdlck9wdGlvblN1YnNjcmlwdGlvbnMiLCJnZXRMb2dnZXIiLCJwYXlsb2FkIiwidG9jVmlzaWJsZU9sZCIsInRvY1Zpc2libGVOZXciLCJuYXZpZ2F0ZVRvSW50ZXJuYWxVcmwiLCJjb21wdXRlZCIsIm5hdmlnYXRlVG9QYWdlIiwiRklSU1QiLCJzaG93biIsImF1dG9IaWRlIiwiS2V5cyIsIlVuaWRlbnRpZmllZCIsIkFycm93RG93biIsIkFycm93TGVmdCIsIkFycm93UmlnaHQiLCJBcnJvd1VwIiwiSG9tZSIsIkVuZCIsIlBhZ2VEb3duIiwiUGFnZVVwIiwiRXNjYXBlIiwiRW50ZXIiLCJTcGFjZSIsImlkZW50aWZ5S2V5RnJvbUV2ZW50Iiwia2V5SWRlbnRpZmllciIsIm1ldGFLZXkiLCJLZXlib2FyZEV2ZW50IiwiRE9NX0tFWV9MT0NBVElPTl9OVU1QQUQiLCJrZXlVdGlsIiwic2V0dGluZ3NQYW5lbCIsIm5hdmlnYXRpb25PcHRpb25zIiwidmlld2VyXyIsInNldHRpbmdzUGFuZWxfIiwianVzdENsaWNrZWQiLCJpc0Rpc2FibGVkIiwib3BlbmVkIiwicGlubmVkIiwibmF2aWdhdGlvbkRpc2FibGVkIiwiZGlzYWJsZVBhZ2VOYXZpZ2F0aW9uIiwicGFnZU51bWJlckVsZW0iLCJpc1BhZ2VOdW1iZXJEaXNhYmxlZCIsImlzTmF2aWdhdGVUb1ByZXZpb3VzRGlzYWJsZWQiLCJpc05hdmlnYXRlVG9OZXh0RGlzYWJsZWQiLCJpc05hdmlnYXRlVG9MZWZ0RGlzYWJsZWQiLCJpc05hdmlnYXRlVG9SaWdodERpc2FibGVkIiwiaXNOYXZpZ2F0ZVRvRmlyc3REaXNhYmxlZCIsImlzTmF2aWdhdGVUb0xhc3REaXNhYmxlZCIsImhpZGVQYWdlTmF2aWdhdGlvbiIsInpvb21EaXNhYmxlZCIsImRpc2FibGVab29tIiwiaXNab29tT3V0RGlzYWJsZWQiLCJpc1pvb21JbkRpc2FibGVkIiwiaXNab29tVG9BY3R1YWxTaXplRGlzYWJsZWQiLCJpc1RvZ2dsZUZpdFRvU2NyZWVuRGlzYWJsZWQiLCJoaWRlWm9vbSIsImZvbnRTaXplQ2hhbmdlRGlzYWJsZWQiLCJkaXNhYmxlRm9udFNpemVDaGFuZ2UiLCJpc0luY3JlYXNlRm9udFNpemVEaXNhYmxlZCIsImlzRGVjcmVhc2VGb250U2l6ZURpc2FibGVkIiwiaXNEZWZhdWx0Rm9udFNpemVEaXNhYmxlZCIsImhpZGVGb250U2l6ZUNoYW5nZSIsImlzVE9DVG9nZ2xlRGlzYWJsZWQiLCJkaXNhYmxlVE9DTmF2aWdhdGlvbiIsImhpZGVUT0NOYXZpZ2F0aW9uIiwiZXBhZ2VUb1BhZ2VOdW1iZXIiLCJwYWdlTnVtYmVyVGV4dCIsImVwYWdlT2xkIiwicGFnZU51bWJlck9sZCIsImVwYWdlTmF2IiwiZXBhZ2VGcm9tUGFnZU51bWJlciIsInRvdGFsUGFnZXMiLCJtZXRob2ROYW1lIiwibmF2aWdhdGVUb1ByZXZpb3VzIiwibmF2aWdhdGVUb05leHQiLCJuYXZpZ2F0ZVRvTGVmdCIsIm5hdmlnYXRlVG9SaWdodCIsIm5hdmlnYXRlVG9GaXJzdCIsIm5hdmlnYXRlVG9MYXN0Iiwiem9vbUluIiwiem9vbU91dCIsInpvb21Ub0FjdHVhbFNpemUiLCJ0b2dnbGVGaXRUb1NjcmVlbiIsInVwZGF0ZUZvbnRTaXplU2V0dGluZ3MiLCJ0b2NCb3giLCJ0b2dnbGVUT0MiLCJpbnRlcnZhbElEIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwiaXNCdXR0b24iLCJpc0V4cGFuZGVkIiwic2V0dGluZ3NUb2dnbGUiLCJob3Jpem9udGFsU2Nyb2xsYWJsZSIsInNjcm9sbFdpZHRoIiwiY2xpZW50V2lkdGgiLCJ2ZXJ0aWNhbFNjcm9sbGFibGUiLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJpc1BhZ2VOdW1iZXJJbnB1dCIsImlzVE9DQWN0aXZlIiwiaW5jcmVhc2VGb250U2l6ZSIsImRlY3JlYXNlRm9udFNpemUiLCJuYXZpZ2F0ZVRPQyIsIlNldHRpbmdzUGFuZWwiLCJtZXNzYWdlRGlhbG9nIiwic2V0dGluZ3NQYW5lbE9wdGlvbnMiLCJpc1BhZ2VTdHlsZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZVBhZ2VTdHlsZUNoYW5nZSIsImlzT3ZlcnJpZGVEb2N1bWVudFN0eWxlU2hlZXREaXNhYmxlZCIsImlzUGFnZVZpZXdNb2RlQ2hhbmdlRGlzYWJsZWQiLCJkaXNhYmxlUGFnZVZpZXdNb2RlQ2hhbmdlIiwiaXNCb29rTW9kZUNoYW5nZURpc2FibGVkIiwiZGlzYWJsZUJvb2tNb2RlQ2hhbmdlIiwiaXNSZW5kZXJBbGxQYWdlc0NoYW5nZURpc2FibGVkIiwiZGlzYWJsZVJlbmRlckFsbFBhZ2VzQ2hhbmdlIiwib2YiLCJkZWZhdWx0UGFnZVN0eWxlIiwiZm9jdXNUb0ZpcnN0SXRlbSIsIm91dGVyRWxlbVBhcmFtIiwib3V0ZXJFbGVtIiwiaW5wdXRFbGVtIiwiaXNTZXR0aW5nc0FjdGl2ZSIsImlzSW5JbnB1dCIsImlzSW5UZXh0QXJlYSIsImlzSG90S2V5RW5hYmxlZCIsIk1lc3NhZ2VEaWFsb2ciLCJlcnJvckluZm8iLCJWaWV3ZXJBcHAiLCJWaXZsaW9zdHlsZSIsImdldEJhc2VVUkwiLCJWaWV3ZXJVSSIsInB1c2hTdGF0ZSIsIm5hdmlnYXRpb24iLCJoYW5kbGVLZXkiLCJrZXlDb2RlIiwiY3RybEtleSIsImFsdEtleSIsInNoaWZ0S2V5Iiwib25oYXNoY2hhbmdlIiwicmVsb2FkIiwic3VwcG9ydFRvdWNoRXZlbnRzIiwiYmluZGluZ0hhbmRsZXJzIiwibWVudUJ1dHRvbiIsInZhbHVlQWNjZXNzb3IiLCJ1bndyYXAiLCJ1dGlscyIsInRvZ2dsZURvbU5vZGVDc3NDbGFzcyIsImdldFNlbGVjdGlvbiIsInJlbW92ZUFsbFJhbmdlcyIsInhTdGFydCIsInlTdGFydCIsImFycm93QnV0dG9uIiwic3dpcGVQYWdlcyIsInRvdWNoZXMiLCJ2aXN1YWxWaWV3cG9ydCIsImNsaWVudFgiLCJjbGllbnRZIiwieERpZmYiLCJ5RGlmZiIsInN0YXJ0Vmlld2VyIiwiYXBwbHlCaW5kaW5ncyIsIm9ubG9hZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OEpBaUNLQTs7Ozs7O1VDM0JrQkMsT0FBT0MsRUFBRUMsT0FBTSxFQUFHQyxNQUFNLFFBQVFDLEVBQUVILEVBQUVJLFNBQVNDLEVBQUVMLEVBQUVNLFVBQVVDLEVBQUVQLEVBQUVRLE9BQU9DLEVBQUVULEVBQUVVLEtBQUtILEdBQUcsb0JBQXFCQyxTQUFTRCxFQUFFQyxpQkFBa0JULEdBQThIQSxFQUFFWSxFQUFPQyxTQUFTQSxLQUFzQixTQUFTQyxFQUFFQyxZQUFZQyxFQUFFQyxFQUFFQyxVQUFVLE9BQU9ELFVBQVVBLEtBQUtFLElBQUVGLElBQUlDLFdBQWNFLEVBQUVDLEVBQUVILE9BQU9JLFNBQVMsV0FBV0EsSUFBSUEsRUFBRUwsRUFBRUEsRUFBRU0sWUFBVyxXQUFXRCxFQUFFdEIsRUFBRXFCLE1BQUtILGNBQWNNLEVBQUVILEVBQUVILE9BQU9JLFNBQVMsV0FBV0csYUFBYUgsR0FDbGhCQSxFQUFFTCxFQUFFQSxFQUFFTSxXQUFXRixFQUFFSCxhQUFhUSxFQUFFVCxFQUFFQyxHQUFHQSxHQUFHLFdBQVdBLEVBQUUsaUJBQWlCQSxFQUFFaEIsS0FBS3lCLEdBQUdWLEdBQUdmLEtBQUswQixHQUFHWCxFQUFFQyxHQUFHaEIsS0FBSzJCLEdBQUdaLFlBQVlhLEVBQUdiLEVBQUVDLFVBQVVBLEdBQUdBLEVBQUVhLEdBQUdiLEVBQUVhLGFBQWFDLEVBQUdmLEVBQUVDLE9BQU9JLEVBQUVwQixLQUFLK0IsR0FBR0MsRUFBRVosRUFBRWEsR0FBR0QsRUFBRUUs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QUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzRDLEtBQ1A1QyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU82QyxLQUNQN0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzJDLFFBQ1AzQyxHQUFPOEMsUUFDUDlDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFFBQ1AzQyxHQUFPMkMsUUFDUDNDLEdBQU8yQyxRQUNQM0MsR0FBTzJDLFNBR1RELEdBQWdCckMsSUFBSUwsR0FBTzJDLFFBS3BCLE1BQU1JLEdBQThCLENBQ3pDL0MsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT2dELFFBQ1BoRCxHQUFPaUQsTUFDUGpELEdBQU9PLFFBQ1BQLEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT2lELE1BQ1BqRCxHQUFPaUQsTUFDUGpELEdBQU9pRCxNQUNQakQsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9PLFFBQ1BQLEdBQU9rRCxPQUNQbEQsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT2dELFFBQ1BoRCxHQUFPTyxRQUNQUCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT2dELFFBQ1BoRCxHQUFPZ0QsUUFDUGhELEdBQU9nRCxRQUNQaEQsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sUUFDUFAsR0FBT08sU0FHVG1DLEdBQWdCckMsSUFBSUwsR0FBTzJDLFFBS3BCLE1BQU1RLEdBQXlCLENBQ3BDbkQsR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT29ELE9BQ1BwRCxHQUFPaUQsTUFDUGpELEdBQU9NLElBQ1BOLEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT3FELE1BQ1ByRCxHQUFPcUQsTUFDUHJELEdBQU9xRCxNQUNQckQsR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9NLElBQ1BOLEdBQU9rRCxPQUNQbEQsR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT3NELFFBQ1B0RCxHQUFPTSxJQUNQTixHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT3NELFFBQ1B0RCxHQUFPc0QsUUFDUHRELEdBQU9zRCxRQUNQdEQsR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sSUFDUE4sR0FBT00sS0FHVDZDLEdBQWdCOUMsSUFBSUwsR0FBT00sSUFLcEIsTUFBTWlELEdBQTRCLENBQ3ZDdkQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3lELFFBQ1B6RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU95RCxRQUNQekQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPMEQsT0FDUDFELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPd0QsUUFDUHhELEdBQU84QyxRQUNQOUMsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU82QyxLQUNQN0MsR0FBT3dELFFBQ1B4RCxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBT3dELFFBQ1B4RCxHQUFPd0QsUUFDUHhELEdBQU93RCxRQUNQeEQsR0FBT3dELFFBQ1B4RCxHQUFPd0QsU0FHVEQsR0FBbUJsRCxJQUFJTCxHQUFPd0QsUUFLdkIsTUFBTUcsR0FBdUIsQ0FDbEMzRCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU82RCxPQUNQN0QsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU84RCxPQUNQOUQsR0FBTzRELE9BQ1A1RCxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTytELEtBQ1AvRCxHQUFPNEQsT0FDUDVELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPNEQsT0FDUDVELEdBQU80RCxPQUNQNUQsR0FBTzRELE9BQ1A1RCxHQUFPNEQsT0FDUDVELEdBQU80RCxRQUdURCxHQUFjdEQsSUFBSUwsR0FBTzRELE9BS2xCLE1BQU1JLEdBQTBCLENBQ3JDaEUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPNkQsT0FDUDdELEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPNkMsS0FDUDdDLEdBQU82QyxLQUNQN0MsR0FBTzZDLEtBQ1A3QyxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQL0QsR0FBTytELEtBQ1AvRCxHQUFPaUUsT0FDUGpFLEdBQU9pRSxPQUNQakUsR0FBT2lFLE9BQ1BqRSxHQUFPaUUsT0FDUGpFLEdBQU8rRCxLQUNQL0QsR0FBT2lFLE9BQ1BqRSxHQUFPK0QsS0FDUC9ELEdBQU8rRCxLQUNQ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SUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsS0FFRkMsU0FBVSxDQUNSLE1BQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxLQUVGQyxPQUFRLENBQ04sSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsSUFDQSxJQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsS0FDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsTUFJU2hDLEdBQXNCLENBQ2pD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
